{"version":3,"sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/magic-icon.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messages.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/cancellation.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/linkedMap.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/pipeSupport.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/socketSupport.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","webpack:///./node_modules/monaco-languageclient/lib/services.js","webpack:///./node_modules/vscode-jsonrpc/lib/main.js","webpack:///./node_modules/vscode-jsonrpc/lib/messages.js","webpack:///./node_modules/vscode-jsonrpc/lib/cancellation.js","webpack:///./node_modules/vscode-jsonrpc/lib/linkedMap.js","webpack:///./node_modules/vscode-jsonrpc/lib/pipeSupport.js","webpack:///./node_modules/vscode-jsonrpc/lib/socketSupport.js","webpack:///./node_modules/yaml-ast-parser/dist/src/loader.js","webpack:///./node_modules/yaml-ast-parser/dist/src/mark.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema/core.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema/json.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema/failsafe.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/str.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/seq.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/map.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/null.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/bool.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/int.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/float.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/timestamp.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/merge.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/binary.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/omap.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/pairs.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/set.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/js/undefined.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type/js/regexp.js","webpack:///./node_modules/yaml-ast-parser/dist/src/dumper.js","webpack:///./node_modules/yaml-ast-parser/dist/src/scalarInference.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/yamlLanguageService.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlSchemaService.js","webpack:///./node_modules/jsonc-parser/lib/esm/impl/edit.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/strings.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/loader.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/mark.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema/core.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema/json.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema/failsafe.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/str.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/seq.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/map.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/null.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/bool.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/int.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/float.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/timestamp.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/merge.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/binary.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/omap.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/pairs.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/set.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/js/undefined.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type/js/regexp.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/dumper.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/scalarInference.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/objects.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonCompletion.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/utils/json.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonHover.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonValidation.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonDocumentSymbols.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/utils/colors.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/configuration.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonFolding.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonSelectionRanges.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonLinks.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/parseUtils.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/parser/recursivelyBuildAst.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/parser/scalar-type.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/documentPositionCalculator.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/documentSymbols.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonDocumentSymbols.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/utils/colors.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlCompletion.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonCompletion.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/utils/json.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/json.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/indentationGuesser.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/textBuffer.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlHover.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonHover.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlValidation.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonValidation.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlFormatter.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/services/yamlLinks.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonLinks.js","webpack:///./node_modules/vscode-json-languageservice/node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/yaml-ast-parser/dist/src/type.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/type.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/jsonLanguageTypes.js","webpack:///./node_modules/jsonc-parser/lib/esm/main.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/main.js","webpack:///./node_modules/vscode-json-languageservice/node_modules/vscode-nls/lib/browser/main.js","webpack:///./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/yaml-ast-parser/dist/src/common.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/jsonLanguageTypes.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/parser/yamlParser07.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/common.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_Color_dark_100.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_dark_200.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_dark_100.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_Color_light_100.js","webpack:///./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_200.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/is.js","webpack:///./node_modules/vscode-jsonrpc/lib/is.js","webpack:///./node_modules/yaml-ast-parser/dist/src/exception.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/exception.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/parser/jsonParser.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/events.js","webpack:///./node_modules/vscode-jsonrpc/lib/events.js","webpack:///./node_modules/yaml-ast-parser/dist/src/yamlAST.js","webpack:///./node_modules/vscode-uri/lib/esm/index.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/parser/jsonParser.js","webpack:///./node_modules/vscode-nls/lib/main.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/yamlAST.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/main.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messageReader.js","webpack:///./node_modules/vscode-languageserver-protocol/node_modules/vscode-jsonrpc/lib/messageWriter.js","webpack:///./node_modules/vscode-jsonrpc/lib/messageReader.js","webpack:///./node_modules/vscode-jsonrpc/lib/messageWriter.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema/default_safe.js","webpack:///./node_modules/jsonc-parser/lib/esm/impl/scanner.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/utils/strings.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/utils/objects.js","webpack:///./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema/default_safe.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/parser/jsonParser07.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/jsonLanguageService.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/utils/objects.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/utils/strings.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/utils/arrUtils.js","webpack:///./node_modules/monaco-languageclient/lib/monaco-converter.js","webpack:///./node_modules/os-browserify/browser.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/utils/is.js","webpack:///./node_modules/yaml-ast-parser/dist/src/index.js","webpack:///./node_modules/yaml-ast-parser/dist/src/schema/default_full.js","webpack:///./node_modules/yaml-language-server/out/server/src/index.js","webpack:///./node_modules/vscode-json-languageservice/lib/umd/services/jsonSchemaService.js","webpack:///./node_modules/jsonc-parser/lib/esm/impl/format.js","webpack:///./node_modules/jsonc-parser/lib/esm/impl/parser.js","webpack:///./node_modules/vscode-json-languageservice/node_modules/vscode-nls/lib/common/ral.js","webpack:///./node_modules/vscode-json-languageservice/node_modules/vscode-nls/lib/common/common.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/index.js","webpack:///./node_modules/yaml-language-server-parser/dist/src/schema/default_full.js","webpack:///./node_modules/vscode-json-languageservice/lib/esm/services/jsonSchemaService.js","webpack:///./node_modules/yaml-language-server/out/server/src/languageservice/parser/isKubernetes.js"],"names":["MagicIcon","name","height","width","svgPath","yOffset","xOffset","Object","defineProperty","exports","value","is","ErrorCodes","ParseError","InvalidRequest","MethodNotFound","InvalidParams","InternalError","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","MessageWriteError","MessageReadError","ResponseError","Error","code","message","data","super","this","number","setPrototypeOf","prototype","AbstractMessageType","_method","_numberOfParams","RequestType0","method","_","undefined","RequestType","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","isRequestMessage","candidate","string","id","isNotificationMessage","isResponseMessage","result","error","events_1","Is","CancellationToken","None","freeze","isCancellationRequested","onCancellationRequested","Event","Cancelled","boolean","shortcutEvent","callback","context","handle","setTimeout","bind","clearTimeout","MutableToken","_isCancelled","_emitter","fire","Emitter","event","CancellationTokenSource","_token","cancel","Touch","First","Last","LinkedMap","_map","Map","_head","_tail","_size","clear","key","has","item","get","touch","next","previous","addItemLast","addItemFirst","set","delete","removeItem","callbackfn","thisArg","current","push","path_1","os_1","crypto_1","net_1","messageReader_1","messageWriter_1","generateRandomPipeName","randomSuffix","randomBytes","toString","process","platform","join","tmpdir","createClientPipeTransport","pipeName","encoding","connectResolve","connected","Promise","resolve","_reject","reject","server","createServer","socket","close","SocketMessageReader","SocketMessageWriter","on","listen","removeListener","onConnected","createServerPipeTransport","createConnection","createClientSocketTransport","port","createServerSocketTransport","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","Diagnostic","Command","TextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","create","line","character","objectLiteral","one","two","three","four","start","end","uri","range","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","label","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","kind","location","Warning","Information","Hint","severity","source","relatedInformation","title","command","args","_i","arguments","length","replace","newText","insert","position","del","textDocument","edits","VersionedTextDocumentIdentifier","Array","isArray","options","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","every","change","TextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolInformation","TextEditChangeImpl","add","edit","all","splice","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","forEach","textEditChange","keys","enumerable","configurable","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","version","languageId","text","PlainText","Markdown","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","String","Number","Boolean","Key","Null","containerName","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentSymbol","detail","selectionRange","children","deprecated","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","diagnostics","only","commandOrEdit","tabSize","insertSpaces","DocumentLink","target","TextDocument","TextDocumentSaveReason","EOL","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","mergeSort","compare","p","left","slice","right","leftIdx","rightIdx","i","ret","a","b","diff","lastModifiedOffset","e","startOffset","endOffset","substring","Manual","AfterDelay","FocusOut","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","Math","max","min","low","high","mid","floor","lineOffset","nextLineOffset","call","check","vscode_jsonrpc_1","protocol_implementation_1","ImplementationRequest","protocol_typeDefinition_1","TypeDefinitionRequest","protocol_workspaceFolders_1","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","protocol_configuration_1","ConfigurationRequest","protocol_colorProvider_1","DocumentColorRequest","ColorPresentationRequest","protocol_foldingRange_1","FoldingRangeRequest","protocol_declaration_1","DeclarationRequest","DocumentFilter","scheme","pattern","RegistrationRequest","type","UnregistrationRequest","ResourceOperationKind","Create","Rename","Delete","FailureHandlingKind","Abort","Transactional","TextOnlyTransactional","Undo","TextDocumentSyncKind","Full","Incremental","InitializeRequest","InitializeError","unknownProtocolVersion","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","MessageType","Info","Log","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","DidOpenTextDocumentNotification","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidChangeWatchedFilesNotification","FileChangeType","Created","Changed","Deleted","WatchKind","Change","PublishDiagnosticsNotification","CompletionTriggerKind","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","WorkspaceSymbolRequest","CodeActionRequest","CodeLensRequest","CodeLensResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentOnTypeFormattingRequest","RenameRequest","PrepareRenameRequest","DocumentLinkRequest","DocumentLinkResolveRequest","ExecuteCommandRequest","ApplyWorkspaceEditRequest","vscode_languageserver_protocol_1","Disposable","m","hasOwnProperty","__export","Services","global","window","symbol","Symbol","services","install","console","isDocumentSelector","selector","SignatureHelpTriggerKind","VsCodeDiagnosticSeverity","DocumentIdentifier","arg","ConfigurationTarget","messages_1","MessageReader","StreamMessageReader","IPCMessageReader","MessageWriter","StreamMessageWriter","IPCMessageWriter","cancellation_1","linkedMap_1","CancelNotification","ProgressNotification","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionState","ProgressType","NullLogger","warn","info","log","fromString","Off","toLowerCase","Messages","Verbose","JSON","ConnectionError","_createMessageConnection","messageReader","messageWriter","logger","strategy","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","timer","tracer","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","queue","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","traceSendingResponse","write","replyError","params","stringify","logLSPMessage","traceReceivedRequest","requestHandler","element","handler","Date","now","cancellationSource","tokenKey","handlerResult","numberOfParams","token","array","promise","then","replySuccess","handleRequest","notificationHandler","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","response","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","connection","sendNotification","messageParams","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","dispose","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","map","traceSendingRequest","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","ConnectionStrategy","createMessageConnection","input","output","read","isMessageWriter","ContentModified","ast","common","YAMLException","Mark","DEFAULT_SAFE_SCHEMA","DEFAULT_FULL_SCHEMA","_hasOwnProperty","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","is_EOL","c","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","escapedHexLen","fromDecimalCode","charFromCodepoint","fromCharCode","simpleEscapeCheck","simpleEscapeMap","customEscapeCheck","customEscapeMap","State","errorMap","errors","lines","filename","schema","onWarning","legacy","allowAnyEscape","ignoreDuplicateKeys","implicitTypes","compiledImplicit","typeMap","compiledTypeMap","lineStart","lineIndent","documents","generateError","isWarning","throwErrorFromPosition","toLineEnd","positionToLine","hash","mark","throwError","or","throwWarning","directiveHandlers","YAML","match","major","minor","exec","parseInt","checkLineBreaks","TAG","prefix","test","tagMap","captureSegment","checkJson","_position","_length","_character","_result","scalar","startPosition","charCodeAt","endPosition","storeMappingPair","keyTag","keyNode","valueNode","parent","mappings","Kind","MAP","mapping","newMapping","sibling","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","count","repeat","readBlockSequence","nodeIndent","_line","_tag","tag","_anchor","anchor","newItems","detected","anchorId","anchorMap","composeNode","readTagProperty","tagHandle","tagName","isVerbatim","isNamed","readAnchorProperty","parentIndent","nodeContext","allowToSeek","allowCompact","allowBlockStyles","allowBlockScalars","allowBlockCollections","typeIndex","typeQuantity","flowIndent","blockIndent","indentStatus","atNewLine","hasContent","tagStart","following","newMap","atExplicitKey","readBlockMapping","terminator","isPair","isExplicitPair","isMapping","readNext","mp","readFlowCollection","captureStart","folding","tmp","chomping","detectedIndent","textIndent","emptyLines","atMoreIndented","sc","newScalar","rawValue","readBlockScalar","captureEnd","singleQuoted","readSingleQuotedScalar","hexLength","hexResult","doubleQuoted","readDoubleQuotedScalar","alias","newAnchorRef","readAlias","withinFlowCollection","hasPendingContent","_lineStart","_lineIndent","_kind","state_result","plainScalar","readPlainScalar","INCLUDE_REF","vl","valueObject","construct","readDocument","directiveName","directiveArgs","documentStart","hasDirectives","loadDocuments","inputLength","q","docsCount","documents_1","x","loadAll","iterator","index","load","safeLoadAll","extend","safeLoad","module","buffer","column","getSnippet","indent","maxLength","head","tail","snippet","indexOf","compact","where","schema_1","Schema","include","implicit","explicit","type_1","Type","predicate","object","represent","canonical","lowercase","uppercase","camelcase","defaultStyle","isOctCode","isDecCode","hasDigits","base","sign","digits","split","v","unshift","d","isNegativeZero","binary","octal","decimal","hexadecimal","toUpperCase","styleAliases","YAML_FLOAT_PATTERN","RegExp","POSITIVE_INFINITY","NEGATIVE_INFINITY","NaN","parseFloat","style","isNaN","YAML_TIMESTAMP_REGEXP","year","month","day","hour","minute","second","date","fraction","delta","UTC","setTime","getTime","instanceOf","toISOString","NodeBuffer","Buffer","BASE64_MAP","idx","bitlen","tailbits","bits","isBuffer","_toString","pair","pairKey","pairHasKey","objectKeys","SEQ","pairSeq","regexp","modifiers","multiline","ignoreCase","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","skipInvalid","flowLevel","isNothing","styleMap","compileStyleMap","explicitTypes","compiledExplicit","duplicates","usedDuplicates","indentString","spaces","ind","generateNextLine","level","StringBuilder","checkpoint","writeScalar","simple","first","folded","literal","single","double","sawLineFeed","linePosition","longestLine","escapeSeq","hexEsc","lineLength","modifier","trailingLineBreaks","simpleChar","needsHexEscape","takeUpTo","escapeChar","str","testImplicitResolving","dump","newLine","trailing","foldLine","fold","finish","foldEnd","foldRe","prevMatch","foldStart","detectType","typeList","writeNode","block","duplicateIndex","duplicate","objectOrArray","objectKey","objectValue","explicitPair","pairBuffer","objectKeyList","writeBlockMapping","writeFlowMapping","writeBlockSequence","writeFlowSequence","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","er","esc","encodeHex","safeDump","ScalarType","parseYamlBoolean","lastIndexOf","parseYamlInteger","safeParseYamlInteger","parseYamlFloat","Infinity","determineScalarType","node","null","bool","int","float","yamlSchemaService_1","documentSymbols_1","yamlCompletion_1","yamlHover_1","yamlValidation_1","yamlFormatter_1","yamlLinks_1","getLanguageService","schemaRequestService","workspaceContext","schemaService","YAMLSchemaService","completer","YAMLCompletion","hover","YAMLHover","yamlDocumentSymbols","YAMLDocumentSymbols","yamlValidation","YAMLValidation","formatter","YAMLFormatter","configure","settings","clearExternalSchemas","schemas","registerExternalSchema","fileMatch","customTagsSetting","registerCustomSchemaProvider","schemaProvider","findDefinition","findLinks","doComplete","doValidation","doHover","findDocumentSymbols","findDocumentSymbols2","findHierarchicalDocumentSymbols","resetSchema","onResourceChange","doFormat","format","addSchema","schemaID","saveSchema","deleteSchema","modifySchemaContent","schemaAdditions","addContent","deleteSchemaContent","schemaDeletions","deleteContent","__awaiter","_arguments","P","generator","fulfilled","step","rejected","done","apply","jsonSchemaService_1","vscode_uri_1","nls","strings_1","yamlParser07_1","yaml","localize","loadMessageBundle","MODIFICATION_ACTIONS","FilePatternAssociation","patternRegExp","convertSimple2RegExpPattern","fileName","JSONSchemaService","requestService","contextService","promiseConstructor","customSchemaProvider","schemaToResolve","schemaURL","dependencies","resolveErrors","merge","sourceRoot","sourceURI","path","section","substr","some","part","findSection","resolveExternalLink","linkPath","parentSchemaURL","parentSchemaDependencies","resolveRelativePath","normalizeId","referencedHandle","getOrAddSchemaHandle","getUnresolvedSchema","unresolvedSchema","loc","url","resolveRefs","parentSchema","toWalk","seen","openPromises","handleRef","seenRefs","$ref","ref","segments","entries","entry","collectEntries","additionalProperties","not","contains","propertyNames","if","else","maps","collectMapEntries","definitions","properties","patternProperties","arrays","collectArrayEntries","anyOf","allOf","oneOf","schemaSequence","pop","ResolvedSchema","resource","doc","resolveSchema","schemaFromModeline","getSchemaFromModeline","filePatternAssociations","matchesPattern","schemaId","getURIs","normalizedResourceID","schemasById","schemaHandle","createCombinedSchema","getResolvedSchema","currentDocIndex","schemaUri","resolveCustomSchema","schemaObj","SingleYAMLDocument","yamlLanguageServerModeline","lineComments","find","lineComment","matchModeline","schemaMatchs","loadSchema","resolveSchemaContent","schemaContent","additions","resolvedSchemaLocation","resolveJSONSchemaToSection","deletions","paths","splitPathway","resolveNext","URI","parse","unresolvedSchemaContent","unresolvedJsonSchema","errorMessage","toDisplayString","UnresolvedSchema","yamlError","errorSplit","filePatterns","schemaContributions","setSchemaContributions","filter","getRegisteredSchemaIds","fsPath","setProperty","originalPath","_a","root","lastSegment","existing","propertyIndex","removeBegin","removeEnd","withFormatting","newProperty","getInsertionIndex","insertIndex","removalIndex","toRemove","isArrayInsertion","toModify","formattingOptions","applyEdit","begin","edit_1","startsWith","haystack","needle","endsWith","convertSimple2RegExp","flag","convertRegexString2RegExp","convertGlobalPattern2RegExp","isNodesEqual","additionalKinds","equals","other","oneKeys","sort","otherKeys","isNumber","val","isDefined","isBoolean","isString","JSONCompletion","contributions","clientCapabilities","doResolve","resolveCompletion","resolver","getNodeFromOffset","isInComment","overwriteRange","currentWord","getCurrentWord","overwriteStart","proposed","collector","suggestion","shortendedLabel","trim","insertText","setAsIncomplete","getNumberOfProposals","getSchemaForResource","collectionPromises","addValue","currentKey","currentProperty","separatorAfter_1","evaluateSeparatorAfter","getPropertyCompletions","getSchemaLessPropertyCompletions","location_1","contribution","collectPromise","collectPropertyCompletions","getLabelForValue","getInsertTextForProperty","insertTextFormat","types","getValueCompletions","getSchemaLessValueCompletions","getContributedValueCompletions","offsetForSeparator","separatorAfter","addFillerValueCompletions","getMatchingSchemas","s","inverted","schemaProperties_1","propertySchema","deprecationMessage","doNotSuggest","proposal","filterText","getFilterTextForValue","fromMarkup","markdownDescription","description","suggestSortText","sortText","schemaPropertyNames_1","propertyNameCompletionItem","enumDescription","enum","markdownEnumDescriptions","enumDescriptions","const","collectCompletionsForSimilarObject","obj","getInsertTextForValue","parentKey_1","visit","n","getSuggestionKind","collectSuggestionsForValues","getLabelTextForMatchingNode","getInsertTextForMatchingNode","addBooleanValueCompletion","colonOffset","parentKey_2","addDollarSchemaCompletions","parentKey_3","parentKey","valueNode_1","matchingSchemas_1","findItemAtOffset","addSchemaValueCompletions","propertyMatched","_b","addNullValueCompletion","parentKey_4","location_2","collectValueCompletions","collectDefaultCompletions","addEnumValueCompletions","addDefaultValueCompletions","collectTypes","arrayDepth","hasProposals","default","examples","example","defaultSnippets","body","getInsertTextForSnippetValue","getFilterTextForSnippetValue","getLabelForSnippetValue","bodyText","suffix","enm","doesSupportMarkdown","t","getInsertTextForGuessedValue","getInsertTextForPlainText","snippetValue","propertyText","resultText","nValueProposals","scanner","setPosition","scan","child","getTokenOffset","getTokenLength","markupString","supportsMarkdown","completion","completionItem","documentationFormat","doesSupportsCommitCharacters","supportsCommitCharacters","commitCharactersSupport","stringifyObject","stringifyLiteral","newIndent","JSONHover","hoverRangeNode","hoverRange","createHover","getInfoContribution","htmlContent","matchingSchemas","title_1","markdownDescription_1","markdownEnumValueDescription_1","enumValue_1","toMarkdown","toMarkdownCodeBlock","plain","JSONValidation","jsonSchemaService","validationEnabled","raw","validate","commentSeverity","jsonDocument","documentSettings","added","addProblem","problem","signature","getDiagnostics","trailingCommaSeverity","toDiagnosticSeverity","trailingCommas","comments","schemaValidation","schemaRequest","astRoot","property","SchemaResolveError","semanticErrors","schemaAllowsComments","schemaRef","allow","schemaAllowsTrailingCommas","allowTrailingCommas","deprSchemaRef","syntaxErrors","TrailingComma","message_1","CommentNotPermitted","idCounter","resolvedSchema","severityLevel","JSONDocumentSymbols","resultLimit","MAX_VALUE","limit","resourceString","result_1","_c","getRange","onResultLimitExceeded","toVisit","nextToVisit","limitExceeded","collectOutlineEntries","childContainerName","getKeyLabel","getSymbolKind","result_2","nodeType","findDocumentColors","visitedNode","nodeId","getColorPresentations","red256","round","green256","blue256","toTwoDigitHex","r","hexDigit","charCode","colorFromHex","schemaAssociations","descriptions","$schema","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","minLength","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","$id","$comment","readOnly","contentMediaType","contentEncoding","schemaName","propertyObject","getFoldingRanges","ranges","nestingLevels","stack","prevStart","addRange","getTokenError","Comment","Region","rangeLimit","onRangeLimitExceeded","counts","nestingLevels_1","maxLevel","getSelectionRanges","positions","newRange","getOffsetAfterNextToken","expectedToken","cStart","cEnd","afterCommaOffset","links","targetNode","tokens","unescape","parseJSONPointer","findNode","pointer","propertyNode","arrayItem","findTargetNode","targetPos","createRange","js_yaml_1","arrUtils_1","exceptionToDiagnostic","reason","isDuplicateAndNotMergeKey","yamlText","errorStart","errorEnd","DUPLICATE_KEY_REASON","formatErrors","exceptions","formatWarnings","customTagsToAdditionalOptions","customTags","filteredTags","filterInvalidCustomTags","schemaWithAdditionalTags","typeInfo","tagWithAdditionalItems","tagType","concat","additionalTagKinds","newTagType","jsonParser07_1","Yaml","scalar_type_1","recursivelyBuildAst","instance","ObjectASTNodeImpl","MAPPING","PropertyASTNodeImpl","StringASTNodeImpl","NullASTNodeImpl","ArrayASTNodeImpl","itemNode","SCALAR","possibleBooleanValues","BooleanASTNodeImpl","NumberASTNodeImpl","isInteger","ANCHOR_REF","vscode_languageserver_types_1","insertionPointReturnValue","pt","binarySearch","sought","lower","upper","getLineStartPositions","lineStartPositions","getPosition","pos","jsonDocumentSymbols_1","jsonDocumentSymbols","origKeyLabel","results","yamlDoc","Parser","Strings","colors_1","jsonLanguageTypes_1","getNodeValue","colorFrom256RGB","jsonCompletion_1","json_1","indentationGuesser_1","textBuffer_1","isKubernetes_1","languageSettings","configuredIndentation","indentation","isKubernetes","completionHelper","guessIndentation","TextBuffer","setKubernetesParserOption","currentDoc","matchOffsetToDocument","getNodeFromOffsetEndInclusive","nodeStartPos","nodeEndPos","getCustomTagValueCompletions","newSchema","collectDefaultSnippets","newLineFirst","indentFirstObject","shouldIndentWithTab","schemaProperties","identCompensation","sourceText","indexOfSlash","nodeParent","prop","currNode","getInsertTextForObject","trimLeft","validTag","addCustomTagValueCompletion","fixedObj","depth","getInsertTemplateForValue","convertToStringValue","navOrder","arrValue","valueTemplate","arrayInsertResult","getInsertTextForArray","objectInsertResult","trimRight","ident","textDocumentPosition","linePos","textLine","trimmedText","newPosition","isNumberExp","Json","objects_1","getNodePath","createScanner","preprendToObject","consecutiveArrays","newObj","pseudoObj","SpacesDiffResult","spacesDiff","looksLikeAlignment","aLength","bLength","aSpacesCnt","aTabsCount","j","bSpacesCnt","bTabsCount","tabsDiff","abs","defaultTabSize","defaultInsertSpaces","linesCount","getLineCount","linesIndentedWithTabsCount","linesIndentedWithSpacesCount","previousLineText","previousLineIndentation","ALLOWED_TAB_SIZE_GUESSES","spacesDiffCount","lineNumber","currentLineLength","getLineLength","currentLineText","getLineContent","useCurrentLineText","currentLineHasContent","currentLineIndentation","currentLineSpacesCount","currentLineTabsCount","lenJ","getLineCharCode","currentSpacesDiff","tabSizeScore","possibleTabSize","possibleTabSizeScore","jsonHover_1","shouldHover","jsonHover","jsonValidation_1","yamlDiagToLSDiag","yamlDiag","YAML_SOURCE","MATCHES_MULTIPLE","jsonValidation","yamlDocument","validationResult","currentYAMLDoc","validation","syd","warnings","foundSignatures","Set","duplicateMessagesRemoved","err","errSig","ErrorCode","prettier","parser","formatterEnabled","shouldFormat","prettierOptions","plugins","tabWidth","singleQuote","bracketSpacing","proseWrap","printWidth","formatted","jsonLinks_1","linkPromises","yamlLinkArray","DiagnosticTag","DiagnosticCode","Unnecessary","Deprecated","CompletionItemTag","InsertReplaceEdit","SymbolTag","SelectionRange","tags","Empty","SourceFixAll","isPreferred","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","ClientCapabilities","LATEST","getLocation","parseTree","findNodeAtLocation","findNodeAtOffset","stripComments","printParseErrorCode","documentText","modify","__spreadArrays","il","k","jl","config","ral_1","common_1","common_2","_file","setPseudo","locale","MessageFormat","BundleFormat","subject","isObject","toArray","sequence","sourceKeys","cycle","vscode_languageserver_textdocument_1","parseUtils_1","recursivelyBuildAst_1","documentPositionCalculator_1","vscode_json_languageservice_1","JSONDocument","YAMLDocument","additionalOptions","yamlNodes","startPositions","yamlDocs","yamlNode","_doc","Undefined","nodeToSingleDoc","yamlDocCount","firstSeparatorFound","parseLineComments","__esModule","global_BackgroundColor_light_100","global_Color_dark_100","global_BackgroundColor_dark_200","global_BackgroundColor_dark_100","global_Color_light_100","global_BackgroundColor_200","stringArray","elem","isInstance","getClassIdentifier","CLASS_IDENTIFIER","compileList","exclude","includedSchema","currentType","previousType","previousIndex","definition","loadKind","collectType","compileMap","DEFAULT","currentIdentifier","extendStatics","EnumMatch","__extends","__proto__","__","constructor","formats","ASTNodeImpl","_super","boolValue","asSchema","SchemaCollector","focusOffset","newSub","NoOpSchemaCollector","ValidationResult","problems","propertiesMatches","propertiesValueMatches","primaryValueMatches","enumValueMatch","enumValues","hasProblems","mergeAll","validationResults","validationResults_1","mergeEnumValues","EnumValueMismatch","mergePropertyMatch","propertyValidationResult","newJSONDocument","includeRightBound","visitor","doVisit_1","ctn","seenKeys","unprocessedProperties","propertyName","propertyProcessed","_d","_e","_f","_g","propertyPattern","regex","_h","_j","_k","unprocessedProperties_1","_l","unprocessedProperties_2","_m","_o","propertyDep","_p","propertyDep_1","requiredProp","_q","_r","f","_validateObjectNode","subSchemas","subSchema","itemValidationResult","itemSchema","containsSchema","values_1","_validateArrayNode","patternErrorMessage","_validateStringNode","normalizeFloats","parts","multiplier","remainder","normMultipleOf","normValue","pow","getExclusiveLimit","exclusive","getLimit","_validateNumberNode","matchesType","subSchemaRef","notSchema","subValidationResult","subMatchingSchemas","ms","testAlternatives","alternatives","maxOneMatch","matches","bestMatch","alternatives_1","compareResult","testBranch","ifSchema","thenSchema","elseSchema","testCondition","_validateNode","lastProblemOffset","commentRanges","collectComments","_scanNext","token_1","_checkScanError","_errorAtRange","_error","skipUntilAfter","skipUntil","_finalize","token_2","getToken","InvalidUnicode","InvalidEscapeCharacter","UnexpectedEndOfNumber","UnexpectedEndOfComment","UnexpectedEndOfString","InvalidCharacter","scanNext","keyPlaceholder","_parseProperty","keysSeen","_parseString","getTokenValue","DuplicateKey","ColonExpected","_parseValue","ValueExpected","needsComma","commaOffset","CommaExpected","CommaOrCloseBacketExpected","_parseArray","PropertyExpected","CommaOrCloseBraceExpected","_parseObject","tokenValue","numberValue","_parseNumber","_parseLiteral","_root","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","callbacks","contexts","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","isEmpty","_noop","onLastListenerRemove","invoke","referencesAnchor","newSeq","isWindows","navigator","userAgent","_schemePattern","_singleSlashStart","_doubleSlashStart","_slash","_regexp","schemeOrData","authority","query","fragment","_strict","_schemeFix","_referenceResolution","_validateUri","isUri","thing","with","uriToFsPath","_URI","percentDecode","file","from","components","skipEncoding","_asFormatted","toJSON","revive","_formatted","external","_fsPath","_sep","_pathSepMarker","res","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","encodeURIComponent","escaped","encodeURIComponentMinimal","keepDriveLetterCasing","encoder","userinfo","_rEncodedAsHex","decodeURIComponentGraceful","decodeURIComponent","LocalizeInfo","resolvedBundles","isPseudo","fs","readJsonFileSync","readFileSync","rest","replacement","createScopedLocalizeFunction","messages","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","header","bundlePath","cacheRoot","useMemoryOnly","writeBundle","utimes","SyntaxError","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","metaData","module_2","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadDefaultNlsBundle","folder","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","existsSync","findInTheBoxBundle","ext","extname","messageFormat","both","headerFile","dirname","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","resolveLanguage","comment","env","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","initializeSettings","opts","bundleFormat","standalone","aSeq","bSeq","aMap","bMap","mapA","keyA","valA","mapB","bAsMapping","createProtocolConnection","reader","writer","CR","LF","MessageBuffer","allocUnsafe","chunk","toAppend","bufferLen","byteLength","copy","newSize","ceil","nextStart","onPartialMessage","AbstractMessageReader","partialMessageEmitter","asError","readable","_partialMessageTimeout","timeout","nextMessageLength","messageToken","partialMessageTimer","onData","fireError","fireClose","append","headers","tryReadHeaders","contentLength","msg","tryReadContent","setPartialMessageTimer","clearPartialMessageTimer","firePartialMessage","waitingTime","eventEmitter","AbstractMessageWriter","writable","errorCount","sending","doWriteMessage","send","handleError","destroy","ignoreTrivia","tokenOffset","lineStartOffset","tokenLineStartOffset","prevTokenLineStartOffset","scanError","scanHexDigits","exact","isWhiteSpace","isLineBreak","ch3","scanString","safeLength","commentClosed","isDigit","scanNumber","isUnknownContentCharacter","getTokenStartLine","getTokenStartCharacter","changes_1","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","isFull","rangeLength","isAtLineStart","textOffset","getWellformedEdit","spans","sortedEdits_1","time","email","foundNode","currMinDist","currMinNode","possibleNode","minDist","doVisit","originalSchema","propASTNode","propKey","sequenceNode","seqKey","getSchemaSource","values","alternativeComparison","genericComparison","compareKubernetes","compareGeneric","uriString","jsonCompletion","parseJSONDocument","findColorSymbols","o","eol","textDocString","removeDuplicatesObj","objArray","nonDuplicateSet","nonDuplicateArr","currObj","stringifiedObj","jsonDocuments","jsonDoc","validCustomTags","ls","services_1","ProtocolDocumentLink","ProtocolCodeLens","ProtocolCompletionItem","MonacoToProtocolConverter","asRange","asPosition","startLineNumber","startColumn","endLineNumber","endColumn","model","asTextDocumentIdentifier","assign","asTextDocumentPositionParams","asCompletionContext","triggerKind","asCompletionTriggerKind","triggerCharacter","asSignatureHelpTriggerKind","isRetrigger","activeSignatureHelp","asSignatureHelp","signatureHelp","signatures","signatureInfo","asSignatureInformation","activeParameter","activeSignature","signatureInformation","asMarkupContent","paramInfo","asParameterInformation","parameterInformation","markupContent","monaco","languages","ContentChange","Invoke","protocolItem","asDocumentation","fillPrimaryInsertText","asCompletionItemKind","originalItemKind","asTextEdits","asCommand","commitCharacters","original","Customcolor","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","fromEdit","asTextEdit","includeDeclaration","MarkerSeverity","marker","asDiagnosticSeverity","markers","asDiagnostic","asDiagnostics","asCodeActionContext","asFormattingOptions","newName","ProtocolToMonacoConverter","modelVersionId","Uri","asResourceEdits","lenses","codeLens","asCodeLens","actions","action","asCodeAction","asWorkspaceEdit","asDocumentSymbol","asSymbolKind","asSymbolInformations","information","asSymbolInformation","asLocation","asDocumentHighlight","asDocumentHighlightKind","asLocationLink","asSignatureInformations","asParameterInformations","asHoverContent","asMarkdownString","diagnostic","asSeverity","asRelatedInformations","asRelatedInformation","defaultRange","incomplete","suggestions","asCompletionItem","asCompletionInsertText","isSnippet","itemKind","preselect","documentLinks","link","asDocumentLink","documentLink","asColorInformation","asColorPresentation","asFoldingRange","asFoldingRangeKind","Imports","endianness","hostname","loadavg","uptime","freemem","totalmem","cpus","release","appVersion","networkInterfaces","getNetworkInterfaces","arch","tmpDir","homedir","thenable","loader_1","dumper_1","getJSONLanguageService","uris","patternRegExps","isInclude","pattern_1","SchemaHandle","service","unresolved","clearSchema","getSection","getSectionRecursive","callOnDispose","contributionSchemas","contributionAssociations","registeredSchemasIds","hasChanges","curr","normalizedId","addSchemaHandle","schemaAssociations_1","schemaAssociation","association","addFilePatternAssociation","fpa","cachedSchemaForResource","contributionAssociation","jsonErrors","refSegment","entries_1","maps_1","arrays_1","array_1","schemeId","normalizedResource","normalizeResourceForMatching","schemaIds","combinedSchemaId","combinedSchema","initialIndentLevel","formatText","formatTextStart","rangeStart","rangeEnd","isEOL","nChars","computeIndentLevel","indentValue","getEOL","lineBreak","indentLevel","hasError","newLineAndIndent","editOperations","addEdit","firstToken","firstTokenStart","firstTokenEnd","secondToken","replaceContent","ParseOptions","earlyReturnException","previousNode","previousNodeInst","isAtPropertyKey","setPreviousNode","onObjectBegin","onObjectProperty","onObjectEnd","onArrayBegin","onArrayEnd","onLiteralValue","getNodeType","onSeparator","sep","currentParent","previousParents","onValue","ensurePropertyComplete","segment","found","_scanner","toNoArgVisit","visitFunction","toOneArgVisit","onComment","disallowComments","allowTrailingComma","parseString","isValue","parseValue","parseArray","parseObject","parseLiteral","allowEmptyContent","replaceCh","_ral","RAL","ral","pseudo","_key","option"],"mappings":"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","file":"23-chunk-f8f0f391e918263656c4.min.js","sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const MagicIconConfig = {\n  name: 'MagicIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const MagicIcon = createIcon(MagicIconConfig);\n\nexport default MagicIcon;","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        this.cancel();\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n    ;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\n/**\r\n * Represents programming constructs like variables, classes, interfaces etc.\r\n * that appear in a document. Document symbols can be hierarchical and they\r\n * have two ranges: one that encloses its definition and one that points to\r\n * its most interesting range, e.g. the range of an identifier.\r\n */\r\nvar DocumentSymbol = /** @class */ (function () {\r\n    function DocumentSymbol() {\r\n    }\r\n    return DocumentSymbol;\r\n}());\r\nexport { DocumentSymbol };\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void null) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data))\r\n            result.data = data;\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * A document link is a range in a text document that links to an internal or external resource, like another\r\n * text document or a web site.\r\n */\r\nvar DocumentLink = /** @class */ (function () {\r\n    function DocumentLink() {\r\n    }\r\n    return DocumentLink;\r\n}());\r\nexport { DocumentLink };\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nexport var TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason || (TextDocumentSaveReason = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = null;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = null;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === null) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guaruntee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new vscode_jsonrpc_1.RequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new vscode_jsonrpc_1.NotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new vscode_jsonrpc_1.RequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new vscode_jsonrpc_1.NotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n//---- Configuration notification ----\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new vscode_jsonrpc_1.RequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new vscode_jsonrpc_1.NotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didOpen');\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didChange');\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didClose');\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didSave');\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/willSave');\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/willSaveWaitUntil');\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n//---- File eventing ----\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n//---- Diagnostic notification ----\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/completion');\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.type = new vscode_jsonrpc_1.RequestType('completionItem/resolve');\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n//---- Hover Support -------------------------------\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/hover');\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/signatureHelp');\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n//---- Goto Definition -------------------------------------\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/definition');\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/references');\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n//---- Document Highlight ----------------------------------\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentHighlight');\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n//---- Document Symbol Provider ---------------------------\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentSymbol');\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n//---- Workspace Symbol Provider ---------------------------\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.type = new vscode_jsonrpc_1.RequestType('workspace/symbol');\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeAction');\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeLens');\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new vscode_jsonrpc_1.RequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/formatting');\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rangeFormatting');\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/onTypeFormatting');\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rename');\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/prepareRename');\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentLink');\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new vscode_jsonrpc_1.RequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new vscode_jsonrpc_1.RequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new vscode_jsonrpc_1.RequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/implementation');\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/typeDefinition');\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new vscode_jsonrpc_1.RequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new vscode_jsonrpc_1.RequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentColor');\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/foldingRange');\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/declaration');\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nexports.Disposable = vscode_jsonrpc_1.Disposable;\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\nexports.Event = vscode_jsonrpc_1.Event;\nexports.Emitter = vscode_jsonrpc_1.Emitter;\n__export(require(\"vscode-languageserver-protocol/lib/main\"));\nvar Services;\n(function (Services) {\n    const global = window;\n    const symbol = Symbol('Services');\n    Services.get = () => {\n        const services = global[symbol];\n        if (!services) {\n            throw new Error('Language Client services has not been installed');\n        }\n        return services;\n    };\n    function install(services) {\n        if (global[symbol]) {\n            console.error(new Error('Language Client services has been overridden'));\n        }\n        global[symbol] = services;\n        return vscode_jsonrpc_1.Disposable.create(() => global[symbol] = undefined);\n    }\n    Services.install = install;\n})(Services = exports.Services || (exports.Services = {}));\nfunction isDocumentSelector(selector) {\n    if (!selector || !Array.isArray(selector)) {\n        return false;\n    }\n    return selector.every(value => typeof value === 'string' || vscode_languageserver_protocol_1.DocumentFilter.is(value));\n}\nexports.isDocumentSelector = isDocumentSelector;\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"Invoke\"] = 1] = \"Invoke\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"TriggerCharacter\"] = 2] = \"TriggerCharacter\";\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"ContentChange\"] = 3] = \"ContentChange\";\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\n// runtime support\nvar VsCodeDiagnosticSeverity;\n(function (VsCodeDiagnosticSeverity) {\n    VsCodeDiagnosticSeverity[VsCodeDiagnosticSeverity[\"Error\"] = 0] = \"Error\";\n    VsCodeDiagnosticSeverity[VsCodeDiagnosticSeverity[\"Warning\"] = 1] = \"Warning\";\n    VsCodeDiagnosticSeverity[VsCodeDiagnosticSeverity[\"Information\"] = 2] = \"Information\";\n    VsCodeDiagnosticSeverity[VsCodeDiagnosticSeverity[\"Hint\"] = 3] = \"Hint\";\n})(VsCodeDiagnosticSeverity = exports.VsCodeDiagnosticSeverity || (exports.VsCodeDiagnosticSeverity = {}));\nvar DocumentIdentifier;\n(function (DocumentIdentifier) {\n    function is(arg) {\n        return !!arg && ('uri' in arg) && ('languageId' in arg);\n    }\n    DocumentIdentifier.is = is;\n})(DocumentIdentifier = exports.DocumentIdentifier || (exports.DocumentIdentifier = {}));\nvar ConfigurationTarget;\n(function (ConfigurationTarget) {\n    ConfigurationTarget[ConfigurationTarget[\"Global\"] = 1] = \"Global\";\n    ConfigurationTarget[ConfigurationTarget[\"Workspace\"] = 2] = \"Workspace\";\n    ConfigurationTarget[ConfigurationTarget[\"WorkspaceFolder\"] = 3] = \"WorkspaceFolder\";\n})(ConfigurationTarget = exports.ConfigurationTarget || (exports.ConfigurationTarget = {}));\n//# sourceMappingURL=services.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let unhandledProgressEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    ErrorCodes.ContentModified = -32801;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n *\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\n/**\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ast = require(\"./yamlAST\");\n'use strict';\nvar common = require(\"./common\");\nvar YAMLException = require(\"./exception\");\nvar Mark = require(\"./mark\");\nvar DEFAULT_SAFE_SCHEMA = require(\"./schema/default_safe\");\nvar DEFAULT_FULL_SCHEMA = require(\"./schema/default_full\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar CONTEXT_FLOW_IN = 1;\nvar CONTEXT_FLOW_OUT = 2;\nvar CONTEXT_BLOCK_IN = 3;\nvar CONTEXT_BLOCK_OUT = 4;\nvar CHOMPING_CLIP = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP = 3;\nvar PATTERN_NON_PRINTABLE = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uD800-\\uDFFF\\uFFFE\\uFFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\nfunction is_EOL(c) {\n    return (c === 0x0A) || (c === 0x0D);\n}\nfunction is_WHITE_SPACE(c) {\n    return (c === 0x09) || (c === 0x20);\n}\nfunction is_WS_OR_EOL(c) {\n    return (c === 0x09) ||\n        (c === 0x20) ||\n        (c === 0x0A) ||\n        (c === 0x0D);\n}\nfunction is_FLOW_INDICATOR(c) {\n    return 0x2C === c ||\n        0x5B === c ||\n        0x5D === c ||\n        0x7B === c ||\n        0x7D === c;\n}\nfunction fromHexCode(c) {\n    var lc;\n    if ((0x30 <= c) && (c <= 0x39)) {\n        return c - 0x30;\n    }\n    lc = c | 0x20;\n    if ((0x61 <= lc) && (lc <= 0x66)) {\n        return lc - 0x61 + 10;\n    }\n    return -1;\n}\nfunction escapedHexLen(c) {\n    if (c === 0x78) {\n        return 2;\n    }\n    if (c === 0x75) {\n        return 4;\n    }\n    if (c === 0x55) {\n        return 8;\n    }\n    return 0;\n}\nfunction fromDecimalCode(c) {\n    if ((0x30 <= c) && (c <= 0x39)) {\n        return c - 0x30;\n    }\n    return -1;\n}\nfunction simpleEscapeSequence(c) {\n    return (c === 0x30) ? '\\x00' :\n        (c === 0x61) ? '\\x07' :\n            (c === 0x62) ? '\\x08' :\n                (c === 0x74) ? '\\x09' :\n                    (c === 0x09) ? '\\x09' :\n                        (c === 0x6E) ? '\\x0A' :\n                            (c === 0x76) ? '\\x0B' :\n                                (c === 0x66) ? '\\x0C' :\n                                    (c === 0x72) ? '\\x0D' :\n                                        (c === 0x65) ? '\\x1B' :\n                                            (c === 0x20) ? ' ' :\n                                                (c === 0x22) ? '\\x22' :\n                                                    (c === 0x2F) ? '/' :\n                                                        (c === 0x5C) ? '\\x5C' :\n                                                            (c === 0x4E) ? '\\x85' :\n                                                                (c === 0x5F) ? '\\xA0' :\n                                                                    (c === 0x4C) ? '\\u2028' :\n                                                                        (c === 0x50) ? '\\u2029' : '';\n}\nfunction charFromCodepoint(c) {\n    if (c <= 0xFFFF) {\n        return String.fromCharCode(c);\n    }\n    return String.fromCharCode(((c - 0x010000) >> 10) + 0xD800, ((c - 0x010000) & 0x03FF) + 0xDC00);\n}\nvar simpleEscapeCheck = new Array(256);\nvar simpleEscapeMap = new Array(256);\nvar customEscapeCheck = new Array(256);\nvar customEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n    customEscapeMap[i] = simpleEscapeMap[i] = simpleEscapeSequence(i);\n    simpleEscapeCheck[i] = simpleEscapeMap[i] ? 1 : 0;\n    customEscapeCheck[i] = 1;\n    if (!simpleEscapeCheck[i]) {\n        customEscapeMap[i] = '\\\\' + String.fromCharCode(i);\n    }\n}\nvar State = (function () {\n    function State(input, options) {\n        this.errorMap = {};\n        this.errors = [];\n        this.lines = [];\n        this.input = input;\n        this.filename = options['filename'] || null;\n        this.schema = options['schema'] || DEFAULT_FULL_SCHEMA;\n        this.onWarning = options['onWarning'] || null;\n        this.legacy = options['legacy'] || false;\n        this.allowAnyEscape = options['allowAnyEscape'] || false;\n        this.ignoreDuplicateKeys = options['ignoreDuplicateKeys'] || false;\n        this.implicitTypes = this.schema.compiledImplicit;\n        this.typeMap = this.schema.compiledTypeMap;\n        this.length = input.length;\n        this.position = 0;\n        this.line = 0;\n        this.lineStart = 0;\n        this.lineIndent = 0;\n        this.documents = [];\n    }\n    return State;\n}());\nfunction generateError(state, message, isWarning) {\n    if (isWarning === void 0) { isWarning = false; }\n    return new YAMLException(message, new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)), isWarning);\n}\nfunction throwErrorFromPosition(state, position, message, isWarning, toLineEnd) {\n    if (isWarning === void 0) { isWarning = false; }\n    if (toLineEnd === void 0) { toLineEnd = false; }\n    var line = positionToLine(state, position);\n    if (!line) {\n        return;\n    }\n    var hash = message + position;\n    if (state.errorMap[hash]) {\n        return;\n    }\n    var mark = new Mark(state.filename, state.input, position, line.line, (position - line.start));\n    if (toLineEnd) {\n        mark.toLineEnd = true;\n    }\n    var error = new YAMLException(message, mark, isWarning);\n    state.errors.push(error);\n}\nfunction throwError(state, message) {\n    var error = generateError(state, message);\n    var hash = error.message + error.mark.position;\n    if (state.errorMap[hash]) {\n        return;\n    }\n    state.errors.push(error);\n    state.errorMap[hash] = 1;\n    var or = state.position;\n    while (true) {\n        if (state.position >= state.input.length - 1) {\n            return;\n        }\n        var c = state.input.charAt(state.position);\n        if (c == '\\n') {\n            state.position--;\n            if (state.position == or) {\n                state.position += 1;\n            }\n            return;\n        }\n        if (c == '\\r') {\n            state.position--;\n            if (state.position == or) {\n                state.position += 1;\n            }\n            return;\n        }\n        state.position++;\n    }\n}\nfunction throwWarning(state, message) {\n    var error = generateError(state, message);\n    if (state.onWarning) {\n        state.onWarning.call(null, error);\n    }\n    else {\n    }\n}\nvar directiveHandlers = {\n    YAML: function handleYamlDirective(state, name, args) {\n        var match, major, minor;\n        if (null !== state.version) {\n            throwError(state, 'duplication of %YAML directive');\n        }\n        if (1 !== args.length) {\n            throwError(state, 'YAML directive accepts exactly one argument');\n        }\n        match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n        if (null === match) {\n            throwError(state, 'ill-formed argument of the YAML directive');\n        }\n        major = parseInt(match[1], 10);\n        minor = parseInt(match[2], 10);\n        if (1 !== major) {\n            throwError(state, 'found incompatible YAML document (version 1.2 is required)');\n        }\n        state.version = args[0];\n        state.checkLineBreaks = (minor < 2);\n        if (2 !== minor) {\n            throwError(state, 'found incompatible YAML document (version 1.2 is required)');\n        }\n    },\n    TAG: function handleTagDirective(state, name, args) {\n        var handle, prefix;\n        if (2 !== args.length) {\n            throwError(state, 'TAG directive accepts exactly two arguments');\n        }\n        handle = args[0];\n        prefix = args[1];\n        if (!PATTERN_TAG_HANDLE.test(handle)) {\n            throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n        }\n        if (_hasOwnProperty.call(state.tagMap, handle)) {\n            throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n        }\n        if (!PATTERN_TAG_URI.test(prefix)) {\n            throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n        }\n        state.tagMap[handle] = prefix;\n    }\n};\nfunction captureSegment(state, start, end, checkJson) {\n    var _position, _length, _character, _result;\n    var scalar = state.result;\n    if (scalar.startPosition == -1) {\n        scalar.startPosition = start;\n    }\n    if (start <= end) {\n        _result = state.input.slice(start, end);\n        if (checkJson) {\n            for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n                _character = _result.charCodeAt(_position);\n                if (!(0x09 === _character ||\n                    0x20 <= _character && _character <= 0x10FFFF)) {\n                    throwError(state, 'expected valid JSON character');\n                }\n            }\n        }\n        scalar.value += _result;\n        scalar.endPosition = end;\n    }\n}\nfunction mergeMappings(state, destination, source) {\n    var sourceKeys, key, index, quantity;\n    if (!common.isObject(source)) {\n        throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n    }\n    sourceKeys = Object.keys(source);\n    for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n        key = sourceKeys[index];\n        if (!_hasOwnProperty.call(destination, key)) {\n            destination[key] = source[key];\n        }\n    }\n}\nfunction storeMappingPair(state, _result, keyTag, keyNode, valueNode) {\n    var index, quantity;\n    if (keyNode == null) {\n        return;\n    }\n    if (null === _result) {\n        _result = {\n            startPosition: keyNode.startPosition,\n            endPosition: valueNode.endPosition,\n            parent: null,\n            errors: [],\n            mappings: [], kind: ast.Kind.MAP\n        };\n    }\n    var mapping = ast.newMapping(keyNode, valueNode);\n    mapping.parent = _result;\n    keyNode.parent = mapping;\n    if (valueNode != null) {\n        valueNode.parent = mapping;\n    }\n    !state.ignoreDuplicateKeys && _result.mappings.forEach(function (sibling) {\n        if (sibling.key && sibling.key.value === (mapping.key && mapping.key.value)) {\n            throwErrorFromPosition(state, mapping.key.startPosition, 'duplicate key');\n            throwErrorFromPosition(state, sibling.key.startPosition, 'duplicate key');\n        }\n    });\n    _result.mappings.push(mapping);\n    _result.endPosition = valueNode ? valueNode.endPosition : keyNode.endPosition + 1;\n    return _result;\n}\nfunction readLineBreak(state) {\n    var ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x0A === ch) {\n        state.position++;\n    }\n    else if (0x0D === ch) {\n        state.position++;\n        if (0x0A === state.input.charCodeAt(state.position)) {\n            state.position++;\n        }\n    }\n    else {\n        throwError(state, 'a line break is expected');\n    }\n    state.line += 1;\n    state.lineStart = state.position;\n    state.lines.push({\n        start: state.lineStart,\n        line: state.line\n    });\n}\nvar Line = (function () {\n    function Line() {\n    }\n    return Line;\n}());\nfunction positionToLine(state, position) {\n    var line;\n    for (var i = 0; i < state.lines.length; i++) {\n        if (state.lines[i].start > position) {\n            break;\n        }\n        line = state.lines[i];\n    }\n    if (!line) {\n        return {\n            start: 0,\n            line: 0\n        };\n    }\n    return line;\n}\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n    var lineBreaks = 0, ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        while (is_WHITE_SPACE(ch)) {\n            if (ch === 0x09) {\n                state.errors.push(generateError(state, \"Using tabs can lead to unpredictable results\", true));\n            }\n            ch = state.input.charCodeAt(++state.position);\n        }\n        if (allowComments && 0x23 === ch) {\n            do {\n                ch = state.input.charCodeAt(++state.position);\n            } while (ch !== 0x0A && ch !== 0x0D && 0 !== ch);\n        }\n        if (is_EOL(ch)) {\n            readLineBreak(state);\n            ch = state.input.charCodeAt(state.position);\n            lineBreaks++;\n            state.lineIndent = 0;\n            while (0x20 === ch) {\n                state.lineIndent++;\n                ch = state.input.charCodeAt(++state.position);\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (-1 !== checkIndent && 0 !== lineBreaks && state.lineIndent < checkIndent) {\n        throwWarning(state, 'deficient indentation');\n    }\n    return lineBreaks;\n}\nfunction testDocumentSeparator(state) {\n    var _position = state.position, ch;\n    ch = state.input.charCodeAt(_position);\n    if ((0x2D === ch || 0x2E === ch) &&\n        state.input.charCodeAt(_position + 1) === ch &&\n        state.input.charCodeAt(_position + 2) === ch) {\n        _position += 3;\n        ch = state.input.charCodeAt(_position);\n        if (ch === 0 || is_WS_OR_EOL(ch)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction writeFoldedLines(state, scalar, count) {\n    if (1 === count) {\n        scalar.value += ' ';\n    }\n    else if (count > 1) {\n        scalar.value += common.repeat('\\n', count - 1);\n    }\n}\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n    var preceding, following, captureStart, captureEnd, hasPendingContent, _line, _lineStart, _lineIndent, _kind = state.kind, _result = state.result, ch;\n    var state_result = ast.newScalar();\n    state_result.plainScalar = true;\n    state.result = state_result;\n    ch = state.input.charCodeAt(state.position);\n    if (is_WS_OR_EOL(ch) ||\n        is_FLOW_INDICATOR(ch) ||\n        0x23 === ch ||\n        0x26 === ch ||\n        0x2A === ch ||\n        0x21 === ch ||\n        0x7C === ch ||\n        0x3E === ch ||\n        0x27 === ch ||\n        0x22 === ch ||\n        0x25 === ch ||\n        0x40 === ch ||\n        0x60 === ch) {\n        return false;\n    }\n    if (0x3F === ch || 0x2D === ch) {\n        following = state.input.charCodeAt(state.position + 1);\n        if (is_WS_OR_EOL(following) ||\n            withinFlowCollection && is_FLOW_INDICATOR(following)) {\n            return false;\n        }\n    }\n    state.kind = 'scalar';\n    captureStart = captureEnd = state.position;\n    hasPendingContent = false;\n    while (0 !== ch) {\n        if (0x3A === ch) {\n            following = state.input.charCodeAt(state.position + 1);\n            if (is_WS_OR_EOL(following) ||\n                withinFlowCollection && is_FLOW_INDICATOR(following)) {\n                break;\n            }\n        }\n        else if (0x23 === ch) {\n            preceding = state.input.charCodeAt(state.position - 1);\n            if (is_WS_OR_EOL(preceding)) {\n                break;\n            }\n        }\n        else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n            withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n            break;\n        }\n        else if (is_EOL(ch)) {\n            _line = state.line;\n            _lineStart = state.lineStart;\n            _lineIndent = state.lineIndent;\n            skipSeparationSpace(state, false, -1);\n            if (state.lineIndent >= nodeIndent) {\n                hasPendingContent = true;\n                ch = state.input.charCodeAt(state.position);\n                continue;\n            }\n            else {\n                state.position = captureEnd;\n                state.line = _line;\n                state.lineStart = _lineStart;\n                state.lineIndent = _lineIndent;\n                break;\n            }\n        }\n        if (hasPendingContent) {\n            captureSegment(state, captureStart, captureEnd, false);\n            writeFoldedLines(state, state_result, state.line - _line);\n            captureStart = captureEnd = state.position;\n            hasPendingContent = false;\n        }\n        if (!is_WHITE_SPACE(ch)) {\n            captureEnd = state.position + 1;\n        }\n        ch = state.input.charCodeAt(++state.position);\n        if (state.position >= state.input.length) {\n            return false;\n        }\n    }\n    captureSegment(state, captureStart, captureEnd, false);\n    if (state.result.startPosition != -1) {\n        state_result.rawValue = state.input.substring(state_result.startPosition, state_result.endPosition);\n        return true;\n    }\n    state.kind = _kind;\n    state.result = _result;\n    return false;\n}\nfunction readSingleQuotedScalar(state, nodeIndent) {\n    var ch, captureStart, captureEnd;\n    ch = state.input.charCodeAt(state.position);\n    if (0x27 !== ch) {\n        return false;\n    }\n    var scalar = ast.newScalar();\n    scalar.singleQuoted = true;\n    state.kind = 'scalar';\n    state.result = scalar;\n    scalar.startPosition = state.position;\n    state.position++;\n    captureStart = captureEnd = state.position;\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        if (0x27 === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            ch = state.input.charCodeAt(++state.position);\n            scalar.endPosition = state.position;\n            if (0x27 === ch) {\n                captureStart = captureEnd = state.position;\n                state.position++;\n            }\n            else {\n                return true;\n            }\n        }\n        else if (is_EOL(ch)) {\n            captureSegment(state, captureStart, captureEnd, true);\n            writeFoldedLines(state, scalar, skipSeparationSpace(state, false, nodeIndent));\n            captureStart = captureEnd = state.position;\n        }\n        else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n            throwError(state, 'unexpected end of the document within a single quoted scalar');\n        }\n        else {\n            state.position++;\n            captureEnd = state.position;\n            scalar.endPosition = state.position;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n    var captureStart, captureEnd, hexLength, hexResult, tmp, tmpEsc, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x22 !== ch) {\n        return false;\n    }\n    state.kind = 'scalar';\n    var scalar = ast.newScalar();\n    scalar.doubleQuoted = true;\n    state.result = scalar;\n    scalar.startPosition = state.position;\n    state.position++;\n    captureStart = captureEnd = state.position;\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        if (0x22 === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            state.position++;\n            scalar.endPosition = state.position;\n            scalar.rawValue = state.input.substring(scalar.startPosition, scalar.endPosition);\n            return true;\n        }\n        else if (0x5C === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            ch = state.input.charCodeAt(++state.position);\n            if (is_EOL(ch)) {\n                skipSeparationSpace(state, false, nodeIndent);\n            }\n            else if (ch < 256 && (state.allowAnyEscape ? customEscapeCheck[ch] : simpleEscapeCheck[ch])) {\n                scalar.value += (state.allowAnyEscape ? customEscapeMap[ch] : simpleEscapeMap[ch]);\n                state.position++;\n            }\n            else if ((tmp = escapedHexLen(ch)) > 0) {\n                hexLength = tmp;\n                hexResult = 0;\n                for (; hexLength > 0; hexLength--) {\n                    ch = state.input.charCodeAt(++state.position);\n                    if ((tmp = fromHexCode(ch)) >= 0) {\n                        hexResult = (hexResult << 4) + tmp;\n                    }\n                    else {\n                        throwError(state, 'expected hexadecimal character');\n                    }\n                }\n                scalar.value += charFromCodepoint(hexResult);\n                state.position++;\n            }\n            else {\n                throwError(state, 'unknown escape sequence');\n            }\n            captureStart = captureEnd = state.position;\n        }\n        else if (is_EOL(ch)) {\n            captureSegment(state, captureStart, captureEnd, true);\n            writeFoldedLines(state, scalar, skipSeparationSpace(state, false, nodeIndent));\n            captureStart = captureEnd = state.position;\n        }\n        else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n            throwError(state, 'unexpected end of the document within a double quoted scalar');\n        }\n        else {\n            state.position++;\n            captureEnd = state.position;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\nfunction readFlowCollection(state, nodeIndent) {\n    var readNext = true, _line, _tag = state.tag, _result, _anchor = state.anchor, following, terminator, isPair, isExplicitPair, isMapping, keyNode, keyTag, valueNode, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (ch === 0x5B) {\n        terminator = 0x5D;\n        isMapping = false;\n        _result = ast.newItems();\n        _result.startPosition = state.position;\n    }\n    else if (ch === 0x7B) {\n        terminator = 0x7D;\n        isMapping = true;\n        _result = ast.newMap();\n        _result.startPosition = state.position;\n    }\n    else {\n        return false;\n    }\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    ch = state.input.charCodeAt(++state.position);\n    while (0 !== ch) {\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if (ch === terminator) {\n            state.position++;\n            state.tag = _tag;\n            state.anchor = _anchor;\n            state.kind = isMapping ? 'mapping' : 'sequence';\n            state.result = _result;\n            _result.endPosition = state.position;\n            return true;\n        }\n        else if (!readNext) {\n            var p = state.position;\n            throwError(state, 'missed comma between flow collection entries');\n            state.position = p + 1;\n        }\n        keyTag = keyNode = valueNode = null;\n        isPair = isExplicitPair = false;\n        if (0x3F === ch) {\n            following = state.input.charCodeAt(state.position + 1);\n            if (is_WS_OR_EOL(following)) {\n                isPair = isExplicitPair = true;\n                state.position++;\n                skipSeparationSpace(state, true, nodeIndent);\n            }\n        }\n        _line = state.line;\n        composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n        keyTag = state.tag;\n        keyNode = state.result;\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if ((isExplicitPair || state.line === _line) && 0x3A === ch) {\n            isPair = true;\n            ch = state.input.charCodeAt(++state.position);\n            skipSeparationSpace(state, true, nodeIndent);\n            composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n            valueNode = state.result;\n        }\n        if (isMapping) {\n            storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n        }\n        else if (isPair) {\n            var mp = storeMappingPair(state, null, keyTag, keyNode, valueNode);\n            mp.parent = _result;\n            _result.items.push(mp);\n        }\n        else {\n            if (keyNode) {\n                keyNode.parent = _result;\n            }\n            _result.items.push(keyNode);\n        }\n        _result.endPosition = state.position + 1;\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if (0x2C === ch) {\n            readNext = true;\n            ch = state.input.charCodeAt(++state.position);\n        }\n        else {\n            readNext = false;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a flow collection');\n}\nfunction readBlockScalar(state, nodeIndent) {\n    var captureStart, folding, chomping = CHOMPING_CLIP, detectedIndent = false, textIndent = nodeIndent, emptyLines = 0, atMoreIndented = false, tmp, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (ch === 0x7C) {\n        folding = false;\n    }\n    else if (ch === 0x3E) {\n        folding = true;\n    }\n    else {\n        return false;\n    }\n    var sc = ast.newScalar();\n    state.kind = 'scalar';\n    state.result = sc;\n    sc.startPosition = state.position;\n    while (0 !== ch) {\n        ch = state.input.charCodeAt(++state.position);\n        if (0x2B === ch || 0x2D === ch) {\n            if (CHOMPING_CLIP === chomping) {\n                chomping = (0x2B === ch) ? CHOMPING_KEEP : CHOMPING_STRIP;\n            }\n            else {\n                throwError(state, 'repeat of a chomping mode identifier');\n            }\n        }\n        else if ((tmp = fromDecimalCode(ch)) >= 0) {\n            if (tmp === 0) {\n                throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n            }\n            else if (!detectedIndent) {\n                textIndent = nodeIndent + tmp - 1;\n                detectedIndent = true;\n            }\n            else {\n                throwError(state, 'repeat of an indentation width identifier');\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (is_WHITE_SPACE(ch)) {\n        do {\n            ch = state.input.charCodeAt(++state.position);\n        } while (is_WHITE_SPACE(ch));\n        if (0x23 === ch) {\n            do {\n                ch = state.input.charCodeAt(++state.position);\n            } while (!is_EOL(ch) && (0 !== ch));\n        }\n    }\n    while (0 !== ch) {\n        readLineBreak(state);\n        state.lineIndent = 0;\n        ch = state.input.charCodeAt(state.position);\n        while ((!detectedIndent || state.lineIndent < textIndent) &&\n            (0x20 === ch)) {\n            state.lineIndent++;\n            ch = state.input.charCodeAt(++state.position);\n        }\n        if (!detectedIndent && state.lineIndent > textIndent) {\n            textIndent = state.lineIndent;\n        }\n        if (is_EOL(ch)) {\n            emptyLines++;\n            continue;\n        }\n        if (state.lineIndent < textIndent) {\n            if (chomping === CHOMPING_KEEP) {\n                sc.value += common.repeat('\\n', emptyLines);\n            }\n            else if (chomping === CHOMPING_CLIP) {\n                if (detectedIndent) {\n                    sc.value += '\\n';\n                }\n            }\n            break;\n        }\n        if (folding) {\n            if (is_WHITE_SPACE(ch)) {\n                atMoreIndented = true;\n                sc.value += common.repeat('\\n', emptyLines + 1);\n            }\n            else if (atMoreIndented) {\n                atMoreIndented = false;\n                sc.value += common.repeat('\\n', emptyLines + 1);\n            }\n            else if (0 === emptyLines) {\n                if (detectedIndent) {\n                    sc.value += ' ';\n                }\n            }\n            else {\n                sc.value += common.repeat('\\n', emptyLines);\n            }\n        }\n        else if (detectedIndent) {\n            sc.value += common.repeat('\\n', emptyLines + 1);\n        }\n        else {\n        }\n        detectedIndent = true;\n        emptyLines = 0;\n        captureStart = state.position;\n        while (!is_EOL(ch) && (0 !== ch)) {\n            ch = state.input.charCodeAt(++state.position);\n        }\n        captureSegment(state, captureStart, state.position, false);\n    }\n    sc.endPosition = state.position;\n    var i = state.position - 1;\n    var needMinus = false;\n    while (true) {\n        var c = state.input[i];\n        if (c == '\\r' || c == '\\n') {\n            if (needMinus) {\n                i--;\n            }\n            break;\n        }\n        if (c != ' ' && c != '\\t') {\n            break;\n        }\n        i--;\n    }\n    sc.endPosition = i;\n    sc.rawValue = state.input.substring(sc.startPosition, sc.endPosition);\n    return true;\n}\nfunction readBlockSequence(state, nodeIndent) {\n    var _line, _tag = state.tag, _anchor = state.anchor, _result = ast.newItems(), following, detected = false, ch;\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    _result.startPosition = state.position;\n    ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        if (0x2D !== ch) {\n            break;\n        }\n        following = state.input.charCodeAt(state.position + 1);\n        if (!is_WS_OR_EOL(following)) {\n            break;\n        }\n        detected = true;\n        state.position++;\n        if (skipSeparationSpace(state, true, -1)) {\n            if (state.lineIndent <= nodeIndent) {\n                _result.items.push(null);\n                ch = state.input.charCodeAt(state.position);\n                continue;\n            }\n        }\n        _line = state.line;\n        composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n        if (state.result) {\n            state.result.parent = _result;\n            _result.items.push(state.result);\n        }\n        skipSeparationSpace(state, true, -1);\n        ch = state.input.charCodeAt(state.position);\n        if ((state.line === _line || state.lineIndent > nodeIndent) && (0 !== ch)) {\n            throwError(state, 'bad indentation of a sequence entry');\n        }\n        else if (state.lineIndent < nodeIndent) {\n            break;\n        }\n    }\n    _result.endPosition = state.position;\n    if (detected) {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        state.kind = 'sequence';\n        state.result = _result;\n        _result.endPosition = state.position;\n        return true;\n    }\n    return false;\n}\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n    var following, allowCompact, _line, _tag = state.tag, _anchor = state.anchor, _result = ast.newMap(), keyTag = null, keyNode = null, valueNode = null, atExplicitKey = false, detected = false, ch;\n    _result.startPosition = state.position;\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        following = state.input.charCodeAt(state.position + 1);\n        _line = state.line;\n        if ((0x3F === ch || 0x3A === ch) && is_WS_OR_EOL(following)) {\n            if (0x3F === ch) {\n                if (atExplicitKey) {\n                    storeMappingPair(state, _result, keyTag, keyNode, null);\n                    keyTag = keyNode = valueNode = null;\n                }\n                detected = true;\n                atExplicitKey = true;\n                allowCompact = true;\n            }\n            else if (atExplicitKey) {\n                atExplicitKey = false;\n                allowCompact = true;\n            }\n            else {\n                throwError(state, 'incomplete explicit mapping pair; a key node is missed');\n            }\n            state.position += 1;\n            ch = following;\n        }\n        else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n            if (state.line === _line) {\n                ch = state.input.charCodeAt(state.position);\n                while (is_WHITE_SPACE(ch)) {\n                    ch = state.input.charCodeAt(++state.position);\n                }\n                if (0x3A === ch) {\n                    ch = state.input.charCodeAt(++state.position);\n                    if (!is_WS_OR_EOL(ch)) {\n                        throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n                    }\n                    if (atExplicitKey) {\n                        storeMappingPair(state, _result, keyTag, keyNode, null);\n                        keyTag = keyNode = valueNode = null;\n                    }\n                    detected = true;\n                    atExplicitKey = false;\n                    allowCompact = false;\n                    keyTag = state.tag;\n                    keyNode = state.result;\n                }\n                else if (state.position == state.lineStart && testDocumentSeparator(state)) {\n                    break;\n                }\n                else if (detected) {\n                    throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n                }\n                else {\n                    state.tag = _tag;\n                    state.anchor = _anchor;\n                    return true;\n                }\n            }\n            else if (detected) {\n                throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n                while (state.position > 0) {\n                    ch = state.input.charCodeAt(--state.position);\n                    if (is_EOL(ch)) {\n                        state.position++;\n                        break;\n                    }\n                }\n            }\n            else {\n                state.tag = _tag;\n                state.anchor = _anchor;\n                return true;\n            }\n        }\n        else {\n            break;\n        }\n        if (state.line === _line || state.lineIndent > nodeIndent) {\n            if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n                if (atExplicitKey) {\n                    keyNode = state.result;\n                }\n                else {\n                    valueNode = state.result;\n                }\n            }\n            if (!atExplicitKey) {\n                storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n                keyTag = keyNode = valueNode = null;\n            }\n            skipSeparationSpace(state, true, -1);\n            ch = state.input.charCodeAt(state.position);\n        }\n        if (state.lineIndent > nodeIndent && (0 !== ch)) {\n            throwError(state, 'bad indentation of a mapping entry');\n        }\n        else if (state.lineIndent < nodeIndent) {\n            break;\n        }\n    }\n    if (atExplicitKey) {\n        storeMappingPair(state, _result, keyTag, keyNode, null);\n    }\n    if (detected) {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        state.kind = 'mapping';\n        state.result = _result;\n    }\n    return detected;\n}\nfunction readTagProperty(state) {\n    var _position, isVerbatim = false, isNamed = false, tagHandle, tagName, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x21 !== ch) {\n        return false;\n    }\n    if (null !== state.tag) {\n        throwError(state, 'duplication of a tag property');\n    }\n    ch = state.input.charCodeAt(++state.position);\n    if (0x3C === ch) {\n        isVerbatim = true;\n        ch = state.input.charCodeAt(++state.position);\n    }\n    else if (0x21 === ch) {\n        isNamed = true;\n        tagHandle = '!!';\n        ch = state.input.charCodeAt(++state.position);\n    }\n    else {\n        tagHandle = '!';\n    }\n    _position = state.position;\n    if (isVerbatim) {\n        do {\n            ch = state.input.charCodeAt(++state.position);\n        } while (0 !== ch && 0x3E !== ch);\n        if (state.position < state.length) {\n            tagName = state.input.slice(_position, state.position);\n            ch = state.input.charCodeAt(++state.position);\n        }\n        else {\n            throwError(state, 'unexpected end of the stream within a verbatim tag');\n        }\n    }\n    else {\n        while (0 !== ch && !is_WS_OR_EOL(ch)) {\n            if (0x21 === ch) {\n                if (!isNamed) {\n                    tagHandle = state.input.slice(_position - 1, state.position + 1);\n                    if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n                        throwError(state, 'named tag handle cannot contain such characters');\n                    }\n                    isNamed = true;\n                    _position = state.position + 1;\n                }\n                else {\n                    throwError(state, 'tag suffix cannot contain exclamation marks');\n                }\n            }\n            ch = state.input.charCodeAt(++state.position);\n        }\n        tagName = state.input.slice(_position, state.position);\n        if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n            throwError(state, 'tag suffix cannot contain flow indicator characters');\n        }\n    }\n    if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n        throwError(state, 'tag name cannot contain such characters: ' + tagName);\n    }\n    if (isVerbatim) {\n        state.tag = tagName;\n    }\n    else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n        state.tag = state.tagMap[tagHandle] + tagName;\n    }\n    else if ('!' === tagHandle) {\n        state.tag = '!' + tagName;\n    }\n    else if ('!!' === tagHandle) {\n        state.tag = 'tag:yaml.org,2002:' + tagName;\n    }\n    else {\n        throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n    }\n    return true;\n}\nfunction readAnchorProperty(state) {\n    var _position, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x26 !== ch) {\n        return false;\n    }\n    if (null !== state.anchor) {\n        throwError(state, 'duplication of an anchor property');\n    }\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n    while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n    }\n    if (state.position === _position) {\n        throwError(state, 'name of an anchor node must contain at least one character');\n    }\n    state.anchor = state.input.slice(_position, state.position);\n    return true;\n}\nfunction readAlias(state) {\n    var _position, alias, len = state.length, input = state.input, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x2A !== ch) {\n        return false;\n    }\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n    while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n    }\n    if (state.position <= _position) {\n        throwError(state, 'name of an alias node must contain at least one character');\n        state.position = _position + 1;\n    }\n    alias = state.input.slice(_position, state.position);\n    if (!state.anchorMap.hasOwnProperty(alias)) {\n        throwError(state, 'unidentified alias \"' + alias + '\"');\n        if (state.position <= _position) {\n            state.position = _position + 1;\n        }\n    }\n    state.result = ast.newAnchorRef(alias, _position, state.position, state.anchorMap[alias]);\n    skipSeparationSpace(state, true, -1);\n    return true;\n}\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n    var allowBlockStyles, allowBlockScalars, allowBlockCollections, indentStatus = 1, atNewLine = false, hasContent = false, typeIndex, typeQuantity, type, flowIndent, blockIndent, _result;\n    state.tag = null;\n    state.anchor = null;\n    state.kind = null;\n    state.result = null;\n    allowBlockStyles = allowBlockScalars = allowBlockCollections =\n        CONTEXT_BLOCK_OUT === nodeContext ||\n            CONTEXT_BLOCK_IN === nodeContext;\n    if (allowToSeek) {\n        if (skipSeparationSpace(state, true, -1)) {\n            atNewLine = true;\n            if (state.lineIndent > parentIndent) {\n                indentStatus = 1;\n            }\n            else if (state.lineIndent === parentIndent) {\n                indentStatus = 0;\n            }\n            else if (state.lineIndent < parentIndent) {\n                indentStatus = -1;\n            }\n        }\n    }\n    var tagStart = state.position;\n    var tagColumn = state.position - state.lineStart;\n    if (1 === indentStatus) {\n        while (readTagProperty(state) || readAnchorProperty(state)) {\n            if (skipSeparationSpace(state, true, -1)) {\n                atNewLine = true;\n                allowBlockCollections = allowBlockStyles;\n                if (state.lineIndent > parentIndent) {\n                    indentStatus = 1;\n                }\n                else if (state.lineIndent === parentIndent) {\n                    indentStatus = 0;\n                }\n                else if (state.lineIndent < parentIndent) {\n                    indentStatus = -1;\n                }\n            }\n            else {\n                allowBlockCollections = false;\n            }\n        }\n    }\n    if (allowBlockCollections) {\n        allowBlockCollections = atNewLine || allowCompact;\n    }\n    if (1 === indentStatus || CONTEXT_BLOCK_OUT === nodeContext) {\n        if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n            flowIndent = parentIndent;\n        }\n        else {\n            flowIndent = parentIndent + 1;\n        }\n        blockIndent = state.position - state.lineStart;\n        if (1 === indentStatus) {\n            if (allowBlockCollections &&\n                (readBlockSequence(state, blockIndent) ||\n                    readBlockMapping(state, blockIndent, flowIndent)) ||\n                readFlowCollection(state, flowIndent)) {\n                hasContent = true;\n            }\n            else {\n                if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n                    readSingleQuotedScalar(state, flowIndent) ||\n                    readDoubleQuotedScalar(state, flowIndent)) {\n                    hasContent = true;\n                }\n                else if (readAlias(state)) {\n                    hasContent = true;\n                    if (null !== state.tag || null !== state.anchor) {\n                        throwError(state, 'alias node should not have any properties');\n                    }\n                }\n                else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n                    hasContent = true;\n                    if (null === state.tag) {\n                        state.tag = '?';\n                    }\n                }\n                if (null !== state.anchor) {\n                    state.anchorMap[state.anchor] = state.result;\n                    state.result.anchorId = state.anchor;\n                }\n            }\n        }\n        else if (0 === indentStatus) {\n            hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n        }\n    }\n    if (null !== state.tag && '!' !== state.tag) {\n        if (state.tag == \"!include\") {\n            if (!state.result) {\n                state.result = ast.newScalar();\n                state.result.startPosition = state.position;\n                state.result.endPosition = state.position;\n                throwError(state, \"!include without value\");\n            }\n            state.result.kind = ast.Kind.INCLUDE_REF;\n        }\n        else if ('?' === state.tag) {\n            for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n                type = state.implicitTypes[typeIndex];\n                var vl = state.result['value'];\n                if (type.resolve(vl)) {\n                    state.result.valueObject = type.construct(state.result['value']);\n                    state.tag = type.tag;\n                    if (null !== state.anchor) {\n                        state.result.anchorId = state.anchor;\n                        state.anchorMap[state.anchor] = state.result;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (_hasOwnProperty.call(state.typeMap, state.tag)) {\n            type = state.typeMap[state.tag];\n            if (null !== state.result && type.kind !== state.kind) {\n                throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n            }\n            if (!type.resolve(state.result)) {\n                throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n            }\n            else {\n                state.result = type.construct(state.result);\n                if (null !== state.anchor) {\n                    state.result.anchorId = state.anchor;\n                    state.anchorMap[state.anchor] = state.result;\n                }\n            }\n        }\n        else {\n            throwErrorFromPosition(state, tagStart, 'unknown tag <' + state.tag + '>', false, true);\n        }\n    }\n    return null !== state.tag || null !== state.anchor || hasContent;\n}\nfunction readDocument(state) {\n    var documentStart = state.position, _position, directiveName, directiveArgs, hasDirectives = false, ch;\n    state.version = null;\n    state.checkLineBreaks = state.legacy;\n    state.tagMap = {};\n    state.anchorMap = {};\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        skipSeparationSpace(state, true, -1);\n        ch = state.input.charCodeAt(state.position);\n        if (state.lineIndent > 0 || 0x25 !== ch) {\n            break;\n        }\n        hasDirectives = true;\n        ch = state.input.charCodeAt(++state.position);\n        _position = state.position;\n        while (0 !== ch && !is_WS_OR_EOL(ch)) {\n            ch = state.input.charCodeAt(++state.position);\n        }\n        directiveName = state.input.slice(_position, state.position);\n        directiveArgs = [];\n        if (directiveName.length < 1) {\n            throwError(state, 'directive name must not be less than one character in length');\n        }\n        while (0 !== ch) {\n            while (is_WHITE_SPACE(ch)) {\n                ch = state.input.charCodeAt(++state.position);\n            }\n            if (0x23 === ch) {\n                do {\n                    ch = state.input.charCodeAt(++state.position);\n                } while (0 !== ch && !is_EOL(ch));\n                break;\n            }\n            if (is_EOL(ch)) {\n                break;\n            }\n            _position = state.position;\n            while (0 !== ch && !is_WS_OR_EOL(ch)) {\n                ch = state.input.charCodeAt(++state.position);\n            }\n            directiveArgs.push(state.input.slice(_position, state.position));\n        }\n        if (0 !== ch) {\n            readLineBreak(state);\n        }\n        if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n            directiveHandlers[directiveName](state, directiveName, directiveArgs);\n        }\n        else {\n            throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n            state.position++;\n        }\n    }\n    skipSeparationSpace(state, true, -1);\n    if (0 === state.lineIndent &&\n        0x2D === state.input.charCodeAt(state.position) &&\n        0x2D === state.input.charCodeAt(state.position + 1) &&\n        0x2D === state.input.charCodeAt(state.position + 2)) {\n        state.position += 3;\n        skipSeparationSpace(state, true, -1);\n    }\n    else if (hasDirectives) {\n        throwError(state, 'directives end mark is expected');\n    }\n    composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n    skipSeparationSpace(state, true, -1);\n    if (state.checkLineBreaks &&\n        PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n        throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n    }\n    state.documents.push(state.result);\n    if (state.position === state.lineStart && testDocumentSeparator(state)) {\n        if (0x2E === state.input.charCodeAt(state.position)) {\n            state.position += 3;\n            skipSeparationSpace(state, true, -1);\n        }\n        return;\n    }\n    if (state.position < (state.length - 1)) {\n        throwError(state, 'end of the stream or a document separator is expected');\n    }\n    else {\n        return;\n    }\n}\nfunction loadDocuments(input, options) {\n    input = String(input);\n    options = options || {};\n    var inputLength = input.length;\n    if (inputLength !== 0) {\n        if (0x0A !== input.charCodeAt(inputLength - 1) &&\n            0x0D !== input.charCodeAt(inputLength - 1)) {\n            input += '\\n';\n        }\n        if (input.charCodeAt(0) === 0xFEFF) {\n            input = input.slice(1);\n        }\n    }\n    var state = new State(input, options);\n    if (PATTERN_NON_PRINTABLE.test(state.input)) {\n        throwError(state, 'the stream contains non-printable characters');\n    }\n    state.input += '\\0';\n    while (0x20 === state.input.charCodeAt(state.position)) {\n        state.lineIndent += 1;\n        state.position += 1;\n    }\n    while (state.position < (state.length - 1)) {\n        var q = state.position;\n        readDocument(state);\n        if (state.position <= q) {\n            for (; state.position < state.length - 1; state.position++) {\n                var c = state.input.charAt(state.position);\n                if (c == '\\n') {\n                    break;\n                }\n            }\n        }\n    }\n    var documents = state.documents;\n    var docsCount = documents.length;\n    if (docsCount > 0) {\n        documents[docsCount - 1].endPosition = inputLength;\n    }\n    for (var _i = 0, documents_1 = documents; _i < documents_1.length; _i++) {\n        var x = documents_1[_i];\n        x.errors = state.errors;\n        if (x.startPosition > x.endPosition) {\n            x.startPosition = x.endPosition;\n        }\n    }\n    return documents;\n}\nfunction loadAll(input, iterator, options) {\n    if (options === void 0) { options = {}; }\n    var documents = loadDocuments(input, options), index, length;\n    for (index = 0, length = documents.length; index < length; index += 1) {\n        iterator(documents[index]);\n    }\n}\nexports.loadAll = loadAll;\nfunction load(input, options) {\n    if (options === void 0) { options = {}; }\n    var documents = loadDocuments(input, options), index, length;\n    if (0 === documents.length) {\n        return undefined;\n    }\n    else if (1 === documents.length) {\n        return documents[0];\n    }\n    var e = new YAMLException('expected a single document in the stream, but found more');\n    e.mark = new Mark(\"\", \"\", 0, 0, 0);\n    e.mark.position = documents[0].endPosition;\n    documents[0].errors.push(e);\n    return documents[0];\n}\nexports.load = load;\nfunction safeLoadAll(input, output, options) {\n    if (options === void 0) { options = {}; }\n    loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeLoadAll = safeLoadAll;\nfunction safeLoad(input, options) {\n    if (options === void 0) { options = {}; }\n    return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeLoad = safeLoad;\nmodule.exports.loadAll = loadAll;\nmodule.exports.load = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad = safeLoad;\n//# sourceMappingURL=loader.js.map","'use strict';\nvar common = require(\"./common\");\nvar Mark = (function () {\n    function Mark(name, buffer, position, line, column) {\n        this.name = name;\n        this.buffer = buffer;\n        this.position = position;\n        this.line = line;\n        this.column = column;\n    }\n    Mark.prototype.getSnippet = function (indent, maxLength) {\n        if (indent === void 0) { indent = 0; }\n        if (maxLength === void 0) { maxLength = 75; }\n        var head, start, tail, end, snippet;\n        if (!this.buffer) {\n            return null;\n        }\n        indent = indent || 4;\n        maxLength = maxLength || 75;\n        head = '';\n        start = this.position;\n        while (start > 0 && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1))) {\n            start -= 1;\n            if (this.position - start > (maxLength / 2 - 1)) {\n                head = ' ... ';\n                start += 5;\n                break;\n            }\n        }\n        tail = '';\n        end = this.position;\n        while (end < this.buffer.length && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end))) {\n            end += 1;\n            if (end - this.position > (maxLength / 2 - 1)) {\n                tail = ' ... ';\n                end -= 5;\n                break;\n            }\n        }\n        snippet = this.buffer.slice(start, end);\n        return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n            common.repeat(' ', indent + this.position - start + head.length) + '^';\n    };\n    Mark.prototype.toString = function (compact) {\n        if (compact === void 0) { compact = true; }\n        var snippet, where = '';\n        if (this.name) {\n            where += 'in \"' + this.name + '\" ';\n        }\n        where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n        if (!compact) {\n            snippet = this.getSnippet();\n            if (snippet) {\n                where += ':\\n' + snippet;\n            }\n        }\n        return where;\n    };\n    return Mark;\n}());\nmodule.exports = Mark;\n//# sourceMappingURL=mark.js.map","'use strict';\nvar schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    include: [\n        require('./json')\n    ]\n});\n//# sourceMappingURL=core.js.map","'use strict';\nvar schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    include: [\n        require('./failsafe')\n    ],\n    implicit: [\n        require('../type/null'),\n        require('../type/bool'),\n        require('../type/int'),\n        require('../type/float')\n    ]\n});\n//# sourceMappingURL=json.js.map","'use strict';\nvar schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    explicit: [\n        require('../type/str'),\n        require('../type/seq'),\n        require('../type/map')\n    ]\n});\n//# sourceMappingURL=failsafe.js.map","'use strict';\nvar type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:str', {\n    kind: 'scalar',\n    construct: function (data) { return null !== data ? data : ''; }\n});\n//# sourceMappingURL=str.js.map","'use strict';\nvar type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:seq', {\n    kind: 'sequence',\n    construct: function (data) { return null !== data ? data : []; }\n});\n//# sourceMappingURL=seq.js.map","'use strict';\nvar type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:map', {\n    kind: 'mapping',\n    construct: function (data) { return null !== data ? data : {}; }\n});\n//# sourceMappingURL=map.js.map","'use strict';\nvar type_1 = require(\"../type\");\nfunction resolveYamlNull(data) {\n    if (null === data) {\n        return true;\n    }\n    var max = data.length;\n    return (max === 1 && data === '~') ||\n        (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\nfunction constructYamlNull() {\n    return null;\n}\nfunction isNull(object) {\n    return null === object;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:null', {\n    kind: 'scalar',\n    resolve: resolveYamlNull,\n    construct: constructYamlNull,\n    predicate: isNull,\n    represent: {\n        canonical: function () { return '~'; },\n        lowercase: function () { return 'null'; },\n        uppercase: function () { return 'NULL'; },\n        camelcase: function () { return 'Null'; }\n    },\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=null.js.map","\"use strict\";\n'use strict';\nvar type_1 = require(\"../type\");\nfunction resolveYamlBoolean(data) {\n    if (null === data) {\n        return false;\n    }\n    var max = data.length;\n    return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n        (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\nfunction constructYamlBoolean(data) {\n    return data === 'true' ||\n        data === 'True' ||\n        data === 'TRUE';\n}\nfunction isBoolean(object) {\n    return '[object Boolean]' === Object.prototype.toString.call(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:bool', {\n    kind: 'scalar',\n    resolve: resolveYamlBoolean,\n    construct: constructYamlBoolean,\n    predicate: isBoolean,\n    represent: {\n        lowercase: function (object) { return object ? 'true' : 'false'; },\n        uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n        camelcase: function (object) { return object ? 'True' : 'False'; }\n    },\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=bool.js.map","'use strict';\nvar common = require(\"../common\");\nvar type_1 = require(\"../type\");\nfunction isHexCode(c) {\n    return ((0x30 <= c) && (c <= 0x39)) ||\n        ((0x41 <= c) && (c <= 0x46)) ||\n        ((0x61 <= c) && (c <= 0x66));\n}\nfunction isOctCode(c) {\n    return ((0x30 <= c) && (c <= 0x37));\n}\nfunction isDecCode(c) {\n    return ((0x30 <= c) && (c <= 0x39));\n}\nfunction resolveYamlInteger(data) {\n    if (null === data) {\n        return false;\n    }\n    var max = data.length, index = 0, hasDigits = false, ch;\n    if (!max) {\n        return false;\n    }\n    ch = data[index];\n    if (ch === '-' || ch === '+') {\n        ch = data[++index];\n    }\n    if (ch === '0') {\n        if (index + 1 === max) {\n            return true;\n        }\n        ch = data[++index];\n        if (ch === 'b') {\n            index++;\n            for (; index < max; index++) {\n                ch = data[index];\n                if (ch === '_') {\n                    continue;\n                }\n                if (ch !== '0' && ch !== '1') {\n                    return false;\n                }\n                hasDigits = true;\n            }\n            return hasDigits;\n        }\n        if (ch === 'x') {\n            index++;\n            for (; index < max; index++) {\n                ch = data[index];\n                if (ch === '_') {\n                    continue;\n                }\n                if (!isHexCode(data.charCodeAt(index))) {\n                    return false;\n                }\n                hasDigits = true;\n            }\n            return hasDigits;\n        }\n        for (; index < max; index++) {\n            ch = data[index];\n            if (ch === '_') {\n                continue;\n            }\n            if (!isOctCode(data.charCodeAt(index))) {\n                return false;\n            }\n            hasDigits = true;\n        }\n        return hasDigits;\n    }\n    for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') {\n            continue;\n        }\n        if (ch === ':') {\n            break;\n        }\n        if (!isDecCode(data.charCodeAt(index))) {\n            return false;\n        }\n        hasDigits = true;\n    }\n    if (!hasDigits) {\n        return false;\n    }\n    if (ch !== ':') {\n        return true;\n    }\n    return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\nfunction constructYamlInteger(data) {\n    var value = data, sign = 1, ch, base, digits = [];\n    if (value.indexOf('_') !== -1) {\n        value = value.replace(/_/g, '');\n    }\n    ch = value[0];\n    if (ch === '-' || ch === '+') {\n        if (ch === '-') {\n            sign = -1;\n        }\n        value = value.slice(1);\n        ch = value[0];\n    }\n    if ('0' === value) {\n        return 0;\n    }\n    if (ch === '0') {\n        if (value[1] === 'b') {\n            return sign * parseInt(value.slice(2), 2);\n        }\n        if (value[1] === 'x') {\n            return sign * parseInt(value, 16);\n        }\n        return sign * parseInt(value, 8);\n    }\n    if (value.indexOf(':') !== -1) {\n        value.split(':').forEach(function (v) {\n            digits.unshift(parseInt(v, 10));\n        });\n        value = 0;\n        base = 1;\n        digits.forEach(function (d) {\n            value += (d * base);\n            base *= 60;\n        });\n        return sign * value;\n    }\n    return sign * parseInt(value, 10);\n}\nfunction isInteger(object) {\n    return ('[object Number]' === Object.prototype.toString.call(object)) &&\n        (0 === object % 1 && !common.isNegativeZero(object));\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:int', {\n    kind: 'scalar',\n    resolve: resolveYamlInteger,\n    construct: constructYamlInteger,\n    predicate: isInteger,\n    represent: {\n        binary: function (object) { return '0b' + object.toString(2); },\n        octal: function (object) { return '0' + object.toString(8); },\n        decimal: function (object) { return object.toString(10); },\n        hexadecimal: function (object) { return '0x' + object.toString(16).toUpperCase(); }\n    },\n    defaultStyle: 'decimal',\n    styleAliases: {\n        binary: [2, 'bin'],\n        octal: [8, 'oct'],\n        decimal: [10, 'dec'],\n        hexadecimal: [16, 'hex']\n    }\n});\n//# sourceMappingURL=int.js.map","'use strict';\nvar common = require(\"../common\");\nvar type_1 = require(\"../type\");\nvar YAML_FLOAT_PATTERN = new RegExp('^(?:[-+]?(?:[0-9][0-9_]*)\\\\.[0-9_]*(?:[eE][-+][0-9]+)?' +\n    '|\\\\.[0-9_]+(?:[eE][-+][0-9]+)?' +\n    '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n    '|[-+]?\\\\.(?:inf|Inf|INF)' +\n    '|\\\\.(?:nan|NaN|NAN))$');\nfunction resolveYamlFloat(data) {\n    if (null === data) {\n        return false;\n    }\n    var value, sign, base, digits;\n    if (!YAML_FLOAT_PATTERN.test(data)) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlFloat(data) {\n    var value, sign, base, digits;\n    value = data.replace(/_/g, '').toLowerCase();\n    sign = '-' === value[0] ? -1 : 1;\n    digits = [];\n    if (0 <= '+-'.indexOf(value[0])) {\n        value = value.slice(1);\n    }\n    if ('.inf' === value) {\n        return (1 === sign) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n    }\n    else if ('.nan' === value) {\n        return NaN;\n    }\n    else if (0 <= value.indexOf(':')) {\n        value.split(':').forEach(function (v) {\n            digits.unshift(parseFloat(v, 10));\n        });\n        value = 0.0;\n        base = 1;\n        digits.forEach(function (d) {\n            value += d * base;\n            base *= 60;\n        });\n        return sign * value;\n    }\n    return sign * parseFloat(value, 10);\n}\nfunction representYamlFloat(object, style) {\n    if (isNaN(object)) {\n        switch (style) {\n            case 'lowercase':\n                return '.nan';\n            case 'uppercase':\n                return '.NAN';\n            case 'camelcase':\n                return '.NaN';\n        }\n    }\n    else if (Number.POSITIVE_INFINITY === object) {\n        switch (style) {\n            case 'lowercase':\n                return '.inf';\n            case 'uppercase':\n                return '.INF';\n            case 'camelcase':\n                return '.Inf';\n        }\n    }\n    else if (Number.NEGATIVE_INFINITY === object) {\n        switch (style) {\n            case 'lowercase':\n                return '-.inf';\n            case 'uppercase':\n                return '-.INF';\n            case 'camelcase':\n                return '-.Inf';\n        }\n    }\n    else if (common.isNegativeZero(object)) {\n        return '-0.0';\n    }\n    return object.toString(10);\n}\nfunction isFloat(object) {\n    return ('[object Number]' === Object.prototype.toString.call(object)) &&\n        (0 !== object % 1 || common.isNegativeZero(object));\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:float', {\n    kind: 'scalar',\n    resolve: resolveYamlFloat,\n    construct: constructYamlFloat,\n    predicate: isFloat,\n    represent: representYamlFloat,\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=float.js.map","'use strict';\nvar type_1 = require(\"../type\");\nvar YAML_TIMESTAMP_REGEXP = new RegExp('^([0-9][0-9][0-9][0-9])' +\n    '-([0-9][0-9]?)' +\n    '-([0-9][0-9]?)' +\n    '(?:(?:[Tt]|[ \\\\t]+)' +\n    '([0-9][0-9]?)' +\n    ':([0-9][0-9])' +\n    ':([0-9][0-9])' +\n    '(?:\\\\.([0-9]*))?' +\n    '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' +\n    '(?::([0-9][0-9]))?))?)?$');\nfunction resolveYamlTimestamp(data) {\n    if (null === data) {\n        return false;\n    }\n    var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;\n    match = YAML_TIMESTAMP_REGEXP.exec(data);\n    if (null === match) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlTimestamp(data) {\n    var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;\n    match = YAML_TIMESTAMP_REGEXP.exec(data);\n    if (null === match) {\n        throw new Error('Date resolve error');\n    }\n    year = +(match[1]);\n    month = +(match[2]) - 1;\n    day = +(match[3]);\n    if (!match[4]) {\n        return new Date(Date.UTC(year, month, day));\n    }\n    hour = +(match[4]);\n    minute = +(match[5]);\n    second = +(match[6]);\n    if (match[7]) {\n        fraction = match[7].slice(0, 3);\n        while (fraction.length < 3) {\n            fraction = fraction + '0';\n        }\n        fraction = +fraction;\n    }\n    if (match[9]) {\n        tz_hour = +(match[10]);\n        tz_minute = +(match[11] || 0);\n        delta = (tz_hour * 60 + tz_minute) * 60000;\n        if ('-' === match[9]) {\n            delta = -delta;\n        }\n    }\n    date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n    if (delta) {\n        date.setTime(date.getTime() - delta);\n    }\n    return date;\n}\nfunction representYamlTimestamp(object) {\n    return object.toISOString();\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:timestamp', {\n    kind: 'scalar',\n    resolve: resolveYamlTimestamp,\n    construct: constructYamlTimestamp,\n    instanceOf: Date,\n    represent: representYamlTimestamp\n});\n//# sourceMappingURL=timestamp.js.map","'use strict';\nvar type_1 = require(\"../type\");\nfunction resolveYamlMerge(data) {\n    return '<<' === data || null === data;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:merge', {\n    kind: 'scalar',\n    resolve: resolveYamlMerge\n});\n//# sourceMappingURL=merge.js.map","'use strict';\nvar NodeBuffer = require('buffer').Buffer;\nvar type_1 = require(\"../type\");\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\nfunction resolveYamlBinary(data) {\n    if (null === data) {\n        return false;\n    }\n    var code, idx, bitlen = 0, len = 0, max = data.length, map = BASE64_MAP;\n    for (idx = 0; idx < max; idx++) {\n        code = map.indexOf(data.charAt(idx));\n        if (code > 64) {\n            continue;\n        }\n        if (code < 0) {\n            return false;\n        }\n        bitlen += 6;\n    }\n    return (bitlen % 8) === 0;\n}\nfunction constructYamlBinary(data) {\n    var code, idx, tailbits, input = data.replace(/[\\r\\n=]/g, ''), max = input.length, map = BASE64_MAP, bits = 0, result = [];\n    for (idx = 0; idx < max; idx++) {\n        if ((idx % 4 === 0) && idx) {\n            result.push((bits >> 16) & 0xFF);\n            result.push((bits >> 8) & 0xFF);\n            result.push(bits & 0xFF);\n        }\n        bits = (bits << 6) | map.indexOf(input.charAt(idx));\n    }\n    tailbits = (max % 4) * 6;\n    if (tailbits === 0) {\n        result.push((bits >> 16) & 0xFF);\n        result.push((bits >> 8) & 0xFF);\n        result.push(bits & 0xFF);\n    }\n    else if (tailbits === 18) {\n        result.push((bits >> 10) & 0xFF);\n        result.push((bits >> 2) & 0xFF);\n    }\n    else if (tailbits === 12) {\n        result.push((bits >> 4) & 0xFF);\n    }\n    if (NodeBuffer) {\n        return new NodeBuffer(result);\n    }\n    return result;\n}\nfunction representYamlBinary(object) {\n    var result = '', bits = 0, idx, tail, max = object.length, map = BASE64_MAP;\n    for (idx = 0; idx < max; idx++) {\n        if ((idx % 3 === 0) && idx) {\n            result += map[(bits >> 18) & 0x3F];\n            result += map[(bits >> 12) & 0x3F];\n            result += map[(bits >> 6) & 0x3F];\n            result += map[bits & 0x3F];\n        }\n        bits = (bits << 8) + object[idx];\n    }\n    tail = max % 3;\n    if (tail === 0) {\n        result += map[(bits >> 18) & 0x3F];\n        result += map[(bits >> 12) & 0x3F];\n        result += map[(bits >> 6) & 0x3F];\n        result += map[bits & 0x3F];\n    }\n    else if (tail === 2) {\n        result += map[(bits >> 10) & 0x3F];\n        result += map[(bits >> 4) & 0x3F];\n        result += map[(bits << 2) & 0x3F];\n        result += map[64];\n    }\n    else if (tail === 1) {\n        result += map[(bits >> 2) & 0x3F];\n        result += map[(bits << 4) & 0x3F];\n        result += map[64];\n        result += map[64];\n    }\n    return result;\n}\nfunction isBinary(object) {\n    return NodeBuffer && NodeBuffer.isBuffer(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:binary', {\n    kind: 'scalar',\n    resolve: resolveYamlBinary,\n    construct: constructYamlBinary,\n    predicate: isBinary,\n    represent: representYamlBinary\n});\n//# sourceMappingURL=binary.js.map","'use strict';\nvar type_1 = require(\"../type\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString = Object.prototype.toString;\nfunction resolveYamlOmap(data) {\n    if (null === data) {\n        return true;\n    }\n    var objectKeys = [], index, length, pair, pairKey, pairHasKey, object = data;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        pair = object[index];\n        pairHasKey = false;\n        if ('[object Object]' !== _toString.call(pair)) {\n            return false;\n        }\n        for (pairKey in pair) {\n            if (_hasOwnProperty.call(pair, pairKey)) {\n                if (!pairHasKey) {\n                    pairHasKey = true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        if (!pairHasKey) {\n            return false;\n        }\n        if (-1 === objectKeys.indexOf(pairKey)) {\n            objectKeys.push(pairKey);\n        }\n        else {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constructYamlOmap(data) {\n    return null !== data ? data : [];\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:omap', {\n    kind: 'sequence',\n    resolve: resolveYamlOmap,\n    construct: constructYamlOmap\n});\n//# sourceMappingURL=omap.js.map","'use strict';\nvar type_1 = require(\"../type\");\nvar ast = require(\"../yamlAST\");\nvar _toString = Object.prototype.toString;\nfunction resolveYamlPairs(data) {\n    if (null === data) {\n        return true;\n    }\n    if (data.kind != ast.Kind.SEQ) {\n        return false;\n    }\n    var index, length, pair, keys, result, object = data.items;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        pair = object[index];\n        if ('[object Object]' !== _toString.call(pair)) {\n            return false;\n        }\n        if (!Array.isArray(pair.mappings)) {\n            return false;\n        }\n        if (1 !== pair.mappings.length) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constructYamlPairs(data) {\n    if (null === data || !Array.isArray(data.items)) {\n        return [];\n    }\n    var index, length, keys, result, object = data.items;\n    result = ast.newItems();\n    result.parent = data.parent;\n    result.startPosition = data.startPosition;\n    result.endPosition = data.endPosition;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        var pair = object[index];\n        var mapping = pair.mappings[0];\n        var pairSeq = ast.newItems();\n        pairSeq.parent = result;\n        pairSeq.startPosition = mapping.key.startPosition;\n        pairSeq.endPosition = mapping.value.startPosition;\n        mapping.key.parent = pairSeq;\n        mapping.value.parent = pairSeq;\n        pairSeq.items = [mapping.key, mapping.value];\n        result.items.push(pairSeq);\n    }\n    return result;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:pairs', {\n    kind: 'sequence',\n    resolve: resolveYamlPairs,\n    construct: constructYamlPairs\n});\n//# sourceMappingURL=pairs.js.map","'use strict';\nvar type_1 = require(\"../type\");\nvar ast = require(\"../yamlAST\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction resolveYamlSet(data) {\n    if (null === data) {\n        return true;\n    }\n    if (data.kind != ast.Kind.MAP) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlSet(data) {\n    return null !== data ? data : {};\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:set', {\n    kind: 'mapping',\n    resolve: resolveYamlSet,\n    construct: constructYamlSet\n});\n//# sourceMappingURL=set.js.map","'use strict';\nvar type_1 = require(\"../../type\");\nfunction resolveJavascriptUndefined() {\n    return true;\n}\nfunction constructJavascriptUndefined() {\n    return undefined;\n}\nfunction representJavascriptUndefined() {\n    return '';\n}\nfunction isUndefined(object) {\n    return 'undefined' === typeof object;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:js/undefined', {\n    kind: 'scalar',\n    resolve: resolveJavascriptUndefined,\n    construct: constructJavascriptUndefined,\n    predicate: isUndefined,\n    represent: representJavascriptUndefined\n});\n//# sourceMappingURL=undefined.js.map","'use strict';\nvar type_1 = require(\"../../type\");\nfunction resolveJavascriptRegExp(data) {\n    if (null === data) {\n        return false;\n    }\n    if (0 === data.length) {\n        return false;\n    }\n    var regexp = data, tail = /\\/([gim]*)$/.exec(data), modifiers = '';\n    if ('/' === regexp[0]) {\n        if (tail) {\n            modifiers = tail[1];\n        }\n        if (modifiers.length > 3) {\n            return false;\n        }\n        if (regexp[regexp.length - modifiers.length - 1] !== '/') {\n            return false;\n        }\n        regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n    }\n    try {\n        var dummy = new RegExp(regexp, modifiers);\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction constructJavascriptRegExp(data) {\n    var regexp = data, tail = /\\/([gim]*)$/.exec(data), modifiers = '';\n    if ('/' === regexp[0]) {\n        if (tail) {\n            modifiers = tail[1];\n        }\n        regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n    }\n    return new RegExp(regexp, modifiers);\n}\nfunction representJavascriptRegExp(object) {\n    var result = '/' + object.source + '/';\n    if (object.global) {\n        result += 'g';\n    }\n    if (object.multiline) {\n        result += 'm';\n    }\n    if (object.ignoreCase) {\n        result += 'i';\n    }\n    return result;\n}\nfunction isRegExp(object) {\n    return '[object RegExp]' === Object.prototype.toString.call(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:js/regexp', {\n    kind: 'scalar',\n    resolve: resolveJavascriptRegExp,\n    construct: constructJavascriptRegExp,\n    predicate: isRegExp,\n    represent: representJavascriptRegExp\n});\n//# sourceMappingURL=regexp.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common = require('./common');\nvar YAMLException = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar _toString = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar CHAR_TAB = 0x09;\nvar CHAR_LINE_FEED = 0x0A;\nvar CHAR_CARRIAGE_RETURN = 0x0D;\nvar CHAR_SPACE = 0x20;\nvar CHAR_EXCLAMATION = 0x21;\nvar CHAR_DOUBLE_QUOTE = 0x22;\nvar CHAR_SHARP = 0x23;\nvar CHAR_PERCENT = 0x25;\nvar CHAR_AMPERSAND = 0x26;\nvar CHAR_SINGLE_QUOTE = 0x27;\nvar CHAR_ASTERISK = 0x2A;\nvar CHAR_COMMA = 0x2C;\nvar CHAR_MINUS = 0x2D;\nvar CHAR_COLON = 0x3A;\nvar CHAR_GREATER_THAN = 0x3E;\nvar CHAR_QUESTION = 0x3F;\nvar CHAR_COMMERCIAL_AT = 0x40;\nvar CHAR_LEFT_SQUARE_BRACKET = 0x5B;\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D;\nvar CHAR_GRAVE_ACCENT = 0x60;\nvar CHAR_LEFT_CURLY_BRACKET = 0x7B;\nvar CHAR_VERTICAL_LINE = 0x7C;\nvar CHAR_RIGHT_CURLY_BRACKET = 0x7D;\nvar ESCAPE_SEQUENCES = {};\nESCAPE_SEQUENCES[0x00] = '\\\\0';\nESCAPE_SEQUENCES[0x07] = '\\\\a';\nESCAPE_SEQUENCES[0x08] = '\\\\b';\nESCAPE_SEQUENCES[0x09] = '\\\\t';\nESCAPE_SEQUENCES[0x0A] = '\\\\n';\nESCAPE_SEQUENCES[0x0B] = '\\\\v';\nESCAPE_SEQUENCES[0x0C] = '\\\\f';\nESCAPE_SEQUENCES[0x0D] = '\\\\r';\nESCAPE_SEQUENCES[0x1B] = '\\\\e';\nESCAPE_SEQUENCES[0x22] = '\\\\\"';\nESCAPE_SEQUENCES[0x5C] = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85] = '\\\\N';\nESCAPE_SEQUENCES[0xA0] = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n    'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n    'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\nfunction compileStyleMap(schema, map) {\n    var result, keys, index, length, tag, style, type;\n    if (null === map) {\n        return {};\n    }\n    result = {};\n    keys = Object.keys(map);\n    for (index = 0, length = keys.length; index < length; index += 1) {\n        tag = keys[index];\n        style = String(map[tag]);\n        if ('!!' === tag.slice(0, 2)) {\n            tag = 'tag:yaml.org,2002:' + tag.slice(2);\n        }\n        type = schema.compiledTypeMap[tag];\n        if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n            style = type.styleAliases[style];\n        }\n        result[tag] = style;\n    }\n    return result;\n}\nfunction encodeHex(character) {\n    var string, handle, length;\n    string = character.toString(16).toUpperCase();\n    if (character <= 0xFF) {\n        handle = 'x';\n        length = 2;\n    }\n    else if (character <= 0xFFFF) {\n        handle = 'u';\n        length = 4;\n    }\n    else if (character <= 0xFFFFFFFF) {\n        handle = 'U';\n        length = 8;\n    }\n    else {\n        throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n    }\n    return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\nfunction State(options) {\n    this.schema = options['schema'] || DEFAULT_FULL_SCHEMA;\n    this.indent = Math.max(1, (options['indent'] || 2));\n    this.skipInvalid = options['skipInvalid'] || false;\n    this.flowLevel = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n    this.styleMap = compileStyleMap(this.schema, options['styles'] || null);\n    this.implicitTypes = this.schema.compiledImplicit;\n    this.explicitTypes = this.schema.compiledExplicit;\n    this.tag = null;\n    this.result = '';\n    this.duplicates = [];\n    this.usedDuplicates = null;\n}\nfunction indentString(string, spaces) {\n    var ind = common.repeat(' ', spaces), position = 0, next = -1, result = '', line, length = string.length;\n    while (position < length) {\n        next = string.indexOf('\\n', position);\n        if (next === -1) {\n            line = string.slice(position);\n            position = length;\n        }\n        else {\n            line = string.slice(position, next + 1);\n            position = next + 1;\n        }\n        if (line.length && line !== '\\n') {\n            result += ind;\n        }\n        result += line;\n    }\n    return result;\n}\nfunction generateNextLine(state, level) {\n    return '\\n' + common.repeat(' ', state.indent * level);\n}\nfunction testImplicitResolving(state, str) {\n    var index, length, type;\n    for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n        type = state.implicitTypes[index];\n        if (type.resolve(str)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction StringBuilder(source) {\n    this.source = source;\n    this.result = '';\n    this.checkpoint = 0;\n}\nStringBuilder.prototype.takeUpTo = function (position) {\n    var er;\n    if (position < this.checkpoint) {\n        er = new Error('position should be > checkpoint');\n        er.position = position;\n        er.checkpoint = this.checkpoint;\n        throw er;\n    }\n    this.result += this.source.slice(this.checkpoint, position);\n    this.checkpoint = position;\n    return this;\n};\nStringBuilder.prototype.escapeChar = function () {\n    var character, esc;\n    character = this.source.charCodeAt(this.checkpoint);\n    esc = ESCAPE_SEQUENCES[character] || encodeHex(character);\n    this.result += esc;\n    this.checkpoint += 1;\n    return this;\n};\nStringBuilder.prototype.finish = function () {\n    if (this.source.length > this.checkpoint) {\n        this.takeUpTo(this.source.length);\n    }\n};\nfunction writeScalar(state, object, level) {\n    var simple, first, spaceWrap, folded, literal, single, double, sawLineFeed, linePosition, longestLine, indent, max, character, position, escapeSeq, hexEsc, previous, lineLength, modifier, trailingLineBreaks, result;\n    if (0 === object.length) {\n        state.dump = \"''\";\n        return;\n    }\n    if (object.indexOf(\"!include\") == 0) {\n        state.dump = \"\" + object;\n        return;\n    }\n    if (object.indexOf(\"!$$$novalue\") == 0) {\n        state.dump = \"\";\n        return;\n    }\n    if (-1 !== DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)) {\n        state.dump = \"'\" + object + \"'\";\n        return;\n    }\n    simple = true;\n    first = object.length ? object.charCodeAt(0) : 0;\n    spaceWrap = (CHAR_SPACE === first ||\n        CHAR_SPACE === object.charCodeAt(object.length - 1));\n    if (CHAR_MINUS === first ||\n        CHAR_QUESTION === first ||\n        CHAR_COMMERCIAL_AT === first ||\n        CHAR_GRAVE_ACCENT === first) {\n        simple = false;\n    }\n    if (spaceWrap) {\n        simple = false;\n        folded = false;\n        literal = false;\n    }\n    else {\n        folded = true;\n        literal = true;\n    }\n    single = true;\n    double = new StringBuilder(object);\n    sawLineFeed = false;\n    linePosition = 0;\n    longestLine = 0;\n    indent = state.indent * level;\n    max = 80;\n    if (indent < 40) {\n        max -= indent;\n    }\n    else {\n        max = 40;\n    }\n    for (position = 0; position < object.length; position++) {\n        character = object.charCodeAt(position);\n        if (simple) {\n            if (!simpleChar(character)) {\n                simple = false;\n            }\n            else {\n                continue;\n            }\n        }\n        if (single && character === CHAR_SINGLE_QUOTE) {\n            single = false;\n        }\n        escapeSeq = ESCAPE_SEQUENCES[character];\n        hexEsc = needsHexEscape(character);\n        if (!escapeSeq && !hexEsc) {\n            continue;\n        }\n        if (character !== CHAR_LINE_FEED &&\n            character !== CHAR_DOUBLE_QUOTE &&\n            character !== CHAR_SINGLE_QUOTE) {\n            folded = false;\n            literal = false;\n        }\n        else if (character === CHAR_LINE_FEED) {\n            sawLineFeed = true;\n            single = false;\n            if (position > 0) {\n                previous = object.charCodeAt(position - 1);\n                if (previous === CHAR_SPACE) {\n                    literal = false;\n                    folded = false;\n                }\n            }\n            if (folded) {\n                lineLength = position - linePosition;\n                linePosition = position;\n                if (lineLength > longestLine) {\n                    longestLine = lineLength;\n                }\n            }\n        }\n        if (character !== CHAR_DOUBLE_QUOTE) {\n            single = false;\n        }\n        double.takeUpTo(position);\n        double.escapeChar();\n    }\n    if (simple && testImplicitResolving(state, object)) {\n        simple = false;\n    }\n    modifier = '';\n    if (folded || literal) {\n        trailingLineBreaks = 0;\n        if (object.charCodeAt(object.length - 1) === CHAR_LINE_FEED) {\n            trailingLineBreaks += 1;\n            if (object.charCodeAt(object.length - 2) === CHAR_LINE_FEED) {\n                trailingLineBreaks += 1;\n            }\n        }\n        if (trailingLineBreaks === 0) {\n            modifier = '-';\n        }\n        else if (trailingLineBreaks === 2) {\n            modifier = '+';\n        }\n    }\n    if (literal && longestLine < max) {\n        folded = false;\n    }\n    if (!sawLineFeed) {\n        literal = false;\n    }\n    if (simple) {\n        state.dump = object;\n    }\n    else if (single) {\n        state.dump = '\\'' + object + '\\'';\n    }\n    else if (folded) {\n        result = fold(object, max);\n        state.dump = '>' + modifier + '\\n' + indentString(result, indent);\n    }\n    else if (literal) {\n        if (!modifier) {\n            object = object.replace(/\\n$/, '');\n        }\n        state.dump = '|' + modifier + '\\n' + indentString(object, indent);\n    }\n    else if (double) {\n        double.finish();\n        state.dump = '\"' + double.result + '\"';\n    }\n    else {\n        throw new Error('Failed to dump scalar value');\n    }\n    return;\n}\nfunction fold(object, max) {\n    var result = '', position = 0, length = object.length, trailing = /\\n+$/.exec(object), newLine;\n    if (trailing) {\n        length = trailing.index + 1;\n    }\n    while (position < length) {\n        newLine = object.indexOf('\\n', position);\n        if (newLine > length || newLine === -1) {\n            if (result) {\n                result += '\\n\\n';\n            }\n            result += foldLine(object.slice(position, length), max);\n            position = length;\n        }\n        else {\n            if (result) {\n                result += '\\n\\n';\n            }\n            result += foldLine(object.slice(position, newLine), max);\n            position = newLine + 1;\n        }\n    }\n    if (trailing && trailing[0] !== '\\n') {\n        result += trailing[0];\n    }\n    return result;\n}\nfunction foldLine(line, max) {\n    if (line === '') {\n        return line;\n    }\n    var foldRe = /[^\\s] [^\\s]/g, result = '', prevMatch = 0, foldStart = 0, match = foldRe.exec(line), index, foldEnd, folded;\n    while (match) {\n        index = match.index;\n        if (index - foldStart > max) {\n            if (prevMatch !== foldStart) {\n                foldEnd = prevMatch;\n            }\n            else {\n                foldEnd = index;\n            }\n            if (result) {\n                result += '\\n';\n            }\n            folded = line.slice(foldStart, foldEnd);\n            result += folded;\n            foldStart = foldEnd + 1;\n        }\n        prevMatch = index + 1;\n        match = foldRe.exec(line);\n    }\n    if (result) {\n        result += '\\n';\n    }\n    if (foldStart !== prevMatch && line.length - foldStart > max) {\n        result += line.slice(foldStart, prevMatch) + '\\n' +\n            line.slice(prevMatch + 1);\n    }\n    else {\n        result += line.slice(foldStart);\n    }\n    return result;\n}\nfunction simpleChar(character) {\n    return CHAR_TAB !== character &&\n        CHAR_LINE_FEED !== character &&\n        CHAR_CARRIAGE_RETURN !== character &&\n        CHAR_COMMA !== character &&\n        CHAR_LEFT_SQUARE_BRACKET !== character &&\n        CHAR_RIGHT_SQUARE_BRACKET !== character &&\n        CHAR_LEFT_CURLY_BRACKET !== character &&\n        CHAR_RIGHT_CURLY_BRACKET !== character &&\n        CHAR_SHARP !== character &&\n        CHAR_AMPERSAND !== character &&\n        CHAR_ASTERISK !== character &&\n        CHAR_EXCLAMATION !== character &&\n        CHAR_VERTICAL_LINE !== character &&\n        CHAR_GREATER_THAN !== character &&\n        CHAR_SINGLE_QUOTE !== character &&\n        CHAR_DOUBLE_QUOTE !== character &&\n        CHAR_PERCENT !== character &&\n        CHAR_COLON !== character &&\n        !ESCAPE_SEQUENCES[character] &&\n        !needsHexEscape(character);\n}\nfunction needsHexEscape(character) {\n    return !((0x00020 <= character && character <= 0x00007E) ||\n        (0x00085 === character) ||\n        (0x000A0 <= character && character <= 0x00D7FF) ||\n        (0x0E000 <= character && character <= 0x00FFFD) ||\n        (0x10000 <= character && character <= 0x10FFFF));\n}\nfunction writeFlowSequence(state, level, object) {\n    var _result = '', _tag = state.tag, index, length;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        if (writeNode(state, level, object[index], false, false)) {\n            if (0 !== index) {\n                _result += ', ';\n            }\n            _result += state.dump;\n        }\n    }\n    state.tag = _tag;\n    state.dump = '[' + _result + ']';\n}\nfunction writeBlockSequence(state, level, object, compact) {\n    var _result = '', _tag = state.tag, index, length;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        if (writeNode(state, level + 1, object[index], true, true)) {\n            if (!compact || 0 !== index) {\n                _result += generateNextLine(state, level);\n            }\n            _result += '- ' + state.dump;\n        }\n    }\n    state.tag = _tag;\n    state.dump = _result || '[]';\n}\nfunction writeFlowMapping(state, level, object) {\n    var _result = '', _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, pairBuffer;\n    for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n        pairBuffer = '';\n        if (0 !== index) {\n            pairBuffer += ', ';\n        }\n        objectKey = objectKeyList[index];\n        objectValue = object[objectKey];\n        if (!writeNode(state, level, objectKey, false, false)) {\n            continue;\n        }\n        if (state.dump.length > 1024) {\n            pairBuffer += '? ';\n        }\n        pairBuffer += state.dump + ': ';\n        if (!writeNode(state, level, objectValue, false, false)) {\n            continue;\n        }\n        pairBuffer += state.dump;\n        _result += pairBuffer;\n    }\n    state.tag = _tag;\n    state.dump = '{' + _result + '}';\n}\nfunction writeBlockMapping(state, level, object, compact) {\n    var _result = '', _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, explicitPair, pairBuffer;\n    for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n        pairBuffer = '';\n        if (!compact || 0 !== index) {\n            pairBuffer += generateNextLine(state, level);\n        }\n        objectKey = objectKeyList[index];\n        objectValue = object[objectKey];\n        if (!writeNode(state, level + 1, objectKey, true, true)) {\n            continue;\n        }\n        explicitPair = (null !== state.tag && '?' !== state.tag) ||\n            (state.dump && state.dump.length > 1024);\n        if (explicitPair) {\n            if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n                pairBuffer += '?';\n            }\n            else {\n                pairBuffer += '? ';\n            }\n        }\n        pairBuffer += state.dump;\n        if (explicitPair) {\n            pairBuffer += generateNextLine(state, level);\n        }\n        if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n            continue;\n        }\n        if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n            pairBuffer += ':';\n        }\n        else {\n            pairBuffer += ': ';\n        }\n        pairBuffer += state.dump;\n        _result += pairBuffer;\n    }\n    state.tag = _tag;\n    state.dump = _result || '{}';\n}\nfunction detectType(state, object, explicit) {\n    var _result, typeList, index, length, type, style;\n    typeList = explicit ? state.explicitTypes : state.implicitTypes;\n    for (index = 0, length = typeList.length; index < length; index += 1) {\n        type = typeList[index];\n        if ((type.instanceOf || type.predicate) &&\n            (!type.instanceOf || (('object' === typeof object) && (object instanceof type.instanceOf))) &&\n            (!type.predicate || type.predicate(object))) {\n            state.tag = explicit ? type.tag : '?';\n            if (type.represent) {\n                style = state.styleMap[type.tag] || type.defaultStyle;\n                if ('[object Function]' === _toString.call(type.represent)) {\n                    _result = type.represent(object, style);\n                }\n                else if (_hasOwnProperty.call(type.represent, style)) {\n                    _result = type.represent[style](object, style);\n                }\n                else {\n                    throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n                }\n                state.dump = _result;\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction writeNode(state, level, object, block, compact) {\n    state.tag = null;\n    state.dump = object;\n    if (!detectType(state, object, false)) {\n        detectType(state, object, true);\n    }\n    var type = _toString.call(state.dump);\n    if (block) {\n        block = (0 > state.flowLevel || state.flowLevel > level);\n    }\n    if ((null !== state.tag && '?' !== state.tag) || (2 !== state.indent && level > 0)) {\n        compact = false;\n    }\n    var objectOrArray = '[object Object]' === type || '[object Array]' === type, duplicateIndex, duplicate;\n    if (objectOrArray) {\n        duplicateIndex = state.duplicates.indexOf(object);\n        duplicate = duplicateIndex !== -1;\n    }\n    if (duplicate && state.usedDuplicates[duplicateIndex]) {\n        state.dump = '*ref_' + duplicateIndex;\n    }\n    else {\n        if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n            state.usedDuplicates[duplicateIndex] = true;\n        }\n        if ('[object Object]' === type) {\n            if (block && (0 !== Object.keys(state.dump).length)) {\n                writeBlockMapping(state, level, state.dump, compact);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n                }\n            }\n            else {\n                writeFlowMapping(state, level, state.dump);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n                }\n            }\n        }\n        else if ('[object Array]' === type) {\n            if (block && (0 !== state.dump.length)) {\n                writeBlockSequence(state, level, state.dump, compact);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n                }\n            }\n            else {\n                writeFlowSequence(state, level, state.dump);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n                }\n            }\n        }\n        else if ('[object String]' === type) {\n            if ('?' !== state.tag) {\n                writeScalar(state, state.dump, level);\n            }\n        }\n        else {\n            if (state.skipInvalid) {\n                return false;\n            }\n            throw new YAMLException('unacceptable kind of an object to dump ' + type);\n        }\n        if (null !== state.tag && '?' !== state.tag) {\n            state.dump = '!<' + state.tag + '> ' + state.dump;\n        }\n    }\n    return true;\n}\nfunction getDuplicateReferences(object, state) {\n    var objects = [], duplicatesIndexes = [], index, length;\n    inspectNode(object, objects, duplicatesIndexes);\n    for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n        state.duplicates.push(objects[duplicatesIndexes[index]]);\n    }\n    state.usedDuplicates = new Array(length);\n}\nfunction inspectNode(object, objects, duplicatesIndexes) {\n    var type = _toString.call(object), objectKeyList, index, length;\n    if (null !== object && 'object' === typeof object) {\n        index = objects.indexOf(object);\n        if (-1 !== index) {\n            if (-1 === duplicatesIndexes.indexOf(index)) {\n                duplicatesIndexes.push(index);\n            }\n        }\n        else {\n            objects.push(object);\n            if (Array.isArray(object)) {\n                for (index = 0, length = object.length; index < length; index += 1) {\n                    inspectNode(object[index], objects, duplicatesIndexes);\n                }\n            }\n            else {\n                objectKeyList = Object.keys(object);\n                for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n                    inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n                }\n            }\n        }\n    }\n}\nfunction dump(input, options) {\n    options = options || {};\n    var state = new State(options);\n    getDuplicateReferences(input, state);\n    if (writeNode(state, 0, input, true, true)) {\n        return state.dump + '\\n';\n    }\n    return '';\n}\nexports.dump = dump;\nfunction safeDump(input, options) {\n    return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeDump = safeDump;\n//# sourceMappingURL=dumper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction parseYamlBoolean(input) {\n    if ([\"true\", \"True\", \"TRUE\"].lastIndexOf(input) >= 0) {\n        return true;\n    }\n    else if ([\"false\", \"False\", \"FALSE\"].lastIndexOf(input) >= 0) {\n        return false;\n    }\n    throw \"Invalid boolean \\\"\" + input + \"\\\"\";\n}\nexports.parseYamlBoolean = parseYamlBoolean;\nfunction safeParseYamlInteger(input) {\n    if (input.lastIndexOf('0o', 0) === 0) {\n        return parseInt(input.substring(2), 8);\n    }\n    return parseInt(input);\n}\nfunction parseYamlInteger(input) {\n    var result = safeParseYamlInteger(input);\n    if (isNaN(result)) {\n        throw \"Invalid integer \\\"\" + input + \"\\\"\";\n    }\n    return result;\n}\nexports.parseYamlInteger = parseYamlInteger;\nfunction parseYamlFloat(input) {\n    if ([\".nan\", \".NaN\", \".NAN\"].lastIndexOf(input) >= 0) {\n        return NaN;\n    }\n    var infinity = /^([-+])?(?:\\.inf|\\.Inf|\\.INF)$/;\n    var match = infinity.exec(input);\n    if (match) {\n        return (match[1] === '-') ? -Infinity : Infinity;\n    }\n    var result = parseFloat(input);\n    if (!isNaN(result)) {\n        return result;\n    }\n    throw \"Invalid float \\\"\" + input + \"\\\"\";\n}\nexports.parseYamlFloat = parseYamlFloat;\nvar ScalarType;\n(function (ScalarType) {\n    ScalarType[ScalarType[\"null\"] = 0] = \"null\";\n    ScalarType[ScalarType[\"bool\"] = 1] = \"bool\";\n    ScalarType[ScalarType[\"int\"] = 2] = \"int\";\n    ScalarType[ScalarType[\"float\"] = 3] = \"float\";\n    ScalarType[ScalarType[\"string\"] = 4] = \"string\";\n})(ScalarType = exports.ScalarType || (exports.ScalarType = {}));\nfunction determineScalarType(node) {\n    if (node === undefined) {\n        return ScalarType.null;\n    }\n    if (node.doubleQuoted || !node.plainScalar || node['singleQuoted']) {\n        return ScalarType.string;\n    }\n    var value = node.value;\n    if ([\"null\", \"Null\", \"NULL\", \"~\", ''].indexOf(value) >= 0) {\n        return ScalarType.null;\n    }\n    if (value === null || value === undefined) {\n        return ScalarType.null;\n    }\n    if ([\"true\", \"True\", \"TRUE\", \"false\", \"False\", \"FALSE\"].indexOf(value) >= 0) {\n        return ScalarType.bool;\n    }\n    var base10 = /^[-+]?[0-9]+$/;\n    var base8 = /^0o[0-7]+$/;\n    var base16 = /^0x[0-9a-fA-F]+$/;\n    if (base10.test(value) || base8.test(value) || base16.test(value)) {\n        return ScalarType.int;\n    }\n    var float = /^[-+]?(\\.[0-9]+|[0-9]+(\\.[0-9]*)?)([eE][-+]?[0-9]+)?$/;\n    var infinity = /^[-+]?(\\.inf|\\.Inf|\\.INF)$/;\n    if (float.test(value) || infinity.test(value) || [\".nan\", \".NaN\", \".NAN\"].indexOf(value) >= 0) {\n        return ScalarType.float;\n    }\n    return ScalarType.string;\n}\nexports.determineScalarType = determineScalarType;\n//# sourceMappingURL=scalarInference.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yamlSchemaService_1 = require(\"./services/yamlSchemaService\");\nconst documentSymbols_1 = require(\"./services/documentSymbols\");\nconst yamlCompletion_1 = require(\"./services/yamlCompletion\");\nconst yamlHover_1 = require(\"./services/yamlHover\");\nconst yamlValidation_1 = require(\"./services/yamlValidation\");\nconst yamlFormatter_1 = require(\"./services/yamlFormatter\");\nconst yamlLinks_1 = require(\"./services/yamlLinks\");\nfunction getLanguageService(schemaRequestService, workspaceContext) {\n    const schemaService = new yamlSchemaService_1.YAMLSchemaService(schemaRequestService, workspaceContext);\n    const completer = new yamlCompletion_1.YAMLCompletion(schemaService);\n    const hover = new yamlHover_1.YAMLHover(schemaService);\n    const yamlDocumentSymbols = new documentSymbols_1.YAMLDocumentSymbols(schemaService);\n    const yamlValidation = new yamlValidation_1.YAMLValidation(schemaService);\n    const formatter = new yamlFormatter_1.YAMLFormatter();\n    return {\n        configure: (settings) => {\n            schemaService.clearExternalSchemas();\n            if (settings.schemas) {\n                settings.schemas.forEach((settings) => {\n                    schemaService.registerExternalSchema(settings.uri, settings.fileMatch, settings.schema);\n                });\n            }\n            yamlValidation.configure(settings);\n            hover.configure(settings);\n            const customTagsSetting = settings && settings['customTags'] ? settings['customTags'] : [];\n            completer.configure(settings, customTagsSetting);\n            formatter.configure(settings);\n        },\n        registerCustomSchemaProvider: (schemaProvider) => {\n            schemaService.registerCustomSchemaProvider(schemaProvider);\n        },\n        findDefinition: () => Promise.resolve([]),\n        findLinks: yamlLinks_1.findLinks,\n        doComplete: completer.doComplete.bind(completer),\n        doValidation: yamlValidation.doValidation.bind(yamlValidation),\n        doHover: hover.doHover.bind(hover),\n        findDocumentSymbols: yamlDocumentSymbols.findDocumentSymbols.bind(yamlDocumentSymbols),\n        findDocumentSymbols2: yamlDocumentSymbols.findHierarchicalDocumentSymbols.bind(yamlDocumentSymbols),\n        resetSchema: (uri) => {\n            return schemaService.onResourceChange(uri);\n        },\n        doFormat: formatter.format.bind(formatter),\n        addSchema: (schemaID, schema) => {\n            return schemaService.saveSchema(schemaID, schema);\n        },\n        deleteSchema: (schemaID) => {\n            return schemaService.deleteSchema(schemaID);\n        },\n        modifySchemaContent: (schemaAdditions) => {\n            return schemaService.addContent(schemaAdditions);\n        },\n        deleteSchemaContent: (schemaDeletions) => {\n            return schemaService.deleteContent(schemaDeletions);\n        },\n    };\n}\nexports.getLanguageService = getLanguageService;\n//# sourceMappingURL=yamlLanguageService.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsonSchemaService_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonSchemaService\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst nls = require(\"vscode-nls\");\nconst strings_1 = require(\"../utils/strings\");\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst yaml = require(\"js-yaml\");\nconst localize = nls.loadMessageBundle();\nvar MODIFICATION_ACTIONS;\n(function (MODIFICATION_ACTIONS) {\n    MODIFICATION_ACTIONS[MODIFICATION_ACTIONS[\"delete\"] = 0] = \"delete\";\n    MODIFICATION_ACTIONS[MODIFICATION_ACTIONS[\"add\"] = 1] = \"add\";\n})(MODIFICATION_ACTIONS = exports.MODIFICATION_ACTIONS || (exports.MODIFICATION_ACTIONS = {}));\nclass FilePatternAssociation {\n    constructor(pattern) {\n        try {\n            this.patternRegExp = new RegExp(strings_1.convertSimple2RegExpPattern(pattern) + '$');\n        }\n        catch (e) {\n            // invalid pattern\n            this.patternRegExp = null;\n        }\n        this.schemas = [];\n    }\n    addSchema(id) {\n        this.schemas.push(id);\n    }\n    matchesPattern(fileName) {\n        return this.patternRegExp && this.patternRegExp.test(fileName);\n    }\n    getSchemas() {\n        return this.schemas;\n    }\n}\nexports.FilePatternAssociation = FilePatternAssociation;\nclass YAMLSchemaService extends jsonSchemaService_1.JSONSchemaService {\n    constructor(requestService, contextService, promiseConstructor) {\n        super(requestService, contextService, promiseConstructor);\n        this.customSchemaProvider = undefined;\n        this.requestService = requestService;\n    }\n    registerCustomSchemaProvider(customSchemaProvider) {\n        this.customSchemaProvider = customSchemaProvider;\n    }\n    resolveSchemaContent(schemaToResolve, schemaURL, dependencies) {\n        const resolveErrors = schemaToResolve.errors.slice(0);\n        const schema = schemaToResolve.schema;\n        const contextService = this.contextService;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const findSection = (schema, path) => {\n            if (!path) {\n                return schema;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            let current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some((part) => {\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        const merge = (target, sourceRoot, sourceURI, path) => {\n            const section = findSection(sourceRoot, path);\n            if (section) {\n                for (const key in section) {\n                    if (Object.prototype.hasOwnProperty.call(section, key) && !Object.prototype.hasOwnProperty.call(target, key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize('json.schema.invalidref', \"$ref '{0}' in '{1}' can not be resolved.\", path, sourceURI));\n            }\n        };\n        const resolveExternalLink = (node, uri, linkPath, parentSchemaURL, parentSchemaDependencies\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ) => {\n            if (contextService && !/^\\w+:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = this.normalizeId(uri);\n            const referencedHandle = this.getOrAddSchemaHandle(uri);\n            return referencedHandle.getUnresolvedSchema().then((unresolvedSchema) => {\n                parentSchemaDependencies[uri] = true;\n                if (unresolvedSchema.errors.length) {\n                    const loc = linkPath ? uri + '#' + linkPath : uri;\n                    resolveErrors.push(localize('json.schema.problemloadingref', \"Problems loading reference '{0}': {1}\", loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, linkPath);\n                node.url = uri;\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);\n            });\n        };\n        const resolveRefs = (node, parentSchema, parentSchemaURL, parentSchemaDependencies\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ) => {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            const toWalk = [node];\n            const seen = [];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const openPromises = [];\n            const collectEntries = (...entries) => {\n                for (const entry of entries) {\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            const collectMapEntries = (...maps) => {\n                for (const map of maps) {\n                    if (typeof map === 'object') {\n                        for (const key in map) {\n                            const entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            const collectArrayEntries = (...arrays) => {\n                for (const array of arrays) {\n                    if (Array.isArray(array)) {\n                        for (const entry of array) {\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            const handleRef = (next) => {\n                const seenRefs = [];\n                while (next.$ref) {\n                    const ref = next.$ref;\n                    const segments = ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));\n                        return;\n                    }\n                    else {\n                        if (seenRefs.indexOf(ref) === -1) {\n                            merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again, use seenRefs to avoid circle\n                            seenRefs.push(ref);\n                        }\n                    }\n                }\n                collectEntries(next.items, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items, next.schemaSequence);\n            };\n            while (toWalk.length) {\n                const next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return Promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL, dependencies).then(() => {\n            return new jsonSchemaService_1.ResolvedSchema(schema, resolveErrors);\n        });\n    }\n    getSchemaForResource(resource, doc) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const resolveSchema = () => {\n            const seen = Object.create(null);\n            const schemas = [];\n            const schemaFromModeline = this.getSchemaFromModeline(doc);\n            if (schemaFromModeline !== undefined) {\n                schemas.push(schemaFromModeline);\n                seen[schemaFromModeline] = true;\n            }\n            for (const entry of this.filePatternAssociations) {\n                if (entry.matchesPattern(resource)) {\n                    for (const schemaId of entry.getURIs()) {\n                        if (!seen[schemaId]) {\n                            schemas.push(schemaId);\n                            seen[schemaId] = true;\n                        }\n                    }\n                }\n            }\n            /**\n             * If this resource matches a schemaID directly then use that schema.\n             * This will be used in the case where the yaml language server is being used as a library\n             * and clients want to save a schema with a particular ID and also use that schema\n             * in language features\n             */\n            const normalizedResourceID = this.normalizeId(resource);\n            if (this.schemasById[normalizedResourceID]) {\n                schemas.push(normalizedResourceID);\n            }\n            if (schemas.length > 0) {\n                const schemaHandle = super.createCombinedSchema(resource, schemas);\n                return schemaHandle.getResolvedSchema().then((schema) => {\n                    if (schema.schema) {\n                        schema.schema.url = schemaHandle.url;\n                    }\n                    if (schema.schema &&\n                        schema.schema.schemaSequence &&\n                        schema.schema.schemaSequence[doc.currentDocIndex]) {\n                        return new jsonSchemaService_1.ResolvedSchema(schema.schema.schemaSequence[doc.currentDocIndex]);\n                    }\n                    return schema;\n                });\n            }\n            return Promise.resolve(null);\n        };\n        if (this.customSchemaProvider) {\n            return this.customSchemaProvider(resource)\n                .then((schemaUri) => {\n                if (Array.isArray(schemaUri)) {\n                    if (schemaUri.length === 0) {\n                        return resolveSchema();\n                    }\n                    return Promise.all(schemaUri.map((schemaUri) => {\n                        return this.resolveCustomSchema(schemaUri, doc);\n                    })).then((schemas) => {\n                        return {\n                            errors: [],\n                            schema: {\n                                anyOf: schemas.map((schemaObj) => {\n                                    return schemaObj.schema;\n                                }),\n                            },\n                        };\n                    }, () => {\n                        return resolveSchema();\n                    });\n                }\n                if (!schemaUri) {\n                    return resolveSchema();\n                }\n                return this.resolveCustomSchema(schemaUri, doc);\n            })\n                .then((schema) => {\n                return schema;\n            }, () => {\n                return resolveSchema();\n            });\n        }\n        else {\n            return resolveSchema();\n        }\n    }\n    /**\n     * Retrieve schema if declared as modeline.\n     * Public for testing purpose, not part of the API.\n     * @param doc\n     */\n    getSchemaFromModeline(doc) {\n        if (doc instanceof yamlParser07_1.SingleYAMLDocument) {\n            const yamlLanguageServerModeline = doc.lineComments.find((lineComment) => {\n                const matchModeline = lineComment.match(/^#\\s+yaml-language-server\\s*:/g);\n                return matchModeline !== null && matchModeline.length === 1;\n            });\n            if (yamlLanguageServerModeline != undefined) {\n                const schemaMatchs = yamlLanguageServerModeline.match(/\\$schema=\\S+/g);\n                if (schemaMatchs !== null && schemaMatchs.length >= 1) {\n                    if (schemaMatchs.length >= 2) {\n                        console.log('Several $schema attributes have been found on the yaml-language-server modeline. The first one will be picked.');\n                    }\n                    return schemaMatchs[0].substring('$schema='.length);\n                }\n            }\n        }\n        return undefined;\n    }\n    resolveCustomSchema(schemaUri, doc) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const unresolvedSchema = yield this.loadSchema(schemaUri);\n            const schema = yield this.resolveSchemaContent(unresolvedSchema, schemaUri, []);\n            if (schema.schema) {\n                schema.schema.url = schemaUri;\n            }\n            if (schema.schema && schema.schema.schemaSequence && schema.schema.schemaSequence[doc.currentDocIndex]) {\n                return new jsonSchemaService_1.ResolvedSchema(schema.schema.schemaSequence[doc.currentDocIndex]);\n            }\n            return schema;\n        });\n    }\n    /**\n     * Save a schema with schema ID and schema content.\n     * Overrides previous schemas set for that schema ID.\n     */\n    saveSchema(schemaId, schemaContent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = this.normalizeId(schemaId);\n            this.getOrAddSchemaHandle(id, schemaContent);\n            return Promise.resolve(undefined);\n        });\n    }\n    /**\n     * Delete a schema with schema ID.\n     */\n    deleteSchema(schemaId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = this.normalizeId(schemaId);\n            if (this.schemasById[id]) {\n                delete this.schemasById[id];\n            }\n            return Promise.resolve(undefined);\n        });\n    }\n    /**\n     * Add content to a specified schema at a specified path\n     */\n    addContent(additions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const schema = yield this.getResolvedSchema(additions.schema);\n            if (schema) {\n                const resolvedSchemaLocation = this.resolveJSONSchemaToSection(schema.schema, additions.path);\n                if (typeof resolvedSchemaLocation === 'object') {\n                    resolvedSchemaLocation[additions.key] = additions.content;\n                }\n                yield this.saveSchema(additions.schema, schema.schema);\n            }\n        });\n    }\n    /**\n     * Delete content in a specified schema at a specified path\n     */\n    deleteContent(deletions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const schema = yield this.getResolvedSchema(deletions.schema);\n            if (schema) {\n                const resolvedSchemaLocation = this.resolveJSONSchemaToSection(schema.schema, deletions.path);\n                if (typeof resolvedSchemaLocation === 'object') {\n                    delete resolvedSchemaLocation[deletions.key];\n                }\n                yield this.saveSchema(deletions.schema, schema.schema);\n            }\n        });\n    }\n    /**\n     * Take a JSON Schema and the path that you would like to get to\n     * @returns the JSON Schema resolved at that specific path\n     */\n    resolveJSONSchemaToSection(schema, paths) {\n        const splitPathway = paths.split('/');\n        let resolvedSchemaLocation = schema;\n        for (const path of splitPathway) {\n            if (path === '') {\n                continue;\n            }\n            this.resolveNext(resolvedSchemaLocation, path);\n            resolvedSchemaLocation = resolvedSchemaLocation[path];\n        }\n        return resolvedSchemaLocation;\n    }\n    /**\n     * Resolve the next Object if they have compatible types\n     * @param object a location in the JSON Schema\n     * @param token the next token that you want to search for\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    resolveNext(object, token) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (Array.isArray(object) && isNaN(token)) {\n            throw new Error('Expected a number after the array object');\n        }\n        else if (typeof object === 'object' && typeof token !== 'string') {\n            throw new Error('Expected a string after the object');\n        }\n    }\n    /**\n     * Everything below here is needed because we're importing from vscode-json-languageservice umd and we need\n     * to provide a wrapper around the javascript methods we are calling since they have no type\n     */\n    normalizeId(id) {\n        // The parent's `super.normalizeId(id)` isn't visible, so duplicated the code here\n        try {\n            return vscode_uri_1.URI.parse(id).toString();\n        }\n        catch (e) {\n            return id;\n        }\n    }\n    /*\n     * Everything below here is needed because we're importing from vscode-json-languageservice umd and we need\n     * to provide a wrapper around the javascript methods we are calling since they have no type\n     */\n    getOrAddSchemaHandle(id, unresolvedSchemaContent) {\n        return super.getOrAddSchemaHandle(id, unresolvedSchemaContent);\n    }\n    loadSchema(schemaUri) {\n        const requestService = this.requestService;\n        return super.loadSchema(schemaUri).then((unresolvedJsonSchema) => {\n            // If json-language-server failed to parse the schema, attempt to parse it as YAML instead.\n            if (unresolvedJsonSchema.errors && unresolvedJsonSchema.schema === undefined) {\n                return requestService(schemaUri).then((content) => {\n                    if (!content) {\n                        const errorMessage = localize('json.schema.nocontent', \"Unable to load schema from '{0}': No content.\", toDisplayString(schemaUri));\n                        return new jsonSchemaService_1.UnresolvedSchema({}, [errorMessage]);\n                    }\n                    try {\n                        const schemaContent = yaml.safeLoad(content);\n                        return new jsonSchemaService_1.UnresolvedSchema(schemaContent, []);\n                    }\n                    catch (yamlError) {\n                        const errorMessage = localize('json.schema.invalidFormat', \"Unable to parse content from '{0}': {1}.\", toDisplayString(schemaUri), yamlError);\n                        return new jsonSchemaService_1.UnresolvedSchema({}, [errorMessage]);\n                    }\n                }, \n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                (error) => {\n                    let errorMessage = error.toString();\n                    const errorSplit = error.toString().split('Error: ');\n                    if (errorSplit.length > 1) {\n                        // more concise error message, URL and context are attached by caller anyways\n                        errorMessage = errorSplit[1];\n                    }\n                    return new jsonSchemaService_1.UnresolvedSchema({}, [errorMessage]);\n                });\n            }\n            unresolvedJsonSchema.uri = schemaUri;\n            return unresolvedJsonSchema;\n        });\n    }\n    registerExternalSchema(uri, filePatterns, unresolvedSchema) {\n        return super.registerExternalSchema(uri, filePatterns, unresolvedSchema);\n    }\n    clearExternalSchemas() {\n        super.clearExternalSchemas();\n    }\n    setSchemaContributions(schemaContributions) {\n        super.setSchemaContributions(schemaContributions);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getRegisteredSchemaIds(filter) {\n        return super.getRegisteredSchemaIds(filter);\n    }\n    getResolvedSchema(schemaId) {\n        return super.getResolvedSchema(schemaId);\n    }\n    onResourceChange(uri) {\n        return super.onResourceChange(uri);\n    }\n}\nexports.YAMLSchemaService = YAMLSchemaService;\nfunction toDisplayString(url) {\n    try {\n        const uri = vscode_uri_1.URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n//# sourceMappingURL=yamlSchemaService.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { format, isEOL } from './format';\nimport { parseTree, findNodeAtLocation } from './parser';\nexport function removeProperty(text, path, options) {\n    return setProperty(text, path, void 0, options);\n}\nexport function setProperty(text, originalPath, value, options) {\n    var _a;\n    var path = originalPath.slice();\n    var errors = [];\n    var root = parseTree(text, errors);\n    var parent = void 0;\n    var lastSegment = void 0;\n    while (path.length > 0) {\n        lastSegment = path.pop();\n        parent = findNodeAtLocation(root, path);\n        if (parent === void 0 && value !== void 0) {\n            if (typeof lastSegment === 'string') {\n                value = (_a = {}, _a[lastSegment] = value, _a);\n            }\n            else {\n                value = [value];\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (!parent) {\n        // empty document\n        if (value === void 0) { // delete\n            throw new Error('Can not delete in empty document');\n        }\n        return withFormatting(text, { offset: root ? root.offset : 0, length: root ? root.length : 0, content: JSON.stringify(value) }, options);\n    }\n    else if (parent.type === 'object' && typeof lastSegment === 'string' && Array.isArray(parent.children)) {\n        var existing = findNodeAtLocation(parent, [lastSegment]);\n        if (existing !== void 0) {\n            if (value === void 0) { // delete\n                if (!existing.parent) {\n                    throw new Error('Malformed AST');\n                }\n                var propertyIndex = parent.children.indexOf(existing.parent);\n                var removeBegin = void 0;\n                var removeEnd = existing.parent.offset + existing.parent.length;\n                if (propertyIndex > 0) {\n                    // remove the comma of the previous node\n                    var previous = parent.children[propertyIndex - 1];\n                    removeBegin = previous.offset + previous.length;\n                }\n                else {\n                    removeBegin = parent.offset + 1;\n                    if (parent.children.length > 1) {\n                        // remove the comma of the next node\n                        var next = parent.children[1];\n                        removeEnd = next.offset;\n                    }\n                }\n                return withFormatting(text, { offset: removeBegin, length: removeEnd - removeBegin, content: '' }, options);\n            }\n            else {\n                // set value of existing property\n                return withFormatting(text, { offset: existing.offset, length: existing.length, content: JSON.stringify(value) }, options);\n            }\n        }\n        else {\n            if (value === void 0) { // delete\n                return []; // property does not exist, nothing to do\n            }\n            var newProperty = JSON.stringify(lastSegment) + \": \" + JSON.stringify(value);\n            var index = options.getInsertionIndex ? options.getInsertionIndex(parent.children.map(function (p) { return p.children[0].value; })) : parent.children.length;\n            var edit = void 0;\n            if (index > 0) {\n                var previous = parent.children[index - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            else if (parent.children.length === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty };\n            }\n            else {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty + ',' };\n            }\n            return withFormatting(text, edit, options);\n        }\n    }\n    else if (parent.type === 'array' && typeof lastSegment === 'number' && Array.isArray(parent.children)) {\n        var insertIndex = lastSegment;\n        if (insertIndex === -1) {\n            // Insert\n            var newProperty = \"\" + JSON.stringify(value);\n            var edit = void 0;\n            if (parent.children.length === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: newProperty };\n            }\n            else {\n                var previous = parent.children[parent.children.length - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else if (value === void 0 && parent.children.length >= 0) {\n            // Removal\n            var removalIndex = lastSegment;\n            var toRemove = parent.children[removalIndex];\n            var edit = void 0;\n            if (parent.children.length === 1) {\n                // only item\n                edit = { offset: parent.offset + 1, length: parent.length - 2, content: '' };\n            }\n            else if (parent.children.length - 1 === removalIndex) {\n                // last item\n                var previous = parent.children[removalIndex - 1];\n                var offset = previous.offset + previous.length;\n                var parentEndOffset = parent.offset + parent.length;\n                edit = { offset: offset, length: parentEndOffset - 2 - offset, content: '' };\n            }\n            else {\n                edit = { offset: toRemove.offset, length: parent.children[removalIndex + 1].offset - toRemove.offset, content: '' };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else if (value !== void 0) {\n            var edit = void 0;\n            var newProperty = \"\" + JSON.stringify(value);\n            if (!options.isArrayInsertion && parent.children.length > lastSegment) {\n                var toModify = parent.children[lastSegment];\n                edit = { offset: toModify.offset, length: toModify.length, content: newProperty };\n            }\n            else if (parent.children.length === 0 || lastSegment === 0) {\n                edit = { offset: parent.offset + 1, length: 0, content: parent.children.length === 0 ? newProperty : newProperty + ',' };\n            }\n            else {\n                var index = lastSegment > parent.children.length ? parent.children.length : lastSegment;\n                var previous = parent.children[index - 1];\n                edit = { offset: previous.offset + previous.length, length: 0, content: ',' + newProperty };\n            }\n            return withFormatting(text, edit, options);\n        }\n        else {\n            throw new Error(\"Can not \" + (value === void 0 ? 'remove' : (options.isArrayInsertion ? 'insert' : 'modify')) + \" Array index \" + insertIndex + \" as length is not sufficient\");\n        }\n    }\n    else {\n        throw new Error(\"Can not add \" + (typeof lastSegment !== 'number' ? 'index' : 'property') + \" to parent of type \" + parent.type);\n    }\n}\nfunction withFormatting(text, edit, options) {\n    if (!options.formattingOptions) {\n        return [edit];\n    }\n    // apply the edit\n    var newText = applyEdit(text, edit);\n    // format the new text\n    var begin = edit.offset;\n    var end = edit.offset + edit.content.length;\n    if (edit.length === 0 || edit.content.length === 0) { // insert or remove\n        while (begin > 0 && !isEOL(newText, begin - 1)) {\n            begin--;\n        }\n        while (end < newText.length && !isEOL(newText, end)) {\n            end++;\n        }\n    }\n    var edits = format(newText, { offset: begin, length: end - begin }, options.formattingOptions);\n    // apply the formatting edits and track the begin and end offsets of the changes\n    for (var i = edits.length - 1; i >= 0; i--) {\n        var edit_1 = edits[i];\n        newText = applyEdit(newText, edit_1);\n        begin = Math.min(begin, edit_1.offset);\n        end = Math.max(end, edit_1.offset + edit_1.length);\n        end += edit_1.content.length - edit_1.length;\n    }\n    // create a single edit with all changes\n    var editLength = text.length - (newText.length - end) - begin;\n    return [{ offset: begin, length: editLength, content: newText.substring(begin, end) }];\n}\nexport function applyEdit(text, edit) {\n    return text.substring(0, edit.offset) + edit.content + text.substring(edit.offset + edit.length);\n}\nexport function isWS(text, offset) {\n    return '\\r\\n \\t'.indexOf(text.charAt(offset)) !== -1;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (let i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.startsWith = startsWith;\n/**\n * Determines if haystack ends with needle.\n */\nfunction endsWith(haystack, needle) {\n    const diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nexports.endsWith = endsWith;\nfunction convertSimple2RegExp(pattern) {\n    const match = pattern.match(new RegExp('^/(.*?)/([gimy]*)$'));\n    return match ? convertRegexString2RegExp(match[1], match[2]) : convertGlobalPattern2RegExp(pattern);\n}\nexports.convertSimple2RegExp = convertSimple2RegExp;\nfunction convertGlobalPattern2RegExp(pattern) {\n    return new RegExp(pattern.replace(/[-\\\\{}+?|^$.,[\\]()#\\s]/g, '\\\\$&').replace(/[*]/g, '.*') + '$');\n}\nfunction convertRegexString2RegExp(pattern, flag) {\n    return new RegExp(pattern, flag);\n}\nfunction convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[-\\\\{}+?|^$.,[\\]()#\\s]/g, '\\\\$&').replace(/[*]/g, '.*');\n}\nexports.convertSimple2RegExpPattern = convertSimple2RegExpPattern;\n//# sourceMappingURL=strings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ast = require(\"./yamlAST\");\n'use strict';\nconst common = require(\"./common\");\nconst YAMLException = require(\"./exception\");\nconst Mark = require(\"./mark\");\nconst DEFAULT_SAFE_SCHEMA = require(\"./schema/default_safe\");\nconst DEFAULT_FULL_SCHEMA = require(\"./schema/default_full\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar CONTEXT_FLOW_IN = 1;\nvar CONTEXT_FLOW_OUT = 2;\nvar CONTEXT_BLOCK_IN = 3;\nvar CONTEXT_BLOCK_OUT = 4;\nvar CHOMPING_CLIP = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP = 3;\nvar PATTERN_NON_PRINTABLE = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\nfunction is_EOL(c) {\n    return (c === 0x0A) || (c === 0x0D);\n}\nfunction is_WHITE_SPACE(c) {\n    return (c === 0x09) || (c === 0x20);\n}\nfunction is_WS_OR_EOL(c) {\n    return (c === 0x09) ||\n        (c === 0x20) ||\n        (c === 0x0A) ||\n        (c === 0x0D);\n}\nfunction is_FLOW_INDICATOR(c) {\n    return 0x2C === c ||\n        0x5B === c ||\n        0x5D === c ||\n        0x7B === c ||\n        0x7D === c;\n}\nfunction fromHexCode(c) {\n    var lc;\n    if ((0x30 <= c) && (c <= 0x39)) {\n        return c - 0x30;\n    }\n    lc = c | 0x20;\n    if ((0x61 <= lc) && (lc <= 0x66)) {\n        return lc - 0x61 + 10;\n    }\n    return -1;\n}\nfunction escapedHexLen(c) {\n    if (c === 0x78) {\n        return 2;\n    }\n    if (c === 0x75) {\n        return 4;\n    }\n    if (c === 0x55) {\n        return 8;\n    }\n    return 0;\n}\nfunction fromDecimalCode(c) {\n    if ((0x30 <= c) && (c <= 0x39)) {\n        return c - 0x30;\n    }\n    return -1;\n}\nfunction simpleEscapeSequence(c) {\n    return (c === 0x30) ? '\\x00' :\n        (c === 0x61) ? '\\x07' :\n            (c === 0x62) ? '\\x08' :\n                (c === 0x74) ? '\\x09' :\n                    (c === 0x09) ? '\\x09' :\n                        (c === 0x6E) ? '\\x0A' :\n                            (c === 0x76) ? '\\x0B' :\n                                (c === 0x66) ? '\\x0C' :\n                                    (c === 0x72) ? '\\x0D' :\n                                        (c === 0x65) ? '\\x1B' :\n                                            (c === 0x20) ? ' ' :\n                                                (c === 0x22) ? '\\x22' :\n                                                    (c === 0x2F) ? '/' :\n                                                        (c === 0x5C) ? '\\x5C' :\n                                                            (c === 0x4E) ? '\\x85' :\n                                                                (c === 0x5F) ? '\\xA0' :\n                                                                    (c === 0x4C) ? '\\u2028' :\n                                                                        (c === 0x50) ? '\\u2029' : '';\n}\nfunction charFromCodepoint(c) {\n    if (c <= 0xFFFF) {\n        return String.fromCharCode(c);\n    }\n    return String.fromCharCode(((c - 0x010000) >> 10) + 0xD800, ((c - 0x010000) & 0x03FF) + 0xDC00);\n}\nvar simpleEscapeCheck = new Array(256);\nvar simpleEscapeMap = new Array(256);\nvar customEscapeCheck = new Array(256);\nvar customEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n    customEscapeMap[i] = simpleEscapeMap[i] = simpleEscapeSequence(i);\n    simpleEscapeCheck[i] = simpleEscapeMap[i] ? 1 : 0;\n    customEscapeCheck[i] = 1;\n    if (!simpleEscapeCheck[i]) {\n        customEscapeMap[i] = '\\\\' + String.fromCharCode(i);\n    }\n}\nclass State {\n    constructor(input, options) {\n        this.errorMap = {};\n        this.errors = [];\n        this.lines = [];\n        this.input = input;\n        this.filename = options['filename'] || null;\n        this.schema = options['schema'] || DEFAULT_FULL_SCHEMA;\n        this.onWarning = options['onWarning'] || null;\n        this.legacy = options['legacy'] || false;\n        this.allowAnyEscape = options['allowAnyEscape'] || false;\n        this.ignoreDuplicateKeys = options['ignoreDuplicateKeys'] || false;\n        this.implicitTypes = this.schema.compiledImplicit;\n        this.typeMap = this.schema.compiledTypeMap;\n        this.length = input.length;\n        this.position = 0;\n        this.line = 0;\n        this.lineStart = 0;\n        this.lineIndent = 0;\n        this.documents = [];\n    }\n}\nfunction generateError(state, message, isWarning = false) {\n    return new YAMLException(message, new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)), isWarning);\n}\nfunction throwErrorFromPosition(state, position, message, isWarning = false, toLineEnd = false) {\n    var line = positionToLine(state, position);\n    if (!line) {\n        return;\n    }\n    var hash = message + position;\n    if (state.errorMap[hash]) {\n        return;\n    }\n    var mark = new Mark(state.filename, state.input, position, line.line, (position - line.start));\n    if (toLineEnd) {\n        mark.toLineEnd = true;\n    }\n    var error = new YAMLException(message, mark, isWarning);\n    state.errors.push(error);\n}\nfunction throwError(state, message) {\n    var error = generateError(state, message);\n    var hash = error.message + error.mark.position;\n    if (state.errorMap[hash]) {\n        return;\n    }\n    state.errors.push(error);\n    state.errorMap[hash] = 1;\n    var or = state.position;\n    while (true) {\n        if (state.position >= state.input.length - 1) {\n            return;\n        }\n        var c = state.input.charAt(state.position);\n        if (c == '\\n') {\n            state.position--;\n            if (state.position == or) {\n                state.position += 1;\n            }\n            return;\n        }\n        if (c == '\\r') {\n            state.position--;\n            if (state.position == or) {\n                state.position += 1;\n            }\n            return;\n        }\n        state.position++;\n    }\n}\nfunction throwWarning(state, message) {\n    var error = generateError(state, message);\n    if (state.onWarning) {\n        state.onWarning.call(null, error);\n    }\n    else {\n    }\n}\nvar directiveHandlers = {\n    YAML: function handleYamlDirective(state, name, args) {\n        var match, major, minor;\n        if (null !== state.version) {\n            throwError(state, 'duplication of %YAML directive');\n        }\n        if (1 !== args.length) {\n            throwError(state, 'YAML directive accepts exactly one argument');\n        }\n        match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n        if (null === match) {\n            throwError(state, 'ill-formed argument of the YAML directive');\n        }\n        major = parseInt(match[1], 10);\n        minor = parseInt(match[2], 10);\n        if (1 !== major) {\n            throwError(state, 'found incompatible YAML document (version 1.2 is required)');\n        }\n        state.version = args[0];\n        state.checkLineBreaks = (minor < 2);\n        if (2 !== minor) {\n            throwError(state, 'found incompatible YAML document (version 1.2 is required)');\n        }\n    },\n    TAG: function handleTagDirective(state, name, args) {\n        var handle, prefix;\n        if (2 !== args.length) {\n            throwError(state, 'TAG directive accepts exactly two arguments');\n        }\n        handle = args[0];\n        prefix = args[1];\n        if (!PATTERN_TAG_HANDLE.test(handle)) {\n            throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n        }\n        if (_hasOwnProperty.call(state.tagMap, handle)) {\n            throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n        }\n        if (!PATTERN_TAG_URI.test(prefix)) {\n            throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n        }\n        state.tagMap[handle] = prefix;\n    }\n};\nfunction captureSegment(state, start, end, checkJson) {\n    var _position, _length, _character, _result;\n    var scalar = state.result;\n    if (scalar.startPosition == -1) {\n        scalar.startPosition = start;\n    }\n    if (start <= end) {\n        _result = state.input.slice(start, end);\n        if (checkJson) {\n            for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n                _character = _result.charCodeAt(_position);\n                if (!(0x09 === _character ||\n                    0x20 <= _character && _character <= 0x10FFFF)) {\n                    throwError(state, 'expected valid JSON character');\n                }\n            }\n        }\n        else if (PATTERN_NON_PRINTABLE.test(_result)) {\n            throwError(state, 'the stream contains non-printable characters');\n        }\n        scalar.value += _result;\n        scalar.endPosition = end;\n    }\n}\nfunction mergeMappings(state, destination, source) {\n    var sourceKeys, key, index, quantity;\n    if (!common.isObject(source)) {\n        throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n    }\n    sourceKeys = Object.keys(source);\n    for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n        key = sourceKeys[index];\n        if (!_hasOwnProperty.call(destination, key)) {\n            destination[key] = source[key];\n        }\n    }\n}\nfunction storeMappingPair(state, _result, keyTag, keyNode, valueNode) {\n    var index, quantity;\n    if (keyNode == null) {\n        return;\n    }\n    if (null === _result) {\n        _result = {\n            startPosition: keyNode.startPosition,\n            endPosition: valueNode.endPosition,\n            parent: null,\n            errors: [],\n            mappings: [], kind: ast.Kind.MAP\n        };\n    }\n    var mapping = ast.newMapping(keyNode, valueNode);\n    mapping.parent = _result;\n    keyNode.parent = mapping;\n    if (valueNode != null) {\n        valueNode.parent = mapping;\n    }\n    !state.ignoreDuplicateKeys && _result.mappings.forEach(sibling => {\n        if (ast.isNodesEqual(sibling, mapping)) {\n            throwErrorFromPosition(state, mapping.key.startPosition, 'duplicate key');\n            throwErrorFromPosition(state, sibling.key.startPosition, 'duplicate key');\n        }\n    });\n    _result.mappings.push(mapping);\n    _result.endPosition = valueNode ? valueNode.endPosition : keyNode.endPosition + 1;\n    return _result;\n}\nfunction readLineBreak(state) {\n    var ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x0A === ch) {\n        state.position++;\n    }\n    else if (0x0D === ch) {\n        state.position++;\n        if (0x0A === state.input.charCodeAt(state.position)) {\n            state.position++;\n        }\n    }\n    else {\n        throwError(state, 'a line break is expected');\n    }\n    state.line += 1;\n    state.lineStart = state.position;\n    state.lines.push({\n        start: state.lineStart,\n        line: state.line\n    });\n}\nclass Line {\n}\nfunction positionToLine(state, position) {\n    var line;\n    for (var i = 0; i < state.lines.length; i++) {\n        if (state.lines[i].start > position) {\n            break;\n        }\n        line = state.lines[i];\n    }\n    if (!line) {\n        return {\n            start: 0,\n            line: 0\n        };\n    }\n    return line;\n}\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n    var lineBreaks = 0, ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        while (is_WHITE_SPACE(ch)) {\n            if (ch === 0x09) {\n                state.errors.push(generateError(state, \"Using tabs can lead to unpredictable results\", true));\n            }\n            ch = state.input.charCodeAt(++state.position);\n        }\n        if (allowComments && 0x23 === ch) {\n            do {\n                ch = state.input.charCodeAt(++state.position);\n            } while (ch !== 0x0A && ch !== 0x0D && 0 !== ch);\n        }\n        if (is_EOL(ch)) {\n            readLineBreak(state);\n            ch = state.input.charCodeAt(state.position);\n            lineBreaks++;\n            state.lineIndent = 0;\n            while (0x20 === ch) {\n                state.lineIndent++;\n                ch = state.input.charCodeAt(++state.position);\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (-1 !== checkIndent && 0 !== lineBreaks && state.lineIndent < checkIndent) {\n        throwWarning(state, 'deficient indentation');\n    }\n    return lineBreaks;\n}\nfunction testDocumentSeparator(state) {\n    var _position = state.position, ch;\n    ch = state.input.charCodeAt(_position);\n    if ((0x2D === ch || 0x2E === ch) &&\n        state.input.charCodeAt(_position + 1) === ch &&\n        state.input.charCodeAt(_position + 2) === ch) {\n        _position += 3;\n        ch = state.input.charCodeAt(_position);\n        if (ch === 0 || is_WS_OR_EOL(ch)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction writeFoldedLines(state, scalar, count) {\n    if (1 === count) {\n        scalar.value += ' ';\n    }\n    else if (count > 1) {\n        scalar.value += common.repeat('\\n', count - 1);\n    }\n}\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n    var preceding, following, captureStart, captureEnd, hasPendingContent, _line, _lineStart, _lineIndent, _kind = state.kind, _result = state.result, ch;\n    var state_result = ast.newScalar();\n    state_result.plainScalar = true;\n    state.result = state_result;\n    ch = state.input.charCodeAt(state.position);\n    if (is_WS_OR_EOL(ch) ||\n        is_FLOW_INDICATOR(ch) ||\n        0x23 === ch ||\n        0x26 === ch ||\n        0x2A === ch ||\n        0x21 === ch ||\n        0x7C === ch ||\n        0x3E === ch ||\n        0x27 === ch ||\n        0x22 === ch ||\n        0x25 === ch ||\n        0x40 === ch ||\n        0x60 === ch) {\n        state.result.startPosition = state.position - 1;\n        state.result.endPosition = state.position - 1;\n        return false;\n    }\n    if (0x3F === ch || 0x2D === ch) {\n        following = state.input.charCodeAt(state.position + 1);\n        if (is_WS_OR_EOL(following) ||\n            withinFlowCollection && is_FLOW_INDICATOR(following)) {\n            return false;\n        }\n    }\n    state.kind = 'scalar';\n    captureStart = captureEnd = state.position;\n    hasPendingContent = false;\n    while (0 !== ch) {\n        if (0x3A === ch) {\n            following = state.input.charCodeAt(state.position + 1);\n            if (is_WS_OR_EOL(following) ||\n                withinFlowCollection && is_FLOW_INDICATOR(following)) {\n                break;\n            }\n        }\n        else if (0x23 === ch) {\n            preceding = state.input.charCodeAt(state.position - 1);\n            if (is_WS_OR_EOL(preceding)) {\n                break;\n            }\n        }\n        else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n            withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n            break;\n        }\n        else if (is_EOL(ch)) {\n            _line = state.line;\n            _lineStart = state.lineStart;\n            _lineIndent = state.lineIndent;\n            skipSeparationSpace(state, false, -1);\n            if (state.lineIndent >= nodeIndent) {\n                hasPendingContent = true;\n                ch = state.input.charCodeAt(state.position);\n                continue;\n            }\n            else {\n                state.position = captureEnd;\n                state.line = _line;\n                state.lineStart = _lineStart;\n                state.lineIndent = _lineIndent;\n                break;\n            }\n        }\n        if (hasPendingContent) {\n            captureSegment(state, captureStart, captureEnd, false);\n            writeFoldedLines(state, state_result, state.line - _line);\n            captureStart = captureEnd = state.position;\n            hasPendingContent = false;\n        }\n        if (!is_WHITE_SPACE(ch)) {\n            captureEnd = state.position + 1;\n        }\n        ch = state.input.charCodeAt(++state.position);\n        if (state.position >= state.input.length) {\n            return false;\n        }\n    }\n    captureSegment(state, captureStart, captureEnd, false);\n    if (state.result.startPosition != -1) {\n        state_result.rawValue = state.input.substring(state_result.startPosition, state_result.endPosition);\n        return true;\n    }\n    state.kind = _kind;\n    state.result = _result;\n    return false;\n}\nfunction readSingleQuotedScalar(state, nodeIndent) {\n    var ch, captureStart, captureEnd;\n    ch = state.input.charCodeAt(state.position);\n    if (0x27 !== ch) {\n        return false;\n    }\n    var scalar = ast.newScalar();\n    scalar.singleQuoted = true;\n    state.kind = 'scalar';\n    state.result = scalar;\n    scalar.startPosition = state.position;\n    state.position++;\n    captureStart = captureEnd = state.position;\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        if (0x27 === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            ch = state.input.charCodeAt(++state.position);\n            scalar.endPosition = state.position;\n            if (0x27 === ch) {\n                captureStart = captureEnd = state.position;\n                state.position++;\n            }\n            else {\n                return true;\n            }\n        }\n        else if (is_EOL(ch)) {\n            captureSegment(state, captureStart, captureEnd, true);\n            writeFoldedLines(state, scalar, skipSeparationSpace(state, false, nodeIndent));\n            captureStart = captureEnd = state.position;\n        }\n        else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n            throwError(state, 'unexpected end of the document within a single quoted scalar');\n        }\n        else {\n            state.position++;\n            captureEnd = state.position;\n            scalar.endPosition = state.position;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n    var captureStart, captureEnd, hexLength, hexResult, tmp, tmpEsc, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x22 !== ch) {\n        return false;\n    }\n    state.kind = 'scalar';\n    var scalar = ast.newScalar();\n    scalar.doubleQuoted = true;\n    state.result = scalar;\n    scalar.startPosition = state.position;\n    state.position++;\n    captureStart = captureEnd = state.position;\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        if (0x22 === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            state.position++;\n            scalar.endPosition = state.position;\n            scalar.rawValue = state.input.substring(scalar.startPosition, scalar.endPosition);\n            return true;\n        }\n        else if (0x5C === ch) {\n            captureSegment(state, captureStart, state.position, true);\n            ch = state.input.charCodeAt(++state.position);\n            if (is_EOL(ch)) {\n                skipSeparationSpace(state, false, nodeIndent);\n            }\n            else if (ch < 256 && (state.allowAnyEscape ? customEscapeCheck[ch] : simpleEscapeCheck[ch])) {\n                scalar.value += (state.allowAnyEscape ? customEscapeMap[ch] : simpleEscapeMap[ch]);\n                state.position++;\n            }\n            else if ((tmp = escapedHexLen(ch)) > 0) {\n                hexLength = tmp;\n                hexResult = 0;\n                for (; hexLength > 0; hexLength--) {\n                    ch = state.input.charCodeAt(++state.position);\n                    if ((tmp = fromHexCode(ch)) >= 0) {\n                        hexResult = (hexResult << 4) + tmp;\n                    }\n                    else {\n                        throwError(state, 'expected hexadecimal character');\n                    }\n                }\n                scalar.value += charFromCodepoint(hexResult);\n                state.position++;\n            }\n            else {\n                throwError(state, 'unknown escape sequence');\n            }\n            captureStart = captureEnd = state.position;\n        }\n        else if (is_EOL(ch)) {\n            captureSegment(state, captureStart, captureEnd, true);\n            writeFoldedLines(state, scalar, skipSeparationSpace(state, false, nodeIndent));\n            captureStart = captureEnd = state.position;\n        }\n        else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n            throwError(state, 'unexpected end of the document within a double quoted scalar');\n        }\n        else {\n            state.position++;\n            captureEnd = state.position;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\nfunction readFlowCollection(state, nodeIndent) {\n    var readNext = true, _line, _tag = state.tag, _result, _anchor = state.anchor, following, terminator, isPair, isExplicitPair, isMapping, keyNode, keyTag, valueNode, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (ch === 0x5B) {\n        terminator = 0x5D;\n        isMapping = false;\n        _result = ast.newItems();\n        _result.startPosition = state.position;\n    }\n    else if (ch === 0x7B) {\n        terminator = 0x7D;\n        isMapping = true;\n        _result = ast.newMap();\n        _result.startPosition = state.position;\n    }\n    else {\n        return false;\n    }\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    ch = state.input.charCodeAt(++state.position);\n    while (0 !== ch) {\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if (ch === terminator) {\n            state.position++;\n            state.tag = _tag;\n            state.anchor = _anchor;\n            state.kind = isMapping ? 'mapping' : 'sequence';\n            state.result = _result;\n            _result.endPosition = state.position;\n            return true;\n        }\n        else if (!readNext) {\n            var p = state.position;\n            throwError(state, 'missed comma between flow collection entries');\n            state.position = p + 1;\n        }\n        keyTag = keyNode = valueNode = null;\n        isPair = isExplicitPair = false;\n        if (0x3F === ch) {\n            following = state.input.charCodeAt(state.position + 1);\n            if (is_WS_OR_EOL(following)) {\n                isPair = isExplicitPair = true;\n                state.position++;\n                skipSeparationSpace(state, true, nodeIndent);\n            }\n        }\n        _line = state.line;\n        composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n        keyTag = state.tag;\n        keyNode = state.result;\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if ((isExplicitPair || state.line === _line) && 0x3A === ch) {\n            isPair = true;\n            ch = state.input.charCodeAt(++state.position);\n            skipSeparationSpace(state, true, nodeIndent);\n            composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n            valueNode = state.result;\n        }\n        if (isMapping) {\n            storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n        }\n        else if (isPair) {\n            var mp = storeMappingPair(state, null, keyTag, keyNode, valueNode);\n            mp.parent = _result;\n            _result.items.push(mp);\n        }\n        else {\n            if (keyNode) {\n                keyNode.parent = _result;\n            }\n            _result.items.push(keyNode);\n        }\n        _result.endPosition = state.position + 1;\n        skipSeparationSpace(state, true, nodeIndent);\n        ch = state.input.charCodeAt(state.position);\n        if (0x2C === ch) {\n            readNext = true;\n            ch = state.input.charCodeAt(++state.position);\n        }\n        else {\n            readNext = false;\n        }\n    }\n    throwError(state, 'unexpected end of the stream within a flow collection');\n}\nfunction readBlockScalar(state, nodeIndent) {\n    var captureStart, folding, chomping = CHOMPING_CLIP, detectedIndent = false, textIndent = nodeIndent, emptyLines = 0, atMoreIndented = false, tmp, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (ch === 0x7C) {\n        folding = false;\n    }\n    else if (ch === 0x3E) {\n        folding = true;\n    }\n    else {\n        return false;\n    }\n    var sc = ast.newScalar();\n    state.kind = 'scalar';\n    state.result = sc;\n    sc.startPosition = state.position;\n    while (0 !== ch) {\n        ch = state.input.charCodeAt(++state.position);\n        if (0x2B === ch || 0x2D === ch) {\n            if (CHOMPING_CLIP === chomping) {\n                chomping = (0x2B === ch) ? CHOMPING_KEEP : CHOMPING_STRIP;\n            }\n            else {\n                throwError(state, 'repeat of a chomping mode identifier');\n            }\n        }\n        else if ((tmp = fromDecimalCode(ch)) >= 0) {\n            if (tmp === 0) {\n                throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n            }\n            else if (!detectedIndent) {\n                textIndent = nodeIndent + tmp - 1;\n                detectedIndent = true;\n            }\n            else {\n                throwError(state, 'repeat of an indentation width identifier');\n            }\n        }\n        else {\n            break;\n        }\n    }\n    if (is_WHITE_SPACE(ch)) {\n        do {\n            ch = state.input.charCodeAt(++state.position);\n        } while (is_WHITE_SPACE(ch));\n        if (0x23 === ch) {\n            do {\n                ch = state.input.charCodeAt(++state.position);\n            } while (!is_EOL(ch) && (0 !== ch));\n        }\n    }\n    while (0 !== ch) {\n        readLineBreak(state);\n        state.lineIndent = 0;\n        ch = state.input.charCodeAt(state.position);\n        while ((!detectedIndent || state.lineIndent < textIndent) &&\n            (0x20 === ch)) {\n            state.lineIndent++;\n            ch = state.input.charCodeAt(++state.position);\n        }\n        if (!detectedIndent && state.lineIndent > textIndent) {\n            textIndent = state.lineIndent;\n        }\n        if (is_EOL(ch)) {\n            emptyLines++;\n            continue;\n        }\n        if (state.lineIndent < textIndent) {\n            if (chomping === CHOMPING_KEEP) {\n                sc.value += common.repeat('\\n', emptyLines);\n            }\n            else if (chomping === CHOMPING_CLIP) {\n                if (detectedIndent) {\n                    sc.value += '\\n';\n                }\n            }\n            break;\n        }\n        if (folding) {\n            if (is_WHITE_SPACE(ch)) {\n                atMoreIndented = true;\n                sc.value += common.repeat('\\n', emptyLines + 1);\n            }\n            else if (atMoreIndented) {\n                atMoreIndented = false;\n                sc.value += common.repeat('\\n', emptyLines + 1);\n            }\n            else if (0 === emptyLines) {\n                if (detectedIndent) {\n                    sc.value += ' ';\n                }\n            }\n            else {\n                sc.value += common.repeat('\\n', emptyLines);\n            }\n        }\n        else if (detectedIndent) {\n            sc.value += common.repeat('\\n', emptyLines + 1);\n        }\n        else {\n        }\n        detectedIndent = true;\n        emptyLines = 0;\n        captureStart = state.position;\n        while (!is_EOL(ch) && (0 !== ch)) {\n            ch = state.input.charCodeAt(++state.position);\n        }\n        captureSegment(state, captureStart, state.position, false);\n    }\n    sc.endPosition = state.position;\n    var i = state.position - 1;\n    var needMinus = false;\n    while (true) {\n        var c = state.input[i];\n        if (c == '\\r' || c == '\\n') {\n            if (needMinus) {\n                i--;\n            }\n            break;\n        }\n        if (c != ' ' && c != '\\t') {\n            break;\n        }\n        i--;\n    }\n    sc.endPosition = i;\n    sc.rawValue = state.input.substring(sc.startPosition, sc.endPosition);\n    return true;\n}\nfunction readBlockSequence(state, nodeIndent) {\n    var _line, _tag = state.tag, _anchor = state.anchor, _result = ast.newItems(), following, detected = false, ch;\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    _result.startPosition = state.position;\n    ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        if (0x2D !== ch) {\n            break;\n        }\n        following = state.input.charCodeAt(state.position + 1);\n        if (!is_WS_OR_EOL(following)) {\n            break;\n        }\n        detected = true;\n        state.position++;\n        if (skipSeparationSpace(state, true, -1)) {\n            if (state.lineIndent <= nodeIndent) {\n                _result.items.push(null);\n                ch = state.input.charCodeAt(state.position);\n                continue;\n            }\n        }\n        _line = state.line;\n        composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n        if (state.result) {\n            state.result.parent = _result;\n            _result.items.push(state.result);\n        }\n        skipSeparationSpace(state, true, -1);\n        ch = state.input.charCodeAt(state.position);\n        if ((state.line === _line || state.lineIndent > nodeIndent) && (0 !== ch)) {\n            throwError(state, 'bad indentation of a sequence entry');\n        }\n        else if (state.lineIndent < nodeIndent) {\n            break;\n        }\n    }\n    _result.endPosition = state.position;\n    if (detected) {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        state.kind = 'sequence';\n        state.result = _result;\n        _result.endPosition = state.position;\n        return true;\n    }\n    return false;\n}\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n    var following, allowCompact, _line, _tag = state.tag, _anchor = state.anchor, _result = ast.newMap(), keyTag = null, keyNode = null, valueNode = null, atExplicitKey = false, detected = false, ch;\n    _result.startPosition = state.position;\n    if (null !== state.anchor) {\n        _result.anchorId = state.anchor;\n        state.anchorMap[state.anchor] = _result;\n    }\n    ch = state.input.charCodeAt(state.position);\n    while (0 !== ch) {\n        following = state.input.charCodeAt(state.position + 1);\n        _line = state.line;\n        if ((0x3F === ch || 0x3A === ch) && is_WS_OR_EOL(following)) {\n            if (0x3F === ch) {\n                if (atExplicitKey) {\n                    storeMappingPair(state, _result, keyTag, keyNode, null);\n                    keyTag = keyNode = valueNode = null;\n                }\n                detected = true;\n                atExplicitKey = true;\n                allowCompact = true;\n            }\n            else if (atExplicitKey) {\n                atExplicitKey = false;\n                allowCompact = true;\n            }\n            else {\n                throwError(state, 'incomplete explicit mapping pair; a key node is missed');\n            }\n            state.position += 1;\n            ch = following;\n        }\n        else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n            if (state.line === _line) {\n                ch = state.input.charCodeAt(state.position);\n                while (is_WHITE_SPACE(ch)) {\n                    ch = state.input.charCodeAt(++state.position);\n                }\n                if (0x3A === ch) {\n                    ch = state.input.charCodeAt(++state.position);\n                    if (!is_WS_OR_EOL(ch)) {\n                        throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n                    }\n                    if (atExplicitKey) {\n                        storeMappingPair(state, _result, keyTag, keyNode, null);\n                        keyTag = keyNode = valueNode = null;\n                    }\n                    detected = true;\n                    atExplicitKey = false;\n                    allowCompact = false;\n                    keyTag = state.tag;\n                    keyNode = state.result;\n                }\n                else if (state.position == state.lineStart && testDocumentSeparator(state)) {\n                    break;\n                }\n                else if (detected) {\n                    throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n                }\n                else {\n                    state.tag = _tag;\n                    state.anchor = _anchor;\n                    return true;\n                }\n            }\n            else if (detected) {\n                throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n                while (state.position > 0) {\n                    ch = state.input.charCodeAt(--state.position);\n                    if (is_EOL(ch)) {\n                        state.position++;\n                        break;\n                    }\n                }\n            }\n            else {\n                state.tag = _tag;\n                state.anchor = _anchor;\n                return true;\n            }\n        }\n        else {\n            break;\n        }\n        if (state.line === _line || state.lineIndent > nodeIndent) {\n            if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n                if (atExplicitKey) {\n                    keyNode = state.result;\n                }\n                else {\n                    valueNode = state.result;\n                }\n            }\n            if (!atExplicitKey) {\n                storeMappingPair(state, _result, keyTag, keyNode, valueNode);\n                keyTag = keyNode = valueNode = null;\n            }\n            skipSeparationSpace(state, true, -1);\n            ch = state.input.charCodeAt(state.position);\n        }\n        if (state.lineIndent > nodeIndent && (0 !== ch)) {\n            throwError(state, 'bad indentation of a mapping entry');\n        }\n        else if (state.lineIndent < nodeIndent) {\n            break;\n        }\n    }\n    if (atExplicitKey) {\n        storeMappingPair(state, _result, keyTag, keyNode, null);\n    }\n    if (detected) {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        state.kind = 'mapping';\n        state.result = _result;\n    }\n    return detected;\n}\nfunction readTagProperty(state) {\n    var _position, isVerbatim = false, isNamed = false, tagHandle, tagName, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x21 !== ch) {\n        return false;\n    }\n    if (null !== state.tag) {\n        throwError(state, 'duplication of a tag property');\n    }\n    ch = state.input.charCodeAt(++state.position);\n    if (0x3C === ch) {\n        isVerbatim = true;\n        ch = state.input.charCodeAt(++state.position);\n    }\n    else if (0x21 === ch) {\n        isNamed = true;\n        tagHandle = '!!';\n        ch = state.input.charCodeAt(++state.position);\n    }\n    else {\n        tagHandle = '!';\n    }\n    _position = state.position;\n    if (isVerbatim) {\n        do {\n            ch = state.input.charCodeAt(++state.position);\n        } while (0 !== ch && 0x3E !== ch);\n        if (state.position < state.length) {\n            tagName = state.input.slice(_position, state.position);\n            ch = state.input.charCodeAt(++state.position);\n        }\n        else {\n            throwError(state, 'unexpected end of the stream within a verbatim tag');\n        }\n    }\n    else {\n        while (0 !== ch && !is_WS_OR_EOL(ch)) {\n            if (0x21 === ch) {\n                if (!isNamed) {\n                    tagHandle = state.input.slice(_position - 1, state.position + 1);\n                    if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n                        throwError(state, 'named tag handle cannot contain such characters');\n                    }\n                    isNamed = true;\n                    _position = state.position + 1;\n                }\n                else {\n                    throwError(state, 'tag suffix cannot contain exclamation marks');\n                }\n            }\n            ch = state.input.charCodeAt(++state.position);\n        }\n        tagName = state.input.slice(_position, state.position);\n        if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n            throwError(state, 'tag suffix cannot contain flow indicator characters');\n        }\n    }\n    if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n        throwError(state, 'tag name cannot contain such characters: ' + tagName);\n    }\n    if (isVerbatim) {\n        state.tag = tagName;\n    }\n    else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n        state.tag = state.tagMap[tagHandle] + tagName;\n    }\n    else if ('!' === tagHandle) {\n        state.tag = '!' + tagName;\n    }\n    else if ('!!' === tagHandle) {\n        state.tag = 'tag:yaml.org,2002:' + tagName;\n    }\n    else {\n        throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n    }\n    return true;\n}\nfunction readAnchorProperty(state) {\n    var _position, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x26 !== ch) {\n        return false;\n    }\n    if (null !== state.anchor) {\n        throwError(state, 'duplication of an anchor property');\n    }\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n    while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n    }\n    if (state.position === _position) {\n        throwError(state, 'name of an anchor node must contain at least one character');\n    }\n    state.anchor = state.input.slice(_position, state.position);\n    return true;\n}\nfunction readAlias(state) {\n    var _position, alias, len = state.length, input = state.input, ch;\n    ch = state.input.charCodeAt(state.position);\n    if (0x2A !== ch) {\n        return false;\n    }\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n    while (0 !== ch && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n    }\n    if (state.position <= _position) {\n        throwError(state, 'name of an alias node must contain at least one character');\n        state.position = _position + 1;\n    }\n    alias = state.input.slice(_position, state.position);\n    if (!state.anchorMap.hasOwnProperty(alias)) {\n        throwError(state, 'unidentified alias \"' + alias + '\"');\n        if (state.position <= _position) {\n            state.position = _position + 1;\n        }\n    }\n    state.result = ast.newAnchorRef(alias, _position, state.position, state.anchorMap[alias]);\n    skipSeparationSpace(state, true, -1);\n    return true;\n}\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n    var allowBlockStyles, allowBlockScalars, allowBlockCollections, indentStatus = 1, atNewLine = false, hasContent = false, typeIndex, typeQuantity, type, flowIndent, blockIndent, _result;\n    state.tag = null;\n    state.anchor = null;\n    state.kind = null;\n    state.result = null;\n    allowBlockStyles = allowBlockScalars = allowBlockCollections =\n        CONTEXT_BLOCK_OUT === nodeContext ||\n            CONTEXT_BLOCK_IN === nodeContext;\n    if (allowToSeek) {\n        if (skipSeparationSpace(state, true, -1)) {\n            atNewLine = true;\n            if (state.lineIndent > parentIndent) {\n                indentStatus = 1;\n            }\n            else if (state.lineIndent === parentIndent) {\n                indentStatus = 0;\n            }\n            else if (state.lineIndent < parentIndent) {\n                indentStatus = -1;\n            }\n        }\n    }\n    let tagStart = state.position;\n    let tagColumn = state.position - state.lineStart;\n    if (1 === indentStatus) {\n        while (readTagProperty(state) || readAnchorProperty(state)) {\n            if (skipSeparationSpace(state, true, -1)) {\n                atNewLine = true;\n                allowBlockCollections = allowBlockStyles;\n                if (state.lineIndent > parentIndent) {\n                    indentStatus = 1;\n                }\n                else if (state.lineIndent === parentIndent) {\n                    indentStatus = 0;\n                }\n                else if (state.lineIndent < parentIndent) {\n                    indentStatus = -1;\n                }\n            }\n            else {\n                allowBlockCollections = false;\n            }\n        }\n    }\n    if (allowBlockCollections) {\n        allowBlockCollections = atNewLine || allowCompact;\n    }\n    if (1 === indentStatus || CONTEXT_BLOCK_OUT === nodeContext) {\n        if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n            flowIndent = parentIndent;\n        }\n        else {\n            flowIndent = parentIndent + 1;\n        }\n        blockIndent = state.position - state.lineStart;\n        if (1 === indentStatus) {\n            if (allowBlockCollections &&\n                (readBlockSequence(state, blockIndent) ||\n                    readBlockMapping(state, blockIndent, flowIndent)) ||\n                readFlowCollection(state, flowIndent)) {\n                hasContent = true;\n            }\n            else {\n                if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n                    readSingleQuotedScalar(state, flowIndent) ||\n                    readDoubleQuotedScalar(state, flowIndent)) {\n                    hasContent = true;\n                }\n                else if (readAlias(state)) {\n                    hasContent = true;\n                    if (null !== state.tag || null !== state.anchor) {\n                        throwError(state, 'alias node should not have any properties');\n                    }\n                }\n                else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n                    hasContent = true;\n                    if (null === state.tag) {\n                        state.tag = '?';\n                    }\n                }\n                if (null !== state.anchor) {\n                    state.anchorMap[state.anchor] = state.result;\n                    state.result.anchorId = state.anchor;\n                }\n            }\n        }\n        else if (0 === indentStatus) {\n            hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n        }\n    }\n    if (null !== state.tag && '!' !== state.tag) {\n        if (state.tag == \"!include\") {\n            if (!state.result) {\n                state.result = ast.newScalar();\n                state.result.startPosition = state.position;\n                state.result.endPosition = state.position;\n                throwError(state, \"!include without value\");\n            }\n            state.result.kind = ast.Kind.INCLUDE_REF;\n        }\n        else if ('?' === state.tag) {\n            for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n                type = state.implicitTypes[typeIndex];\n                var vl = state.result['value'];\n                if (type.resolve(vl)) {\n                    state.result.valueObject = type.construct(state.result['value']);\n                    state.tag = type.tag;\n                    if (null !== state.anchor) {\n                        state.result.anchorId = state.anchor;\n                        state.anchorMap[state.anchor] = state.result;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (_hasOwnProperty.call(state.typeMap, state.tag)) {\n            type = state.typeMap[state.tag];\n            if (null !== state.result && type.kind !== state.kind && (!type.additionalKinds || (type.additionalKinds && type.additionalKinds.indexOf(state.kind) === -1))) {\n                throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n            }\n            if (!type.resolve(state.result)) {\n                throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n            }\n            else {\n                state.result = type.construct(state.result);\n                if (null !== state.anchor) {\n                    state.result.anchorId = state.anchor;\n                    state.anchorMap[state.anchor] = state.result;\n                }\n            }\n        }\n        else {\n            throwErrorFromPosition(state, tagStart, 'unknown tag <' + state.tag + '>', false, true);\n        }\n    }\n    return null !== state.tag || null !== state.anchor || hasContent;\n}\nfunction readDocument(state) {\n    var documentStart = state.position, _position, directiveName, directiveArgs, hasDirectives = false, ch;\n    state.version = null;\n    state.checkLineBreaks = state.legacy;\n    state.tagMap = {};\n    state.anchorMap = {};\n    while (0 !== (ch = state.input.charCodeAt(state.position))) {\n        skipSeparationSpace(state, true, -1);\n        ch = state.input.charCodeAt(state.position);\n        if (state.lineIndent > 0 || 0x25 !== ch) {\n            break;\n        }\n        hasDirectives = true;\n        ch = state.input.charCodeAt(++state.position);\n        _position = state.position;\n        while (0 !== ch && !is_WS_OR_EOL(ch)) {\n            ch = state.input.charCodeAt(++state.position);\n        }\n        directiveName = state.input.slice(_position, state.position);\n        directiveArgs = [];\n        if (directiveName.length < 1) {\n            throwError(state, 'directive name must not be less than one character in length');\n        }\n        while (0 !== ch) {\n            while (is_WHITE_SPACE(ch)) {\n                ch = state.input.charCodeAt(++state.position);\n            }\n            if (0x23 === ch) {\n                do {\n                    ch = state.input.charCodeAt(++state.position);\n                } while (0 !== ch && !is_EOL(ch));\n                break;\n            }\n            if (is_EOL(ch)) {\n                break;\n            }\n            _position = state.position;\n            while (0 !== ch && !is_WS_OR_EOL(ch)) {\n                ch = state.input.charCodeAt(++state.position);\n            }\n            directiveArgs.push(state.input.slice(_position, state.position));\n        }\n        if (0 !== ch) {\n            readLineBreak(state);\n        }\n        if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n            directiveHandlers[directiveName](state, directiveName, directiveArgs);\n        }\n        else {\n            throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n            state.position++;\n        }\n    }\n    skipSeparationSpace(state, true, -1);\n    if (0 === state.lineIndent &&\n        0x2D === state.input.charCodeAt(state.position) &&\n        0x2D === state.input.charCodeAt(state.position + 1) &&\n        0x2D === state.input.charCodeAt(state.position + 2)) {\n        state.position += 3;\n        skipSeparationSpace(state, true, -1);\n    }\n    else if (hasDirectives) {\n        throwError(state, 'directives end mark is expected');\n    }\n    composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n    skipSeparationSpace(state, true, -1);\n    if (state.checkLineBreaks &&\n        PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n        throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n    }\n    state.documents.push(state.result);\n    if (state.position === state.lineStart && testDocumentSeparator(state)) {\n        if (0x2E === state.input.charCodeAt(state.position)) {\n            state.position += 3;\n            skipSeparationSpace(state, true, -1);\n        }\n        return;\n    }\n    if (state.position < (state.length - 1)) {\n        throwError(state, 'end of the stream or a document separator is expected');\n    }\n    else {\n        return;\n    }\n}\nfunction loadDocuments(input, options) {\n    input = String(input);\n    options = options || {};\n    let inputLength = input.length;\n    if (inputLength !== 0) {\n        if (0x0A !== input.charCodeAt(inputLength - 1) &&\n            0x0D !== input.charCodeAt(inputLength - 1)) {\n            input += '\\n';\n        }\n        if (input.charCodeAt(0) === 0xFEFF) {\n            input = input.slice(1);\n        }\n    }\n    var state = new State(input, options);\n    state.input += '\\0';\n    while (0x20 === state.input.charCodeAt(state.position)) {\n        state.lineIndent += 1;\n        state.position += 1;\n    }\n    while (state.position < (state.length - 1)) {\n        var q = state.position;\n        readDocument(state);\n        if (state.position <= q) {\n            for (; state.position < state.length - 1; state.position++) {\n                var c = state.input.charAt(state.position);\n                if (c == '\\n') {\n                    break;\n                }\n            }\n        }\n    }\n    let documents = state.documents;\n    let docsCount = documents.length;\n    if (docsCount > 0) {\n        documents[docsCount - 1].endPosition = inputLength;\n    }\n    for (let x of documents) {\n        x.errors = state.errors;\n        if (x.startPosition > x.endPosition) {\n            x.startPosition = x.endPosition;\n        }\n    }\n    return documents;\n}\nfunction loadAll(input, iterator, options = {}) {\n    var documents = loadDocuments(input, options), index, length;\n    for (index = 0, length = documents.length; index < length; index += 1) {\n        iterator(documents[index]);\n    }\n}\nexports.loadAll = loadAll;\nfunction load(input, options = {}) {\n    var documents = loadDocuments(input, options), index, length;\n    if (0 === documents.length) {\n        return undefined;\n    }\n    else if (1 === documents.length) {\n        return documents[0];\n    }\n    var e = new YAMLException('expected a single document in the stream, but found more');\n    e.mark = new Mark(\"\", \"\", 0, 0, 0);\n    e.mark.position = documents[0].endPosition;\n    documents[0].errors.push(e);\n    return documents[0];\n}\nexports.load = load;\nfunction safeLoadAll(input, output, options = {}) {\n    loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeLoadAll = safeLoadAll;\nfunction safeLoad(input, options = {}) {\n    return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeLoad = safeLoad;\nmodule.exports.loadAll = loadAll;\nmodule.exports.load = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad = safeLoad;\n//# sourceMappingURL=loader.js.map","'use strict';\nconst common = require(\"./common\");\nclass Mark {\n    constructor(name, buffer, position, line, column) {\n        this.name = name;\n        this.buffer = buffer;\n        this.position = position;\n        this.line = line;\n        this.column = column;\n    }\n    getSnippet(indent = 0, maxLength = 75) {\n        var head, start, tail, end, snippet;\n        if (!this.buffer) {\n            return null;\n        }\n        indent = indent || 4;\n        maxLength = maxLength || 75;\n        head = '';\n        start = this.position;\n        while (start > 0 && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1))) {\n            start -= 1;\n            if (this.position - start > (maxLength / 2 - 1)) {\n                head = ' ... ';\n                start += 5;\n                break;\n            }\n        }\n        tail = '';\n        end = this.position;\n        while (end < this.buffer.length && -1 === '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end))) {\n            end += 1;\n            if (end - this.position > (maxLength / 2 - 1)) {\n                tail = ' ... ';\n                end -= 5;\n                break;\n            }\n        }\n        snippet = this.buffer.slice(start, end);\n        return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n            common.repeat(' ', indent + this.position - start + head.length) + '^';\n    }\n    toString(compact = true) {\n        var snippet, where = '';\n        if (this.name) {\n            where += 'in \"' + this.name + '\" ';\n        }\n        where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n        if (!compact) {\n            snippet = this.getSnippet();\n            if (snippet) {\n                where += ':\\n' + snippet;\n            }\n        }\n        return where;\n    }\n}\nmodule.exports = Mark;\n//# sourceMappingURL=mark.js.map","'use strict';\nconst schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    include: [\n        require('./json')\n    ]\n});\n//# sourceMappingURL=core.js.map","'use strict';\nconst schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    include: [\n        require('./failsafe')\n    ],\n    implicit: [\n        require('../type/null'),\n        require('../type/bool'),\n        require('../type/int'),\n        require('../type/float')\n    ]\n});\n//# sourceMappingURL=json.js.map","'use strict';\nconst schema_1 = require(\"../schema\");\nmodule.exports = new schema_1.Schema({\n    explicit: [\n        require('../type/str'),\n        require('../type/seq'),\n        require('../type/map')\n    ]\n});\n//# sourceMappingURL=failsafe.js.map","'use strict';\nconst type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:str', {\n    kind: 'scalar',\n    construct: function (data) { return null !== data ? data : ''; }\n});\n//# sourceMappingURL=str.js.map","'use strict';\nconst type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:seq', {\n    kind: 'sequence',\n    construct: function (data) { return null !== data ? data : []; }\n});\n//# sourceMappingURL=seq.js.map","'use strict';\nconst type_1 = require(\"../type\");\nmodule.exports = new type_1.Type('tag:yaml.org,2002:map', {\n    kind: 'mapping',\n    construct: function (data) { return null !== data ? data : {}; }\n});\n//# sourceMappingURL=map.js.map","'use strict';\nconst type_1 = require(\"../type\");\nfunction resolveYamlNull(data) {\n    if (null === data) {\n        return true;\n    }\n    var max = data.length;\n    return (max === 1 && data === '~') ||\n        (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\nfunction constructYamlNull() {\n    return null;\n}\nfunction isNull(object) {\n    return null === object;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:null', {\n    kind: 'scalar',\n    resolve: resolveYamlNull,\n    construct: constructYamlNull,\n    predicate: isNull,\n    represent: {\n        canonical: function () { return '~'; },\n        lowercase: function () { return 'null'; },\n        uppercase: function () { return 'NULL'; },\n        camelcase: function () { return 'Null'; }\n    },\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=null.js.map","\"use strict\";\n'use strict';\nconst type_1 = require(\"../type\");\nfunction resolveYamlBoolean(data) {\n    if (null === data) {\n        return false;\n    }\n    var max = data.length;\n    return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n        (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\nfunction constructYamlBoolean(data) {\n    return data === 'true' ||\n        data === 'True' ||\n        data === 'TRUE';\n}\nfunction isBoolean(object) {\n    return '[object Boolean]' === Object.prototype.toString.call(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:bool', {\n    kind: 'scalar',\n    resolve: resolveYamlBoolean,\n    construct: constructYamlBoolean,\n    predicate: isBoolean,\n    represent: {\n        lowercase: function (object) { return object ? 'true' : 'false'; },\n        uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n        camelcase: function (object) { return object ? 'True' : 'False'; }\n    },\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=bool.js.map","'use strict';\nconst common = require(\"../common\");\nconst type_1 = require(\"../type\");\nfunction isHexCode(c) {\n    return ((0x30 <= c) && (c <= 0x39)) ||\n        ((0x41 <= c) && (c <= 0x46)) ||\n        ((0x61 <= c) && (c <= 0x66));\n}\nfunction isOctCode(c) {\n    return ((0x30 <= c) && (c <= 0x37));\n}\nfunction isDecCode(c) {\n    return ((0x30 <= c) && (c <= 0x39));\n}\nfunction resolveYamlInteger(data) {\n    if (null === data) {\n        return false;\n    }\n    var max = data.length, index = 0, hasDigits = false, ch;\n    if (!max) {\n        return false;\n    }\n    ch = data[index];\n    if (ch === '-' || ch === '+') {\n        ch = data[++index];\n    }\n    if (ch === '0') {\n        if (index + 1 === max) {\n            return true;\n        }\n        ch = data[++index];\n        if (ch === 'b') {\n            index++;\n            for (; index < max; index++) {\n                ch = data[index];\n                if (ch === '_') {\n                    continue;\n                }\n                if (ch !== '0' && ch !== '1') {\n                    return false;\n                }\n                hasDigits = true;\n            }\n            return hasDigits;\n        }\n        if (ch === 'x') {\n            index++;\n            for (; index < max; index++) {\n                ch = data[index];\n                if (ch === '_') {\n                    continue;\n                }\n                if (!isHexCode(data.charCodeAt(index))) {\n                    return false;\n                }\n                hasDigits = true;\n            }\n            return hasDigits;\n        }\n        for (; index < max; index++) {\n            ch = data[index];\n            if (ch === '_') {\n                continue;\n            }\n            if (!isOctCode(data.charCodeAt(index))) {\n                return false;\n            }\n            hasDigits = true;\n        }\n        return hasDigits;\n    }\n    for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') {\n            continue;\n        }\n        if (ch === ':') {\n            break;\n        }\n        if (!isDecCode(data.charCodeAt(index))) {\n            return false;\n        }\n        hasDigits = true;\n    }\n    if (!hasDigits) {\n        return false;\n    }\n    if (ch !== ':') {\n        return true;\n    }\n    return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\nfunction constructYamlInteger(data) {\n    var value = data, sign = 1, ch, base, digits = [];\n    if (value.indexOf('_') !== -1) {\n        value = value.replace(/_/g, '');\n    }\n    ch = value[0];\n    if (ch === '-' || ch === '+') {\n        if (ch === '-') {\n            sign = -1;\n        }\n        value = value.slice(1);\n        ch = value[0];\n    }\n    if ('0' === value) {\n        return 0;\n    }\n    if (ch === '0') {\n        if (value[1] === 'b') {\n            return sign * parseInt(value.slice(2), 2);\n        }\n        if (value[1] === 'x') {\n            return sign * parseInt(value, 16);\n        }\n        return sign * parseInt(value, 8);\n    }\n    if (value.indexOf(':') !== -1) {\n        value.split(':').forEach(function (v) {\n            digits.unshift(parseInt(v, 10));\n        });\n        value = 0;\n        base = 1;\n        digits.forEach(function (d) {\n            value += (d * base);\n            base *= 60;\n        });\n        return sign * value;\n    }\n    return sign * parseInt(value, 10);\n}\nfunction isInteger(object) {\n    return ('[object Number]' === Object.prototype.toString.call(object)) &&\n        (0 === object % 1 && !common.isNegativeZero(object));\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:int', {\n    kind: 'scalar',\n    resolve: resolveYamlInteger,\n    construct: constructYamlInteger,\n    predicate: isInteger,\n    represent: {\n        binary: function (object) { return '0b' + object.toString(2); },\n        octal: function (object) { return '0' + object.toString(8); },\n        decimal: function (object) { return object.toString(10); },\n        hexadecimal: function (object) { return '0x' + object.toString(16).toUpperCase(); }\n    },\n    defaultStyle: 'decimal',\n    styleAliases: {\n        binary: [2, 'bin'],\n        octal: [8, 'oct'],\n        decimal: [10, 'dec'],\n        hexadecimal: [16, 'hex']\n    }\n});\n//# sourceMappingURL=int.js.map","'use strict';\nconst common = require(\"../common\");\nconst type_1 = require(\"../type\");\nvar YAML_FLOAT_PATTERN = new RegExp('^(?:[-+]?(?:[0-9][0-9_]*)\\\\.[0-9_]*(?:[eE][-+][0-9]+)?' +\n    '|\\\\.[0-9_]+(?:[eE][-+][0-9]+)?' +\n    '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n    '|[-+]?\\\\.(?:inf|Inf|INF)' +\n    '|\\\\.(?:nan|NaN|NAN))$');\nfunction resolveYamlFloat(data) {\n    if (null === data) {\n        return false;\n    }\n    var value, sign, base, digits;\n    if (!YAML_FLOAT_PATTERN.test(data)) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlFloat(data) {\n    var value, sign, base, digits;\n    value = data.replace(/_/g, '').toLowerCase();\n    sign = '-' === value[0] ? -1 : 1;\n    digits = [];\n    if (0 <= '+-'.indexOf(value[0])) {\n        value = value.slice(1);\n    }\n    if ('.inf' === value) {\n        return (1 === sign) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n    }\n    else if ('.nan' === value) {\n        return NaN;\n    }\n    else if (0 <= value.indexOf(':')) {\n        value.split(':').forEach(function (v) {\n            digits.unshift(parseFloat(v, 10));\n        });\n        value = 0.0;\n        base = 1;\n        digits.forEach(function (d) {\n            value += d * base;\n            base *= 60;\n        });\n        return sign * value;\n    }\n    return sign * parseFloat(value, 10);\n}\nfunction representYamlFloat(object, style) {\n    if (isNaN(object)) {\n        switch (style) {\n            case 'lowercase':\n                return '.nan';\n            case 'uppercase':\n                return '.NAN';\n            case 'camelcase':\n                return '.NaN';\n        }\n    }\n    else if (Number.POSITIVE_INFINITY === object) {\n        switch (style) {\n            case 'lowercase':\n                return '.inf';\n            case 'uppercase':\n                return '.INF';\n            case 'camelcase':\n                return '.Inf';\n        }\n    }\n    else if (Number.NEGATIVE_INFINITY === object) {\n        switch (style) {\n            case 'lowercase':\n                return '-.inf';\n            case 'uppercase':\n                return '-.INF';\n            case 'camelcase':\n                return '-.Inf';\n        }\n    }\n    else if (common.isNegativeZero(object)) {\n        return '-0.0';\n    }\n    return object.toString(10);\n}\nfunction isFloat(object) {\n    return ('[object Number]' === Object.prototype.toString.call(object)) &&\n        (0 !== object % 1 || common.isNegativeZero(object));\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:float', {\n    kind: 'scalar',\n    resolve: resolveYamlFloat,\n    construct: constructYamlFloat,\n    predicate: isFloat,\n    represent: representYamlFloat,\n    defaultStyle: 'lowercase'\n});\n//# sourceMappingURL=float.js.map","'use strict';\nconst type_1 = require(\"../type\");\nvar YAML_TIMESTAMP_REGEXP = new RegExp('^([0-9][0-9][0-9][0-9])' +\n    '-([0-9][0-9]?)' +\n    '-([0-9][0-9]?)' +\n    '(?:(?:[Tt]|[ \\\\t]+)' +\n    '([0-9][0-9]?)' +\n    ':([0-9][0-9])' +\n    ':([0-9][0-9])' +\n    '(?:\\\\.([0-9]*))?' +\n    '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' +\n    '(?::([0-9][0-9]))?))?)?$');\nfunction resolveYamlTimestamp(data) {\n    if (null === data) {\n        return false;\n    }\n    var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;\n    match = YAML_TIMESTAMP_REGEXP.exec(data);\n    if (null === match) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlTimestamp(data) {\n    var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;\n    match = YAML_TIMESTAMP_REGEXP.exec(data);\n    if (null === match) {\n        throw new Error('Date resolve error');\n    }\n    year = +(match[1]);\n    month = +(match[2]) - 1;\n    day = +(match[3]);\n    if (!match[4]) {\n        return new Date(Date.UTC(year, month, day));\n    }\n    hour = +(match[4]);\n    minute = +(match[5]);\n    second = +(match[6]);\n    if (match[7]) {\n        fraction = match[7].slice(0, 3);\n        while (fraction.length < 3) {\n            fraction = fraction + '0';\n        }\n        fraction = +fraction;\n    }\n    if (match[9]) {\n        tz_hour = +(match[10]);\n        tz_minute = +(match[11] || 0);\n        delta = (tz_hour * 60 + tz_minute) * 60000;\n        if ('-' === match[9]) {\n            delta = -delta;\n        }\n    }\n    date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n    if (delta) {\n        date.setTime(date.getTime() - delta);\n    }\n    return date;\n}\nfunction representYamlTimestamp(object) {\n    return object.toISOString();\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:timestamp', {\n    kind: 'scalar',\n    resolve: resolveYamlTimestamp,\n    construct: constructYamlTimestamp,\n    instanceOf: Date,\n    represent: representYamlTimestamp\n});\n//# sourceMappingURL=timestamp.js.map","'use strict';\nconst type_1 = require(\"../type\");\nfunction resolveYamlMerge(data) {\n    return '<<' === data || null === data;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:merge', {\n    kind: 'scalar',\n    resolve: resolveYamlMerge\n});\n//# sourceMappingURL=merge.js.map","'use strict';\nvar NodeBuffer = require('buffer').Buffer;\nconst type_1 = require(\"../type\");\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\nfunction resolveYamlBinary(data) {\n    if (null === data) {\n        return false;\n    }\n    var code, idx, bitlen = 0, len = 0, max = data.length, map = BASE64_MAP;\n    for (idx = 0; idx < max; idx++) {\n        code = map.indexOf(data.charAt(idx));\n        if (code > 64) {\n            continue;\n        }\n        if (code < 0) {\n            return false;\n        }\n        bitlen += 6;\n    }\n    return (bitlen % 8) === 0;\n}\nfunction constructYamlBinary(data) {\n    var code, idx, tailbits, input = data.replace(/[\\r\\n=]/g, ''), max = input.length, map = BASE64_MAP, bits = 0, result = [];\n    for (idx = 0; idx < max; idx++) {\n        if ((idx % 4 === 0) && idx) {\n            result.push((bits >> 16) & 0xFF);\n            result.push((bits >> 8) & 0xFF);\n            result.push(bits & 0xFF);\n        }\n        bits = (bits << 6) | map.indexOf(input.charAt(idx));\n    }\n    tailbits = (max % 4) * 6;\n    if (tailbits === 0) {\n        result.push((bits >> 16) & 0xFF);\n        result.push((bits >> 8) & 0xFF);\n        result.push(bits & 0xFF);\n    }\n    else if (tailbits === 18) {\n        result.push((bits >> 10) & 0xFF);\n        result.push((bits >> 2) & 0xFF);\n    }\n    else if (tailbits === 12) {\n        result.push((bits >> 4) & 0xFF);\n    }\n    if (NodeBuffer) {\n        return new NodeBuffer(result);\n    }\n    return result;\n}\nfunction representYamlBinary(object) {\n    var result = '', bits = 0, idx, tail, max = object.length, map = BASE64_MAP;\n    for (idx = 0; idx < max; idx++) {\n        if ((idx % 3 === 0) && idx) {\n            result += map[(bits >> 18) & 0x3F];\n            result += map[(bits >> 12) & 0x3F];\n            result += map[(bits >> 6) & 0x3F];\n            result += map[bits & 0x3F];\n        }\n        bits = (bits << 8) + object[idx];\n    }\n    tail = max % 3;\n    if (tail === 0) {\n        result += map[(bits >> 18) & 0x3F];\n        result += map[(bits >> 12) & 0x3F];\n        result += map[(bits >> 6) & 0x3F];\n        result += map[bits & 0x3F];\n    }\n    else if (tail === 2) {\n        result += map[(bits >> 10) & 0x3F];\n        result += map[(bits >> 4) & 0x3F];\n        result += map[(bits << 2) & 0x3F];\n        result += map[64];\n    }\n    else if (tail === 1) {\n        result += map[(bits >> 2) & 0x3F];\n        result += map[(bits << 4) & 0x3F];\n        result += map[64];\n        result += map[64];\n    }\n    return result;\n}\nfunction isBinary(object) {\n    return NodeBuffer && NodeBuffer.isBuffer(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:binary', {\n    kind: 'scalar',\n    resolve: resolveYamlBinary,\n    construct: constructYamlBinary,\n    predicate: isBinary,\n    represent: representYamlBinary\n});\n//# sourceMappingURL=binary.js.map","'use strict';\nconst type_1 = require(\"../type\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString = Object.prototype.toString;\nfunction resolveYamlOmap(data) {\n    if (null === data) {\n        return true;\n    }\n    var objectKeys = [], index, length, pair, pairKey, pairHasKey, object = data;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        pair = object[index];\n        pairHasKey = false;\n        if ('[object Object]' !== _toString.call(pair)) {\n            return false;\n        }\n        for (pairKey in pair) {\n            if (_hasOwnProperty.call(pair, pairKey)) {\n                if (!pairHasKey) {\n                    pairHasKey = true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        if (!pairHasKey) {\n            return false;\n        }\n        if (-1 === objectKeys.indexOf(pairKey)) {\n            objectKeys.push(pairKey);\n        }\n        else {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constructYamlOmap(data) {\n    return null !== data ? data : [];\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:omap', {\n    kind: 'sequence',\n    resolve: resolveYamlOmap,\n    construct: constructYamlOmap\n});\n//# sourceMappingURL=omap.js.map","'use strict';\nconst type_1 = require(\"../type\");\nconst ast = require(\"../yamlAST\");\nvar _toString = Object.prototype.toString;\nfunction resolveYamlPairs(data) {\n    if (null === data) {\n        return true;\n    }\n    if (data.kind != ast.Kind.SEQ) {\n        return false;\n    }\n    var index, length, pair, keys, result, object = data.items;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        pair = object[index];\n        if ('[object Object]' !== _toString.call(pair)) {\n            return false;\n        }\n        if (!Array.isArray(pair.mappings)) {\n            return false;\n        }\n        if (1 !== pair.mappings.length) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constructYamlPairs(data) {\n    if (null === data || !Array.isArray(data.items)) {\n        return [];\n    }\n    let index, length, keys, result, object = data.items;\n    result = ast.newItems();\n    result.parent = data.parent;\n    result.startPosition = data.startPosition;\n    result.endPosition = data.endPosition;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        let pair = object[index];\n        let mapping = pair.mappings[0];\n        let pairSeq = ast.newItems();\n        pairSeq.parent = result;\n        pairSeq.startPosition = mapping.key.startPosition;\n        pairSeq.endPosition = mapping.value.startPosition;\n        mapping.key.parent = pairSeq;\n        mapping.value.parent = pairSeq;\n        pairSeq.items = [mapping.key, mapping.value];\n        result.items.push(pairSeq);\n    }\n    return result;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:pairs', {\n    kind: 'sequence',\n    resolve: resolveYamlPairs,\n    construct: constructYamlPairs\n});\n//# sourceMappingURL=pairs.js.map","'use strict';\nconst type_1 = require(\"../type\");\nconst ast = require(\"../yamlAST\");\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction resolveYamlSet(data) {\n    if (null === data) {\n        return true;\n    }\n    if (data.kind != ast.Kind.MAP) {\n        return false;\n    }\n    return true;\n}\nfunction constructYamlSet(data) {\n    return null !== data ? data : {};\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:set', {\n    kind: 'mapping',\n    resolve: resolveYamlSet,\n    construct: constructYamlSet\n});\n//# sourceMappingURL=set.js.map","'use strict';\nconst type_1 = require(\"../../type\");\nfunction resolveJavascriptUndefined() {\n    return true;\n}\nfunction constructJavascriptUndefined() {\n    return undefined;\n}\nfunction representJavascriptUndefined() {\n    return '';\n}\nfunction isUndefined(object) {\n    return 'undefined' === typeof object;\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:js/undefined', {\n    kind: 'scalar',\n    resolve: resolveJavascriptUndefined,\n    construct: constructJavascriptUndefined,\n    predicate: isUndefined,\n    represent: representJavascriptUndefined\n});\n//# sourceMappingURL=undefined.js.map","'use strict';\nconst type_1 = require(\"../../type\");\nfunction resolveJavascriptRegExp(data) {\n    if (null === data) {\n        return false;\n    }\n    if (0 === data.length) {\n        return false;\n    }\n    var regexp = data, tail = /\\/([gim]*)$/.exec(data), modifiers = '';\n    if ('/' === regexp[0]) {\n        if (tail) {\n            modifiers = tail[1];\n        }\n        if (modifiers.length > 3) {\n            return false;\n        }\n        if (regexp[regexp.length - modifiers.length - 1] !== '/') {\n            return false;\n        }\n        regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n    }\n    try {\n        var dummy = new RegExp(regexp, modifiers);\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction constructJavascriptRegExp(data) {\n    var regexp = data, tail = /\\/([gim]*)$/.exec(data), modifiers = '';\n    if ('/' === regexp[0]) {\n        if (tail) {\n            modifiers = tail[1];\n        }\n        regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n    }\n    return new RegExp(regexp, modifiers);\n}\nfunction representJavascriptRegExp(object) {\n    var result = '/' + object.source + '/';\n    if (object.global) {\n        result += 'g';\n    }\n    if (object.multiline) {\n        result += 'm';\n    }\n    if (object.ignoreCase) {\n        result += 'i';\n    }\n    return result;\n}\nfunction isRegExp(object) {\n    return '[object RegExp]' === Object.prototype.toString.call(object);\n}\nmodule.exports = new type_1.Type('tag:yaml.org,2002:js/regexp', {\n    kind: 'scalar',\n    resolve: resolveJavascriptRegExp,\n    construct: constructJavascriptRegExp,\n    predicate: isRegExp,\n    represent: representJavascriptRegExp\n});\n//# sourceMappingURL=regexp.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common = require('./common');\nvar YAMLException = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar _toString = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar CHAR_TAB = 0x09;\nvar CHAR_LINE_FEED = 0x0A;\nvar CHAR_CARRIAGE_RETURN = 0x0D;\nvar CHAR_SPACE = 0x20;\nvar CHAR_EXCLAMATION = 0x21;\nvar CHAR_DOUBLE_QUOTE = 0x22;\nvar CHAR_SHARP = 0x23;\nvar CHAR_PERCENT = 0x25;\nvar CHAR_AMPERSAND = 0x26;\nvar CHAR_SINGLE_QUOTE = 0x27;\nvar CHAR_ASTERISK = 0x2A;\nvar CHAR_COMMA = 0x2C;\nvar CHAR_MINUS = 0x2D;\nvar CHAR_COLON = 0x3A;\nvar CHAR_GREATER_THAN = 0x3E;\nvar CHAR_QUESTION = 0x3F;\nvar CHAR_COMMERCIAL_AT = 0x40;\nvar CHAR_LEFT_SQUARE_BRACKET = 0x5B;\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D;\nvar CHAR_GRAVE_ACCENT = 0x60;\nvar CHAR_LEFT_CURLY_BRACKET = 0x7B;\nvar CHAR_VERTICAL_LINE = 0x7C;\nvar CHAR_RIGHT_CURLY_BRACKET = 0x7D;\nvar ESCAPE_SEQUENCES = {};\nESCAPE_SEQUENCES[0x00] = '\\\\0';\nESCAPE_SEQUENCES[0x07] = '\\\\a';\nESCAPE_SEQUENCES[0x08] = '\\\\b';\nESCAPE_SEQUENCES[0x09] = '\\\\t';\nESCAPE_SEQUENCES[0x0A] = '\\\\n';\nESCAPE_SEQUENCES[0x0B] = '\\\\v';\nESCAPE_SEQUENCES[0x0C] = '\\\\f';\nESCAPE_SEQUENCES[0x0D] = '\\\\r';\nESCAPE_SEQUENCES[0x1B] = '\\\\e';\nESCAPE_SEQUENCES[0x22] = '\\\\\"';\nESCAPE_SEQUENCES[0x5C] = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85] = '\\\\N';\nESCAPE_SEQUENCES[0xA0] = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n    'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n    'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\nfunction compileStyleMap(schema, map) {\n    var result, keys, index, length, tag, style, type;\n    if (null === map) {\n        return {};\n    }\n    result = {};\n    keys = Object.keys(map);\n    for (index = 0, length = keys.length; index < length; index += 1) {\n        tag = keys[index];\n        style = String(map[tag]);\n        if ('!!' === tag.slice(0, 2)) {\n            tag = 'tag:yaml.org,2002:' + tag.slice(2);\n        }\n        type = schema.compiledTypeMap[tag];\n        if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n            style = type.styleAliases[style];\n        }\n        result[tag] = style;\n    }\n    return result;\n}\nfunction encodeHex(character) {\n    var string, handle, length;\n    string = character.toString(16).toUpperCase();\n    if (character <= 0xFF) {\n        handle = 'x';\n        length = 2;\n    }\n    else if (character <= 0xFFFF) {\n        handle = 'u';\n        length = 4;\n    }\n    else if (character <= 0xFFFFFFFF) {\n        handle = 'U';\n        length = 8;\n    }\n    else {\n        throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n    }\n    return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\nfunction State(options) {\n    this.schema = options['schema'] || DEFAULT_FULL_SCHEMA;\n    this.indent = Math.max(1, (options['indent'] || 2));\n    this.skipInvalid = options['skipInvalid'] || false;\n    this.flowLevel = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n    this.styleMap = compileStyleMap(this.schema, options['styles'] || null);\n    this.implicitTypes = this.schema.compiledImplicit;\n    this.explicitTypes = this.schema.compiledExplicit;\n    this.tag = null;\n    this.result = '';\n    this.duplicates = [];\n    this.usedDuplicates = null;\n}\nfunction indentString(string, spaces) {\n    var ind = common.repeat(' ', spaces), position = 0, next = -1, result = '', line, length = string.length;\n    while (position < length) {\n        next = string.indexOf('\\n', position);\n        if (next === -1) {\n            line = string.slice(position);\n            position = length;\n        }\n        else {\n            line = string.slice(position, next + 1);\n            position = next + 1;\n        }\n        if (line.length && line !== '\\n') {\n            result += ind;\n        }\n        result += line;\n    }\n    return result;\n}\nfunction generateNextLine(state, level) {\n    return '\\n' + common.repeat(' ', state.indent * level);\n}\nfunction testImplicitResolving(state, str) {\n    var index, length, type;\n    for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n        type = state.implicitTypes[index];\n        if (type.resolve(str)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction StringBuilder(source) {\n    this.source = source;\n    this.result = '';\n    this.checkpoint = 0;\n}\nStringBuilder.prototype.takeUpTo = function (position) {\n    var er;\n    if (position < this.checkpoint) {\n        er = new Error('position should be > checkpoint');\n        er.position = position;\n        er.checkpoint = this.checkpoint;\n        throw er;\n    }\n    this.result += this.source.slice(this.checkpoint, position);\n    this.checkpoint = position;\n    return this;\n};\nStringBuilder.prototype.escapeChar = function () {\n    var character, esc;\n    character = this.source.charCodeAt(this.checkpoint);\n    esc = ESCAPE_SEQUENCES[character] || encodeHex(character);\n    this.result += esc;\n    this.checkpoint += 1;\n    return this;\n};\nStringBuilder.prototype.finish = function () {\n    if (this.source.length > this.checkpoint) {\n        this.takeUpTo(this.source.length);\n    }\n};\nfunction writeScalar(state, object, level) {\n    var simple, first, spaceWrap, folded, literal, single, double, sawLineFeed, linePosition, longestLine, indent, max, character, position, escapeSeq, hexEsc, previous, lineLength, modifier, trailingLineBreaks, result;\n    if (0 === object.length) {\n        state.dump = \"''\";\n        return;\n    }\n    if (object.indexOf(\"!include\") == 0) {\n        state.dump = \"\" + object;\n        return;\n    }\n    if (object.indexOf(\"!$$$novalue\") == 0) {\n        state.dump = \"\";\n        return;\n    }\n    if (-1 !== DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)) {\n        state.dump = \"'\" + object + \"'\";\n        return;\n    }\n    simple = true;\n    first = object.length ? object.charCodeAt(0) : 0;\n    spaceWrap = (CHAR_SPACE === first ||\n        CHAR_SPACE === object.charCodeAt(object.length - 1));\n    if (CHAR_MINUS === first ||\n        CHAR_QUESTION === first ||\n        CHAR_COMMERCIAL_AT === first ||\n        CHAR_GRAVE_ACCENT === first) {\n        simple = false;\n    }\n    if (spaceWrap) {\n        simple = false;\n        folded = false;\n        literal = false;\n    }\n    else {\n        folded = true;\n        literal = true;\n    }\n    single = true;\n    double = new StringBuilder(object);\n    sawLineFeed = false;\n    linePosition = 0;\n    longestLine = 0;\n    indent = state.indent * level;\n    max = 80;\n    if (indent < 40) {\n        max -= indent;\n    }\n    else {\n        max = 40;\n    }\n    for (position = 0; position < object.length; position++) {\n        character = object.charCodeAt(position);\n        if (simple) {\n            if (!simpleChar(character)) {\n                simple = false;\n            }\n            else {\n                continue;\n            }\n        }\n        if (single && character === CHAR_SINGLE_QUOTE) {\n            single = false;\n        }\n        escapeSeq = ESCAPE_SEQUENCES[character];\n        hexEsc = needsHexEscape(character);\n        if (!escapeSeq && !hexEsc) {\n            continue;\n        }\n        if (character !== CHAR_LINE_FEED &&\n            character !== CHAR_DOUBLE_QUOTE &&\n            character !== CHAR_SINGLE_QUOTE) {\n            folded = false;\n            literal = false;\n        }\n        else if (character === CHAR_LINE_FEED) {\n            sawLineFeed = true;\n            single = false;\n            if (position > 0) {\n                previous = object.charCodeAt(position - 1);\n                if (previous === CHAR_SPACE) {\n                    literal = false;\n                    folded = false;\n                }\n            }\n            if (folded) {\n                lineLength = position - linePosition;\n                linePosition = position;\n                if (lineLength > longestLine) {\n                    longestLine = lineLength;\n                }\n            }\n        }\n        if (character !== CHAR_DOUBLE_QUOTE) {\n            single = false;\n        }\n        double.takeUpTo(position);\n        double.escapeChar();\n    }\n    if (simple && testImplicitResolving(state, object)) {\n        simple = false;\n    }\n    modifier = '';\n    if (folded || literal) {\n        trailingLineBreaks = 0;\n        if (object.charCodeAt(object.length - 1) === CHAR_LINE_FEED) {\n            trailingLineBreaks += 1;\n            if (object.charCodeAt(object.length - 2) === CHAR_LINE_FEED) {\n                trailingLineBreaks += 1;\n            }\n        }\n        if (trailingLineBreaks === 0) {\n            modifier = '-';\n        }\n        else if (trailingLineBreaks === 2) {\n            modifier = '+';\n        }\n    }\n    if (literal && longestLine < max) {\n        folded = false;\n    }\n    if (!sawLineFeed) {\n        literal = false;\n    }\n    if (simple) {\n        state.dump = object;\n    }\n    else if (single) {\n        state.dump = '\\'' + object + '\\'';\n    }\n    else if (folded) {\n        result = fold(object, max);\n        state.dump = '>' + modifier + '\\n' + indentString(result, indent);\n    }\n    else if (literal) {\n        if (!modifier) {\n            object = object.replace(/\\n$/, '');\n        }\n        state.dump = '|' + modifier + '\\n' + indentString(object, indent);\n    }\n    else if (double) {\n        double.finish();\n        state.dump = '\"' + double.result + '\"';\n    }\n    else {\n        throw new Error('Failed to dump scalar value');\n    }\n    return;\n}\nfunction fold(object, max) {\n    var result = '', position = 0, length = object.length, trailing = /\\n+$/.exec(object), newLine;\n    if (trailing) {\n        length = trailing.index + 1;\n    }\n    while (position < length) {\n        newLine = object.indexOf('\\n', position);\n        if (newLine > length || newLine === -1) {\n            if (result) {\n                result += '\\n\\n';\n            }\n            result += foldLine(object.slice(position, length), max);\n            position = length;\n        }\n        else {\n            if (result) {\n                result += '\\n\\n';\n            }\n            result += foldLine(object.slice(position, newLine), max);\n            position = newLine + 1;\n        }\n    }\n    if (trailing && trailing[0] !== '\\n') {\n        result += trailing[0];\n    }\n    return result;\n}\nfunction foldLine(line, max) {\n    if (line === '') {\n        return line;\n    }\n    var foldRe = /[^\\s] [^\\s]/g, result = '', prevMatch = 0, foldStart = 0, match = foldRe.exec(line), index, foldEnd, folded;\n    while (match) {\n        index = match.index;\n        if (index - foldStart > max) {\n            if (prevMatch !== foldStart) {\n                foldEnd = prevMatch;\n            }\n            else {\n                foldEnd = index;\n            }\n            if (result) {\n                result += '\\n';\n            }\n            folded = line.slice(foldStart, foldEnd);\n            result += folded;\n            foldStart = foldEnd + 1;\n        }\n        prevMatch = index + 1;\n        match = foldRe.exec(line);\n    }\n    if (result) {\n        result += '\\n';\n    }\n    if (foldStart !== prevMatch && line.length - foldStart > max) {\n        result += line.slice(foldStart, prevMatch) + '\\n' +\n            line.slice(prevMatch + 1);\n    }\n    else {\n        result += line.slice(foldStart);\n    }\n    return result;\n}\nfunction simpleChar(character) {\n    return CHAR_TAB !== character &&\n        CHAR_LINE_FEED !== character &&\n        CHAR_CARRIAGE_RETURN !== character &&\n        CHAR_COMMA !== character &&\n        CHAR_LEFT_SQUARE_BRACKET !== character &&\n        CHAR_RIGHT_SQUARE_BRACKET !== character &&\n        CHAR_LEFT_CURLY_BRACKET !== character &&\n        CHAR_RIGHT_CURLY_BRACKET !== character &&\n        CHAR_SHARP !== character &&\n        CHAR_AMPERSAND !== character &&\n        CHAR_ASTERISK !== character &&\n        CHAR_EXCLAMATION !== character &&\n        CHAR_VERTICAL_LINE !== character &&\n        CHAR_GREATER_THAN !== character &&\n        CHAR_SINGLE_QUOTE !== character &&\n        CHAR_DOUBLE_QUOTE !== character &&\n        CHAR_PERCENT !== character &&\n        CHAR_COLON !== character &&\n        !ESCAPE_SEQUENCES[character] &&\n        !needsHexEscape(character);\n}\nfunction needsHexEscape(character) {\n    return !((0x00020 <= character && character <= 0x00007E) ||\n        (0x00085 === character) ||\n        (0x000A0 <= character && character <= 0x00D7FF) ||\n        (0x0E000 <= character && character <= 0x00FFFD) ||\n        (0x10000 <= character && character <= 0x10FFFF));\n}\nfunction writeFlowSequence(state, level, object) {\n    var _result = '', _tag = state.tag, index, length;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        if (writeNode(state, level, object[index], false, false)) {\n            if (0 !== index) {\n                _result += ', ';\n            }\n            _result += state.dump;\n        }\n    }\n    state.tag = _tag;\n    state.dump = '[' + _result + ']';\n}\nfunction writeBlockSequence(state, level, object, compact) {\n    var _result = '', _tag = state.tag, index, length;\n    for (index = 0, length = object.length; index < length; index += 1) {\n        if (writeNode(state, level + 1, object[index], true, true)) {\n            if (!compact || 0 !== index) {\n                _result += generateNextLine(state, level);\n            }\n            _result += '- ' + state.dump;\n        }\n    }\n    state.tag = _tag;\n    state.dump = _result || '[]';\n}\nfunction writeFlowMapping(state, level, object) {\n    var _result = '', _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, pairBuffer;\n    for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n        pairBuffer = '';\n        if (0 !== index) {\n            pairBuffer += ', ';\n        }\n        objectKey = objectKeyList[index];\n        objectValue = object[objectKey];\n        if (!writeNode(state, level, objectKey, false, false)) {\n            continue;\n        }\n        if (state.dump.length > 1024) {\n            pairBuffer += '? ';\n        }\n        pairBuffer += state.dump + ': ';\n        if (!writeNode(state, level, objectValue, false, false)) {\n            continue;\n        }\n        pairBuffer += state.dump;\n        _result += pairBuffer;\n    }\n    state.tag = _tag;\n    state.dump = '{' + _result + '}';\n}\nfunction writeBlockMapping(state, level, object, compact) {\n    var _result = '', _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, explicitPair, pairBuffer;\n    for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n        pairBuffer = '';\n        if (!compact || 0 !== index) {\n            pairBuffer += generateNextLine(state, level);\n        }\n        objectKey = objectKeyList[index];\n        objectValue = object[objectKey];\n        if (!writeNode(state, level + 1, objectKey, true, true)) {\n            continue;\n        }\n        explicitPair = (null !== state.tag && '?' !== state.tag) ||\n            (state.dump && state.dump.length > 1024);\n        if (explicitPair) {\n            if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n                pairBuffer += '?';\n            }\n            else {\n                pairBuffer += '? ';\n            }\n        }\n        pairBuffer += state.dump;\n        if (explicitPair) {\n            pairBuffer += generateNextLine(state, level);\n        }\n        if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n            continue;\n        }\n        if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n            pairBuffer += ':';\n        }\n        else {\n            pairBuffer += ': ';\n        }\n        pairBuffer += state.dump;\n        _result += pairBuffer;\n    }\n    state.tag = _tag;\n    state.dump = _result || '{}';\n}\nfunction detectType(state, object, explicit) {\n    var _result, typeList, index, length, type, style;\n    typeList = explicit ? state.explicitTypes : state.implicitTypes;\n    for (index = 0, length = typeList.length; index < length; index += 1) {\n        type = typeList[index];\n        if ((type.instanceOf || type.predicate) &&\n            (!type.instanceOf || (('object' === typeof object) && (object instanceof type.instanceOf))) &&\n            (!type.predicate || type.predicate(object))) {\n            state.tag = explicit ? type.tag : '?';\n            if (type.represent) {\n                style = state.styleMap[type.tag] || type.defaultStyle;\n                if ('[object Function]' === _toString.call(type.represent)) {\n                    _result = type.represent(object, style);\n                }\n                else if (_hasOwnProperty.call(type.represent, style)) {\n                    _result = type.represent[style](object, style);\n                }\n                else {\n                    throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n                }\n                state.dump = _result;\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction writeNode(state, level, object, block, compact) {\n    state.tag = null;\n    state.dump = object;\n    if (!detectType(state, object, false)) {\n        detectType(state, object, true);\n    }\n    var type = _toString.call(state.dump);\n    if (block) {\n        block = (0 > state.flowLevel || state.flowLevel > level);\n    }\n    if ((null !== state.tag && '?' !== state.tag) || (2 !== state.indent && level > 0)) {\n        compact = false;\n    }\n    var objectOrArray = '[object Object]' === type || '[object Array]' === type, duplicateIndex, duplicate;\n    if (objectOrArray) {\n        duplicateIndex = state.duplicates.indexOf(object);\n        duplicate = duplicateIndex !== -1;\n    }\n    if (duplicate && state.usedDuplicates[duplicateIndex]) {\n        state.dump = '*ref_' + duplicateIndex;\n    }\n    else {\n        if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n            state.usedDuplicates[duplicateIndex] = true;\n        }\n        if ('[object Object]' === type) {\n            if (block && (0 !== Object.keys(state.dump).length)) {\n                writeBlockMapping(state, level, state.dump, compact);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n                }\n            }\n            else {\n                writeFlowMapping(state, level, state.dump);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n                }\n            }\n        }\n        else if ('[object Array]' === type) {\n            if (block && (0 !== state.dump.length)) {\n                writeBlockSequence(state, level, state.dump, compact);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + (0 === level ? '\\n' : '') + state.dump;\n                }\n            }\n            else {\n                writeFlowSequence(state, level, state.dump);\n                if (duplicate) {\n                    state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n                }\n            }\n        }\n        else if ('[object String]' === type) {\n            if ('?' !== state.tag) {\n                writeScalar(state, state.dump, level);\n            }\n        }\n        else {\n            if (state.skipInvalid) {\n                return false;\n            }\n            throw new YAMLException('unacceptable kind of an object to dump ' + type);\n        }\n        if (null !== state.tag && '?' !== state.tag) {\n            state.dump = '!<' + state.tag + '> ' + state.dump;\n        }\n    }\n    return true;\n}\nfunction getDuplicateReferences(object, state) {\n    var objects = [], duplicatesIndexes = [], index, length;\n    inspectNode(object, objects, duplicatesIndexes);\n    for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n        state.duplicates.push(objects[duplicatesIndexes[index]]);\n    }\n    state.usedDuplicates = new Array(length);\n}\nfunction inspectNode(object, objects, duplicatesIndexes) {\n    var type = _toString.call(object), objectKeyList, index, length;\n    if (null !== object && 'object' === typeof object) {\n        index = objects.indexOf(object);\n        if (-1 !== index) {\n            if (-1 === duplicatesIndexes.indexOf(index)) {\n                duplicatesIndexes.push(index);\n            }\n        }\n        else {\n            objects.push(object);\n            if (Array.isArray(object)) {\n                for (index = 0, length = object.length; index < length; index += 1) {\n                    inspectNode(object[index], objects, duplicatesIndexes);\n                }\n            }\n            else {\n                objectKeyList = Object.keys(object);\n                for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n                    inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n                }\n            }\n        }\n    }\n}\nfunction dump(input, options) {\n    options = options || {};\n    var state = new State(options);\n    getDuplicateReferences(input, state);\n    if (writeNode(state, 0, input, true, true)) {\n        return state.dump + '\\n';\n    }\n    return '';\n}\nexports.dump = dump;\nfunction safeDump(input, options) {\n    return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\nexports.safeDump = safeDump;\n//# sourceMappingURL=dumper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction parseYamlBoolean(input) {\n    if ([\"true\", \"True\", \"TRUE\"].lastIndexOf(input) >= 0) {\n        return true;\n    }\n    else if ([\"false\", \"False\", \"FALSE\"].lastIndexOf(input) >= 0) {\n        return false;\n    }\n    throw `Invalid boolean \"${input}\"`;\n}\nexports.parseYamlBoolean = parseYamlBoolean;\nfunction safeParseYamlInteger(input) {\n    if (input.lastIndexOf('0o', 0) === 0) {\n        return parseInt(input.substring(2), 8);\n    }\n    return parseInt(input);\n}\nfunction parseYamlInteger(input) {\n    const result = safeParseYamlInteger(input);\n    if (isNaN(result)) {\n        throw `Invalid integer \"${input}\"`;\n    }\n    return result;\n}\nexports.parseYamlInteger = parseYamlInteger;\nfunction parseYamlFloat(input) {\n    if ([\".nan\", \".NaN\", \".NAN\"].lastIndexOf(input) >= 0) {\n        return NaN;\n    }\n    const infinity = /^([-+])?(?:\\.inf|\\.Inf|\\.INF)$/;\n    const match = infinity.exec(input);\n    if (match) {\n        return (match[1] === '-') ? -Infinity : Infinity;\n    }\n    const result = parseFloat(input);\n    if (!isNaN(result)) {\n        return result;\n    }\n    throw `Invalid float \"${input}\"`;\n}\nexports.parseYamlFloat = parseYamlFloat;\nvar ScalarType;\n(function (ScalarType) {\n    ScalarType[ScalarType[\"null\"] = 0] = \"null\";\n    ScalarType[ScalarType[\"bool\"] = 1] = \"bool\";\n    ScalarType[ScalarType[\"int\"] = 2] = \"int\";\n    ScalarType[ScalarType[\"float\"] = 3] = \"float\";\n    ScalarType[ScalarType[\"string\"] = 4] = \"string\";\n})(ScalarType = exports.ScalarType || (exports.ScalarType = {}));\nfunction determineScalarType(node) {\n    if (node === undefined) {\n        return ScalarType.null;\n    }\n    if (node.doubleQuoted || !node.plainScalar || node['singleQuoted']) {\n        return ScalarType.string;\n    }\n    const value = node.value;\n    if ([\"null\", \"Null\", \"NULL\", \"~\", ''].indexOf(value) >= 0) {\n        return ScalarType.null;\n    }\n    if (value === null || value === undefined) {\n        return ScalarType.null;\n    }\n    if ([\"true\", \"True\", \"TRUE\", \"false\", \"False\", \"FALSE\"].indexOf(value) >= 0) {\n        return ScalarType.bool;\n    }\n    const base10 = /^[-+]?[0-9]+$/;\n    const base8 = /^0o[0-7]+$/;\n    const base16 = /^0x[0-9a-fA-F]+$/;\n    if (base10.test(value) || base8.test(value) || base16.test(value)) {\n        return ScalarType.int;\n    }\n    const float = /^[-+]?(\\.[0-9]+|[0-9]+(\\.[0-9]*)?)([eE][-+]?[0-9]+)?$/;\n    const infinity = /^[-+]?(\\.inf|\\.Inf|\\.INF)$/;\n    if (float.test(value) || infinity.test(value) || [\".nan\", \".NaN\", \".NAN\"].indexOf(value) >= 0) {\n        return ScalarType.float;\n    }\n    return ScalarType.string;\n}\nexports.determineScalarType = determineScalarType;\n//# sourceMappingURL=scalarInference.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if (Array.isArray(one) !== Array.isArray(other)) {\n        return false;\n    }\n    let i, key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        const oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        const otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexports.equals = equals;\nfunction isNumber(val) {\n    return typeof val === 'number';\n}\nexports.isNumber = isNumber;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isDefined(val) {\n    return typeof val !== 'undefined';\n}\nexports.isDefined = isDefined;\nfunction isBoolean(val) {\n    return typeof val === 'boolean';\n}\nexports.isBoolean = isBoolean;\nfunction isString(val) {\n    return typeof val === 'string';\n}\nexports.isString = isString;\n//# sourceMappingURL=objects.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport * as Json from 'jsonc-parser';\nimport { stringifyObject } from '../utils/json';\nimport { endsWith } from '../utils/strings';\nimport { isDefined } from '../utils/objects';\nimport { CompletionItem, CompletionItemKind, Range, TextEdit, InsertTextFormat, MarkupKind } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nvar valueCommitCharacters = [',', '}', ']'];\nvar propertyCommitCharacters = [':'];\nvar JSONCompletion = /** @class */ (function () {\n    function JSONCompletion(schemaService, contributions, promiseConstructor, clientCapabilities) {\n        if (contributions === void 0) { contributions = []; }\n        if (promiseConstructor === void 0) { promiseConstructor = Promise; }\n        if (clientCapabilities === void 0) { clientCapabilities = {}; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promiseConstructor = promiseConstructor;\n        this.clientCapabilities = clientCapabilities;\n    }\n    JSONCompletion.prototype.doResolve = function (item) {\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var resolveCompletion = this.contributions[i].resolveCompletion;\n            if (resolveCompletion) {\n                var resolver = resolveCompletion(item);\n                if (resolver) {\n                    return resolver;\n                }\n            }\n        }\n        return this.promiseConstructor.resolve(item);\n    };\n    JSONCompletion.prototype.doComplete = function (document, position, doc) {\n        var _this = this;\n        var result = {\n            items: [],\n            isIncomplete: false\n        };\n        var text = document.getText();\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset, true);\n        if (this.isInComment(document, node ? node.offset : 0, offset)) {\n            return Promise.resolve(result);\n        }\n        if (node && (offset === node.offset + node.length) && offset > 0) {\n            var ch = text[offset - 1];\n            if (node.type === 'object' && ch === '}' || node.type === 'array' && ch === ']') {\n                // after ] or }\n                node = node.parent;\n            }\n        }\n        var currentWord = this.getCurrentWord(document, offset);\n        var overwriteRange;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            overwriteRange = Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n        }\n        else {\n            var overwriteStart = offset - currentWord.length;\n            if (overwriteStart > 0 && text[overwriteStart - 1] === '\"') {\n                overwriteStart--;\n            }\n            overwriteRange = Range.create(document.positionAt(overwriteStart), position);\n        }\n        var supportsCommitCharacters = false; //this.doesSupportsCommitCharacters(); disabled for now, waiting for new API: https://github.com/microsoft/vscode/issues/42544\n        var proposed = {};\n        var collector = {\n            add: function (suggestion) {\n                var label = suggestion.label;\n                var existing = proposed[label];\n                if (!existing) {\n                    label = label.replace(/[\\n]/g, '↵');\n                    if (label.length > 60) {\n                        var shortendedLabel = label.substr(0, 57).trim() + '...';\n                        if (!proposed[shortendedLabel]) {\n                            label = shortendedLabel;\n                        }\n                    }\n                    if (overwriteRange && suggestion.insertText !== undefined) {\n                        suggestion.textEdit = TextEdit.replace(overwriteRange, suggestion.insertText);\n                    }\n                    if (supportsCommitCharacters) {\n                        suggestion.commitCharacters = suggestion.kind === CompletionItemKind.Property ? propertyCommitCharacters : valueCommitCharacters;\n                    }\n                    suggestion.label = label;\n                    proposed[label] = suggestion;\n                    result.items.push(suggestion);\n                }\n                else if (!existing.documentation) {\n                    existing.documentation = suggestion.documentation;\n                }\n            },\n            setAsIncomplete: function () {\n                result.isIncomplete = true;\n            },\n            error: function (message) {\n                console.error(message);\n            },\n            log: function (message) {\n                console.log(message);\n            },\n            getNumberOfProposals: function () {\n                return result.items.length;\n            }\n        };\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var collectionPromises = [];\n            var addValue = true;\n            var currentKey = '';\n            var currentProperty = undefined;\n            if (node) {\n                if (node.type === 'string') {\n                    var parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.keyNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        currentKey = text.substr(node.offset + 1, node.length - 2);\n                        if (parent) {\n                            node = parent.parent;\n                        }\n                    }\n                }\n            }\n            // proposals for properties\n            if (node && node.type === 'object') {\n                // don't suggest keys when the cursor is just before the opening curly brace\n                if (node.offset === offset) {\n                    return result;\n                }\n                // don't suggest properties that are already present\n                var properties = node.properties;\n                properties.forEach(function (p) {\n                    if (!currentProperty || currentProperty !== p) {\n                        proposed[p.keyNode.value] = CompletionItem.create('__');\n                    }\n                });\n                var separatorAfter_1 = '';\n                if (addValue) {\n                    separatorAfter_1 = _this.evaluateSeparatorAfter(document, document.offsetAt(overwriteRange.end));\n                }\n                if (schema) {\n                    // property proposals with schema\n                    _this.getPropertyCompletions(schema, doc, node, addValue, separatorAfter_1, collector);\n                }\n                else {\n                    // property proposals without schema\n                    _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);\n                }\n                var location_1 = Parser.getNodePath(node);\n                _this.contributions.forEach(function (contribution) {\n                    var collectPromise = contribution.collectPropertyCompletions(document.uri, location_1, currentWord, addValue, separatorAfter_1 === '', collector);\n                    if (collectPromise) {\n                        collectionPromises.push(collectPromise);\n                    }\n                });\n                if ((!schema && currentWord.length > 0 && text.charAt(offset - currentWord.length - 1) !== '\"')) {\n                    collector.add({\n                        kind: CompletionItemKind.Property,\n                        label: _this.getLabelForValue(currentWord),\n                        insertText: _this.getInsertTextForProperty(currentWord, undefined, false, separatorAfter_1),\n                        insertTextFormat: InsertTextFormat.Snippet, documentation: '',\n                    });\n                    collector.setAsIncomplete();\n                }\n            }\n            // proposals for values\n            var types = {};\n            if (schema) {\n                // value proposals with schema\n                _this.getValueCompletions(schema, doc, node, offset, document, collector, types);\n            }\n            else {\n                // value proposals without schema\n                _this.getSchemaLessValueCompletions(doc, node, offset, document, collector);\n            }\n            if (_this.contributions.length > 0) {\n                _this.getContributedValueCompletions(doc, node, offset, document, collector, collectionPromises);\n            }\n            return _this.promiseConstructor.all(collectionPromises).then(function () {\n                if (collector.getNumberOfProposals() === 0) {\n                    var offsetForSeparator = offset;\n                    if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n                        offsetForSeparator = node.offset + node.length;\n                    }\n                    var separatorAfter = _this.evaluateSeparatorAfter(document, offsetForSeparator);\n                    _this.addFillerValueCompletions(types, separatorAfter, collector);\n                }\n                return result;\n            });\n        });\n    };\n    JSONCompletion.prototype.getPropertyCompletions = function (schema, doc, node, addValue, separatorAfter, collector) {\n        var _this = this;\n        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n        matchingSchemas.forEach(function (s) {\n            if (s.node === node && !s.inverted) {\n                var schemaProperties_1 = s.schema.properties;\n                if (schemaProperties_1) {\n                    Object.keys(schemaProperties_1).forEach(function (key) {\n                        var propertySchema = schemaProperties_1[key];\n                        if (typeof propertySchema === 'object' && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {\n                            var proposal = {\n                                kind: CompletionItemKind.Property,\n                                label: key,\n                                insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),\n                                insertTextFormat: InsertTextFormat.Snippet,\n                                filterText: _this.getFilterTextForValue(key),\n                                documentation: _this.fromMarkup(propertySchema.markdownDescription) || propertySchema.description || '',\n                            };\n                            if (propertySchema.suggestSortText !== undefined) {\n                                proposal.sortText = propertySchema.suggestSortText;\n                            }\n                            if (proposal.insertText && endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                                proposal.command = {\n                                    title: 'Suggest',\n                                    command: 'editor.action.triggerSuggest'\n                                };\n                            }\n                            collector.add(proposal);\n                        }\n                    });\n                }\n                var schemaPropertyNames_1 = s.schema.propertyNames;\n                if (typeof schemaPropertyNames_1 === 'object' && !schemaPropertyNames_1.deprecationMessage && !schemaPropertyNames_1.doNotSuggest) {\n                    var propertyNameCompletionItem = function (name, enumDescription) {\n                        if (enumDescription === void 0) { enumDescription = undefined; }\n                        var proposal = {\n                            kind: CompletionItemKind.Property,\n                            label: name,\n                            insertText: _this.getInsertTextForProperty(name, undefined, addValue, separatorAfter),\n                            insertTextFormat: InsertTextFormat.Snippet,\n                            filterText: _this.getFilterTextForValue(name),\n                            documentation: enumDescription || _this.fromMarkup(schemaPropertyNames_1.markdownDescription) || schemaPropertyNames_1.description || '',\n                        };\n                        if (schemaPropertyNames_1.suggestSortText !== undefined) {\n                            proposal.sortText = schemaPropertyNames_1.suggestSortText;\n                        }\n                        if (proposal.insertText && endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                            proposal.command = {\n                                title: 'Suggest',\n                                command: 'editor.action.triggerSuggest'\n                            };\n                        }\n                        collector.add(proposal);\n                    };\n                    if (schemaPropertyNames_1.enum) {\n                        for (var i = 0; i < schemaPropertyNames_1.enum.length; i++) {\n                            var enumDescription = undefined;\n                            if (schemaPropertyNames_1.markdownEnumDescriptions && i < schemaPropertyNames_1.markdownEnumDescriptions.length) {\n                                enumDescription = _this.fromMarkup(schemaPropertyNames_1.markdownEnumDescriptions[i]);\n                            }\n                            else if (schemaPropertyNames_1.enumDescriptions && i < schemaPropertyNames_1.enumDescriptions.length) {\n                                enumDescription = schemaPropertyNames_1.enumDescriptions[i];\n                            }\n                            propertyNameCompletionItem(schemaPropertyNames_1.enum[i], enumDescription);\n                        }\n                    }\n                    if (schemaPropertyNames_1.const) {\n                        propertyNameCompletionItem(schemaPropertyNames_1.const);\n                    }\n                }\n            }\n        });\n    };\n    JSONCompletion.prototype.getSchemaLessPropertyCompletions = function (doc, node, currentKey, collector) {\n        var _this = this;\n        var collectCompletionsForSimilarObject = function (obj) {\n            obj.properties.forEach(function (p) {\n                var key = p.keyNode.value;\n                collector.add({\n                    kind: CompletionItemKind.Property,\n                    label: key,\n                    insertText: _this.getInsertTextForValue(key, ''),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: _this.getFilterTextForValue(key),\n                    documentation: ''\n                });\n            });\n        };\n        if (node.parent) {\n            if (node.parent.type === 'property') {\n                // if the object is a property value, check the tree for other objects that hang under a property of the same name\n                var parentKey_1 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === 'object') {\n                        collectCompletionsForSimilarObject(n.valueNode);\n                    }\n                    return true;\n                });\n            }\n            else if (node.parent.type === 'array') {\n                // if the object is in an array, use all other array elements as similar objects\n                node.parent.items.forEach(function (n) {\n                    if (n.type === 'object' && n !== node) {\n                        collectCompletionsForSimilarObject(n);\n                    }\n                });\n            }\n        }\n        else if (node.type === 'object') {\n            collector.add({\n                kind: CompletionItemKind.Property,\n                label: '$schema',\n                insertText: this.getInsertTextForProperty('$schema', undefined, true, ''),\n                insertTextFormat: InsertTextFormat.Snippet, documentation: '',\n                filterText: this.getFilterTextForValue(\"$schema\")\n            });\n        }\n    };\n    JSONCompletion.prototype.getSchemaLessValueCompletions = function (doc, node, offset, document, collector) {\n        var _this = this;\n        var offsetForSeparator = offset;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            node = node.parent;\n        }\n        if (!node) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: 'Empty object',\n                insertText: this.getInsertTextForValue({}, ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: 'Empty array',\n                insertText: this.getInsertTextForValue([], ''),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            return;\n        }\n        var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n        var collectSuggestionsForValues = function (value) {\n            if (value.parent && !Parser.contains(value.parent, offset, true)) {\n                collector.add({\n                    kind: _this.getSuggestionKind(value.type),\n                    label: _this.getLabelTextForMatchingNode(value, document),\n                    insertText: _this.getInsertTextForMatchingNode(value, document, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n                });\n            }\n            if (value.type === 'boolean') {\n                _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);\n            }\n        };\n        if (node.type === 'property') {\n            if (offset > (node.colonOffset || 0)) {\n                var valueNode = node.valueNode;\n                if (valueNode && (offset > (valueNode.offset + valueNode.length) || valueNode.type === 'object' || valueNode.type === 'array')) {\n                    return;\n                }\n                // suggest values at the same key\n                var parentKey_2 = node.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_2 && n.valueNode) {\n                        collectSuggestionsForValues(n.valueNode);\n                    }\n                    return true;\n                });\n                if (parentKey_2 === '$schema' && node.parent && !node.parent.parent) {\n                    this.addDollarSchemaCompletions(separatorAfter, collector);\n                }\n            }\n        }\n        if (node.type === 'array') {\n            if (node.parent && node.parent.type === 'property') {\n                // suggest items of an array at the same key\n                var parentKey_3 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_3 && n.valueNode && n.valueNode.type === 'array') {\n                        n.valueNode.items.forEach(collectSuggestionsForValues);\n                    }\n                    return true;\n                });\n            }\n            else {\n                // suggest items in the same array\n                node.items.forEach(collectSuggestionsForValues);\n            }\n        }\n    };\n    JSONCompletion.prototype.getValueCompletions = function (schema, doc, node, offset, document, collector, types) {\n        var offsetForSeparator = offset;\n        var parentKey = undefined;\n        var valueNode = undefined;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            valueNode = node;\n            node = node.parent;\n        }\n        if (!node) {\n            this.addSchemaValueCompletions(schema.schema, '', collector, types);\n            return;\n        }\n        if ((node.type === 'property') && offset > (node.colonOffset || 0)) {\n            var valueNode_1 = node.valueNode;\n            if (valueNode_1 && offset > (valueNode_1.offset + valueNode_1.length)) {\n                return; // we are past the value node\n            }\n            parentKey = node.keyNode.value;\n            node = node.parent;\n        }\n        if (node && (parentKey !== undefined || node.type === 'array')) {\n            var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n            var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset, valueNode);\n            for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                var s = matchingSchemas_1[_i];\n                if (s.node === node && !s.inverted && s.schema) {\n                    if (node.type === 'array' && s.schema.items) {\n                        if (Array.isArray(s.schema.items)) {\n                            var index = this.findItemAtOffset(node, document, offset);\n                            if (index < s.schema.items.length) {\n                                this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types);\n                            }\n                        }\n                        else {\n                            this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);\n                        }\n                    }\n                    if (parentKey !== undefined) {\n                        var propertyMatched = false;\n                        if (s.schema.properties) {\n                            var propertySchema = s.schema.properties[parentKey];\n                            if (propertySchema) {\n                                propertyMatched = true;\n                                this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                            }\n                        }\n                        if (s.schema.patternProperties && !propertyMatched) {\n                            for (var _a = 0, _b = Object.keys(s.schema.patternProperties); _a < _b.length; _a++) {\n                                var pattern = _b[_a];\n                                var regex = new RegExp(pattern);\n                                if (regex.test(parentKey)) {\n                                    propertyMatched = true;\n                                    var propertySchema = s.schema.patternProperties[pattern];\n                                    this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                                }\n                            }\n                        }\n                        if (s.schema.additionalProperties && !propertyMatched) {\n                            var propertySchema = s.schema.additionalProperties;\n                            this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                        }\n                    }\n                }\n            }\n            if (parentKey === '$schema' && !node.parent) {\n                this.addDollarSchemaCompletions(separatorAfter, collector);\n            }\n            if (types['boolean']) {\n                this.addBooleanValueCompletion(true, separatorAfter, collector);\n                this.addBooleanValueCompletion(false, separatorAfter, collector);\n            }\n            if (types['null']) {\n                this.addNullValueCompletion(separatorAfter, collector);\n            }\n        }\n    };\n    JSONCompletion.prototype.getContributedValueCompletions = function (doc, node, offset, document, collector, collectionPromises) {\n        if (!node) {\n            this.contributions.forEach(function (contribution) {\n                var collectPromise = contribution.collectDefaultCompletions(document.uri, collector);\n                if (collectPromise) {\n                    collectionPromises.push(collectPromise);\n                }\n            });\n        }\n        else {\n            if (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null') {\n                node = node.parent;\n            }\n            if (node && (node.type === 'property') && offset > (node.colonOffset || 0)) {\n                var parentKey_4 = node.keyNode.value;\n                var valueNode = node.valueNode;\n                if ((!valueNode || offset <= (valueNode.offset + valueNode.length)) && node.parent) {\n                    var location_2 = Parser.getNodePath(node.parent);\n                    this.contributions.forEach(function (contribution) {\n                        var collectPromise = contribution.collectValueCompletions(document.uri, location_2, parentKey_4, collector);\n                        if (collectPromise) {\n                            collectionPromises.push(collectPromise);\n                        }\n                    });\n                }\n            }\n        }\n    };\n    JSONCompletion.prototype.addSchemaValueCompletions = function (schema, separatorAfter, collector, types) {\n        var _this = this;\n        if (typeof schema === 'object') {\n            this.addEnumValueCompletions(schema, separatorAfter, collector);\n            this.addDefaultValueCompletions(schema, separatorAfter, collector);\n            this.collectTypes(schema, types);\n            if (Array.isArray(schema.allOf)) {\n                schema.allOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.anyOf)) {\n                schema.anyOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.oneOf)) {\n                schema.oneOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n        }\n    };\n    JSONCompletion.prototype.addDefaultValueCompletions = function (schema, separatorAfter, collector, arrayDepth) {\n        var _this = this;\n        if (arrayDepth === void 0) { arrayDepth = 0; }\n        var hasProposals = false;\n        if (isDefined(schema.default)) {\n            var type = schema.type;\n            var value = schema.default;\n            for (var i = arrayDepth; i > 0; i--) {\n                value = [value];\n                type = 'array';\n            }\n            collector.add({\n                kind: this.getSuggestionKind(type),\n                label: this.getLabelForValue(value),\n                insertText: this.getInsertTextForValue(value, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('json.suggest.default', 'Default value')\n            });\n            hasProposals = true;\n        }\n        if (Array.isArray(schema.examples)) {\n            schema.examples.forEach(function (example) {\n                var type = schema.type;\n                var value = example;\n                for (var i = arrayDepth; i > 0; i--) {\n                    value = [value];\n                    type = 'array';\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: _this.getLabelForValue(value),\n                    insertText: _this.getInsertTextForValue(value, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet\n                });\n                hasProposals = true;\n            });\n        }\n        if (Array.isArray(schema.defaultSnippets)) {\n            schema.defaultSnippets.forEach(function (s) {\n                var type = schema.type;\n                var value = s.body;\n                var label = s.label;\n                var insertText;\n                var filterText;\n                if (isDefined(value)) {\n                    var type_1 = schema.type;\n                    for (var i = arrayDepth; i > 0; i--) {\n                        value = [value];\n                        type_1 = 'array';\n                    }\n                    insertText = _this.getInsertTextForSnippetValue(value, separatorAfter);\n                    filterText = _this.getFilterTextForSnippetValue(value);\n                    label = label || _this.getLabelForSnippetValue(value);\n                }\n                else if (typeof s.bodyText === 'string') {\n                    var prefix = '', suffix = '', indent = '';\n                    for (var i = arrayDepth; i > 0; i--) {\n                        prefix = prefix + indent + '[\\n';\n                        suffix = suffix + '\\n' + indent + ']';\n                        indent += '\\t';\n                        type = 'array';\n                    }\n                    insertText = prefix + indent + s.bodyText.split('\\n').join('\\n' + indent) + suffix + separatorAfter;\n                    label = label || insertText,\n                        filterText = insertText.replace(/[\\n]/g, ''); // remove new lines\n                }\n                else {\n                    return;\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: label,\n                    documentation: _this.fromMarkup(s.markdownDescription) || s.description,\n                    insertText: insertText,\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    filterText: filterText\n                });\n                hasProposals = true;\n            });\n        }\n        if (!hasProposals && typeof schema.items === 'object' && !Array.isArray(schema.items) && arrayDepth < 5 /* beware of recursion */) {\n            this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);\n        }\n    };\n    JSONCompletion.prototype.addEnumValueCompletions = function (schema, separatorAfter, collector) {\n        if (isDefined(schema.const)) {\n            collector.add({\n                kind: this.getSuggestionKind(schema.type),\n                label: this.getLabelForValue(schema.const),\n                insertText: this.getInsertTextForValue(schema.const, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                documentation: this.fromMarkup(schema.markdownDescription) || schema.description\n            });\n        }\n        if (Array.isArray(schema.enum)) {\n            for (var i = 0, length = schema.enum.length; i < length; i++) {\n                var enm = schema.enum[i];\n                var documentation = this.fromMarkup(schema.markdownDescription) || schema.description;\n                if (schema.markdownEnumDescriptions && i < schema.markdownEnumDescriptions.length && this.doesSupportMarkdown()) {\n                    documentation = this.fromMarkup(schema.markdownEnumDescriptions[i]);\n                }\n                else if (schema.enumDescriptions && i < schema.enumDescriptions.length) {\n                    documentation = schema.enumDescriptions[i];\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(schema.type),\n                    label: this.getLabelForValue(enm),\n                    insertText: this.getInsertTextForValue(enm, separatorAfter),\n                    insertTextFormat: InsertTextFormat.Snippet,\n                    documentation: documentation\n                });\n            }\n        }\n    };\n    JSONCompletion.prototype.collectTypes = function (schema, types) {\n        if (Array.isArray(schema.enum) || isDefined(schema.const)) {\n            return;\n        }\n        var type = schema.type;\n        if (Array.isArray(type)) {\n            type.forEach(function (t) { return types[t] = true; });\n        }\n        else if (type) {\n            types[type] = true;\n        }\n    };\n    JSONCompletion.prototype.addFillerValueCompletions = function (types, separatorAfter, collector) {\n        if (types['object']) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: '{}',\n                insertText: this.getInsertTextForGuessedValue({}, separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.object', 'New object'),\n                documentation: ''\n            });\n        }\n        if (types['array']) {\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: '[]',\n                insertText: this.getInsertTextForGuessedValue([], separatorAfter),\n                insertTextFormat: InsertTextFormat.Snippet,\n                detail: localize('defaults.array', 'New array'),\n                documentation: ''\n            });\n        }\n    };\n    JSONCompletion.prototype.addBooleanValueCompletion = function (value, separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('boolean'),\n            label: value ? 'true' : 'false',\n            insertText: this.getInsertTextForValue(value, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addNullValueCompletion = function (separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('null'),\n            label: 'null',\n            insertText: 'null' + separatorAfter,\n            insertTextFormat: InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addDollarSchemaCompletions = function (separatorAfter, collector) {\n        var _this = this;\n        var schemaIds = this.schemaService.getRegisteredSchemaIds(function (schema) { return schema === 'http' || schema === 'https'; });\n        schemaIds.forEach(function (schemaId) { return collector.add({\n            kind: CompletionItemKind.Module,\n            label: _this.getLabelForValue(schemaId),\n            filterText: _this.getFilterTextForValue(schemaId),\n            insertText: _this.getInsertTextForValue(schemaId, separatorAfter),\n            insertTextFormat: InsertTextFormat.Snippet, documentation: ''\n        }); });\n    };\n    JSONCompletion.prototype.getLabelForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForSnippetValue = function (value) {\n        return JSON.stringify(value).replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getLabelForSnippetValue = function (value) {\n        var label = JSON.stringify(value);\n        return label.replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getInsertTextForPlainText = function (text) {\n        return text.replace(/[\\\\\\$\\}]/g, '\\\\$&'); // escape $, \\ and } \n    };\n    JSONCompletion.prototype.getInsertTextForValue = function (value, separatorAfter) {\n        var text = JSON.stringify(value, null, '\\t');\n        if (text === '{}') {\n            return '{$1}' + separatorAfter;\n        }\n        else if (text === '[]') {\n            return '[$1]' + separatorAfter;\n        }\n        return this.getInsertTextForPlainText(text + separatorAfter);\n    };\n    JSONCompletion.prototype.getInsertTextForSnippetValue = function (value, separatorAfter) {\n        var replacer = function (value) {\n            if (typeof value === 'string') {\n                if (value[0] === '^') {\n                    return value.substr(1);\n                }\n            }\n            return JSON.stringify(value);\n        };\n        return stringifyObject(value, '', replacer) + separatorAfter;\n    };\n    JSONCompletion.prototype.getInsertTextForGuessedValue = function (value, separatorAfter) {\n        switch (typeof value) {\n            case 'object':\n                if (value === null) {\n                    return '${1:null}' + separatorAfter;\n                }\n                return this.getInsertTextForValue(value, separatorAfter);\n            case 'string':\n                var snippetValue = JSON.stringify(value);\n                snippetValue = snippetValue.substr(1, snippetValue.length - 2); // remove quotes\n                snippetValue = this.getInsertTextForPlainText(snippetValue); // escape \\ and }\n                return '\"${1:' + snippetValue + '}\"' + separatorAfter;\n            case 'number':\n            case 'boolean':\n                return '${1:' + JSON.stringify(value) + '}' + separatorAfter;\n        }\n        return this.getInsertTextForValue(value, separatorAfter);\n    };\n    JSONCompletion.prototype.getSuggestionKind = function (type) {\n        if (Array.isArray(type)) {\n            var array = type;\n            type = array.length > 0 ? array[0] : undefined;\n        }\n        if (!type) {\n            return CompletionItemKind.Value;\n        }\n        switch (type) {\n            case 'string': return CompletionItemKind.Value;\n            case 'object': return CompletionItemKind.Module;\n            case 'property': return CompletionItemKind.Property;\n            default: return CompletionItemKind.Value;\n        }\n    };\n    JSONCompletion.prototype.getLabelTextForMatchingNode = function (node, document) {\n        switch (node.type) {\n            case 'array':\n                return '[]';\n            case 'object':\n                return '{}';\n            default:\n                var content = document.getText().substr(node.offset, node.length);\n                return content;\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForMatchingNode = function (node, document, separatorAfter) {\n        switch (node.type) {\n            case 'array':\n                return this.getInsertTextForValue([], separatorAfter);\n            case 'object':\n                return this.getInsertTextForValue({}, separatorAfter);\n            default:\n                var content = document.getText().substr(node.offset, node.length) + separatorAfter;\n                return this.getInsertTextForPlainText(content);\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForProperty = function (key, propertySchema, addValue, separatorAfter) {\n        var propertyText = this.getInsertTextForValue(key, '');\n        if (!addValue) {\n            return propertyText;\n        }\n        var resultText = propertyText + ': ';\n        var value;\n        var nValueProposals = 0;\n        if (propertySchema) {\n            if (Array.isArray(propertySchema.defaultSnippets)) {\n                if (propertySchema.defaultSnippets.length === 1) {\n                    var body = propertySchema.defaultSnippets[0].body;\n                    if (isDefined(body)) {\n                        value = this.getInsertTextForSnippetValue(body, '');\n                    }\n                }\n                nValueProposals += propertySchema.defaultSnippets.length;\n            }\n            if (propertySchema.enum) {\n                if (!value && propertySchema.enum.length === 1) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.enum[0], '');\n                }\n                nValueProposals += propertySchema.enum.length;\n            }\n            if (isDefined(propertySchema.default)) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.default, '');\n                }\n                nValueProposals++;\n            }\n            if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.examples[0], '');\n                }\n                nValueProposals += propertySchema.examples.length;\n            }\n            if (nValueProposals === 0) {\n                var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n                if (!type) {\n                    if (propertySchema.properties) {\n                        type = 'object';\n                    }\n                    else if (propertySchema.items) {\n                        type = 'array';\n                    }\n                }\n                switch (type) {\n                    case 'boolean':\n                        value = '$1';\n                        break;\n                    case 'string':\n                        value = '\"$1\"';\n                        break;\n                    case 'object':\n                        value = '{$1}';\n                        break;\n                    case 'array':\n                        value = '[$1]';\n                        break;\n                    case 'number':\n                    case 'integer':\n                        value = '${1:0}';\n                        break;\n                    case 'null':\n                        value = '${1:null}';\n                        break;\n                    default:\n                        return propertyText;\n                }\n            }\n        }\n        if (!value || nValueProposals > 1) {\n            value = '$1';\n        }\n        return resultText + value + separatorAfter;\n    };\n    JSONCompletion.prototype.getCurrentWord = function (document, offset) {\n        var i = offset - 1;\n        var text = document.getText();\n        while (i >= 0 && ' \\t\\n\\r\\v\":{[,]}'.indexOf(text.charAt(i)) === -1) {\n            i--;\n        }\n        return text.substring(i + 1, offset);\n    };\n    JSONCompletion.prototype.evaluateSeparatorAfter = function (document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        scanner.setPosition(offset);\n        var token = scanner.scan();\n        switch (token) {\n            case 5 /* CommaToken */:\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */:\n            case 17 /* EOF */:\n                return '';\n            default:\n                return ',';\n        }\n    };\n    JSONCompletion.prototype.findItemAtOffset = function (node, document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        var children = node.items;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (offset > child.offset + child.length) {\n                scanner.setPosition(child.offset + child.length);\n                var token = scanner.scan();\n                if (token === 5 /* CommaToken */ && offset >= scanner.getTokenOffset() + scanner.getTokenLength()) {\n                    return i + 1;\n                }\n                return i;\n            }\n            else if (offset >= child.offset) {\n                return i;\n            }\n        }\n        return 0;\n    };\n    JSONCompletion.prototype.isInComment = function (document, start, offset) {\n        var scanner = Json.createScanner(document.getText(), false);\n        scanner.setPosition(start);\n        var token = scanner.scan();\n        while (token !== 17 /* EOF */ && (scanner.getTokenOffset() + scanner.getTokenLength() < offset)) {\n            token = scanner.scan();\n        }\n        return (token === 12 /* LineCommentTrivia */ || token === 13 /* BlockCommentTrivia */) && scanner.getTokenOffset() <= offset;\n    };\n    JSONCompletion.prototype.fromMarkup = function (markupString) {\n        if (markupString && this.doesSupportMarkdown()) {\n            return {\n                kind: MarkupKind.Markdown,\n                value: markupString\n            };\n        }\n        return undefined;\n    };\n    JSONCompletion.prototype.doesSupportMarkdown = function () {\n        if (!isDefined(this.supportsMarkdown)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsMarkdown = completion && completion.completionItem && Array.isArray(completion.completionItem.documentationFormat) && completion.completionItem.documentationFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    JSONCompletion.prototype.doesSupportsCommitCharacters = function () {\n        if (!isDefined(this.supportsCommitCharacters)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsCommitCharacters = completion && completion.completionItem && !!completion.completionItem.commitCharactersSupport;\n        }\n        return this.supportsCommitCharacters;\n    };\n    return JSONCompletion;\n}());\nexport { JSONCompletion };\n","/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function stringifyObject(obj, indent, stringifyLiteral) {\n    if (obj !== null && typeof obj === 'object') {\n        var newIndent = indent + '\\t';\n        if (Array.isArray(obj)) {\n            if (obj.length === 0) {\n                return '[]';\n            }\n            var result = '[\\n';\n            for (var i = 0; i < obj.length; i++) {\n                result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);\n                if (i < obj.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + ']';\n            return result;\n        }\n        else {\n            var keys = Object.keys(obj);\n            if (keys.length === 0) {\n                return '{}';\n            }\n            var result = '{\\n';\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                result += newIndent + JSON.stringify(key) + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral);\n                if (i < keys.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + '}';\n            return result;\n        }\n    }\n    return stringifyLiteral(obj);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport { Range } from '../jsonLanguageTypes';\nvar JSONHover = /** @class */ (function () {\n    function JSONHover(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONHover.prototype.doHover = function (document, position, doc) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset);\n        if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n            return this.promise.resolve(null);\n        }\n        var hoverRangeNode = node;\n        // use the property description when hovering over an object key\n        if (node.type === 'string') {\n            var parent = node.parent;\n            if (parent && parent.type === 'property' && parent.keyNode === node) {\n                node = parent.valueNode;\n                if (!node) {\n                    return this.promise.resolve(null);\n                }\n            }\n        }\n        var hoverRange = Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n        var createHover = function (contents) {\n            var result = {\n                contents: contents,\n                range: hoverRange\n            };\n            return result;\n        };\n        var location = Parser.getNodePath(node);\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var contribution = this.contributions[i];\n            var promise = contribution.getInfoContribution(document.uri, location);\n            if (promise) {\n                return promise.then(function (htmlContent) { return createHover(htmlContent); });\n            }\n        }\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            if (schema && node) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n                var title_1 = undefined;\n                var markdownDescription_1 = undefined;\n                var markdownEnumValueDescription_1 = undefined, enumValue_1 = undefined;\n                matchingSchemas.every(function (s) {\n                    if (s.node === node && !s.inverted && s.schema) {\n                        title_1 = title_1 || s.schema.title;\n                        markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n                        if (s.schema.enum) {\n                            var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n                            if (s.schema.markdownEnumDescriptions) {\n                                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n                            }\n                            else if (s.schema.enumDescriptions) {\n                                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n                            }\n                            if (markdownEnumValueDescription_1) {\n                                enumValue_1 = s.schema.enum[idx];\n                                if (typeof enumValue_1 !== 'string') {\n                                    enumValue_1 = JSON.stringify(enumValue_1);\n                                }\n                            }\n                        }\n                    }\n                    return true;\n                });\n                var result = '';\n                if (title_1) {\n                    result = toMarkdown(title_1);\n                }\n                if (markdownDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += markdownDescription_1;\n                }\n                if (markdownEnumValueDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += \"`\" + toMarkdownCodeBlock(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n                }\n                return createHover([result]);\n            }\n            return null;\n        });\n    };\n    return JSONHover;\n}());\nexport { JSONHover };\nfunction toMarkdown(plain) {\n    if (plain) {\n        var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n        return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    return undefined;\n}\nfunction toMarkdownCodeBlock(content) {\n    // see https://daringfireball.net/projects/markdown/syntax#precode\n    if (content.indexOf('`') !== -1) {\n        return '`` ' + content + ' ``';\n    }\n    return content;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { UnresolvedSchema } from './jsonSchemaService';\nimport { ErrorCode, Diagnostic, DiagnosticSeverity, Range } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nimport { isBoolean } from '../utils/objects';\nvar localize = nls.loadMessageBundle();\nvar JSONValidation = /** @class */ (function () {\n    function JSONValidation(jsonSchemaService, promiseConstructor) {\n        this.jsonSchemaService = jsonSchemaService;\n        this.promise = promiseConstructor;\n        this.validationEnabled = true;\n    }\n    JSONValidation.prototype.configure = function (raw) {\n        if (raw) {\n            this.validationEnabled = raw.validate;\n            this.commentSeverity = raw.allowComments ? undefined : DiagnosticSeverity.Error;\n        }\n    };\n    JSONValidation.prototype.doValidation = function (textDocument, jsonDocument, documentSettings, schema) {\n        var _this = this;\n        if (!this.validationEnabled) {\n            return this.promise.resolve([]);\n        }\n        var diagnostics = [];\n        var added = {};\n        var addProblem = function (problem) {\n            // remove duplicated messages\n            var signature = problem.range.start.line + ' ' + problem.range.start.character + ' ' + problem.message;\n            if (!added[signature]) {\n                added[signature] = true;\n                diagnostics.push(problem);\n            }\n        };\n        var getDiagnostics = function (schema) {\n            var trailingCommaSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.trailingCommas) : DiagnosticSeverity.Error;\n            var commentSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.comments) : _this.commentSeverity;\n            var schemaValidation = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaValidation) ? toDiagnosticSeverity(documentSettings.schemaValidation) : DiagnosticSeverity.Warning;\n            var schemaRequest = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaRequest) ? toDiagnosticSeverity(documentSettings.schemaRequest) : DiagnosticSeverity.Warning;\n            if (schema) {\n                if (schema.errors.length && jsonDocument.root && schemaRequest) {\n                    var astRoot = jsonDocument.root;\n                    var property = astRoot.type === 'object' ? astRoot.properties[0] : undefined;\n                    if (property && property.keyNode.value === '$schema') {\n                        var node = property.valueNode || property;\n                        var range = Range.create(textDocument.positionAt(node.offset), textDocument.positionAt(node.offset + node.length));\n                        addProblem(Diagnostic.create(range, schema.errors[0], schemaRequest, ErrorCode.SchemaResolveError));\n                    }\n                    else {\n                        var range = Range.create(textDocument.positionAt(astRoot.offset), textDocument.positionAt(astRoot.offset + 1));\n                        addProblem(Diagnostic.create(range, schema.errors[0], schemaRequest, ErrorCode.SchemaResolveError));\n                    }\n                }\n                else if (schemaValidation) {\n                    var semanticErrors = jsonDocument.validate(textDocument, schema.schema, schemaValidation);\n                    if (semanticErrors) {\n                        semanticErrors.forEach(addProblem);\n                    }\n                }\n                if (schemaAllowsComments(schema.schema)) {\n                    commentSeverity = undefined;\n                }\n                if (schemaAllowsTrailingCommas(schema.schema)) {\n                    trailingCommaSeverity = undefined;\n                }\n            }\n            for (var _i = 0, _a = jsonDocument.syntaxErrors; _i < _a.length; _i++) {\n                var p = _a[_i];\n                if (p.code === ErrorCode.TrailingComma) {\n                    if (typeof trailingCommaSeverity !== 'number') {\n                        continue;\n                    }\n                    p.severity = trailingCommaSeverity;\n                }\n                addProblem(p);\n            }\n            if (typeof commentSeverity === 'number') {\n                var message_1 = localize('InvalidCommentToken', 'Comments are not permitted in JSON.');\n                jsonDocument.comments.forEach(function (c) {\n                    addProblem(Diagnostic.create(c, message_1, commentSeverity, ErrorCode.CommentNotPermitted));\n                });\n            }\n            return diagnostics;\n        };\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/' + idCounter++);\n            return this.jsonSchemaService.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return getDiagnostics(resolvedSchema);\n            });\n        }\n        return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function (schema) {\n            return getDiagnostics(schema);\n        });\n    };\n    return JSONValidation;\n}());\nexport { JSONValidation };\nvar idCounter = 0;\nfunction schemaAllowsComments(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (isBoolean(schemaRef.allowComments)) {\n            return schemaRef.allowComments;\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsComments(schema);\n                if (isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction schemaAllowsTrailingCommas(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (isBoolean(schemaRef.allowTrailingCommas)) {\n            return schemaRef.allowTrailingCommas;\n        }\n        var deprSchemaRef = schemaRef;\n        if (isBoolean(deprSchemaRef['allowsTrailingCommas'])) { // deprecated\n            return deprSchemaRef['allowsTrailingCommas'];\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsTrailingCommas(schema);\n                if (isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction toDiagnosticSeverity(severityLevel) {\n    switch (severityLevel) {\n        case 'error': return DiagnosticSeverity.Error;\n        case 'warning': return DiagnosticSeverity.Warning;\n        case 'ignore': return undefined;\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser';\nimport * as Strings from '../utils/strings';\nimport { colorFromHex } from '../utils/colors';\nimport { Range, TextEdit, SymbolKind, Location } from \"../jsonLanguageTypes\";\nvar JSONDocumentSymbols = /** @class */ (function () {\n    function JSONDocumentSymbols(schemaService) {\n        this.schemaService = schemaService;\n    }\n    JSONDocumentSymbols.prototype.findDocumentSymbols = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_1 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var location = Location.create(document.uri, getRange(document, item));\n                                result_1.push({ name: Parser.getNodeValue(property.valueNode), kind: SymbolKind.Function, location: location });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_1;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_1;\n            }\n        }\n        var toVisit = [\n            { node: root, containerName: '' }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var result = [];\n        var collectOutlineEntries = function (node, containerName) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node) {\n                    if (node) {\n                        toVisit.push({ node: node, containerName: containerName });\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var location = Location.create(document.uri, getRange(document, property));\n                            var childContainerName = containerName ? containerName + '.' + property.keyNode.value : property.keyNode.value;\n                            result.push({ name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), location: location, containerName: containerName });\n                            toVisit.push({ node: valueNode, containerName: childContainerName });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.containerName);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.findDocumentSymbols2 = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_2 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var range = getRange(document, item);\n                                var selectionRange = getRange(document, property.keyNode);\n                                result_2.push({ name: Parser.getNodeValue(property.valueNode), kind: SymbolKind.Function, range: range, selectionRange: selectionRange });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_2;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_2;\n            }\n        }\n        var result = [];\n        var toVisit = [\n            { node: root, result: result }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var collectOutlineEntries = function (node, result) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node, index) {\n                    if (node) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, node);\n                            var selectionRange = range;\n                            var name = String(index);\n                            var symbol = { name: name, kind: _this.getSymbolKind(node.type), range: range, selectionRange: selectionRange, children: [] };\n                            result.push(symbol);\n                            toVisit.push({ result: symbol.children, node: node });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, property);\n                            var selectionRange = getRange(document, property.keyNode);\n                            var symbol = { name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), range: range, selectionRange: selectionRange, children: [] };\n                            result.push(symbol);\n                            toVisit.push({ result: symbol.children, node: valueNode });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.result);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.getSymbolKind = function (nodeType) {\n        switch (nodeType) {\n            case 'object':\n                return SymbolKind.Module;\n            case 'string':\n                return SymbolKind.String;\n            case 'number':\n                return SymbolKind.Number;\n            case 'array':\n                return SymbolKind.Array;\n            case 'boolean':\n                return SymbolKind.Boolean;\n            default: // 'null'\n                return SymbolKind.Variable;\n        }\n    };\n    JSONDocumentSymbols.prototype.getKeyLabel = function (property) {\n        var name = property.keyNode.value;\n        if (name) {\n            name = name.replace(/[\\n]/g, '↵');\n        }\n        if (name && name.trim()) {\n            return name;\n        }\n        return \"\\\"\" + name + \"\\\"\";\n    };\n    JSONDocumentSymbols.prototype.findDocumentColors = function (document, doc, context) {\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var result = [];\n            if (schema) {\n                var limit = context && typeof context.resultLimit === 'number' ? context.resultLimit : Number.MAX_VALUE;\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema);\n                var visitedNode = {};\n                for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                    var s = matchingSchemas_1[_i];\n                    if (!s.inverted && s.schema && (s.schema.format === 'color' || s.schema.format === 'color-hex') && s.node && s.node.type === 'string') {\n                        var nodeId = String(s.node.offset);\n                        if (!visitedNode[nodeId]) {\n                            var color = colorFromHex(Parser.getNodeValue(s.node));\n                            if (color) {\n                                var range = getRange(document, s.node);\n                                result.push({ color: color, range: range });\n                            }\n                            visitedNode[nodeId] = true;\n                            limit--;\n                            if (limit <= 0) {\n                                if (context && context.onResultLimitExceeded) {\n                                    context.onResultLimitExceeded(document.uri);\n                                }\n                                return result;\n                            }\n                        }\n                    }\n                }\n            }\n            return result;\n        });\n    };\n    JSONDocumentSymbols.prototype.getColorPresentations = function (document, doc, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        function toTwoDigitHex(n) {\n            var r = n.toString(16);\n            return r.length !== 2 ? '0' + r : r;\n        }\n        var label;\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, JSON.stringify(label)) });\n        return result;\n    };\n    return JSONDocumentSymbols;\n}());\nexport { JSONDocumentSymbols };\nfunction getRange(document, node) {\n    return Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar Digit0 = 48;\nvar Digit9 = 57;\nvar A = 65;\nvar a = 97;\nvar f = 102;\nexport function hexDigit(charCode) {\n    if (charCode < Digit0) {\n        return 0;\n    }\n    if (charCode <= Digit9) {\n        return charCode - Digit0;\n    }\n    if (charCode < a) {\n        charCode += (a - A);\n    }\n    if (charCode >= a && charCode <= f) {\n        return charCode - a + 10;\n    }\n    return 0;\n}\nexport function colorFromHex(text) {\n    if (text[0] !== '#') {\n        return undefined;\n    }\n    switch (text.length) {\n        case 4:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: 1\n            };\n        case 5:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(4)) * 0x11) / 255.0,\n            };\n        case 7:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: 1\n            };\n        case 9:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(7)) * 0x10 + hexDigit(text.charCodeAt(8))) / 255.0\n            };\n    }\n    return undefined;\n}\nexport function colorFrom256RGB(red, green, blue, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    return {\n        red: red / 255.0,\n        green: green / 255.0,\n        blue: blue / 255.0,\n        alpha: alpha\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nexport var schemaContributions = {\n    schemaAssociations: [],\n    schemas: {\n        // refer to the latest schema\n        'http://json-schema.org/schema#': {\n            $ref: 'http://json-schema.org/draft-07/schema#'\n        },\n        // bundle the schema-schema to include (localized) descriptions\n        'http://json-schema.org/draft-04/schema#': {\n            'title': localize('schema.json', 'Describes a JSON file using a schema. See json-schema.org for more info.'),\n            '$schema': 'http://json-schema.org/draft-04/schema#',\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': {\n                        '$ref': '#'\n                    }\n                },\n                'positiveInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'positiveIntegerDefault0': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        },\n                        {\n                            'default': 0\n                        }\n                    ]\n                },\n                'simpleTypes': {\n                    'type': 'string',\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': {\n                        'type': 'string'\n                    },\n                    'minItems': 1,\n                    'uniqueItems': true\n                }\n            },\n            'type': 'object',\n            'properties': {\n                'id': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': {},\n                'multipleOf': {\n                    'type': 'number',\n                    'minimum': 0,\n                    'exclusiveMinimum': true\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'items': {\n                    'anyOf': [\n                        {\n                            '$ref': '#'\n                        },\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ],\n                    'default': {}\n                },\n                'maxItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'required': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/stringArray'\n                        }\n                    ]\n                },\n                'additionalProperties': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            {\n                                '$ref': '#'\n                            },\n                            {\n                                '$ref': '#/definitions/stringArray'\n                            }\n                        ]\n                    }\n                },\n                'enum': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        {\n                            '$ref': '#/definitions/simpleTypes'\n                        },\n                        {\n                            'type': 'array',\n                            'items': {\n                                '$ref': '#/definitions/simpleTypes'\n                            },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': {\n                    'anyOf': [\n                        {\n                            'type': 'string',\n                            'enum': [\n                                'date-time',\n                                'uri',\n                                'email',\n                                'hostname',\n                                'ipv4',\n                                'ipv6',\n                                'regex'\n                            ]\n                        },\n                        {\n                            'type': 'string'\n                        }\n                    ]\n                },\n                'allOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'anyOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'oneOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'not': {\n                    'allOf': [\n                        {\n                            '$ref': '#'\n                        }\n                    ]\n                }\n            },\n            'dependencies': {\n                'exclusiveMaximum': [\n                    'maximum'\n                ],\n                'exclusiveMinimum': [\n                    'minimum'\n                ]\n            },\n            'default': {}\n        },\n        'http://json-schema.org/draft-07/schema#': {\n            'title': localize('schema.json', 'Describes a JSON file using a schema. See json-schema.org for more info.'),\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': { '$ref': '#' }\n                },\n                'nonNegativeInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'nonNegativeIntegerDefault0': {\n                    'allOf': [\n                        { '$ref': '#/definitions/nonNegativeInteger' },\n                        { 'default': 0 }\n                    ]\n                },\n                'simpleTypes': {\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': { 'type': 'string' },\n                    'uniqueItems': true,\n                    'default': []\n                }\n            },\n            'type': ['object', 'boolean'],\n            'properties': {\n                '$id': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$ref': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$comment': {\n                    'type': 'string'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': true,\n                'readOnly': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'examples': {\n                    'type': 'array',\n                    'items': true\n                },\n                'multipleOf': {\n                    'type': 'number',\n                    'exclusiveMinimum': 0\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'number'\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'number'\n                },\n                'maxLength': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minLength': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': { '$ref': '#' },\n                'items': {\n                    'anyOf': [\n                        { '$ref': '#' },\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'default': true\n                },\n                'maxItems': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minItems': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'contains': { '$ref': '#' },\n                'maxProperties': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minProperties': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'required': { '$ref': '#/definitions/stringArray' },\n                'additionalProperties': { '$ref': '#' },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'propertyNames': { 'format': 'regex' },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            { '$ref': '#' },\n                            { '$ref': '#/definitions/stringArray' }\n                        ]\n                    }\n                },\n                'propertyNames': { '$ref': '#' },\n                'const': true,\n                'enum': {\n                    'type': 'array',\n                    'items': true,\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        { '$ref': '#/definitions/simpleTypes' },\n                        {\n                            'type': 'array',\n                            'items': { '$ref': '#/definitions/simpleTypes' },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': { 'type': 'string' },\n                'contentMediaType': { 'type': 'string' },\n                'contentEncoding': { 'type': 'string' },\n                'if': { '$ref': '#' },\n                'then': { '$ref': '#' },\n                'else': { '$ref': '#' },\n                'allOf': { '$ref': '#/definitions/schemaArray' },\n                'anyOf': { '$ref': '#/definitions/schemaArray' },\n                'oneOf': { '$ref': '#/definitions/schemaArray' },\n                'not': { '$ref': '#' }\n            },\n            'default': true\n        }\n    }\n};\nvar descriptions = {\n    id: localize('schema.json.id', \"A unique identifier for the schema.\"),\n    $schema: localize('schema.json.$schema', \"The schema to verify this document against.\"),\n    title: localize('schema.json.title', \"A descriptive title of the element.\"),\n    description: localize('schema.json.description', \"A long description of the element. Used in hover menus and suggestions.\"),\n    default: localize('schema.json.default', \"A default value. Used by suggestions.\"),\n    multipleOf: localize('schema.json.multipleOf', \"A number that should cleanly divide the current value (i.e. have no remainder).\"),\n    maximum: localize('schema.json.maximum', \"The maximum numerical value, inclusive by default.\"),\n    exclusiveMaximum: localize('schema.json.exclusiveMaximum', \"Makes the maximum property exclusive.\"),\n    minimum: localize('schema.json.minimum', \"The minimum numerical value, inclusive by default.\"),\n    exclusiveMinimum: localize('schema.json.exclusiveMininum', \"Makes the minimum property exclusive.\"),\n    maxLength: localize('schema.json.maxLength', \"The maximum length of a string.\"),\n    minLength: localize('schema.json.minLength', \"The minimum length of a string.\"),\n    pattern: localize('schema.json.pattern', \"A regular expression to match the string against. It is not implicitly anchored.\"),\n    additionalItems: localize('schema.json.additionalItems', \"For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.\"),\n    items: localize('schema.json.items', \"For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.\"),\n    maxItems: localize('schema.json.maxItems', \"The maximum number of items that can be inside an array. Inclusive.\"),\n    minItems: localize('schema.json.minItems', \"The minimum number of items that can be inside an array. Inclusive.\"),\n    uniqueItems: localize('schema.json.uniqueItems', \"If all of the items in the array must be unique. Defaults to false.\"),\n    maxProperties: localize('schema.json.maxProperties', \"The maximum number of properties an object can have. Inclusive.\"),\n    minProperties: localize('schema.json.minProperties', \"The minimum number of properties an object can have. Inclusive.\"),\n    required: localize('schema.json.required', \"An array of strings that lists the names of all properties required on this object.\"),\n    additionalProperties: localize('schema.json.additionalProperties', \"Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail.\"),\n    definitions: localize('schema.json.definitions', \"Not used for validation. Place subschemas here that you wish to reference inline with $ref.\"),\n    properties: localize('schema.json.properties', \"A map of property names to schemas for each property.\"),\n    patternProperties: localize('schema.json.patternProperties', \"A map of regular expressions on property names to schemas for matching properties.\"),\n    dependencies: localize('schema.json.dependencies', \"A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.\"),\n    enum: localize('schema.json.enum', \"The set of literal values that are valid.\"),\n    type: localize('schema.json.type', \"Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.\"),\n    format: localize('schema.json.format', \"Describes the format expected for the value.\"),\n    allOf: localize('schema.json.allOf', \"An array of schemas, all of which must match.\"),\n    anyOf: localize('schema.json.anyOf', \"An array of schemas, where at least one must match.\"),\n    oneOf: localize('schema.json.oneOf', \"An array of schemas, exactly one of which must match.\"),\n    not: localize('schema.json.not', \"A schema which must not match.\"),\n    $id: localize('schema.json.$id', \"A unique identifier for the schema.\"),\n    $ref: localize('schema.json.$ref', \"Reference a definition hosted on any location.\"),\n    $comment: localize('schema.json.$comment', \"Comments from schema authors to readers or maintainers of the schema.\"),\n    readOnly: localize('schema.json.readOnly', \"Indicates that the value of the instance is managed exclusively by the owning authority.\"),\n    examples: localize('schema.json.examples', \"Sample JSON values associated with a particular schema, for the purpose of illustrating usage.\"),\n    contains: localize('schema.json.contains', \"An array instance is valid against \\\"contains\\\" if at least one of its elements is valid against the given schema.\"),\n    propertyNames: localize('schema.json.propertyNames', \"If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema.\"),\n    const: localize('schema.json.const', \"An instance validates successfully against this keyword if its value is equal to the value of the keyword.\"),\n    contentMediaType: localize('schema.json.contentMediaType', \"Describes the media type of a string property.\"),\n    contentEncoding: localize('schema.json.contentEncoding', \"Describes the content encoding of a string property.\"),\n    if: localize('schema.json.if', \"The validation outcome of the \\\"if\\\" subschema controls which of the \\\"then\\\" or \\\"else\\\" keywords are evaluated.\"),\n    then: localize('schema.json.then', \"The \\\"if\\\" subschema is used for validation when the \\\"if\\\" subschema succeeds.\"),\n    else: localize('schema.json.else', \"The \\\"else\\\" subschema is used for validation when the \\\"if\\\" subschema fails.\")\n};\nfor (var schemaName in schemaContributions.schemas) {\n    var schema = schemaContributions.schemas[schemaName];\n    for (var property in schema.properties) {\n        var propertyObject = schema.properties[property];\n        if (typeof propertyObject === 'boolean') {\n            propertyObject = schema.properties[property] = {};\n        }\n        var description = descriptions[property];\n        if (description) {\n            propertyObject['description'] = description;\n        }\n        else {\n            console.log(property + \": localize('schema.json.\" + property + \"', \\\"\\\")\");\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createScanner } from 'jsonc-parser';\nimport { FoldingRangeKind, Position } from '../jsonLanguageTypes';\nexport function getFoldingRanges(document, context) {\n    var ranges = [];\n    var nestingLevels = [];\n    var stack = [];\n    var prevStart = -1;\n    var scanner = createScanner(document.getText(), false);\n    var token = scanner.scan();\n    function addRange(range) {\n        ranges.push(range);\n        nestingLevels.push(stack.length);\n    }\n    while (token !== 17 /* EOF */) {\n        switch (token) {\n            case 1 /* OpenBraceToken */:\n            case 3 /* OpenBracketToken */: {\n                var startLine = document.positionAt(scanner.getTokenOffset()).line;\n                var range = { startLine: startLine, endLine: startLine, kind: token === 1 /* OpenBraceToken */ ? 'object' : 'array' };\n                stack.push(range);\n                break;\n            }\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */: {\n                var kind = token === 2 /* CloseBraceToken */ ? 'object' : 'array';\n                if (stack.length > 0 && stack[stack.length - 1].kind === kind) {\n                    var range = stack.pop();\n                    var line = document.positionAt(scanner.getTokenOffset()).line;\n                    if (range && line > range.startLine + 1 && prevStart !== range.startLine) {\n                        range.endLine = line - 1;\n                        addRange(range);\n                        prevStart = range.startLine;\n                    }\n                }\n                break;\n            }\n            case 13 /* BlockCommentTrivia */: {\n                var startLine = document.positionAt(scanner.getTokenOffset()).line;\n                var endLine = document.positionAt(scanner.getTokenOffset() + scanner.getTokenLength()).line;\n                if (scanner.getTokenError() === 1 /* UnexpectedEndOfComment */ && startLine + 1 < document.lineCount) {\n                    scanner.setPosition(document.offsetAt(Position.create(startLine + 1, 0)));\n                }\n                else {\n                    if (startLine < endLine) {\n                        addRange({ startLine: startLine, endLine: endLine, kind: FoldingRangeKind.Comment });\n                        prevStart = startLine;\n                    }\n                }\n                break;\n            }\n            case 12 /* LineCommentTrivia */: {\n                var text = document.getText().substr(scanner.getTokenOffset(), scanner.getTokenLength());\n                var m = text.match(/^\\/\\/\\s*#(region\\b)|(endregion\\b)/);\n                if (m) {\n                    var line = document.positionAt(scanner.getTokenOffset()).line;\n                    if (m[1]) { // start pattern match\n                        var range = { startLine: line, endLine: line, kind: FoldingRangeKind.Region };\n                        stack.push(range);\n                    }\n                    else {\n                        var i = stack.length - 1;\n                        while (i >= 0 && stack[i].kind !== FoldingRangeKind.Region) {\n                            i--;\n                        }\n                        if (i >= 0) {\n                            var range = stack[i];\n                            stack.length = i;\n                            if (line > range.startLine && prevStart !== range.startLine) {\n                                range.endLine = line;\n                                addRange(range);\n                                prevStart = range.startLine;\n                            }\n                        }\n                    }\n                }\n                break;\n            }\n        }\n        token = scanner.scan();\n    }\n    var rangeLimit = context && context.rangeLimit;\n    if (typeof rangeLimit !== 'number' || ranges.length <= rangeLimit) {\n        return ranges;\n    }\n    if (context && context.onRangeLimitExceeded) {\n        context.onRangeLimitExceeded(document.uri);\n    }\n    var counts = [];\n    for (var _i = 0, nestingLevels_1 = nestingLevels; _i < nestingLevels_1.length; _i++) {\n        var level = nestingLevels_1[_i];\n        if (level < 30) {\n            counts[level] = (counts[level] || 0) + 1;\n        }\n    }\n    var entries = 0;\n    var maxLevel = 0;\n    for (var i = 0; i < counts.length; i++) {\n        var n = counts[i];\n        if (n) {\n            if (n + entries > rangeLimit) {\n                maxLevel = i;\n                break;\n            }\n            entries += n;\n        }\n    }\n    var result = [];\n    for (var i = 0; i < ranges.length; i++) {\n        var level = nestingLevels[i];\n        if (typeof level === 'number') {\n            if (level < maxLevel || (level === maxLevel && entries++ < rangeLimit)) {\n                result.push(ranges[i]);\n            }\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range, SelectionRange } from '../jsonLanguageTypes';\nimport { createScanner } from 'jsonc-parser';\nexport function getSelectionRanges(document, positions, doc) {\n    function getSelectionRange(position) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset, true);\n        var result = [];\n        while (node) {\n            switch (node.type) {\n                case 'string':\n                case 'object':\n                case 'array':\n                    // range without \", [ or {\n                    var cStart = node.offset + 1, cEnd = node.offset + node.length - 1;\n                    if (cStart < cEnd && offset >= cStart && offset <= cEnd) {\n                        result.push(newRange(cStart, cEnd));\n                    }\n                    result.push(newRange(node.offset, node.offset + node.length));\n                    break;\n                case 'number':\n                case 'boolean':\n                case 'null':\n                case 'property':\n                    result.push(newRange(node.offset, node.offset + node.length));\n                    break;\n            }\n            if (node.type === 'property' || node.parent && node.parent.type === 'array') {\n                var afterCommaOffset = getOffsetAfterNextToken(node.offset + node.length, 5 /* CommaToken */);\n                if (afterCommaOffset !== -1) {\n                    result.push(newRange(node.offset, afterCommaOffset));\n                }\n            }\n            node = node.parent;\n        }\n        var current = undefined;\n        for (var index = result.length - 1; index >= 0; index--) {\n            current = SelectionRange.create(result[index], current);\n        }\n        if (!current) {\n            current = SelectionRange.create(Range.create(position, position));\n        }\n        return current;\n    }\n    function newRange(start, end) {\n        return Range.create(document.positionAt(start), document.positionAt(end));\n    }\n    var scanner = createScanner(document.getText(), true);\n    function getOffsetAfterNextToken(offset, expectedToken) {\n        scanner.setPosition(offset);\n        var token = scanner.scan();\n        if (token === expectedToken) {\n            return scanner.getTokenOffset() + scanner.getTokenLength();\n        }\n        return -1;\n    }\n    return positions.map(getSelectionRange);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../jsonLanguageTypes';\nexport function findLinks(document, doc) {\n    var links = [];\n    doc.visit(function (node) {\n        var _a;\n        if (node.type === \"property\" && node.keyNode.value === \"$ref\" && ((_a = node.valueNode) === null || _a === void 0 ? void 0 : _a.type) === 'string') {\n            var path = node.valueNode.value;\n            var targetNode = findTargetNode(doc, path);\n            if (targetNode) {\n                var targetPos = document.positionAt(targetNode.offset);\n                links.push({\n                    target: document.uri + \"#\" + (targetPos.line + 1) + \",\" + (targetPos.character + 1),\n                    range: createRange(document, node.valueNode)\n                });\n            }\n        }\n        return true;\n    });\n    return Promise.resolve(links);\n}\nfunction createRange(document, node) {\n    return Range.create(document.positionAt(node.offset + 1), document.positionAt(node.offset + node.length - 1));\n}\nfunction findTargetNode(doc, path) {\n    var tokens = parseJSONPointer(path);\n    if (!tokens) {\n        return null;\n    }\n    return findNode(tokens, doc.root);\n}\nfunction findNode(pointer, node) {\n    if (!node) {\n        return null;\n    }\n    if (pointer.length === 0) {\n        return node;\n    }\n    var token = pointer.shift();\n    if (node && node.type === 'object') {\n        var propertyNode = node.properties.find(function (propertyNode) { return propertyNode.keyNode.value === token; });\n        if (!propertyNode) {\n            return null;\n        }\n        return findNode(pointer, propertyNode.valueNode);\n    }\n    else if (node && node.type === 'array') {\n        if (token.match(/^(0|[1-9][0-9]*)$/)) {\n            var index = Number.parseInt(token);\n            var arrayItem = node.items[index];\n            if (!arrayItem) {\n                return null;\n            }\n            return findNode(pointer, arrayItem);\n        }\n    }\n    return null;\n}\nfunction parseJSONPointer(path) {\n    if (path === \"#\") {\n        return [];\n    }\n    if (path[0] !== '#' || path[1] !== '/') {\n        return null;\n    }\n    return path.substring(2).split(/\\//).map(unescape);\n}\nfunction unescape(str) {\n    return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst js_yaml_1 = require(\"js-yaml\");\nconst arrUtils_1 = require(\"./arrUtils\");\nexports.DUPLICATE_KEY_REASON = 'duplicate key';\n/**\n * Convert a YAML node exception to a\n * special diagnostic type (NOT YET THE\n * LANGUAGE SERVER DIAGNOSTIC).\n */\nfunction exceptionToDiagnostic(e) {\n    return {\n        message: `${e.reason}`,\n        location: {\n            start: e.mark.position,\n            end: e.mark.position + e.mark.column,\n        },\n        severity: 2,\n    };\n}\n/**\n * We have to convert the exceptions returned by the AST parser\n * into diagnostics for consumption by the server client.\n */\nfunction formatErrors(exceptions) {\n    return exceptions.filter((e) => e.reason !== exports.DUPLICATE_KEY_REASON && !e.isWarning).map((e) => exceptionToDiagnostic(e));\n}\nexports.formatErrors = formatErrors;\n//Patch ontop of yaml-ast-parser to disable duplicate key message on merge key\nfunction isDuplicateAndNotMergeKey(error, yamlText) {\n    const errorStart = error.mark.position;\n    const errorEnd = error.mark.position + error.mark.column;\n    if (error.reason === exports.DUPLICATE_KEY_REASON && yamlText.substring(errorStart, errorEnd).startsWith('<<')) {\n        return false;\n    }\n    return true;\n}\nexports.isDuplicateAndNotMergeKey = isDuplicateAndNotMergeKey;\nfunction formatWarnings(exceptions, text) {\n    return exceptions\n        .filter((e) => (e.reason === exports.DUPLICATE_KEY_REASON && isDuplicateAndNotMergeKey(e, text)) || e.isWarning)\n        .map((e) => exceptionToDiagnostic(e));\n}\nexports.formatWarnings = formatWarnings;\nfunction customTagsToAdditionalOptions(customTags) {\n    const filteredTags = arrUtils_1.filterInvalidCustomTags(customTags);\n    const schemaWithAdditionalTags = js_yaml_1.Schema.create(filteredTags.map((tag) => {\n        const typeInfo = tag.split(' ');\n        return new js_yaml_1.Type(typeInfo[0], {\n            kind: (typeInfo[1] && typeInfo[1].toLowerCase()) || 'scalar',\n        });\n    }));\n    /**\n     * Collect the additional tags into a map of string to possible tag types\n     */\n    const tagWithAdditionalItems = new Map();\n    filteredTags.forEach((tag) => {\n        const typeInfo = tag.split(' ');\n        const tagName = typeInfo[0];\n        const tagType = (typeInfo[1] && typeInfo[1].toLowerCase()) || 'scalar';\n        if (tagWithAdditionalItems.has(tagName)) {\n            tagWithAdditionalItems.set(tagName, tagWithAdditionalItems.get(tagName).concat([tagType]));\n        }\n        else {\n            tagWithAdditionalItems.set(tagName, [tagType]);\n        }\n    });\n    tagWithAdditionalItems.forEach((additionalTagKinds, key) => {\n        const newTagType = new js_yaml_1.Type(key, { kind: additionalTagKinds[0] || 'scalar' });\n        newTagType.additionalKinds = additionalTagKinds;\n        schemaWithAdditionalTags.compiledTypeMap[key] = newTagType;\n    });\n    const additionalOptions = {\n        schema: schemaWithAdditionalTags,\n    };\n    return additionalOptions;\n}\nexports.customTagsToAdditionalOptions = customTagsToAdditionalOptions;\n//# sourceMappingURL=parseUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsonParser07_1 = require(\"./jsonParser07\");\nconst Yaml = require(\"yaml-language-server-parser\");\nconst scalar_type_1 = require(\"./scalar-type\");\nfunction recursivelyBuildAst(parent, node) {\n    if (!node) {\n        return;\n    }\n    switch (node.kind) {\n        case Yaml.Kind.MAP: {\n            const instance = node;\n            const result = new jsonParser07_1.ObjectASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n            for (const mapping of instance.mappings) {\n                result.properties.push(recursivelyBuildAst(result, mapping));\n            }\n            return result;\n        }\n        case Yaml.Kind.MAPPING: {\n            const instance = node;\n            const key = instance.key;\n            const result = new jsonParser07_1.PropertyASTNodeImpl(parent, instance.startPosition, instance.endPosition - instance.startPosition);\n            // Technically, this is an arbitrary node in YAML\n            // I doubt we would get a better string representation by parsing it\n            const keyNode = new jsonParser07_1.StringASTNodeImpl(result, key.startPosition, key.endPosition - key.startPosition);\n            keyNode.value = key.value;\n            const valueNode = instance.value\n                ? recursivelyBuildAst(result, instance.value)\n                : new jsonParser07_1.NullASTNodeImpl(parent, instance.endPosition, 0);\n            valueNode.location = key.value;\n            result.keyNode = keyNode;\n            result.valueNode = valueNode;\n            return result;\n        }\n        case Yaml.Kind.SEQ: {\n            const instance = node;\n            const result = new jsonParser07_1.ArrayASTNodeImpl(parent, instance.startPosition, instance.endPosition - instance.startPosition);\n            const count = 0;\n            for (const item of instance.items) {\n                if (item === null && count === instance.items.length - 1) {\n                    break;\n                }\n                // Be aware of https://github.com/nodeca/js-yaml/issues/321\n                // Cannot simply work around it here because we need to know if we are in Flow or Block\n                const itemNode = item === null ? new jsonParser07_1.NullASTNodeImpl(parent, instance.endPosition, 0) : recursivelyBuildAst(result, item);\n                // itemNode.location = count++;\n                result.children.push(itemNode);\n            }\n            return result;\n        }\n        case Yaml.Kind.SCALAR: {\n            const instance = node;\n            const type = Yaml.determineScalarType(instance);\n            const value = instance.value;\n            //This is a patch for redirecting values with these strings to be boolean nodes because its not supported in the parser.\n            const possibleBooleanValues = [\n                'y',\n                'Y',\n                'yes',\n                'Yes',\n                'YES',\n                'n',\n                'N',\n                'no',\n                'No',\n                'NO',\n                'on',\n                'On',\n                'ON',\n                'off',\n                'Off',\n                'OFF',\n            ];\n            if (instance.plainScalar && possibleBooleanValues.indexOf(value.toString()) !== -1) {\n                return new jsonParser07_1.BooleanASTNodeImpl(parent, scalar_type_1.parseYamlBoolean(value), node.startPosition, node.endPosition - node.startPosition);\n            }\n            switch (type) {\n                case Yaml.ScalarType.null: {\n                    return new jsonParser07_1.NullASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n                }\n                case Yaml.ScalarType.bool: {\n                    return new jsonParser07_1.BooleanASTNodeImpl(parent, Yaml.parseYamlBoolean(value), node.startPosition, node.endPosition - node.startPosition);\n                }\n                case Yaml.ScalarType.int: {\n                    const result = new jsonParser07_1.NumberASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n                    result.value = Yaml.parseYamlInteger(value);\n                    result.isInteger = true;\n                    return result;\n                }\n                case Yaml.ScalarType.float: {\n                    const result = new jsonParser07_1.NumberASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n                    result.value = Yaml.parseYamlFloat(value);\n                    result.isInteger = false;\n                    return result;\n                }\n                case Yaml.ScalarType.string: {\n                    const result = new jsonParser07_1.StringASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n                    result.value = node.value;\n                    return result;\n                }\n            }\n            break;\n        }\n        case Yaml.Kind.ANCHOR_REF: {\n            const instance = node.value;\n            return (recursivelyBuildAst(parent, instance) ||\n                new jsonParser07_1.NullASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition));\n        }\n        case Yaml.Kind.INCLUDE_REF: {\n            const result = new jsonParser07_1.StringASTNodeImpl(parent, node.startPosition, node.endPosition - node.startPosition);\n            result.value = node.value;\n            return result;\n        }\n    }\n}\nexports.default = recursivelyBuildAst;\n//# sourceMappingURL=recursivelyBuildAst.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Parse a boolean according to the specification\n *\n * Return:\n *  true if its a true value\n *  false if its a false value\n */\nfunction parseYamlBoolean(input) {\n    if (['true', 'True', 'TRUE', 'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON'].lastIndexOf(input) >= 0) {\n        return true;\n    }\n    else if (['false', 'False', 'FALSE', 'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'].lastIndexOf(input) >= 0) {\n        return false;\n    }\n    throw `Invalid boolean \"${input}\"`;\n}\nexports.parseYamlBoolean = parseYamlBoolean;\n//# sourceMappingURL=scalar-type.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nfunction insertionPointReturnValue(pt) {\n    return -pt - 1;\n}\nexports.insertionPointReturnValue = insertionPointReturnValue;\nfunction binarySearch(array, sought) {\n    let lower = 0;\n    let upper = array.length - 1;\n    while (lower <= upper) {\n        const idx = Math.floor((lower + upper) / 2);\n        const value = array[idx];\n        if (value === sought) {\n            return idx;\n        }\n        if (lower === upper) {\n            const insertionPoint = value < sought ? idx + 1 : idx;\n            return insertionPointReturnValue(insertionPoint);\n        }\n        if (sought > value) {\n            lower = idx + 1;\n        }\n        else if (sought < value) {\n            upper = idx - 1;\n        }\n    }\n}\nexports.binarySearch = binarySearch;\nfunction getLineStartPositions(text) {\n    const lineStartPositions = [0];\n    for (let i = 0; i < text.length; i++) {\n        const c = text[i];\n        if (c === '\\r') {\n            // Check for Windows encoding, otherwise we are old Mac\n            if (i + 1 < text.length && text[i + 1] === '\\n') {\n                i++;\n            }\n            lineStartPositions.push(i + 1);\n        }\n        else if (c === '\\n') {\n            lineStartPositions.push(i + 1);\n        }\n    }\n    return lineStartPositions;\n}\nexports.getLineStartPositions = getLineStartPositions;\nfunction getPosition(pos, lineStartPositions) {\n    let line = binarySearch(lineStartPositions, pos);\n    if (line < 0) {\n        const insertionPoint = -1 * line - 1;\n        line = insertionPoint - 1;\n    }\n    return vscode_languageserver_types_1.Position.create(line, pos - lineStartPositions[line]);\n}\nexports.getPosition = getPosition;\n//# sourceMappingURL=documentPositionCalculator.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst jsonDocumentSymbols_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonDocumentSymbols\");\nclass YAMLDocumentSymbols {\n    constructor(schemaService) {\n        this.jsonDocumentSymbols = new jsonDocumentSymbols_1.JSONDocumentSymbols(schemaService);\n        const origKeyLabel = this.jsonDocumentSymbols.getKeyLabel;\n        // override 'getKeyLabel' to handle complex mapping\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.jsonDocumentSymbols.getKeyLabel = (property) => {\n            if (typeof property.keyNode.value === 'object') {\n                return property.keyNode.value.value;\n            }\n            else {\n                return origKeyLabel.call(this.jsonDocumentSymbols, property);\n            }\n        };\n    }\n    findDocumentSymbols(document) {\n        const doc = yamlParser07_1.parse(document.getText());\n        if (!doc || doc['documents'].length === 0) {\n            return null;\n        }\n        let results = [];\n        for (const yamlDoc of doc['documents']) {\n            if (yamlDoc.root) {\n                results = results.concat(this.jsonDocumentSymbols.findDocumentSymbols(document, yamlDoc));\n            }\n        }\n        return results;\n    }\n    findHierarchicalDocumentSymbols(document) {\n        const doc = yamlParser07_1.parse(document.getText());\n        if (!doc || doc['documents'].length === 0) {\n            return null;\n        }\n        let results = [];\n        for (const yamlDoc of doc['documents']) {\n            if (yamlDoc.root) {\n                results = results.concat(this.jsonDocumentSymbols.findDocumentSymbols2(document, yamlDoc));\n            }\n        }\n        return results;\n    }\n}\nexports.YAMLDocumentSymbols = YAMLDocumentSymbols;\n//# sourceMappingURL=documentSymbols.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONDocumentSymbols = void 0;\nvar Parser = require(\"../parser/jsonParser\");\nvar Strings = require(\"../utils/strings\");\nvar colors_1 = require(\"../utils/colors\");\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nvar JSONDocumentSymbols = /** @class */ (function () {\n    function JSONDocumentSymbols(schemaService) {\n        this.schemaService = schemaService;\n    }\n    JSONDocumentSymbols.prototype.findDocumentSymbols = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_1 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var location = jsonLanguageTypes_1.Location.create(document.uri, getRange(document, item));\n                                result_1.push({ name: Parser.getNodeValue(property.valueNode), kind: jsonLanguageTypes_1.SymbolKind.Function, location: location });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_1;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_1;\n            }\n        }\n        var toVisit = [\n            { node: root, containerName: '' }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var result = [];\n        var collectOutlineEntries = function (node, containerName) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node) {\n                    if (node) {\n                        toVisit.push({ node: node, containerName: containerName });\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var location = jsonLanguageTypes_1.Location.create(document.uri, getRange(document, property));\n                            var childContainerName = containerName ? containerName + '.' + property.keyNode.value : property.keyNode.value;\n                            result.push({ name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), location: location, containerName: containerName });\n                            toVisit.push({ node: valueNode, containerName: childContainerName });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.containerName);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.findDocumentSymbols2 = function (document, doc, context) {\n        var _this = this;\n        if (context === void 0) { context = { resultLimit: Number.MAX_VALUE }; }\n        var root = doc.root;\n        if (!root) {\n            return [];\n        }\n        var limit = context.resultLimit || Number.MAX_VALUE;\n        // special handling for key bindings\n        var resourceString = document.uri;\n        if ((resourceString === 'vscode://defaultsettings/keybindings.json') || Strings.endsWith(resourceString.toLowerCase(), '/user/keybindings.json')) {\n            if (root.type === 'array') {\n                var result_2 = [];\n                for (var _i = 0, _a = root.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (item.type === 'object') {\n                        for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {\n                            var property = _c[_b];\n                            if (property.keyNode.value === 'key' && property.valueNode) {\n                                var range = getRange(document, item);\n                                var selectionRange = getRange(document, property.keyNode);\n                                result_2.push({ name: Parser.getNodeValue(property.valueNode), kind: jsonLanguageTypes_1.SymbolKind.Function, range: range, selectionRange: selectionRange });\n                                limit--;\n                                if (limit <= 0) {\n                                    if (context && context.onResultLimitExceeded) {\n                                        context.onResultLimitExceeded(resourceString);\n                                    }\n                                    return result_2;\n                                }\n                            }\n                        }\n                    }\n                }\n                return result_2;\n            }\n        }\n        var result = [];\n        var toVisit = [\n            { node: root, result: result }\n        ];\n        var nextToVisit = 0;\n        var limitExceeded = false;\n        var collectOutlineEntries = function (node, result) {\n            if (node.type === 'array') {\n                node.items.forEach(function (node, index) {\n                    if (node) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, node);\n                            var selectionRange = range;\n                            var name = String(index);\n                            var symbol = { name: name, kind: _this.getSymbolKind(node.type), range: range, selectionRange: selectionRange, children: [] };\n                            result.push(symbol);\n                            toVisit.push({ result: symbol.children, node: node });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n            else if (node.type === 'object') {\n                node.properties.forEach(function (property) {\n                    var valueNode = property.valueNode;\n                    if (valueNode) {\n                        if (limit > 0) {\n                            limit--;\n                            var range = getRange(document, property);\n                            var selectionRange = getRange(document, property.keyNode);\n                            var symbol = { name: _this.getKeyLabel(property), kind: _this.getSymbolKind(valueNode.type), range: range, selectionRange: selectionRange, children: [] };\n                            result.push(symbol);\n                            toVisit.push({ result: symbol.children, node: valueNode });\n                        }\n                        else {\n                            limitExceeded = true;\n                        }\n                    }\n                });\n            }\n        };\n        // breath first traversal\n        while (nextToVisit < toVisit.length) {\n            var next = toVisit[nextToVisit++];\n            collectOutlineEntries(next.node, next.result);\n        }\n        if (limitExceeded && context && context.onResultLimitExceeded) {\n            context.onResultLimitExceeded(resourceString);\n        }\n        return result;\n    };\n    JSONDocumentSymbols.prototype.getSymbolKind = function (nodeType) {\n        switch (nodeType) {\n            case 'object':\n                return jsonLanguageTypes_1.SymbolKind.Module;\n            case 'string':\n                return jsonLanguageTypes_1.SymbolKind.String;\n            case 'number':\n                return jsonLanguageTypes_1.SymbolKind.Number;\n            case 'array':\n                return jsonLanguageTypes_1.SymbolKind.Array;\n            case 'boolean':\n                return jsonLanguageTypes_1.SymbolKind.Boolean;\n            default: // 'null'\n                return jsonLanguageTypes_1.SymbolKind.Variable;\n        }\n    };\n    JSONDocumentSymbols.prototype.getKeyLabel = function (property) {\n        var name = property.keyNode.value;\n        if (name) {\n            name = name.replace(/[\\n]/g, '↵');\n        }\n        if (name && name.trim()) {\n            return name;\n        }\n        return \"\\\"\" + name + \"\\\"\";\n    };\n    JSONDocumentSymbols.prototype.findDocumentColors = function (document, doc, context) {\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var result = [];\n            if (schema) {\n                var limit = context && typeof context.resultLimit === 'number' ? context.resultLimit : Number.MAX_VALUE;\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema);\n                var visitedNode = {};\n                for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                    var s = matchingSchemas_1[_i];\n                    if (!s.inverted && s.schema && (s.schema.format === 'color' || s.schema.format === 'color-hex') && s.node && s.node.type === 'string') {\n                        var nodeId = String(s.node.offset);\n                        if (!visitedNode[nodeId]) {\n                            var color = colors_1.colorFromHex(Parser.getNodeValue(s.node));\n                            if (color) {\n                                var range = getRange(document, s.node);\n                                result.push({ color: color, range: range });\n                            }\n                            visitedNode[nodeId] = true;\n                            limit--;\n                            if (limit <= 0) {\n                                if (context && context.onResultLimitExceeded) {\n                                    context.onResultLimitExceeded(document.uri);\n                                }\n                                return result;\n                            }\n                        }\n                    }\n                }\n            }\n            return result;\n        });\n    };\n    JSONDocumentSymbols.prototype.getColorPresentations = function (document, doc, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        function toTwoDigitHex(n) {\n            var r = n.toString(16);\n            return r.length !== 2 ? '0' + r : r;\n        }\n        var label;\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: jsonLanguageTypes_1.TextEdit.replace(range, JSON.stringify(label)) });\n        return result;\n    };\n    return JSONDocumentSymbols;\n}());\nexports.JSONDocumentSymbols = JSONDocumentSymbols;\nfunction getRange(document, node) {\n    return jsonLanguageTypes_1.Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.colorFrom256RGB = exports.colorFromHex = exports.hexDigit = void 0;\nvar Digit0 = 48;\nvar Digit9 = 57;\nvar A = 65;\nvar a = 97;\nvar f = 102;\nfunction hexDigit(charCode) {\n    if (charCode < Digit0) {\n        return 0;\n    }\n    if (charCode <= Digit9) {\n        return charCode - Digit0;\n    }\n    if (charCode < a) {\n        charCode += (a - A);\n    }\n    if (charCode >= a && charCode <= f) {\n        return charCode - a + 10;\n    }\n    return 0;\n}\nexports.hexDigit = hexDigit;\nfunction colorFromHex(text) {\n    if (text[0] !== '#') {\n        return undefined;\n    }\n    switch (text.length) {\n        case 4:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: 1\n            };\n        case 5:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(4)) * 0x11) / 255.0,\n            };\n        case 7:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: 1\n            };\n        case 9:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(7)) * 0x10 + hexDigit(text.charCodeAt(8))) / 255.0\n            };\n    }\n    return undefined;\n}\nexports.colorFromHex = colorFromHex;\nfunction colorFrom256RGB(red, green, blue, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    return {\n        red: red / 255.0,\n        green: green / 255.0,\n        blue: blue / 255.0,\n        alpha: alpha\n    };\n}\nexports.colorFrom256RGB = colorFrom256RGB;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst nls = require(\"vscode-nls\");\nconst arrUtils_1 = require(\"../utils/arrUtils\");\nconst jsonCompletion_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonCompletion\");\nconst json_1 = require(\"../utils/json\");\nconst indentationGuesser_1 = require(\"../utils/indentationGuesser\");\nconst textBuffer_1 = require(\"../utils/textBuffer\");\nconst isKubernetes_1 = require(\"../parser/isKubernetes\");\nconst localize = nls.loadMessageBundle();\nclass YAMLCompletion extends jsonCompletion_1.JSONCompletion {\n    constructor(schemaService) {\n        super(schemaService, [], Promise);\n        this.schemaService = schemaService;\n        this.customTags = [];\n        this.completion = true;\n    }\n    configure(languageSettings, customTags) {\n        if (languageSettings) {\n            this.completion = languageSettings.completion;\n        }\n        this.customTags = customTags;\n        this.configuredIndentation = languageSettings.indentation;\n    }\n    doComplete(document, position, isKubernetes = false) {\n        const result = {\n            items: [],\n            isIncomplete: false,\n        };\n        if (!this.completion) {\n            return Promise.resolve(result);\n        }\n        const completionFix = this.completionHelper(document, position);\n        const newText = completionFix.newText;\n        const doc = yamlParser07_1.parse(newText);\n        if (!this.configuredIndentation) {\n            const indent = indentationGuesser_1.guessIndentation(new textBuffer_1.TextBuffer(document), 2, true);\n            this.indentation = indent.insertSpaces ? ' '.repeat(indent.tabSize) : '\\t';\n        }\n        else {\n            this.indentation = this.configuredIndentation;\n        }\n        isKubernetes_1.setKubernetesParserOption(doc.documents, isKubernetes);\n        const offset = document.offsetAt(position);\n        if (document.getText()[offset] === ':') {\n            return Promise.resolve(result);\n        }\n        const currentDoc = arrUtils_1.matchOffsetToDocument(offset, doc);\n        if (currentDoc === null) {\n            return Promise.resolve(result);\n        }\n        const currentDocIndex = doc.documents.indexOf(currentDoc);\n        let node = currentDoc.getNodeFromOffsetEndInclusive(offset);\n        // if (this.isInComment(document, node ? node.start : 0, offset)) {\n        // \treturn Promise.resolve(result);\n        // }\n        const currentWord = super.getCurrentWord(document, offset);\n        let overwriteRange = null;\n        if (node && node.type === 'null') {\n            const nodeStartPos = document.positionAt(node.offset);\n            nodeStartPos.character += 1;\n            const nodeEndPos = document.positionAt(node.offset + node.length);\n            nodeEndPos.character += 1;\n            overwriteRange = vscode_languageserver_types_1.Range.create(nodeStartPos, nodeEndPos);\n        }\n        else if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean')) {\n            overwriteRange = vscode_languageserver_types_1.Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n        }\n        else {\n            let overwriteStart = offset - currentWord.length;\n            if (overwriteStart > 0 && document.getText()[overwriteStart - 1] === '\"') {\n                overwriteStart--;\n            }\n            overwriteRange = vscode_languageserver_types_1.Range.create(document.positionAt(overwriteStart), position);\n        }\n        const proposed = {};\n        const collector = {\n            add: (suggestion) => {\n                let label = suggestion.label;\n                const existing = proposed[label];\n                if (!existing) {\n                    label = label.replace(/[\\n]/g, '↵');\n                    if (label.length > 60) {\n                        const shortendedLabel = label.substr(0, 57).trim() + '...';\n                        if (!proposed[shortendedLabel]) {\n                            label = shortendedLabel;\n                        }\n                    }\n                    if (overwriteRange && overwriteRange.start.line === overwriteRange.end.line) {\n                        suggestion.textEdit = vscode_languageserver_types_1.TextEdit.replace(overwriteRange, suggestion.insertText);\n                    }\n                    suggestion.label = label;\n                    proposed[label] = suggestion;\n                    result.items.push(suggestion);\n                }\n                else if (!existing.documentation) {\n                    existing.documentation = suggestion.documentation;\n                }\n            },\n            setAsIncomplete: () => {\n                result.isIncomplete = true;\n            },\n            error: (message) => {\n                console.error(message);\n            },\n            log: (message) => {\n                console.log(message);\n            },\n            getNumberOfProposals: () => {\n                return result.items.length;\n            },\n        };\n        if (this.customTags.length > 0) {\n            this.getCustomTagValueCompletions(collector);\n        }\n        currentDoc.currentDocIndex = currentDocIndex;\n        return this.schemaService.getSchemaForResource(document.uri, currentDoc).then((schema) => {\n            if (!schema) {\n                return Promise.resolve(result);\n            }\n            const newSchema = schema;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const collectionPromises = [];\n            let addValue = true;\n            let currentProperty = null;\n            if (node) {\n                if (node.type === 'string') {\n                    const parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.keyNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        if (parent) {\n                            node = parent.parent;\n                        }\n                    }\n                }\n                if (node.type === 'null') {\n                    const parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.valueNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        if (parent) {\n                            node = parent;\n                        }\n                    }\n                }\n            }\n            // proposals for properties\n            if (node && node.type === 'object') {\n                // don't suggest properties that are already present\n                const properties = node.properties;\n                properties.forEach((p) => {\n                    if (!currentProperty || currentProperty !== p) {\n                        proposed[p.keyNode.value] = vscode_languageserver_types_1.CompletionItem.create('__');\n                    }\n                });\n                const separatorAfter = '';\n                if (newSchema) {\n                    // property proposals with schema\n                    this.getPropertyCompletions(newSchema, currentDoc, node, addValue, separatorAfter, collector, document);\n                }\n                if (!schema && currentWord.length > 0 && document.getText().charAt(offset - currentWord.length - 1) !== '\"') {\n                    collector.add({\n                        kind: vscode_languageserver_types_1.CompletionItemKind.Property,\n                        label: currentWord,\n                        insertText: this.getInsertTextForProperty(currentWord, null, false, separatorAfter),\n                        insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                        documentation: '',\n                    });\n                }\n            }\n            // proposals for values\n            const types = {};\n            if (newSchema) {\n                this.getValueCompletions(newSchema, currentDoc, node, offset, document, collector, types);\n            }\n            return Promise.all(collectionPromises).then(() => {\n                return result;\n            });\n        });\n    }\n    getPropertyCompletions(schema, doc, node, addValue, separatorAfter, collector, document) {\n        const matchingSchemas = doc.getMatchingSchemas(schema.schema);\n        matchingSchemas.forEach((s) => {\n            if (s.node === node && !s.inverted) {\n                this.collectDefaultSnippets(s.schema, separatorAfter, collector, {\n                    newLineFirst: false,\n                    indentFirstObject: false,\n                    shouldIndentWithTab: false,\n                });\n                const schemaProperties = s.schema.properties;\n                if (schemaProperties) {\n                    const maxProperties = s.schema.maxProperties;\n                    if (maxProperties === undefined || node.properties === undefined || node.properties.length <= maxProperties) {\n                        Object.keys(schemaProperties).forEach((key) => {\n                            const propertySchema = schemaProperties[key];\n                            if (typeof propertySchema === 'object' && !propertySchema.deprecationMessage && !propertySchema['doNotSuggest']) {\n                                let identCompensation = '';\n                                if (node.parent && node.parent.type === 'array') {\n                                    // because there is a slash '-' to prevent the properties generated to have the correct\n                                    // indent\n                                    const sourceText = document.getText();\n                                    const indexOfSlash = sourceText.lastIndexOf('-', node.offset - 1);\n                                    if (indexOfSlash >= 0) {\n                                        // add one space to compensate the '-'\n                                        identCompensation = ' ' + sourceText.slice(indexOfSlash + 1, node.offset);\n                                    }\n                                }\n                                collector.add({\n                                    kind: vscode_languageserver_types_1.CompletionItemKind.Property,\n                                    label: key,\n                                    insertText: this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter, identCompensation + this.indentation),\n                                    insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                                    documentation: propertySchema.description || '',\n                                });\n                            }\n                        });\n                    }\n                }\n                // Error fix\n                // If this is a array of string/boolean/number\n                //  test:\n                //    - item1\n                // it will treated as a property key since `:` has been appended\n                if (node.type === 'object' && node.parent && node.parent.type === 'array' && s.schema.type !== 'object') {\n                    this.addSchemaValueCompletions(s.schema, separatorAfter, collector, {});\n                }\n            }\n            if (node.parent && s.node === node.parent && node.type === 'object' && s.schema.defaultSnippets) {\n                // For some reason the first item in the array needs to be treated differently, otherwise\n                // the indentation will not be correct\n                if (node.properties.length === 1) {\n                    this.collectDefaultSnippets(s.schema, separatorAfter, collector, {\n                        newLineFirst: false,\n                        indentFirstObject: false,\n                        shouldIndentWithTab: true,\n                    }, 1);\n                }\n                else {\n                    this.collectDefaultSnippets(s.schema, separatorAfter, collector, {\n                        newLineFirst: false,\n                        indentFirstObject: true,\n                        shouldIndentWithTab: false,\n                    }, 1);\n                }\n            }\n        });\n    }\n    getValueCompletions(schema, doc, node, offset, document, collector, types) {\n        let parentKey = null;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean')) {\n            node = node.parent;\n        }\n        if (node && node.type === 'null') {\n            const nodeParent = node.parent;\n            /*\n             * This is going to be an object for some reason and we need to find the property\n             * Its an issue with the null node\n             */\n            if (nodeParent && nodeParent.type === 'object') {\n                for (const prop in nodeParent['properties']) {\n                    const currNode = nodeParent['properties'][prop];\n                    if (currNode.keyNode && currNode.keyNode.value === node.location) {\n                        node = currNode;\n                    }\n                }\n            }\n        }\n        if (!node) {\n            this.addSchemaValueCompletions(schema.schema, '', collector, types);\n            return;\n        }\n        if (node.type === 'property' && offset > node.colonOffset) {\n            const valueNode = node.valueNode;\n            if (valueNode && offset > valueNode.offset + valueNode.length) {\n                return; // we are past the value node\n            }\n            parentKey = node.keyNode.value;\n            node = node.parent;\n        }\n        if (node && (parentKey !== null || node.type === 'array')) {\n            const separatorAfter = '';\n            const matchingSchemas = doc.getMatchingSchemas(schema.schema);\n            matchingSchemas.forEach((s) => {\n                if (s.node === node && !s.inverted && s.schema) {\n                    if (s.schema.items) {\n                        if (Array.isArray(s.schema.items)) {\n                            const index = super.findItemAtOffset(node, document, offset);\n                            if (index < s.schema.items.length) {\n                                this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types);\n                            }\n                        }\n                        else if (typeof s.schema.items === 'object' && s.schema.items.type === 'object') {\n                            collector.add({\n                                kind: super.getSuggestionKind(s.schema.items.type),\n                                label: '- (array item)',\n                                documentation: `Create an item of an array${s.schema.description === undefined ? '' : '(' + s.schema.description + ')'}`,\n                                insertText: `- ${this.getInsertTextForObject(s.schema.items, separatorAfter).insertText.trimLeft()}`,\n                                insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                            });\n                            this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);\n                        }\n                        else {\n                            this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);\n                        }\n                    }\n                    if (s.schema.properties) {\n                        const propertySchema = s.schema.properties[parentKey];\n                        if (propertySchema) {\n                            this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                        }\n                    }\n                }\n            });\n            if (types['boolean']) {\n                this.addBooleanValueCompletion(true, separatorAfter, collector);\n                this.addBooleanValueCompletion(false, separatorAfter, collector);\n            }\n            if (types['null']) {\n                this.addNullValueCompletion(separatorAfter, collector);\n            }\n        }\n    }\n    getCustomTagValueCompletions(collector) {\n        const validCustomTags = arrUtils_1.filterInvalidCustomTags(this.customTags);\n        validCustomTags.forEach((validTag) => {\n            // Valid custom tags are guarenteed to be strings\n            const label = validTag.split(' ')[0];\n            this.addCustomTagValueCompletion(collector, ' ', label);\n        });\n    }\n    addSchemaValueCompletions(schema, separatorAfter, collector, types) {\n        super.addSchemaValueCompletions(schema, separatorAfter, collector, types);\n    }\n    addDefaultValueCompletions(schema, separatorAfter, collector, arrayDepth = 0) {\n        let hasProposals = false;\n        if (isDefined(schema.default)) {\n            let type = schema.type;\n            let value = schema.default;\n            for (let i = arrayDepth; i > 0; i--) {\n                value = [value];\n                type = 'array';\n            }\n            let label;\n            if (typeof value == 'object') {\n                label = 'Default value';\n            }\n            else {\n                label = value.toString();\n            }\n            collector.add({\n                kind: this.getSuggestionKind(type),\n                label,\n                insertText: this.getInsertTextForValue(value, separatorAfter, type),\n                insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                detail: localize('json.suggest.default', 'Default value'),\n            });\n            hasProposals = true;\n        }\n        if (Array.isArray(schema.examples)) {\n            schema.examples.forEach((example) => {\n                let type = schema.type;\n                let value = example;\n                for (let i = arrayDepth; i > 0; i--) {\n                    value = [value];\n                    type = 'array';\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(type),\n                    label: value,\n                    insertText: this.getInsertTextForValue(value, separatorAfter, type),\n                    insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                });\n                hasProposals = true;\n            });\n        }\n        this.collectDefaultSnippets(schema, separatorAfter, collector, {\n            newLineFirst: true,\n            indentFirstObject: true,\n            shouldIndentWithTab: true,\n        });\n        if (!hasProposals && typeof schema.items === 'object' && !Array.isArray(schema.items)) {\n            this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);\n        }\n    }\n    collectDefaultSnippets(schema, separatorAfter, collector, settings, arrayDepth = 0) {\n        if (Array.isArray(schema.defaultSnippets)) {\n            schema.defaultSnippets.forEach((s) => {\n                let type = schema.type;\n                let value = s.body;\n                let label = s.label;\n                let insertText;\n                let filterText;\n                if (isDefined(value)) {\n                    const type = schema.type;\n                    if (arrayDepth === 0 && type === 'array') {\n                        // We know that a - isn't present yet so we need to add one\n                        const fixedObj = {};\n                        Object.keys(value).forEach((val, index) => {\n                            if (index === 0 && !val.startsWith('-')) {\n                                fixedObj[`- ${val}`] = value[val];\n                            }\n                            else {\n                                fixedObj[`  ${val}`] = value[val];\n                            }\n                        });\n                        value = fixedObj;\n                    }\n                    insertText = this.getInsertTextForSnippetValue(value, separatorAfter, settings);\n                    label = label || this.getLabelForSnippetValue(value);\n                }\n                else if (typeof s.bodyText === 'string') {\n                    let prefix = '', suffix = '', indent = '';\n                    for (let i = arrayDepth; i > 0; i--) {\n                        prefix = prefix + indent + '[\\n';\n                        suffix = suffix + '\\n' + indent + ']';\n                        indent += this.indentation;\n                        type = 'array';\n                    }\n                    insertText = prefix + indent + s.bodyText.split('\\n').join('\\n' + indent) + suffix + separatorAfter;\n                    label = label || insertText;\n                    filterText = insertText.replace(/[\\n]/g, ''); // remove new lines\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(type),\n                    label,\n                    documentation: super.fromMarkup(s.markdownDescription) || s.description,\n                    insertText,\n                    insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n                    filterText,\n                });\n            });\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getInsertTextForSnippetValue(value, separatorAfter, settings, depth) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const replacer = (value) => {\n            if (typeof value === 'string') {\n                if (value[0] === '^') {\n                    return value.substr(1);\n                }\n                if (value === 'true' || value === 'false') {\n                    return `\"${value}\"`;\n                }\n            }\n            return value;\n        };\n        return json_1.stringifyObject(value, '', replacer, settings, depth) + separatorAfter;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getLabelForSnippetValue(value) {\n        const label = JSON.stringify(value);\n        return label.replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    }\n    addCustomTagValueCompletion(collector, separatorAfter, label) {\n        collector.add({\n            kind: super.getSuggestionKind('string'),\n            label: label,\n            insertText: label + separatorAfter,\n            insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n            documentation: '',\n        });\n    }\n    addBooleanValueCompletion(value, separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('boolean'),\n            label: value ? 'true' : 'false',\n            insertText: this.getInsertTextForValue(value, separatorAfter, 'boolean'),\n            insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n            documentation: '',\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getSuggestionKind(type) {\n        if (Array.isArray(type)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const array = type;\n            type = array.length > 0 ? array[0] : null;\n        }\n        if (!type) {\n            return vscode_languageserver_types_1.CompletionItemKind.Value;\n        }\n        switch (type) {\n            case 'string':\n                return vscode_languageserver_types_1.CompletionItemKind.Value;\n            case 'object':\n                return vscode_languageserver_types_1.CompletionItemKind.Module;\n            case 'property':\n                return vscode_languageserver_types_1.CompletionItemKind.Property;\n            default:\n                return vscode_languageserver_types_1.CompletionItemKind.Value;\n        }\n    }\n    addNullValueCompletion(separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('null'),\n            label: 'null',\n            insertText: 'null' + separatorAfter,\n            insertTextFormat: vscode_languageserver_types_1.InsertTextFormat.Snippet,\n            documentation: '',\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getInsertTextForValue(value, separatorAfter, type) {\n        switch (typeof value) {\n            case 'object': {\n                const indent = this.indentation;\n                return this.getInsertTemplateForValue(value, indent, { index: 1 }, separatorAfter);\n            }\n        }\n        type = Array.isArray(type) ? type[0] : type;\n        if (type === 'string') {\n            value = convertToStringValue(value);\n        }\n        return this.getInsertTextForPlainText(value + separatorAfter);\n    }\n    getInsertTemplateForValue(value, indent, navOrder, separatorAfter) {\n        if (Array.isArray(value)) {\n            let insertText = '\\n';\n            for (const arrValue of value) {\n                insertText += `${indent}- \\${${navOrder.index++}:${arrValue}}\\n`;\n            }\n            return insertText;\n        }\n        else if (typeof value === 'object') {\n            let insertText = '\\n';\n            for (const key in value) {\n                if (Object.prototype.hasOwnProperty.call(value, key)) {\n                    const element = value[key];\n                    insertText += `${indent}\\${${navOrder.index++}:${key}}:`;\n                    let valueTemplate;\n                    if (typeof element === 'object') {\n                        valueTemplate = `${this.getInsertTemplateForValue(element, indent + this.indentation, navOrder, separatorAfter)}`;\n                    }\n                    else {\n                        valueTemplate = ` \\${${navOrder.index++}:${this.getInsertTextForPlainText(element + separatorAfter)}}\\n`;\n                    }\n                    insertText += `${valueTemplate}`;\n                }\n            }\n            return insertText;\n        }\n        return this.getInsertTextForPlainText(value + separatorAfter);\n    }\n    getInsertTextForPlainText(text) {\n        return text.replace(/[\\\\$}]/g, '\\\\$&'); // escape $, \\ and }\n    }\n    getInsertTextForObject(schema, separatorAfter, indent = this.indentation, insertIndex = 1) {\n        let insertText = '';\n        if (!schema.properties) {\n            insertText = `${indent}$${insertIndex++}\\n`;\n            return { insertText, insertIndex };\n        }\n        Object.keys(schema.properties).forEach((key) => {\n            const propertySchema = schema.properties[key];\n            let type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n            if (!type) {\n                if (propertySchema.properties) {\n                    type = 'object';\n                }\n                if (propertySchema.items) {\n                    type = 'array';\n                }\n            }\n            if (schema.required && schema.required.indexOf(key) > -1) {\n                switch (type) {\n                    case 'boolean':\n                    case 'string':\n                    case 'number':\n                    case 'integer':\n                        insertText += `${indent}${key}: $${insertIndex++}\\n`;\n                        break;\n                    case 'array':\n                        {\n                            const arrayInsertResult = this.getInsertTextForArray(propertySchema.items, separatorAfter, insertIndex++);\n                            insertIndex = arrayInsertResult.insertIndex;\n                            insertText += `${indent}${key}:\\n${indent}${this.indentation}- ${arrayInsertResult.insertText}\\n`;\n                        }\n                        break;\n                    case 'object':\n                        {\n                            const objectInsertResult = this.getInsertTextForObject(propertySchema, separatorAfter, `${indent}${this.indentation}`, insertIndex++);\n                            insertIndex = objectInsertResult.insertIndex;\n                            insertText += `${indent}${key}:\\n${objectInsertResult.insertText}\\n`;\n                        }\n                        break;\n                }\n            }\n            else if (propertySchema.default !== undefined) {\n                switch (type) {\n                    case 'boolean':\n                    case 'number':\n                    case 'integer':\n                        insertText += `${indent}${key}: \\${${insertIndex++}:${propertySchema.default}}\\n`;\n                        break;\n                    case 'string':\n                        insertText += `${indent}${key}: \\${${insertIndex++}:${convertToStringValue(propertySchema.default)}}\\n`;\n                        break;\n                    case 'array':\n                    case 'object':\n                        // TODO: support default value for array object\n                        break;\n                }\n            }\n        });\n        if (insertText.trim().length === 0) {\n            insertText = `${indent}$${insertIndex++}\\n`;\n        }\n        insertText = insertText.trimRight() + separatorAfter;\n        return { insertText, insertIndex };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getInsertTextForArray(schema, separatorAfter, insertIndex = 1) {\n        let insertText = '';\n        if (!schema) {\n            insertText = `$${insertIndex++}`;\n            return { insertText, insertIndex };\n        }\n        let type = Array.isArray(schema.type) ? schema.type[0] : schema.type;\n        if (!type) {\n            if (schema.properties) {\n                type = 'object';\n            }\n            if (schema.items) {\n                type = 'array';\n            }\n        }\n        switch (schema.type) {\n            case 'boolean':\n                insertText = `\\${${insertIndex++}:false}`;\n                break;\n            case 'number':\n            case 'integer':\n                insertText = `\\${${insertIndex++}:0}`;\n                break;\n            case 'string':\n                insertText = `\\${${insertIndex++}:\"\"}`;\n                break;\n            case 'object':\n                {\n                    const objectInsertResult = this.getInsertTextForObject(schema, separatorAfter, `${this.indentation}  `, insertIndex++);\n                    insertText = objectInsertResult.insertText.trimLeft();\n                    insertIndex = objectInsertResult.insertIndex;\n                }\n                break;\n        }\n        return { insertText, insertIndex };\n    }\n    getInsertTextForProperty(key, propertySchema, addValue, separatorAfter, ident = this.indentation) {\n        const propertyText = this.getInsertTextForValue(key, '', 'string');\n        const resultText = propertyText + ':';\n        let value;\n        let nValueProposals = 0;\n        if (propertySchema) {\n            let type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n            if (!type) {\n                if (propertySchema.properties) {\n                    type = 'object';\n                }\n                else if (propertySchema.items) {\n                    type = 'array';\n                }\n            }\n            if (Array.isArray(propertySchema.defaultSnippets)) {\n                if (propertySchema.defaultSnippets.length === 1) {\n                    const body = propertySchema.defaultSnippets[0].body;\n                    if (isDefined(body)) {\n                        value = this.getInsertTextForSnippetValue(body, '', {\n                            newLineFirst: true,\n                            indentFirstObject: false,\n                            shouldIndentWithTab: false,\n                        }, 1);\n                    }\n                }\n                nValueProposals += propertySchema.defaultSnippets.length;\n            }\n            if (propertySchema.enum) {\n                if (!value && propertySchema.enum.length === 1) {\n                    value = ' ' + this.getInsertTextForGuessedValue(propertySchema.enum[0], '', type);\n                }\n                nValueProposals += propertySchema.enum.length;\n            }\n            if (isDefined(propertySchema.default)) {\n                if (!value) {\n                    value = ' ' + this.getInsertTextForGuessedValue(propertySchema.default, '', type);\n                }\n                nValueProposals++;\n            }\n            if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {\n                if (!value) {\n                    value = ' ' + this.getInsertTextForGuessedValue(propertySchema.examples[0], '', type);\n                }\n                nValueProposals += propertySchema.examples.length;\n            }\n            if (propertySchema.properties) {\n                return `${resultText}\\n${this.getInsertTextForObject(propertySchema, separatorAfter, ident).insertText}`;\n            }\n            else if (propertySchema.items) {\n                return `${resultText}\\n${this.indentation}- ${this.getInsertTextForArray(propertySchema.items, separatorAfter).insertText}`;\n            }\n            if (nValueProposals === 0) {\n                switch (type) {\n                    case 'boolean':\n                        value = ' $1';\n                        break;\n                    case 'string':\n                        value = ' $1';\n                        break;\n                    case 'object':\n                        value = `\\n${this.indentation}`;\n                        break;\n                    case 'array':\n                        value = `\\n${this.indentation}- `;\n                        break;\n                    case 'number':\n                    case 'integer':\n                        value = ' ${1:0}';\n                        break;\n                    case 'null':\n                        value = ' ${1:null}';\n                        break;\n                    default:\n                        return propertyText;\n                }\n            }\n        }\n        if (!value || nValueProposals > 1) {\n            value = ' $1';\n        }\n        return resultText + value + separatorAfter;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getInsertTextForGuessedValue(value, separatorAfter, type) {\n        switch (typeof value) {\n            case 'object':\n                if (value === null) {\n                    return '${1:null}' + separatorAfter;\n                }\n                return this.getInsertTextForValue(value, separatorAfter, type);\n            case 'string': {\n                let snippetValue = JSON.stringify(value);\n                snippetValue = snippetValue.substr(1, snippetValue.length - 2); // remove quotes\n                snippetValue = this.getInsertTextForPlainText(snippetValue); // escape \\ and }\n                if (type === 'string') {\n                    snippetValue = convertToStringValue(snippetValue);\n                }\n                return '${1:' + snippetValue + '}' + separatorAfter;\n            }\n            case 'number':\n            case 'boolean':\n                return '${1:' + value + '}' + separatorAfter;\n        }\n        return this.getInsertTextForValue(value, separatorAfter, type);\n    }\n    getLabelForValue(value) {\n        return value;\n    }\n    /**\n     * Corrects simple syntax mistakes to load possible nodes even if a semicolon is missing\n     */\n    completionHelper(document, textDocumentPosition) {\n        // Get the string we are looking at via a substring\n        const linePos = textDocumentPosition.line;\n        const position = textDocumentPosition;\n        const lineOffset = arrUtils_1.getLineOffsets(document.getText());\n        const start = lineOffset[linePos]; // Start of where the autocompletion is happening\n        let end = 0; // End of where the autocompletion is happening\n        if (lineOffset[linePos + 1]) {\n            end = lineOffset[linePos + 1];\n        }\n        else {\n            end = document.getText().length;\n        }\n        while (end - 1 >= 0 && this.is_EOL(document.getText().charCodeAt(end - 1))) {\n            end--;\n        }\n        const textLine = document.getText().substring(start, end);\n        // Check if the string we are looking at is a node\n        if (textLine.indexOf(':') === -1) {\n            // We need to add the \":\" to load the nodes\n            let newText = '';\n            // This is for the empty line case\n            const trimmedText = textLine.trim();\n            if (trimmedText.length === 0 || (trimmedText.length === 1 && trimmedText[0] === '-')) {\n                // Add a temp node that is in the document but we don't use at all.\n                newText =\n                    document.getText().substring(0, start + textLine.length) +\n                        (trimmedText[0] === '-' && !textLine.endsWith(' ') ? ' ' : '') +\n                        'holder:\\r\\n' +\n                        document.getText().substr(lineOffset[linePos + 1] || document.getText().length);\n                // For when missing semi colon case\n            }\n            else {\n                // Add a semicolon to the end of the current line so we can validate the node\n                newText =\n                    document.getText().substring(0, start + textLine.length) +\n                        ':\\r\\n' +\n                        document.getText().substr(lineOffset[linePos + 1] || document.getText().length);\n            }\n            return {\n                newText: newText,\n                newPosition: textDocumentPosition,\n            };\n        }\n        else {\n            // All the nodes are loaded\n            position.character = position.character - 1;\n            return {\n                newText: document.getText(),\n                newPosition: position,\n            };\n        }\n    }\n    is_EOL(c) {\n        return c === 0x0a /* LF */ || c === 0x0d /* CR */;\n    }\n}\nexports.YAMLCompletion = YAMLCompletion;\nconst isNumberExp = /^\\d+$/;\nfunction convertToStringValue(value) {\n    if (value === 'true' || value === 'false' || value === 'null' || isNumberExp.test(value)) {\n        return `\"${value}\"`;\n    }\n    return value;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/ban-types\nfunction isDefined(val) {\n    return val !== undefined;\n}\n//# sourceMappingURL=yamlCompletion.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONCompletion = void 0;\nvar Parser = require(\"../parser/jsonParser\");\nvar Json = require(\"jsonc-parser\");\nvar json_1 = require(\"../utils/json\");\nvar strings_1 = require(\"../utils/strings\");\nvar objects_1 = require(\"../utils/objects\");\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nvar nls = require(\"vscode-nls\");\nvar localize = nls.loadMessageBundle();\nvar valueCommitCharacters = [',', '}', ']'];\nvar propertyCommitCharacters = [':'];\nvar JSONCompletion = /** @class */ (function () {\n    function JSONCompletion(schemaService, contributions, promiseConstructor, clientCapabilities) {\n        if (contributions === void 0) { contributions = []; }\n        if (promiseConstructor === void 0) { promiseConstructor = Promise; }\n        if (clientCapabilities === void 0) { clientCapabilities = {}; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promiseConstructor = promiseConstructor;\n        this.clientCapabilities = clientCapabilities;\n    }\n    JSONCompletion.prototype.doResolve = function (item) {\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var resolveCompletion = this.contributions[i].resolveCompletion;\n            if (resolveCompletion) {\n                var resolver = resolveCompletion(item);\n                if (resolver) {\n                    return resolver;\n                }\n            }\n        }\n        return this.promiseConstructor.resolve(item);\n    };\n    JSONCompletion.prototype.doComplete = function (document, position, doc) {\n        var _this = this;\n        var result = {\n            items: [],\n            isIncomplete: false\n        };\n        var text = document.getText();\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset, true);\n        if (this.isInComment(document, node ? node.offset : 0, offset)) {\n            return Promise.resolve(result);\n        }\n        if (node && (offset === node.offset + node.length) && offset > 0) {\n            var ch = text[offset - 1];\n            if (node.type === 'object' && ch === '}' || node.type === 'array' && ch === ']') {\n                // after ] or }\n                node = node.parent;\n            }\n        }\n        var currentWord = this.getCurrentWord(document, offset);\n        var overwriteRange;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            overwriteRange = jsonLanguageTypes_1.Range.create(document.positionAt(node.offset), document.positionAt(node.offset + node.length));\n        }\n        else {\n            var overwriteStart = offset - currentWord.length;\n            if (overwriteStart > 0 && text[overwriteStart - 1] === '\"') {\n                overwriteStart--;\n            }\n            overwriteRange = jsonLanguageTypes_1.Range.create(document.positionAt(overwriteStart), position);\n        }\n        var supportsCommitCharacters = false; //this.doesSupportsCommitCharacters(); disabled for now, waiting for new API: https://github.com/microsoft/vscode/issues/42544\n        var proposed = {};\n        var collector = {\n            add: function (suggestion) {\n                var label = suggestion.label;\n                var existing = proposed[label];\n                if (!existing) {\n                    label = label.replace(/[\\n]/g, '↵');\n                    if (label.length > 60) {\n                        var shortendedLabel = label.substr(0, 57).trim() + '...';\n                        if (!proposed[shortendedLabel]) {\n                            label = shortendedLabel;\n                        }\n                    }\n                    if (overwriteRange && suggestion.insertText !== undefined) {\n                        suggestion.textEdit = jsonLanguageTypes_1.TextEdit.replace(overwriteRange, suggestion.insertText);\n                    }\n                    if (supportsCommitCharacters) {\n                        suggestion.commitCharacters = suggestion.kind === jsonLanguageTypes_1.CompletionItemKind.Property ? propertyCommitCharacters : valueCommitCharacters;\n                    }\n                    suggestion.label = label;\n                    proposed[label] = suggestion;\n                    result.items.push(suggestion);\n                }\n                else if (!existing.documentation) {\n                    existing.documentation = suggestion.documentation;\n                }\n            },\n            setAsIncomplete: function () {\n                result.isIncomplete = true;\n            },\n            error: function (message) {\n                console.error(message);\n            },\n            log: function (message) {\n                console.log(message);\n            },\n            getNumberOfProposals: function () {\n                return result.items.length;\n            }\n        };\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            var collectionPromises = [];\n            var addValue = true;\n            var currentKey = '';\n            var currentProperty = undefined;\n            if (node) {\n                if (node.type === 'string') {\n                    var parent = node.parent;\n                    if (parent && parent.type === 'property' && parent.keyNode === node) {\n                        addValue = !parent.valueNode;\n                        currentProperty = parent;\n                        currentKey = text.substr(node.offset + 1, node.length - 2);\n                        if (parent) {\n                            node = parent.parent;\n                        }\n                    }\n                }\n            }\n            // proposals for properties\n            if (node && node.type === 'object') {\n                // don't suggest keys when the cursor is just before the opening curly brace\n                if (node.offset === offset) {\n                    return result;\n                }\n                // don't suggest properties that are already present\n                var properties = node.properties;\n                properties.forEach(function (p) {\n                    if (!currentProperty || currentProperty !== p) {\n                        proposed[p.keyNode.value] = jsonLanguageTypes_1.CompletionItem.create('__');\n                    }\n                });\n                var separatorAfter_1 = '';\n                if (addValue) {\n                    separatorAfter_1 = _this.evaluateSeparatorAfter(document, document.offsetAt(overwriteRange.end));\n                }\n                if (schema) {\n                    // property proposals with schema\n                    _this.getPropertyCompletions(schema, doc, node, addValue, separatorAfter_1, collector);\n                }\n                else {\n                    // property proposals without schema\n                    _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);\n                }\n                var location_1 = Parser.getNodePath(node);\n                _this.contributions.forEach(function (contribution) {\n                    var collectPromise = contribution.collectPropertyCompletions(document.uri, location_1, currentWord, addValue, separatorAfter_1 === '', collector);\n                    if (collectPromise) {\n                        collectionPromises.push(collectPromise);\n                    }\n                });\n                if ((!schema && currentWord.length > 0 && text.charAt(offset - currentWord.length - 1) !== '\"')) {\n                    collector.add({\n                        kind: jsonLanguageTypes_1.CompletionItemKind.Property,\n                        label: _this.getLabelForValue(currentWord),\n                        insertText: _this.getInsertTextForProperty(currentWord, undefined, false, separatorAfter_1),\n                        insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet, documentation: '',\n                    });\n                    collector.setAsIncomplete();\n                }\n            }\n            // proposals for values\n            var types = {};\n            if (schema) {\n                // value proposals with schema\n                _this.getValueCompletions(schema, doc, node, offset, document, collector, types);\n            }\n            else {\n                // value proposals without schema\n                _this.getSchemaLessValueCompletions(doc, node, offset, document, collector);\n            }\n            if (_this.contributions.length > 0) {\n                _this.getContributedValueCompletions(doc, node, offset, document, collector, collectionPromises);\n            }\n            return _this.promiseConstructor.all(collectionPromises).then(function () {\n                if (collector.getNumberOfProposals() === 0) {\n                    var offsetForSeparator = offset;\n                    if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n                        offsetForSeparator = node.offset + node.length;\n                    }\n                    var separatorAfter = _this.evaluateSeparatorAfter(document, offsetForSeparator);\n                    _this.addFillerValueCompletions(types, separatorAfter, collector);\n                }\n                return result;\n            });\n        });\n    };\n    JSONCompletion.prototype.getPropertyCompletions = function (schema, doc, node, addValue, separatorAfter, collector) {\n        var _this = this;\n        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n        matchingSchemas.forEach(function (s) {\n            if (s.node === node && !s.inverted) {\n                var schemaProperties_1 = s.schema.properties;\n                if (schemaProperties_1) {\n                    Object.keys(schemaProperties_1).forEach(function (key) {\n                        var propertySchema = schemaProperties_1[key];\n                        if (typeof propertySchema === 'object' && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {\n                            var proposal = {\n                                kind: jsonLanguageTypes_1.CompletionItemKind.Property,\n                                label: key,\n                                insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),\n                                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                                filterText: _this.getFilterTextForValue(key),\n                                documentation: _this.fromMarkup(propertySchema.markdownDescription) || propertySchema.description || '',\n                            };\n                            if (propertySchema.suggestSortText !== undefined) {\n                                proposal.sortText = propertySchema.suggestSortText;\n                            }\n                            if (proposal.insertText && strings_1.endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                                proposal.command = {\n                                    title: 'Suggest',\n                                    command: 'editor.action.triggerSuggest'\n                                };\n                            }\n                            collector.add(proposal);\n                        }\n                    });\n                }\n                var schemaPropertyNames_1 = s.schema.propertyNames;\n                if (typeof schemaPropertyNames_1 === 'object' && !schemaPropertyNames_1.deprecationMessage && !schemaPropertyNames_1.doNotSuggest) {\n                    var propertyNameCompletionItem = function (name, enumDescription) {\n                        if (enumDescription === void 0) { enumDescription = undefined; }\n                        var proposal = {\n                            kind: jsonLanguageTypes_1.CompletionItemKind.Property,\n                            label: name,\n                            insertText: _this.getInsertTextForProperty(name, undefined, addValue, separatorAfter),\n                            insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                            filterText: _this.getFilterTextForValue(name),\n                            documentation: enumDescription || _this.fromMarkup(schemaPropertyNames_1.markdownDescription) || schemaPropertyNames_1.description || '',\n                        };\n                        if (schemaPropertyNames_1.suggestSortText !== undefined) {\n                            proposal.sortText = schemaPropertyNames_1.suggestSortText;\n                        }\n                        if (proposal.insertText && strings_1.endsWith(proposal.insertText, \"$1\" + separatorAfter)) {\n                            proposal.command = {\n                                title: 'Suggest',\n                                command: 'editor.action.triggerSuggest'\n                            };\n                        }\n                        collector.add(proposal);\n                    };\n                    if (schemaPropertyNames_1.enum) {\n                        for (var i = 0; i < schemaPropertyNames_1.enum.length; i++) {\n                            var enumDescription = undefined;\n                            if (schemaPropertyNames_1.markdownEnumDescriptions && i < schemaPropertyNames_1.markdownEnumDescriptions.length) {\n                                enumDescription = _this.fromMarkup(schemaPropertyNames_1.markdownEnumDescriptions[i]);\n                            }\n                            else if (schemaPropertyNames_1.enumDescriptions && i < schemaPropertyNames_1.enumDescriptions.length) {\n                                enumDescription = schemaPropertyNames_1.enumDescriptions[i];\n                            }\n                            propertyNameCompletionItem(schemaPropertyNames_1.enum[i], enumDescription);\n                        }\n                    }\n                    if (schemaPropertyNames_1.const) {\n                        propertyNameCompletionItem(schemaPropertyNames_1.const);\n                    }\n                }\n            }\n        });\n    };\n    JSONCompletion.prototype.getSchemaLessPropertyCompletions = function (doc, node, currentKey, collector) {\n        var _this = this;\n        var collectCompletionsForSimilarObject = function (obj) {\n            obj.properties.forEach(function (p) {\n                var key = p.keyNode.value;\n                collector.add({\n                    kind: jsonLanguageTypes_1.CompletionItemKind.Property,\n                    label: key,\n                    insertText: _this.getInsertTextForValue(key, ''),\n                    insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                    filterText: _this.getFilterTextForValue(key),\n                    documentation: ''\n                });\n            });\n        };\n        if (node.parent) {\n            if (node.parent.type === 'property') {\n                // if the object is a property value, check the tree for other objects that hang under a property of the same name\n                var parentKey_1 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === 'object') {\n                        collectCompletionsForSimilarObject(n.valueNode);\n                    }\n                    return true;\n                });\n            }\n            else if (node.parent.type === 'array') {\n                // if the object is in an array, use all other array elements as similar objects\n                node.parent.items.forEach(function (n) {\n                    if (n.type === 'object' && n !== node) {\n                        collectCompletionsForSimilarObject(n);\n                    }\n                });\n            }\n        }\n        else if (node.type === 'object') {\n            collector.add({\n                kind: jsonLanguageTypes_1.CompletionItemKind.Property,\n                label: '$schema',\n                insertText: this.getInsertTextForProperty('$schema', undefined, true, ''),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet, documentation: '',\n                filterText: this.getFilterTextForValue(\"$schema\")\n            });\n        }\n    };\n    JSONCompletion.prototype.getSchemaLessValueCompletions = function (doc, node, offset, document, collector) {\n        var _this = this;\n        var offsetForSeparator = offset;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            node = node.parent;\n        }\n        if (!node) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: 'Empty object',\n                insertText: this.getInsertTextForValue({}, ''),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: 'Empty array',\n                insertText: this.getInsertTextForValue([], ''),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                documentation: ''\n            });\n            return;\n        }\n        var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n        var collectSuggestionsForValues = function (value) {\n            if (value.parent && !Parser.contains(value.parent, offset, true)) {\n                collector.add({\n                    kind: _this.getSuggestionKind(value.type),\n                    label: _this.getLabelTextForMatchingNode(value, document),\n                    insertText: _this.getInsertTextForMatchingNode(value, document, separatorAfter),\n                    insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet, documentation: ''\n                });\n            }\n            if (value.type === 'boolean') {\n                _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);\n            }\n        };\n        if (node.type === 'property') {\n            if (offset > (node.colonOffset || 0)) {\n                var valueNode = node.valueNode;\n                if (valueNode && (offset > (valueNode.offset + valueNode.length) || valueNode.type === 'object' || valueNode.type === 'array')) {\n                    return;\n                }\n                // suggest values at the same key\n                var parentKey_2 = node.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_2 && n.valueNode) {\n                        collectSuggestionsForValues(n.valueNode);\n                    }\n                    return true;\n                });\n                if (parentKey_2 === '$schema' && node.parent && !node.parent.parent) {\n                    this.addDollarSchemaCompletions(separatorAfter, collector);\n                }\n            }\n        }\n        if (node.type === 'array') {\n            if (node.parent && node.parent.type === 'property') {\n                // suggest items of an array at the same key\n                var parentKey_3 = node.parent.keyNode.value;\n                doc.visit(function (n) {\n                    if (n.type === 'property' && n.keyNode.value === parentKey_3 && n.valueNode && n.valueNode.type === 'array') {\n                        n.valueNode.items.forEach(collectSuggestionsForValues);\n                    }\n                    return true;\n                });\n            }\n            else {\n                // suggest items in the same array\n                node.items.forEach(collectSuggestionsForValues);\n            }\n        }\n    };\n    JSONCompletion.prototype.getValueCompletions = function (schema, doc, node, offset, document, collector, types) {\n        var offsetForSeparator = offset;\n        var parentKey = undefined;\n        var valueNode = undefined;\n        if (node && (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null')) {\n            offsetForSeparator = node.offset + node.length;\n            valueNode = node;\n            node = node.parent;\n        }\n        if (!node) {\n            this.addSchemaValueCompletions(schema.schema, '', collector, types);\n            return;\n        }\n        if ((node.type === 'property') && offset > (node.colonOffset || 0)) {\n            var valueNode_1 = node.valueNode;\n            if (valueNode_1 && offset > (valueNode_1.offset + valueNode_1.length)) {\n                return; // we are past the value node\n            }\n            parentKey = node.keyNode.value;\n            node = node.parent;\n        }\n        if (node && (parentKey !== undefined || node.type === 'array')) {\n            var separatorAfter = this.evaluateSeparatorAfter(document, offsetForSeparator);\n            var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset, valueNode);\n            for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {\n                var s = matchingSchemas_1[_i];\n                if (s.node === node && !s.inverted && s.schema) {\n                    if (node.type === 'array' && s.schema.items) {\n                        if (Array.isArray(s.schema.items)) {\n                            var index = this.findItemAtOffset(node, document, offset);\n                            if (index < s.schema.items.length) {\n                                this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types);\n                            }\n                        }\n                        else {\n                            this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);\n                        }\n                    }\n                    if (parentKey !== undefined) {\n                        var propertyMatched = false;\n                        if (s.schema.properties) {\n                            var propertySchema = s.schema.properties[parentKey];\n                            if (propertySchema) {\n                                propertyMatched = true;\n                                this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                            }\n                        }\n                        if (s.schema.patternProperties && !propertyMatched) {\n                            for (var _a = 0, _b = Object.keys(s.schema.patternProperties); _a < _b.length; _a++) {\n                                var pattern = _b[_a];\n                                var regex = new RegExp(pattern);\n                                if (regex.test(parentKey)) {\n                                    propertyMatched = true;\n                                    var propertySchema = s.schema.patternProperties[pattern];\n                                    this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                                }\n                            }\n                        }\n                        if (s.schema.additionalProperties && !propertyMatched) {\n                            var propertySchema = s.schema.additionalProperties;\n                            this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);\n                        }\n                    }\n                }\n            }\n            if (parentKey === '$schema' && !node.parent) {\n                this.addDollarSchemaCompletions(separatorAfter, collector);\n            }\n            if (types['boolean']) {\n                this.addBooleanValueCompletion(true, separatorAfter, collector);\n                this.addBooleanValueCompletion(false, separatorAfter, collector);\n            }\n            if (types['null']) {\n                this.addNullValueCompletion(separatorAfter, collector);\n            }\n        }\n    };\n    JSONCompletion.prototype.getContributedValueCompletions = function (doc, node, offset, document, collector, collectionPromises) {\n        if (!node) {\n            this.contributions.forEach(function (contribution) {\n                var collectPromise = contribution.collectDefaultCompletions(document.uri, collector);\n                if (collectPromise) {\n                    collectionPromises.push(collectPromise);\n                }\n            });\n        }\n        else {\n            if (node.type === 'string' || node.type === 'number' || node.type === 'boolean' || node.type === 'null') {\n                node = node.parent;\n            }\n            if (node && (node.type === 'property') && offset > (node.colonOffset || 0)) {\n                var parentKey_4 = node.keyNode.value;\n                var valueNode = node.valueNode;\n                if ((!valueNode || offset <= (valueNode.offset + valueNode.length)) && node.parent) {\n                    var location_2 = Parser.getNodePath(node.parent);\n                    this.contributions.forEach(function (contribution) {\n                        var collectPromise = contribution.collectValueCompletions(document.uri, location_2, parentKey_4, collector);\n                        if (collectPromise) {\n                            collectionPromises.push(collectPromise);\n                        }\n                    });\n                }\n            }\n        }\n    };\n    JSONCompletion.prototype.addSchemaValueCompletions = function (schema, separatorAfter, collector, types) {\n        var _this = this;\n        if (typeof schema === 'object') {\n            this.addEnumValueCompletions(schema, separatorAfter, collector);\n            this.addDefaultValueCompletions(schema, separatorAfter, collector);\n            this.collectTypes(schema, types);\n            if (Array.isArray(schema.allOf)) {\n                schema.allOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.anyOf)) {\n                schema.anyOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n            if (Array.isArray(schema.oneOf)) {\n                schema.oneOf.forEach(function (s) { return _this.addSchemaValueCompletions(s, separatorAfter, collector, types); });\n            }\n        }\n    };\n    JSONCompletion.prototype.addDefaultValueCompletions = function (schema, separatorAfter, collector, arrayDepth) {\n        var _this = this;\n        if (arrayDepth === void 0) { arrayDepth = 0; }\n        var hasProposals = false;\n        if (objects_1.isDefined(schema.default)) {\n            var type = schema.type;\n            var value = schema.default;\n            for (var i = arrayDepth; i > 0; i--) {\n                value = [value];\n                type = 'array';\n            }\n            collector.add({\n                kind: this.getSuggestionKind(type),\n                label: this.getLabelForValue(value),\n                insertText: this.getInsertTextForValue(value, separatorAfter),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                detail: localize('json.suggest.default', 'Default value')\n            });\n            hasProposals = true;\n        }\n        if (Array.isArray(schema.examples)) {\n            schema.examples.forEach(function (example) {\n                var type = schema.type;\n                var value = example;\n                for (var i = arrayDepth; i > 0; i--) {\n                    value = [value];\n                    type = 'array';\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: _this.getLabelForValue(value),\n                    insertText: _this.getInsertTextForValue(value, separatorAfter),\n                    insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet\n                });\n                hasProposals = true;\n            });\n        }\n        if (Array.isArray(schema.defaultSnippets)) {\n            schema.defaultSnippets.forEach(function (s) {\n                var type = schema.type;\n                var value = s.body;\n                var label = s.label;\n                var insertText;\n                var filterText;\n                if (objects_1.isDefined(value)) {\n                    var type_1 = schema.type;\n                    for (var i = arrayDepth; i > 0; i--) {\n                        value = [value];\n                        type_1 = 'array';\n                    }\n                    insertText = _this.getInsertTextForSnippetValue(value, separatorAfter);\n                    filterText = _this.getFilterTextForSnippetValue(value);\n                    label = label || _this.getLabelForSnippetValue(value);\n                }\n                else if (typeof s.bodyText === 'string') {\n                    var prefix = '', suffix = '', indent = '';\n                    for (var i = arrayDepth; i > 0; i--) {\n                        prefix = prefix + indent + '[\\n';\n                        suffix = suffix + '\\n' + indent + ']';\n                        indent += '\\t';\n                        type = 'array';\n                    }\n                    insertText = prefix + indent + s.bodyText.split('\\n').join('\\n' + indent) + suffix + separatorAfter;\n                    label = label || insertText,\n                        filterText = insertText.replace(/[\\n]/g, ''); // remove new lines\n                }\n                else {\n                    return;\n                }\n                collector.add({\n                    kind: _this.getSuggestionKind(type),\n                    label: label,\n                    documentation: _this.fromMarkup(s.markdownDescription) || s.description,\n                    insertText: insertText,\n                    insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                    filterText: filterText\n                });\n                hasProposals = true;\n            });\n        }\n        if (!hasProposals && typeof schema.items === 'object' && !Array.isArray(schema.items) && arrayDepth < 5 /* beware of recursion */) {\n            this.addDefaultValueCompletions(schema.items, separatorAfter, collector, arrayDepth + 1);\n        }\n    };\n    JSONCompletion.prototype.addEnumValueCompletions = function (schema, separatorAfter, collector) {\n        if (objects_1.isDefined(schema.const)) {\n            collector.add({\n                kind: this.getSuggestionKind(schema.type),\n                label: this.getLabelForValue(schema.const),\n                insertText: this.getInsertTextForValue(schema.const, separatorAfter),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                documentation: this.fromMarkup(schema.markdownDescription) || schema.description\n            });\n        }\n        if (Array.isArray(schema.enum)) {\n            for (var i = 0, length = schema.enum.length; i < length; i++) {\n                var enm = schema.enum[i];\n                var documentation = this.fromMarkup(schema.markdownDescription) || schema.description;\n                if (schema.markdownEnumDescriptions && i < schema.markdownEnumDescriptions.length && this.doesSupportMarkdown()) {\n                    documentation = this.fromMarkup(schema.markdownEnumDescriptions[i]);\n                }\n                else if (schema.enumDescriptions && i < schema.enumDescriptions.length) {\n                    documentation = schema.enumDescriptions[i];\n                }\n                collector.add({\n                    kind: this.getSuggestionKind(schema.type),\n                    label: this.getLabelForValue(enm),\n                    insertText: this.getInsertTextForValue(enm, separatorAfter),\n                    insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                    documentation: documentation\n                });\n            }\n        }\n    };\n    JSONCompletion.prototype.collectTypes = function (schema, types) {\n        if (Array.isArray(schema.enum) || objects_1.isDefined(schema.const)) {\n            return;\n        }\n        var type = schema.type;\n        if (Array.isArray(type)) {\n            type.forEach(function (t) { return types[t] = true; });\n        }\n        else if (type) {\n            types[type] = true;\n        }\n    };\n    JSONCompletion.prototype.addFillerValueCompletions = function (types, separatorAfter, collector) {\n        if (types['object']) {\n            collector.add({\n                kind: this.getSuggestionKind('object'),\n                label: '{}',\n                insertText: this.getInsertTextForGuessedValue({}, separatorAfter),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                detail: localize('defaults.object', 'New object'),\n                documentation: ''\n            });\n        }\n        if (types['array']) {\n            collector.add({\n                kind: this.getSuggestionKind('array'),\n                label: '[]',\n                insertText: this.getInsertTextForGuessedValue([], separatorAfter),\n                insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n                detail: localize('defaults.array', 'New array'),\n                documentation: ''\n            });\n        }\n    };\n    JSONCompletion.prototype.addBooleanValueCompletion = function (value, separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('boolean'),\n            label: value ? 'true' : 'false',\n            insertText: this.getInsertTextForValue(value, separatorAfter),\n            insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addNullValueCompletion = function (separatorAfter, collector) {\n        collector.add({\n            kind: this.getSuggestionKind('null'),\n            label: 'null',\n            insertText: 'null' + separatorAfter,\n            insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet,\n            documentation: ''\n        });\n    };\n    JSONCompletion.prototype.addDollarSchemaCompletions = function (separatorAfter, collector) {\n        var _this = this;\n        var schemaIds = this.schemaService.getRegisteredSchemaIds(function (schema) { return schema === 'http' || schema === 'https'; });\n        schemaIds.forEach(function (schemaId) { return collector.add({\n            kind: jsonLanguageTypes_1.CompletionItemKind.Module,\n            label: _this.getLabelForValue(schemaId),\n            filterText: _this.getFilterTextForValue(schemaId),\n            insertText: _this.getInsertTextForValue(schemaId, separatorAfter),\n            insertTextFormat: jsonLanguageTypes_1.InsertTextFormat.Snippet, documentation: ''\n        }); });\n    };\n    JSONCompletion.prototype.getLabelForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForValue = function (value) {\n        return JSON.stringify(value);\n    };\n    JSONCompletion.prototype.getFilterTextForSnippetValue = function (value) {\n        return JSON.stringify(value).replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getLabelForSnippetValue = function (value) {\n        var label = JSON.stringify(value);\n        return label.replace(/\\$\\{\\d+:([^}]+)\\}|\\$\\d+/g, '$1');\n    };\n    JSONCompletion.prototype.getInsertTextForPlainText = function (text) {\n        return text.replace(/[\\\\\\$\\}]/g, '\\\\$&'); // escape $, \\ and } \n    };\n    JSONCompletion.prototype.getInsertTextForValue = function (value, separatorAfter) {\n        var text = JSON.stringify(value, null, '\\t');\n        if (text === '{}') {\n            return '{$1}' + separatorAfter;\n        }\n        else if (text === '[]') {\n            return '[$1]' + separatorAfter;\n        }\n        return this.getInsertTextForPlainText(text + separatorAfter);\n    };\n    JSONCompletion.prototype.getInsertTextForSnippetValue = function (value, separatorAfter) {\n        var replacer = function (value) {\n            if (typeof value === 'string') {\n                if (value[0] === '^') {\n                    return value.substr(1);\n                }\n            }\n            return JSON.stringify(value);\n        };\n        return json_1.stringifyObject(value, '', replacer) + separatorAfter;\n    };\n    JSONCompletion.prototype.getInsertTextForGuessedValue = function (value, separatorAfter) {\n        switch (typeof value) {\n            case 'object':\n                if (value === null) {\n                    return '${1:null}' + separatorAfter;\n                }\n                return this.getInsertTextForValue(value, separatorAfter);\n            case 'string':\n                var snippetValue = JSON.stringify(value);\n                snippetValue = snippetValue.substr(1, snippetValue.length - 2); // remove quotes\n                snippetValue = this.getInsertTextForPlainText(snippetValue); // escape \\ and }\n                return '\"${1:' + snippetValue + '}\"' + separatorAfter;\n            case 'number':\n            case 'boolean':\n                return '${1:' + JSON.stringify(value) + '}' + separatorAfter;\n        }\n        return this.getInsertTextForValue(value, separatorAfter);\n    };\n    JSONCompletion.prototype.getSuggestionKind = function (type) {\n        if (Array.isArray(type)) {\n            var array = type;\n            type = array.length > 0 ? array[0] : undefined;\n        }\n        if (!type) {\n            return jsonLanguageTypes_1.CompletionItemKind.Value;\n        }\n        switch (type) {\n            case 'string': return jsonLanguageTypes_1.CompletionItemKind.Value;\n            case 'object': return jsonLanguageTypes_1.CompletionItemKind.Module;\n            case 'property': return jsonLanguageTypes_1.CompletionItemKind.Property;\n            default: return jsonLanguageTypes_1.CompletionItemKind.Value;\n        }\n    };\n    JSONCompletion.prototype.getLabelTextForMatchingNode = function (node, document) {\n        switch (node.type) {\n            case 'array':\n                return '[]';\n            case 'object':\n                return '{}';\n            default:\n                var content = document.getText().substr(node.offset, node.length);\n                return content;\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForMatchingNode = function (node, document, separatorAfter) {\n        switch (node.type) {\n            case 'array':\n                return this.getInsertTextForValue([], separatorAfter);\n            case 'object':\n                return this.getInsertTextForValue({}, separatorAfter);\n            default:\n                var content = document.getText().substr(node.offset, node.length) + separatorAfter;\n                return this.getInsertTextForPlainText(content);\n        }\n    };\n    JSONCompletion.prototype.getInsertTextForProperty = function (key, propertySchema, addValue, separatorAfter) {\n        var propertyText = this.getInsertTextForValue(key, '');\n        if (!addValue) {\n            return propertyText;\n        }\n        var resultText = propertyText + ': ';\n        var value;\n        var nValueProposals = 0;\n        if (propertySchema) {\n            if (Array.isArray(propertySchema.defaultSnippets)) {\n                if (propertySchema.defaultSnippets.length === 1) {\n                    var body = propertySchema.defaultSnippets[0].body;\n                    if (objects_1.isDefined(body)) {\n                        value = this.getInsertTextForSnippetValue(body, '');\n                    }\n                }\n                nValueProposals += propertySchema.defaultSnippets.length;\n            }\n            if (propertySchema.enum) {\n                if (!value && propertySchema.enum.length === 1) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.enum[0], '');\n                }\n                nValueProposals += propertySchema.enum.length;\n            }\n            if (objects_1.isDefined(propertySchema.default)) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.default, '');\n                }\n                nValueProposals++;\n            }\n            if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {\n                if (!value) {\n                    value = this.getInsertTextForGuessedValue(propertySchema.examples[0], '');\n                }\n                nValueProposals += propertySchema.examples.length;\n            }\n            if (nValueProposals === 0) {\n                var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;\n                if (!type) {\n                    if (propertySchema.properties) {\n                        type = 'object';\n                    }\n                    else if (propertySchema.items) {\n                        type = 'array';\n                    }\n                }\n                switch (type) {\n                    case 'boolean':\n                        value = '$1';\n                        break;\n                    case 'string':\n                        value = '\"$1\"';\n                        break;\n                    case 'object':\n                        value = '{$1}';\n                        break;\n                    case 'array':\n                        value = '[$1]';\n                        break;\n                    case 'number':\n                    case 'integer':\n                        value = '${1:0}';\n                        break;\n                    case 'null':\n                        value = '${1:null}';\n                        break;\n                    default:\n                        return propertyText;\n                }\n            }\n        }\n        if (!value || nValueProposals > 1) {\n            value = '$1';\n        }\n        return resultText + value + separatorAfter;\n    };\n    JSONCompletion.prototype.getCurrentWord = function (document, offset) {\n        var i = offset - 1;\n        var text = document.getText();\n        while (i >= 0 && ' \\t\\n\\r\\v\":{[,]}'.indexOf(text.charAt(i)) === -1) {\n            i--;\n        }\n        return text.substring(i + 1, offset);\n    };\n    JSONCompletion.prototype.evaluateSeparatorAfter = function (document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        scanner.setPosition(offset);\n        var token = scanner.scan();\n        switch (token) {\n            case 5 /* CommaToken */:\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */:\n            case 17 /* EOF */:\n                return '';\n            default:\n                return ',';\n        }\n    };\n    JSONCompletion.prototype.findItemAtOffset = function (node, document, offset) {\n        var scanner = Json.createScanner(document.getText(), true);\n        var children = node.items;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (offset > child.offset + child.length) {\n                scanner.setPosition(child.offset + child.length);\n                var token = scanner.scan();\n                if (token === 5 /* CommaToken */ && offset >= scanner.getTokenOffset() + scanner.getTokenLength()) {\n                    return i + 1;\n                }\n                return i;\n            }\n            else if (offset >= child.offset) {\n                return i;\n            }\n        }\n        return 0;\n    };\n    JSONCompletion.prototype.isInComment = function (document, start, offset) {\n        var scanner = Json.createScanner(document.getText(), false);\n        scanner.setPosition(start);\n        var token = scanner.scan();\n        while (token !== 17 /* EOF */ && (scanner.getTokenOffset() + scanner.getTokenLength() < offset)) {\n            token = scanner.scan();\n        }\n        return ((token === 12 /* LineCommentTrivia */ || token === 13) /* BlockCommentTrivia */) && scanner.getTokenOffset() <= offset;\n    };\n    JSONCompletion.prototype.fromMarkup = function (markupString) {\n        if (markupString && this.doesSupportMarkdown()) {\n            return {\n                kind: jsonLanguageTypes_1.MarkupKind.Markdown,\n                value: markupString\n            };\n        }\n        return undefined;\n    };\n    JSONCompletion.prototype.doesSupportMarkdown = function () {\n        if (!objects_1.isDefined(this.supportsMarkdown)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsMarkdown = completion && completion.completionItem && Array.isArray(completion.completionItem.documentationFormat) && completion.completionItem.documentationFormat.indexOf(jsonLanguageTypes_1.MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    JSONCompletion.prototype.doesSupportsCommitCharacters = function () {\n        if (!objects_1.isDefined(this.supportsCommitCharacters)) {\n            var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;\n            this.supportsCommitCharacters = completion && completion.completionItem && !!completion.completionItem.commitCharactersSupport;\n        }\n        return this.supportsCommitCharacters;\n    };\n    return JSONCompletion;\n}());\nexports.JSONCompletion = JSONCompletion;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringifyObject = void 0;\nfunction stringifyObject(obj, indent, stringifyLiteral) {\n    if (obj !== null && typeof obj === 'object') {\n        var newIndent = indent + '\\t';\n        if (Array.isArray(obj)) {\n            if (obj.length === 0) {\n                return '[]';\n            }\n            var result = '[\\n';\n            for (var i = 0; i < obj.length; i++) {\n                result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);\n                if (i < obj.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + ']';\n            return result;\n        }\n        else {\n            var keys = Object.keys(obj);\n            if (keys.length === 0) {\n                return '{}';\n            }\n            var result = '{\\n';\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                result += newIndent + JSON.stringify(key) + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral);\n                if (i < keys.length - 1) {\n                    result += ',';\n                }\n                result += '\\n';\n            }\n            result += indent + '}';\n            return result;\n        }\n    }\n    return stringifyLiteral(obj);\n}\nexports.stringifyObject = stringifyObject;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifyObject(obj, indent, stringifyLiteral, settings, depth = 0, consecutiveArrays = 0) {\n    if (obj !== null && typeof obj === 'object') {\n        /**\n         * When we are autocompleting a snippet from a property we need the indent so everything underneath the property\n         * is propertly indented. When we are auto completion from a value we don't want the indent because the cursor\n         * is already in the correct place\n         */\n        const newIndent = (depth === 0 && settings.shouldIndentWithTab) || depth > 0 ? indent + '  ' : '';\n        if (Array.isArray(obj)) {\n            consecutiveArrays += 1;\n            if (obj.length === 0) {\n                return '';\n            }\n            let result = '';\n            for (let i = 0; i < obj.length; i++) {\n                let pseudoObj = obj[i];\n                if (!Array.isArray(obj[i])) {\n                    pseudoObj = preprendToObject(obj[i], consecutiveArrays);\n                }\n                result += newIndent + stringifyObject(pseudoObj, indent, stringifyLiteral, settings, (depth += 1), consecutiveArrays);\n                if (i < obj.length - 1) {\n                    result += '\\n';\n                }\n            }\n            result += indent;\n            return result;\n        }\n        else {\n            const keys = Object.keys(obj);\n            if (keys.length === 0) {\n                return '';\n            }\n            let result = (depth === 0 && settings.newLineFirst) || depth > 0 ? '\\n' : '';\n            for (let i = 0; i < keys.length; i++) {\n                const key = keys[i];\n                // The first child of an array needs to be treated specially, otherwise identations will be off\n                if (depth === 0 && i === 0 && !settings.indentFirstObject) {\n                    result += indent + key + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral, settings, (depth += 1), 0);\n                }\n                else {\n                    result += newIndent + key + ': ' + stringifyObject(obj[key], newIndent, stringifyLiteral, settings, (depth += 1), 0);\n                }\n                if (i < keys.length - 1) {\n                    result += '\\n';\n                }\n            }\n            result += indent;\n            return result;\n        }\n    }\n    return stringifyLiteral(obj);\n}\nexports.stringifyObject = stringifyObject;\nfunction preprendToObject(obj, consecutiveArrays) {\n    const newObj = {};\n    for (let i = 0; i < Object.keys(obj).length; i++) {\n        const key = Object.keys(obj)[i];\n        if (i === 0) {\n            newObj['- '.repeat(consecutiveArrays) + key] = obj[key];\n        }\n        else {\n            newObj['  '.repeat(consecutiveArrays) + key] = obj[key];\n        }\n    }\n    return newObj;\n}\n//# sourceMappingURL=json.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass SpacesDiffResult {\n    constructor() {\n        this.spacesDiff = 0;\n        this.looksLikeAlignment = false;\n    }\n}\n/**\n * Compute the diff in spaces between two line's indentation.\n */\nfunction spacesDiff(a, aLength, b, bLength, result) {\n    result.spacesDiff = 0;\n    result.looksLikeAlignment = false;\n    // This can go both ways (e.g.):\n    //  - a: \"\\t\"\n    //  - b: \"\\t    \"\n    //  => This should count 1 tab and 4 spaces\n    let i;\n    for (i = 0; i < aLength && i < bLength; i++) {\n        const aCharCode = a.charCodeAt(i);\n        const bCharCode = b.charCodeAt(i);\n        if (aCharCode !== bCharCode) {\n            break;\n        }\n    }\n    let aSpacesCnt = 0, aTabsCount = 0;\n    for (let j = i; j < aLength; j++) {\n        const aCharCode = a.charCodeAt(j);\n        if (aCharCode === 32 /* Space */) {\n            aSpacesCnt++;\n        }\n        else {\n            aTabsCount++;\n        }\n    }\n    let bSpacesCnt = 0, bTabsCount = 0;\n    for (let j = i; j < bLength; j++) {\n        const bCharCode = b.charCodeAt(j);\n        if (bCharCode === 32 /* Space */) {\n            bSpacesCnt++;\n        }\n        else {\n            bTabsCount++;\n        }\n    }\n    if (aSpacesCnt > 0 && aTabsCount > 0) {\n        return;\n    }\n    if (bSpacesCnt > 0 && bTabsCount > 0) {\n        return;\n    }\n    const tabsDiff = Math.abs(aTabsCount - bTabsCount);\n    const spacesDiff = Math.abs(aSpacesCnt - bSpacesCnt);\n    if (tabsDiff === 0) {\n        // check if the indentation difference might be caused by alignment reasons\n        // sometime folks like to align their code, but this should not be used as a hint\n        result.spacesDiff = spacesDiff;\n        if (spacesDiff > 0 && 0 <= bSpacesCnt - 1 && bSpacesCnt - 1 < a.length && bSpacesCnt < b.length) {\n            if (b.charCodeAt(bSpacesCnt) !== 32 /* Space */ && a.charCodeAt(bSpacesCnt - 1) === 32 /* Space */) {\n                if (a.charCodeAt(a.length - 1) === 44 /* Comma */) {\n                    // This looks like an alignment desire: e.g.\n                    // const a = b + c,\n                    //       d = b - c;\n                    result.looksLikeAlignment = true;\n                }\n            }\n        }\n        return;\n    }\n    if (spacesDiff % tabsDiff === 0) {\n        result.spacesDiff = spacesDiff / tabsDiff;\n        return;\n    }\n}\nfunction guessIndentation(source, defaultTabSize, defaultInsertSpaces) {\n    // Look at most at the first 10k lines\n    const linesCount = Math.min(source.getLineCount(), 10000);\n    let linesIndentedWithTabsCount = 0; // number of lines that contain at least one tab in indentation\n    let linesIndentedWithSpacesCount = 0; // number of lines that contain only spaces in indentation\n    let previousLineText = ''; // content of latest line that contained non-whitespace chars\n    let previousLineIndentation = 0; // index at which latest line contained the first non-whitespace char\n    const ALLOWED_TAB_SIZE_GUESSES = [2, 4, 6, 8, 3, 5, 7]; // prefer even guesses for `tabSize`, limit to [2, 8].\n    const MAX_ALLOWED_TAB_SIZE_GUESS = 8; // max(ALLOWED_TAB_SIZE_GUESSES) = 8\n    const spacesDiffCount = [0, 0, 0, 0, 0, 0, 0, 0, 0]; // `tabSize` scores\n    const tmp = new SpacesDiffResult();\n    for (let lineNumber = 1; lineNumber <= linesCount; lineNumber++) {\n        const currentLineLength = source.getLineLength(lineNumber);\n        const currentLineText = source.getLineContent(lineNumber);\n        // if the text buffer is chunk based, so long lines are cons-string, v8 will flattern the string when we check charCode.\n        // checking charCode on chunks directly is cheaper.\n        const useCurrentLineText = currentLineLength <= 65536;\n        let currentLineHasContent = false; // does `currentLineText` contain non-whitespace chars\n        let currentLineIndentation = 0; // index at which `currentLineText` contains the first non-whitespace char\n        let currentLineSpacesCount = 0; // count of spaces found in `currentLineText` indentation\n        let currentLineTabsCount = 0; // count of tabs found in `currentLineText` indentation\n        for (let j = 0, lenJ = currentLineLength; j < lenJ; j++) {\n            const charCode = useCurrentLineText ? currentLineText.charCodeAt(j) : source.getLineCharCode(lineNumber, j);\n            if (charCode === 9 /* Tab */) {\n                currentLineTabsCount++;\n            }\n            else if (charCode === 32 /* Space */) {\n                currentLineSpacesCount++;\n            }\n            else {\n                // Hit non whitespace character on this line\n                currentLineHasContent = true;\n                currentLineIndentation = j;\n                break;\n            }\n        }\n        // Ignore empty or only whitespace lines\n        if (!currentLineHasContent) {\n            continue;\n        }\n        if (currentLineTabsCount > 0) {\n            linesIndentedWithTabsCount++;\n        }\n        else if (currentLineSpacesCount > 1) {\n            linesIndentedWithSpacesCount++;\n        }\n        spacesDiff(previousLineText, previousLineIndentation, currentLineText, currentLineIndentation, tmp);\n        if (tmp.looksLikeAlignment) {\n            // if defaultInsertSpaces === true && the spaces count == tabSize, we may want to count it as valid indentation\n            //\n            // - item1\n            //   - item2\n            //\n            // otherwise skip this line entirely\n            //\n            // const a = 1,\n            //       b = 2;\n            if (!(defaultInsertSpaces && defaultTabSize === tmp.spacesDiff)) {\n                continue;\n            }\n        }\n        const currentSpacesDiff = tmp.spacesDiff;\n        if (currentSpacesDiff <= MAX_ALLOWED_TAB_SIZE_GUESS) {\n            spacesDiffCount[currentSpacesDiff]++;\n        }\n        previousLineText = currentLineText;\n        previousLineIndentation = currentLineIndentation;\n    }\n    let insertSpaces = defaultInsertSpaces;\n    if (linesIndentedWithTabsCount !== linesIndentedWithSpacesCount) {\n        insertSpaces = linesIndentedWithTabsCount < linesIndentedWithSpacesCount;\n    }\n    let tabSize = defaultTabSize;\n    // Guess tabSize only if inserting spaces...\n    if (insertSpaces) {\n        let tabSizeScore = insertSpaces ? 0 : 0.1 * linesCount;\n        // console.log(\"score threshold: \" + tabSizeScore);\n        ALLOWED_TAB_SIZE_GUESSES.forEach((possibleTabSize) => {\n            const possibleTabSizeScore = spacesDiffCount[possibleTabSize];\n            if (possibleTabSizeScore > tabSizeScore) {\n                tabSizeScore = possibleTabSizeScore;\n                tabSize = possibleTabSize;\n            }\n        });\n        // Let a tabSize of 2 win even if it is not the maximum\n        // (only in case 4 was guessed)\n        if (tabSize === 4 && spacesDiffCount[4] > 0 && spacesDiffCount[2] > 0 && spacesDiffCount[2] >= spacesDiffCount[4] / 2) {\n            tabSize = 2;\n        }\n    }\n    // console.log('--------------------------');\n    // console.log('linesIndentedWithTabsCount: ' + linesIndentedWithTabsCount + ', linesIndentedWithSpacesCount: ' + linesIndentedWithSpacesCount);\n    // console.log('spacesDiffCount: ' + spacesDiffCount);\n    // console.log('tabSize: ' + tabSize + ', tabSizeScore: ' + tabSizeScore);\n    return {\n        insertSpaces: insertSpaces,\n        tabSize: tabSize,\n    };\n}\nexports.guessIndentation = guessIndentation;\n//# sourceMappingURL=indentationGuesser.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nclass TextBuffer {\n    constructor(doc) {\n        this.doc = doc;\n    }\n    getLineCount() {\n        return this.doc.lineCount;\n    }\n    getLineLength(lineNumber) {\n        const lineOffsets = this.doc.getLineOffsets();\n        if (lineNumber >= lineOffsets.length) {\n            return this.doc.getText().length;\n        }\n        else if (lineNumber < 0) {\n            return 0;\n        }\n        const nextLineOffset = lineNumber + 1 < lineOffsets.length ? lineOffsets[lineNumber + 1] : this.doc.getText().length;\n        return nextLineOffset - lineOffsets[lineNumber];\n    }\n    getLineContent(lineNumber) {\n        const lineOffsets = this.doc.getLineOffsets();\n        if (lineNumber >= lineOffsets.length) {\n            return this.doc.getText();\n        }\n        else if (lineNumber < 0) {\n            return '';\n        }\n        const nextLineOffset = lineNumber + 1 < lineOffsets.length ? lineOffsets[lineNumber + 1] : this.doc.getText().length;\n        return this.doc.getText().substring(lineOffsets[lineNumber], nextLineOffset);\n    }\n    getLineCharCode(lineNumber, index) {\n        return this.doc.getText(vscode_languageserver_types_1.Range.create(lineNumber - 1, index - 1, lineNumber - 1, index)).charCodeAt(0);\n    }\n}\nexports.TextBuffer = TextBuffer;\n//# sourceMappingURL=textBuffer.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst arrUtils_1 = require(\"../utils/arrUtils\");\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst jsonHover_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonHover\");\nconst isKubernetes_1 = require(\"../parser/isKubernetes\");\nclass YAMLHover {\n    constructor(schemaService) {\n        this.shouldHover = true;\n        this.jsonHover = new jsonHover_1.JSONHover(schemaService, [], Promise);\n    }\n    configure(languageSettings) {\n        if (languageSettings) {\n            this.shouldHover = languageSettings.hover;\n        }\n    }\n    doHover(document, position, isKubernetes = false) {\n        if (!this.shouldHover || !document) {\n            return Promise.resolve(undefined);\n        }\n        const doc = yamlParser07_1.parse(document.getText());\n        const offset = document.offsetAt(position);\n        const currentDoc = arrUtils_1.matchOffsetToDocument(offset, doc);\n        if (currentDoc === null) {\n            return Promise.resolve(undefined);\n        }\n        isKubernetes_1.setKubernetesParserOption(doc.documents, isKubernetes);\n        const currentDocIndex = doc.documents.indexOf(currentDoc);\n        currentDoc.currentDocIndex = currentDocIndex;\n        return this.jsonHover.doHover(document, position, currentDoc);\n    }\n}\nexports.YAMLHover = YAMLHover;\n//# sourceMappingURL=yamlHover.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONHover = void 0;\nvar Parser = require(\"../parser/jsonParser\");\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nvar JSONHover = /** @class */ (function () {\n    function JSONHover(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONHover.prototype.doHover = function (document, position, doc) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset);\n        if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n            return this.promise.resolve(null);\n        }\n        var hoverRangeNode = node;\n        // use the property description when hovering over an object key\n        if (node.type === 'string') {\n            var parent = node.parent;\n            if (parent && parent.type === 'property' && parent.keyNode === node) {\n                node = parent.valueNode;\n                if (!node) {\n                    return this.promise.resolve(null);\n                }\n            }\n        }\n        var hoverRange = jsonLanguageTypes_1.Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n        var createHover = function (contents) {\n            var result = {\n                contents: contents,\n                range: hoverRange\n            };\n            return result;\n        };\n        var location = Parser.getNodePath(node);\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var contribution = this.contributions[i];\n            var promise = contribution.getInfoContribution(document.uri, location);\n            if (promise) {\n                return promise.then(function (htmlContent) { return createHover(htmlContent); });\n            }\n        }\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            if (schema && node) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n                var title_1 = undefined;\n                var markdownDescription_1 = undefined;\n                var markdownEnumValueDescription_1 = undefined, enumValue_1 = undefined;\n                matchingSchemas.every(function (s) {\n                    if (s.node === node && !s.inverted && s.schema) {\n                        title_1 = title_1 || s.schema.title;\n                        markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n                        if (s.schema.enum) {\n                            var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n                            if (s.schema.markdownEnumDescriptions) {\n                                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n                            }\n                            else if (s.schema.enumDescriptions) {\n                                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n                            }\n                            if (markdownEnumValueDescription_1) {\n                                enumValue_1 = s.schema.enum[idx];\n                                if (typeof enumValue_1 !== 'string') {\n                                    enumValue_1 = JSON.stringify(enumValue_1);\n                                }\n                            }\n                        }\n                    }\n                    return true;\n                });\n                var result = '';\n                if (title_1) {\n                    result = toMarkdown(title_1);\n                }\n                if (markdownDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += markdownDescription_1;\n                }\n                if (markdownEnumValueDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += \"`\" + toMarkdownCodeBlock(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n                }\n                return createHover([result]);\n            }\n            return null;\n        });\n    };\n    return JSONHover;\n}());\nexports.JSONHover = JSONHover;\nfunction toMarkdown(plain) {\n    if (plain) {\n        var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n        return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    return undefined;\n}\nfunction toMarkdownCodeBlock(content) {\n    // see https://daringfireball.net/projects/markdown/syntax#precode\n    if (content.indexOf('`') !== -1) {\n        return '`` ' + content + ' ``';\n    }\n    return content;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst jsonValidation_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonValidation\");\nconst jsonParser07_1 = require(\"../parser/jsonParser07\");\n/**\n * Convert a YAMLDocDiagnostic to a language server Diagnostic\n * @param yamlDiag A YAMLDocDiagnostic from the parser\n * @param textDocument TextDocument from the language server client\n */\nexports.yamlDiagToLSDiag = (yamlDiag, textDocument) => {\n    const range = {\n        start: textDocument.positionAt(yamlDiag.location.start),\n        end: textDocument.positionAt(yamlDiag.location.end),\n    };\n    return vscode_languageserver_types_1.Diagnostic.create(range, yamlDiag.message, yamlDiag.severity, undefined, jsonParser07_1.YAML_SOURCE);\n};\nclass YAMLValidation {\n    constructor(schemaService) {\n        this.MATCHES_MULTIPLE = 'Matches multiple schemas when only one must validate.';\n        this.validationEnabled = true;\n        this.jsonValidation = new jsonValidation_1.JSONValidation(schemaService, Promise);\n    }\n    configure(settings) {\n        if (settings) {\n            this.validationEnabled = settings.validate;\n            this.customTags = settings.customTags;\n        }\n    }\n    doValidation(textDocument, isKubernetes = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.validationEnabled) {\n                return Promise.resolve([]);\n            }\n            const yamlDocument = yamlParser07_1.parse(textDocument.getText(), this.customTags);\n            const validationResult = [];\n            let index = 0;\n            for (const currentYAMLDoc of yamlDocument.documents) {\n                currentYAMLDoc.isKubernetes = isKubernetes;\n                currentYAMLDoc.currentDocIndex = index;\n                const validation = yield this.jsonValidation.doValidation(textDocument, currentYAMLDoc);\n                const syd = currentYAMLDoc;\n                if (syd.errors.length > 0) {\n                    // TODO: Get rid of these type assertions (shouldn't need them)\n                    validationResult.push(...syd.errors);\n                }\n                if (syd.warnings.length > 0) {\n                    validationResult.push(...syd.warnings);\n                }\n                validationResult.push(...validation);\n                index++;\n            }\n            const foundSignatures = new Set();\n            const duplicateMessagesRemoved = [];\n            for (let err of validationResult) {\n                /**\n                 * A patch ontop of the validation that removes the\n                 * 'Matches many schemas' error for kubernetes\n                 * for a better user experience.\n                 */\n                if (isKubernetes && err.message === this.MATCHES_MULTIPLE) {\n                    continue;\n                }\n                if (Object.prototype.hasOwnProperty.call(err, 'location')) {\n                    err = exports.yamlDiagToLSDiag(err, textDocument);\n                }\n                if (!err.source) {\n                    err.source = jsonParser07_1.YAML_SOURCE;\n                }\n                const errSig = err.range.start.line + ' ' + err.range.start.character + ' ' + err.message;\n                if (!foundSignatures.has(errSig)) {\n                    duplicateMessagesRemoved.push(err);\n                    foundSignatures.add(errSig);\n                }\n            }\n            return duplicateMessagesRemoved;\n        });\n    }\n}\nexports.YAMLValidation = YAMLValidation;\n//# sourceMappingURL=yamlValidation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONValidation = void 0;\nvar jsonSchemaService_1 = require(\"./jsonSchemaService\");\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nvar nls = require(\"vscode-nls\");\nvar objects_1 = require(\"../utils/objects\");\nvar localize = nls.loadMessageBundle();\nvar JSONValidation = /** @class */ (function () {\n    function JSONValidation(jsonSchemaService, promiseConstructor) {\n        this.jsonSchemaService = jsonSchemaService;\n        this.promise = promiseConstructor;\n        this.validationEnabled = true;\n    }\n    JSONValidation.prototype.configure = function (raw) {\n        if (raw) {\n            this.validationEnabled = raw.validate;\n            this.commentSeverity = raw.allowComments ? undefined : jsonLanguageTypes_1.DiagnosticSeverity.Error;\n        }\n    };\n    JSONValidation.prototype.doValidation = function (textDocument, jsonDocument, documentSettings, schema) {\n        var _this = this;\n        if (!this.validationEnabled) {\n            return this.promise.resolve([]);\n        }\n        var diagnostics = [];\n        var added = {};\n        var addProblem = function (problem) {\n            // remove duplicated messages\n            var signature = problem.range.start.line + ' ' + problem.range.start.character + ' ' + problem.message;\n            if (!added[signature]) {\n                added[signature] = true;\n                diagnostics.push(problem);\n            }\n        };\n        var getDiagnostics = function (schema) {\n            var trailingCommaSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.trailingCommas) : jsonLanguageTypes_1.DiagnosticSeverity.Error;\n            var commentSeverity = documentSettings ? toDiagnosticSeverity(documentSettings.comments) : _this.commentSeverity;\n            var schemaValidation = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaValidation) ? toDiagnosticSeverity(documentSettings.schemaValidation) : jsonLanguageTypes_1.DiagnosticSeverity.Warning;\n            var schemaRequest = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaRequest) ? toDiagnosticSeverity(documentSettings.schemaRequest) : jsonLanguageTypes_1.DiagnosticSeverity.Warning;\n            if (schema) {\n                if (schema.errors.length && jsonDocument.root && schemaRequest) {\n                    var astRoot = jsonDocument.root;\n                    var property = astRoot.type === 'object' ? astRoot.properties[0] : undefined;\n                    if (property && property.keyNode.value === '$schema') {\n                        var node = property.valueNode || property;\n                        var range = jsonLanguageTypes_1.Range.create(textDocument.positionAt(node.offset), textDocument.positionAt(node.offset + node.length));\n                        addProblem(jsonLanguageTypes_1.Diagnostic.create(range, schema.errors[0], schemaRequest, jsonLanguageTypes_1.ErrorCode.SchemaResolveError));\n                    }\n                    else {\n                        var range = jsonLanguageTypes_1.Range.create(textDocument.positionAt(astRoot.offset), textDocument.positionAt(astRoot.offset + 1));\n                        addProblem(jsonLanguageTypes_1.Diagnostic.create(range, schema.errors[0], schemaRequest, jsonLanguageTypes_1.ErrorCode.SchemaResolveError));\n                    }\n                }\n                else if (schemaValidation) {\n                    var semanticErrors = jsonDocument.validate(textDocument, schema.schema, schemaValidation);\n                    if (semanticErrors) {\n                        semanticErrors.forEach(addProblem);\n                    }\n                }\n                if (schemaAllowsComments(schema.schema)) {\n                    commentSeverity = undefined;\n                }\n                if (schemaAllowsTrailingCommas(schema.schema)) {\n                    trailingCommaSeverity = undefined;\n                }\n            }\n            for (var _i = 0, _a = jsonDocument.syntaxErrors; _i < _a.length; _i++) {\n                var p = _a[_i];\n                if (p.code === jsonLanguageTypes_1.ErrorCode.TrailingComma) {\n                    if (typeof trailingCommaSeverity !== 'number') {\n                        continue;\n                    }\n                    p.severity = trailingCommaSeverity;\n                }\n                addProblem(p);\n            }\n            if (typeof commentSeverity === 'number') {\n                var message_1 = localize('InvalidCommentToken', 'Comments are not permitted in JSON.');\n                jsonDocument.comments.forEach(function (c) {\n                    addProblem(jsonLanguageTypes_1.Diagnostic.create(c, message_1, commentSeverity, jsonLanguageTypes_1.ErrorCode.CommentNotPermitted));\n                });\n            }\n            return diagnostics;\n        };\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/' + idCounter++);\n            return this.jsonSchemaService.resolveSchemaContent(new jsonSchemaService_1.UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return getDiagnostics(resolvedSchema);\n            });\n        }\n        return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function (schema) {\n            return getDiagnostics(schema);\n        });\n    };\n    return JSONValidation;\n}());\nexports.JSONValidation = JSONValidation;\nvar idCounter = 0;\nfunction schemaAllowsComments(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (objects_1.isBoolean(schemaRef.allowComments)) {\n            return schemaRef.allowComments;\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsComments(schema);\n                if (objects_1.isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction schemaAllowsTrailingCommas(schemaRef) {\n    if (schemaRef && typeof schemaRef === 'object') {\n        if (objects_1.isBoolean(schemaRef.allowTrailingCommas)) {\n            return schemaRef.allowTrailingCommas;\n        }\n        var deprSchemaRef = schemaRef;\n        if (objects_1.isBoolean(deprSchemaRef['allowsTrailingCommas'])) { // deprecated\n            return deprSchemaRef['allowsTrailingCommas'];\n        }\n        if (schemaRef.allOf) {\n            for (var _i = 0, _a = schemaRef.allOf; _i < _a.length; _i++) {\n                var schema = _a[_i];\n                var allow = schemaAllowsTrailingCommas(schema);\n                if (objects_1.isBoolean(allow)) {\n                    return allow;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction toDiagnosticSeverity(severityLevel) {\n    switch (severityLevel) {\n        case 'error': return jsonLanguageTypes_1.DiagnosticSeverity.Error;\n        case 'warning': return jsonLanguageTypes_1.DiagnosticSeverity.Warning;\n        case 'ignore': return undefined;\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Adam Voss. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst prettier = require(\"prettier\");\nconst parser = require(\"prettier/parser-yaml\");\nclass YAMLFormatter {\n    constructor() {\n        this.formatterEnabled = true;\n    }\n    configure(shouldFormat) {\n        if (shouldFormat) {\n            this.formatterEnabled = shouldFormat.format;\n        }\n    }\n    format(document, options) {\n        if (!this.formatterEnabled) {\n            return [];\n        }\n        try {\n            const text = document.getText();\n            const prettierOptions = {\n                parser: 'yaml',\n                plugins: [parser],\n                // --- FormattingOptions ---\n                tabWidth: options.tabWidth || options.tabSize,\n                // --- CustomFormatterOptions ---\n                singleQuote: options.singleQuote,\n                bracketSpacing: options.bracketSpacing,\n                // 'preserve' is the default for Options.proseWrap. See also server.ts\n                proseWrap: 'always' === options.proseWrap ? 'always' : 'never' === options.proseWrap ? 'never' : 'preserve',\n                printWidth: options.printWidth,\n            };\n            const formatted = prettier.format(text, prettierOptions);\n            return [vscode_languageserver_types_1.TextEdit.replace(vscode_languageserver_types_1.Range.create(vscode_languageserver_types_1.Position.create(0, 0), document.positionAt(text.length)), formatted)];\n        }\n        catch (error) {\n            return [];\n        }\n    }\n}\nexports.YAMLFormatter = YAMLFormatter;\n//# sourceMappingURL=yamlFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yamlParser07_1 = require(\"../parser/yamlParser07\");\nconst jsonLinks_1 = require(\"vscode-json-languageservice/lib/umd/services/jsonLinks\");\nfunction findLinks(document) {\n    const doc = yamlParser07_1.parse(document.getText());\n    // Find links across all YAML Documents then report them back once finished\n    const linkPromises = [];\n    for (const yamlDoc of doc.documents) {\n        linkPromises.push(jsonLinks_1.findLinks(document, yamlDoc));\n    }\n    // Wait for all the promises to return and then flatten them into one DocumentLink array\n    return Promise.all(linkPromises).then((yamlLinkArray) => [].concat(...yamlLinkArray));\n}\nexports.findLinks = findLinks;\n//# sourceMappingURL=yamlLinks.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findLinks = void 0;\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nfunction findLinks(document, doc) {\n    var links = [];\n    doc.visit(function (node) {\n        var _a;\n        if (node.type === \"property\" && node.keyNode.value === \"$ref\" && ((_a = node.valueNode) === null || _a === void 0 ? void 0 : _a.type) === 'string') {\n            var path = node.valueNode.value;\n            var targetNode = findTargetNode(doc, path);\n            if (targetNode) {\n                var targetPos = document.positionAt(targetNode.offset);\n                links.push({\n                    target: document.uri + \"#\" + (targetPos.line + 1) + \",\" + (targetPos.character + 1),\n                    range: createRange(document, node.valueNode)\n                });\n            }\n        }\n        return true;\n    });\n    return Promise.resolve(links);\n}\nexports.findLinks = findLinks;\nfunction createRange(document, node) {\n    return jsonLanguageTypes_1.Range.create(document.positionAt(node.offset + 1), document.positionAt(node.offset + node.length - 1));\n}\nfunction findTargetNode(doc, path) {\n    var tokens = parseJSONPointer(path);\n    if (!tokens) {\n        return null;\n    }\n    return findNode(tokens, doc.root);\n}\nfunction findNode(pointer, node) {\n    if (!node) {\n        return null;\n    }\n    if (pointer.length === 0) {\n        return node;\n    }\n    var token = pointer.shift();\n    if (node && node.type === 'object') {\n        var propertyNode = node.properties.find(function (propertyNode) { return propertyNode.keyNode.value === token; });\n        if (!propertyNode) {\n            return null;\n        }\n        return findNode(pointer, propertyNode.valueNode);\n    }\n    else if (node && node.type === 'array') {\n        if (token.match(/^(0|[1-9][0-9]*)$/)) {\n            var index = Number.parseInt(token);\n            var arrayItem = node.items[index];\n            if (!arrayItem) {\n                return null;\n            }\n            return findNode(pointer, arrayItem);\n        }\n    }\n    return null;\n}\nfunction parseJSONPointer(path) {\n    if (path === \"#\") {\n        return [];\n    }\n    if (path[0] !== '#' || path[1] !== '/') {\n        return null;\n    }\n    return path.substring(2).split(/\\//).map(unescape);\n}\nfunction unescape(str) {\n    return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.red)\n            && Is.number(candidate.green)\n            && Is.number(candidate.blue)\n            && Is.number(candidate.alpha);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The DiagnosticCode namespace provides functions to deal with complex diagnostic codes.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var DiagnosticCode;\n(function (DiagnosticCode) {\n    /**\n     * Checks whether the given liternal conforms to the [DiagnosticCode](#DiagnosticCode) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (DiagnosticCode = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits) {\n        this.edits = edits;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\n        this.edits.push(TextEdit.insert(position, newText));\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\n        this.edits.push(TextEdit.replace(range, newText));\n    };\n    TextEditChangeImpl.prototype.delete = function (range) {\n        this.edits.push(TextEdit.del(range));\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            if (this._workspaceEdit === undefined) {\n                return { documentChanges: [] };\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (VersionedTextDocumentIdentifier.is(key)) {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    documentChanges: []\n                };\n            }\n            if (!this._workspaceEdit.documentChanges) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = key;\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    changes: Object.create(null)\n                };\n            }\n            if (!this._workspaceEdit.changes) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.15\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== void 0) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === void 0 || Array.isArray(candidate.children)) &&\n            (candidate.tags === void 0 || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== void 0 && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, commandOrEdit, kind) {\n        var result = { title: title };\n        if (Command.is(commandOrEdit)) {\n            result.command = commandOrEdit;\n        }\n        else {\n            result.edit = commandOrEdit;\n        }\n        if (kind !== void 0) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar YAMLException = require(\"./exception\");\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n    'kind',\n    'resolve',\n    'construct',\n    'instanceOf',\n    'predicate',\n    'represent',\n    'defaultStyle',\n    'styleAliases'\n];\nvar YAML_NODE_KINDS = [\n    'scalar',\n    'sequence',\n    'mapping'\n];\nfunction compileStyleAliases(map) {\n    var result = {};\n    if (null !== map) {\n        Object.keys(map).forEach(function (style) {\n            map[style].forEach(function (alias) {\n                result[String(alias)] = style;\n            });\n        });\n    }\n    return result;\n}\nvar Type = (function () {\n    function Type(tag, options) {\n        options = options || {};\n        Object.keys(options).forEach(function (name) {\n            if (-1 === TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)) {\n                throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n            }\n        });\n        this.tag = tag;\n        this.kind = options['kind'] || null;\n        this.resolve = options['resolve'] || function () { return true; };\n        this.construct = options['construct'] || function (data) { return data; };\n        this.instanceOf = options['instanceOf'] || null;\n        this.predicate = options['predicate'] || null;\n        this.represent = options['represent'] || null;\n        this.defaultStyle = options['defaultStyle'] || null;\n        this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n        if (-1 === YAML_NODE_KINDS.indexOf(this.kind)) {\n            throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n        }\n    }\n    return Type;\n}());\nexports.Type = Type;\n//# sourceMappingURL=type.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst YAMLException = require(\"./exception\");\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n    'kind',\n    'resolve',\n    'construct',\n    'instanceOf',\n    'predicate',\n    'represent',\n    'defaultStyle',\n    'styleAliases'\n];\nvar YAML_NODE_KINDS = [\n    'scalar',\n    'sequence',\n    'mapping'\n];\nfunction compileStyleAliases(map) {\n    var result = {};\n    if (null !== map) {\n        Object.keys(map).forEach(function (style) {\n            map[style].forEach(function (alias) {\n                result[String(alias)] = style;\n            });\n        });\n    }\n    return result;\n}\nclass Type {\n    constructor(tag, options) {\n        options = options || {};\n        Object.keys(options).forEach(function (name) {\n            if (-1 === TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)) {\n                throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n            }\n        });\n        this.tag = tag;\n        this.kind = options['kind'] || null;\n        this.resolve = options['resolve'] || function () { return true; };\n        this.construct = options['construct'] || function (data) { return data; };\n        this.instanceOf = options['instanceOf'] || null;\n        this.predicate = options['predicate'] || null;\n        this.represent = options['represent'] || null;\n        this.defaultStyle = options['defaultStyle'] || null;\n        this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n        if (-1 === YAML_NODE_KINDS.indexOf(this.kind)) {\n            throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n        }\n    }\n}\nexports.Type = Type;\n//# sourceMappingURL=type.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range, TextEdit, Color, ColorInformation, ColorPresentation, FoldingRange, FoldingRangeKind, MarkupKind, SelectionRange, Diagnostic, DiagnosticSeverity, CompletionItem, CompletionItemKind, CompletionList, Position, InsertTextFormat, MarkupContent, SymbolInformation, SymbolKind, DocumentSymbol, Location, Hover, MarkedString, FormattingOptions } from 'vscode-languageserver-types';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nexport { TextDocument, Range, TextEdit, Color, ColorInformation, ColorPresentation, FoldingRange, FoldingRangeKind, SelectionRange, Diagnostic, DiagnosticSeverity, CompletionItem, CompletionItemKind, CompletionList, Position, InsertTextFormat, MarkupContent, MarkupKind, SymbolInformation, SymbolKind, DocumentSymbol, Location, Hover, MarkedString, FormattingOptions };\n/**\n * Error codes used by diagnostics\n */\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"Undefined\"] = 0] = \"Undefined\";\n    ErrorCode[ErrorCode[\"EnumValueMismatch\"] = 1] = \"EnumValueMismatch\";\n    ErrorCode[ErrorCode[\"Deprecated\"] = 2] = \"Deprecated\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfComment\"] = 257] = \"UnexpectedEndOfComment\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfString\"] = 258] = \"UnexpectedEndOfString\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfNumber\"] = 259] = \"UnexpectedEndOfNumber\";\n    ErrorCode[ErrorCode[\"InvalidUnicode\"] = 260] = \"InvalidUnicode\";\n    ErrorCode[ErrorCode[\"InvalidEscapeCharacter\"] = 261] = \"InvalidEscapeCharacter\";\n    ErrorCode[ErrorCode[\"InvalidCharacter\"] = 262] = \"InvalidCharacter\";\n    ErrorCode[ErrorCode[\"PropertyExpected\"] = 513] = \"PropertyExpected\";\n    ErrorCode[ErrorCode[\"CommaExpected\"] = 514] = \"CommaExpected\";\n    ErrorCode[ErrorCode[\"ColonExpected\"] = 515] = \"ColonExpected\";\n    ErrorCode[ErrorCode[\"ValueExpected\"] = 516] = \"ValueExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBacketExpected\"] = 517] = \"CommaOrCloseBacketExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBraceExpected\"] = 518] = \"CommaOrCloseBraceExpected\";\n    ErrorCode[ErrorCode[\"TrailingComma\"] = 519] = \"TrailingComma\";\n    ErrorCode[ErrorCode[\"DuplicateKey\"] = 520] = \"DuplicateKey\";\n    ErrorCode[ErrorCode[\"CommentNotPermitted\"] = 521] = \"CommentNotPermitted\";\n    ErrorCode[ErrorCode[\"SchemaResolveError\"] = 768] = \"SchemaResolveError\";\n})(ErrorCode || (ErrorCode = {}));\nexport var ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText],\n                    commitCharactersSupport: true\n                }\n            }\n        }\n    };\n})(ClientCapabilities || (ClientCapabilities = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as formatter from './impl/format';\nimport * as edit from './impl/edit';\nimport * as scanner from './impl/scanner';\nimport * as parser from './impl/parser';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport var createScanner = scanner.createScanner;\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport var getLocation = parser.getLocation;\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nexport var parse = parser.parse;\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport var parseTree = parser.parseTree;\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport var findNodeAtLocation = parser.findNodeAtLocation;\n/**\n * Finds the innermost node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport var findNodeAtOffset = parser.findNodeAtOffset;\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport var getNodePath = parser.getNodePath;\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport var getNodeValue = parser.getNodeValue;\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport var visit = parser.visit;\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport var stripComments = parser.stripComments;\nexport function printParseErrorCode(code) {\n    switch (code) {\n        case 1 /* InvalidSymbol */: return 'InvalidSymbol';\n        case 2 /* InvalidNumberFormat */: return 'InvalidNumberFormat';\n        case 3 /* PropertyNameExpected */: return 'PropertyNameExpected';\n        case 4 /* ValueExpected */: return 'ValueExpected';\n        case 5 /* ColonExpected */: return 'ColonExpected';\n        case 6 /* CommaExpected */: return 'CommaExpected';\n        case 7 /* CloseBraceExpected */: return 'CloseBraceExpected';\n        case 8 /* CloseBracketExpected */: return 'CloseBracketExpected';\n        case 9 /* EndOfFileExpected */: return 'EndOfFileExpected';\n        case 10 /* InvalidCommentToken */: return 'InvalidCommentToken';\n        case 11 /* UnexpectedEndOfComment */: return 'UnexpectedEndOfComment';\n        case 12 /* UnexpectedEndOfString */: return 'UnexpectedEndOfString';\n        case 13 /* UnexpectedEndOfNumber */: return 'UnexpectedEndOfNumber';\n        case 14 /* InvalidUnicode */: return 'InvalidUnicode';\n        case 15 /* InvalidEscapeCharacter */: return 'InvalidEscapeCharacter';\n        case 16 /* InvalidCharacter */: return 'InvalidCharacter';\n    }\n    return '<unknown ParseErrorCode>';\n}\n/**\n * Computes the edits needed to format a JSON document.\n *\n * @param documentText The input text\n * @param range The range to format or `undefined` to format the full content\n * @param options The formatting options\n * @returns A list of edit operations describing the formatting changes to the original document. Edits can be either inserts, replacements or\n * removals of text segments. All offsets refer to the original state of the document. No two edits must change or remove the same range of\n * text in the original document. However, multiple edits can have\n * the same offset, for example multiple inserts, or an insert followed by a remove or replace. The order in the array defines which edit is applied first.\n * To apply edits to an input, you can use `applyEdits`.\n */\nexport function format(documentText, range, options) {\n    return formatter.format(documentText, range, options);\n}\n/**\n * Computes the edits needed to modify a value in the JSON document.\n *\n * @param documentText The input text\n * @param path The path of the value to change. The path represents either to the document root, a property or an array item.\n * If the path points to an non-existing property or item, it will be created.\n * @param value The new value for the specified property or item. If the value is undefined,\n * the property or item will be removed.\n * @param options Options\n * @returns A list of edit operations describing the formatting changes to the original document. Edits can be either inserts, replacements or\n * removals of text segments. All offsets refer to the original state of the document. No two edits must change or remove the same range of\n * text in the original document. However, multiple edits can have\n * the same offset, for example multiple inserts, or an insert followed by a remove or replace. The order in the array defines which edit is applied first.\n * To apply edits to an input, you can use `applyEdits`.\n */\nexport function modify(text, path, value, options) {\n    return edit.setProperty(text, path, value, options);\n}\n/**\n * Applies edits to a input string.\n */\nexport function applyEdits(text, edits) {\n    for (var i = edits.length - 1; i >= 0; i--) {\n        text = edit.applyEdit(text, edits[i]);\n    }\n    return text;\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = void 0;\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nfunction loadMessageBundle(_file) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (typeof key === 'number') {\n            throw new Error(\"Browser implementation does currently not support externalized strings.\");\n        }\n        else {\n            return common_1.localize.apply(void 0, __spreadArrays([key, message], args));\n        }\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(options) {\n    common_1.setPseudo((options === null || options === void 0 ? void 0 : options.locale.toLowerCase()) === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The diagnostic tags.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var DiagnosticTag;\r\n(function (DiagnosticTag) {\r\n    /**\r\n     * Unused or unnecessary code.\r\n     *\r\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n     * an error squiggle.\r\n     */\r\n    DiagnosticTag.Unnecessary = 1;\r\n    /**\r\n     * Deprecated or obsolete code.\r\n     *\r\n     * Clients are allowed to rendered diagnostics with this tag strike through.\r\n     */\r\n    DiagnosticTag.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * Completion item tags are extra annotations that tweak the rendering of a completion\r\n * item.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    /**\r\n     * Render a completion as obsolete, usually using a strike-out.\r\n     */\r\n    CompletionItemTag.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\n/**\r\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n * @since 3.15\r\n */\r\nexport var SymbolTag;\r\n(function (SymbolTag) {\r\n    /**\r\n     * Render a symbol as obsolete, usually using a strike-out.\r\n     */\r\n    SymbolTag.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nexport var DocumentSymbol;\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Empty kind.\r\n     */\r\n    CodeActionKind.Empty = '';\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n    /**\r\n     * Base kind for auto-fix source actions: `source.fixAll`.\r\n     *\r\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    CodeActionKind.SourceFixAll = 'source.fixAll';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void 0) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data)) {\r\n            result.data = data;\r\n        }\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\nexport var DocumentLink;\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\n/**\r\n * The SelectionRange namespace provides helper function to work with\r\n * SelectionRange literals.\r\n */\r\nexport var SelectionRange;\r\n(function (SelectionRange) {\r\n    /**\r\n     * Creates a new SelectionRange\r\n     * @param range the range.\r\n     * @param parent an optional parent.\r\n     */\r\n    function create(range, parent) {\r\n        return { range: range, parent: parent };\r\n    }\r\n    SelectionRange.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n    }\r\n    SelectionRange.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = undefined;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isNothing(subject) {\n    return (typeof subject === 'undefined') || (null === subject);\n}\nexports.isNothing = isNothing;\nfunction isObject(subject) {\n    return (typeof subject === 'object') && (null !== subject);\n}\nexports.isObject = isObject;\nfunction toArray(sequence) {\n    if (Array.isArray(sequence)) {\n        return sequence;\n    }\n    else if (isNothing(sequence)) {\n        return [];\n    }\n    return [sequence];\n}\nexports.toArray = toArray;\nfunction extend(target, source) {\n    var index, length, key, sourceKeys;\n    if (source) {\n        sourceKeys = Object.keys(source);\n        for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n            key = sourceKeys[index];\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexports.extend = extend;\nfunction repeat(string, count) {\n    var result = '', cycle;\n    for (cycle = 0; cycle < count; cycle += 1) {\n        result += string;\n    }\n    return result;\n}\nexports.repeat = repeat;\nfunction isNegativeZero(number) {\n    return (0 === number) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\nexports.isNegativeZero = isNegativeZero;\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientCapabilities = exports.ErrorCode = exports.FormattingOptions = exports.MarkedString = exports.Hover = exports.Location = exports.DocumentSymbol = exports.SymbolKind = exports.SymbolInformation = exports.MarkupKind = exports.MarkupContent = exports.InsertTextFormat = exports.Position = exports.CompletionList = exports.CompletionItemKind = exports.CompletionItem = exports.DiagnosticSeverity = exports.Diagnostic = exports.SelectionRange = exports.FoldingRangeKind = exports.FoldingRange = exports.ColorPresentation = exports.ColorInformation = exports.Color = exports.TextEdit = exports.Range = exports.TextDocument = void 0;\nvar vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nObject.defineProperty(exports, \"Range\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Range; } });\nObject.defineProperty(exports, \"TextEdit\", { enumerable: true, get: function () { return vscode_languageserver_types_1.TextEdit; } });\nObject.defineProperty(exports, \"Color\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Color; } });\nObject.defineProperty(exports, \"ColorInformation\", { enumerable: true, get: function () { return vscode_languageserver_types_1.ColorInformation; } });\nObject.defineProperty(exports, \"ColorPresentation\", { enumerable: true, get: function () { return vscode_languageserver_types_1.ColorPresentation; } });\nObject.defineProperty(exports, \"FoldingRange\", { enumerable: true, get: function () { return vscode_languageserver_types_1.FoldingRange; } });\nObject.defineProperty(exports, \"FoldingRangeKind\", { enumerable: true, get: function () { return vscode_languageserver_types_1.FoldingRangeKind; } });\nObject.defineProperty(exports, \"MarkupKind\", { enumerable: true, get: function () { return vscode_languageserver_types_1.MarkupKind; } });\nObject.defineProperty(exports, \"SelectionRange\", { enumerable: true, get: function () { return vscode_languageserver_types_1.SelectionRange; } });\nObject.defineProperty(exports, \"Diagnostic\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Diagnostic; } });\nObject.defineProperty(exports, \"DiagnosticSeverity\", { enumerable: true, get: function () { return vscode_languageserver_types_1.DiagnosticSeverity; } });\nObject.defineProperty(exports, \"CompletionItem\", { enumerable: true, get: function () { return vscode_languageserver_types_1.CompletionItem; } });\nObject.defineProperty(exports, \"CompletionItemKind\", { enumerable: true, get: function () { return vscode_languageserver_types_1.CompletionItemKind; } });\nObject.defineProperty(exports, \"CompletionList\", { enumerable: true, get: function () { return vscode_languageserver_types_1.CompletionList; } });\nObject.defineProperty(exports, \"Position\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Position; } });\nObject.defineProperty(exports, \"InsertTextFormat\", { enumerable: true, get: function () { return vscode_languageserver_types_1.InsertTextFormat; } });\nObject.defineProperty(exports, \"MarkupContent\", { enumerable: true, get: function () { return vscode_languageserver_types_1.MarkupContent; } });\nObject.defineProperty(exports, \"SymbolInformation\", { enumerable: true, get: function () { return vscode_languageserver_types_1.SymbolInformation; } });\nObject.defineProperty(exports, \"SymbolKind\", { enumerable: true, get: function () { return vscode_languageserver_types_1.SymbolKind; } });\nObject.defineProperty(exports, \"DocumentSymbol\", { enumerable: true, get: function () { return vscode_languageserver_types_1.DocumentSymbol; } });\nObject.defineProperty(exports, \"Location\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Location; } });\nObject.defineProperty(exports, \"Hover\", { enumerable: true, get: function () { return vscode_languageserver_types_1.Hover; } });\nObject.defineProperty(exports, \"MarkedString\", { enumerable: true, get: function () { return vscode_languageserver_types_1.MarkedString; } });\nObject.defineProperty(exports, \"FormattingOptions\", { enumerable: true, get: function () { return vscode_languageserver_types_1.FormattingOptions; } });\nvar vscode_languageserver_textdocument_1 = require(\"vscode-languageserver-textdocument\");\nObject.defineProperty(exports, \"TextDocument\", { enumerable: true, get: function () { return vscode_languageserver_textdocument_1.TextDocument; } });\n/**\n * Error codes used by diagnostics\n */\nvar ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"Undefined\"] = 0] = \"Undefined\";\n    ErrorCode[ErrorCode[\"EnumValueMismatch\"] = 1] = \"EnumValueMismatch\";\n    ErrorCode[ErrorCode[\"Deprecated\"] = 2] = \"Deprecated\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfComment\"] = 257] = \"UnexpectedEndOfComment\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfString\"] = 258] = \"UnexpectedEndOfString\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfNumber\"] = 259] = \"UnexpectedEndOfNumber\";\n    ErrorCode[ErrorCode[\"InvalidUnicode\"] = 260] = \"InvalidUnicode\";\n    ErrorCode[ErrorCode[\"InvalidEscapeCharacter\"] = 261] = \"InvalidEscapeCharacter\";\n    ErrorCode[ErrorCode[\"InvalidCharacter\"] = 262] = \"InvalidCharacter\";\n    ErrorCode[ErrorCode[\"PropertyExpected\"] = 513] = \"PropertyExpected\";\n    ErrorCode[ErrorCode[\"CommaExpected\"] = 514] = \"CommaExpected\";\n    ErrorCode[ErrorCode[\"ColonExpected\"] = 515] = \"ColonExpected\";\n    ErrorCode[ErrorCode[\"ValueExpected\"] = 516] = \"ValueExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBacketExpected\"] = 517] = \"CommaOrCloseBacketExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBraceExpected\"] = 518] = \"CommaOrCloseBraceExpected\";\n    ErrorCode[ErrorCode[\"TrailingComma\"] = 519] = \"TrailingComma\";\n    ErrorCode[ErrorCode[\"DuplicateKey\"] = 520] = \"DuplicateKey\";\n    ErrorCode[ErrorCode[\"CommentNotPermitted\"] = 521] = \"CommentNotPermitted\";\n    ErrorCode[ErrorCode[\"SchemaResolveError\"] = 768] = \"SchemaResolveError\";\n})(ErrorCode = exports.ErrorCode || (exports.ErrorCode = {}));\nvar ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [vscode_languageserver_types_1.MarkupKind.Markdown, vscode_languageserver_types_1.MarkupKind.PlainText],\n                    commitCharactersSupport: true\n                }\n            }\n        }\n    };\n})(ClientCapabilities = exports.ClientCapabilities || (exports.ClientCapabilities = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Adam Voss. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst nls = require(\"vscode-nls\");\nconst localize = nls.loadMessageBundle();\nconst Yaml = require(\"yaml-language-server-parser\");\nconst jsonParser07_1 = require(\"./jsonParser07\");\nconst parseUtils_1 = require(\"../utils/parseUtils\");\nconst recursivelyBuildAst_1 = require(\"./recursivelyBuildAst\");\nconst documentPositionCalculator_1 = require(\"../utils/documentPositionCalculator\");\nconst vscode_json_languageservice_1 = require(\"vscode-json-languageservice\");\nconst YAML_COMMENT_PREFIX = '#';\nconst YAML_DATA_INSTANCE_SEPARATOR = '---';\n/**\n * These documents are collected into a final YAMLDocument\n * and passed to the `parseYAML` caller.\n */\nclass SingleYAMLDocument extends jsonParser07_1.JSONDocument {\n    constructor(lines) {\n        super(null, []);\n        this.lines = lines;\n        this.root = null;\n        this.errors = [];\n        this.warnings = [];\n        this.lineComments = [];\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    getSchemas(schema, doc, node) {\n        const matchingSchemas = [];\n        doc.validate(schema, matchingSchemas, node.start);\n        return matchingSchemas;\n    }\n}\nexports.SingleYAMLDocument = SingleYAMLDocument;\nfunction nodeToSingleDoc(yamlNode, startPositions, text) {\n    const _doc = new SingleYAMLDocument(startPositions);\n    _doc.root = recursivelyBuildAst_1.default(null, yamlNode);\n    if (!_doc.root) {\n        // TODO: When this is true, consider not pushing the other errors.\n        _doc.errors.push({\n            message: localize('Invalid symbol', 'Expected a YAML object, array or literal'),\n            code: vscode_json_languageservice_1.ErrorCode.Undefined,\n            location: { start: yamlNode.startPosition, end: yamlNode.endPosition },\n        });\n    }\n    const errors = parseUtils_1.formatErrors(yamlNode.errors);\n    const warnings = parseUtils_1.formatWarnings(yamlNode.errors, text);\n    errors.forEach((e) => {\n        return _doc.errors.push(e);\n    });\n    warnings.forEach((e) => {\n        return _doc.warnings.push(e);\n    });\n    return _doc;\n}\n/**\n * Contains the SingleYAMLDocuments, to be passed\n * to the `parseYAML` caller.\n */\nclass YAMLDocument {\n    constructor(documents) {\n        this.documents = documents;\n        this.errors = [];\n        this.warnings = [];\n    }\n}\nexports.YAMLDocument = YAMLDocument;\n/**\n * `yaml-ast-parser-custom-tags` parses the AST and\n * returns YAML AST nodes, which are then formatted\n * for consumption via the language server.\n */\nfunction parse(text, customTags = []) {\n    const additionalOptions = parseUtils_1.customTagsToAdditionalOptions(customTags);\n    // Parse the AST using `yaml-ast-parser-custom-tags`\n    const yamlNodes = [];\n    Yaml.loadAll(text, (doc) => yamlNodes.push(doc), additionalOptions);\n    // Generate the SingleYAMLDocs from the AST nodes\n    const startPositions = documentPositionCalculator_1.getLineStartPositions(text);\n    const yamlDocs = yamlNodes.map((node) => nodeToSingleDoc(node, startPositions, text));\n    parseLineComments(text, yamlDocs);\n    // Consolidate the SingleYAMLDocs\n    return new YAMLDocument(yamlDocs);\n}\nexports.parse = parse;\nfunction parseLineComments(text, yamlDocs) {\n    const lines = text.split(/[\\r\\n]+/g);\n    let yamlDocCount = 0;\n    let firstSeparatorFound = false;\n    lines.forEach((line) => {\n        if (line === YAML_DATA_INSTANCE_SEPARATOR && firstSeparatorFound) {\n            yamlDocCount++;\n        }\n        else if (line === YAML_DATA_INSTANCE_SEPARATOR) {\n            firstSeparatorFound = true;\n        }\n        if (line.startsWith(YAML_COMMENT_PREFIX) && yamlDocCount < yamlDocs.length) {\n            yamlDocs[yamlDocCount].lineComments.push(line);\n        }\n    });\n}\n//# sourceMappingURL=yamlParser07.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isNothing(subject) {\n    return (typeof subject === 'undefined') || (null === subject);\n}\nexports.isNothing = isNothing;\nfunction isObject(subject) {\n    return (typeof subject === 'object') && (null !== subject);\n}\nexports.isObject = isObject;\nfunction toArray(sequence) {\n    if (Array.isArray(sequence)) {\n        return sequence;\n    }\n    else if (isNothing(sequence)) {\n        return [];\n    }\n    return [sequence];\n}\nexports.toArray = toArray;\nfunction extend(target, source) {\n    var index, length, key, sourceKeys;\n    if (source) {\n        sourceKeys = Object.keys(source);\n        for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n            key = sourceKeys[index];\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexports.extend = extend;\nfunction repeat(string, count) {\n    var result = '', cycle;\n    for (cycle = 0; cycle < count; cycle += 1) {\n        result += string;\n    }\n    return result;\n}\nexports.repeat = repeat;\nfunction isNegativeZero(number) {\n    return (0 === number) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\nexports.isNegativeZero = isNegativeZero;\n//# sourceMappingURL=common.js.map","\"use strict\";\nexports.__esModule = true;\nexports.global_BackgroundColor_light_100 = {\n  \"name\": \"--pf-v5-global--BackgroundColor--light-100\",\n  \"value\": \"#fff\",\n  \"var\": \"var(--pf-v5-global--BackgroundColor--light-100)\"\n};\nexports[\"default\"] = exports.global_BackgroundColor_light_100;","\"use strict\";\nexports.__esModule = true;\nexports.global_Color_dark_100 = {\n  \"name\": \"--pf-v5-global--Color--dark-100\",\n  \"value\": \"#151515\",\n  \"var\": \"var(--pf-v5-global--Color--dark-100)\"\n};\nexports[\"default\"] = exports.global_Color_dark_100;","\"use strict\";\nexports.__esModule = true;\nexports.global_BackgroundColor_dark_200 = {\n  \"name\": \"--pf-v5-global--BackgroundColor--dark-200\",\n  \"value\": \"#3c3f42\",\n  \"var\": \"var(--pf-v5-global--BackgroundColor--dark-200)\"\n};\nexports[\"default\"] = exports.global_BackgroundColor_dark_200;","\"use strict\";\nexports.__esModule = true;\nexports.global_BackgroundColor_dark_100 = {\n  \"name\": \"--pf-v5-global--BackgroundColor--dark-100\",\n  \"value\": \"#151515\",\n  \"var\": \"var(--pf-v5-global--BackgroundColor--dark-100)\"\n};\nexports[\"default\"] = exports.global_BackgroundColor_dark_100;","\"use strict\";\nexports.__esModule = true;\nexports.global_Color_light_100 = {\n  \"name\": \"--pf-v5-global--Color--light-100\",\n  \"value\": \"#fff\",\n  \"var\": \"var(--pf-v5-global--Color--light-100)\"\n};\nexports[\"default\"] = exports.global_Color_light_100;","\"use strict\";\nexports.__esModule = true;\nexports.global_BackgroundColor_200 = {\n  \"name\": \"--pf-v5-global--BackgroundColor--200\",\n  \"value\": \"#f0f0f0\",\n  \"var\": \"var(--pf-v5-global--BackgroundColor--200)\"\n};\nexports[\"default\"] = exports.global_BackgroundColor_200;","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","'use strict';\nvar YAMLException = (function () {\n    function YAMLException(reason, mark, isWarning) {\n        if (mark === void 0) { mark = null; }\n        if (isWarning === void 0) { isWarning = false; }\n        this.name = 'YAMLException';\n        this.reason = reason;\n        this.mark = mark;\n        this.message = this.toString(false);\n        this.isWarning = isWarning;\n    }\n    YAMLException.isInstance = function (instance) {\n        if (instance != null && instance.getClassIdentifier\n            && typeof (instance.getClassIdentifier) == \"function\") {\n            for (var _i = 0, _a = instance.getClassIdentifier(); _i < _a.length; _i++) {\n                var currentIdentifier = _a[_i];\n                if (currentIdentifier == YAMLException.CLASS_IDENTIFIER)\n                    return true;\n            }\n        }\n        return false;\n    };\n    YAMLException.prototype.getClassIdentifier = function () {\n        var superIdentifiers = [];\n        return superIdentifiers.concat(YAMLException.CLASS_IDENTIFIER);\n    };\n    YAMLException.prototype.toString = function (compact) {\n        if (compact === void 0) { compact = false; }\n        var result;\n        result = 'JS-YAML: ' + (this.reason || '(unknown reason)');\n        if (!compact && this.mark) {\n            result += ' ' + this.mark.toString();\n        }\n        return result;\n    };\n    YAMLException.CLASS_IDENTIFIER = \"yaml-ast-parser.YAMLException\";\n    return YAMLException;\n}());\nmodule.exports = YAMLException;\n//# sourceMappingURL=exception.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common = require(\"./common\");\nvar YAMLException = require(\"./exception\");\nvar type_1 = require(\"./type\");\nfunction compileList(schema, name, result) {\n    var exclude = [];\n    schema.include.forEach(function (includedSchema) {\n        result = compileList(includedSchema, name, result);\n    });\n    schema[name].forEach(function (currentType) {\n        result.forEach(function (previousType, previousIndex) {\n            if (previousType.tag === currentType.tag) {\n                exclude.push(previousIndex);\n            }\n        });\n        result.push(currentType);\n    });\n    return result.filter(function (type, index) {\n        return -1 === exclude.indexOf(index);\n    });\n}\nfunction compileMap() {\n    var result = {}, index, length;\n    function collectType(type) {\n        result[type.tag] = type;\n    }\n    for (index = 0, length = arguments.length; index < length; index += 1) {\n        arguments[index].forEach(collectType);\n    }\n    return result;\n}\nvar Schema = (function () {\n    function Schema(definition) {\n        this.include = definition.include || [];\n        this.implicit = definition.implicit || [];\n        this.explicit = definition.explicit || [];\n        this.implicit.forEach(function (type) {\n            if (type.loadKind && 'scalar' !== type.loadKind) {\n                throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n            }\n        });\n        this.compiledImplicit = compileList(this, 'implicit', []);\n        this.compiledExplicit = compileList(this, 'explicit', []);\n        this.compiledTypeMap = compileMap(this.compiledImplicit, this.compiledExplicit);\n    }\n    Schema.DEFAULT = null;\n    Schema.create = function createSchema() {\n        var schemas, types;\n        switch (arguments.length) {\n            case 1:\n                schemas = Schema.DEFAULT;\n                types = arguments[0];\n                break;\n            case 2:\n                schemas = arguments[0];\n                types = arguments[1];\n                break;\n            default:\n                throw new YAMLException('Wrong number of arguments for Schema.create function');\n        }\n        schemas = common.toArray(schemas);\n        types = common.toArray(types);\n        if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n            throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n        }\n        if (!types.every(function (type) { return type instanceof type_1.Type; })) {\n            throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n        }\n        return new Schema({\n            include: schemas,\n            explicit: types\n        });\n    };\n    return Schema;\n}());\nexports.Schema = Schema;\n//# sourceMappingURL=schema.js.map","'use strict';\nclass YAMLException {\n    constructor(reason, mark = null, isWarning = false) {\n        this.name = 'YAMLException';\n        this.reason = reason;\n        this.mark = mark;\n        this.message = this.toString(false);\n        this.isWarning = isWarning;\n    }\n    static isInstance(instance) {\n        if (instance != null && instance.getClassIdentifier\n            && typeof (instance.getClassIdentifier) == \"function\") {\n            for (let currentIdentifier of instance.getClassIdentifier()) {\n                if (currentIdentifier == YAMLException.CLASS_IDENTIFIER)\n                    return true;\n            }\n        }\n        return false;\n    }\n    getClassIdentifier() {\n        var superIdentifiers = [];\n        return superIdentifiers.concat(YAMLException.CLASS_IDENTIFIER);\n    }\n    toString(compact = false) {\n        var result;\n        result = 'JS-YAML: ' + (this.reason || '(unknown reason)');\n        if (!compact && this.mark) {\n            result += ' ' + this.mark.toString();\n        }\n        return result;\n    }\n}\nYAMLException.CLASS_IDENTIFIER = \"yaml-ast-parser.YAMLException\";\nmodule.exports = YAMLException;\n//# sourceMappingURL=exception.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common = require(\"./common\");\nconst YAMLException = require(\"./exception\");\nconst type_1 = require(\"./type\");\nfunction compileList(schema, name, result) {\n    var exclude = [];\n    schema.include.forEach(function (includedSchema) {\n        result = compileList(includedSchema, name, result);\n    });\n    schema[name].forEach(function (currentType) {\n        result.forEach(function (previousType, previousIndex) {\n            if (previousType.tag === currentType.tag) {\n                exclude.push(previousIndex);\n            }\n        });\n        result.push(currentType);\n    });\n    return result.filter(function (type, index) {\n        return -1 === exclude.indexOf(index);\n    });\n}\nfunction compileMap() {\n    var result = {}, index, length;\n    function collectType(type) {\n        result[type.tag] = type;\n    }\n    for (index = 0, length = arguments.length; index < length; index += 1) {\n        arguments[index].forEach(collectType);\n    }\n    return result;\n}\nclass Schema {\n    constructor(definition) {\n        this.include = definition.include || [];\n        this.implicit = definition.implicit || [];\n        this.explicit = definition.explicit || [];\n        this.implicit.forEach(function (type) {\n            if (type.loadKind && 'scalar' !== type.loadKind) {\n                throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n            }\n        });\n        this.compiledImplicit = compileList(this, 'implicit', []);\n        this.compiledExplicit = compileList(this, 'explicit', []);\n        this.compiledTypeMap = compileMap(this.compiledImplicit, this.compiledExplicit);\n    }\n}\nSchema.DEFAULT = null;\nSchema.create = function createSchema(...args) {\n    var schemas, types;\n    switch (args.length) {\n        case 1:\n            schemas = Schema.DEFAULT;\n            types = args[0];\n            break;\n        case 2:\n            schemas = args[0];\n            types = args[1];\n            break;\n        default:\n            throw new YAMLException('Wrong number of arguments for Schema.create function');\n    }\n    schemas = common.toArray(schemas);\n    types = common.toArray(types);\n    if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n        throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n    }\n    if (!types.every(function (type) { return type instanceof type_1.Type; })) {\n        throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n    return new Schema({\n        include: schemas,\n        explicit: types\n    });\n};\nexports.Schema = Schema;\n//# sourceMappingURL=schema.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as Json from 'jsonc-parser';\nimport { isNumber, equals, isBoolean, isString, isDefined } from '../utils/objects';\nimport { ErrorCode, Diagnostic, DiagnosticSeverity, Range } from '../jsonLanguageTypes';\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nvar formats = {\n    'color-hex': { errorMessage: localize('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.'), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/ },\n    'date-time': { errorMessage: localize('dateTimeFormatWarning', 'String is not a RFC3339 date-time.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'date': { errorMessage: localize('dateFormatWarning', 'String is not a RFC3339 date.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i },\n    'time': { errorMessage: localize('timeFormatWarning', 'String is not a RFC3339 time.'), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'email': { errorMessage: localize('emailFormatWarning', 'String is not an e-mail address.'), pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ }\n};\nvar ASTNodeImpl = /** @class */ (function () {\n    function ASTNodeImpl(parent, offset, length) {\n        if (length === void 0) { length = 0; }\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    Object.defineProperty(ASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ASTNodeImpl.prototype.toString = function () {\n        return 'type: ' + this.type + ' (' + this.offset + '/' + this.length + ')' + (this.parent ? ' parent: {' + this.parent.toString() + '}' : '');\n    };\n    return ASTNodeImpl;\n}());\nexport { ASTNodeImpl };\nvar NullASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NullASTNodeImpl, _super);\n    function NullASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'null';\n        _this.value = null;\n        return _this;\n    }\n    return NullASTNodeImpl;\n}(ASTNodeImpl));\nexport { NullASTNodeImpl };\nvar BooleanASTNodeImpl = /** @class */ (function (_super) {\n    __extends(BooleanASTNodeImpl, _super);\n    function BooleanASTNodeImpl(parent, boolValue, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'boolean';\n        _this.value = boolValue;\n        return _this;\n    }\n    return BooleanASTNodeImpl;\n}(ASTNodeImpl));\nexport { BooleanASTNodeImpl };\nvar ArrayASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ArrayASTNodeImpl, _super);\n    function ArrayASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'array';\n        _this.items = [];\n        return _this;\n    }\n    Object.defineProperty(ArrayASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ArrayASTNodeImpl;\n}(ASTNodeImpl));\nexport { ArrayASTNodeImpl };\nvar NumberASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NumberASTNodeImpl, _super);\n    function NumberASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'number';\n        _this.isInteger = true;\n        _this.value = Number.NaN;\n        return _this;\n    }\n    return NumberASTNodeImpl;\n}(ASTNodeImpl));\nexport { NumberASTNodeImpl };\nvar StringASTNodeImpl = /** @class */ (function (_super) {\n    __extends(StringASTNodeImpl, _super);\n    function StringASTNodeImpl(parent, offset, length) {\n        var _this = _super.call(this, parent, offset, length) || this;\n        _this.type = 'string';\n        _this.value = '';\n        return _this;\n    }\n    return StringASTNodeImpl;\n}(ASTNodeImpl));\nexport { StringASTNodeImpl };\nvar PropertyASTNodeImpl = /** @class */ (function (_super) {\n    __extends(PropertyASTNodeImpl, _super);\n    function PropertyASTNodeImpl(parent, offset, keyNode) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'property';\n        _this.colonOffset = -1;\n        _this.keyNode = keyNode;\n        return _this;\n    }\n    Object.defineProperty(PropertyASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PropertyASTNodeImpl;\n}(ASTNodeImpl));\nexport { PropertyASTNodeImpl };\nvar ObjectASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ObjectASTNodeImpl, _super);\n    function ObjectASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'object';\n        _this.properties = [];\n        return _this;\n    }\n    Object.defineProperty(ObjectASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.properties;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ObjectASTNodeImpl;\n}(ASTNodeImpl));\nexport { ObjectASTNodeImpl };\nexport function asSchema(schema) {\n    if (isBoolean(schema)) {\n        return schema ? {} : { \"not\": {} };\n    }\n    return schema;\n}\nexport var EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch || (EnumMatch = {}));\nvar SchemaCollector = /** @class */ (function () {\n    function SchemaCollector(focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        this.focusOffset = focusOffset;\n        this.exclude = exclude;\n        this.schemas = [];\n    }\n    SchemaCollector.prototype.add = function (schema) {\n        this.schemas.push(schema);\n    };\n    SchemaCollector.prototype.merge = function (other) {\n        Array.prototype.push.apply(this.schemas, other.schemas);\n    };\n    SchemaCollector.prototype.include = function (node) {\n        return (this.focusOffset === -1 || contains(node, this.focusOffset)) && (node !== this.exclude);\n    };\n    SchemaCollector.prototype.newSub = function () {\n        return new SchemaCollector(-1, this.exclude);\n    };\n    return SchemaCollector;\n}());\nvar NoOpSchemaCollector = /** @class */ (function () {\n    function NoOpSchemaCollector() {\n    }\n    Object.defineProperty(NoOpSchemaCollector.prototype, \"schemas\", {\n        get: function () { return []; },\n        enumerable: false,\n        configurable: true\n    });\n    NoOpSchemaCollector.prototype.add = function (schema) { };\n    NoOpSchemaCollector.prototype.merge = function (other) { };\n    NoOpSchemaCollector.prototype.include = function (node) { return true; };\n    NoOpSchemaCollector.prototype.newSub = function () { return this; };\n    NoOpSchemaCollector.instance = new NoOpSchemaCollector();\n    return NoOpSchemaCollector;\n}());\nvar ValidationResult = /** @class */ (function () {\n    function ValidationResult() {\n        this.problems = [];\n        this.propertiesMatches = 0;\n        this.propertiesValueMatches = 0;\n        this.primaryValueMatches = 0;\n        this.enumValueMatch = false;\n        this.enumValues = undefined;\n    }\n    ValidationResult.prototype.hasProblems = function () {\n        return !!this.problems.length;\n    };\n    ValidationResult.prototype.mergeAll = function (validationResults) {\n        for (var _i = 0, validationResults_1 = validationResults; _i < validationResults_1.length; _i++) {\n            var validationResult = validationResults_1[_i];\n            this.merge(validationResult);\n        }\n    };\n    ValidationResult.prototype.merge = function (validationResult) {\n        this.problems = this.problems.concat(validationResult.problems);\n    };\n    ValidationResult.prototype.mergeEnumValues = function (validationResult) {\n        if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {\n            this.enumValues = this.enumValues.concat(validationResult.enumValues);\n            for (var _i = 0, _a = this.problems; _i < _a.length; _i++) {\n                var error = _a[_i];\n                if (error.code === ErrorCode.EnumValueMismatch) {\n                    error.message = localize('enumWarning', 'Value is not accepted. Valid values: {0}.', this.enumValues.map(function (v) { return JSON.stringify(v); }).join(', '));\n                }\n            }\n        }\n    };\n    ValidationResult.prototype.mergePropertyMatch = function (propertyValidationResult) {\n        this.merge(propertyValidationResult);\n        this.propertiesMatches++;\n        if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {\n            this.propertiesValueMatches++;\n        }\n        if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {\n            this.primaryValueMatches++;\n        }\n    };\n    ValidationResult.prototype.compare = function (other) {\n        var hasProblems = this.hasProblems();\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    };\n    return ValidationResult;\n}());\nexport { ValidationResult };\nexport function newJSONDocument(root, diagnostics) {\n    if (diagnostics === void 0) { diagnostics = []; }\n    return new JSONDocument(root, diagnostics, []);\n}\nexport function getNodeValue(node) {\n    return Json.getNodeValue(node);\n}\nexport function getNodePath(node) {\n    return Json.getNodePath(node);\n}\nexport function contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return offset >= node.offset && offset < (node.offset + node.length) || includeRightBound && offset === (node.offset + node.length);\n}\nvar JSONDocument = /** @class */ (function () {\n    function JSONDocument(root, syntaxErrors, comments) {\n        if (syntaxErrors === void 0) { syntaxErrors = []; }\n        if (comments === void 0) { comments = []; }\n        this.root = root;\n        this.syntaxErrors = syntaxErrors;\n        this.comments = comments;\n    }\n    JSONDocument.prototype.getNodeFromOffset = function (offset, includeRightBound) {\n        if (includeRightBound === void 0) { includeRightBound = false; }\n        if (this.root) {\n            return Json.findNodeAtOffset(this.root, offset, includeRightBound);\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.visit = function (visitor) {\n        if (this.root) {\n            var doVisit_1 = function (node) {\n                var ctn = visitor(node);\n                var children = node.children;\n                if (Array.isArray(children)) {\n                    for (var i = 0; i < children.length && ctn; i++) {\n                        ctn = doVisit_1(children[i]);\n                    }\n                }\n                return ctn;\n            };\n            doVisit_1(this.root);\n        }\n    };\n    JSONDocument.prototype.validate = function (textDocument, schema, severity) {\n        if (severity === void 0) { severity = DiagnosticSeverity.Warning; }\n        if (this.root && schema) {\n            var validationResult = new ValidationResult();\n            validate(this.root, schema, validationResult, NoOpSchemaCollector.instance);\n            return validationResult.problems.map(function (p) {\n                var _a;\n                var range = Range.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));\n                return Diagnostic.create(range, p.message, (_a = p.severity) !== null && _a !== void 0 ? _a : severity, p.code);\n            });\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.getMatchingSchemas = function (schema, focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        var matchingSchemas = new SchemaCollector(focusOffset, exclude);\n        if (this.root && schema) {\n            validate(this.root, schema, new ValidationResult(), matchingSchemas);\n        }\n        return matchingSchemas.schemas;\n    };\n    return JSONDocument;\n}());\nexport { JSONDocument };\nfunction validate(n, schema, validationResult, matchingSchemas) {\n    if (!n || !matchingSchemas.include(n)) {\n        return;\n    }\n    var node = n;\n    switch (node.type) {\n        case 'object':\n            _validateObjectNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'array':\n            _validateArrayNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'string':\n            _validateStringNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'number':\n            _validateNumberNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'property':\n            return validate(node.valueNode, schema, validationResult, matchingSchemas);\n    }\n    _validateNode();\n    matchingSchemas.add({ node: node, schema: schema });\n    function _validateNode() {\n        function matchesType(type) {\n            return node.type === type || (type === 'integer' && node.type === 'number' && node.isInteger);\n        }\n        if (Array.isArray(schema.type)) {\n            if (!schema.type.some(matchesType)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeArrayMismatchWarning', 'Incorrect type. Expected one of {0}.', schema.type.join(', '))\n                });\n            }\n        }\n        else if (schema.type) {\n            if (!matchesType(schema.type)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeMismatchWarning', 'Incorrect type. Expected \"{0}\".', schema.type)\n                });\n            }\n        }\n        if (Array.isArray(schema.allOf)) {\n            for (var _i = 0, _a = schema.allOf; _i < _a.length; _i++) {\n                var subSchemaRef = _a[_i];\n                validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);\n            }\n        }\n        var notSchema = asSchema(schema.not);\n        if (notSchema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, notSchema, subValidationResult, subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('notSchemaWarning', \"Matches a schema that is not allowed.\")\n                });\n            }\n            for (var _b = 0, _c = subMatchingSchemas.schemas; _b < _c.length; _b++) {\n                var ms = _c[_b];\n                ms.inverted = !ms.inverted;\n                matchingSchemas.add(ms);\n            }\n        }\n        var testAlternatives = function (alternatives, maxOneMatch) {\n            var matches = [];\n            // remember the best match that is used for error messages\n            var bestMatch = undefined;\n            for (var _i = 0, alternatives_1 = alternatives; _i < alternatives_1.length; _i++) {\n                var subSchemaRef = alternatives_1[_i];\n                var subSchema = asSchema(subSchemaRef);\n                var subValidationResult = new ValidationResult();\n                var subMatchingSchemas = matchingSchemas.newSub();\n                validate(node, subSchema, subValidationResult, subMatchingSchemas);\n                if (!subValidationResult.hasProblems()) {\n                    matches.push(subSchema);\n                }\n                if (!bestMatch) {\n                    bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                }\n                else {\n                    if (!maxOneMatch && !subValidationResult.hasProblems() && !bestMatch.validationResult.hasProblems()) {\n                        // no errors, both are equally good matches\n                        bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                        bestMatch.validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n                        bestMatch.validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n                    }\n                    else {\n                        var compareResult = subValidationResult.compare(bestMatch.validationResult);\n                        if (compareResult > 0) {\n                            // our node is the best matching so far\n                            bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                        }\n                        else if (compareResult === 0) {\n                            // there's already a best matching but we are as good\n                            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                            bestMatch.validationResult.mergeEnumValues(subValidationResult);\n                        }\n                    }\n                }\n            }\n            if (matches.length > 1 && maxOneMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: 1 },\n                    message: localize('oneOfWarning', \"Matches multiple schemas when only one must validate.\")\n                });\n            }\n            if (bestMatch) {\n                validationResult.merge(bestMatch.validationResult);\n                validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;\n                validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;\n                matchingSchemas.merge(bestMatch.matchingSchemas);\n            }\n            return matches.length;\n        };\n        if (Array.isArray(schema.anyOf)) {\n            testAlternatives(schema.anyOf, false);\n        }\n        if (Array.isArray(schema.oneOf)) {\n            testAlternatives(schema.oneOf, true);\n        }\n        var testBranch = function (schema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, asSchema(schema), subValidationResult, subMatchingSchemas);\n            validationResult.merge(subValidationResult);\n            validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n            validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n            matchingSchemas.merge(subMatchingSchemas);\n        };\n        var testCondition = function (ifSchema, thenSchema, elseSchema) {\n            var subSchema = asSchema(ifSchema);\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, subSchema, subValidationResult, subMatchingSchemas);\n            matchingSchemas.merge(subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                if (thenSchema) {\n                    testBranch(thenSchema);\n                }\n            }\n            else if (elseSchema) {\n                testBranch(elseSchema);\n            }\n        };\n        var ifSchema = asSchema(schema.if);\n        if (ifSchema) {\n            testCondition(ifSchema, asSchema(schema.then), asSchema(schema.else));\n        }\n        if (Array.isArray(schema.enum)) {\n            var val = getNodeValue(node);\n            var enumValueMatch = false;\n            for (var _d = 0, _e = schema.enum; _d < _e.length; _d++) {\n                var e = _e[_d];\n                if (equals(val, e)) {\n                    enumValueMatch = true;\n                    break;\n                }\n            }\n            validationResult.enumValues = schema.enum;\n            validationResult.enumValueMatch = enumValueMatch;\n            if (!enumValueMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('enumWarning', 'Value is not accepted. Valid values: {0}.', schema.enum.map(function (v) { return JSON.stringify(v); }).join(', '))\n                });\n            }\n        }\n        if (isDefined(schema.const)) {\n            var val = getNodeValue(node);\n            if (!equals(val, schema.const)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('constWarning', 'Value must be {0}.', JSON.stringify(schema.const))\n                });\n                validationResult.enumValueMatch = false;\n            }\n            else {\n                validationResult.enumValueMatch = true;\n            }\n            validationResult.enumValues = [schema.const];\n        }\n        if (schema.deprecationMessage && node.parent) {\n            validationResult.problems.push({\n                location: { offset: node.parent.offset, length: node.parent.length },\n                severity: DiagnosticSeverity.Warning,\n                message: schema.deprecationMessage,\n                code: ErrorCode.Deprecated\n            });\n        }\n    }\n    function _validateNumberNode(node, schema, validationResult, matchingSchemas) {\n        var val = node.value;\n        function normalizeFloats(float) {\n            var _a;\n            var parts = /^(-?\\d+)(?:\\.(\\d+))?(?:e([-+]\\d+))?$/.exec(float.toString());\n            return parts && {\n                value: Number(parts[1] + (parts[2] || '')),\n                multiplier: (((_a = parts[2]) === null || _a === void 0 ? void 0 : _a.length) || 0) - (parseInt(parts[3]) || 0)\n            };\n        }\n        ;\n        if (isNumber(schema.multipleOf)) {\n            var remainder = -1;\n            if (Number.isInteger(schema.multipleOf)) {\n                remainder = val % schema.multipleOf;\n            }\n            else {\n                var normMultipleOf = normalizeFloats(schema.multipleOf);\n                var normValue = normalizeFloats(val);\n                if (normMultipleOf && normValue) {\n                    var multiplier = Math.pow(10, Math.abs(normValue.multiplier - normMultipleOf.multiplier));\n                    if (normValue.multiplier < normMultipleOf.multiplier) {\n                        normValue.value *= multiplier;\n                    }\n                    else {\n                        normMultipleOf.value *= multiplier;\n                    }\n                    remainder = normValue.value % normMultipleOf.value;\n                }\n            }\n            if (remainder !== 0) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('multipleOfWarning', 'Value is not divisible by {0}.', schema.multipleOf)\n                });\n            }\n        }\n        function getExclusiveLimit(limit, exclusive) {\n            if (isNumber(exclusive)) {\n                return exclusive;\n            }\n            if (isBoolean(exclusive) && exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        function getLimit(limit, exclusive) {\n            if (!isBoolean(exclusive) || !exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        var exclusiveMinimum = getExclusiveLimit(schema.minimum, schema.exclusiveMinimum);\n        if (isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMinimumWarning', 'Value is below the exclusive minimum of {0}.', exclusiveMinimum)\n            });\n        }\n        var exclusiveMaximum = getExclusiveLimit(schema.maximum, schema.exclusiveMaximum);\n        if (isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMaximumWarning', 'Value is above the exclusive maximum of {0}.', exclusiveMaximum)\n            });\n        }\n        var minimum = getLimit(schema.minimum, schema.exclusiveMinimum);\n        if (isNumber(minimum) && val < minimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minimumWarning', 'Value is below the minimum of {0}.', minimum)\n            });\n        }\n        var maximum = getLimit(schema.maximum, schema.exclusiveMaximum);\n        if (isNumber(maximum) && val > maximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maximumWarning', 'Value is above the maximum of {0}.', maximum)\n            });\n        }\n    }\n    function _validateStringNode(node, schema, validationResult, matchingSchemas) {\n        if (isNumber(schema.minLength) && node.value.length < schema.minLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minLengthWarning', 'String is shorter than the minimum length of {0}.', schema.minLength)\n            });\n        }\n        if (isNumber(schema.maxLength) && node.value.length > schema.maxLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxLengthWarning', 'String is longer than the maximum length of {0}.', schema.maxLength)\n            });\n        }\n        if (isString(schema.pattern)) {\n            var regex = new RegExp(schema.pattern);\n            if (!regex.test(node.value)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.patternErrorMessage || schema.errorMessage || localize('patternWarning', 'String does not match the pattern of \"{0}\".', schema.pattern)\n                });\n            }\n        }\n        if (schema.format) {\n            switch (schema.format) {\n                case 'uri':\n                case 'uri-reference':\n                    {\n                        var errorMessage = void 0;\n                        if (!node.value) {\n                            errorMessage = localize('uriEmpty', 'URI expected.');\n                        }\n                        else {\n                            var match = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/.exec(node.value);\n                            if (!match) {\n                                errorMessage = localize('uriMissing', 'URI is expected.');\n                            }\n                            else if (!match[2] && schema.format === 'uri') {\n                                errorMessage = localize('uriSchemeMissing', 'URI with a scheme is expected.');\n                            }\n                        }\n                        if (errorMessage) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('uriFormatWarning', 'String is not a URI: {0}', errorMessage)\n                            });\n                        }\n                    }\n                    break;\n                case 'color-hex':\n                case 'date-time':\n                case 'date':\n                case 'time':\n                case 'email':\n                    var format = formats[schema.format];\n                    if (!node.value || !format.pattern.exec(node.value)) {\n                        validationResult.problems.push({\n                            location: { offset: node.offset, length: node.length },\n                            message: schema.patternErrorMessage || schema.errorMessage || format.errorMessage\n                        });\n                    }\n                default:\n            }\n        }\n    }\n    function _validateArrayNode(node, schema, validationResult, matchingSchemas) {\n        if (Array.isArray(schema.items)) {\n            var subSchemas = schema.items;\n            for (var index = 0; index < subSchemas.length; index++) {\n                var subSchemaRef = subSchemas[index];\n                var subSchema = asSchema(subSchemaRef);\n                var itemValidationResult = new ValidationResult();\n                var item = node.items[index];\n                if (item) {\n                    validate(item, subSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n                else if (node.items.length >= subSchemas.length) {\n                    validationResult.propertiesValueMatches++;\n                }\n            }\n            if (node.items.length > subSchemas.length) {\n                if (typeof schema.additionalItems === 'object') {\n                    for (var i = subSchemas.length; i < node.items.length; i++) {\n                        var itemValidationResult = new ValidationResult();\n                        validate(node.items[i], schema.additionalItems, itemValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(itemValidationResult);\n                    }\n                }\n                else if (schema.additionalItems === false) {\n                    validationResult.problems.push({\n                        location: { offset: node.offset, length: node.length },\n                        message: localize('additionalItemsWarning', 'Array has too many items according to schema. Expected {0} or fewer.', subSchemas.length)\n                    });\n                }\n            }\n        }\n        else {\n            var itemSchema = asSchema(schema.items);\n            if (itemSchema) {\n                for (var _i = 0, _a = node.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    var itemValidationResult = new ValidationResult();\n                    validate(item, itemSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n            }\n        }\n        var containsSchema = asSchema(schema.contains);\n        if (containsSchema) {\n            var doesContain = node.items.some(function (item) {\n                var itemValidationResult = new ValidationResult();\n                validate(item, containsSchema, itemValidationResult, NoOpSchemaCollector.instance);\n                return !itemValidationResult.hasProblems();\n            });\n            if (!doesContain) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('requiredItemMissingWarning', 'Array does not contain required item.')\n                });\n            }\n        }\n        if (isNumber(schema.minItems) && node.items.length < schema.minItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minItemsWarning', 'Array has too few items. Expected {0} or more.', schema.minItems)\n            });\n        }\n        if (isNumber(schema.maxItems) && node.items.length > schema.maxItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxItemsWarning', 'Array has too many items. Expected {0} or fewer.', schema.maxItems)\n            });\n        }\n        if (schema.uniqueItems === true) {\n            var values_1 = getNodeValue(node);\n            var duplicates = values_1.some(function (value, index) {\n                return index !== values_1.lastIndexOf(value);\n            });\n            if (duplicates) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('uniqueItemsWarning', 'Array has duplicate items.')\n                });\n            }\n        }\n    }\n    function _validateObjectNode(node, schema, validationResult, matchingSchemas) {\n        var seenKeys = Object.create(null);\n        var unprocessedProperties = [];\n        for (var _i = 0, _a = node.properties; _i < _a.length; _i++) {\n            var propertyNode = _a[_i];\n            var key = propertyNode.keyNode.value;\n            seenKeys[key] = propertyNode.valueNode;\n            unprocessedProperties.push(key);\n        }\n        if (Array.isArray(schema.required)) {\n            for (var _b = 0, _c = schema.required; _b < _c.length; _b++) {\n                var propertyName = _c[_b];\n                if (!seenKeys[propertyName]) {\n                    var keyNode = node.parent && node.parent.type === 'property' && node.parent.keyNode;\n                    var location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node.offset, length: 1 };\n                    validationResult.problems.push({\n                        location: location,\n                        message: localize('MissingRequiredPropWarning', 'Missing property \"{0}\".', propertyName)\n                    });\n                }\n            }\n        }\n        var propertyProcessed = function (prop) {\n            var index = unprocessedProperties.indexOf(prop);\n            while (index >= 0) {\n                unprocessedProperties.splice(index, 1);\n                index = unprocessedProperties.indexOf(prop);\n            }\n        };\n        if (schema.properties) {\n            for (var _d = 0, _e = Object.keys(schema.properties); _d < _e.length; _d++) {\n                var propertyName = _e[_d];\n                propertyProcessed(propertyName);\n                var propertySchema = schema.properties[propertyName];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    if (isBoolean(propertySchema)) {\n                        if (!propertySchema) {\n                            var propertyNode = child.parent;\n                            validationResult.problems.push({\n                                location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                            });\n                        }\n                        else {\n                            validationResult.propertiesMatches++;\n                            validationResult.propertiesValueMatches++;\n                        }\n                    }\n                    else {\n                        var propertyValidationResult = new ValidationResult();\n                        validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(propertyValidationResult);\n                    }\n                }\n            }\n        }\n        if (schema.patternProperties) {\n            for (var _f = 0, _g = Object.keys(schema.patternProperties); _f < _g.length; _f++) {\n                var propertyPattern = _g[_f];\n                var regex = new RegExp(propertyPattern);\n                for (var _h = 0, _j = unprocessedProperties.slice(0); _h < _j.length; _h++) {\n                    var propertyName = _j[_h];\n                    if (regex.test(propertyName)) {\n                        propertyProcessed(propertyName);\n                        var child = seenKeys[propertyName];\n                        if (child) {\n                            var propertySchema = schema.patternProperties[propertyPattern];\n                            if (isBoolean(propertySchema)) {\n                                if (!propertySchema) {\n                                    var propertyNode = child.parent;\n                                    validationResult.problems.push({\n                                        location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                        message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                                    });\n                                }\n                                else {\n                                    validationResult.propertiesMatches++;\n                                    validationResult.propertiesValueMatches++;\n                                }\n                            }\n                            else {\n                                var propertyValidationResult = new ValidationResult();\n                                validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                                validationResult.mergePropertyMatch(propertyValidationResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            for (var _k = 0, unprocessedProperties_1 = unprocessedProperties; _k < unprocessedProperties_1.length; _k++) {\n                var propertyName = unprocessedProperties_1[_k];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    var propertyValidationResult = new ValidationResult();\n                    validate(child, schema.additionalProperties, propertyValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(propertyValidationResult);\n                }\n            }\n        }\n        else if (schema.additionalProperties === false) {\n            if (unprocessedProperties.length > 0) {\n                for (var _l = 0, unprocessedProperties_2 = unprocessedProperties; _l < unprocessedProperties_2.length; _l++) {\n                    var propertyName = unprocessedProperties_2[_l];\n                    var child = seenKeys[propertyName];\n                    if (child) {\n                        var propertyNode = child.parent;\n                        validationResult.problems.push({\n                            location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                            message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                        });\n                    }\n                }\n            }\n        }\n        if (isNumber(schema.maxProperties)) {\n            if (node.properties.length > schema.maxProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MaxPropWarning', 'Object has more properties than limit of {0}.', schema.maxProperties)\n                });\n            }\n        }\n        if (isNumber(schema.minProperties)) {\n            if (node.properties.length < schema.minProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MinPropWarning', 'Object has fewer properties than the required number of {0}', schema.minProperties)\n                });\n            }\n        }\n        if (schema.dependencies) {\n            for (var _m = 0, _o = Object.keys(schema.dependencies); _m < _o.length; _m++) {\n                var key = _o[_m];\n                var prop = seenKeys[key];\n                if (prop) {\n                    var propertyDep = schema.dependencies[key];\n                    if (Array.isArray(propertyDep)) {\n                        for (var _p = 0, propertyDep_1 = propertyDep; _p < propertyDep_1.length; _p++) {\n                            var requiredProp = propertyDep_1[_p];\n                            if (!seenKeys[requiredProp]) {\n                                validationResult.problems.push({\n                                    location: { offset: node.offset, length: node.length },\n                                    message: localize('RequiredDependentPropWarning', 'Object is missing property {0} required by property {1}.', requiredProp, key)\n                                });\n                            }\n                            else {\n                                validationResult.propertiesValueMatches++;\n                            }\n                        }\n                    }\n                    else {\n                        var propertySchema = asSchema(propertyDep);\n                        if (propertySchema) {\n                            var propertyValidationResult = new ValidationResult();\n                            validate(node, propertySchema, propertyValidationResult, matchingSchemas);\n                            validationResult.mergePropertyMatch(propertyValidationResult);\n                        }\n                    }\n                }\n            }\n        }\n        var propertyNames = asSchema(schema.propertyNames);\n        if (propertyNames) {\n            for (var _q = 0, _r = node.properties; _q < _r.length; _q++) {\n                var f = _r[_q];\n                var key = f.keyNode;\n                if (key) {\n                    validate(key, propertyNames, validationResult, NoOpSchemaCollector.instance);\n                }\n            }\n        }\n    }\n}\nexport function parse(textDocument, config) {\n    var problems = [];\n    var lastProblemOffset = -1;\n    var text = textDocument.getText();\n    var scanner = Json.createScanner(text, false);\n    var commentRanges = config && config.collectComments ? [] : undefined;\n    function _scanNext() {\n        while (true) {\n            var token_1 = scanner.scan();\n            _checkScanError();\n            switch (token_1) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (Array.isArray(commentRanges)) {\n                        commentRanges.push(Range.create(textDocument.positionAt(scanner.getTokenOffset()), textDocument.positionAt(scanner.getTokenOffset() + scanner.getTokenLength())));\n                    }\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token_1;\n            }\n        }\n    }\n    function _accept(token) {\n        if (scanner.getToken() === token) {\n            _scanNext();\n            return true;\n        }\n        return false;\n    }\n    function _errorAtRange(message, code, startOffset, endOffset, severity) {\n        if (severity === void 0) { severity = DiagnosticSeverity.Error; }\n        if (problems.length === 0 || startOffset !== lastProblemOffset) {\n            var range = Range.create(textDocument.positionAt(startOffset), textDocument.positionAt(endOffset));\n            problems.push(Diagnostic.create(range, message, severity, code, textDocument.languageId));\n            lastProblemOffset = startOffset;\n        }\n    }\n    function _error(message, code, node, skipUntilAfter, skipUntil) {\n        if (node === void 0) { node = undefined; }\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        var start = scanner.getTokenOffset();\n        var end = scanner.getTokenOffset() + scanner.getTokenLength();\n        if (start === end && start > 0) {\n            start--;\n            while (start > 0 && /\\s/.test(text.charAt(start))) {\n                start--;\n            }\n            end = start + 1;\n        }\n        _errorAtRange(message, code, start, end);\n        if (node) {\n            _finalize(node, false);\n        }\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token_2 = scanner.getToken();\n            while (token_2 !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token_2) !== -1) {\n                    _scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token_2) !== -1) {\n                    break;\n                }\n                token_2 = _scanNext();\n            }\n        }\n        return node;\n    }\n    function _checkScanError() {\n        switch (scanner.getTokenError()) {\n            case 4 /* InvalidUnicode */:\n                _error(localize('InvalidUnicode', 'Invalid unicode sequence in string.'), ErrorCode.InvalidUnicode);\n                return true;\n            case 5 /* InvalidEscapeCharacter */:\n                _error(localize('InvalidEscapeCharacter', 'Invalid escape character in string.'), ErrorCode.InvalidEscapeCharacter);\n                return true;\n            case 3 /* UnexpectedEndOfNumber */:\n                _error(localize('UnexpectedEndOfNumber', 'Unexpected end of number.'), ErrorCode.UnexpectedEndOfNumber);\n                return true;\n            case 1 /* UnexpectedEndOfComment */:\n                _error(localize('UnexpectedEndOfComment', 'Unexpected end of comment.'), ErrorCode.UnexpectedEndOfComment);\n                return true;\n            case 2 /* UnexpectedEndOfString */:\n                _error(localize('UnexpectedEndOfString', 'Unexpected end of string.'), ErrorCode.UnexpectedEndOfString);\n                return true;\n            case 6 /* InvalidCharacter */:\n                _error(localize('InvalidCharacter', 'Invalid characters in string. Control characters must be escaped.'), ErrorCode.InvalidCharacter);\n                return true;\n        }\n        return false;\n    }\n    function _finalize(node, scanNext) {\n        node.length = scanner.getTokenOffset() + scanner.getTokenLength() - node.offset;\n        if (scanNext) {\n            _scanNext();\n        }\n        return node;\n    }\n    function _parseArray(parent) {\n        if (scanner.getToken() !== 3 /* OpenBracketToken */) {\n            return undefined;\n        }\n        var node = new ArrayASTNodeImpl(parent, scanner.getTokenOffset());\n        _scanNext(); // consume OpenBracketToken\n        var count = 0;\n        var needsComma = false;\n        while (scanner.getToken() !== 4 /* CloseBracketToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 4 /* CloseBracketToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var item = _parseValue(node);\n            if (!item) {\n                _error(localize('PropertyExpected', 'Value expected'), ErrorCode.ValueExpected, undefined, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.items.push(item);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 4 /* CloseBracketToken */) {\n            return _error(localize('ExpectedCloseBracket', 'Expected comma or closing bracket'), ErrorCode.CommaOrCloseBacketExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    var keyPlaceholder = new StringASTNodeImpl(undefined, 0, 0);\n    function _parseProperty(parent, keysSeen) {\n        var node = new PropertyASTNodeImpl(parent, scanner.getTokenOffset(), keyPlaceholder);\n        var key = _parseString(node);\n        if (!key) {\n            if (scanner.getToken() === 16 /* Unknown */) {\n                // give a more helpful error message\n                _error(localize('DoubleQuotesExpected', 'Property keys must be doublequoted'), ErrorCode.Undefined);\n                var keyNode = new StringASTNodeImpl(node, scanner.getTokenOffset(), scanner.getTokenLength());\n                keyNode.value = scanner.getTokenValue();\n                key = keyNode;\n                _scanNext(); // consume Unknown\n            }\n            else {\n                return undefined;\n            }\n        }\n        node.keyNode = key;\n        var seen = keysSeen[key.value];\n        if (seen) {\n            _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), ErrorCode.DuplicateKey, node.keyNode.offset, node.keyNode.offset + node.keyNode.length, DiagnosticSeverity.Warning);\n            if (typeof seen === 'object') {\n                _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), ErrorCode.DuplicateKey, seen.keyNode.offset, seen.keyNode.offset + seen.keyNode.length, DiagnosticSeverity.Warning);\n            }\n            keysSeen[key.value] = true; // if the same key is duplicate again, avoid duplicate error reporting\n        }\n        else {\n            keysSeen[key.value] = node;\n        }\n        if (scanner.getToken() === 6 /* ColonToken */) {\n            node.colonOffset = scanner.getTokenOffset();\n            _scanNext(); // consume ColonToken\n        }\n        else {\n            _error(localize('ColonExpected', 'Colon expected'), ErrorCode.ColonExpected);\n            if (scanner.getToken() === 10 /* StringLiteral */ && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner.getTokenOffset()).line) {\n                node.length = key.length;\n                return node;\n            }\n        }\n        var value = _parseValue(node);\n        if (!value) {\n            return _error(localize('ValueExpected', 'Value expected'), ErrorCode.ValueExpected, node, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        node.valueNode = value;\n        node.length = value.offset + value.length - node.offset;\n        return node;\n    }\n    function _parseObject(parent) {\n        if (scanner.getToken() !== 1 /* OpenBraceToken */) {\n            return undefined;\n        }\n        var node = new ObjectASTNodeImpl(parent, scanner.getTokenOffset());\n        var keysSeen = Object.create(null);\n        _scanNext(); // consume OpenBraceToken\n        var needsComma = false;\n        while (scanner.getToken() !== 2 /* CloseBraceToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 2 /* CloseBraceToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), ErrorCode.CommaExpected);\n            }\n            var property = _parseProperty(node, keysSeen);\n            if (!property) {\n                _error(localize('PropertyExpected', 'Property expected'), ErrorCode.PropertyExpected, undefined, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.properties.push(property);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 2 /* CloseBraceToken */) {\n            return _error(localize('ExpectedCloseBrace', 'Expected comma or closing brace'), ErrorCode.CommaOrCloseBraceExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    function _parseString(parent) {\n        if (scanner.getToken() !== 10 /* StringLiteral */) {\n            return undefined;\n        }\n        var node = new StringASTNodeImpl(parent, scanner.getTokenOffset());\n        node.value = scanner.getTokenValue();\n        return _finalize(node, true);\n    }\n    function _parseNumber(parent) {\n        if (scanner.getToken() !== 11 /* NumericLiteral */) {\n            return undefined;\n        }\n        var node = new NumberASTNodeImpl(parent, scanner.getTokenOffset());\n        if (scanner.getTokenError() === 0 /* None */) {\n            var tokenValue = scanner.getTokenValue();\n            try {\n                var numberValue = JSON.parse(tokenValue);\n                if (!isNumber(numberValue)) {\n                    return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n                }\n                node.value = numberValue;\n            }\n            catch (e) {\n                return _error(localize('InvalidNumberFormat', 'Invalid number format.'), ErrorCode.Undefined, node);\n            }\n            node.isInteger = tokenValue.indexOf('.') === -1;\n        }\n        return _finalize(node, true);\n    }\n    function _parseLiteral(parent) {\n        var node;\n        switch (scanner.getToken()) {\n            case 7 /* NullKeyword */:\n                return _finalize(new NullASTNodeImpl(parent, scanner.getTokenOffset()), true);\n            case 8 /* TrueKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, true, scanner.getTokenOffset()), true);\n            case 9 /* FalseKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, false, scanner.getTokenOffset()), true);\n            default:\n                return undefined;\n        }\n    }\n    function _parseValue(parent) {\n        return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);\n    }\n    var _root = undefined;\n    var token = _scanNext();\n    if (token !== 17 /* EOF */) {\n        _root = _parseValue(_root);\n        if (!_root) {\n            _error(localize('Invalid symbol', 'Expected a JSON object, array or literal.'), ErrorCode.Undefined);\n        }\n        else if (scanner.getToken() !== 17 /* EOF */) {\n            _error(localize('End of file expected', 'End of file expected.'), ErrorCode.Undefined);\n        }\n    }\n    return new JSONDocument(_root, problems, commentRanges);\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nEmitter._noop = function () { };\r\nexports.Emitter = Emitter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Kind;\n(function (Kind) {\n    Kind[Kind[\"SCALAR\"] = 0] = \"SCALAR\";\n    Kind[Kind[\"MAPPING\"] = 1] = \"MAPPING\";\n    Kind[Kind[\"MAP\"] = 2] = \"MAP\";\n    Kind[Kind[\"SEQ\"] = 3] = \"SEQ\";\n    Kind[Kind[\"ANCHOR_REF\"] = 4] = \"ANCHOR_REF\";\n    Kind[Kind[\"INCLUDE_REF\"] = 5] = \"INCLUDE_REF\";\n})(Kind = exports.Kind || (exports.Kind = {}));\nfunction newMapping(key, value) {\n    var end = (value ? value.endPosition : key.endPosition + 1);\n    var node = {\n        key: key,\n        value: value,\n        startPosition: key.startPosition,\n        endPosition: end,\n        kind: Kind.MAPPING,\n        parent: null,\n        errors: []\n    };\n    return node;\n}\nexports.newMapping = newMapping;\nfunction newAnchorRef(key, start, end, value) {\n    return {\n        errors: [],\n        referencesAnchor: key,\n        value: value,\n        startPosition: start,\n        endPosition: end,\n        kind: Kind.ANCHOR_REF,\n        parent: null\n    };\n}\nexports.newAnchorRef = newAnchorRef;\nfunction newScalar(v) {\n    if (v === void 0) { v = \"\"; }\n    var result = {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        value: \"\" + v,\n        kind: Kind.SCALAR,\n        parent: null,\n        doubleQuoted: false,\n        rawValue: \"\" + v,\n    };\n    if (typeof v !== \"string\") {\n        result.valueObject = v;\n    }\n    return result;\n}\nexports.newScalar = newScalar;\nfunction newItems() {\n    return {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        items: [],\n        kind: Kind.SEQ,\n        parent: null\n    };\n}\nexports.newItems = newItems;\nfunction newSeq() {\n    return newItems();\n}\nexports.newSeq = newSeq;\nfunction newMap(mappings) {\n    return {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        mappings: mappings ? mappings : [],\n        kind: Kind.MAP,\n        parent: null\n    };\n}\nexports.newMap = newMap;\n//# sourceMappingURL=yamlAST.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\nfunction isHighSurrogate(charCode) {\n    return (0xD800 <= charCode && charCode <= 0xDBFF);\n}\nfunction isLowSurrogate(charCode) {\n    return (0xDC00 <= charCode && charCode <= 0xDFFF);\n}\nfunction isLowerAsciiHex(code) {\n    return code >= 97 /* a */ && code <= 102 /* f */;\n}\nfunction isLowerAsciiLetter(code) {\n    return code >= 97 /* a */ && code <= 122 /* z */;\n}\nfunction isUpperAsciiLetter(code) {\n    return code >= 65 /* A */ && code <= 90 /* Z */;\n}\nfunction isAsciiLetter(code) {\n    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(\"[UriError]: Scheme is missing: {scheme: \\\"\\\", authority: \\\"\" + ret.authority + \"\\\", path: \\\"\" + ret.path + \"\\\", query: \\\"\" + ret.query + \"\\\", fragment: \\\"\" + ret.fragment + \"\\\"}\");\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nvar URI = /** @class */ (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'function'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return uriToFsPath(this, false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // /**\n    //  * Join a URI path with path fragments and normalizes the resulting path.\n    //  *\n    //  * @param uri The input URI.\n    //  * @param pathFragment The path fragment to add to the URI path.\n    //  * @returns The resulting URI.\n    //  */\n    // static joinPath(uri: URI, ...pathFragment: string[]): URI {\n    // \tif (!uri.path) {\n    // \t\tthrow new Error(`[UriError]: cannot call joinPaths on URI without path`);\n    // \t}\n    // \tlet newPath: string;\n    // \tif (isWindows && uri.scheme === 'file') {\n    // \t\tnewPath = URI.file(paths.win32.join(uriToFsPath(uri, true), ...pathFragment)).path;\n    // \t} else {\n    // \t\tnewPath = paths.posix.join(uri.path, ...pathFragment);\n    // \t}\n    // \treturn uri.with({ path: newPath });\n    // }\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._formatted = data.external;\n            result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;\n            return result;\n        }\n    };\n    return URI;\n}());\nexport { URI };\nvar _pathSepMarker = isWindows ? 1 : undefined;\n// eslint-disable-next-line @typescript-eslint/class-name-casing\nvar _URI = /** @class */ (function (_super) {\n    __extends(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = uriToFsPath(this, false);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri, keepDriveLetterCasing) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        if (!keepDriveLetterCasing) {\n            // windows drive letter: file:///c:/far/boo\n            value = uri.path[1].toLowerCase() + uri.path.substr(2);\n        }\n        else {\n            value = uri.path.substr(1);\n        }\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\n// --- decode\nfunction decodeURIComponentGraceful(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (_a) {\n        if (str.length > 3) {\n            return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n        }\n        else {\n            return str;\n        }\n    }\n}\nvar _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\nfunction percentDecode(str) {\n    if (!str.match(_rEncodedAsHex)) {\n        return str;\n    }\n    return str.replace(_rEncodedAsHex, function (match) { return decodeURIComponentGraceful(match); });\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.JSONDocument = exports.contains = exports.getNodePath = exports.getNodeValue = exports.newJSONDocument = exports.ValidationResult = exports.EnumMatch = exports.asSchema = exports.ObjectASTNodeImpl = exports.PropertyASTNodeImpl = exports.StringASTNodeImpl = exports.NumberASTNodeImpl = exports.ArrayASTNodeImpl = exports.BooleanASTNodeImpl = exports.NullASTNodeImpl = exports.ASTNodeImpl = void 0;\nvar Json = require(\"jsonc-parser\");\nvar objects_1 = require(\"../utils/objects\");\nvar jsonLanguageTypes_1 = require(\"../jsonLanguageTypes\");\nvar nls = require(\"vscode-nls\");\nvar localize = nls.loadMessageBundle();\nvar formats = {\n    'color-hex': { errorMessage: localize('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.'), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/ },\n    'date-time': { errorMessage: localize('dateTimeFormatWarning', 'String is not a RFC3339 date-time.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'date': { errorMessage: localize('dateFormatWarning', 'String is not a RFC3339 date.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i },\n    'time': { errorMessage: localize('timeFormatWarning', 'String is not a RFC3339 time.'), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'email': { errorMessage: localize('emailFormatWarning', 'String is not an e-mail address.'), pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ }\n};\nvar ASTNodeImpl = /** @class */ (function () {\n    function ASTNodeImpl(parent, offset, length) {\n        if (length === void 0) { length = 0; }\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    Object.defineProperty(ASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ASTNodeImpl.prototype.toString = function () {\n        return 'type: ' + this.type + ' (' + this.offset + '/' + this.length + ')' + (this.parent ? ' parent: {' + this.parent.toString() + '}' : '');\n    };\n    return ASTNodeImpl;\n}());\nexports.ASTNodeImpl = ASTNodeImpl;\nvar NullASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NullASTNodeImpl, _super);\n    function NullASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'null';\n        _this.value = null;\n        return _this;\n    }\n    return NullASTNodeImpl;\n}(ASTNodeImpl));\nexports.NullASTNodeImpl = NullASTNodeImpl;\nvar BooleanASTNodeImpl = /** @class */ (function (_super) {\n    __extends(BooleanASTNodeImpl, _super);\n    function BooleanASTNodeImpl(parent, boolValue, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'boolean';\n        _this.value = boolValue;\n        return _this;\n    }\n    return BooleanASTNodeImpl;\n}(ASTNodeImpl));\nexports.BooleanASTNodeImpl = BooleanASTNodeImpl;\nvar ArrayASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ArrayASTNodeImpl, _super);\n    function ArrayASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'array';\n        _this.items = [];\n        return _this;\n    }\n    Object.defineProperty(ArrayASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ArrayASTNodeImpl;\n}(ASTNodeImpl));\nexports.ArrayASTNodeImpl = ArrayASTNodeImpl;\nvar NumberASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NumberASTNodeImpl, _super);\n    function NumberASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'number';\n        _this.isInteger = true;\n        _this.value = Number.NaN;\n        return _this;\n    }\n    return NumberASTNodeImpl;\n}(ASTNodeImpl));\nexports.NumberASTNodeImpl = NumberASTNodeImpl;\nvar StringASTNodeImpl = /** @class */ (function (_super) {\n    __extends(StringASTNodeImpl, _super);\n    function StringASTNodeImpl(parent, offset, length) {\n        var _this = _super.call(this, parent, offset, length) || this;\n        _this.type = 'string';\n        _this.value = '';\n        return _this;\n    }\n    return StringASTNodeImpl;\n}(ASTNodeImpl));\nexports.StringASTNodeImpl = StringASTNodeImpl;\nvar PropertyASTNodeImpl = /** @class */ (function (_super) {\n    __extends(PropertyASTNodeImpl, _super);\n    function PropertyASTNodeImpl(parent, offset, keyNode) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'property';\n        _this.colonOffset = -1;\n        _this.keyNode = keyNode;\n        return _this;\n    }\n    Object.defineProperty(PropertyASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PropertyASTNodeImpl;\n}(ASTNodeImpl));\nexports.PropertyASTNodeImpl = PropertyASTNodeImpl;\nvar ObjectASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ObjectASTNodeImpl, _super);\n    function ObjectASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'object';\n        _this.properties = [];\n        return _this;\n    }\n    Object.defineProperty(ObjectASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.properties;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ObjectASTNodeImpl;\n}(ASTNodeImpl));\nexports.ObjectASTNodeImpl = ObjectASTNodeImpl;\nfunction asSchema(schema) {\n    if (objects_1.isBoolean(schema)) {\n        return schema ? {} : { \"not\": {} };\n    }\n    return schema;\n}\nexports.asSchema = asSchema;\nvar EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch = exports.EnumMatch || (exports.EnumMatch = {}));\nvar SchemaCollector = /** @class */ (function () {\n    function SchemaCollector(focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        this.focusOffset = focusOffset;\n        this.exclude = exclude;\n        this.schemas = [];\n    }\n    SchemaCollector.prototype.add = function (schema) {\n        this.schemas.push(schema);\n    };\n    SchemaCollector.prototype.merge = function (other) {\n        Array.prototype.push.apply(this.schemas, other.schemas);\n    };\n    SchemaCollector.prototype.include = function (node) {\n        return (this.focusOffset === -1 || contains(node, this.focusOffset)) && (node !== this.exclude);\n    };\n    SchemaCollector.prototype.newSub = function () {\n        return new SchemaCollector(-1, this.exclude);\n    };\n    return SchemaCollector;\n}());\nvar NoOpSchemaCollector = /** @class */ (function () {\n    function NoOpSchemaCollector() {\n    }\n    Object.defineProperty(NoOpSchemaCollector.prototype, \"schemas\", {\n        get: function () { return []; },\n        enumerable: false,\n        configurable: true\n    });\n    NoOpSchemaCollector.prototype.add = function (schema) { };\n    NoOpSchemaCollector.prototype.merge = function (other) { };\n    NoOpSchemaCollector.prototype.include = function (node) { return true; };\n    NoOpSchemaCollector.prototype.newSub = function () { return this; };\n    NoOpSchemaCollector.instance = new NoOpSchemaCollector();\n    return NoOpSchemaCollector;\n}());\nvar ValidationResult = /** @class */ (function () {\n    function ValidationResult() {\n        this.problems = [];\n        this.propertiesMatches = 0;\n        this.propertiesValueMatches = 0;\n        this.primaryValueMatches = 0;\n        this.enumValueMatch = false;\n        this.enumValues = undefined;\n    }\n    ValidationResult.prototype.hasProblems = function () {\n        return !!this.problems.length;\n    };\n    ValidationResult.prototype.mergeAll = function (validationResults) {\n        for (var _i = 0, validationResults_1 = validationResults; _i < validationResults_1.length; _i++) {\n            var validationResult = validationResults_1[_i];\n            this.merge(validationResult);\n        }\n    };\n    ValidationResult.prototype.merge = function (validationResult) {\n        this.problems = this.problems.concat(validationResult.problems);\n    };\n    ValidationResult.prototype.mergeEnumValues = function (validationResult) {\n        if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {\n            this.enumValues = this.enumValues.concat(validationResult.enumValues);\n            for (var _i = 0, _a = this.problems; _i < _a.length; _i++) {\n                var error = _a[_i];\n                if (error.code === jsonLanguageTypes_1.ErrorCode.EnumValueMismatch) {\n                    error.message = localize('enumWarning', 'Value is not accepted. Valid values: {0}.', this.enumValues.map(function (v) { return JSON.stringify(v); }).join(', '));\n                }\n            }\n        }\n    };\n    ValidationResult.prototype.mergePropertyMatch = function (propertyValidationResult) {\n        this.merge(propertyValidationResult);\n        this.propertiesMatches++;\n        if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {\n            this.propertiesValueMatches++;\n        }\n        if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {\n            this.primaryValueMatches++;\n        }\n    };\n    ValidationResult.prototype.compare = function (other) {\n        var hasProblems = this.hasProblems();\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    };\n    return ValidationResult;\n}());\nexports.ValidationResult = ValidationResult;\nfunction newJSONDocument(root, diagnostics) {\n    if (diagnostics === void 0) { diagnostics = []; }\n    return new JSONDocument(root, diagnostics, []);\n}\nexports.newJSONDocument = newJSONDocument;\nfunction getNodeValue(node) {\n    return Json.getNodeValue(node);\n}\nexports.getNodeValue = getNodeValue;\nfunction getNodePath(node) {\n    return Json.getNodePath(node);\n}\nexports.getNodePath = getNodePath;\nfunction contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return offset >= node.offset && offset < (node.offset + node.length) || includeRightBound && offset === (node.offset + node.length);\n}\nexports.contains = contains;\nvar JSONDocument = /** @class */ (function () {\n    function JSONDocument(root, syntaxErrors, comments) {\n        if (syntaxErrors === void 0) { syntaxErrors = []; }\n        if (comments === void 0) { comments = []; }\n        this.root = root;\n        this.syntaxErrors = syntaxErrors;\n        this.comments = comments;\n    }\n    JSONDocument.prototype.getNodeFromOffset = function (offset, includeRightBound) {\n        if (includeRightBound === void 0) { includeRightBound = false; }\n        if (this.root) {\n            return Json.findNodeAtOffset(this.root, offset, includeRightBound);\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.visit = function (visitor) {\n        if (this.root) {\n            var doVisit_1 = function (node) {\n                var ctn = visitor(node);\n                var children = node.children;\n                if (Array.isArray(children)) {\n                    for (var i = 0; i < children.length && ctn; i++) {\n                        ctn = doVisit_1(children[i]);\n                    }\n                }\n                return ctn;\n            };\n            doVisit_1(this.root);\n        }\n    };\n    JSONDocument.prototype.validate = function (textDocument, schema, severity) {\n        if (severity === void 0) { severity = jsonLanguageTypes_1.DiagnosticSeverity.Warning; }\n        if (this.root && schema) {\n            var validationResult = new ValidationResult();\n            validate(this.root, schema, validationResult, NoOpSchemaCollector.instance);\n            return validationResult.problems.map(function (p) {\n                var _a;\n                var range = jsonLanguageTypes_1.Range.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));\n                return jsonLanguageTypes_1.Diagnostic.create(range, p.message, (_a = p.severity) !== null && _a !== void 0 ? _a : severity, p.code);\n            });\n        }\n        return undefined;\n    };\n    JSONDocument.prototype.getMatchingSchemas = function (schema, focusOffset, exclude) {\n        if (focusOffset === void 0) { focusOffset = -1; }\n        var matchingSchemas = new SchemaCollector(focusOffset, exclude);\n        if (this.root && schema) {\n            validate(this.root, schema, new ValidationResult(), matchingSchemas);\n        }\n        return matchingSchemas.schemas;\n    };\n    return JSONDocument;\n}());\nexports.JSONDocument = JSONDocument;\nfunction validate(n, schema, validationResult, matchingSchemas) {\n    if (!n || !matchingSchemas.include(n)) {\n        return;\n    }\n    var node = n;\n    switch (node.type) {\n        case 'object':\n            _validateObjectNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'array':\n            _validateArrayNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'string':\n            _validateStringNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'number':\n            _validateNumberNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'property':\n            return validate(node.valueNode, schema, validationResult, matchingSchemas);\n    }\n    _validateNode();\n    matchingSchemas.add({ node: node, schema: schema });\n    function _validateNode() {\n        function matchesType(type) {\n            return node.type === type || (type === 'integer' && node.type === 'number' && node.isInteger);\n        }\n        if (Array.isArray(schema.type)) {\n            if (!schema.type.some(matchesType)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeArrayMismatchWarning', 'Incorrect type. Expected one of {0}.', schema.type.join(', '))\n                });\n            }\n        }\n        else if (schema.type) {\n            if (!matchesType(schema.type)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('typeMismatchWarning', 'Incorrect type. Expected \"{0}\".', schema.type)\n                });\n            }\n        }\n        if (Array.isArray(schema.allOf)) {\n            for (var _i = 0, _a = schema.allOf; _i < _a.length; _i++) {\n                var subSchemaRef = _a[_i];\n                validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);\n            }\n        }\n        var notSchema = asSchema(schema.not);\n        if (notSchema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, notSchema, subValidationResult, subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('notSchemaWarning', \"Matches a schema that is not allowed.\")\n                });\n            }\n            for (var _b = 0, _c = subMatchingSchemas.schemas; _b < _c.length; _b++) {\n                var ms = _c[_b];\n                ms.inverted = !ms.inverted;\n                matchingSchemas.add(ms);\n            }\n        }\n        var testAlternatives = function (alternatives, maxOneMatch) {\n            var matches = [];\n            // remember the best match that is used for error messages\n            var bestMatch = undefined;\n            for (var _i = 0, alternatives_1 = alternatives; _i < alternatives_1.length; _i++) {\n                var subSchemaRef = alternatives_1[_i];\n                var subSchema = asSchema(subSchemaRef);\n                var subValidationResult = new ValidationResult();\n                var subMatchingSchemas = matchingSchemas.newSub();\n                validate(node, subSchema, subValidationResult, subMatchingSchemas);\n                if (!subValidationResult.hasProblems()) {\n                    matches.push(subSchema);\n                }\n                if (!bestMatch) {\n                    bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                }\n                else {\n                    if (!maxOneMatch && !subValidationResult.hasProblems() && !bestMatch.validationResult.hasProblems()) {\n                        // no errors, both are equally good matches\n                        bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                        bestMatch.validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n                        bestMatch.validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n                    }\n                    else {\n                        var compareResult = subValidationResult.compare(bestMatch.validationResult);\n                        if (compareResult > 0) {\n                            // our node is the best matching so far\n                            bestMatch = { schema: subSchema, validationResult: subValidationResult, matchingSchemas: subMatchingSchemas };\n                        }\n                        else if (compareResult === 0) {\n                            // there's already a best matching but we are as good\n                            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                            bestMatch.validationResult.mergeEnumValues(subValidationResult);\n                        }\n                    }\n                }\n            }\n            if (matches.length > 1 && maxOneMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: 1 },\n                    message: localize('oneOfWarning', \"Matches multiple schemas when only one must validate.\")\n                });\n            }\n            if (bestMatch) {\n                validationResult.merge(bestMatch.validationResult);\n                validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;\n                validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;\n                matchingSchemas.merge(bestMatch.matchingSchemas);\n            }\n            return matches.length;\n        };\n        if (Array.isArray(schema.anyOf)) {\n            testAlternatives(schema.anyOf, false);\n        }\n        if (Array.isArray(schema.oneOf)) {\n            testAlternatives(schema.oneOf, true);\n        }\n        var testBranch = function (schema) {\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, asSchema(schema), subValidationResult, subMatchingSchemas);\n            validationResult.merge(subValidationResult);\n            validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n            validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n            matchingSchemas.merge(subMatchingSchemas);\n        };\n        var testCondition = function (ifSchema, thenSchema, elseSchema) {\n            var subSchema = asSchema(ifSchema);\n            var subValidationResult = new ValidationResult();\n            var subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, subSchema, subValidationResult, subMatchingSchemas);\n            matchingSchemas.merge(subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                if (thenSchema) {\n                    testBranch(thenSchema);\n                }\n            }\n            else if (elseSchema) {\n                testBranch(elseSchema);\n            }\n        };\n        var ifSchema = asSchema(schema.if);\n        if (ifSchema) {\n            testCondition(ifSchema, asSchema(schema.then), asSchema(schema.else));\n        }\n        if (Array.isArray(schema.enum)) {\n            var val = getNodeValue(node);\n            var enumValueMatch = false;\n            for (var _d = 0, _e = schema.enum; _d < _e.length; _d++) {\n                var e = _e[_d];\n                if (objects_1.equals(val, e)) {\n                    enumValueMatch = true;\n                    break;\n                }\n            }\n            validationResult.enumValues = schema.enum;\n            validationResult.enumValueMatch = enumValueMatch;\n            if (!enumValueMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: jsonLanguageTypes_1.ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('enumWarning', 'Value is not accepted. Valid values: {0}.', schema.enum.map(function (v) { return JSON.stringify(v); }).join(', '))\n                });\n            }\n        }\n        if (objects_1.isDefined(schema.const)) {\n            var val = getNodeValue(node);\n            if (!objects_1.equals(val, schema.const)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    code: jsonLanguageTypes_1.ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('constWarning', 'Value must be {0}.', JSON.stringify(schema.const))\n                });\n                validationResult.enumValueMatch = false;\n            }\n            else {\n                validationResult.enumValueMatch = true;\n            }\n            validationResult.enumValues = [schema.const];\n        }\n        if (schema.deprecationMessage && node.parent) {\n            validationResult.problems.push({\n                location: { offset: node.parent.offset, length: node.parent.length },\n                severity: jsonLanguageTypes_1.DiagnosticSeverity.Warning,\n                message: schema.deprecationMessage,\n                code: jsonLanguageTypes_1.ErrorCode.Deprecated\n            });\n        }\n    }\n    function _validateNumberNode(node, schema, validationResult, matchingSchemas) {\n        var val = node.value;\n        function normalizeFloats(float) {\n            var _a;\n            var parts = /^(-?\\d+)(?:\\.(\\d+))?(?:e([-+]\\d+))?$/.exec(float.toString());\n            return parts && {\n                value: Number(parts[1] + (parts[2] || '')),\n                multiplier: (((_a = parts[2]) === null || _a === void 0 ? void 0 : _a.length) || 0) - (parseInt(parts[3]) || 0)\n            };\n        }\n        ;\n        if (objects_1.isNumber(schema.multipleOf)) {\n            var remainder = -1;\n            if (Number.isInteger(schema.multipleOf)) {\n                remainder = val % schema.multipleOf;\n            }\n            else {\n                var normMultipleOf = normalizeFloats(schema.multipleOf);\n                var normValue = normalizeFloats(val);\n                if (normMultipleOf && normValue) {\n                    var multiplier = Math.pow(10, Math.abs(normValue.multiplier - normMultipleOf.multiplier));\n                    if (normValue.multiplier < normMultipleOf.multiplier) {\n                        normValue.value *= multiplier;\n                    }\n                    else {\n                        normMultipleOf.value *= multiplier;\n                    }\n                    remainder = normValue.value % normMultipleOf.value;\n                }\n            }\n            if (remainder !== 0) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('multipleOfWarning', 'Value is not divisible by {0}.', schema.multipleOf)\n                });\n            }\n        }\n        function getExclusiveLimit(limit, exclusive) {\n            if (objects_1.isNumber(exclusive)) {\n                return exclusive;\n            }\n            if (objects_1.isBoolean(exclusive) && exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        function getLimit(limit, exclusive) {\n            if (!objects_1.isBoolean(exclusive) || !exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        var exclusiveMinimum = getExclusiveLimit(schema.minimum, schema.exclusiveMinimum);\n        if (objects_1.isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMinimumWarning', 'Value is below the exclusive minimum of {0}.', exclusiveMinimum)\n            });\n        }\n        var exclusiveMaximum = getExclusiveLimit(schema.maximum, schema.exclusiveMaximum);\n        if (objects_1.isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('exclusiveMaximumWarning', 'Value is above the exclusive maximum of {0}.', exclusiveMaximum)\n            });\n        }\n        var minimum = getLimit(schema.minimum, schema.exclusiveMinimum);\n        if (objects_1.isNumber(minimum) && val < minimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minimumWarning', 'Value is below the minimum of {0}.', minimum)\n            });\n        }\n        var maximum = getLimit(schema.maximum, schema.exclusiveMaximum);\n        if (objects_1.isNumber(maximum) && val > maximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maximumWarning', 'Value is above the maximum of {0}.', maximum)\n            });\n        }\n    }\n    function _validateStringNode(node, schema, validationResult, matchingSchemas) {\n        if (objects_1.isNumber(schema.minLength) && node.value.length < schema.minLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minLengthWarning', 'String is shorter than the minimum length of {0}.', schema.minLength)\n            });\n        }\n        if (objects_1.isNumber(schema.maxLength) && node.value.length > schema.maxLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxLengthWarning', 'String is longer than the maximum length of {0}.', schema.maxLength)\n            });\n        }\n        if (objects_1.isString(schema.pattern)) {\n            var regex = new RegExp(schema.pattern);\n            if (!regex.test(node.value)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.patternErrorMessage || schema.errorMessage || localize('patternWarning', 'String does not match the pattern of \"{0}\".', schema.pattern)\n                });\n            }\n        }\n        if (schema.format) {\n            switch (schema.format) {\n                case 'uri':\n                case 'uri-reference':\n                    {\n                        var errorMessage = void 0;\n                        if (!node.value) {\n                            errorMessage = localize('uriEmpty', 'URI expected.');\n                        }\n                        else {\n                            var match = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/.exec(node.value);\n                            if (!match) {\n                                errorMessage = localize('uriMissing', 'URI is expected.');\n                            }\n                            else if (!match[2] && schema.format === 'uri') {\n                                errorMessage = localize('uriSchemeMissing', 'URI with a scheme is expected.');\n                            }\n                        }\n                        if (errorMessage) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                message: schema.patternErrorMessage || schema.errorMessage || localize('uriFormatWarning', 'String is not a URI: {0}', errorMessage)\n                            });\n                        }\n                    }\n                    break;\n                case 'color-hex':\n                case 'date-time':\n                case 'date':\n                case 'time':\n                case 'email':\n                    var format = formats[schema.format];\n                    if (!node.value || !format.pattern.exec(node.value)) {\n                        validationResult.problems.push({\n                            location: { offset: node.offset, length: node.length },\n                            message: schema.patternErrorMessage || schema.errorMessage || format.errorMessage\n                        });\n                    }\n                default:\n            }\n        }\n    }\n    function _validateArrayNode(node, schema, validationResult, matchingSchemas) {\n        if (Array.isArray(schema.items)) {\n            var subSchemas = schema.items;\n            for (var index = 0; index < subSchemas.length; index++) {\n                var subSchemaRef = subSchemas[index];\n                var subSchema = asSchema(subSchemaRef);\n                var itemValidationResult = new ValidationResult();\n                var item = node.items[index];\n                if (item) {\n                    validate(item, subSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n                else if (node.items.length >= subSchemas.length) {\n                    validationResult.propertiesValueMatches++;\n                }\n            }\n            if (node.items.length > subSchemas.length) {\n                if (typeof schema.additionalItems === 'object') {\n                    for (var i = subSchemas.length; i < node.items.length; i++) {\n                        var itemValidationResult = new ValidationResult();\n                        validate(node.items[i], schema.additionalItems, itemValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(itemValidationResult);\n                    }\n                }\n                else if (schema.additionalItems === false) {\n                    validationResult.problems.push({\n                        location: { offset: node.offset, length: node.length },\n                        message: localize('additionalItemsWarning', 'Array has too many items according to schema. Expected {0} or fewer.', subSchemas.length)\n                    });\n                }\n            }\n        }\n        else {\n            var itemSchema = asSchema(schema.items);\n            if (itemSchema) {\n                for (var _i = 0, _a = node.items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    var itemValidationResult = new ValidationResult();\n                    validate(item, itemSchema, itemValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                }\n            }\n        }\n        var containsSchema = asSchema(schema.contains);\n        if (containsSchema) {\n            var doesContain = node.items.some(function (item) {\n                var itemValidationResult = new ValidationResult();\n                validate(item, containsSchema, itemValidationResult, NoOpSchemaCollector.instance);\n                return !itemValidationResult.hasProblems();\n            });\n            if (!doesContain) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: schema.errorMessage || localize('requiredItemMissingWarning', 'Array does not contain required item.')\n                });\n            }\n        }\n        if (objects_1.isNumber(schema.minItems) && node.items.length < schema.minItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('minItemsWarning', 'Array has too few items. Expected {0} or more.', schema.minItems)\n            });\n        }\n        if (objects_1.isNumber(schema.maxItems) && node.items.length > schema.maxItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                message: localize('maxItemsWarning', 'Array has too many items. Expected {0} or fewer.', schema.maxItems)\n            });\n        }\n        if (schema.uniqueItems === true) {\n            var values_1 = getNodeValue(node);\n            var duplicates = values_1.some(function (value, index) {\n                return index !== values_1.lastIndexOf(value);\n            });\n            if (duplicates) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('uniqueItemsWarning', 'Array has duplicate items.')\n                });\n            }\n        }\n    }\n    function _validateObjectNode(node, schema, validationResult, matchingSchemas) {\n        var seenKeys = Object.create(null);\n        var unprocessedProperties = [];\n        for (var _i = 0, _a = node.properties; _i < _a.length; _i++) {\n            var propertyNode = _a[_i];\n            var key = propertyNode.keyNode.value;\n            seenKeys[key] = propertyNode.valueNode;\n            unprocessedProperties.push(key);\n        }\n        if (Array.isArray(schema.required)) {\n            for (var _b = 0, _c = schema.required; _b < _c.length; _b++) {\n                var propertyName = _c[_b];\n                if (!seenKeys[propertyName]) {\n                    var keyNode = node.parent && node.parent.type === 'property' && node.parent.keyNode;\n                    var location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node.offset, length: 1 };\n                    validationResult.problems.push({\n                        location: location,\n                        message: localize('MissingRequiredPropWarning', 'Missing property \"{0}\".', propertyName)\n                    });\n                }\n            }\n        }\n        var propertyProcessed = function (prop) {\n            var index = unprocessedProperties.indexOf(prop);\n            while (index >= 0) {\n                unprocessedProperties.splice(index, 1);\n                index = unprocessedProperties.indexOf(prop);\n            }\n        };\n        if (schema.properties) {\n            for (var _d = 0, _e = Object.keys(schema.properties); _d < _e.length; _d++) {\n                var propertyName = _e[_d];\n                propertyProcessed(propertyName);\n                var propertySchema = schema.properties[propertyName];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    if (objects_1.isBoolean(propertySchema)) {\n                        if (!propertySchema) {\n                            var propertyNode = child.parent;\n                            validationResult.problems.push({\n                                location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                            });\n                        }\n                        else {\n                            validationResult.propertiesMatches++;\n                            validationResult.propertiesValueMatches++;\n                        }\n                    }\n                    else {\n                        var propertyValidationResult = new ValidationResult();\n                        validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                        validationResult.mergePropertyMatch(propertyValidationResult);\n                    }\n                }\n            }\n        }\n        if (schema.patternProperties) {\n            for (var _f = 0, _g = Object.keys(schema.patternProperties); _f < _g.length; _f++) {\n                var propertyPattern = _g[_f];\n                var regex = new RegExp(propertyPattern);\n                for (var _h = 0, _j = unprocessedProperties.slice(0); _h < _j.length; _h++) {\n                    var propertyName = _j[_h];\n                    if (regex.test(propertyName)) {\n                        propertyProcessed(propertyName);\n                        var child = seenKeys[propertyName];\n                        if (child) {\n                            var propertySchema = schema.patternProperties[propertyPattern];\n                            if (objects_1.isBoolean(propertySchema)) {\n                                if (!propertySchema) {\n                                    var propertyNode = child.parent;\n                                    validationResult.problems.push({\n                                        location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                                        message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                                    });\n                                }\n                                else {\n                                    validationResult.propertiesMatches++;\n                                    validationResult.propertiesValueMatches++;\n                                }\n                            }\n                            else {\n                                var propertyValidationResult = new ValidationResult();\n                                validate(child, propertySchema, propertyValidationResult, matchingSchemas);\n                                validationResult.mergePropertyMatch(propertyValidationResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            for (var _k = 0, unprocessedProperties_1 = unprocessedProperties; _k < unprocessedProperties_1.length; _k++) {\n                var propertyName = unprocessedProperties_1[_k];\n                var child = seenKeys[propertyName];\n                if (child) {\n                    var propertyValidationResult = new ValidationResult();\n                    validate(child, schema.additionalProperties, propertyValidationResult, matchingSchemas);\n                    validationResult.mergePropertyMatch(propertyValidationResult);\n                }\n            }\n        }\n        else if (schema.additionalProperties === false) {\n            if (unprocessedProperties.length > 0) {\n                for (var _l = 0, unprocessedProperties_2 = unprocessedProperties; _l < unprocessedProperties_2.length; _l++) {\n                    var propertyName = unprocessedProperties_2[_l];\n                    var child = seenKeys[propertyName];\n                    if (child) {\n                        var propertyNode = child.parent;\n                        validationResult.problems.push({\n                            location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },\n                            message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName)\n                        });\n                    }\n                }\n            }\n        }\n        if (objects_1.isNumber(schema.maxProperties)) {\n            if (node.properties.length > schema.maxProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MaxPropWarning', 'Object has more properties than limit of {0}.', schema.maxProperties)\n                });\n            }\n        }\n        if (objects_1.isNumber(schema.minProperties)) {\n            if (node.properties.length < schema.minProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    message: localize('MinPropWarning', 'Object has fewer properties than the required number of {0}', schema.minProperties)\n                });\n            }\n        }\n        if (schema.dependencies) {\n            for (var _m = 0, _o = Object.keys(schema.dependencies); _m < _o.length; _m++) {\n                var key = _o[_m];\n                var prop = seenKeys[key];\n                if (prop) {\n                    var propertyDep = schema.dependencies[key];\n                    if (Array.isArray(propertyDep)) {\n                        for (var _p = 0, propertyDep_1 = propertyDep; _p < propertyDep_1.length; _p++) {\n                            var requiredProp = propertyDep_1[_p];\n                            if (!seenKeys[requiredProp]) {\n                                validationResult.problems.push({\n                                    location: { offset: node.offset, length: node.length },\n                                    message: localize('RequiredDependentPropWarning', 'Object is missing property {0} required by property {1}.', requiredProp, key)\n                                });\n                            }\n                            else {\n                                validationResult.propertiesValueMatches++;\n                            }\n                        }\n                    }\n                    else {\n                        var propertySchema = asSchema(propertyDep);\n                        if (propertySchema) {\n                            var propertyValidationResult = new ValidationResult();\n                            validate(node, propertySchema, propertyValidationResult, matchingSchemas);\n                            validationResult.mergePropertyMatch(propertyValidationResult);\n                        }\n                    }\n                }\n            }\n        }\n        var propertyNames = asSchema(schema.propertyNames);\n        if (propertyNames) {\n            for (var _q = 0, _r = node.properties; _q < _r.length; _q++) {\n                var f = _r[_q];\n                var key = f.keyNode;\n                if (key) {\n                    validate(key, propertyNames, validationResult, NoOpSchemaCollector.instance);\n                }\n            }\n        }\n    }\n}\nfunction parse(textDocument, config) {\n    var problems = [];\n    var lastProblemOffset = -1;\n    var text = textDocument.getText();\n    var scanner = Json.createScanner(text, false);\n    var commentRanges = config && config.collectComments ? [] : undefined;\n    function _scanNext() {\n        while (true) {\n            var token_1 = scanner.scan();\n            _checkScanError();\n            switch (token_1) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (Array.isArray(commentRanges)) {\n                        commentRanges.push(jsonLanguageTypes_1.Range.create(textDocument.positionAt(scanner.getTokenOffset()), textDocument.positionAt(scanner.getTokenOffset() + scanner.getTokenLength())));\n                    }\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token_1;\n            }\n        }\n    }\n    function _accept(token) {\n        if (scanner.getToken() === token) {\n            _scanNext();\n            return true;\n        }\n        return false;\n    }\n    function _errorAtRange(message, code, startOffset, endOffset, severity) {\n        if (severity === void 0) { severity = jsonLanguageTypes_1.DiagnosticSeverity.Error; }\n        if (problems.length === 0 || startOffset !== lastProblemOffset) {\n            var range = jsonLanguageTypes_1.Range.create(textDocument.positionAt(startOffset), textDocument.positionAt(endOffset));\n            problems.push(jsonLanguageTypes_1.Diagnostic.create(range, message, severity, code, textDocument.languageId));\n            lastProblemOffset = startOffset;\n        }\n    }\n    function _error(message, code, node, skipUntilAfter, skipUntil) {\n        if (node === void 0) { node = undefined; }\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        var start = scanner.getTokenOffset();\n        var end = scanner.getTokenOffset() + scanner.getTokenLength();\n        if (start === end && start > 0) {\n            start--;\n            while (start > 0 && /\\s/.test(text.charAt(start))) {\n                start--;\n            }\n            end = start + 1;\n        }\n        _errorAtRange(message, code, start, end);\n        if (node) {\n            _finalize(node, false);\n        }\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token_2 = scanner.getToken();\n            while (token_2 !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token_2) !== -1) {\n                    _scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token_2) !== -1) {\n                    break;\n                }\n                token_2 = _scanNext();\n            }\n        }\n        return node;\n    }\n    function _checkScanError() {\n        switch (scanner.getTokenError()) {\n            case 4 /* InvalidUnicode */:\n                _error(localize('InvalidUnicode', 'Invalid unicode sequence in string.'), jsonLanguageTypes_1.ErrorCode.InvalidUnicode);\n                return true;\n            case 5 /* InvalidEscapeCharacter */:\n                _error(localize('InvalidEscapeCharacter', 'Invalid escape character in string.'), jsonLanguageTypes_1.ErrorCode.InvalidEscapeCharacter);\n                return true;\n            case 3 /* UnexpectedEndOfNumber */:\n                _error(localize('UnexpectedEndOfNumber', 'Unexpected end of number.'), jsonLanguageTypes_1.ErrorCode.UnexpectedEndOfNumber);\n                return true;\n            case 1 /* UnexpectedEndOfComment */:\n                _error(localize('UnexpectedEndOfComment', 'Unexpected end of comment.'), jsonLanguageTypes_1.ErrorCode.UnexpectedEndOfComment);\n                return true;\n            case 2 /* UnexpectedEndOfString */:\n                _error(localize('UnexpectedEndOfString', 'Unexpected end of string.'), jsonLanguageTypes_1.ErrorCode.UnexpectedEndOfString);\n                return true;\n            case 6 /* InvalidCharacter */:\n                _error(localize('InvalidCharacter', 'Invalid characters in string. Control characters must be escaped.'), jsonLanguageTypes_1.ErrorCode.InvalidCharacter);\n                return true;\n        }\n        return false;\n    }\n    function _finalize(node, scanNext) {\n        node.length = scanner.getTokenOffset() + scanner.getTokenLength() - node.offset;\n        if (scanNext) {\n            _scanNext();\n        }\n        return node;\n    }\n    function _parseArray(parent) {\n        if (scanner.getToken() !== 3 /* OpenBracketToken */) {\n            return undefined;\n        }\n        var node = new ArrayASTNodeImpl(parent, scanner.getTokenOffset());\n        _scanNext(); // consume OpenBracketToken\n        var count = 0;\n        var needsComma = false;\n        while (scanner.getToken() !== 4 /* CloseBracketToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('ValueExpected', 'Value expected'), jsonLanguageTypes_1.ErrorCode.ValueExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 4 /* CloseBracketToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), jsonLanguageTypes_1.ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), jsonLanguageTypes_1.ErrorCode.CommaExpected);\n            }\n            var item = _parseValue(node);\n            if (!item) {\n                _error(localize('PropertyExpected', 'Value expected'), jsonLanguageTypes_1.ErrorCode.ValueExpected, undefined, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.items.push(item);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 4 /* CloseBracketToken */) {\n            return _error(localize('ExpectedCloseBracket', 'Expected comma or closing bracket'), jsonLanguageTypes_1.ErrorCode.CommaOrCloseBacketExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    var keyPlaceholder = new StringASTNodeImpl(undefined, 0, 0);\n    function _parseProperty(parent, keysSeen) {\n        var node = new PropertyASTNodeImpl(parent, scanner.getTokenOffset(), keyPlaceholder);\n        var key = _parseString(node);\n        if (!key) {\n            if (scanner.getToken() === 16 /* Unknown */) {\n                // give a more helpful error message\n                _error(localize('DoubleQuotesExpected', 'Property keys must be doublequoted'), jsonLanguageTypes_1.ErrorCode.Undefined);\n                var keyNode = new StringASTNodeImpl(node, scanner.getTokenOffset(), scanner.getTokenLength());\n                keyNode.value = scanner.getTokenValue();\n                key = keyNode;\n                _scanNext(); // consume Unknown\n            }\n            else {\n                return undefined;\n            }\n        }\n        node.keyNode = key;\n        var seen = keysSeen[key.value];\n        if (seen) {\n            _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), jsonLanguageTypes_1.ErrorCode.DuplicateKey, node.keyNode.offset, node.keyNode.offset + node.keyNode.length, jsonLanguageTypes_1.DiagnosticSeverity.Warning);\n            if (typeof seen === 'object') {\n                _errorAtRange(localize('DuplicateKeyWarning', \"Duplicate object key\"), jsonLanguageTypes_1.ErrorCode.DuplicateKey, seen.keyNode.offset, seen.keyNode.offset + seen.keyNode.length, jsonLanguageTypes_1.DiagnosticSeverity.Warning);\n            }\n            keysSeen[key.value] = true; // if the same key is duplicate again, avoid duplicate error reporting\n        }\n        else {\n            keysSeen[key.value] = node;\n        }\n        if (scanner.getToken() === 6 /* ColonToken */) {\n            node.colonOffset = scanner.getTokenOffset();\n            _scanNext(); // consume ColonToken\n        }\n        else {\n            _error(localize('ColonExpected', 'Colon expected'), jsonLanguageTypes_1.ErrorCode.ColonExpected);\n            if (scanner.getToken() === 10 /* StringLiteral */ && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner.getTokenOffset()).line) {\n                node.length = key.length;\n                return node;\n            }\n        }\n        var value = _parseValue(node);\n        if (!value) {\n            return _error(localize('ValueExpected', 'Value expected'), jsonLanguageTypes_1.ErrorCode.ValueExpected, node, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        node.valueNode = value;\n        node.length = value.offset + value.length - node.offset;\n        return node;\n    }\n    function _parseObject(parent) {\n        if (scanner.getToken() !== 1 /* OpenBraceToken */) {\n            return undefined;\n        }\n        var node = new ObjectASTNodeImpl(parent, scanner.getTokenOffset());\n        var keysSeen = Object.create(null);\n        _scanNext(); // consume OpenBraceToken\n        var needsComma = false;\n        while (scanner.getToken() !== 2 /* CloseBraceToken */ && scanner.getToken() !== 17 /* EOF */) {\n            if (scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    _error(localize('PropertyExpected', 'Property expected'), jsonLanguageTypes_1.ErrorCode.PropertyExpected);\n                }\n                var commaOffset = scanner.getTokenOffset();\n                _scanNext(); // consume comma\n                if (scanner.getToken() === 2 /* CloseBraceToken */) {\n                    if (needsComma) {\n                        _errorAtRange(localize('TrailingComma', 'Trailing comma'), jsonLanguageTypes_1.ErrorCode.TrailingComma, commaOffset, commaOffset + 1);\n                    }\n                    continue;\n                }\n            }\n            else if (needsComma) {\n                _error(localize('ExpectedComma', 'Expected comma'), jsonLanguageTypes_1.ErrorCode.CommaExpected);\n            }\n            var property = _parseProperty(node, keysSeen);\n            if (!property) {\n                _error(localize('PropertyExpected', 'Property expected'), jsonLanguageTypes_1.ErrorCode.PropertyExpected, undefined, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            else {\n                node.properties.push(property);\n            }\n            needsComma = true;\n        }\n        if (scanner.getToken() !== 2 /* CloseBraceToken */) {\n            return _error(localize('ExpectedCloseBrace', 'Expected comma or closing brace'), jsonLanguageTypes_1.ErrorCode.CommaOrCloseBraceExpected, node);\n        }\n        return _finalize(node, true);\n    }\n    function _parseString(parent) {\n        if (scanner.getToken() !== 10 /* StringLiteral */) {\n            return undefined;\n        }\n        var node = new StringASTNodeImpl(parent, scanner.getTokenOffset());\n        node.value = scanner.getTokenValue();\n        return _finalize(node, true);\n    }\n    function _parseNumber(parent) {\n        if (scanner.getToken() !== 11 /* NumericLiteral */) {\n            return undefined;\n        }\n        var node = new NumberASTNodeImpl(parent, scanner.getTokenOffset());\n        if (scanner.getTokenError() === 0 /* None */) {\n            var tokenValue = scanner.getTokenValue();\n            try {\n                var numberValue = JSON.parse(tokenValue);\n                if (!objects_1.isNumber(numberValue)) {\n                    return _error(localize('InvalidNumberFormat', 'Invalid number format.'), jsonLanguageTypes_1.ErrorCode.Undefined, node);\n                }\n                node.value = numberValue;\n            }\n            catch (e) {\n                return _error(localize('InvalidNumberFormat', 'Invalid number format.'), jsonLanguageTypes_1.ErrorCode.Undefined, node);\n            }\n            node.isInteger = tokenValue.indexOf('.') === -1;\n        }\n        return _finalize(node, true);\n    }\n    function _parseLiteral(parent) {\n        var node;\n        switch (scanner.getToken()) {\n            case 7 /* NullKeyword */:\n                return _finalize(new NullASTNodeImpl(parent, scanner.getTokenOffset()), true);\n            case 8 /* TrueKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, true, scanner.getTokenOffset()), true);\n            case 9 /* FalseKeyword */:\n                return _finalize(new BooleanASTNodeImpl(parent, false, scanner.getTokenOffset()), true);\n            default:\n                return undefined;\n        }\n    }\n    function _parseValue(parent) {\n        return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);\n    }\n    var _root = undefined;\n    var token = _scanNext();\n    if (token !== 17 /* EOF */) {\n        _root = _parseValue(_root);\n        if (!_root) {\n            _error(localize('Invalid symbol', 'Expected a JSON object, array or literal.'), jsonLanguageTypes_1.ErrorCode.Undefined);\n        }\n        else if (scanner.getToken() !== 17 /* EOF */) {\n            _error(localize('End of file expected', 'End of file expected.'), jsonLanguageTypes_1.ErrorCode.Undefined);\n        }\n    }\n    return new JSONDocument(_root, problems, commentRanges);\n}\nexports.parse = parse;\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar fs = require(\"fs\");\r\nvar toString = Object.prototype.toString;\r\nfunction isDefined(value) {\r\n    return typeof value !== 'undefined';\r\n}\r\nfunction isNumber(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nfunction isString(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nfunction isBoolean(value) {\r\n    return value === true || value === false;\r\n}\r\nfunction readJsonFileSync(filename) {\r\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\r\n}\r\nvar MessageFormat;\r\n(function (MessageFormat) {\r\n    MessageFormat[\"file\"] = \"file\";\r\n    MessageFormat[\"bundle\"] = \"bundle\";\r\n    MessageFormat[\"both\"] = \"both\";\r\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\r\nvar BundleFormat;\r\n(function (BundleFormat) {\r\n    // the nls.bundle format\r\n    BundleFormat[\"standalone\"] = \"standalone\";\r\n    BundleFormat[\"languagePack\"] = \"languagePack\";\r\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\r\nvar LocalizeInfo;\r\n(function (LocalizeInfo) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\r\n    }\r\n    LocalizeInfo.is = is;\r\n})(LocalizeInfo || (LocalizeInfo = {}));\r\nvar resolvedLanguage;\r\nvar resolvedBundles;\r\nvar options;\r\nvar isPseudo;\r\nfunction initializeSettings() {\r\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: MessageFormat.bundle };\r\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\r\n        try {\r\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\r\n            var language = void 0;\r\n            var locale = void 0;\r\n            if (vscodeOptions_1.availableLanguages) {\r\n                var value = vscodeOptions_1.availableLanguages['*'];\r\n                if (isString(value)) {\r\n                    language = value;\r\n                }\r\n            }\r\n            if (isString(vscodeOptions_1.locale)) {\r\n                options.locale = vscodeOptions_1.locale.toLowerCase();\r\n            }\r\n            if (language === undefined) {\r\n                options.language = options.locale;\r\n            }\r\n            else if (language !== 'en') {\r\n                options.language = language;\r\n            }\r\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\r\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\r\n            }\r\n            if (isString(vscodeOptions_1._cacheRoot)) {\r\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\r\n            }\r\n            if (isString(vscodeOptions_1._languagePackId)) {\r\n                options.languagePackId = vscodeOptions_1._languagePackId;\r\n            }\r\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\r\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\r\n                try {\r\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\r\n                }\r\n                catch (error) {\r\n                    // We can't read the translation config file. Mark the cache as corrupted.\r\n                    if (vscodeOptions_1._corruptedFile) {\r\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\r\n                        fs.exists(dirname, function (exists) {\r\n                            if (exists) {\r\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\r\n                                    console.error(err);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    resolvedLanguage = undefined;\r\n    resolvedBundles = Object.create(null);\r\n}\r\ninitializeSettings();\r\nfunction supportsLanguagePack() {\r\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\r\n        && options.translationsConfig !== undefined;\r\n}\r\nfunction format(message, args) {\r\n    var result;\r\n    if (isPseudo) {\r\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\r\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\r\n    }\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            var arg = args[index];\r\n            var replacement = match;\r\n            if (typeof arg === 'string') {\r\n                replacement = arg;\r\n            }\r\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\r\n                replacement = String(arg);\r\n            }\r\n            return replacement;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction createScopedLocalizeFunction(messages) {\r\n    return function (key, message) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNumber(key)) {\r\n            if (key >= messages.length) {\r\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\r\n                return;\r\n            }\r\n            return format(messages[key], args);\r\n        }\r\n        else {\r\n            if (isString(message)) {\r\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\r\n                return format(message, args);\r\n            }\r\n            else {\r\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction resolveLanguage(file) {\r\n    var resolvedLanguage;\r\n    if (options.cacheLanguageResolution && resolvedLanguage) {\r\n        resolvedLanguage = resolvedLanguage;\r\n    }\r\n    else {\r\n        if (isPseudo || !options.language) {\r\n            resolvedLanguage = '.nls.json';\r\n        }\r\n        else {\r\n            var locale = options.language;\r\n            while (locale) {\r\n                var candidate = '.nls.' + locale + '.json';\r\n                if (fs.existsSync(file + candidate)) {\r\n                    resolvedLanguage = candidate;\r\n                    break;\r\n                }\r\n                else {\r\n                    var index = locale.lastIndexOf('-');\r\n                    if (index > 0) {\r\n                        locale = locale.substring(0, index);\r\n                    }\r\n                    else {\r\n                        resolvedLanguage = '.nls.json';\r\n                        locale = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (options.cacheLanguageResolution) {\r\n            resolvedLanguage = resolvedLanguage;\r\n        }\r\n    }\r\n    return file + resolvedLanguage;\r\n}\r\nfunction findInTheBoxBundle(root) {\r\n    var language = options.language;\r\n    while (language) {\r\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n        else {\r\n            var index = language.lastIndexOf('-');\r\n            if (index > 0) {\r\n                language = language.substring(0, index);\r\n            }\r\n            else {\r\n                language = undefined;\r\n            }\r\n        }\r\n    }\r\n    // Test if we can reslove the default bundle.\r\n    if (language === undefined) {\r\n        var candidate = path.join(root, 'nls.bundle.json');\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction mkdir(directory) {\r\n    try {\r\n        fs.mkdirSync(directory);\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'EEXIST') {\r\n            return;\r\n        }\r\n        else if (err.code === 'ENOENT') {\r\n            var parent = path.dirname(directory);\r\n            if (parent !== directory) {\r\n                mkdir(parent);\r\n                fs.mkdirSync(directory);\r\n            }\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n}\r\nfunction createDefaultNlsBundle(folder) {\r\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_1 in metaData) {\r\n        var entry = metaData[module_1];\r\n        result[module_1] = entry.messages;\r\n    }\r\n    return result;\r\n}\r\nfunction createNLSBundle(header, metaDataPath) {\r\n    var languagePackLocation = options.translationsConfig[header.id];\r\n    if (!languagePackLocation) {\r\n        return undefined;\r\n    }\r\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\r\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_2 in metaData) {\r\n        var entry = metaData[module_2];\r\n        var translations = languagePack[header.outDir + \"/\" + module_2];\r\n        if (translations) {\r\n            var resultMessages = [];\r\n            for (var i = 0; i < entry.keys.length; i++) {\r\n                var messageKey = entry.keys[i];\r\n                var key = isString(messageKey) ? messageKey : messageKey.key;\r\n                var translatedMessage = translations[key];\r\n                if (translatedMessage === undefined) {\r\n                    translatedMessage = entry.messages[i];\r\n                }\r\n                resultMessages.push(translatedMessage);\r\n            }\r\n            result[module_2] = resultMessages;\r\n        }\r\n        else {\r\n            result[module_2] = entry.messages;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction touch(file) {\r\n    var d = new Date();\r\n    fs.utimes(file, d, d, function () {\r\n        // Do nothing. Ignore\r\n    });\r\n}\r\nfunction cacheBundle(key, bundle) {\r\n    resolvedBundles[key] = bundle;\r\n    return bundle;\r\n}\r\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\r\n    var result;\r\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\r\n    var useMemoryOnly = false;\r\n    var writeBundle = false;\r\n    try {\r\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\r\n        touch(bundle);\r\n        return result;\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'ENOENT') {\r\n            writeBundle = true;\r\n        }\r\n        else if (err instanceof SyntaxError) {\r\n            // We have a syntax error. So no valid JSON. Use\r\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\r\n            fs.unlink(bundle, function (err) {\r\n                if (err) {\r\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\r\n                }\r\n            });\r\n            useMemoryOnly = true;\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    result = createNLSBundle(header, bundlePath);\r\n    if (!result || useMemoryOnly) {\r\n        return result;\r\n    }\r\n    if (writeBundle) {\r\n        try {\r\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'EEXIST') {\r\n                return result;\r\n            }\r\n            throw err;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadDefaultNlsBundle(bundlePath) {\r\n    try {\r\n        return createDefaultNlsBundle(bundlePath);\r\n    }\r\n    catch (err) {\r\n        console.log(\"Generating default bundle from meta data failed.\", err);\r\n        return undefined;\r\n    }\r\n}\r\nfunction loadNlsBundle(header, bundlePath) {\r\n    var result;\r\n    // Core decided to use a language pack. Do the same in the extension\r\n    if (supportsLanguagePack()) {\r\n        try {\r\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Load or create bundle failed \", err);\r\n        }\r\n    }\r\n    if (!result) {\r\n        // No language pack found, but core is running in language pack mode\r\n        // Don't try to use old in the box bundles since the might be stale\r\n        // Fall right back to the default bundle.\r\n        if (options.languagePackSupport) {\r\n            return loadDefaultNlsBundle(bundlePath);\r\n        }\r\n        var candidate = findInTheBoxBundle(bundlePath);\r\n        if (candidate) {\r\n            try {\r\n                return readJsonFileSync(candidate);\r\n            }\r\n            catch (err) {\r\n                console.log(\"Loading in the box message bundle failed.\", err);\r\n            }\r\n        }\r\n        result = loadDefaultNlsBundle(bundlePath);\r\n    }\r\n    return result;\r\n}\r\nfunction tryFindMetaDataHeaderFile(file) {\r\n    var result;\r\n    var dirname = path.dirname(file);\r\n    while (true) {\r\n        result = path.join(dirname, 'nls.metadata.header.json');\r\n        if (fs.existsSync(result)) {\r\n            break;\r\n        }\r\n        var parent = path.dirname(dirname);\r\n        if (parent === dirname) {\r\n            result = undefined;\r\n            break;\r\n        }\r\n        else {\r\n            dirname = parent;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadMessageBundle(file) {\r\n    if (!file) {\r\n        // No file. We are in dev mode. Return the default\r\n        // localize function.\r\n        return localize;\r\n    }\r\n    // Remove extension since we load json files.\r\n    var ext = path.extname(file);\r\n    if (ext) {\r\n        file = file.substr(0, file.length - ext.length);\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.bundle) {\r\n        var headerFile = tryFindMetaDataHeaderFile(file);\r\n        if (headerFile) {\r\n            var bundlePath = path.dirname(headerFile);\r\n            var bundle = resolvedBundles[bundlePath];\r\n            if (bundle === undefined) {\r\n                try {\r\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\r\n                    try {\r\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\r\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\r\n                    }\r\n                    catch (err) {\r\n                        console.error('Failed to load nls bundle', err);\r\n                        bundle = cacheBundle(bundlePath, null);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.error('Failed to read header file', err);\r\n                    bundle = cacheBundle(bundlePath, null);\r\n                }\r\n            }\r\n            if (bundle) {\r\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\r\n                var messages = bundle.nlsBundle[module_3];\r\n                if (messages === undefined) {\r\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\r\n                    return function () {\r\n                        return 'Messages not found.';\r\n                    };\r\n                }\r\n                return createScopedLocalizeFunction(messages);\r\n            }\r\n        }\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.file) {\r\n        // Try to load a single file bundle\r\n        try {\r\n            var json = readJsonFileSync(resolveLanguage(file));\r\n            if (Array.isArray(json)) {\r\n                return createScopedLocalizeFunction(json);\r\n            }\r\n            else {\r\n                if (isDefined(json.messages) && isDefined(json.keys)) {\r\n                    return createScopedLocalizeFunction(json.messages);\r\n                }\r\n                else {\r\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\r\n                    return function () {\r\n                        return 'File bundle has unsupported format. See console for details';\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                console.error('Failed to load single file bundle', err);\r\n            }\r\n        }\r\n    }\r\n    console.error(\"Failed to load message bundle for file \" + file);\r\n    return function () {\r\n        return 'Failed to load message bundle. See console for details.';\r\n    };\r\n}\r\nexports.loadMessageBundle = loadMessageBundle;\r\nfunction config(opts) {\r\n    if (opts) {\r\n        if (isString(opts.locale)) {\r\n            options.locale = opts.locale.toLowerCase();\r\n            options.language = options.locale;\r\n            resolvedLanguage = undefined;\r\n            resolvedBundles = Object.create(null);\r\n        }\r\n        if (opts.messageFormat !== undefined) {\r\n            options.messageFormat = opts.messageFormat;\r\n        }\r\n        if (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\r\n            options.languagePackSupport = false;\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    return loadMessageBundle;\r\n}\r\nexports.config = config;\r\n//# sourceMappingURL=main.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Kind;\n(function (Kind) {\n    Kind[Kind[\"SCALAR\"] = 0] = \"SCALAR\";\n    Kind[Kind[\"MAPPING\"] = 1] = \"MAPPING\";\n    Kind[Kind[\"MAP\"] = 2] = \"MAP\";\n    Kind[Kind[\"SEQ\"] = 3] = \"SEQ\";\n    Kind[Kind[\"ANCHOR_REF\"] = 4] = \"ANCHOR_REF\";\n    Kind[Kind[\"INCLUDE_REF\"] = 5] = \"INCLUDE_REF\";\n})(Kind = exports.Kind || (exports.Kind = {}));\nfunction newMapping(key, value) {\n    var end = (value ? value.endPosition : key.endPosition + 1);\n    var node = {\n        key: key,\n        value: value,\n        startPosition: key.startPosition,\n        endPosition: end,\n        kind: Kind.MAPPING,\n        parent: null,\n        errors: []\n    };\n    return node;\n}\nexports.newMapping = newMapping;\nfunction newAnchorRef(key, start, end, value) {\n    return {\n        errors: [],\n        referencesAnchor: key,\n        value: value,\n        startPosition: start,\n        endPosition: end,\n        kind: Kind.ANCHOR_REF,\n        parent: null\n    };\n}\nexports.newAnchorRef = newAnchorRef;\nfunction newScalar(v = \"\") {\n    const result = {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        value: \"\" + v,\n        kind: Kind.SCALAR,\n        parent: null,\n        doubleQuoted: false,\n        rawValue: \"\" + v,\n    };\n    if (typeof v !== \"string\") {\n        result.valueObject = v;\n    }\n    return result;\n}\nexports.newScalar = newScalar;\nfunction newItems() {\n    return {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        items: [],\n        kind: Kind.SEQ,\n        parent: null\n    };\n}\nexports.newItems = newItems;\nfunction newSeq() {\n    return newItems();\n}\nexports.newSeq = newSeq;\nfunction newMap(mappings) {\n    return {\n        errors: [],\n        startPosition: -1,\n        endPosition: -1,\n        mappings: mappings ? mappings : [],\n        kind: Kind.MAP,\n        parent: null\n    };\n}\nexports.newMap = newMap;\nfunction isNodesEqual(a, b) {\n    if (!a || !b) {\n        return false;\n    }\n    if (a.kind !== b.kind) {\n        return false;\n    }\n    if (a.kind === Kind.SCALAR) {\n        return a.value === b.value;\n    }\n    if (a.kind === Kind.SEQ) {\n        const aSeq = a;\n        const bSeq = b;\n        if (aSeq.items.length !== bSeq.items.length) {\n            return false;\n        }\n        for (let i = 0; i < aSeq.items.length; i++) {\n            const elementA = aSeq.items[i];\n            const elementB = bSeq.items[i];\n            if (!isNodesEqual(elementA, elementB)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    if (a.kind === Kind.MAP) {\n        const aMap = a;\n        const bMap = b;\n        if (aMap.mappings.length !== bMap.mappings.length) {\n            return false;\n        }\n        for (const mapA of aMap.mappings) {\n            const keyA = mapA.key;\n            const valA = mapA.value;\n            const mapB = bMap.mappings.find(mapB => isNodesEqual(keyA, mapB.key));\n            if (mapB) {\n                if (!isNodesEqual(valA, mapB.value)) {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    if (Kind.MAPPING === a.kind) {\n        const aAsMapping = a;\n        const bAsMapping = b;\n        const eq = isNodesEqual(aAsMapping.key, bAsMapping.key);\n        return eq;\n    }\n    return false;\n}\nexports.isNodesEqual = isNodesEqual;\n//# sourceMappingURL=yamlAST.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","'use strict';\nvar schema_1 = require(\"../schema\");\nvar schema = new schema_1.Schema({\n    include: [\n        require('./core')\n    ],\n    implicit: [\n        require('../type/timestamp'),\n        require('../type/merge')\n    ],\n    explicit: [\n        require('../type/binary'),\n        require('../type/omap'),\n        require('../type/pairs'),\n        require('../type/set')\n    ]\n});\nmodule.exports = schema;\n//# sourceMappingURL=default_safe.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport function createScanner(text, ignoreTrivia) {\n    if (ignoreTrivia === void 0) { ignoreTrivia = false; }\n    var len = text.length;\n    var pos = 0, value = '', tokenOffset = 0, token = 16 /* Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* None */;\n    function scanHexDigits(count, exact) {\n        var digits = 0;\n        var value = 0;\n        while (digits < count || !exact) {\n            var ch = text.charCodeAt(pos);\n            if (ch >= 48 /* _0 */ && ch <= 57 /* _9 */) {\n                value = value * 16 + ch - 48 /* _0 */;\n            }\n            else if (ch >= 65 /* A */ && ch <= 70 /* F */) {\n                value = value * 16 + ch - 65 /* A */ + 10;\n            }\n            else if (ch >= 97 /* a */ && ch <= 102 /* f */) {\n                value = value * 16 + ch - 97 /* a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* Unknown */;\n        scanError = 0 /* None */;\n    }\n    function scanNumber() {\n        var start = pos;\n        if (text.charCodeAt(pos) === 48 /* _0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        var end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* E */ || text.charCodeAt(pos) === 101 /* e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* plus */ || text.charCodeAt(pos) === 45 /* minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        var result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* UnexpectedEndOfString */;\n                break;\n            }\n            var ch = text.charCodeAt(pos);\n            if (ch === 34 /* doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                var ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* slash */:\n                        result += '/';\n                        break;\n                    case 98 /* b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* u */:\n                        var ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* EOF */;\n        }\n        var code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* openBrace */:\n                pos++;\n                return token = 1 /* OpenBraceToken */;\n            case 125 /* closeBrace */:\n                pos++;\n                return token = 2 /* CloseBraceToken */;\n            case 91 /* openBracket */:\n                pos++;\n                return token = 3 /* OpenBracketToken */;\n            case 93 /* closeBracket */:\n                pos++;\n                return token = 4 /* CloseBracketToken */;\n            case 58 /* colon */:\n                pos++;\n                return token = 6 /* ColonToken */;\n            case 44 /* comma */:\n                pos++;\n                return token = 5 /* CommaToken */;\n            // strings\n            case 34 /* doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* StringLiteral */;\n            // comments\n            case 47 /* slash */:\n                var start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* asterisk */) {\n                    pos += 2;\n                    var safeLength = len - 1; // For lookahead.\n                    var commentClosed = false;\n                    while (pos < safeLength) {\n                        var ch = text.charCodeAt(pos);\n                        if (ch === 42 /* asterisk */ && text.charCodeAt(pos + 1) === 47 /* slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n            // numbers\n            case 45 /* minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* _0 */:\n            case 49 /* _1 */:\n            case 50 /* _2 */:\n            case 51 /* _3 */:\n            case 52 /* _4 */:\n            case 53 /* _5 */:\n            case 54 /* _6 */:\n            case 55 /* _7 */:\n            case 56 /* _8 */:\n            case 57 /* _9 */:\n                value += scanNumber();\n                return token = 11 /* NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* TrueKeyword */;\n                        case 'false': return token = 9 /* FalseKeyword */;\n                        case 'null': return token = 7 /* NullKeyword */;\n                    }\n                    return token = 16 /* Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* closeBrace */:\n            case 93 /* closeBracket */:\n            case 123 /* openBrace */:\n            case 91 /* openBracket */:\n            case 34 /* doubleQuote */:\n            case 58 /* colon */:\n            case 44 /* comma */:\n            case 47 /* slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        var result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* LineCommentTrivia */ && result <= 15 /* Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: function () { return pos; },\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: function () { return token; },\n        getTokenValue: function () { return value; },\n        getTokenOffset: function () { return tokenOffset; },\n        getTokenLength: function () { return pos - tokenOffset; },\n        getTokenStartLine: function () { return lineStartOffset; },\n        getTokenStartCharacter: function () { return tokenOffset - prevTokenLineStartOffset; },\n        getTokenError: function () { return scanError; },\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* space */ || ch === 9 /* tab */ || ch === 11 /* verticalTab */ || ch === 12 /* formFeed */ ||\n        ch === 160 /* nonBreakingSpace */ || ch === 5760 /* ogham */ || ch >= 8192 /* enQuad */ && ch <= 8203 /* zeroWidthSpace */ ||\n        ch === 8239 /* narrowNoBreakSpace */ || ch === 8287 /* mathematicalSpace */ || ch === 12288 /* ideographicSpace */ || ch === 65279 /* byteOrderMark */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* lineFeed */ || ch === 13 /* carriageReturn */ || ch === 8232 /* lineSeparator */ || ch === 8233 /* paragraphSeparator */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* _0 */ && ch <= 57 /* _9 */;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.repeat = exports.convertSimple2RegExpPattern = exports.endsWith = exports.startsWith = void 0;\nfunction startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.startsWith = startsWith;\n/**\n * Determines if haystack ends with needle.\n */\nfunction endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nexports.endsWith = endsWith;\nfunction convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexports.convertSimple2RegExpPattern = convertSimple2RegExpPattern;\nfunction repeat(value, count) {\n    var s = '';\n    while (count > 0) {\n        if ((count & 1) === 1) {\n            s += value;\n        }\n        value += value;\n        count = count >>> 1;\n    }\n    return s;\n}\nexports.repeat = repeat;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isString = exports.isBoolean = exports.isDefined = exports.isNumber = exports.equals = void 0;\nfunction equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if ((Array.isArray(one)) !== (Array.isArray(other))) {\n        return false;\n    }\n    var i, key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        var oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        var otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexports.equals = equals;\nfunction isNumber(val) {\n    return typeof val === 'number';\n}\nexports.isNumber = isNumber;\nfunction isDefined(val) {\n    return typeof val !== 'undefined';\n}\nexports.isDefined = isDefined;\nfunction isBoolean(val) {\n    return typeof val === 'boolean';\n}\nexports.isBoolean = isBoolean;\nfunction isString(val) {\n    return typeof val === 'string';\n}\nexports.isString = isString;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (changes, version) {\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n            var change = changes_1[_i];\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                var range = getWellformedRange(change.range);\n                // update content\n                var startOffset = this.offsetAt(range.start);\n                var endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                var startLine = Math.max(range.start.line, 0);\n                var endLine = Math.max(range.end.line, 0);\n                var lineOffsets = this._lineOffsets;\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                var diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return { line: line, character: offset - lineOffsets[line] };\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.isIncremental = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    };\n    FullTextDocument.isFull = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    };\n    return FullTextDocument;\n}());\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifing its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = 0;\n        var spans = [];\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n            var e = sortedEdits_1[_i];\n            var startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    var p = (data.length / 2) | 0;\n    var left = data.slice(0, p);\n    var right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    var leftIdx = 0;\n    var rightIdx = 0;\n    var i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        var ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\n    if (textOffset === void 0) { textOffset = 0; }\n    var result = isAtLineStart ? [textOffset] : [];\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charCodeAt(i);\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    var start = range.start;\n    var end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    var range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range: range };\n    }\n    return textEdit;\n}\n","'use strict';\nconst schema_1 = require(\"../schema\");\nvar schema = new schema_1.Schema({\n    include: [\n        require('./core')\n    ],\n    implicit: [\n        require('../type/timestamp'),\n        require('../type/merge')\n    ],\n    explicit: [\n        require('../type/binary'),\n        require('../type/omap'),\n        require('../type/pairs'),\n        require('../type/set')\n    ]\n});\nmodule.exports = schema;\n//# sourceMappingURL=default_safe.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Json = require(\"jsonc-parser\");\nconst objects_1 = require(\"../utils/objects\");\nconst vscode_json_languageservice_1 = require(\"vscode-json-languageservice\");\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst localize = nls.loadMessageBundle();\nconst formats = {\n    'color-hex': {\n        errorMessage: localize('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.'),\n        pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/,\n    },\n    'date-time': {\n        errorMessage: localize('dateTimeFormatWarning', 'String is not a RFC3339 date-time.'),\n        pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i,\n    },\n    date: {\n        errorMessage: localize('dateFormatWarning', 'String is not a RFC3339 date.'),\n        pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i,\n    },\n    time: {\n        errorMessage: localize('timeFormatWarning', 'String is not a RFC3339 time.'),\n        pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i,\n    },\n    email: {\n        errorMessage: localize('emailFormatWarning', 'String is not an e-mail address.'),\n        pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    },\n};\nexports.YAML_SOURCE = 'YAML';\nclass ASTNodeImpl {\n    constructor(parent, offset, length) {\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    getNodeFromOffsetEndInclusive(offset) {\n        const collector = [];\n        const findNode = (node) => {\n            if (offset >= node.offset && offset <= node.offset + node.length) {\n                const children = node.children;\n                for (let i = 0; i < children.length && children[i].offset <= offset; i++) {\n                    const item = findNode(children[i]);\n                    if (item) {\n                        collector.push(item);\n                    }\n                }\n                return node;\n            }\n            return null;\n        };\n        const foundNode = findNode(this);\n        let currMinDist = Number.MAX_VALUE;\n        let currMinNode = null;\n        for (const possibleNode in collector) {\n            const currNode = collector[possibleNode];\n            const minDist = currNode.length + currNode.offset - offset + (offset - currNode.offset);\n            if (minDist < currMinDist) {\n                currMinNode = currNode;\n                currMinDist = minDist;\n            }\n        }\n        return currMinNode || foundNode;\n    }\n    get children() {\n        return [];\n    }\n    toString() {\n        return ('type: ' +\n            this.type +\n            ' (' +\n            this.offset +\n            '/' +\n            this.length +\n            ')' +\n            (this.parent ? ' parent: {' + this.parent.toString() + '}' : ''));\n    }\n}\nexports.ASTNodeImpl = ASTNodeImpl;\nclass NullASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'null';\n        this.value = null;\n    }\n}\nexports.NullASTNodeImpl = NullASTNodeImpl;\nclass BooleanASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, boolValue, offset, length) {\n        super(parent, offset, length);\n        this.type = 'boolean';\n        this.value = boolValue;\n    }\n}\nexports.BooleanASTNodeImpl = BooleanASTNodeImpl;\nclass ArrayASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'array';\n        this.items = [];\n    }\n    get children() {\n        return this.items;\n    }\n}\nexports.ArrayASTNodeImpl = ArrayASTNodeImpl;\nclass NumberASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'number';\n        this.isInteger = true;\n        this.value = Number.NaN;\n    }\n}\nexports.NumberASTNodeImpl = NumberASTNodeImpl;\nclass StringASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'string';\n        this.value = '';\n    }\n}\nexports.StringASTNodeImpl = StringASTNodeImpl;\nclass PropertyASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'property';\n        this.colonOffset = -1;\n    }\n    get children() {\n        return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n    }\n}\nexports.PropertyASTNodeImpl = PropertyASTNodeImpl;\nclass ObjectASTNodeImpl extends ASTNodeImpl {\n    constructor(parent, offset, length) {\n        super(parent, offset, length);\n        this.type = 'object';\n        this.properties = [];\n    }\n    get children() {\n        return this.properties;\n    }\n}\nexports.ObjectASTNodeImpl = ObjectASTNodeImpl;\nfunction asSchema(schema) {\n    if (objects_1.isBoolean(schema)) {\n        return schema ? {} : { not: {} };\n    }\n    return schema;\n}\nexports.asSchema = asSchema;\nvar EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch = exports.EnumMatch || (exports.EnumMatch = {}));\nclass SchemaCollector {\n    constructor(focusOffset = -1, exclude = null) {\n        this.focusOffset = focusOffset;\n        this.exclude = exclude;\n        this.schemas = [];\n    }\n    add(schema) {\n        this.schemas.push(schema);\n    }\n    merge(other) {\n        this.schemas.push(...other.schemas);\n    }\n    include(node) {\n        return (this.focusOffset === -1 || contains(node, this.focusOffset)) && node !== this.exclude;\n    }\n    newSub() {\n        return new SchemaCollector(-1, this.exclude);\n    }\n}\nclass NoOpSchemaCollector {\n    constructor() {\n        // ignore\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get schemas() {\n        return [];\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    add(schema) {\n        // ignore\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    merge(other) {\n        // ignore\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    include(node) {\n        return true;\n    }\n    newSub() {\n        return this;\n    }\n}\nNoOpSchemaCollector.instance = new NoOpSchemaCollector();\nclass ValidationResult {\n    constructor(isKubernetes) {\n        this.problems = [];\n        this.propertiesMatches = 0;\n        this.propertiesValueMatches = 0;\n        this.primaryValueMatches = 0;\n        this.enumValueMatch = false;\n        if (isKubernetes) {\n            this.enumValues = [];\n        }\n        else {\n            this.enumValues = null;\n        }\n    }\n    hasProblems() {\n        return !!this.problems.length;\n    }\n    mergeAll(validationResults) {\n        for (const validationResult of validationResults) {\n            this.merge(validationResult);\n        }\n    }\n    merge(validationResult) {\n        this.problems = this.problems.concat(validationResult.problems);\n    }\n    mergeEnumValues(validationResult) {\n        if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {\n            this.enumValues = this.enumValues.concat(validationResult.enumValues);\n            for (const error of this.problems) {\n                if (error.code === vscode_json_languageservice_1.ErrorCode.EnumValueMismatch) {\n                    error.message = localize('enumWarning', 'Value is not accepted. Valid values: {0}.', [...new Set(this.enumValues)]\n                        .map((v) => {\n                        return JSON.stringify(v);\n                    })\n                        .join(', '));\n                }\n            }\n        }\n    }\n    mergePropertyMatch(propertyValidationResult) {\n        this.merge(propertyValidationResult);\n        this.propertiesMatches++;\n        if (propertyValidationResult.enumValueMatch ||\n            (!propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches)) {\n            this.propertiesValueMatches++;\n        }\n        if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues) {\n            this.primaryValueMatches++;\n        }\n    }\n    compareGeneric(other) {\n        const hasProblems = this.hasProblems();\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    }\n    compareKubernetes(other) {\n        const hasProblems = this.hasProblems();\n        if (this.propertiesMatches !== other.propertiesMatches) {\n            return this.propertiesMatches - other.propertiesMatches;\n        }\n        if (this.enumValueMatch !== other.enumValueMatch) {\n            return other.enumValueMatch ? -1 : 1;\n        }\n        if (this.primaryValueMatches !== other.primaryValueMatches) {\n            return this.primaryValueMatches - other.primaryValueMatches;\n        }\n        if (this.propertiesValueMatches !== other.propertiesValueMatches) {\n            return this.propertiesValueMatches - other.propertiesValueMatches;\n        }\n        if (hasProblems !== other.hasProblems()) {\n            return hasProblems ? -1 : 1;\n        }\n        return this.propertiesMatches - other.propertiesMatches;\n    }\n}\nexports.ValidationResult = ValidationResult;\nfunction newJSONDocument(root, diagnostics = []) {\n    return new JSONDocument(root, diagnostics, []);\n}\nexports.newJSONDocument = newJSONDocument;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getNodeValue(node) {\n    return Json.getNodeValue(node);\n}\nexports.getNodeValue = getNodeValue;\nfunction getNodePath(node) {\n    return Json.getNodePath(node);\n}\nexports.getNodePath = getNodePath;\nfunction contains(node, offset, includeRightBound = false) {\n    return ((offset >= node.offset && offset < node.offset + node.length) || (includeRightBound && offset === node.offset + node.length));\n}\nexports.contains = contains;\nclass JSONDocument {\n    constructor(root, syntaxErrors = [], comments = []) {\n        this.root = root;\n        this.syntaxErrors = syntaxErrors;\n        this.comments = comments;\n    }\n    getNodeFromOffset(offset, includeRightBound = false) {\n        if (this.root) {\n            return Json.findNodeAtOffset(this.root, offset, includeRightBound);\n        }\n        return undefined;\n    }\n    getNodeFromOffsetEndInclusive(offset) {\n        return this.root && this.root.getNodeFromOffsetEndInclusive(offset);\n    }\n    visit(visitor) {\n        if (this.root) {\n            const doVisit = (node) => {\n                let ctn = visitor(node);\n                const children = node.children;\n                if (Array.isArray(children)) {\n                    for (let i = 0; i < children.length && ctn; i++) {\n                        ctn = doVisit(children[i]);\n                    }\n                }\n                return ctn;\n            };\n            doVisit(this.root);\n        }\n    }\n    validate(textDocument, schema) {\n        if (this.root && schema) {\n            const validationResult = new ValidationResult(this.isKubernetes);\n            validate(this.root, schema, schema, validationResult, NoOpSchemaCollector.instance, this.isKubernetes);\n            return validationResult.problems.map((p) => {\n                const range = vscode_languageserver_types_1.Range.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));\n                return vscode_languageserver_types_1.Diagnostic.create(range, p.message, p.severity, p.code, p.source);\n            });\n        }\n        return null;\n    }\n    getMatchingSchemas(schema, focusOffset = -1, exclude = null) {\n        const matchingSchemas = new SchemaCollector(focusOffset, exclude);\n        if (this.root && schema) {\n            validate(this.root, schema, schema, new ValidationResult(this.isKubernetes), matchingSchemas, this.isKubernetes);\n        }\n        return matchingSchemas.schemas;\n    }\n}\nexports.JSONDocument = JSONDocument;\nfunction validate(node, schema, originalSchema, validationResult, matchingSchemas, isKubernetes\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    if (!node || !matchingSchemas.include(node)) {\n        return;\n    }\n    if (!schema.url) {\n        schema.url = originalSchema.url;\n    }\n    if (!schema.title) {\n        schema.title = originalSchema.title;\n    }\n    switch (node.type) {\n        case 'object':\n            _validateObjectNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'array':\n            _validateArrayNode(node, schema, validationResult, matchingSchemas);\n            break;\n        case 'string':\n            _validateStringNode(node, schema, validationResult);\n            break;\n        case 'number':\n            _validateNumberNode(node, schema, validationResult);\n            break;\n        case 'property':\n            return validate(node.valueNode, schema, schema, validationResult, matchingSchemas, isKubernetes);\n    }\n    _validateNode();\n    matchingSchemas.add({ node: node, schema: schema });\n    function _validateNode() {\n        function matchesType(type) {\n            return node.type === type || (type === 'integer' && node.type === 'number' && node.isInteger);\n        }\n        if (Array.isArray(schema.type)) {\n            if (!schema.type.some(matchesType)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: schema.errorMessage ||\n                        localize('typeArrayMismatchWarning', 'Incorrect type. Expected one of {0}.', schema.type.join(', ')),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        else if (schema.type) {\n            if (!matchesType(schema.type)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: schema.errorMessage || localize('typeMismatchWarning', 'Incorrect type. Expected \"{0}\".', schema.type),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (Array.isArray(schema.allOf)) {\n            for (const subSchemaRef of schema.allOf) {\n                validate(node, asSchema(subSchemaRef), schema, validationResult, matchingSchemas, isKubernetes);\n            }\n        }\n        const notSchema = asSchema(schema.not);\n        if (notSchema) {\n            const subValidationResult = new ValidationResult(isKubernetes);\n            const subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, notSchema, schema, subValidationResult, subMatchingSchemas, isKubernetes);\n            if (!subValidationResult.hasProblems()) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('notSchemaWarning', 'Matches a schema that is not allowed.'),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n            for (const ms of subMatchingSchemas.schemas) {\n                ms.inverted = !ms.inverted;\n                matchingSchemas.add(ms);\n            }\n        }\n        const testAlternatives = (alternatives, maxOneMatch) => {\n            const matches = [];\n            // remember the best match that is used for error messages\n            let bestMatch = null;\n            for (const subSchemaRef of alternatives) {\n                const subSchema = asSchema(subSchemaRef);\n                const subValidationResult = new ValidationResult(isKubernetes);\n                const subMatchingSchemas = matchingSchemas.newSub();\n                validate(node, subSchema, schema, subValidationResult, subMatchingSchemas, isKubernetes);\n                if (!subValidationResult.hasProblems()) {\n                    matches.push(subSchema);\n                }\n                if (!bestMatch) {\n                    bestMatch = {\n                        schema: subSchema,\n                        validationResult: subValidationResult,\n                        matchingSchemas: subMatchingSchemas,\n                    };\n                }\n                else if (isKubernetes) {\n                    bestMatch = alternativeComparison(subValidationResult, bestMatch, subSchema, subMatchingSchemas);\n                }\n                else {\n                    bestMatch = genericComparison(maxOneMatch, subValidationResult, bestMatch, subSchema, subMatchingSchemas);\n                }\n            }\n            if (matches.length > 1 && maxOneMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: 1 },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('oneOfWarning', 'Matches multiple schemas when only one must validate.'),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n            if (bestMatch !== null) {\n                validationResult.merge(bestMatch.validationResult);\n                validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;\n                validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;\n                matchingSchemas.merge(bestMatch.matchingSchemas);\n            }\n            return matches.length;\n        };\n        if (Array.isArray(schema.anyOf)) {\n            testAlternatives(schema.anyOf, false);\n        }\n        if (Array.isArray(schema.oneOf)) {\n            testAlternatives(schema.oneOf, true);\n        }\n        const testBranch = (schema, originalSchema) => {\n            const subValidationResult = new ValidationResult(isKubernetes);\n            const subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, asSchema(schema), originalSchema, subValidationResult, subMatchingSchemas, isKubernetes);\n            validationResult.merge(subValidationResult);\n            validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n            validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n            matchingSchemas.merge(subMatchingSchemas);\n        };\n        const testCondition = (ifSchema, originalSchema, thenSchema, elseSchema) => {\n            const subSchema = asSchema(ifSchema);\n            const subValidationResult = new ValidationResult(isKubernetes);\n            const subMatchingSchemas = matchingSchemas.newSub();\n            validate(node, subSchema, originalSchema, subValidationResult, subMatchingSchemas, isKubernetes);\n            matchingSchemas.merge(subMatchingSchemas);\n            if (!subValidationResult.hasProblems()) {\n                if (thenSchema) {\n                    testBranch(thenSchema, originalSchema);\n                }\n            }\n            else if (elseSchema) {\n                testBranch(elseSchema, originalSchema);\n            }\n        };\n        const ifSchema = asSchema(schema.if);\n        if (ifSchema) {\n            testCondition(ifSchema, schema, asSchema(schema.then), asSchema(schema.else));\n        }\n        if (Array.isArray(schema.enum)) {\n            const val = getNodeValue(node);\n            let enumValueMatch = false;\n            for (const e of schema.enum) {\n                if (objects_1.equals(val, e)) {\n                    enumValueMatch = true;\n                    break;\n                }\n            }\n            validationResult.enumValues = schema.enum;\n            validationResult.enumValueMatch = enumValueMatch;\n            if (!enumValueMatch) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    code: vscode_json_languageservice_1.ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage ||\n                        localize('enumWarning', 'Value is not accepted. Valid values: {0}.', schema.enum\n                            .map((v) => {\n                            return JSON.stringify(v);\n                        })\n                            .join(', ')),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (objects_1.isDefined(schema.const)) {\n            const val = getNodeValue(node);\n            if (!objects_1.equals(val, schema.const)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    code: vscode_json_languageservice_1.ErrorCode.EnumValueMismatch,\n                    message: schema.errorMessage || localize('constWarning', 'Value must be {0}.', JSON.stringify(schema.const)),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n                validationResult.enumValueMatch = false;\n            }\n            else {\n                validationResult.enumValueMatch = true;\n            }\n            validationResult.enumValues = [schema.const];\n        }\n        if (schema.deprecationMessage && node.parent) {\n            validationResult.problems.push({\n                location: { offset: node.parent.offset, length: node.parent.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: schema.deprecationMessage,\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n    }\n    function _validateNumberNode(node, schema, validationResult) {\n        const val = node.value;\n        if (objects_1.isNumber(schema.multipleOf)) {\n            if (val % schema.multipleOf !== 0) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('multipleOfWarning', 'Value is not divisible by {0}.', schema.multipleOf),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        function getExclusiveLimit(limit, exclusive) {\n            if (objects_1.isNumber(exclusive)) {\n                return exclusive;\n            }\n            if (objects_1.isBoolean(exclusive) && exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        function getLimit(limit, exclusive) {\n            if (!objects_1.isBoolean(exclusive) || !exclusive) {\n                return limit;\n            }\n            return undefined;\n        }\n        const exclusiveMinimum = getExclusiveLimit(schema.minimum, schema.exclusiveMinimum);\n        if (objects_1.isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('exclusiveMinimumWarning', 'Value is below the exclusive minimum of {0}.', exclusiveMinimum),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        const exclusiveMaximum = getExclusiveLimit(schema.maximum, schema.exclusiveMaximum);\n        if (objects_1.isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('exclusiveMaximumWarning', 'Value is above the exclusive maximum of {0}.', exclusiveMaximum),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        const minimum = getLimit(schema.minimum, schema.exclusiveMinimum);\n        if (objects_1.isNumber(minimum) && val < minimum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('minimumWarning', 'Value is below the minimum of {0}.', minimum),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        const maximum = getLimit(schema.maximum, schema.exclusiveMaximum);\n        if (objects_1.isNumber(maximum) && val > maximum) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('maximumWarning', 'Value is above the maximum of {0}.', maximum),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n    }\n    function _validateStringNode(node, schema, validationResult) {\n        if (objects_1.isNumber(schema.minLength) && node.value.length < schema.minLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('minLengthWarning', 'String is shorter than the minimum length of {0}.', schema.minLength),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        if (objects_1.isNumber(schema.maxLength) && node.value.length > schema.maxLength) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('maxLengthWarning', 'String is longer than the maximum length of {0}.', schema.maxLength),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        if (objects_1.isString(schema.pattern)) {\n            const regex = new RegExp(schema.pattern);\n            if (!regex.test(node.value)) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: schema.patternErrorMessage ||\n                        schema.errorMessage ||\n                        localize('patternWarning', 'String does not match the pattern of \"{0}\".', schema.pattern),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (schema.format) {\n            switch (schema.format) {\n                case 'uri':\n                case 'uri-reference':\n                    {\n                        let errorMessage;\n                        if (!node.value) {\n                            errorMessage = localize('uriEmpty', 'URI expected.');\n                        }\n                        else {\n                            try {\n                                const uri = vscode_uri_1.URI.parse(node.value);\n                                if (!uri.scheme && schema.format === 'uri') {\n                                    errorMessage = localize('uriSchemeMissing', 'URI with a scheme is expected.');\n                                }\n                            }\n                            catch (e) {\n                                errorMessage = e.message;\n                            }\n                        }\n                        if (errorMessage) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                                message: schema.patternErrorMessage ||\n                                    schema.errorMessage ||\n                                    localize('uriFormatWarning', 'String is not a URI: {0}', errorMessage),\n                                source: getSchemaSource(schema, originalSchema),\n                            });\n                        }\n                    }\n                    break;\n                case 'color-hex':\n                case 'date-time':\n                case 'date':\n                case 'time':\n                case 'email':\n                    {\n                        const format = formats[schema.format];\n                        if (!node.value || !format.pattern.exec(node.value)) {\n                            validationResult.problems.push({\n                                location: { offset: node.offset, length: node.length },\n                                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                                message: schema.patternErrorMessage || schema.errorMessage || format.errorMessage,\n                                source: getSchemaSource(schema, originalSchema),\n                            });\n                        }\n                    }\n                    break;\n                default:\n            }\n        }\n    }\n    function _validateArrayNode(node, schema, validationResult, matchingSchemas) {\n        if (Array.isArray(schema.items)) {\n            const subSchemas = schema.items;\n            for (let index = 0; index < subSchemas.length; index++) {\n                const subSchemaRef = subSchemas[index];\n                const subSchema = asSchema(subSchemaRef);\n                const itemValidationResult = new ValidationResult(isKubernetes);\n                const item = node.items[index];\n                if (item) {\n                    validate(item, subSchema, schema, itemValidationResult, matchingSchemas, isKubernetes);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                    validationResult.mergeEnumValues(itemValidationResult);\n                }\n                else if (node.items.length >= subSchemas.length) {\n                    validationResult.propertiesValueMatches++;\n                }\n            }\n            if (node.items.length > subSchemas.length) {\n                if (typeof schema.additionalItems === 'object') {\n                    for (let i = subSchemas.length; i < node.items.length; i++) {\n                        const itemValidationResult = new ValidationResult(isKubernetes);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        validate(node.items[i], schema.additionalItems, schema, itemValidationResult, matchingSchemas, isKubernetes);\n                        validationResult.mergePropertyMatch(itemValidationResult);\n                        validationResult.mergeEnumValues(itemValidationResult);\n                    }\n                }\n                else if (schema.additionalItems === false) {\n                    validationResult.problems.push({\n                        location: { offset: node.offset, length: node.length },\n                        severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                        message: localize('additionalItemsWarning', 'Array has too many items according to schema. Expected {0} or fewer.', subSchemas.length),\n                        source: getSchemaSource(schema, originalSchema),\n                    });\n                }\n            }\n        }\n        else {\n            const itemSchema = asSchema(schema.items);\n            if (itemSchema) {\n                for (const item of node.items) {\n                    const itemValidationResult = new ValidationResult(isKubernetes);\n                    validate(item, itemSchema, schema, itemValidationResult, matchingSchemas, isKubernetes);\n                    validationResult.mergePropertyMatch(itemValidationResult);\n                    validationResult.mergeEnumValues(itemValidationResult);\n                }\n            }\n        }\n        const containsSchema = asSchema(schema.contains);\n        if (containsSchema) {\n            const doesContain = node.items.some((item) => {\n                const itemValidationResult = new ValidationResult(isKubernetes);\n                validate(item, containsSchema, schema, itemValidationResult, NoOpSchemaCollector.instance, isKubernetes);\n                return !itemValidationResult.hasProblems();\n            });\n            if (!doesContain) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: schema.errorMessage || localize('requiredItemMissingWarning', 'Array does not contain required item.'),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (objects_1.isNumber(schema.minItems) && node.items.length < schema.minItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('minItemsWarning', 'Array has too few items. Expected {0} or more.', schema.minItems),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        if (objects_1.isNumber(schema.maxItems) && node.items.length > schema.maxItems) {\n            validationResult.problems.push({\n                location: { offset: node.offset, length: node.length },\n                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                message: localize('maxItemsWarning', 'Array has too many items. Expected {0} or fewer.', schema.maxItems),\n                source: getSchemaSource(schema, originalSchema),\n            });\n        }\n        if (schema.uniqueItems === true) {\n            const values = getNodeValue(node);\n            const duplicates = values.some((value, index) => {\n                return index !== values.lastIndexOf(value);\n            });\n            if (duplicates) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('uniqueItemsWarning', 'Array has duplicate items.'),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n    }\n    function _validateObjectNode(node, schema, validationResult, matchingSchemas) {\n        var _a;\n        const seenKeys = Object.create(null);\n        const unprocessedProperties = [];\n        for (const propertyNode of node.properties) {\n            const key = propertyNode.keyNode.value;\n            //Replace the merge key with the actual values of what the node value points to in seen keys\n            if (key === '<<' && propertyNode.valueNode) {\n                switch (propertyNode.valueNode.type) {\n                    case 'object': {\n                        propertyNode.valueNode['properties'].forEach((propASTNode) => {\n                            const propKey = propASTNode.keyNode.value;\n                            seenKeys[propKey] = propASTNode.valueNode;\n                            unprocessedProperties.push(propKey);\n                        });\n                        break;\n                    }\n                    case 'array': {\n                        propertyNode.valueNode['items'].forEach((sequenceNode) => {\n                            sequenceNode['properties'].forEach((propASTNode) => {\n                                const seqKey = propASTNode.keyNode.value;\n                                seenKeys[seqKey] = propASTNode.valueNode;\n                                unprocessedProperties.push(seqKey);\n                            });\n                        });\n                        break;\n                    }\n                    default: {\n                        break;\n                    }\n                }\n            }\n            else {\n                seenKeys[key] = propertyNode.valueNode;\n                unprocessedProperties.push(key);\n            }\n        }\n        if (Array.isArray(schema.required)) {\n            for (const propertyName of schema.required) {\n                if (!seenKeys[propertyName]) {\n                    const keyNode = node.parent && node.parent.type === 'property' && node.parent.keyNode;\n                    const location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node.offset, length: 1 };\n                    validationResult.problems.push({\n                        location: location,\n                        severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                        message: localize('MissingRequiredPropWarning', 'Missing property \"{0}\".', propertyName),\n                        source: getSchemaSource(schema, originalSchema),\n                    });\n                }\n            }\n        }\n        const propertyProcessed = (prop) => {\n            let index = unprocessedProperties.indexOf(prop);\n            while (index >= 0) {\n                unprocessedProperties.splice(index, 1);\n                index = unprocessedProperties.indexOf(prop);\n            }\n        };\n        if (schema.properties) {\n            for (const propertyName of Object.keys(schema.properties)) {\n                propertyProcessed(propertyName);\n                const propertySchema = schema.properties[propertyName];\n                const child = seenKeys[propertyName];\n                if (child) {\n                    if (objects_1.isBoolean(propertySchema)) {\n                        if (!propertySchema) {\n                            const propertyNode = child.parent;\n                            validationResult.problems.push({\n                                location: {\n                                    offset: propertyNode.keyNode.offset,\n                                    length: propertyNode.keyNode.length,\n                                },\n                                severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                                message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName),\n                                source: getSchemaSource(schema, originalSchema),\n                            });\n                        }\n                        else {\n                            validationResult.propertiesMatches++;\n                            validationResult.propertiesValueMatches++;\n                        }\n                    }\n                    else {\n                        propertySchema.url = (_a = schema.url) !== null && _a !== void 0 ? _a : originalSchema.url;\n                        const propertyValidationResult = new ValidationResult(isKubernetes);\n                        validate(child, propertySchema, schema, propertyValidationResult, matchingSchemas, isKubernetes);\n                        validationResult.mergePropertyMatch(propertyValidationResult);\n                        validationResult.mergeEnumValues(propertyValidationResult);\n                    }\n                }\n            }\n        }\n        if (schema.patternProperties) {\n            for (const propertyPattern of Object.keys(schema.patternProperties)) {\n                const regex = new RegExp(propertyPattern);\n                for (const propertyName of unprocessedProperties.slice(0)) {\n                    if (regex.test(propertyName)) {\n                        propertyProcessed(propertyName);\n                        const child = seenKeys[propertyName];\n                        if (child) {\n                            const propertySchema = schema.patternProperties[propertyPattern];\n                            if (objects_1.isBoolean(propertySchema)) {\n                                if (!propertySchema) {\n                                    const propertyNode = child.parent;\n                                    validationResult.problems.push({\n                                        location: {\n                                            offset: propertyNode.keyNode.offset,\n                                            length: propertyNode.keyNode.length,\n                                        },\n                                        severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                                        message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName),\n                                        source: getSchemaSource(schema, originalSchema),\n                                    });\n                                }\n                                else {\n                                    validationResult.propertiesMatches++;\n                                    validationResult.propertiesValueMatches++;\n                                }\n                            }\n                            else {\n                                const propertyValidationResult = new ValidationResult(isKubernetes);\n                                validate(child, propertySchema, schema, propertyValidationResult, matchingSchemas, isKubernetes);\n                                validationResult.mergePropertyMatch(propertyValidationResult);\n                                validationResult.mergeEnumValues(propertyValidationResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            for (const propertyName of unprocessedProperties) {\n                const child = seenKeys[propertyName];\n                if (child) {\n                    const propertyValidationResult = new ValidationResult(isKubernetes);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    validate(child, schema.additionalProperties, schema, propertyValidationResult, matchingSchemas, isKubernetes);\n                    validationResult.mergePropertyMatch(propertyValidationResult);\n                    validationResult.mergeEnumValues(propertyValidationResult);\n                }\n            }\n        }\n        else if (schema.additionalProperties === false) {\n            if (unprocessedProperties.length > 0) {\n                for (const propertyName of unprocessedProperties) {\n                    const child = seenKeys[propertyName];\n                    if (child) {\n                        let propertyNode = null;\n                        if (child.type !== 'property') {\n                            propertyNode = child.parent;\n                            if (propertyNode.type === 'object') {\n                                propertyNode = propertyNode.properties[0];\n                            }\n                        }\n                        else {\n                            propertyNode = child;\n                        }\n                        validationResult.problems.push({\n                            location: {\n                                offset: propertyNode.keyNode.offset,\n                                length: propertyNode.keyNode.length,\n                            },\n                            severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                            message: schema.errorMessage || localize('DisallowedExtraPropWarning', 'Property {0} is not allowed.', propertyName),\n                            source: getSchemaSource(schema, originalSchema),\n                        });\n                    }\n                }\n            }\n        }\n        if (objects_1.isNumber(schema.maxProperties)) {\n            if (node.properties.length > schema.maxProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('MaxPropWarning', 'Object has more properties than limit of {0}.', schema.maxProperties),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (objects_1.isNumber(schema.minProperties)) {\n            if (node.properties.length < schema.minProperties) {\n                validationResult.problems.push({\n                    location: { offset: node.offset, length: node.length },\n                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                    message: localize('MinPropWarning', 'Object has fewer properties than the required number of {0}', schema.minProperties),\n                    source: getSchemaSource(schema, originalSchema),\n                });\n            }\n        }\n        if (schema.dependencies) {\n            for (const key of Object.keys(schema.dependencies)) {\n                const prop = seenKeys[key];\n                if (prop) {\n                    const propertyDep = schema.dependencies[key];\n                    if (Array.isArray(propertyDep)) {\n                        for (const requiredProp of propertyDep) {\n                            if (!seenKeys[requiredProp]) {\n                                validationResult.problems.push({\n                                    location: { offset: node.offset, length: node.length },\n                                    severity: vscode_languageserver_types_1.DiagnosticSeverity.Warning,\n                                    message: localize('RequiredDependentPropWarning', 'Object is missing property {0} required by property {1}.', requiredProp, key),\n                                    source: getSchemaSource(schema, originalSchema),\n                                });\n                            }\n                            else {\n                                validationResult.propertiesValueMatches++;\n                            }\n                        }\n                    }\n                    else {\n                        const propertySchema = asSchema(propertyDep);\n                        if (propertySchema) {\n                            const propertyValidationResult = new ValidationResult(isKubernetes);\n                            validate(node, propertySchema, schema, propertyValidationResult, matchingSchemas, isKubernetes);\n                            validationResult.mergePropertyMatch(propertyValidationResult);\n                            validationResult.mergeEnumValues(propertyValidationResult);\n                        }\n                    }\n                }\n            }\n        }\n        const propertyNames = asSchema(schema.propertyNames);\n        if (propertyNames) {\n            for (const f of node.properties) {\n                const key = f.keyNode;\n                if (key) {\n                    validate(key, propertyNames, schema, validationResult, NoOpSchemaCollector.instance, isKubernetes);\n                }\n            }\n        }\n    }\n    //Alternative comparison is specifically used by the kubernetes/openshift schema but may lead to better results then genericComparison depending on the schema\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function alternativeComparison(subValidationResult, bestMatch, subSchema, subMatchingSchemas) {\n        const compareResult = subValidationResult.compareKubernetes(bestMatch.validationResult);\n        if (compareResult > 0) {\n            // our node is the best matching so far\n            bestMatch = {\n                schema: subSchema,\n                validationResult: subValidationResult,\n                matchingSchemas: subMatchingSchemas,\n            };\n        }\n        else if (compareResult === 0) {\n            // there's already a best matching but we are as good\n            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n            bestMatch.validationResult.mergeEnumValues(subValidationResult);\n        }\n        return bestMatch;\n    }\n    //genericComparison tries to find the best matching schema using a generic comparison\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function genericComparison(maxOneMatch, subValidationResult, bestMatch, subSchema, subMatchingSchemas) {\n        if (!maxOneMatch && !subValidationResult.hasProblems() && !bestMatch.validationResult.hasProblems()) {\n            // no errors, both are equally good matches\n            bestMatch.matchingSchemas.merge(subMatchingSchemas);\n            bestMatch.validationResult.propertiesMatches += subValidationResult.propertiesMatches;\n            bestMatch.validationResult.propertiesValueMatches += subValidationResult.propertiesValueMatches;\n        }\n        else {\n            const compareResult = subValidationResult.compareGeneric(bestMatch.validationResult);\n            if (compareResult > 0) {\n                // our node is the best matching so far\n                bestMatch = {\n                    schema: subSchema,\n                    validationResult: subValidationResult,\n                    matchingSchemas: subMatchingSchemas,\n                };\n            }\n            else if (compareResult === 0) {\n                // there's already a best matching but we are as good\n                bestMatch.matchingSchemas.merge(subMatchingSchemas);\n                bestMatch.validationResult.mergeEnumValues(subValidationResult);\n            }\n        }\n        return bestMatch;\n    }\n}\nfunction getSchemaSource(schema, originalSchema) {\n    var _a;\n    if (schema) {\n        let label;\n        if (schema.title) {\n            label = schema.title;\n        }\n        else if (originalSchema.title) {\n            label = originalSchema.title;\n        }\n        else {\n            const uriString = (_a = schema.url) !== null && _a !== void 0 ? _a : originalSchema.url;\n            if (uriString) {\n                const url = vscode_uri_1.URI.parse(uriString);\n                if (url.scheme === 'file') {\n                    label = url.fsPath;\n                }\n                label = url.toString();\n            }\n        }\n        if (label) {\n            return `yaml-schema: ${label}`;\n        }\n    }\n    return exports.YAML_SOURCE;\n}\n//# sourceMappingURL=jsonParser07.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { JSONCompletion } from './services/jsonCompletion';\nimport { JSONHover } from './services/jsonHover';\nimport { JSONValidation } from './services/jsonValidation';\nimport { JSONDocumentSymbols } from './services/jsonDocumentSymbols';\nimport { parse as parseJSON, newJSONDocument } from './parser/jsonParser';\nimport { schemaContributions } from './services/configuration';\nimport { JSONSchemaService } from './services/jsonSchemaService';\nimport { getFoldingRanges } from './services/jsonFolding';\nimport { getSelectionRanges } from './services/jsonSelectionRanges';\nimport { format as formatJSON } from 'jsonc-parser';\nimport { Range, TextEdit } from './jsonLanguageTypes';\nimport { findLinks } from './services/jsonLinks';\nexport * from './jsonLanguageTypes';\nexport function getLanguageService(params) {\n    var promise = params.promiseConstructor || Promise;\n    var jsonSchemaService = new JSONSchemaService(params.schemaRequestService, params.workspaceContext, promise);\n    jsonSchemaService.setSchemaContributions(schemaContributions);\n    var jsonCompletion = new JSONCompletion(jsonSchemaService, params.contributions, promise, params.clientCapabilities);\n    var jsonHover = new JSONHover(jsonSchemaService, params.contributions, promise);\n    var jsonDocumentSymbols = new JSONDocumentSymbols(jsonSchemaService);\n    var jsonValidation = new JSONValidation(jsonSchemaService, promise);\n    return {\n        configure: function (settings) {\n            jsonSchemaService.clearExternalSchemas();\n            if (settings.schemas) {\n                settings.schemas.forEach(function (settings) {\n                    jsonSchemaService.registerExternalSchema(settings.uri, settings.fileMatch, settings.schema);\n                });\n            }\n            jsonValidation.configure(settings);\n        },\n        resetSchema: function (uri) { return jsonSchemaService.onResourceChange(uri); },\n        doValidation: jsonValidation.doValidation.bind(jsonValidation),\n        parseJSONDocument: function (document) { return parseJSON(document, { collectComments: true }); },\n        newJSONDocument: function (root, diagnostics) { return newJSONDocument(root, diagnostics); },\n        getMatchingSchemas: jsonSchemaService.getMatchingSchemas.bind(jsonSchemaService),\n        doResolve: jsonCompletion.doResolve.bind(jsonCompletion),\n        doComplete: jsonCompletion.doComplete.bind(jsonCompletion),\n        findDocumentSymbols: jsonDocumentSymbols.findDocumentSymbols.bind(jsonDocumentSymbols),\n        findDocumentSymbols2: jsonDocumentSymbols.findDocumentSymbols2.bind(jsonDocumentSymbols),\n        findColorSymbols: function (d, s) { return jsonDocumentSymbols.findDocumentColors(d, s).then(function (s) { return s.map(function (s) { return s.range; }); }); },\n        findDocumentColors: jsonDocumentSymbols.findDocumentColors.bind(jsonDocumentSymbols),\n        getColorPresentations: jsonDocumentSymbols.getColorPresentations.bind(jsonDocumentSymbols),\n        doHover: jsonHover.doHover.bind(jsonHover),\n        getFoldingRanges: getFoldingRanges,\n        getSelectionRanges: getSelectionRanges,\n        findDefinition: function () { return Promise.resolve([]); },\n        findLinks: findLinks,\n        format: function (d, r, o) {\n            var range = undefined;\n            if (r) {\n                var offset = d.offsetAt(r.start);\n                var length = d.offsetAt(r.end) - offset;\n                range = { offset: offset, length: length };\n            }\n            var options = { tabSize: o ? o.tabSize : 4, insertSpaces: o ? o.insertSpaces : true, eol: '\\n' };\n            return formatJSON(d.getText(), range, options).map(function (e) {\n                return TextEdit.replace(Range.create(d.positionAt(e.offset), d.positionAt(e.offset + e.length)), e.content);\n            });\n        }\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function equals(one, other) {\n    if (one === other) {\n        return true;\n    }\n    if (one === null || one === undefined || other === null || other === undefined) {\n        return false;\n    }\n    if (typeof one !== typeof other) {\n        return false;\n    }\n    if (typeof one !== 'object') {\n        return false;\n    }\n    if ((Array.isArray(one)) !== (Array.isArray(other))) {\n        return false;\n    }\n    var i, key;\n    if (Array.isArray(one)) {\n        if (one.length !== other.length) {\n            return false;\n        }\n        for (i = 0; i < one.length; i++) {\n            if (!equals(one[i], other[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        var oneKeys = [];\n        for (key in one) {\n            oneKeys.push(key);\n        }\n        oneKeys.sort();\n        var otherKeys = [];\n        for (key in other) {\n            otherKeys.push(key);\n        }\n        otherKeys.sort();\n        if (!equals(oneKeys, otherKeys)) {\n            return false;\n        }\n        for (i = 0; i < oneKeys.length; i++) {\n            if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexport function isNumber(val) {\n    return typeof val === 'number';\n}\nexport function isDefined(val) {\n    return typeof val !== 'undefined';\n}\nexport function isBoolean(val) {\n    return typeof val === 'boolean';\n}\nexport function isString(val) {\n    return typeof val === 'string';\n}\n","/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nexport function startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nexport function convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexport function repeat(value, count) {\n    var s = '';\n    while (count > 0) {\n        if ((count & 1) === 1) {\n            s += value;\n        }\n        value += value;\n        count = count >>> 1;\n    }\n    return s;\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Red Hat, Inc. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getLineOffsets(textDocString) {\n    const lineOffsets = [];\n    const text = textDocString;\n    let isLineStart = true;\n    for (let i = 0; i < text.length; i++) {\n        if (isLineStart) {\n            lineOffsets.push(i);\n            isLineStart = false;\n        }\n        const ch = text.charAt(i);\n        isLineStart = ch === '\\r' || ch === '\\n';\n        if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n            i++;\n        }\n    }\n    if (isLineStart && text.length > 0) {\n        lineOffsets.push(text.length);\n    }\n    return lineOffsets;\n}\nexports.getLineOffsets = getLineOffsets;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction removeDuplicatesObj(objArray) {\n    const nonDuplicateSet = new Set();\n    const nonDuplicateArr = [];\n    for (const obj in objArray) {\n        const currObj = objArray[obj];\n        const stringifiedObj = JSON.stringify(currObj);\n        if (!nonDuplicateSet.has(stringifiedObj)) {\n            nonDuplicateArr.push(currObj);\n            nonDuplicateSet.add(stringifiedObj);\n        }\n    }\n    return nonDuplicateArr;\n}\nexports.removeDuplicatesObj = removeDuplicatesObj;\nfunction matchOffsetToDocument(offset, jsonDocuments) {\n    for (const jsonDoc of jsonDocuments.documents) {\n        if (jsonDoc.root && jsonDoc.root.offset <= offset && jsonDoc.root.length + jsonDoc.root.offset >= offset) {\n            return jsonDoc;\n        }\n    }\n    // TODO: Fix this so that it returns the correct document\n    return null;\n}\nexports.matchOffsetToDocument = matchOffsetToDocument;\nfunction filterInvalidCustomTags(customTags) {\n    const validCustomTags = ['mapping', 'scalar', 'sequence'];\n    return customTags.filter((tag) => {\n        if (typeof tag === 'string') {\n            const typeInfo = tag.split(' ');\n            const type = (typeInfo[1] && typeInfo[1].toLowerCase()) || 'scalar';\n            // We need to check if map is a type because map will throw an error within the yaml-ast-parser\n            if (type === 'map') {\n                return false;\n            }\n            return validCustomTags.indexOf(type) !== -1;\n        }\n        return false;\n    });\n}\nexports.filterInvalidCustomTags = filterInvalidCustomTags;\n//# sourceMappingURL=arrUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"vscode-languageserver-protocol/lib/utils/is\");\nconst services_1 = require(\"./services\");\nvar ProtocolDocumentLink;\n(function (ProtocolDocumentLink) {\n    function is(item) {\n        return !!item && 'data' in item;\n    }\n    ProtocolDocumentLink.is = is;\n})(ProtocolDocumentLink = exports.ProtocolDocumentLink || (exports.ProtocolDocumentLink = {}));\nvar ProtocolCodeLens;\n(function (ProtocolCodeLens) {\n    function is(item) {\n        return !!item && 'data' in item;\n    }\n    ProtocolCodeLens.is = is;\n})(ProtocolCodeLens = exports.ProtocolCodeLens || (exports.ProtocolCodeLens = {}));\nvar ProtocolCompletionItem;\n(function (ProtocolCompletionItem) {\n    function is(item) {\n        return !!item && 'data' in item;\n    }\n    ProtocolCompletionItem.is = is;\n})(ProtocolCompletionItem = exports.ProtocolCompletionItem || (exports.ProtocolCompletionItem = {}));\nfunction isRangeReplace(v) {\n    return v.insert !== undefined;\n}\nclass MonacoToProtocolConverter {\n    asPosition(lineNumber, column) {\n        const line = lineNumber === undefined || lineNumber === null ? undefined : lineNumber - 1;\n        const character = column === undefined || column === null ? undefined : column - 1;\n        return {\n            line, character\n        };\n    }\n    asRange(range) {\n        if (range === undefined) {\n            return undefined;\n        }\n        if (range === null) {\n            return null;\n        }\n        if (isRangeReplace(range)) {\n            return this.asRange(range.insert);\n        }\n        else {\n            const start = this.asPosition(range.startLineNumber, range.startColumn);\n            const end = this.asPosition(range.endLineNumber, range.endColumn);\n            return {\n                start, end\n            };\n        }\n    }\n    asTextDocumentIdentifier(model) {\n        return {\n            uri: model.uri.toString()\n        };\n    }\n    asTextDocumentPositionParams(model, position) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column)\n        };\n    }\n    asCompletionParams(model, position, context) {\n        return Object.assign(this.asTextDocumentPositionParams(model, position), {\n            context: this.asCompletionContext(context)\n        });\n    }\n    asCompletionContext(context) {\n        return {\n            triggerKind: this.asCompletionTriggerKind(context.triggerKind),\n            triggerCharacter: context.triggerCharacter\n        };\n    }\n    asSignatureHelpContext(context) {\n        return {\n            triggerKind: this.asSignatureHelpTriggerKind(context.triggerKind),\n            triggerCharacter: context.triggerCharacter,\n            isRetrigger: context.isRetrigger,\n            activeSignatureHelp: this.asSignatureHelp(context.activeSignatureHelp)\n        };\n    }\n    asSignatureHelp(signatureHelp) {\n        if (signatureHelp === undefined) {\n            return undefined;\n        }\n        return {\n            signatures: signatureHelp.signatures.map(signatureInfo => this.asSignatureInformation(signatureInfo)),\n            activeParameter: signatureHelp.activeParameter,\n            activeSignature: signatureHelp.activeSignature\n        };\n    }\n    asSignatureInformation(signatureInformation) {\n        return {\n            documentation: this.asMarkupContent(signatureInformation.documentation),\n            label: signatureInformation.label,\n            parameters: signatureInformation.parameters.map(paramInfo => this.asParameterInformation(paramInfo))\n        };\n    }\n    asParameterInformation(parameterInformation) {\n        return {\n            documentation: this.asMarkupContent(parameterInformation.documentation),\n            label: parameterInformation.label\n        };\n    }\n    asMarkupContent(markupContent) {\n        if (markupContent === undefined) {\n            return undefined;\n        }\n        if (typeof markupContent === \"string\") {\n            return markupContent;\n        }\n        return {\n            kind: services_1.MarkupKind.Markdown,\n            value: markupContent.value\n        };\n    }\n    asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case monaco.languages.SignatureHelpTriggerKind.ContentChange:\n                return services_1.SignatureHelpTriggerKind.ContentChange;\n            case monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:\n                return services_1.SignatureHelpTriggerKind.TriggerCharacter;\n            default:\n                return services_1.SignatureHelpTriggerKind.Invoke;\n        }\n    }\n    asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case monaco.languages.CompletionTriggerKind.TriggerCharacter:\n                return services_1.CompletionTriggerKind.TriggerCharacter;\n            case monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return services_1.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return services_1.CompletionTriggerKind.Invoked;\n        }\n    }\n    asCompletionItem(item) {\n        const result = { label: item.label };\n        const protocolItem = ProtocolCompletionItem.is(item) ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || !protocolItem.documentationFormat) {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = this.asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        this.fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = this.asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = this.asTextEdits(item.additionalTextEdits);\n        }\n        if (item.command) {\n            result.command = this.asCommand(item.command);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = this.asCommand(item.command);\n        }\n        // TODO if (item.preselect === true || item.preselect === false) { result.preselect = item.preselect; }\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                result.deprecated = protocolItem.deprecated;\n            }\n        }\n        return result;\n    }\n    asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        switch (value) {\n            case monaco.languages.CompletionItemKind.Method: return services_1.CompletionItemKind.Method;\n            case monaco.languages.CompletionItemKind.Function: return services_1.CompletionItemKind.Function;\n            case monaco.languages.CompletionItemKind.Constructor: return services_1.CompletionItemKind.Constructor;\n            case monaco.languages.CompletionItemKind.Field: return services_1.CompletionItemKind.Field;\n            case monaco.languages.CompletionItemKind.Variable: return services_1.CompletionItemKind.Variable;\n            case monaco.languages.CompletionItemKind.Class: return services_1.CompletionItemKind.Class;\n            case monaco.languages.CompletionItemKind.Struct: return services_1.CompletionItemKind.Struct;\n            case monaco.languages.CompletionItemKind.Interface: return services_1.CompletionItemKind.Interface;\n            case monaco.languages.CompletionItemKind.Module: return services_1.CompletionItemKind.Module;\n            case monaco.languages.CompletionItemKind.Property: return services_1.CompletionItemKind.Property;\n            case monaco.languages.CompletionItemKind.Event: return services_1.CompletionItemKind.Event;\n            case monaco.languages.CompletionItemKind.Operator: return services_1.CompletionItemKind.Operator;\n            case monaco.languages.CompletionItemKind.Unit: return services_1.CompletionItemKind.Unit;\n            case monaco.languages.CompletionItemKind.Value: return services_1.CompletionItemKind.Value;\n            case monaco.languages.CompletionItemKind.Constant: return services_1.CompletionItemKind.Constant;\n            case monaco.languages.CompletionItemKind.Enum: return services_1.CompletionItemKind.Enum;\n            case monaco.languages.CompletionItemKind.EnumMember: return services_1.CompletionItemKind.EnumMember;\n            case monaco.languages.CompletionItemKind.Keyword: return services_1.CompletionItemKind.Keyword;\n            case monaco.languages.CompletionItemKind.Text: return services_1.CompletionItemKind.Text;\n            case monaco.languages.CompletionItemKind.Color: return services_1.CompletionItemKind.Color;\n            case monaco.languages.CompletionItemKind.File: return services_1.CompletionItemKind.File;\n            case monaco.languages.CompletionItemKind.Reference: return services_1.CompletionItemKind.Reference;\n            case monaco.languages.CompletionItemKind.Customcolor: return services_1.CompletionItemKind.Color;\n            case monaco.languages.CompletionItemKind.Folder: return services_1.CompletionItemKind.Folder;\n            case monaco.languages.CompletionItemKind.TypeParameter: return services_1.CompletionItemKind.TypeParameter;\n            case monaco.languages.CompletionItemKind.Snippet: return services_1.CompletionItemKind.Snippet;\n            default: return value + 1;\n        }\n    }\n    asDocumentation(format, documentation) {\n        switch (format) {\n            case services_1.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case services_1.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    fillPrimaryInsertText(target, source) {\n        let format = services_1.InsertTextFormat.PlainText;\n        let text;\n        let range;\n        if (source.insertTextRules !== undefined && (source.insertTextRules & monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet) === 0) {\n            format = services_1.InsertTextFormat.Snippet;\n            text = source.insertText;\n        }\n        target.insertTextFormat = format;\n        text = source.insertText;\n        if (source.range) {\n            range = this.asRange(source.range);\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text && range) {\n            target.textEdit = { newText: text, range: range };\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    asTextEdit(edit) {\n        const range = this.asRange(edit.range);\n        return {\n            range,\n            newText: edit.text || ''\n        };\n    }\n    asTextEdits(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(item => this.asTextEdit(item));\n    }\n    asReferenceParams(model, position, options) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    asDocumentSymbolParams(model) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        };\n    }\n    asCodeLensParams(model) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        };\n    }\n    asDiagnosticSeverity(value) {\n        switch (value) {\n            case monaco.MarkerSeverity.Error:\n                return services_1.DiagnosticSeverity.Error;\n            case monaco.MarkerSeverity.Warning:\n                return services_1.DiagnosticSeverity.Warning;\n            case monaco.MarkerSeverity.Info:\n                return services_1.DiagnosticSeverity.Information;\n            case monaco.MarkerSeverity.Hint:\n                return services_1.DiagnosticSeverity.Hint;\n        }\n        return undefined;\n    }\n    asDiagnostic(marker) {\n        const range = this.asRange(new monaco.Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn));\n        const severity = this.asDiagnosticSeverity(marker.severity);\n        return services_1.Diagnostic.create(range, marker.message, severity, marker.code, marker.source);\n    }\n    asDiagnostics(markers) {\n        if (markers === void 0 || markers === null) {\n            return markers;\n        }\n        return markers.map(marker => this.asDiagnostic(marker));\n    }\n    asCodeActionContext(context) {\n        if (context === void 0 || context === null) {\n            return context;\n        }\n        const diagnostics = this.asDiagnostics(context.markers);\n        return services_1.CodeActionContext.create(diagnostics, Is.string(context.only) ? [context.only] : undefined);\n    }\n    asCodeActionParams(model, range, context) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            range: this.asRange(range),\n            context: this.asCodeActionContext(context)\n        };\n    }\n    asCommand(item) {\n        if (item) {\n            let args = item.arguments || [];\n            return services_1.Command.create(item.title, item.id, ...args);\n        }\n        return undefined;\n    }\n    asCodeLens(item) {\n        let result = services_1.CodeLens.create(this.asRange(item.range));\n        if (item.command) {\n            result.command = this.asCommand(item.command);\n        }\n        if (ProtocolCodeLens.is(item)) {\n            if (item.data) {\n                result.data = item.data;\n            }\n            ;\n        }\n        return result;\n    }\n    asFormattingOptions(options) {\n        return { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n    }\n    asDocumentFormattingParams(model, options) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            options: this.asFormattingOptions(options)\n        };\n    }\n    asDocumentRangeFormattingParams(model, range, options) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            range: this.asRange(range),\n            options: this.asFormattingOptions(options)\n        };\n    }\n    asDocumentOnTypeFormattingParams(model, position, ch, options) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            ch,\n            options: this.asFormattingOptions(options)\n        };\n    }\n    asRenameParams(model, position, newName) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            newName\n        };\n    }\n    asDocumentLinkParams(model) {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        };\n    }\n    asDocumentLink(item) {\n        let result = services_1.DocumentLink.create(this.asRange(item.range));\n        if (item.url) {\n            result.target = typeof item.url === 'string' ? item.url : item.url.toString();\n        }\n        if (ProtocolDocumentLink.is(item) && item.data) {\n            result.data = item.data;\n        }\n        return result;\n    }\n}\nexports.MonacoToProtocolConverter = MonacoToProtocolConverter;\nclass ProtocolToMonacoConverter {\n    asResourceEdits(resource, edits, modelVersionId) {\n        return {\n            resource: resource,\n            edits: this.asTextEdits(edits),\n            modelVersionId\n        };\n    }\n    asWorkspaceEdit(item) {\n        if (!item) {\n            return undefined;\n        }\n        const edits = [];\n        if (item.documentChanges) {\n            item.documentChanges.forEach(change => {\n                if (ls.CreateFile.is(change)) {\n                    edits.push({\n                        newUri: monaco.Uri.parse(change.uri),\n                        options: change.options\n                    });\n                }\n                else if (ls.RenameFile.is(change)) {\n                    edits.push({\n                        oldUri: monaco.Uri.parse(change.oldUri),\n                        newUri: monaco.Uri.parse(change.newUri),\n                        options: change.options\n                    });\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    edits.push({\n                        oldUri: monaco.Uri.parse(change.uri),\n                        options: change.options\n                    });\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const resource = monaco.Uri.parse(change.textDocument.uri);\n                    const version = typeof change.textDocument.version === 'number' ? change.textDocument.version : undefined;\n                    edits.push(this.asResourceEdits(resource, change.edits, version));\n                }\n                else {\n                    console.error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            });\n        }\n        else if (item.changes) {\n            for (const key of Object.keys(item.changes)) {\n                const resource = monaco.Uri.parse(key);\n                edits.push(this.asResourceEdits(resource, item.changes[key]));\n            }\n        }\n        return {\n            edits\n        };\n    }\n    asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        const range = this.asRange(edit.range);\n        return {\n            range,\n            text: edit.newText\n        };\n    }\n    asTextEdits(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(item => this.asTextEdit(item));\n    }\n    asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        const range = this.asRange(item.range);\n        let result = { range };\n        if (item.command) {\n            result.command = this.asCommand(item.command);\n        }\n        if (item.data !== void 0 && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    asCodeLensList(items) {\n        if (!items) {\n            return undefined;\n        }\n        return {\n            lenses: items.map((codeLens) => this.asCodeLens(codeLens)),\n            dispose: () => { }\n        };\n    }\n    asCodeActionList(actions) {\n        return {\n            actions: actions.map(action => this.asCodeAction(action)),\n            dispose: () => { }\n        };\n    }\n    asCodeAction(item) {\n        if (services_1.CodeAction.is(item)) {\n            return {\n                title: item.title,\n                command: this.asCommand(item.command),\n                edit: this.asWorkspaceEdit(item.edit),\n                diagnostics: this.asDiagnostics(item.diagnostics),\n                kind: item.kind\n            };\n        }\n        return {\n            command: {\n                id: item.command,\n                title: item.title,\n                arguments: item.arguments\n            },\n            title: item.title\n        };\n    }\n    asCommand(command) {\n        if (!command) {\n            return undefined;\n        }\n        return {\n            id: command.command,\n            title: command.title,\n            arguments: command.arguments\n        };\n    }\n    asDocumentSymbol(value) {\n        const children = value.children && value.children.map(c => this.asDocumentSymbol(c));\n        return {\n            name: value.name,\n            detail: value.detail || \"\",\n            kind: this.asSymbolKind(value.kind),\n            tags: [],\n            range: this.asRange(value.range),\n            selectionRange: this.asRange(value.selectionRange),\n            children\n        };\n    }\n    asDocumentSymbols(values) {\n        if (services_1.DocumentSymbol.is(values[0])) {\n            return values.map(s => this.asDocumentSymbol(s));\n        }\n        return this.asSymbolInformations(values);\n    }\n    asSymbolInformations(values, uri) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(information => this.asSymbolInformation(information, uri));\n    }\n    asSymbolInformation(item, uri) {\n        const location = this.asLocation(uri ? Object.assign(Object.assign({}, item.location), { uri: uri.toString() }) : item.location);\n        return {\n            name: item.name,\n            detail: '',\n            containerName: item.containerName,\n            kind: this.asSymbolKind(item.kind),\n            tags: [],\n            range: location.range,\n            selectionRange: location.range\n        };\n    }\n    asSymbolKind(item) {\n        if (item <= services_1.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return monaco.languages.SymbolKind.Property;\n    }\n    asDocumentHighlights(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(item => this.asDocumentHighlight(item));\n    }\n    asDocumentHighlight(item) {\n        const range = this.asRange(item.range);\n        const kind = Is.number(item.kind) ? this.asDocumentHighlightKind(item.kind) : undefined;\n        return { range, kind };\n    }\n    asDocumentHighlightKind(item) {\n        switch (item) {\n            case services_1.DocumentHighlightKind.Text:\n                return monaco.languages.DocumentHighlightKind.Text;\n            case services_1.DocumentHighlightKind.Read:\n                return monaco.languages.DocumentHighlightKind.Read;\n            case services_1.DocumentHighlightKind.Write:\n                return monaco.languages.DocumentHighlightKind.Write;\n        }\n        return monaco.languages.DocumentHighlightKind.Text;\n    }\n    asReferences(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(location => this.asLocation(location));\n    }\n    asDefinitionResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length == 0) {\n                return undefined;\n            }\n            else if (services_1.LocationLink.is(item[0])) {\n                let links = item;\n                return links.map((location) => this.asLocationLink(location));\n            }\n            else {\n                let locations = item;\n                return locations.map((location) => this.asLocation(location));\n            }\n        }\n        else {\n            return this.asLocation(item);\n        }\n    }\n    asLocation(item) {\n        if (!item) {\n            return undefined;\n        }\n        const uri = monaco.Uri.parse(item.uri);\n        const range = this.asRange(item.range);\n        return {\n            uri, range\n        };\n    }\n    asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            uri: monaco.Uri.parse(item.targetUri),\n            range: this.asRange(item.targetSelectionRange),\n            originSelectionRange: this.asRange(item.originSelectionRange),\n            targetSelectionRange: this.asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    asSignatureHelpResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {};\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = this.asSignatureInformations(item.signatures);\n        }\n        else {\n            result.signatures = [];\n        }\n        return {\n            value: result,\n            dispose: () => { }\n        };\n    }\n    asSignatureInformations(items) {\n        return items.map(item => this.asSignatureInformation(item));\n    }\n    asSignatureInformation(item) {\n        let result = { label: item.label };\n        if (item.documentation) {\n            result.documentation = this.asDocumentation(item.documentation);\n        }\n        if (item.parameters) {\n            result.parameters = this.asParameterInformations(item.parameters);\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    asParameterInformations(item) {\n        return item.map(item => this.asParameterInformation(item));\n    }\n    asParameterInformation(item) {\n        let result = { label: item.label };\n        if (item.documentation) {\n            result.documentation = this.asDocumentation(item.documentation);\n        }\n        ;\n        return result;\n    }\n    asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return {\n            contents: this.asHoverContent(hover.contents),\n            range: this.asRange(hover.range)\n        };\n    }\n    asHoverContent(contents) {\n        if (Array.isArray(contents)) {\n            return contents.map(content => this.asMarkdownString(content));\n        }\n        return [this.asMarkdownString(contents)];\n    }\n    asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        if (value.kind === services_1.MarkupKind.PlainText) {\n            return value.value;\n        }\n        return this.asMarkdownString(value);\n    }\n    asMarkdownString(content) {\n        if (services_1.MarkupContent.is(content)) {\n            return {\n                value: content.value\n            };\n        }\n        if (Is.string(content)) {\n            return { value: content };\n        }\n        const { language, value } = content;\n        return {\n            value: '```' + language + '\\n' + value + '\\n```'\n        };\n    }\n    asSeverity(severity) {\n        if (severity === 1) {\n            return monaco.MarkerSeverity.Error;\n        }\n        if (severity === 2) {\n            return monaco.MarkerSeverity.Warning;\n        }\n        if (severity === 3) {\n            return monaco.MarkerSeverity.Info;\n        }\n        return monaco.MarkerSeverity.Hint;\n    }\n    asDiagnostics(diagnostics) {\n        if (!diagnostics) {\n            return undefined;\n        }\n        return diagnostics.map(diagnostic => this.asDiagnostic(diagnostic));\n    }\n    asDiagnostic(diagnostic) {\n        return {\n            code: typeof diagnostic.code === \"number\" ? diagnostic.code.toString() : diagnostic.code,\n            severity: this.asSeverity(diagnostic.severity),\n            message: diagnostic.message,\n            source: diagnostic.source,\n            startLineNumber: diagnostic.range.start.line + 1,\n            startColumn: diagnostic.range.start.character + 1,\n            endLineNumber: diagnostic.range.end.line + 1,\n            endColumn: diagnostic.range.end.character + 1,\n            relatedInformation: this.asRelatedInformations(diagnostic.relatedInformation)\n        };\n    }\n    asRelatedInformations(relatedInformation) {\n        if (!relatedInformation) {\n            return undefined;\n        }\n        return relatedInformation.map(item => this.asRelatedInformation(item));\n    }\n    asRelatedInformation(relatedInformation) {\n        return {\n            resource: monaco.Uri.parse(relatedInformation.location.uri),\n            startLineNumber: relatedInformation.location.range.start.line + 1,\n            startColumn: relatedInformation.location.range.start.character + 1,\n            endLineNumber: relatedInformation.location.range.end.line + 1,\n            endColumn: relatedInformation.location.range.end.character + 1,\n            message: relatedInformation.message\n        };\n    }\n    asCompletionResult(result, defaultRange) {\n        if (!result) {\n            return {\n                incomplete: false,\n                suggestions: []\n            };\n        }\n        if (Array.isArray(result)) {\n            const suggestions = result.map(item => this.asCompletionItem(item, defaultRange));\n            return {\n                incomplete: false,\n                suggestions\n            };\n        }\n        return {\n            incomplete: result.isIncomplete,\n            suggestions: result.items.map(item => this.asCompletionItem(item, defaultRange))\n        };\n    }\n    asCompletionItem(item, defaultRange) {\n        const result = { label: item.label };\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = this.asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? undefined : item.documentation.kind;\n        }\n        ;\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = this.asCompletionInsertText(item, defaultRange);\n        result.insertText = insertText.insertText;\n        result.range = insertText.range;\n        result.fromEdit = insertText.fromEdit;\n        if (insertText.isSnippet) {\n            result.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = this.asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = this.asTextEdits(item.additionalTextEdits);\n        }\n        if (Is.stringArray(item.commitCharacters)) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = this.asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        if (item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n        }\n        return result;\n    }\n    asCompletionItemKind(value) {\n        if (services_1.CompletionItemKind.Text <= value && value <= services_1.CompletionItemKind.TypeParameter) {\n            switch (value) {\n                case services_1.CompletionItemKind.Text: return [monaco.languages.CompletionItemKind.Text, undefined];\n                case services_1.CompletionItemKind.Method: return [monaco.languages.CompletionItemKind.Method, undefined];\n                case services_1.CompletionItemKind.Function: return [monaco.languages.CompletionItemKind.Function, undefined];\n                case services_1.CompletionItemKind.Constructor: return [monaco.languages.CompletionItemKind.Constructor, undefined];\n                case services_1.CompletionItemKind.Field: return [monaco.languages.CompletionItemKind.Field, undefined];\n                case services_1.CompletionItemKind.Variable: return [monaco.languages.CompletionItemKind.Variable, undefined];\n                case services_1.CompletionItemKind.Class: return [monaco.languages.CompletionItemKind.Class, undefined];\n                case services_1.CompletionItemKind.Interface: return [monaco.languages.CompletionItemKind.Interface, undefined];\n                case services_1.CompletionItemKind.Module: return [monaco.languages.CompletionItemKind.Module, undefined];\n                case services_1.CompletionItemKind.Property: return [monaco.languages.CompletionItemKind.Property, undefined];\n                case services_1.CompletionItemKind.Unit: return [monaco.languages.CompletionItemKind.Unit, undefined];\n                case services_1.CompletionItemKind.Value: return [monaco.languages.CompletionItemKind.Value, undefined];\n                case services_1.CompletionItemKind.Enum: return [monaco.languages.CompletionItemKind.Enum, undefined];\n                case services_1.CompletionItemKind.Keyword: return [monaco.languages.CompletionItemKind.Keyword, undefined];\n                case services_1.CompletionItemKind.Snippet: return [monaco.languages.CompletionItemKind.Snippet, undefined];\n                case services_1.CompletionItemKind.Color: return [monaco.languages.CompletionItemKind.Color, undefined];\n                case services_1.CompletionItemKind.File: return [monaco.languages.CompletionItemKind.File, undefined];\n                case services_1.CompletionItemKind.Reference: return [monaco.languages.CompletionItemKind.Reference, undefined];\n                case services_1.CompletionItemKind.Folder: return [monaco.languages.CompletionItemKind.Folder, undefined];\n                case services_1.CompletionItemKind.EnumMember: return [monaco.languages.CompletionItemKind.EnumMember, undefined];\n                case services_1.CompletionItemKind.Constant: return [monaco.languages.CompletionItemKind.Constant, undefined];\n                case services_1.CompletionItemKind.Struct: return [monaco.languages.CompletionItemKind.Struct, undefined];\n                case services_1.CompletionItemKind.Event: return [monaco.languages.CompletionItemKind.Event, undefined];\n                case services_1.CompletionItemKind.Operator: return [monaco.languages.CompletionItemKind.Operator, undefined];\n                case services_1.CompletionItemKind.TypeParameter: return [monaco.languages.CompletionItemKind.TypeParameter, undefined];\n                default: return [value - 1, undefined];\n            }\n        }\n        ;\n        return [services_1.CompletionItemKind.Text, value];\n    }\n    asCompletionInsertText(item, defaultRange) {\n        const isSnippet = item.insertTextFormat === services_1.InsertTextFormat.Snippet;\n        if (item.textEdit) {\n            const range = this.asRange(item.textEdit.range);\n            const value = item.textEdit.newText;\n            return { isSnippet, insertText: value, range, fromEdit: true, };\n        }\n        if (item.insertText) {\n            return { isSnippet, insertText: item.insertText, fromEdit: false, range: defaultRange };\n        }\n        return { insertText: item.label, range: defaultRange, fromEdit: false, isSnippet: false };\n    }\n    asDocumentLinks(documentLinks) {\n        const links = documentLinks.map(link => this.asDocumentLink(link));\n        return { links };\n    }\n    asDocumentLink(documentLink) {\n        return {\n            range: this.asRange(documentLink.range),\n            url: documentLink.target,\n            data: documentLink.data\n        };\n    }\n    asRange(range) {\n        if (range === undefined) {\n            return undefined;\n        }\n        if (range === null) {\n            return null;\n        }\n        const start = this.asPosition(range.start);\n        const end = this.asPosition(range.end);\n        if (start instanceof monaco.Position && end instanceof monaco.Position) {\n            return new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n        }\n        const startLineNumber = !start || start.lineNumber === undefined ? undefined : start.lineNumber;\n        const startColumn = !start || start.column === undefined ? undefined : start.column;\n        const endLineNumber = !end || end.lineNumber === undefined ? undefined : end.lineNumber;\n        const endColumn = !end || end.column === undefined ? undefined : end.column;\n        return { startLineNumber, startColumn, endLineNumber, endColumn };\n    }\n    asPosition(position) {\n        if (position === undefined) {\n            return undefined;\n        }\n        if (position === null) {\n            return null;\n        }\n        const { line, character } = position;\n        const lineNumber = line === undefined ? undefined : line + 1;\n        const column = character === undefined ? undefined : character + 1;\n        if (lineNumber !== undefined && column !== undefined) {\n            return new monaco.Position(lineNumber, column);\n        }\n        return { lineNumber, column };\n    }\n    asColorInformations(items) {\n        return items.map(item => this.asColorInformation(item));\n    }\n    asColorInformation(item) {\n        return {\n            range: this.asRange(item.range),\n            color: item.color\n        };\n    }\n    asColorPresentations(items) {\n        return items.map(item => this.asColorPresentation(item));\n    }\n    asColorPresentation(item) {\n        return {\n            label: item.label,\n            textEdit: this.asTextEdit(item.textEdit),\n            additionalTextEdits: this.asTextEdits(item.additionalTextEdits)\n        };\n    }\n    asFoldingRanges(items) {\n        if (!items) {\n            return items;\n        }\n        return items.map(item => this.asFoldingRange(item));\n    }\n    asFoldingRange(item) {\n        return {\n            start: item.startLine + 1,\n            end: item.endLine + 1,\n            kind: this.asFoldingRangeKind(item.kind)\n        };\n    }\n    asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case services_1.FoldingRangeKind.Comment:\n                    return monaco.languages.FoldingRangeKind.Comment;\n                case services_1.FoldingRangeKind.Imports:\n                    return monaco.languages.FoldingRangeKind.Imports;\n                case services_1.FoldingRangeKind.Region:\n                    return monaco.languages.FoldingRangeKind.Region;\n            }\n            ;\n        }\n        return undefined;\n    }\n}\nexports.ProtocolToMonacoConverter = ProtocolToMonacoConverter;\n//# sourceMappingURL=monaco-converter.js.map","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar loader_1 = require(\"./loader\");\nexports.load = loader_1.load;\nexports.loadAll = loader_1.loadAll;\nexports.safeLoad = loader_1.safeLoad;\nexports.safeLoadAll = loader_1.safeLoadAll;\nvar dumper_1 = require(\"./dumper\");\nexports.dump = dumper_1.dump;\nexports.safeDump = dumper_1.safeDump;\nexports.YAMLException = require(\"./exception\");\n__export(require(\"./yamlAST\"));\nfunction deprecated(name) {\n    return function () {\n        throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n    };\n}\n__export(require(\"./scalarInference\"));\n//# sourceMappingURL=index.js.map","'use strict';\nvar schema_1 = require(\"../schema\");\nvar schema = new schema_1.Schema({\n    include: [\n        require('./default_safe')\n    ],\n    explicit: [\n        require('../type/js/undefined'),\n        require('../type/js/regexp')\n    ]\n});\nschema_1.Schema.DEFAULT = schema;\nmodule.exports = schema;\n//# sourceMappingURL=default_full.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./languageservice/yamlLanguageService\"));\nvar vscode_json_languageservice_1 = require(\"vscode-json-languageservice\");\nexports.getJSONLanguageService = vscode_json_languageservice_1.getLanguageService;\n__export(require(\"vscode-languageserver-types\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONSchemaService = exports.ResolvedSchema = exports.UnresolvedSchema = void 0;\nvar Json = require(\"jsonc-parser\");\nvar vscode_uri_1 = require(\"vscode-uri\");\nvar Strings = require(\"../utils/strings\");\nvar Parser = require(\"../parser/jsonParser\");\nvar nls = require(\"vscode-nls\");\nvar localize = nls.loadMessageBundle();\nvar FilePatternAssociation = /** @class */ (function () {\n    function FilePatternAssociation(pattern, uris) {\n        this.patternRegExps = [];\n        this.isInclude = [];\n        try {\n            for (var _i = 0, pattern_1 = pattern; _i < pattern_1.length; _i++) {\n                var p = pattern_1[_i];\n                var include = p[0] !== '!';\n                if (!include) {\n                    p = p.substring(1);\n                }\n                this.patternRegExps.push(new RegExp(Strings.convertSimple2RegExpPattern(p) + '$'));\n                this.isInclude.push(include);\n            }\n            this.uris = uris;\n        }\n        catch (e) {\n            // invalid pattern\n            this.patternRegExps.length = 0;\n            this.isInclude.length = 0;\n            this.uris = [];\n        }\n    }\n    FilePatternAssociation.prototype.matchesPattern = function (fileName) {\n        var match = false;\n        for (var i = 0; i < this.patternRegExps.length; i++) {\n            var regExp = this.patternRegExps[i];\n            if (regExp.test(fileName)) {\n                match = this.isInclude[i];\n            }\n        }\n        return match;\n    };\n    FilePatternAssociation.prototype.getURIs = function () {\n        return this.uris;\n    };\n    return FilePatternAssociation;\n}());\nvar SchemaHandle = /** @class */ (function () {\n    function SchemaHandle(service, url, unresolvedSchemaContent) {\n        this.service = service;\n        this.url = url;\n        this.dependencies = {};\n        if (unresolvedSchemaContent) {\n            this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));\n        }\n    }\n    SchemaHandle.prototype.getUnresolvedSchema = function () {\n        if (!this.unresolvedSchema) {\n            this.unresolvedSchema = this.service.loadSchema(this.url);\n        }\n        return this.unresolvedSchema;\n    };\n    SchemaHandle.prototype.getResolvedSchema = function () {\n        var _this = this;\n        if (!this.resolvedSchema) {\n            this.resolvedSchema = this.getUnresolvedSchema().then(function (unresolved) {\n                return _this.service.resolveSchemaContent(unresolved, _this.url, _this.dependencies);\n            });\n        }\n        return this.resolvedSchema;\n    };\n    SchemaHandle.prototype.clearSchema = function () {\n        this.resolvedSchema = undefined;\n        this.unresolvedSchema = undefined;\n        this.dependencies = {};\n    };\n    return SchemaHandle;\n}());\nvar UnresolvedSchema = /** @class */ (function () {\n    function UnresolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    return UnresolvedSchema;\n}());\nexports.UnresolvedSchema = UnresolvedSchema;\nvar ResolvedSchema = /** @class */ (function () {\n    function ResolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    ResolvedSchema.prototype.getSection = function (path) {\n        var schemaRef = this.getSectionRecursive(path, this.schema);\n        if (schemaRef) {\n            return Parser.asSchema(schemaRef);\n        }\n        return undefined;\n    };\n    ResolvedSchema.prototype.getSectionRecursive = function (path, schema) {\n        if (!schema || typeof schema === 'boolean' || path.length === 0) {\n            return schema;\n        }\n        var next = path.shift();\n        if (schema.properties && typeof schema.properties[next]) {\n            return this.getSectionRecursive(path, schema.properties[next]);\n        }\n        else if (schema.patternProperties) {\n            for (var _i = 0, _a = Object.keys(schema.patternProperties); _i < _a.length; _i++) {\n                var pattern = _a[_i];\n                var regex = new RegExp(pattern);\n                if (regex.test(next)) {\n                    return this.getSectionRecursive(path, schema.patternProperties[pattern]);\n                }\n            }\n        }\n        else if (typeof schema.additionalProperties === 'object') {\n            return this.getSectionRecursive(path, schema.additionalProperties);\n        }\n        else if (next.match('[0-9]+')) {\n            if (Array.isArray(schema.items)) {\n                var index = parseInt(next, 10);\n                if (!isNaN(index) && schema.items[index]) {\n                    return this.getSectionRecursive(path, schema.items[index]);\n                }\n            }\n            else if (schema.items) {\n                return this.getSectionRecursive(path, schema.items);\n            }\n        }\n        return undefined;\n    };\n    return ResolvedSchema;\n}());\nexports.ResolvedSchema = ResolvedSchema;\nvar JSONSchemaService = /** @class */ (function () {\n    function JSONSchemaService(requestService, contextService, promiseConstructor) {\n        this.contextService = contextService;\n        this.requestService = requestService;\n        this.promiseConstructor = promiseConstructor || Promise;\n        this.callOnDispose = [];\n        this.contributionSchemas = {};\n        this.contributionAssociations = [];\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n    }\n    JSONSchemaService.prototype.getRegisteredSchemaIds = function (filter) {\n        return Object.keys(this.registeredSchemasIds).filter(function (id) {\n            var scheme = vscode_uri_1.URI.parse(id).scheme;\n            return scheme !== 'schemaservice' && (!filter || filter(scheme));\n        });\n    };\n    Object.defineProperty(JSONSchemaService.prototype, \"promise\", {\n        get: function () {\n            return this.promiseConstructor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    JSONSchemaService.prototype.dispose = function () {\n        while (this.callOnDispose.length > 0) {\n            this.callOnDispose.pop()();\n        }\n    };\n    JSONSchemaService.prototype.onResourceChange = function (uri) {\n        var _this = this;\n        var hasChanges = false;\n        uri = normalizeId(uri);\n        var toWalk = [uri];\n        var all = Object.keys(this.schemasById).map(function (key) { return _this.schemasById[key]; });\n        while (toWalk.length) {\n            var curr = toWalk.pop();\n            for (var i = 0; i < all.length; i++) {\n                var handle = all[i];\n                if (handle && (handle.url === curr || handle.dependencies[curr])) {\n                    if (handle.url !== curr) {\n                        toWalk.push(handle.url);\n                    }\n                    handle.clearSchema();\n                    all[i] = undefined;\n                    hasChanges = true;\n                }\n            }\n        }\n        return hasChanges;\n    };\n    JSONSchemaService.prototype.setSchemaContributions = function (schemaContributions) {\n        if (schemaContributions.schemas) {\n            var schemas = schemaContributions.schemas;\n            for (var id in schemas) {\n                var normalizedId = normalizeId(id);\n                this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);\n            }\n        }\n        if (Array.isArray(schemaContributions.schemaAssociations)) {\n            var schemaAssociations = schemaContributions.schemaAssociations;\n            for (var _i = 0, schemaAssociations_1 = schemaAssociations; _i < schemaAssociations_1.length; _i++) {\n                var schemaAssociation = schemaAssociations_1[_i];\n                var uris = schemaAssociation.uris.map(normalizeId);\n                var association = this.addFilePatternAssociation(schemaAssociation.pattern, uris);\n                this.contributionAssociations.push(association);\n            }\n        }\n    };\n    JSONSchemaService.prototype.addSchemaHandle = function (id, unresolvedSchemaContent) {\n        var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);\n        this.schemasById[id] = schemaHandle;\n        return schemaHandle;\n    };\n    JSONSchemaService.prototype.getOrAddSchemaHandle = function (id, unresolvedSchemaContent) {\n        return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);\n    };\n    JSONSchemaService.prototype.addFilePatternAssociation = function (pattern, uris) {\n        var fpa = new FilePatternAssociation(pattern, uris);\n        this.filePatternAssociations.push(fpa);\n        return fpa;\n    };\n    JSONSchemaService.prototype.registerExternalSchema = function (uri, filePatterns, unresolvedSchemaContent) {\n        var id = normalizeId(uri);\n        this.registeredSchemasIds[id] = true;\n        this.cachedSchemaForResource = undefined;\n        if (filePatterns) {\n            this.addFilePatternAssociation(filePatterns, [uri]);\n        }\n        return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);\n    };\n    JSONSchemaService.prototype.clearExternalSchemas = function () {\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n        this.cachedSchemaForResource = undefined;\n        for (var id in this.contributionSchemas) {\n            this.schemasById[id] = this.contributionSchemas[id];\n            this.registeredSchemasIds[id] = true;\n        }\n        for (var _i = 0, _a = this.contributionAssociations; _i < _a.length; _i++) {\n            var contributionAssociation = _a[_i];\n            this.filePatternAssociations.push(contributionAssociation);\n        }\n    };\n    JSONSchemaService.prototype.getResolvedSchema = function (schemaId) {\n        var id = normalizeId(schemaId);\n        var schemaHandle = this.schemasById[id];\n        if (schemaHandle) {\n            return schemaHandle.getResolvedSchema();\n        }\n        return this.promise.resolve(undefined);\n    };\n    JSONSchemaService.prototype.loadSchema = function (url) {\n        if (!this.requestService) {\n            var errorMessage = localize('json.schema.norequestservice', 'Unable to load schema from \\'{0}\\'. No schema request service available', toDisplayString(url));\n            return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));\n        }\n        return this.requestService(url).then(function (content) {\n            if (!content) {\n                var errorMessage = localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': No content.', toDisplayString(url));\n                return new UnresolvedSchema({}, [errorMessage]);\n            }\n            var schemaContent = {};\n            var jsonErrors = [];\n            schemaContent = Json.parse(content, jsonErrors);\n            var errors = jsonErrors.length ? [localize('json.schema.invalidFormat', 'Unable to parse content from \\'{0}\\': Parse error at offset {1}.', toDisplayString(url), jsonErrors[0].offset)] : [];\n            return new UnresolvedSchema(schemaContent, errors);\n        }, function (error) {\n            var errorMessage = error.toString();\n            var errorSplit = error.toString().split('Error: ');\n            if (errorSplit.length > 1) {\n                // more concise error message, URL and context are attached by caller anyways\n                errorMessage = errorSplit[1];\n            }\n            if (Strings.endsWith(errorMessage, '.')) {\n                errorMessage = errorMessage.substr(0, errorMessage.length - 1);\n            }\n            return new UnresolvedSchema({}, [localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': {1}.', toDisplayString(url), errorMessage)]);\n        });\n    };\n    JSONSchemaService.prototype.resolveSchemaContent = function (schemaToResolve, schemaURL, dependencies) {\n        var _this = this;\n        var resolveErrors = schemaToResolve.errors.slice(0);\n        var schema = schemaToResolve.schema;\n        if (schema.$schema) {\n            var id = normalizeId(schema.$schema);\n            if (id === 'http://json-schema.org/draft-03/schema') {\n                return this.promise.resolve(new ResolvedSchema({}, [localize('json.schema.draft03.notsupported', \"Draft-03 schemas are not supported.\")]));\n            }\n            else if (id === 'https://json-schema.org/draft/2019-09/schema') {\n                resolveErrors.push(localize('json.schema.draft201909.notsupported', \"Draft 2019-09 schemas are not yet fully supported.\"));\n            }\n        }\n        var contextService = this.contextService;\n        var findSection = function (schema, path) {\n            if (!path) {\n                return schema;\n            }\n            var current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some(function (part) {\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        var merge = function (target, sourceRoot, sourceURI, refSegment) {\n            var path = refSegment ? decodeURIComponent(refSegment) : undefined;\n            var section = findSection(sourceRoot, path);\n            if (section) {\n                for (var key in section) {\n                    if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize('json.schema.invalidref', '$ref \\'{0}\\' in \\'{1}\\' can not be resolved.', path, sourceURI));\n            }\n        };\n        var resolveExternalLink = function (node, uri, refSegment, parentSchemaURL, parentSchemaDependencies) {\n            if (contextService && !/^\\w+:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = normalizeId(uri);\n            var referencedHandle = _this.getOrAddSchemaHandle(uri);\n            return referencedHandle.getUnresolvedSchema().then(function (unresolvedSchema) {\n                parentSchemaDependencies[uri] = true;\n                if (unresolvedSchema.errors.length) {\n                    var loc = refSegment ? uri + '#' + refSegment : uri;\n                    resolveErrors.push(localize('json.schema.problemloadingref', 'Problems loading reference \\'{0}\\': {1}', loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, refSegment);\n                return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);\n            });\n        };\n        var resolveRefs = function (node, parentSchema, parentSchemaURL, parentSchemaDependencies) {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            var toWalk = [node];\n            var seen = [];\n            var openPromises = [];\n            var collectEntries = function () {\n                var entries = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    entries[_i] = arguments[_i];\n                }\n                for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n                    var entry = entries_1[_a];\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            var collectMapEntries = function () {\n                var maps = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    maps[_i] = arguments[_i];\n                }\n                for (var _a = 0, maps_1 = maps; _a < maps_1.length; _a++) {\n                    var map = maps_1[_a];\n                    if (typeof map === 'object') {\n                        for (var k in map) {\n                            var key = k;\n                            var entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var collectArrayEntries = function () {\n                var arrays = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    arrays[_i] = arguments[_i];\n                }\n                for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n                    var array = arrays_1[_a];\n                    if (Array.isArray(array)) {\n                        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n                            var entry = array_1[_b];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var handleRef = function (next) {\n                var seenRefs = [];\n                while (next.$ref) {\n                    var ref = next.$ref;\n                    var segments = ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));\n                        return;\n                    }\n                    else {\n                        if (seenRefs.indexOf(ref) === -1) {\n                            merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again, use seenRefs to avoid circle\n                            seenRefs.push(ref);\n                        }\n                    }\n                }\n                collectEntries(next.items, next.additionalItems, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);\n            };\n            while (toWalk.length) {\n                var next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return _this.promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL, dependencies).then(function (_) { return new ResolvedSchema(schema, resolveErrors); });\n    };\n    JSONSchemaService.prototype.getSchemaForResource = function (resource, document) {\n        // first use $schema if present\n        if (document && document.root && document.root.type === 'object') {\n            var schemaProperties = document.root.properties.filter(function (p) { return (p.keyNode.value === '$schema') && p.valueNode && p.valueNode.type === 'string'; });\n            if (schemaProperties.length > 0) {\n                var valueNode = schemaProperties[0].valueNode;\n                if (valueNode && valueNode.type === 'string') {\n                    var schemeId = Parser.getNodeValue(valueNode);\n                    if (schemeId && Strings.startsWith(schemeId, '.') && this.contextService) {\n                        schemeId = this.contextService.resolveRelativePath(schemeId, resource);\n                    }\n                    if (schemeId) {\n                        var id = normalizeId(schemeId);\n                        return this.getOrAddSchemaHandle(id).getResolvedSchema();\n                    }\n                }\n            }\n        }\n        if (this.cachedSchemaForResource && this.cachedSchemaForResource.resource === resource) {\n            return this.cachedSchemaForResource.resolvedSchema;\n        }\n        var seen = Object.create(null);\n        var schemas = [];\n        var normalizedResource = normalizeResourceForMatching(resource);\n        for (var _i = 0, _a = this.filePatternAssociations; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.matchesPattern(normalizedResource)) {\n                for (var _b = 0, _c = entry.getURIs(); _b < _c.length; _b++) {\n                    var schemaId = _c[_b];\n                    if (!seen[schemaId]) {\n                        schemas.push(schemaId);\n                        seen[schemaId] = true;\n                    }\n                }\n            }\n        }\n        var resolvedSchema = schemas.length > 0 ? this.createCombinedSchema(resource, schemas).getResolvedSchema() : this.promise.resolve(undefined);\n        this.cachedSchemaForResource = { resource: resource, resolvedSchema: resolvedSchema };\n        return resolvedSchema;\n    };\n    JSONSchemaService.prototype.createCombinedSchema = function (resource, schemaIds) {\n        if (schemaIds.length === 1) {\n            return this.getOrAddSchemaHandle(schemaIds[0]);\n        }\n        else {\n            var combinedSchemaId = 'schemaservice://combinedSchema/' + encodeURIComponent(resource);\n            var combinedSchema = {\n                allOf: schemaIds.map(function (schemaId) { return ({ $ref: schemaId }); })\n            };\n            return this.addSchemaHandle(combinedSchemaId, combinedSchema);\n        }\n    };\n    JSONSchemaService.prototype.getMatchingSchemas = function (document, jsonDocument, schema) {\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/matchingSchemas/' + idCounter++);\n            return this.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return jsonDocument.getMatchingSchemas(resolvedSchema.schema).filter(function (s) { return !s.inverted; });\n            });\n        }\n        return this.getSchemaForResource(document.uri, jsonDocument).then(function (schema) {\n            if (schema) {\n                return jsonDocument.getMatchingSchemas(schema.schema).filter(function (s) { return !s.inverted; });\n            }\n            return [];\n        });\n    };\n    return JSONSchemaService;\n}());\nexports.JSONSchemaService = JSONSchemaService;\nvar idCounter = 0;\nfunction normalizeId(id) {\n    // remove trailing '#', normalize drive capitalization\n    try {\n        return vscode_uri_1.URI.parse(id).toString();\n    }\n    catch (e) {\n        return id;\n    }\n}\nfunction normalizeResourceForMatching(resource) {\n    // remove querues and fragments, normalize drive capitalization\n    try {\n        return vscode_uri_1.URI.parse(resource).with({ fragment: null, query: null }).toString();\n    }\n    catch (e) {\n        return resource;\n    }\n}\nfunction toDisplayString(url) {\n    try {\n        var uri = vscode_uri_1.URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nexport function format(documentText, range, options) {\n    var initialIndentLevel;\n    var formatText;\n    var formatTextStart;\n    var rangeStart;\n    var rangeEnd;\n    if (range) {\n        rangeStart = range.offset;\n        rangeEnd = rangeStart + range.length;\n        formatTextStart = rangeStart;\n        while (formatTextStart > 0 && !isEOL(documentText, formatTextStart - 1)) {\n            formatTextStart--;\n        }\n        var endOffset = rangeEnd;\n        while (endOffset < documentText.length && !isEOL(documentText, endOffset)) {\n            endOffset++;\n        }\n        formatText = documentText.substring(formatTextStart, endOffset);\n        initialIndentLevel = computeIndentLevel(formatText, options);\n    }\n    else {\n        formatText = documentText;\n        initialIndentLevel = 0;\n        formatTextStart = 0;\n        rangeStart = 0;\n        rangeEnd = documentText.length;\n    }\n    var eol = getEOL(options, documentText);\n    var lineBreak = false;\n    var indentLevel = 0;\n    var indentValue;\n    if (options.insertSpaces) {\n        indentValue = repeat(' ', options.tabSize || 4);\n    }\n    else {\n        indentValue = '\\t';\n    }\n    var scanner = createScanner(formatText, false);\n    var hasError = false;\n    function newLineAndIndent() {\n        return eol + repeat(indentValue, initialIndentLevel + indentLevel);\n    }\n    function scanNext() {\n        var token = scanner.scan();\n        lineBreak = false;\n        while (token === 15 /* Trivia */ || token === 14 /* LineBreakTrivia */) {\n            lineBreak = lineBreak || (token === 14 /* LineBreakTrivia */);\n            token = scanner.scan();\n        }\n        hasError = token === 16 /* Unknown */ || scanner.getTokenError() !== 0 /* None */;\n        return token;\n    }\n    var editOperations = [];\n    function addEdit(text, startOffset, endOffset) {\n        if (!hasError && startOffset < rangeEnd && endOffset > rangeStart && documentText.substring(startOffset, endOffset) !== text) {\n            editOperations.push({ offset: startOffset, length: endOffset - startOffset, content: text });\n        }\n    }\n    var firstToken = scanNext();\n    if (firstToken !== 17 /* EOF */) {\n        var firstTokenStart = scanner.getTokenOffset() + formatTextStart;\n        var initialIndent = repeat(indentValue, initialIndentLevel);\n        addEdit(initialIndent, formatTextStart, firstTokenStart);\n    }\n    while (firstToken !== 17 /* EOF */) {\n        var firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;\n        var secondToken = scanNext();\n        var replaceContent = '';\n        while (!lineBreak && (secondToken === 12 /* LineCommentTrivia */ || secondToken === 13 /* BlockCommentTrivia */)) {\n            // comments on the same line: keep them on the same line, but ignore them otherwise\n            var commentTokenStart = scanner.getTokenOffset() + formatTextStart;\n            addEdit(' ', firstTokenEnd, commentTokenStart);\n            firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;\n            replaceContent = secondToken === 12 /* LineCommentTrivia */ ? newLineAndIndent() : '';\n            secondToken = scanNext();\n        }\n        if (secondToken === 2 /* CloseBraceToken */) {\n            if (firstToken !== 1 /* OpenBraceToken */) {\n                indentLevel--;\n                replaceContent = newLineAndIndent();\n            }\n        }\n        else if (secondToken === 4 /* CloseBracketToken */) {\n            if (firstToken !== 3 /* OpenBracketToken */) {\n                indentLevel--;\n                replaceContent = newLineAndIndent();\n            }\n        }\n        else {\n            switch (firstToken) {\n                case 3 /* OpenBracketToken */:\n                case 1 /* OpenBraceToken */:\n                    indentLevel++;\n                    replaceContent = newLineAndIndent();\n                    break;\n                case 5 /* CommaToken */:\n                case 12 /* LineCommentTrivia */:\n                    replaceContent = newLineAndIndent();\n                    break;\n                case 13 /* BlockCommentTrivia */:\n                    if (lineBreak) {\n                        replaceContent = newLineAndIndent();\n                    }\n                    else {\n                        // symbol following comment on the same line: keep on same line, separate with ' '\n                        replaceContent = ' ';\n                    }\n                    break;\n                case 6 /* ColonToken */:\n                    replaceContent = ' ';\n                    break;\n                case 10 /* StringLiteral */:\n                    if (secondToken === 6 /* ColonToken */) {\n                        replaceContent = '';\n                        break;\n                    }\n                // fall through\n                case 7 /* NullKeyword */:\n                case 8 /* TrueKeyword */:\n                case 9 /* FalseKeyword */:\n                case 11 /* NumericLiteral */:\n                case 2 /* CloseBraceToken */:\n                case 4 /* CloseBracketToken */:\n                    if (secondToken === 12 /* LineCommentTrivia */ || secondToken === 13 /* BlockCommentTrivia */) {\n                        replaceContent = ' ';\n                    }\n                    else if (secondToken !== 5 /* CommaToken */ && secondToken !== 17 /* EOF */) {\n                        hasError = true;\n                    }\n                    break;\n                case 16 /* Unknown */:\n                    hasError = true;\n                    break;\n            }\n            if (lineBreak && (secondToken === 12 /* LineCommentTrivia */ || secondToken === 13 /* BlockCommentTrivia */)) {\n                replaceContent = newLineAndIndent();\n            }\n        }\n        var secondTokenStart = scanner.getTokenOffset() + formatTextStart;\n        addEdit(replaceContent, firstTokenEnd, secondTokenStart);\n        firstToken = secondToken;\n    }\n    return editOperations;\n}\nfunction repeat(s, count) {\n    var result = '';\n    for (var i = 0; i < count; i++) {\n        result += s;\n    }\n    return result;\n}\nfunction computeIndentLevel(content, options) {\n    var i = 0;\n    var nChars = 0;\n    var tabSize = options.tabSize || 4;\n    while (i < content.length) {\n        var ch = content.charAt(i);\n        if (ch === ' ') {\n            nChars++;\n        }\n        else if (ch === '\\t') {\n            nChars += tabSize;\n        }\n        else {\n            break;\n        }\n        i++;\n    }\n    return Math.floor(nChars / tabSize);\n}\nfunction getEOL(options, text) {\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\r') {\n            if (i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                return '\\r\\n';\n            }\n            return '\\r';\n        }\n        else if (ch === '\\n') {\n            return '\\n';\n        }\n    }\n    return (options && options.eol) || '\\n';\n}\nexport function isEOL(text, offset) {\n    return '\\r\\n'.indexOf(text.charAt(offset)) !== -1;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport function getLocation(text, position) {\n    var segments = []; // strings or numbers\n    var earlyReturnException = new Object();\n    var previousNode = undefined;\n    var previousNodeInst = {\n        value: {},\n        offset: 0,\n        length: 0,\n        type: 'object',\n        parent: undefined\n    };\n    var isAtPropertyKey = false;\n    function setPreviousNode(value, offset, length, type) {\n        previousNodeInst.value = value;\n        previousNodeInst.offset = offset;\n        previousNodeInst.length = length;\n        previousNodeInst.type = type;\n        previousNodeInst.colonOffset = undefined;\n        previousNode = previousNodeInst;\n    }\n    try {\n        visit(text, {\n            onObjectBegin: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                isAtPropertyKey = position > offset;\n                segments.push(''); // push a placeholder (will be replaced)\n            },\n            onObjectProperty: function (name, offset, length) {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(name, offset, length, 'property');\n                segments[segments.length - 1] = name;\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onObjectEnd: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onArrayBegin: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.push(0);\n            },\n            onArrayEnd: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onLiteralValue: function (value, offset, length) {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(value, offset, length, getNodeType(value));\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onSeparator: function (sep, offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                if (sep === ':' && previousNode && previousNode.type === 'property') {\n                    previousNode.colonOffset = offset;\n                    isAtPropertyKey = false;\n                    previousNode = undefined;\n                }\n                else if (sep === ',') {\n                    var last = segments[segments.length - 1];\n                    if (typeof last === 'number') {\n                        segments[segments.length - 1] = last + 1;\n                    }\n                    else {\n                        isAtPropertyKey = true;\n                        segments[segments.length - 1] = '';\n                    }\n                    previousNode = undefined;\n                }\n            }\n        });\n    }\n    catch (e) {\n        if (e !== earlyReturnException) {\n            throw e;\n        }\n    }\n    return {\n        path: segments,\n        previousNode: previousNode,\n        isAtPropertyKey: isAtPropertyKey,\n        matches: function (pattern) {\n            var k = 0;\n            for (var i = 0; k < pattern.length && i < segments.length; i++) {\n                if (pattern[k] === segments[i] || pattern[k] === '*') {\n                    k++;\n                }\n                else if (pattern[k] !== '**') {\n                    return false;\n                }\n            }\n            return k === pattern.length;\n        }\n    };\n}\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nexport function parse(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentProperty = null;\n    var currentParent = [];\n    var previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    var visitor = {\n        onObjectBegin: function () {\n            var object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: function (name) {\n            currentProperty = name;\n        },\n        onObjectEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: function () {\n            var array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport function parseTree(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentParent = { type: 'array', offset: -1, length: -1, children: [], parent: undefined }; // artificial root\n    function ensurePropertyComplete(endOffset) {\n        if (currentParent.type === 'property') {\n            currentParent.length = endOffset - currentParent.offset;\n            currentParent = currentParent.parent;\n        }\n    }\n    function onValue(valueNode) {\n        currentParent.children.push(valueNode);\n        return valueNode;\n    }\n    var visitor = {\n        onObjectBegin: function (offset) {\n            currentParent = onValue({ type: 'object', offset: offset, length: -1, parent: currentParent, children: [] });\n        },\n        onObjectProperty: function (name, offset, length) {\n            currentParent = onValue({ type: 'property', offset: offset, length: -1, parent: currentParent, children: [] });\n            currentParent.children.push({ type: 'string', value: name, offset: offset, length: length, parent: currentParent });\n        },\n        onObjectEnd: function (offset, length) {\n            ensurePropertyComplete(offset + length); // in case of a missing value for a property: make sure property is complete\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onArrayBegin: function (offset, length) {\n            currentParent = onValue({ type: 'array', offset: offset, length: -1, parent: currentParent, children: [] });\n        },\n        onArrayEnd: function (offset, length) {\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onLiteralValue: function (value, offset, length) {\n            onValue({ type: getNodeType(value), offset: offset, length: length, parent: currentParent, value: value });\n            ensurePropertyComplete(offset + length);\n        },\n        onSeparator: function (sep, offset, length) {\n            if (currentParent.type === 'property') {\n                if (sep === ':') {\n                    currentParent.colonOffset = offset;\n                }\n                else if (sep === ',') {\n                    ensurePropertyComplete(offset);\n                }\n            }\n        },\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    var result = currentParent.children[0];\n    if (result) {\n        delete result.parent;\n    }\n    return result;\n}\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport function findNodeAtLocation(root, path) {\n    if (!root) {\n        return undefined;\n    }\n    var node = root;\n    for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n        var segment = path_1[_i];\n        if (typeof segment === 'string') {\n            if (node.type !== 'object' || !Array.isArray(node.children)) {\n                return undefined;\n            }\n            var found = false;\n            for (var _a = 0, _b = node.children; _a < _b.length; _a++) {\n                var propertyNode = _b[_a];\n                if (Array.isArray(propertyNode.children) && propertyNode.children[0].value === segment) {\n                    node = propertyNode.children[1];\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                return undefined;\n            }\n        }\n        else {\n            var index = segment;\n            if (node.type !== 'array' || index < 0 || !Array.isArray(node.children) || index >= node.children.length) {\n                return undefined;\n            }\n            node = node.children[index];\n        }\n    }\n    return node;\n}\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport function getNodePath(node) {\n    if (!node.parent || !node.parent.children) {\n        return [];\n    }\n    var path = getNodePath(node.parent);\n    if (node.parent.type === 'property') {\n        var key = node.parent.children[0].value;\n        path.push(key);\n    }\n    else if (node.parent.type === 'array') {\n        var index = node.parent.children.indexOf(node);\n        if (index !== -1) {\n            path.push(index);\n        }\n    }\n    return path;\n}\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport function getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.children.map(getNodeValue);\n        case 'object':\n            var obj = Object.create(null);\n            for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                var valueNode = prop.children[1];\n                if (valueNode) {\n                    obj[prop.children[0].value] = getNodeValue(valueNode);\n                }\n            }\n            return obj;\n        case 'null':\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n        default:\n            return undefined;\n    }\n}\nexport function contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return (offset >= node.offset && offset < (node.offset + node.length)) || includeRightBound && (offset === (node.offset + node.length));\n}\n/**\n * Finds the most inner node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport function findNodeAtOffset(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    if (contains(node, offset, includeRightBound)) {\n        var children = node.children;\n        if (Array.isArray(children)) {\n            for (var i = 0; i < children.length && children[i].offset <= offset; i++) {\n                var item = findNodeAtOffset(children[i], offset, includeRightBound);\n                if (item) {\n                    return item;\n                }\n            }\n        }\n        return node;\n    }\n    return undefined;\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport function visit(text, visitor, options) {\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var _scanner = createScanner(text, false);\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? function () { return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? function (arg) { return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    var disallowComments = options && options.disallowComments;\n    var allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            var token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* InvalidUnicode */:\n                    handleError(14 /* InvalidUnicode */);\n                    break;\n                case 5 /* InvalidEscapeCharacter */:\n                    handleError(15 /* InvalidEscapeCharacter */);\n                    break;\n                case 3 /* UnexpectedEndOfNumber */:\n                    handleError(13 /* UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* UnexpectedEndOfString */:\n                    handleError(12 /* UnexpectedEndOfString */);\n                    break;\n                case 6 /* InvalidCharacter */:\n                    handleError(16 /* InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* Unknown */:\n                    handleError(1 /* InvalidSymbol */);\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter, skipUntil) {\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token = _scanner.getToken();\n            while (token !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        var value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* NumericLiteral */:\n                var tokenValue = _scanner.getTokenValue();\n                var value = Number(tokenValue);\n                if (isNaN(value)) {\n                    handleError(2 /* InvalidNumberFormat */);\n                    value = 0;\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* StringLiteral */) {\n            handleError(3 /* PropertyNameExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ColonExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        var needsComma = false;\n        while (_scanner.getToken() !== 2 /* CloseBraceToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* CloseBraceToken */) {\n            handleError(7 /* CloseBraceExpected */, [2 /* CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        var needsComma = false;\n        while (_scanner.getToken() !== 4 /* CloseBracketToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (_scanner.getToken() !== 4 /* CloseBracketToken */) {\n            handleError(8 /* CloseBracketExpected */, [4 /* CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* OpenBracketToken */:\n                return parseArray();\n            case 1 /* OpenBraceToken */:\n                return parseObject();\n            case 10 /* StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* EOF */) {\n        handleError(9 /* EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport function stripComments(text, replaceCh) {\n    var _scanner = createScanner(text), parts = [], kind, offset = 0, pos;\n    do {\n        pos = _scanner.getPosition();\n        kind = _scanner.scan();\n        switch (kind) {\n            case 12 /* LineCommentTrivia */:\n            case 13 /* BlockCommentTrivia */:\n            case 17 /* EOF */:\n                if (offset !== pos) {\n                    parts.push(text.substring(offset, pos));\n                }\n                if (replaceCh !== undefined) {\n                    parts.push(_scanner.getTokenValue().replace(/[^\\r\\n]/g, replaceCh));\n                }\n                offset = _scanner.getPosition();\n                break;\n        }\n    } while (kind !== 17 /* EOF */);\n    return parts.join('');\n}\nexport function getNodeType(value) {\n    switch (typeof value) {\n        case 'boolean': return 'boolean';\n        case 'number': return 'number';\n        case 'string': return 'string';\n        case 'object': {\n            if (!value) {\n                return 'null';\n            }\n            else if (Array.isArray(value)) {\n                return 'array';\n            }\n            return 'object';\n        }\n        default: return 'null';\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return ral_1.default().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return ral_1.default().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar loader_1 = require(\"./loader\");\nexports.load = loader_1.load;\nexports.loadAll = loader_1.loadAll;\nexports.safeLoad = loader_1.safeLoad;\nexports.safeLoadAll = loader_1.safeLoadAll;\nvar dumper_1 = require(\"./dumper\");\nexports.dump = dumper_1.dump;\nexports.safeDump = dumper_1.safeDump;\nexports.YAMLException = require(\"./exception\");\n__export(require(\"./yamlAST\"));\nfunction deprecated(name) {\n    return function () {\n        throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n    };\n}\n__export(require(\"./scalarInference\"));\n//# sourceMappingURL=index.js.map","'use strict';\nconst schema_1 = require(\"../schema\");\nvar schema = new schema_1.Schema({\n    include: [\n        require('./default_safe')\n    ],\n    explicit: [\n        require('../type/js/undefined'),\n        require('../type/js/regexp')\n    ]\n});\nschema_1.Schema.DEFAULT = schema;\nmodule.exports = schema;\n//# sourceMappingURL=default_full.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Json from 'jsonc-parser';\nimport { URI } from 'vscode-uri';\nimport * as Strings from '../utils/strings';\nimport * as Parser from '../parser/jsonParser';\nimport * as nls from 'vscode-nls';\nvar localize = nls.loadMessageBundle();\nvar FilePatternAssociation = /** @class */ (function () {\n    function FilePatternAssociation(pattern, uris) {\n        this.patternRegExps = [];\n        this.isInclude = [];\n        try {\n            for (var _i = 0, pattern_1 = pattern; _i < pattern_1.length; _i++) {\n                var p = pattern_1[_i];\n                var include = p[0] !== '!';\n                if (!include) {\n                    p = p.substring(1);\n                }\n                this.patternRegExps.push(new RegExp(Strings.convertSimple2RegExpPattern(p) + '$'));\n                this.isInclude.push(include);\n            }\n            this.uris = uris;\n        }\n        catch (e) {\n            // invalid pattern\n            this.patternRegExps.length = 0;\n            this.isInclude.length = 0;\n            this.uris = [];\n        }\n    }\n    FilePatternAssociation.prototype.matchesPattern = function (fileName) {\n        var match = false;\n        for (var i = 0; i < this.patternRegExps.length; i++) {\n            var regExp = this.patternRegExps[i];\n            if (regExp.test(fileName)) {\n                match = this.isInclude[i];\n            }\n        }\n        return match;\n    };\n    FilePatternAssociation.prototype.getURIs = function () {\n        return this.uris;\n    };\n    return FilePatternAssociation;\n}());\nvar SchemaHandle = /** @class */ (function () {\n    function SchemaHandle(service, url, unresolvedSchemaContent) {\n        this.service = service;\n        this.url = url;\n        this.dependencies = {};\n        if (unresolvedSchemaContent) {\n            this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));\n        }\n    }\n    SchemaHandle.prototype.getUnresolvedSchema = function () {\n        if (!this.unresolvedSchema) {\n            this.unresolvedSchema = this.service.loadSchema(this.url);\n        }\n        return this.unresolvedSchema;\n    };\n    SchemaHandle.prototype.getResolvedSchema = function () {\n        var _this = this;\n        if (!this.resolvedSchema) {\n            this.resolvedSchema = this.getUnresolvedSchema().then(function (unresolved) {\n                return _this.service.resolveSchemaContent(unresolved, _this.url, _this.dependencies);\n            });\n        }\n        return this.resolvedSchema;\n    };\n    SchemaHandle.prototype.clearSchema = function () {\n        this.resolvedSchema = undefined;\n        this.unresolvedSchema = undefined;\n        this.dependencies = {};\n    };\n    return SchemaHandle;\n}());\nvar UnresolvedSchema = /** @class */ (function () {\n    function UnresolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    return UnresolvedSchema;\n}());\nexport { UnresolvedSchema };\nvar ResolvedSchema = /** @class */ (function () {\n    function ResolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    ResolvedSchema.prototype.getSection = function (path) {\n        var schemaRef = this.getSectionRecursive(path, this.schema);\n        if (schemaRef) {\n            return Parser.asSchema(schemaRef);\n        }\n        return undefined;\n    };\n    ResolvedSchema.prototype.getSectionRecursive = function (path, schema) {\n        if (!schema || typeof schema === 'boolean' || path.length === 0) {\n            return schema;\n        }\n        var next = path.shift();\n        if (schema.properties && typeof schema.properties[next]) {\n            return this.getSectionRecursive(path, schema.properties[next]);\n        }\n        else if (schema.patternProperties) {\n            for (var _i = 0, _a = Object.keys(schema.patternProperties); _i < _a.length; _i++) {\n                var pattern = _a[_i];\n                var regex = new RegExp(pattern);\n                if (regex.test(next)) {\n                    return this.getSectionRecursive(path, schema.patternProperties[pattern]);\n                }\n            }\n        }\n        else if (typeof schema.additionalProperties === 'object') {\n            return this.getSectionRecursive(path, schema.additionalProperties);\n        }\n        else if (next.match('[0-9]+')) {\n            if (Array.isArray(schema.items)) {\n                var index = parseInt(next, 10);\n                if (!isNaN(index) && schema.items[index]) {\n                    return this.getSectionRecursive(path, schema.items[index]);\n                }\n            }\n            else if (schema.items) {\n                return this.getSectionRecursive(path, schema.items);\n            }\n        }\n        return undefined;\n    };\n    return ResolvedSchema;\n}());\nexport { ResolvedSchema };\nvar JSONSchemaService = /** @class */ (function () {\n    function JSONSchemaService(requestService, contextService, promiseConstructor) {\n        this.contextService = contextService;\n        this.requestService = requestService;\n        this.promiseConstructor = promiseConstructor || Promise;\n        this.callOnDispose = [];\n        this.contributionSchemas = {};\n        this.contributionAssociations = [];\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n    }\n    JSONSchemaService.prototype.getRegisteredSchemaIds = function (filter) {\n        return Object.keys(this.registeredSchemasIds).filter(function (id) {\n            var scheme = URI.parse(id).scheme;\n            return scheme !== 'schemaservice' && (!filter || filter(scheme));\n        });\n    };\n    Object.defineProperty(JSONSchemaService.prototype, \"promise\", {\n        get: function () {\n            return this.promiseConstructor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    JSONSchemaService.prototype.dispose = function () {\n        while (this.callOnDispose.length > 0) {\n            this.callOnDispose.pop()();\n        }\n    };\n    JSONSchemaService.prototype.onResourceChange = function (uri) {\n        var _this = this;\n        var hasChanges = false;\n        uri = normalizeId(uri);\n        var toWalk = [uri];\n        var all = Object.keys(this.schemasById).map(function (key) { return _this.schemasById[key]; });\n        while (toWalk.length) {\n            var curr = toWalk.pop();\n            for (var i = 0; i < all.length; i++) {\n                var handle = all[i];\n                if (handle && (handle.url === curr || handle.dependencies[curr])) {\n                    if (handle.url !== curr) {\n                        toWalk.push(handle.url);\n                    }\n                    handle.clearSchema();\n                    all[i] = undefined;\n                    hasChanges = true;\n                }\n            }\n        }\n        return hasChanges;\n    };\n    JSONSchemaService.prototype.setSchemaContributions = function (schemaContributions) {\n        if (schemaContributions.schemas) {\n            var schemas = schemaContributions.schemas;\n            for (var id in schemas) {\n                var normalizedId = normalizeId(id);\n                this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);\n            }\n        }\n        if (Array.isArray(schemaContributions.schemaAssociations)) {\n            var schemaAssociations = schemaContributions.schemaAssociations;\n            for (var _i = 0, schemaAssociations_1 = schemaAssociations; _i < schemaAssociations_1.length; _i++) {\n                var schemaAssociation = schemaAssociations_1[_i];\n                var uris = schemaAssociation.uris.map(normalizeId);\n                var association = this.addFilePatternAssociation(schemaAssociation.pattern, uris);\n                this.contributionAssociations.push(association);\n            }\n        }\n    };\n    JSONSchemaService.prototype.addSchemaHandle = function (id, unresolvedSchemaContent) {\n        var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);\n        this.schemasById[id] = schemaHandle;\n        return schemaHandle;\n    };\n    JSONSchemaService.prototype.getOrAddSchemaHandle = function (id, unresolvedSchemaContent) {\n        return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);\n    };\n    JSONSchemaService.prototype.addFilePatternAssociation = function (pattern, uris) {\n        var fpa = new FilePatternAssociation(pattern, uris);\n        this.filePatternAssociations.push(fpa);\n        return fpa;\n    };\n    JSONSchemaService.prototype.registerExternalSchema = function (uri, filePatterns, unresolvedSchemaContent) {\n        var id = normalizeId(uri);\n        this.registeredSchemasIds[id] = true;\n        this.cachedSchemaForResource = undefined;\n        if (filePatterns) {\n            this.addFilePatternAssociation(filePatterns, [uri]);\n        }\n        return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);\n    };\n    JSONSchemaService.prototype.clearExternalSchemas = function () {\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.registeredSchemasIds = {};\n        this.cachedSchemaForResource = undefined;\n        for (var id in this.contributionSchemas) {\n            this.schemasById[id] = this.contributionSchemas[id];\n            this.registeredSchemasIds[id] = true;\n        }\n        for (var _i = 0, _a = this.contributionAssociations; _i < _a.length; _i++) {\n            var contributionAssociation = _a[_i];\n            this.filePatternAssociations.push(contributionAssociation);\n        }\n    };\n    JSONSchemaService.prototype.getResolvedSchema = function (schemaId) {\n        var id = normalizeId(schemaId);\n        var schemaHandle = this.schemasById[id];\n        if (schemaHandle) {\n            return schemaHandle.getResolvedSchema();\n        }\n        return this.promise.resolve(undefined);\n    };\n    JSONSchemaService.prototype.loadSchema = function (url) {\n        if (!this.requestService) {\n            var errorMessage = localize('json.schema.norequestservice', 'Unable to load schema from \\'{0}\\'. No schema request service available', toDisplayString(url));\n            return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));\n        }\n        return this.requestService(url).then(function (content) {\n            if (!content) {\n                var errorMessage = localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': No content.', toDisplayString(url));\n                return new UnresolvedSchema({}, [errorMessage]);\n            }\n            var schemaContent = {};\n            var jsonErrors = [];\n            schemaContent = Json.parse(content, jsonErrors);\n            var errors = jsonErrors.length ? [localize('json.schema.invalidFormat', 'Unable to parse content from \\'{0}\\': Parse error at offset {1}.', toDisplayString(url), jsonErrors[0].offset)] : [];\n            return new UnresolvedSchema(schemaContent, errors);\n        }, function (error) {\n            var errorMessage = error.toString();\n            var errorSplit = error.toString().split('Error: ');\n            if (errorSplit.length > 1) {\n                // more concise error message, URL and context are attached by caller anyways\n                errorMessage = errorSplit[1];\n            }\n            if (Strings.endsWith(errorMessage, '.')) {\n                errorMessage = errorMessage.substr(0, errorMessage.length - 1);\n            }\n            return new UnresolvedSchema({}, [localize('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': {1}.', toDisplayString(url), errorMessage)]);\n        });\n    };\n    JSONSchemaService.prototype.resolveSchemaContent = function (schemaToResolve, schemaURL, dependencies) {\n        var _this = this;\n        var resolveErrors = schemaToResolve.errors.slice(0);\n        var schema = schemaToResolve.schema;\n        if (schema.$schema) {\n            var id = normalizeId(schema.$schema);\n            if (id === 'http://json-schema.org/draft-03/schema') {\n                return this.promise.resolve(new ResolvedSchema({}, [localize('json.schema.draft03.notsupported', \"Draft-03 schemas are not supported.\")]));\n            }\n            else if (id === 'https://json-schema.org/draft/2019-09/schema') {\n                resolveErrors.push(localize('json.schema.draft201909.notsupported', \"Draft 2019-09 schemas are not yet fully supported.\"));\n            }\n        }\n        var contextService = this.contextService;\n        var findSection = function (schema, path) {\n            if (!path) {\n                return schema;\n            }\n            var current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some(function (part) {\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        var merge = function (target, sourceRoot, sourceURI, refSegment) {\n            var path = refSegment ? decodeURIComponent(refSegment) : undefined;\n            var section = findSection(sourceRoot, path);\n            if (section) {\n                for (var key in section) {\n                    if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize('json.schema.invalidref', '$ref \\'{0}\\' in \\'{1}\\' can not be resolved.', path, sourceURI));\n            }\n        };\n        var resolveExternalLink = function (node, uri, refSegment, parentSchemaURL, parentSchemaDependencies) {\n            if (contextService && !/^\\w+:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = normalizeId(uri);\n            var referencedHandle = _this.getOrAddSchemaHandle(uri);\n            return referencedHandle.getUnresolvedSchema().then(function (unresolvedSchema) {\n                parentSchemaDependencies[uri] = true;\n                if (unresolvedSchema.errors.length) {\n                    var loc = refSegment ? uri + '#' + refSegment : uri;\n                    resolveErrors.push(localize('json.schema.problemloadingref', 'Problems loading reference \\'{0}\\': {1}', loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, refSegment);\n                return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);\n            });\n        };\n        var resolveRefs = function (node, parentSchema, parentSchemaURL, parentSchemaDependencies) {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            var toWalk = [node];\n            var seen = [];\n            var openPromises = [];\n            var collectEntries = function () {\n                var entries = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    entries[_i] = arguments[_i];\n                }\n                for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n                    var entry = entries_1[_a];\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            var collectMapEntries = function () {\n                var maps = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    maps[_i] = arguments[_i];\n                }\n                for (var _a = 0, maps_1 = maps; _a < maps_1.length; _a++) {\n                    var map = maps_1[_a];\n                    if (typeof map === 'object') {\n                        for (var k in map) {\n                            var key = k;\n                            var entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var collectArrayEntries = function () {\n                var arrays = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    arrays[_i] = arguments[_i];\n                }\n                for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n                    var array = arrays_1[_a];\n                    if (Array.isArray(array)) {\n                        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n                            var entry = array_1[_b];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var handleRef = function (next) {\n                var seenRefs = [];\n                while (next.$ref) {\n                    var ref = next.$ref;\n                    var segments = ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));\n                        return;\n                    }\n                    else {\n                        if (seenRefs.indexOf(ref) === -1) {\n                            merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again, use seenRefs to avoid circle\n                            seenRefs.push(ref);\n                        }\n                    }\n                }\n                collectEntries(next.items, next.additionalItems, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);\n            };\n            while (toWalk.length) {\n                var next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return _this.promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL, dependencies).then(function (_) { return new ResolvedSchema(schema, resolveErrors); });\n    };\n    JSONSchemaService.prototype.getSchemaForResource = function (resource, document) {\n        // first use $schema if present\n        if (document && document.root && document.root.type === 'object') {\n            var schemaProperties = document.root.properties.filter(function (p) { return (p.keyNode.value === '$schema') && p.valueNode && p.valueNode.type === 'string'; });\n            if (schemaProperties.length > 0) {\n                var valueNode = schemaProperties[0].valueNode;\n                if (valueNode && valueNode.type === 'string') {\n                    var schemeId = Parser.getNodeValue(valueNode);\n                    if (schemeId && Strings.startsWith(schemeId, '.') && this.contextService) {\n                        schemeId = this.contextService.resolveRelativePath(schemeId, resource);\n                    }\n                    if (schemeId) {\n                        var id = normalizeId(schemeId);\n                        return this.getOrAddSchemaHandle(id).getResolvedSchema();\n                    }\n                }\n            }\n        }\n        if (this.cachedSchemaForResource && this.cachedSchemaForResource.resource === resource) {\n            return this.cachedSchemaForResource.resolvedSchema;\n        }\n        var seen = Object.create(null);\n        var schemas = [];\n        var normalizedResource = normalizeResourceForMatching(resource);\n        for (var _i = 0, _a = this.filePatternAssociations; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.matchesPattern(normalizedResource)) {\n                for (var _b = 0, _c = entry.getURIs(); _b < _c.length; _b++) {\n                    var schemaId = _c[_b];\n                    if (!seen[schemaId]) {\n                        schemas.push(schemaId);\n                        seen[schemaId] = true;\n                    }\n                }\n            }\n        }\n        var resolvedSchema = schemas.length > 0 ? this.createCombinedSchema(resource, schemas).getResolvedSchema() : this.promise.resolve(undefined);\n        this.cachedSchemaForResource = { resource: resource, resolvedSchema: resolvedSchema };\n        return resolvedSchema;\n    };\n    JSONSchemaService.prototype.createCombinedSchema = function (resource, schemaIds) {\n        if (schemaIds.length === 1) {\n            return this.getOrAddSchemaHandle(schemaIds[0]);\n        }\n        else {\n            var combinedSchemaId = 'schemaservice://combinedSchema/' + encodeURIComponent(resource);\n            var combinedSchema = {\n                allOf: schemaIds.map(function (schemaId) { return ({ $ref: schemaId }); })\n            };\n            return this.addSchemaHandle(combinedSchemaId, combinedSchema);\n        }\n    };\n    JSONSchemaService.prototype.getMatchingSchemas = function (document, jsonDocument, schema) {\n        if (schema) {\n            var id = schema.id || ('schemaservice://untitled/matchingSchemas/' + idCounter++);\n            return this.resolveSchemaContent(new UnresolvedSchema(schema), id, {}).then(function (resolvedSchema) {\n                return jsonDocument.getMatchingSchemas(resolvedSchema.schema).filter(function (s) { return !s.inverted; });\n            });\n        }\n        return this.getSchemaForResource(document.uri, jsonDocument).then(function (schema) {\n            if (schema) {\n                return jsonDocument.getMatchingSchemas(schema.schema).filter(function (s) { return !s.inverted; });\n            }\n            return [];\n        });\n    };\n    return JSONSchemaService;\n}());\nexport { JSONSchemaService };\nvar idCounter = 0;\nfunction normalizeId(id) {\n    // remove trailing '#', normalize drive capitalization\n    try {\n        return URI.parse(id).toString();\n    }\n    catch (e) {\n        return id;\n    }\n}\nfunction normalizeResourceForMatching(resource) {\n    // remove querues and fragments, normalize drive capitalization\n    try {\n        return URI.parse(resource).with({ fragment: null, query: null }).toString();\n    }\n    catch (e) {\n        return resource;\n    }\n}\nfunction toDisplayString(url) {\n    try {\n        var uri = URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction setKubernetesParserOption(jsonDocuments, option) {\n    for (const jsonDoc of jsonDocuments) {\n        jsonDoc.isKubernetes = option;\n    }\n}\nexports.setKubernetesParserOption = setKubernetesParserOption;\n//# sourceMappingURL=isKubernetes.js.map"],"sourceRoot":""}