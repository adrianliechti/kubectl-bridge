(window.webpackJsonp=window.webpackJsonp||[]).push([[128,241],{11863:function(e,t,a){},4408:function(e,t,a){"use strict";a.r(t),a.d(t,"PVCStatus",(function(){return T})),a.d(t,"PersistentVolumeClaimsList",(function(){return K})),a.d(t,"PersistentVolumeClaimsPage",(function(){return L})),a.d(t,"PersistentVolumeClaimsDetailsPage",(function(){return $}));var n=a(0),l=a(16),s=a(22),c=a(667),i=a(50),o=a(18),r=a(31),d=a(54),m=a(7),u=a(2232),p=a(69),v=a(2263),b=a(13),O=a(15),y=a(243),E=a(972),R=a(40),k=a(5),f=a(409),g=a(10),W=a(53),h=a(436),j=a(1197),N=a(7564),M=a(29);const{ModifyLabels:P,ModifyAnnotations:C,Edit:F,ExpandPVC:V,PVCSnapshot:S,ClonePVC:_}=k.F.factory,B=[...k.F.getExtensionsActionsForKind(g.PersistentVolumeClaimModel),V,S,_,P,C,F,(e,t)=>({label:M.a.t("public~Delete PersistentVolumeClaim"),callback:()=>Object(N.a)({pvc:t}),accessReview:Object(k.Eb)(e,t,"delete")})],T=({pvc:e})=>{var t;const{t:a}=Object(m.useTranslation)(),[l,s]=Object(b.kc)(v.d);if(s&&l.length>0){const s=l.sort((e,t)=>t.properties.priority-e.properties.priority).find(t=>t.properties.predicate(e)),c=null===(t=null==s?void 0:s.properties)||void 0===t?void 0:t.status;return c?n.createElement(c,{pvc:e}):n.createElement(O.cc,{status:e.metadata.deletionTimestamp?a("public~Terminating"):e.status.phase})}return n.createElement(O.cc,{status:e.metadata.deletionTimestamp?a("public~Terminating"):e.status.phase})},w=["","",o("pf-m-hidden","pf-m-visible-on-lg"),o("pf-m-hidden","pf-m-visible-on-xl"),o("pf-m-hidden","pf-m-visible-on-xl"),o("pf-m-hidden","pf-m-visible-on-2xl"),o("pf-m-hidden","pf-m-visible-on-2xl"),k.F.columnClass],x="PersistentVolumeClaim",A=Object(r.connect)(({UI:e},{obj:t})=>{var a,n,l;return{metrics:null===(l=null===(n=null===(a=e.getIn(["metrics","pvc"]))||void 0===a?void 0:a.usedCapacity)||void 0===n?void 0:n[Object(O.ed)(t)])||void 0===l?void 0:l[Object(O.dd)(t)]}})(({obj:e,metrics:t})=>{var a,s,c;const[i,r]=[Object(O.dd)(e),Object(O.ed)(e)],d=Object(k.Ib)(null===(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.capacity)||void 0===s?void 0:s.storage),u=Object(k.Wb)(d),p=Object(k.Wb)(t),{t:v}=Object(m.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(R.k,{className:w[0]},n.createElement(k.hb,{kind:x,name:i,namespace:r,title:i})),n.createElement(R.k,{className:o(w[1],"co-break-word"),columnID:"namespace"},n.createElement(k.hb,{kind:"Namespace",name:r,title:r})),n.createElement(R.k,{className:w[2]},n.createElement(T,{pvc:e})),n.createElement(R.k,{className:w[3]},l.a(e,"spec.volumeName")?n.createElement(k.hb,{kind:"PersistentVolume",name:e.spec.volumeName,title:e.spec.volumeName}):n.createElement("div",{className:"text-muted"},v("public~No PersistentVolume"))),n.createElement(R.k,{className:w[4]},d?u.string:"-"),n.createElement(R.k,{className:w[5]},t?p.string:"-"),n.createElement(R.k,{className:o(w[6])},(null===(c=null==e?void 0:e.spec)||void 0===c?void 0:c.storageClassName)?n.createElement(k.hb,{kind:"StorageClass",name:e.spec.storageClassName,title:e.spec.storageClassName}):"-"),n.createElement(R.k,{className:w[7]},n.createElement(k.gb,{actions:B,kind:x,resource:e})))}),D=Object(y.a)(O.O.CAN_LIST_PV)(({flags:e,obj:t})=>{var a,l,c,i,o,r,d,p,y,R,f,g,W,N;const P=e[O.O.CAN_LIST_PV],C=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.name,F=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.namespace,V=null===(c=null==t?void 0:t.spec)||void 0===c?void 0:c.selector,S=null===(i=null==t?void 0:t.spec)||void 0===i?void 0:i.storageClassName,_=null===(o=null==t?void 0:t.spec)||void 0===o?void 0:o.volumeName,B=null===(d=null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.capacity)||void 0===d?void 0:d.storage,w=Object(O.Ad)(t),x=null===(p=null==t?void 0:t.status)||void 0===p?void 0:p.accessModes,A=null===(y=null==t?void 0:t.spec)||void 0===y?void 0:y.volumeMode,D=null===(R=null==t?void 0:t.status)||void 0===R?void 0:R.conditions,K=C&&F?`kubelet_volume_stats_used_bytes{persistentvolumeclaim='${C}',namespace='${F}'}`:"",[L,$,q]=Object(j.usePrometheusPoll)({endpoint:h.a.QUERY,namespace:F,query:K}),I=Object(k.Ib)(B),U=Object(k.Ib)(w),z=null===(N=null===(W=null===(g=null===(f=null==L?void 0:L.data)||void 0===f?void 0:f.result)||void 0===g?void 0:g[0])||void 0===W?void 0:W.value)||void 0===N?void 0:N[1],G=z?I-z:null,Y=Object(k.Wb)(I),H=Object(k.Wb)(G,void 0,Y.unit),J=Object(k.Wb)(z,void 0,Y.unit),{podStatusInnerRadius:Q,podStatusOuterRadius:X}=Object(O.vc)(130),Z=`${Number(H.value.toFixed(1))} ${H.unit}`,ee=`${Number(Y.value.toFixed(1))} ${Y.unit}`,te=z?[{x:M.a.t("public~Used"),y:J.value},{x:M.a.t("public~Available"),y:H.value}]:[{x:M.a.t("public~Total"),y:Y.value}],[ae]=Object(b.kc)(v.a),ne=null==ae?void 0:ae.map(({properties:{alert:e},uid:a})=>n.createElement(e,{key:a,pvc:t})),{t:le}=Object(m.useTranslation)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},ne,n.createElement(k.ob,{text:le("public~PersistentVolumeClaim details")}),I&&!q&&n.createElement("div",{className:"co-pvc-donut"},n.createElement(u.a,{ariaDesc:le(G?"public~Available versus used capacity":"public~Total capacity"),ariaTitle:le(G?"public~Available versus used capacity":"public~Total capacity"),height:130,width:130,size:130,innerRadius:Q,radius:X,data:te,labels:({datum:e})=>`${e.y} ${Y.unit} ${e.x}`,subTitle:le(G?"public~Available":"public~Total"),title:G?Z:ee,constrainToVisibleArea:!0})),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:t},n.createElement("dt",null,le("public~Label selector")),n.createElement("dd",{"data-test-id":"pvc-name"},n.createElement(k.pb,{selector:V,kind:"PersistentVolume"})))),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",null,n.createElement("dt",null,le("public~Status")),n.createElement("dd",{"data-test-id":"pvc-status"},n.createElement(T,{pvc:t})),n.createElement("dt",null,le("public~Requested capacity")),n.createElement("dd",{"data-test":"pvc-requested-capacity"},Object(k.Wb)(U).string),B&&n.createElement(n.Fragment,null,n.createElement("dt",null,le("public~Capacity")),n.createElement("dd",{"data-test-id":"pvc-capacity"},Y.string)),z&&s.a($)&&!q&&n.createElement(n.Fragment,null,n.createElement("dt",null,le("public~Used")),n.createElement("dd",null,Object(k.Wb)(z).string)),!s.a(x)&&n.createElement(n.Fragment,null,n.createElement("dt",null,le("public~Access modes")),n.createElement("dd",{"data-test-id":"pvc-access-mode"},x.join(", "))),n.createElement("dt",null,le("public~Volume mode")),n.createElement("dd",{"data-test-id":"pvc-volume-mode"},A||"Filesystem"),n.createElement("dt",null,le("public~StorageClasses")),n.createElement("dd",{"data-test-id":"pvc-storageclass"},S?n.createElement(k.hb,{kind:"StorageClass",name:S}):"-"),_&&P&&n.createElement(n.Fragment,null,n.createElement("dt",null,le("public~PersistentVolumes")),n.createElement("dd",{"data-test-id":"persistent-volume"},n.createElement(k.hb,{kind:"PersistentVolume",name:_}))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:le("public~Conditions")}),n.createElement(E.b,{conditions:D})))}),K=e=>{const{t:t}=Object(m.useTranslation)();return n.createElement(R.j,Object.assign({},e,{"aria-label":t("public~PersistentVolumeClaims"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:w[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:w[1]},id:"namespace"},{title:t("public~Status"),sortField:"status.phase",transforms:[d.a],props:{className:w[2]}},{title:t("public~PersistentVolumes"),sortField:"spec.volumeName",transforms:[d.a],props:{className:w[3]}},{title:t("public~Capacity"),sortFunc:"pvcStorage",transforms:[d.a],props:{className:w[4]}},{title:t("public~Used"),sortFunc:"pvcUsed",transforms:[d.a],props:{className:w[5]}},{sortField:"spec.storageClassName",title:t("public~StorageClass"),transforms:[d.a],props:{className:w[6]}},{title:"",props:{className:w[7]}}],Row:A,virtualize:!0}))},L=e=>{var t,a;const{t:l}=Object(m.useTranslation)(),o=Object(p.z)(v.b),{namespace:d}=e,u=Object(r.useDispatch)(),[b,O,y]=Object(j.usePrometheusPoll)({endpoint:h.a.QUERY,namespace:d,query:"kubelet_volume_stats_used_bytes"}),E=s.a(O)&&!y?null===(a=null===(t=null==b?void 0:b.data)||void 0===t?void 0:t.result)||void 0===a?void 0:a.reduce((e,t)=>{var a,n,l;return c.a(e,["usedCapacity",null===(a=null==t?void 0:t.metric)||void 0===a?void 0:a.namespace,null===(n=null==t?void 0:t.metric)||void 0===n?void 0:n.persistentvolumeclaim],Number(null===(l=null==t?void 0:t.value)||void 0===l?void 0:l[1])),e},{}):{};u(Object(W.s)(E));const k=`/k8s/ns/${e.namespace||"default"}/persistentvolumeclaims/`,f=o.map(({properties:{label:e,path:t}},a)=>({key:a+1,label:e,path:t})),g=0===o.length?{to:k.concat("~new/form")}:{items:Object.assign({0:"With Form"},...f.map(({key:e,label:t})=>({[e]:t}))),createLink:e=>{if("0"===e)return k.concat("~new/form");const t=f.find(({key:t})=>t.toString()===e);return k.concat(t.path)}},N=[{filterGroupName:l("public~Status"),type:"pvc-status",reducer:e=>e.status.phase,items:i.a(["Pending","Bound","Lost"],e=>({id:e,title:e}))}];return n.createElement(R.c,Object.assign({},e,{ListComponent:K,kind:x,canCreate:!0,rowFilters:N,createProps:g,customData:E}))},$=e=>{const{t:t}=Object(m.useTranslation)();return n.createElement(R.a,Object.assign({},e,{getResourceStatus:e=>e.metadata.deletionTimestamp?t("public~Terminating"):e.status.phase,menuActions:B,pages:[k.mc.details(D),k.mc.editYaml(),k.mc.events(f.ResourceEventStream)]}))}},4493:function(e,t,a){"use strict";a.r(t),a.d(t,"VolumeSnapshot",(function(){return N}));var n=a(0),l=a(379),s=a(184),c=a(80),i=a(966),o=a(19),r=a(137),d=a(7),m=a(14),u=a(4408),p=a(5907),v=a(5),b=a(5684),O=a(108),y=a(7565),E=a(10),R=a(8),k=a(15);a(11863);const f=()=>n.createElement(l.a,{className:"skeleton-box"},n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"}),n.createElement(s.a,{span:12,className:"skeleton-activity"})),g=e=>{const{selectedKey:t,filter:a}=e,l=Object(R.Hb)(E.VolumeSnapshotClassModel),s=[{kind:l}],{t:c}=Object(d.useTranslation)();return n.createElement(v.O,Object.assign({},e,{desc:c("console-app~VolumeSnapshotClass with same provisioner as claim"),dataFilter:a,resources:s,selectedKeyKind:l,placeholder:c("console-app~Select volume snapshot class"),selectedKey:t}))},W=({persistentVolumeClaim:e})=>{var t,a,l,s,c;const{t:i}=Object(d.useTranslation)(),o=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.storageClassName,r=null===(s=null===(l=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.resources)||void 0===l?void 0:l.requests)||void 0===s?void 0:s.storage,m=Object(v.Ib)(r),b=r?Object(v.Wb)(m).string:"-",O=Object(p.c)().find(t=>{var a,n;return t.value===(null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.accessModes)||void 0===n?void 0:n[0])}),y=null===(c=null==e?void 0:e.spec)||void 0===c?void 0:c.volumeMode;return n.createElement("dl",null,n.createElement("dt",{className:"co-volume-snapshot__details-body"},i("console-app~PersistentVolumeClaim details")),n.createElement("dt",null,i("console-app~Name")),n.createElement("dd",null,n.createElement(v.fb,{kind:E.PersistentVolumeClaimModel.kind}),Object(k.dd)(e)),n.createElement("dt",null,i("console-app~Namespace")),n.createElement("dd",null,n.createElement(v.fb,{kind:E.NamespaceModel.kind}),Object(k.ed)(e)),n.createElement("dt",null,i("console-app~Status")),n.createElement("dd",null,n.createElement(u.PVCStatus,{pvc:e})),n.createElement("dt",null,i("console-app~StorageClass")),n.createElement("dd",null,n.createElement(v.fb,{kind:E.StorageClassModel.kind}),o),n.createElement("dt",null,i("console-app~Requested capacity")),n.createElement("dd",null,b),n.createElement("dt",null,i("console-app~Access mode")),n.createElement("dd",null,O.title),n.createElement("dt",null,i("console-app~Volume mode")),n.createElement("dd",null,y))},h=e=>"true"===Object(k.Dc)(e,{defaultSnapshotClassAnnotation:"false"})["snapshot.storage.kubernetes.io/is-default-class"],j=Object(v.Oc)(e=>{var t;const{namespace:a,pvcName:u,handlePromise:j,inProgress:N,errorMessage:M}=e,{t:P}=Object(d.useTranslation)(),[C,F]=n.useState(u),[V,S]=n.useState(null),[_,B]=n.useState((u||"pvc")+"-snapshot"),[T,w]=n.useState(""),[x,,A]=Object(b.a)(E.VolumeSnapshotClassModel),[D,K,L]=Object(b.a)(E.StorageClassModel),$=P("console-app~Create VolumeSnapshot"),q=n.useMemo(()=>Object.assign({kind:E.PersistentVolumeClaimModel.kind,namespace:a,isList:!0},C?{name:C}:null),[a,C]),[I,U,z]=Object(O.a)(q),G=null===(t=(K?D.items:[]).find(e=>{var t;return e.metadata.name===(null===(t=null==V?void 0:V.spec)||void 0===t?void 0:t.storageClassName)}))||void 0===t?void 0:t.provisioner,Y=n.useCallback(e=>null==G?void 0:G.includes(null==e?void 0:e.driver),[G]),H=n.useMemo(()=>(null==x?void 0:x.items)||[],[x]),J=n.useCallback(e=>{const t=H.filter(e),a=t.filter(h);return Object(k.dd)(null==a?void 0:a[0])||Object(k.dd)(null==t?void 0:t[0])},[H]);n.useEffect(()=>{const e=I.find(e=>e.metadata.name===C);S(e),w(J(Y))},[I,C,a,z,Y,J]);return n.createElement("div",{className:"co-volume-snapshot__body"},n.createElement("div",{className:"co-m-pane__form"},n.createElement(r.a,null,n.createElement("title",null,$)),n.createElement(v.Z,{title:n.createElement("div",{className:"co-m-pane__name"},$),link:n.createElement(m.Link,{to:`/k8s/ns/${a||"default"}/${Object(R.Hb)(E.VolumeSnapshotModel)}/~new`,id:"yaml-link","data-test":"yaml-link",replace:!0},P("console-app~Edit YAML"))}),n.createElement("div",{className:"co-m-pane__body co-m-pane__body--no-top-margin"},n.createElement("form",{className:"co-m-pane__body-group",onSubmit:e=>{e.preventDefault();const t={apiVersion:Object(R.n)(E.VolumeSnapshotModel),kind:E.VolumeSnapshotModel.kind,metadata:{name:_,namespace:Object(k.ed)(V),annotations:{[p.i]:V.spec.accessModes.join(","),[p.j]:V.spec.storageClassName,[p.k]:V.spec.volumeMode}},spec:{volumeSnapshotClassName:T,source:{persistentVolumeClaimName:C}}};j(Object(R.jb)(E.VolumeSnapshotModel,t),e=>{v.Vb.push(Object(v.sc)(e,Object(R.Db)(e)))})}},u?n.createElement("p",null,n.createElement(d.Trans,{ns:"console-app"},"Creating snapshot for claim ",n.createElement("strong",null,{pvcName:u}))):n.createElement(n.Fragment,null,n.createElement("label",{className:"control-label co-required","html-for":"claimName"},P("console-app~PersistentVolumeClaim")),n.createElement(y.a,{dataTest:"pvc-dropdown",namespace:a,onChange:e=>{const t=I.find(t=>t.metadata.name===e);S(t),B(e+"-snapshot"),F(e)},selectedKey:C,dataFilter:e=>{var t;return"Bound"===(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.phase)},desc:P("console-app~PersistentVolumeClaim in {{namespace}} namespace",{namespace:a})})),n.createElement("div",{className:"form-group co-volume-snapshot__form"},n.createElement("label",{className:"control-label co-required",htmlFor:"snapshot-name"},P("console-app~Name")),n.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:e=>B(e.currentTarget.value),name:"snapshotName",id:"snapshot-name",value:_,required:!0})),V&&n.createElement("div",{className:"form-group co-volume-snapshot__form"},n.createElement("label",{className:"control-label co-required",htmlFor:"snapshot-class"},P("console-app~Snapshot Class")),A||L?n.createElement(c.a,{className:"co-alert co-volume-snapshot__alert-body",variant:"danger",title:"Error fetching info on claim's provisioner",isInline:!0}):n.createElement(g,{filter:Y,onChange:w,dataTest:"snapshot-dropdown",selectedKey:T})),n.createElement(v.g,{errorMessage:M||z,inProgress:N},n.createElement(i.a,{className:"pf-v5-c-form"},n.createElement(o.a,{type:"submit",variant:"primary",id:"save-changes",isDisabled:!T||!_||!C},P("console-app~Create")),n.createElement(o.a,{type:"button",variant:"secondary",onClick:v.Vb.goBack},P("console-app~Cancel"))))))),n.createElement("div",{className:"co-volume-snapshot__info"},n.createElement(l.a,{hasGutter:!0},n.createElement(s.a,{span:1}),n.createElement(s.a,{span:10},C&&V&&U&&n.createElement(W,{persistentVolumeClaim:V}),!U&&n.createElement(f,null)),n.createElement(s.a,{span:1}))))}),N=()=>{const e=Object(m.useParams)(),{pvc:t}=Object(v.Ub)();return n.createElement(j,{namespace:e.ns,pvcName:t})}},5684:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a(8),s=function(e,t,a,n){return new(a||(a=Promise))((function(l,s){function c(e){try{o(n.next(e))}catch(e){s(e)}}function i(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}o((n=n.apply(e,t||[])).next())}))};const c=(e,t,a,c)=>{const[i,o]=n.useState(),[r,d]=n.useState(!1),[m,u]=n.useState();return n.useEffect(()=>{s(void 0,void 0,void 0,(function*(){try{u(null),d(!1),o(null);const n=yield Object(l.kb)(e,t,a,c);o(n)}catch(e){u(e)}finally{d(!0)}}))},[e,t,a,c]),[i,r,m]}},5907:function(e,t,a){"use strict";a.d(t,"j",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"k",(function(){return r})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return O})),a.d(t,"b",(function(){return y})),a.d(t,"e",(function(){return E}));var n=a(29),l=a(499),s=a(117),c=a(22);const i="snapshot.storage.kubernetes.io/pvc-storage-class",o="snapshot.storage.kubernetes.io/pvc-access-modes",r="snapshot.storage.kubernetes.io/pvc-volume-mode",d=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],m=["Filesystem","Block"],u=Object.freeze({"kubernetes.io/no-provisioner":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/aws-ebs":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"kubernetes.io/gce-pd":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/glusterfs":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/cinder":{Filesystem:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"]},"kubernetes.io/azure-file":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/azure-disk":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/quobyte":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"kubernetes.io/rbd":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/vsphere-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/portworx-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/scaleio":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/storageos":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"manila.csi.openstack.org":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"ebs.csi.aws.com":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"block.csi.ibm.com":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"csi.ovirt.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"cinder.csi.openstack.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"pd.csi.storage.gke.io":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"cephfs.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"rbd.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"file.csi.azure.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]}}),p=()=>[{value:"ReadWriteOnce",title:n.a.t("public~Single user (RWO)")},{value:"ReadWriteMany",title:n.a.t("public~Shared access (RWX)")},{value:"ReadOnlyMany",title:n.a.t("public~Read only (ROX)")},{value:"ReadWriteOncePod",title:n.a.t("public~Read write once pod (RWOP)")}],v=()=>[{value:"Filesystem",title:n.a.t("public~Filesystem")},{value:"Block",title:n.a.t("public~Block")}],b={i:"B",Ki:"KiB",Mi:"MiB",Gi:"GiB",Ti:"TiB",Pi:"PiB",Ei:"EiB"},O=e=>l.a(s.a(u,(t,a)=>!(!(null==t?void 0:t.partialMatch)||!(null==e?void 0:e.includes(a)))||a===e)||{},"partialMatch"),y=(e,t,a)=>{let n;const l=O(e);return n=c.a(l)?d:a?l[a]:Object.keys(l).map(e=>l[e]).flat(),n=[...new Set(n)],t?n.filter(e=>"ReadOnlyMany"!==e):n},E=(e,t)=>{const a=O(e);return c.a(a)?m:t?Object.keys(a).filter(e=>a[e].includes(t)):Object.keys(a)}},7564:function(e,t,a){"use strict";var n=a(0),l=a(14),s=a(406),c=a(967),i=a(7),o=a(5),r=a(15),d=a(876),m=a(2263),u=a(40),p=a(8),v=a(10);const b=Object(o.Oc)(e=>{const{pvc:t,inProgress:a,errorMessage:b,handlePromise:O,close:y,cancel:E}=e,[R]=Object(d.useResolvedExtensions)(m.c),k=Object(r.dd)(t),{t:f}=Object(i.useTranslation)(),g={metadata:Object.assign({},null==t?void 0:t.metadata)},W=Object(l.useNavigate)(),h=R.map(({properties:{predicate:e,alert:t},uid:a})=>e(g)&&n.createElement(s.a,{key:a},n.createElement(t,{pvc:g})));return n.createElement("form",{onSubmit:e=>{e.preventDefault();const a=Object(p.lb)(v.PersistentVolumeClaimModel,t),n=R.map(({properties:{predicate:e,onPVCKill:t}})=>e(g)&&t(g));O(Promise.all([a,...n]),()=>{y(),W(Object(o.rc)(v.PersistentVolumeClaimModel,t.metadata.namespace))})},className:"modal-content"},n.createElement(u.h,null,n.createElement(r.tc,{className:"co-icon-space-r"})," ",f("public~Delete PersistentVolumeClaim")),n.createElement(u.e,null,n.createElement(c.a,{hasGutter:!0},h,n.createElement(s.a,null,n.createElement(i.Trans,{t:f,ns:"public"},"Are you sure you want to delete"," ",n.createElement("strong",{className:"co-break-word"},{pvcName:k})," PersistentVolumeClaim?")))),n.createElement(u.g,{errorMessage:b,inProgress:a,submitText:f("public~Delete"),submitDanger:!0,cancel:E}))});t.a=Object(u.m)(b)},7565:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),l=a(1965),s=a(7),c=a(10);const i=e=>{const t=c.PersistentVolumeClaimModel.kind,{namespace:a,selectedKey:i,desc:o}=e,r=[{kind:t,namespace:a}],{t:d}=Object(s.useTranslation)();return n.createElement(l.ListDropdown,Object.assign({},e,{desc:o,resources:r,selectedKeyKind:t,placeholder:d("public~Select claim"),selectedKey:i}))}}}]);
//# sourceMappingURL=create-volume-snapshot-chunk-74f000d1f3fd0744762d.min.js.map