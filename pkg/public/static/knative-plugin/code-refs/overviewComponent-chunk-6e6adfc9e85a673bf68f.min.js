(window.webpackJsonp=window.webpackJsonp||[]).push([[195,20,35,44,57,126,197],{1407:function(e,t,n){"use strict";n.r(t),n.d(t,"getQuotaResourceTypes",(function(){return U})),n.d(t,"getACRQResourceUsage",(function(){return B})),n.d(t,"getResourceUsage",(function(){return F})),n.d(t,"UsageIcon",(function(){return $})),n.d(t,"ResourceUsageRow",(function(){return Y})),n.d(t,"QuotaScopesInline",(function(){return G})),n.d(t,"QuotaScopesList",(function(){return H})),n.d(t,"hasComputeResources",(function(){return V})),n.d(t,"ResourceQuotasList",(function(){return J})),n.d(t,"AppliedClusterResourceQuotasList",(function(){return Z})),n.d(t,"quotaType",(function(){return X})),n.d(t,"flatten",(function(){return ee})),n.d(t,"ResourceQuotasPage",(function(){return te})),n.d(t,"AppliedClusterResourceQuotasPage",(function(){return ne})),n.d(t,"ResourceQuotasDetailsPage",(function(){return ae})),n.d(t,"AppliedClusterResourceQuotasDetailsPage",(function(){return se}));var a=n(16),s=n(160),r=n(1120),i=n(460),o=n(839),c=n(0),l=n(18),u=n(14),d=n(54),p=n(5839),m=n(5840),b=n(2248),h=n(2247),v=n(1199),f=n(7),g=n(5747),E=n(5746),O=n(5868),y=n(15),k=n(40),_=n(5),j=n(243),R=n(207),T=n(139),N=n(8),S=n(10),P=n(5674);const{common:C}=_.F.factory,w=[..._.F.getExtensionsActionsForKind(S.ResourceQuotaModel),...C],I=[..._.F.getExtensionsActionsForKind(S.ClusterResourceQuotaModel),...C],x=e=>[..._.F.getExtensionsActionsForKind(S.ClusterResourceQuotaModel),_.F.factory.ModifyLabels,_.F.factory.ModifyAnnotations,(t,n)=>({labelKey:"public~Edit AppliedClusterResourceQuota",href:`/k8s/ns/${e}/${Object(N.Hb)(S.AppliedClusterResourceQuotaModel)}/${n.metadata.name}/yaml`,accessReview:{group:t.apiGroup,resource:t.plural,name:n.metadata.name,namespace:e,verb:"update"}}),_.F.factory.Delete],D=e=>!e.metadata.namespace,A=Object(N.Hb)(S.ClusterResourceQuotaModel),M=Object(N.Hb)(S.AppliedClusterResourceQuotaModel),L=(e,t)=>e.metadata.namespace?w:"ClusterResourceQuota"===e.kind?I:"AppliedClusterResourceQuota"===e.kind?x(t.namespace):void 0,U=e=>{const t=D(e)?a.a(e,"spec.quota.hard"):a.a(e,"spec.hard");return s.a(t).sort()},B=(e,t,n)=>{var a,s,r,i,o,c,l,u,d,p,m,b,h;let v;if(n){v={namespace:null===(r=null===(s=(null===(a=e.status)||void 0===a?void 0:a.namespaces).filter(e=>e.namespace===n)[0])||void 0===s?void 0:s.status)||void 0===r?void 0:r.used[t],cluster:null===(o=null===(i=e.status)||void 0===i?void 0:i.total)||void 0===o?void 0:o.used[t]}}else v={namespace:0,cluster:null===(l=null===(c=e.status)||void 0===c?void 0:c.total)||void 0===l?void 0:l.used[t]};const f=null===(d=null===(u=e.status)||void 0===u?void 0:u.total)||void 0===d?void 0:d.used[t],g=(null===(m=null===(p=e.status)||void 0===p?void 0:p.total)||void 0===m?void 0:m.hard[t])||(null===(h=null===(b=e.spec)||void 0===b?void 0:b.quota)||void 0===h?void 0:h.hard[t]),E=g&&v.namespace?Object(_.Ib)(v.namespace)/Object(_.Ib)(g)*100:0,O=(g&&v.cluster?Object(_.Ib)(v.cluster)/Object(_.Ib)(g)*100:0)-E;return{used:v,totalUsed:f,max:g,percent:{namespace:E,otherNamespaces:O,unused:100-(E+O)}}},F=(e,t)=>{const n=D(e),s=n?["status","total","hard"]:["status","hard"],r=n?["spec","quota","hard"]:["spec","hard"],i=n?["status","total","used"]:["status","used"],o=a.a(e,[...s,t])||a.a(e,[...r,t]),c=a.a(e,[...i,t]);return{used:c,max:o,percent:o&&c?Object(_.Ib)(c)/Object(_.Ib)(o)*100:0}},K=["","","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",_.F.columnClass],q=["","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",_.F.columnClass],$=({percent:e})=>{let t=c.createElement(v.a,null);return 0===e?t=c.createElement(p.a,{className:"co-resource-quota-empty"}):e>0&&e<50?t=c.createElement(m.a,{className:"co-resource-quota-almost-empty"}):e>=50&&e<100?t=c.createElement(b.a,{className:"co-resource-quota-almost-full"}):100===e?t=c.createElement(h.a,{className:"co-resource-quota-full"}):e>100&&(t=c.createElement(y.tc,{className:"co-resource-quota-exceeded"})),t},Y=({quota:e,resourceType:t,namespace:n})=>{if(Object(N.Db)(e)===M){const{used:a,totalUsed:s,max:r,percent:i}=B(e,t,n);return c.createElement("div",{className:"row co-m-row"},c.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),c.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},c.createElement($,{percent:i.namespace})),c.createElement("div",{className:"col-sm-2 col-xs-2"},a.namespace),c.createElement("div",{className:"col-sm-2 col-xs-2"},s),c.createElement("div",{className:"col-sm-2 col-xs-2"},r))}const{used:a,max:s,percent:r}=F(e,t);return c.createElement("div",{className:"row co-m-row"},c.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),c.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},c.createElement($,{percent:r})),c.createElement("div",{className:"col-sm-3 col-xs-3"},a),c.createElement("div",{className:"col-sm-3 col-xs-3"},s))},G=({scopes:e})=>c.createElement("span",null,"(",e.join(", "),")"),H=({scopes:e})=>{const{t:t}=Object(f.useTranslation)(),n={Terminating:{description:t("public~Affects pods that have an active deadline. These pods usually include builds, deployers, and jobs.")},NotTerminating:{description:t("public~Affects pods that do not have an active deadline. These pods usually include your applications.")},BestEffort:{description:t("public~Affects pods that do not have resource limits set. These pods have a best effort quality of service.")},NotBestEffort:{description:t("public~Affects pods that have at least one resource limit set. These pods do not have a best effort quality of service.")}};return e.map(e=>{const t=a.a(n,e);return t?c.createElement("dd",{key:e},c.createElement("div",{className:"co-resource-quota-scope__label"},e),c.createElement("div",{className:"co-resource-quota-scope__description"},t.description)):c.createElement("dd",{key:e,className:"co-resource-quota-scope__label"},e)})},V=e=>r.a(e,["requests.cpu","cpu","limits.cpu","requests.memory","memory","limits.memory"]).length>0,W=({obj:e})=>{var t,n,a,s,r,i,o,d,p;const{t:m}=Object(f.useTranslation)(),b=Object(u.useParams)(),h=U(e),v=null!==(n=null===(t=e.spec)||void 0===t?void 0:t.scopes)&&void 0!==n?n:null===(s=null===(a=e.spec)||void 0===a?void 0:a.quota)||void 0===s?void 0:s.scopes,y=Object(N.Db)(e),k=y===M,j=null==b?void 0:b.ns;let R,T;switch(y){case M:R=m("public~AppliedClusterResourceQuota details"),T=c.createElement(g.a,{appliedClusterResourceQuota:e,namespace:j});break;case A:R=m("public~ClusterResourceQuota details"),T=c.createElement(O.a,{clusterResourceQuota:e});break;default:R=m("public~ResourceQuota details"),T=c.createElement(E.a,{resourceQuota:e})}const P=Object(_.Dc)({group:S.ClusterResourceQuotaModel.apiGroup,resource:S.ClusterResourceQuotaModel.plural,verb:"list"});return c.createElement(c.Fragment,null,c.createElement("div",{className:"co-m-pane__body"},c.createElement(_.ob,{text:R}),T,c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-6"},c.createElement(_.lb,{resource:e},P&&c.createElement(_.r,{label:m("public~ClusterResourceQuota"),obj:e,path:"rq.metadata.name"},c.createElement(_.hb,{kind:A,name:e.metadata.name})),c.createElement(_.r,{label:m("public~Label selector"),obj:e,path:"spec.selector.labels.matchLabels"},c.createElement(_.L,{kind:M,labels:null===(o=null===(i=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===i?void 0:i.labels)||void 0===o?void 0:o.matchLabels})),c.createElement(_.r,{label:m("public~Project annotations"),obj:e,path:"spec.selector.annotations"},c.createElement(_.pb,{selector:null===(p=null===(d=e.spec)||void 0===d?void 0:d.selector)||void 0===p?void 0:p.annotations,namespace:j})))),v&&c.createElement("div",{className:"col-sm-6"},c.createElement("dl",{className:"co-m-pane__details"},c.createElement("dt",null,m("public~Scopes")),c.createElement(H,{scopes:v}))))),c.createElement("div",{className:"co-m-pane__body"},c.createElement(_.ob,{text:R,style:{display:"block",marginBottom:"20px"}},c.createElement(_.B,null,c.createElement("p",null,m("public~Requests are the amount of resources you expect to use. These are used when establishing if the cluster can fulfill your Request.")),c.createElement("p",null,m("public~Limits are a maximum amount of a resource you can consume. Applications consuming more than the Limit may be terminated.")),c.createElement("p",null,m("public~A cluster administrator can establish limits on both the amount you can request and your limits with a ResourceQuota.")))),c.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},c.createElement("div",{className:"row co-m-table-grid__head"},c.createElement("div",{className:"col-sm-4 col-xs-6"},m("public~Resource type")),c.createElement("div",{className:"col-sm-2 hidden-xs"},m("public~Capacity")),c.createElement("div",{className:l({"col-sm-2 col-xs-2":k},{"col-sm-3 col-xs-3":!k})},m("public~Used")),k&&c.createElement("div",{className:"col-sm-2 col-xs-2"},m("public~Total used")),c.createElement("div",{className:l({"col-sm-2 col-xs-2":k},{"col-sm-3 col-xs-3":!k})},m("public~Max"))),c.createElement("div",{className:"co-m-table-grid__body"},h.map(t=>c.createElement(Y,{key:t,quota:e,resourceType:t,namespace:j}))))))},z=({obj:e,customData:t})=>{var n,a,s,r,i,o,u,d;const{t:p}=Object(f.useTranslation)(),m=L(e,t);let b;return b=e.kind===S.ResourceQuotaModel.kind?Object.keys((null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.hard)||{}).reduce((t,n)=>{var a,s,r;return Object(P.b)(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.hard[n],null===(r=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.used)||void 0===r?void 0:r[n])>=100?t+1:t},0):Object.keys((null===(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===s?void 0:s.hard)||{}).reduce((t,n)=>{var a,s,r,i,o;return Object(P.b)(null===(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===s?void 0:s.hard[n],null===(o=null===(i=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.total)||void 0===i?void 0:i.used)||void 0===o?void 0:o[n])>=100?t+1:t},0),c.createElement(c.Fragment,null,c.createElement(k.k,{className:K[0]},c.createElement(_.hb,{kind:Object(N.Db)(e),name:e.metadata.name,namespace:Object(N.Db)(e)===M?t.namespace:e.metadata.namespace,className:"co-resource-item__resource-name",dataTest:"resource-quota-link"})),c.createElement(k.k,{className:l(K[1],"co-break-word"),columnID:"namespace"},e.metadata.namespace?c.createElement(_.hb,{kind:"Namespace",name:e.metadata.namespace}):p("public~None")),c.createElement(k.k,{className:l(K[2],"co-break-word")},c.createElement(_.L,{kind:M,labels:null===(o=null===(i=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===i?void 0:i.labels)||void 0===o?void 0:o.matchLabels})),c.createElement(k.k,{className:l(K[3],"co-break-word")},c.createElement(_.pb,{selector:null===(d=null===(u=e.spec)||void 0===u?void 0:u.selector)||void 0===d?void 0:d.annotations,namespace:t.namespace})),c.createElement(k.k,{className:l(K[4],"co-break-word")},b>0?c.createElement(c.Fragment,null,c.createElement(y.tc,null)," ",p("public~{{count}} resource reached quota",{count:b})):p("public~none are at quota")),c.createElement(k.k,{className:K[5]},c.createElement(_.xb,{timestamp:e.metadata.creationTimestamp})),c.createElement(k.k,{className:K[6]},c.createElement(_.gb,{customData:t,actions:m,kind:Object(N.Db)(e),resource:e})))},Q=({obj:e,customData:t})=>{var n,a,s,r,i,o,u;const{t:d}=Object(f.useTranslation)(),p=L(e,t),m=Object.keys((null===(a=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===a?void 0:a.hard)||{}).reduce((t,n)=>{var a,s,r,i,o;return Object(P.b)(null===(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===s?void 0:s.hard[n],null===(o=null===(i=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.total)||void 0===i?void 0:i.used)||void 0===o?void 0:o[n])>=100?t+1:t},0);return c.createElement(c.Fragment,null,c.createElement(k.k,{className:q[0]},c.createElement(_.hb,{kind:M,name:e.metadata.name,namespace:t.namespace,className:"co-resource-item__resource-name"})),c.createElement(k.k,{className:l(q[1],"co-break-word")},c.createElement(_.L,{kind:M,labels:null===(i=null===(r=null===(s=e.spec)||void 0===s?void 0:s.selector)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.matchLabels})),c.createElement(k.k,{className:l(q[2],"co-break-word")},c.createElement(_.pb,{selector:null===(u=null===(o=e.spec)||void 0===o?void 0:o.selector)||void 0===u?void 0:u.annotations,namespace:t.namespace})),c.createElement(k.k,{className:l(q[3],"co-break-word")},m>0?c.createElement(c.Fragment,null,c.createElement(y.tc,null)," ",d("public~{{count}} resource reached quota",{count:m})):d("public~none are at quota")),c.createElement(k.k,{className:q[4]},c.createElement(_.xb,{timestamp:e.metadata.creationTimestamp})),c.createElement(k.k,{className:q[5]},c.createElement(_.gb,{customData:t,actions:p,kind:M,resource:e})))},J=e=>{const{t:t}=Object(f.useTranslation)();return c.createElement(k.j,Object.assign({},e,{"aria-label":t("public~ResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:K[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:K[1]},id:"namespace"},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:K[2]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:K[3]}},{title:t("public~Status"),props:{className:K[4]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:K[5]}},{title:"",props:{className:K[6]}}],Row:z,virtualize:!0,customData:{namespace:e.namespace}}))},Z=e=>{const{t:t}=Object(f.useTranslation)();return c.createElement(k.j,Object.assign({},e,{"aria-label":t("public~AppliedClusterResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:q[0]}},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:q[1]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:q[2]}},{title:t("public~Status"),props:{className:q[3]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:q[4]}},{title:"",props:{className:q[5]}}],Row:Q,virtualize:!0,customData:{namespace:e.namespace}}))},X=e=>{if(e)return e.metadata.namespace?"namespace":"cluster"},ee=e=>i.a(e,e=>o.a(e.data)),te=Object(j.a)(y.O.OPENSHIFT)(({namespace:e,flags:t,mock:n,showTitle:a})=>{const{t:s}=Object(f.useTranslation)(),r=[{kind:"ResourceQuota",namespaced:!0}];let i=null;if(Object(R.c)(t[y.O.OPENSHIFT]))return c.createElement(T.f,null);t[y.O.OPENSHIFT]&&(e?r.push({kind:Object(N.Hb)(S.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}):r.push({kind:Object(N.Hb)(S.ClusterResourceQuotaModel),namespaced:!1,optional:!0}),i=[{filterGroupName:s("public~Role"),type:"role-kind",reducer:X,items:[{id:"cluster",title:s("public~Cluster-wide {{resource}}",{resource:s(S.ResourceQuotaModel.labelPluralKey)})},{id:"namespace",title:s("public~Namespace {{resource}}",{resource:s(S.ResourceQuotaModel.labelPluralKey)})}]}]);const o=e||"default",l={model:S.ResourceQuotaModel,namespace:o};return c.createElement(k.i,{canCreate:!0,createAccessReview:l,createButtonText:s("public~Create ResourceQuota"),createProps:{to:`/k8s/ns/${o}/resourcequotas/~new`},ListComponent:J,resources:r,label:s(S.ResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:s(S.ResourceQuotaModel.labelPluralKey),rowFilters:i,mock:n,showTitle:a})}),ne=({namespace:e,mock:t,showTitle:n})=>{const{t:a}=Object(f.useTranslation)(),s=[{kind:Object(N.Hb)(S.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}];return c.createElement(k.i,{ListComponent:Z,resources:s,label:a(S.AppliedClusterResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:a(S.AppliedClusterResourceQuotaModel.labelPluralKey),mock:t,showTitle:n})},ae=e=>c.createElement(k.a,Object.assign({},e,{menuActions:w,pages:[_.mc.details(W),_.mc.editYaml()]})),se=e=>{const t=Object(u.useParams)(),n=x(null==t?void 0:t.ns);return c.createElement(k.a,Object.assign({},e,{menuActions:n,pages:[_.mc.details(W),_.mc.editYaml()]}))}},1945:function(e,t,n){"use strict";n.r(t),n.d(t,"deleteModal",(function(){return W})),n.d(t,"NamespacesList",(function(){return se})),n.d(t,"NamespacesPage",(function(){return re})),n.d(t,"projectMenuActions",(function(){return ie})),n.d(t,"ProjectsTable",(function(){return pe})),n.d(t,"ProjectList",(function(){return fe})),n.d(t,"ProjectsPage",(function(){return ge})),n.d(t,"PullSecret",(function(){return Ee})),n.d(t,"NamespaceLineCharts",(function(){return Oe})),n.d(t,"TopPodsBarChart",(function(){return ye})),n.d(t,"NamespaceSummary",(function(){return _e})),n.d(t,"NamespaceDetails",(function(){return je})),n.d(t,"NamespacesDetailsPage",(function(){return Te})),n.d(t,"ProjectsDetailsPage",(function(){return Ne}));var a=n(16),s=n(667),r=n(1256),i=n(501),o=n(22),c=n(50),l=n(461),u=n(0),d=n(137),p=n(18),m=n(54),b=n(88),h=n(80),v=n(19),f=n(2244),g=n.n(f),E=n(31),O=n(7),y=n(29),k=n(615),_=n(764),j=n(15),R=n(762),T=n(121),N=n(13),S=n(10),P=n(109),C=n(8),w=n(53),I=n(40),x=n(5),D=n(131),A=n(767),M=n(199),L=n(207),U=n(978),B=n(5852),F=n(5838),K=n(108),q=n(1418),$=n(2249),Y=n(2250),G=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const H=e=>a.a(e,["metadata","annotations","openshift.io/display-name"]),V=()=>[{filterGroupName:y.a.t("public~Requester"),type:"requester",reducer:e=>{var t,n,a;const s=null===(t=e.metadata)||void 0===t?void 0:t.name,r=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)||void 0===a?void 0:a["openshift.io/requester"];return Object(q.b)(r)?j.Hb.ME:Object(q.c)(r,s)?j.Hb.USER:Object(q.d)({title:s})?j.Hb.SYSTEM:void 0},items:[{id:j.Hb.ME,title:y.a.t("public~Me")},{id:j.Hb.USER,title:y.a.t("public~User")},{id:j.Hb.SYSTEM,title:y.a.t("public~System"),hideIfEmpty:!0}]}],W=(e,t)=>{var n;const{labelKey:a,labelKind:s,weight:r,accessReview:i}=x.F.factory.Delete(e,t);let o,c,l=void 0;return"default"===t.metadata.name?o=e.label+" default cannot be deleted":"Terminating"===(null===(n=t.status)||void 0===n?void 0:n.phase)?o=e.label+" is already terminating":l=()=>Object(D.r)({kind:e,resource:t}),o&&(c=u.createElement("div",{className:"dropdown__disabled"},u.createElement(b.a,{content:o},u.createElement("span",null,y.a.t(a,s))))),{label:c,labelKey:a,labelKind:s,weight:r,callback:l,accessReview:i}},z=[x.F.factory.ModifyLabels,x.F.factory.ModifyAnnotations,x.F.factory.Edit,W],Q=()=>{const e=[{key:"memory",query:'sum by(namespace) (container_memory_working_set_bytes{container="",pod!=""})'},{key:"cpu",query:"namespace:container_cpu_usage:sum"}].map(({key:e,query:t})=>{const n=`${M.g}/api/v1/query?&query=${t}`;return Object(P.c)(n).then(({data:{result:t}})=>t.reduce((t,n)=>{const a=Number(n.value[1]);return s.a(t,[e,n.metric.namespace],a)},{}))});return Promise.all(e).then(e=>r.a({},...e)).catch(console.error)},J=Object.freeze({name:{classes:"",id:"name"},displayName:{classes:"co-break-word",id:"displayName"},status:{classes:"",id:"status"},requester:{classes:"",id:"requester"},memory:{classes:"",id:"memory"},cpu:{classes:"",id:"cpu"},created:{classes:"",id:"created"},description:{classes:"",id:"description"},labels:{classes:"",id:"labels"}}),Z=()=>[{title:y.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:y.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:y.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:y.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},{title:y.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:y.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}},{title:y.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:y.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:y.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},{title:"",props:{className:x.F.columnClass}}];Z.displayName="NamespacesTableHeader";const X=Object(C.Hb)(S.NamespaceModel),ee=()=>new Set(Z().reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])),te=({obj:e,customData:{tableColumns:t}})=>{var n,a,s;const{t:r}=Object(O.useTranslation)(),i=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),o=Object(j.dd)(e),c=Object(j.Bd)(e),l=null===(n=null==i?void 0:i.memory)||void 0===n?void 0:n[o],d=null===(a=null==i?void 0:i.cpu)||void 0===a?void 0:a[o],m=Object(j.Jc)(e),b=e.metadata.labels,h=(null==t?void 0:t.length)>0?new Set(t):ee();return u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.name.classes},u.createElement(x.hb,{kind:"Namespace",name:e.metadata.name})),u.createElement(I.k,{className:J.displayName.classes,columns:h,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},H(e)||u.createElement("span",{className:"text-muted"},r("public~No display name")))),u.createElement(I.k,{className:p(J.status.classes,"co-break-word"),columns:h,columnID:J.status.id},u.createElement(j.cc,{status:null===(s=e.status)||void 0===s?void 0:s.phase})),u.createElement(I.k,{className:p(J.requester.classes,"co-break-word"),columns:h,columnID:J.requester.id},c||u.createElement("span",{className:"text-muted"},r("public~No requester"))),u.createElement(I.k,{className:J.memory.classes,columns:h,columnID:J.memory.id},l?Object(x.Ob)(l)+" MiB":"-"),u.createElement(I.k,{className:J.cpu.classes,columns:h,columnID:J.cpu.id},d?r("public~{{cores}} cores",{cores:Object(x.Pb)(d)}):"-"),u.createElement(I.k,{className:J.created.classes,columns:h,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),u.createElement(I.k,{className:J.description.classes,columns:h,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},m||u.createElement("span",{className:"text-muted"},r("public~No description")))),u.createElement(I.k,{className:J.labels.classes,columns:h,columnID:J.labels.id},u.createElement(x.L,{kind:"Namespace",labels:b})),u.createElement(I.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:z,kind:"Namespace",resource:e})))},ne=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(x.h,{title:e("public~No Namespaces found"),Icon:g.a},e("public~No results were found for the requested Namespaces."))},ae=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Namespaces"),Icon:g.a},e("public~No results match the filter criteria."))},se=e=>{var t;const{t:n}=Object(O.useTranslation)(),a=Object(E.useDispatch)(),[s]=Object(j.ff)(j.q,j.r,void 0,!0);u.useEffect(()=>{const e=()=>Q().then(e=>a(w.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[a]);const r=(null===(t=null==s?void 0:s[X])||void 0===t?void 0:t.length)>0?new Set(s[X]):null,i=u.useMemo(()=>({tableColumns:null==s?void 0:s[X]}),[s]);return u.createElement(I.j,Object.assign({},e,{activeColumns:r,columnManagementID:X,"aria-label":n("public~Namespaces"),Header:Z,Row:te,customData:i,virtualize:!0,EmptyMsg:ae,NoDataEmptyMsg:ne}))},re=e=>{var t;const{t:n}=Object(O.useTranslation)(),a=Object($.a)(),[s]=Object(j.ff)(j.q,j.r,void 0,!0),r=(null===(t=null==s?void 0:s[X])||void 0===t?void 0:t.length)>0?new Set(s[X]):ee();return u.createElement(I.c,Object.assign({},e,{rowFilters:V(),ListComponent:se,canCreate:!0,createHandler:()=>a(),columnLayout:{columns:Z().map(e=>i.a(e,["title","additional","id"])),id:X,selectedColumns:r,type:n("public~Namespaces")}}))},ie=[x.F.factory.Edit,W],oe=Object(C.Hb)(S.ProjectModel),ce=({showMetrics:e,showActions:t})=>[{title:y.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:y.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:y.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:y.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},...e?[{title:y.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:y.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}}]:[],{title:y.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:y.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:y.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},...t?[{title:"",props:{className:x.F.columnClass}}]:[]],le=({project:e})=>{const t=Object(E.useDispatch)(),[,n]=Object(j.ff)(j.gb,j.fb),a=new URL(window.location.href),s=new URLSearchParams(a.search),r=a.pathname;s.has("project-name")&&s.delete("project-name");const i={search:"?"+s.toString(),hash:a.hash},o=w.b(e.metadata.name,r,i);return u.createElement("span",{className:"co-resource-item co-resource-item--truncate"},u.createElement(x.fb,{kind:"Project"}),u.createElement(_.Link,{to:o,className:"co-resource-item__resource-name",onClick:a=>{Object(j.Sd)(a)||(n(e.metadata.name),sessionStorage.setItem(j.fb,e.metadata.name),t(T.b(Object(C.Hb)(S.ProjectModel),"project-name","")))}},e.metadata.name))},ue=()=>ce({showMetrics:!1,showActions:!1}),de=({obj:e,customData:t={}})=>{var n,a,s;const{t:r}=Object(O.useTranslation)(),i=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),o=Object(j.dd)(e),c=Object(j.Bd)(e),{ProjectLinkComponent:l,actionsEnabled:d=!0,showMetrics:m,showActions:b,isColumnManagementEnabled:h=!0,tableColumns:v}=t,f=null===(n=null==i?void 0:i.memory)||void 0===n?void 0:n[o],g=null===(a=null==i?void 0:i.cpu)||void 0===a?void 0:a[o],y=Object(j.Jc)(e),k=e.metadata.labels,_=h?(null==v?void 0:v.length)>0?new Set(v):(({showMetrics:e,showActions:t})=>new Set(ce({showMetrics:e,showActions:t}).reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])))({showMetrics:m,showActions:b}):null;return u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.name.classes},t&&l?u.createElement(l,{project:e}):u.createElement("span",{className:"co-resource-item"},u.createElement(x.hb,{kind:"Project",name:e.metadata.name}))),u.createElement(I.k,{className:J.displayName.classes,columns:_,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},H(e)||u.createElement("span",{className:"text-muted"},r("public~No display name")))),u.createElement(I.k,{className:J.status.classes,columns:_,columnID:J.status.id},u.createElement(j.cc,{status:null===(s=e.status)||void 0===s?void 0:s.phase})),u.createElement(I.k,{className:p(J.requester.classes,"co-break-word"),columns:_,columnID:J.requester.id},c||u.createElement("span",{className:"text-muted"},r("public~No requester"))),m&&u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.memory.classes,columns:_,columnID:J.memory.id},f?Object(x.Ob)(f)+" MiB":"-"),u.createElement(I.k,{className:J.cpu.classes,columns:_,columnID:J.cpu.id},g?r("public~{{cores}} cores",{cores:Object(x.Pb)(g)}):"-")),u.createElement(I.k,{className:J.created.classes,columns:_,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),h&&u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.description.classes,columns:_,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},y||u.createElement("span",{className:"text-muted"},r("public~No description")))),u.createElement(I.k,{className:J.labels.classes,columns:_,columnID:J.labels.id},u.createElement(x.L,{labels:k,kind:"Project"}))),d&&u.createElement(I.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:ie,kind:"Project",resource:e})))};de.displayName="ProjectTableRow";const pe=e=>{const{t:t}=Object(O.useTranslation)(),n=u.useMemo(()=>({ProjectLinkComponent:le,actionsEnabled:!1,isColumnManagementEnabled:!1}),[]);return u.createElement(I.j,Object.assign({},e,{"aria-label":t("public~Projects"),Header:ue,Row:de,customData:n,virtualize:!0}))},me=()=>ce({showMetrics:!0,showActions:!0}),be=()=>ce({showMetrics:!1,showActions:!0}),he=()=>{const{t:e}=Object(O.useTranslation)(),t=Object(j.Fe)(j.O.CAN_CREATE_NS),n=Object(j.Fe)(j.O.CAN_CREATE_PROJECT),a=t||n;return u.createElement(x.h,{title:e("public~Welcome to OpenShift")},u.createElement(U.a,{canCreate:a}))},ve=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Projects"),icon:g.a},e("public~No results match the filter criteria."))},fe=e=>{var t,{data:n}=e,a=G(e,["data"]);const{t:s}=Object(O.useTranslation)(),r=Object(E.useDispatch)(),i=Object(j.Fe)(j.O.CAN_GET_NS),[o]=Object(j.ff)(j.q,j.r,void 0,!0),c=Object(j.Ue)()&&i&&window.screen.width>=1200,l=u.useMemo(()=>({showMetrics:c,tableColumns:null==o?void 0:o[oe]}),[c,o]);u.useEffect(()=>{if(c){const e=()=>Q().then(e=>r(w.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)}},[r,c]);const d=(null===(t=null==o?void 0:o[oe])||void 0===t?void 0:t.length)>0?new Set(o[oe]):null;return Object(L.c)(i)?null:u.createElement(I.j,Object.assign({},a,{activeColumns:d,columnManagementID:oe,"aria-label":s("public~Projects"),data:n,Header:c?me:be,Row:de,NoDataEmptyMsg:he,EmptyMsg:ve,customData:l,virtualize:!0}))},ge=e=>{var t;const{t:n}=Object(O.useTranslation)(),a=Object(Y.a)(),s=Object(j.Fe)(j.O.CAN_GET_NS),r=Object(j.Fe)(j.O.CAN_CREATE_PROJECT),[o]=Object(j.ff)(j.q,j.r,void 0,!0),c=Object(j.Ue)()&&s&&window.screen.width>=1200,l=c;return u.createElement(I.c,Object.assign({},e,{rowFilters:V(),ListComponent:fe,canCreate:r,createHandler:()=>a(),filterLabel:n("public~by name or display name"),skipAccessReview:!0,textFilter:"project-name",kind:"Project",columnLayout:{columns:ce({showMetrics:c,showActions:l}).map(e=>i.a(e,["title","additional","id"])),id:oe,selectedColumns:(null===(t=null==o?void 0:o[oe])||void 0===t?void 0:t.length)>0?new Set(o[oe]):null,type:n("public~Project")}}))},Ee=e=>{const[t,n]=u.useState(!0),[a,s]=u.useState([]),[r,i]=u.useState(!1),{t:o}=Object(O.useTranslation)(),{namespace:c,canViewSecrets:l}=e;u.useEffect(()=>{Object(C.kb)(S.ServiceAccountModel,"default",c.metadata.name,{}).then(e=>{var t;n(!1),s(null!==(t=e.imagePullSecrets)&&void 0!==t?t:[]),i(!1)}).catch(e=>{n(!1),s([]),i(!0),console.error("Error getting default ServiceAccount",e)})},[c.metadata.name]);const d=()=>Object(D.k)({namespace:c,pullSecret:void 0});return u.createElement(u.Fragment,null,u.createElement("dt",null,o("public~Default pull Secret",{count:a.length})),u.createElement("dd",null,t?u.createElement(x.T,null):r?u.createElement(h.a,{variant:"danger",isInline:!0,title:o("Error loading default pull Secrets")}):a.length>0?a.map(e=>u.createElement("div",{key:e.name},u.createElement(x.hb,{kind:"Secret",name:e.name,namespace:c.metadata.name,linkTo:l}))):u.createElement(v.a,{variant:"link",type:"button",isInline:!0,onClick:d},o("public~Not configured"),u.createElement(k.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))))},Oe=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(M.b,{title:t("public~CPU usage"),humanize:x.Yb,namespace:e.metadata.name,query:`namespace:container_cpu_usage:sum{namespace='${e.metadata.name}'}`})),u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(M.b,{title:t("public~Memory usage"),humanize:x.Wb,byteDataType:R.a.BinaryBytes,namespace:e.metadata.name,query:`sum by(namespace) (container_memory_working_set_bytes{namespace="${e.metadata.name}",container="",pod!=""})`})))},ye=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return u.createElement(M.c,{title:t("public~Memory usage by pod (top 10)"),namespace:e.metadata.name,query:`sort_desc(topk(10, sum by (pod)(container_memory_working_set_bytes{container="",pod!="",namespace="${e.metadata.name}"})))`,humanize:x.Wb,metric:"pod"})},ke=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return Object(j.Ue)()?u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:t("public~Resource usage")}),u.createElement(Oe,{ns:e}),u.createElement(ye,{ns:e})):null},_e=({ns:e})=>{var t,n,a;const{t:s}=Object(O.useTranslation)(),r=H(e),i=Object(j.Jc)(e),o=Object(j.Bd)(e),c=null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["maistra.io/member-of"],l=Object(x.Dc)({group:S.SecretModel.apiGroup,resource:S.SecretModel.plural,verb:"patch",namespace:e.metadata.name});return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement(x.lb,{resource:e,showLabelEditor:"Namespace"===e.kind},u.createElement("dt",null,s("public~Display name")),u.createElement("dd",{className:p({"text-muted":!r})},r||s("public~No display name")),u.createElement("dt",null,s("public~Description")),u.createElement("dd",null,u.createElement("p",{className:p({"text-muted":!i,"co-pre-wrap":i,"co-namespace-summary__description":i})},i||s("public~No description"))),o&&u.createElement("dt",null,"Requester"),o&&u.createElement("dd",null,o))),u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement("dl",{className:"co-m-pane__details"},u.createElement(x.r,{label:s("public~Status"),obj:e,path:"status.phase"},u.createElement(j.cc,{status:null===(a=e.status)||void 0===a?void 0:a.phase})),u.createElement(Ee,{namespace:e,canViewSecrets:l}),u.createElement("dt",null,s("public~NetworkPolicies")),u.createElement("dd",null,u.createElement(_.Link,{to:`/k8s/ns/${e.metadata.name}/networkpolicies`},s("public~NetworkPolicies"))),c&&u.createElement(u.Fragment,null,u.createElement("dt",null,s("public~Service mesh")),u.createElement("dd",null,u.createElement(j.X,null)," ",s("public~Service mesh enabled"))))))},je=({obj:e,customData:t})=>{const{t:n}=Object(O.useTranslation)(),[a]=Object(N.jc)(),[s]=Object(K.a)({isList:!0,kind:Object(C.Hb)(S.ConsoleLinkModel),optional:!0}),r=Object(F.b)(e,s);return u.createElement("div",null,"dev"===a&&u.createElement(d.b,null,u.createElement("title",null,n("public~Project details"))),u.createElement("div",{className:"co-m-pane__body"},!(null==t?void 0:t.hideHeading)&&u.createElement(x.ob,{text:n("public~{{kind}} details",{kind:e.kind})}),u.createElement(_e,{ns:e})),"Namespace"===e.kind&&u.createElement(ke,{ns:e}),!o.a(r)&&u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:n("public~Launcher")}),u.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},c.a(l.a(r,"spec.text"),e=>u.createElement("li",{key:e.metadata.uid},u.createElement(x.z,{href:e.spec.href,text:e.spec.text}))))))},Re=({obj:{metadata:e}})=>u.createElement(A.RoleBindingsPage,{createPath:`/k8s/ns/${e.name}/rolebindings/~new`,namespace:e.name,showTitle:!1}),Te=e=>u.createElement(I.a,Object.assign({},e,{menuActions:z,pages:[x.mc.details(je),x.mc.editYaml(),x.mc.roles(Re)]})),Ne=e=>u.createElement(I.a,Object.assign({},e,{menuActions:ie,pages:[{href:"",nameKey:"public~Overview",component:F.a},{href:"details",nameKey:"public~Details",component:je},x.mc.editYaml(),x.mc.workloads(B.a),x.mc.roles(Re)]}))},1979:function(e,t,n){"use strict";n.r(t);var a=n(8173);n.d(t,"KnativeServingDetailsPage",(function(){return a.a}));var s=n(8174);n.d(t,"ServingListPage",(function(){return s.a}));var r=n(8175);n.d(t,"FunctionsPage",(function(){return r.a}));var i=n(8178);n.d(t,"FunctionDetailsPage",(function(){return i.a}))},2231:function(e,t,n){"use strict";n.r(t),n.d(t,"getStatusGroups",(function(){return p})),n.d(t,"getPodStatusGroups",(function(){return m})),n.d(t,"getNodeStatusGroups",(function(){return b})),n.d(t,"getPVCStatusGroups",(function(){return h})),n.d(t,"getPVStatusGroups",(function(){return v})),n.d(t,"getVSStatusGroups",(function(){return f}));var a=n(2233),s=n(2238),r=n(8),i=n(475);const o={[i.a.NOT_MAPPED]:["Running","Succeeded"],[i.a.ERROR]:["CrashLoopBackOff","Failed"],[i.a.PROGRESS]:["Terminating","Pending"],[i.a.WARN]:["Unknown"]},c={[i.a.NOT_MAPPED]:["Bound"],[i.a.ERROR]:["Lost"],[i.a.PROGRESS]:["Pending"]},l={[i.a.NOT_MAPPED]:["Available","Bound"],[i.a.PROGRESS]:["Released"],[i.a.ERROR]:["Failed"]},u={[i.a.NOT_MAPPED]:["Ready"],[i.a.PROGRESS]:["Not Ready"]},d={[i.a.NOT_MAPPED]:["Ready"],[i.a.PROGRESS]:["Pending"],[i.a.ERROR]:["Error"]},p=(e,t,n,a)=>{const s={[i.a.UNKNOWN]:{statusIDs:[],count:0}};return Object.keys(t).forEach(e=>{s[e]={statusIDs:[...t[e]],count:0,filterType:a}}),e.forEach(e=>{const a=n(e),r=Object.keys(t).find(e=>t[e].includes(a))||i.a.UNKNOWN;s[r].count++}),s},m=e=>p(e,o,r.Ab,"pod-status"),b=e=>p(e,u,a.a,"node-status"),h=e=>p(e,c,e=>e.status.phase,"pvc-status"),v=e=>p(e,l,e=>e.status.phase,"pv-status"),f=e=>p(e,d,s.b,"snapshot-status")},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var s=n(869);n.d(t,"SecretTypeAbstraction",(function(){return s.c})),n.d(t,"AUTHS_KEY",(function(){return s.a})),n.d(t,"SecretType",(function(){return s.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var i=n(5604);n.d(t,"PullSecretForm",(function(){return i.a}));var o=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return o.a}));var c=n(5605);n.d(t,"CreateConfigSubform",(function(){return c.a}));var l=n(5607);n.d(t,"UploadConfigSubform",(function(){return l.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var b=n(5609);n.d(t,"GenericSecretForm",(function(){return b.a}));var h=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return h.b})),n.d(t,"KeyValueEntryForm",(function(){return h.a}));var v=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return v.b})),n.d(t,"EditSecret",(function(){return v.a}));var f=n(5637);n.d(t,"CreateSecret",(function(){return f.a}));var g=n(5593);n.d(t,"DroppableFileInput",(function(){return g.a}));var E=n(5600);n.d(t,"SecretSubForm",(function(){return E.a}));n(5638)},4390:function(e,t,n){"use strict";n.r(t);var a=n(6166);n.d(t,"RevisionsPage",(function(){return a.a}));var s=n(6233);n.d(t,"RevisionDetailsPage",(function(){return s.a}))},4391:function(e,t,n){"use strict";n.r(t);var a=n(6234);n.d(t,"RouteDetailsPage",(function(){return a.a}));var s=n(6168);n.d(t,"RoutesPage",(function(){return s.a}))},4405:function(e,t,n){"use strict";n.r(t);var a=n(6594);n.d(t,"ServiceDetailsPage",(function(){return a.a}));var s=n(6424);n.d(t,"ServicesPage",(function(){return s.a}))},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var s=n(5611);n.d(t,"b",(function(){return s.a})),n.d(t,"c",(function(){return s.b})),n.d(t,"e",(function(){return s.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,s,r,i,o,c,l,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return s})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return i})),n.d(t,"w",(function(){return o})),n.d(t,"u",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"z",(function(){return O})),n.d(t,"y",(function(){return y})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return j})),n.d(t,"n",(function(){return R})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return S})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(s||(s={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(i||(i={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(o||(o={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(c||(c={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(l||(l={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",b="1.5.2",h="pipeline",v="bridge/pipeline-run-auto-start-failed",f=275,g=375,E=60,O="pipeline.openshift.io/preferredName",y="chains.tekton.dev/signed",k="openshift-pipelines",_="openshift",j="config";var R;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(R||(R={}));const T="FLAG_TEKTON_V1_ENABLED",N="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",S="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"i",(function(){return _})),n.d(t,"k",(function(){return j})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"b",(function(){return S})),n.d(t,"l",(function(){return P}));var a=n(5596),s=n(29),r=n(117),i=n(16),o=n(22),c=n(279),l=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),b=n(5659),h=n(5625),v=n(1400);const f=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],g=({FLAGS:e})=>e.get(p.a),E=e=>{var t,n,a;const s=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==s?void 0:s.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==s?void 0:s.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},O=(e,t,n,s)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const s=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${s}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${s}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${s}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${s}`:a})(a(e),t,s);return n?`${n}/f?url=${r}&policies.create=peruser`:r},y=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},k=(e,t)=>t?e.filter(e=>i.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,_=(e,t)=>t.length>0&&!o.a(t[0].spec)?Object(u.c)(t[0]):null,j=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},R=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||j(null==e?void 0:e.getData())},T=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(j(null==e?void 0:e.getData())),N=(e,t)=>{const n=null==e?void 0:e.getData(),a=R(e);if(!e||!a||!c.a(n.resources))return Promise.reject();const r=[],i=[];r.push(a),e.getType()===b.d&&l.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(s.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));i.push(Object(h.c)(n,e,t))}return Promise.all(i)},S=(e,t,n=null)=>e&&t&&e!==t?Object(v.a)(e,t,n):Promise.reject(new Error(s.a.t("topology~Can not create a connection from a node to itself."))),P=e=>{const t=R(e.getSource()),n=R(e.getTarget());return t&&n?Object(v.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h}));var a=n(279),s=n(160),r=n(107),i=n(1404),o=n(7),c=n(869);const l=e=>{switch(e){case c.c.source:return c.b.basicAuth;case c.c.image:return c.b.dockerconfigjson;default:return c.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case c.b.basicAuth:case c.b.sshAuth:return c.c.source;case c.b.dockerconfigjson:case c.b.dockercfg:return c.c.image;default:return(null==t?void 0:t[i.WebHookSecretKey])&&1===a.a(t)?c.c.webhook:c.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=s.a(e).sort();return r.a(t,["tls.crt","tls.key"])?c.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?c.b.serviceAccountToken:r.a(t,[".dockercfg"])?c.b.dockercfg:r.a(t,[".dockerconfigjson"])?c.b.dockerconfigjson:r.a(t,["password","username"])?c.b.basicAuth:r.a(t,["ssh-privatekey"])?c.b.sshAuth:c.b.opaque},m=e=>{switch(e){case c.b.dockercfg:return".dockercfg";case c.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:n}=Object(o.useTranslation)();switch(t){case c.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case c.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},h=e=>{const{t:t}=Object(o.useTranslation)();switch(e){case c.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case c.c.source:return t("public~Source secrets let you authenticate against a Git server.");case c.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case c.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var s=n(5642);n.d(t,"e",(function(){return s.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),s=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return s(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),s=n(282);const r=e=>a.createElement(s.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var s=n(5628);n.d(t,"e",(function(){return s.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var i=n(5632);n.d(t,"a",(function(){return i.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(380),s=n(83),r=n(437),i=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const o="/api/dev-console/proxy/internet",c=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),l=e=>i(void 0,void 0,void 0,(function*(){const t=yield s.consoleFetchJSON.post(o,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>l(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(501),s=n(838),r=n(2324),i=n(16),o=n(640),c=n(1256),l=n(0),u=n(137),d=n(7),p=n(320),m=n(966),b=n(19),h=n(14),v=n(8),f=n(5),g=n(118),E=n(10),O=n(5590),y=n(5600);const k=e=>{const{isCreate:t,modal:n,onCancel:k}=e,{t:_}=Object(d.useTranslation)(),j=Object(h.useNavigate)(),R=Object(h.useParams)(),T=a.a(e.obj,["metadata","type"]),N=Object(O.d)(e.secretTypeAbstraction),S=s.a({},e.fixed,T,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:N}),[P]=l.useState(e.secretTypeAbstraction),[C,w]=l.useState(S),[I,x]=l.useState(!1),[D,A]=l.useState(),[M,L]=l.useState(r.a(i.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[U,B]=l.useState({}),[F,K]=l.useState(!1),q=Object(O.g)(t,P),$=Object(O.f)(P),Y=()=>j(`/k8s/ns/${R.ns}/core~v1~Secret`),G=e=>{L(Object.assign({},null==e?void 0:e.stringData)),B(Object.assign({},null==e?void 0:e.base64StringData))},H=e=>{A(e),x(!1)},V=e=>{const t=e.target.value,n=o.a(C);n.metadata.name=t,w(n)},W=n=>{n.preventDefault();const{metadata:a}=C;x(!0);const s=Object.assign(Object.assign({},r.a(M,e=>p.Base64.encode(e))),U),i=c.a({},C,{data:s},t?{type:Object(O.a)(M)}:{});(t?Object(v.jb)(E.SecretModel,i):Object(v.rb)(E.SecretModel,i,a.namespace,i.metadata.name)).then(t=>{x(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||j(Object(f.sc)(t,Object(v.Db)(t)))},e=>{A(e.message),x(!1)})},z=()=>{var n;return l.createElement(l.Fragment,null,l.createElement("fieldset",{disabled:!t},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},_("public~Secret name")),l.createElement("div",null,l.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:V,value:null===(n=null==C?void 0:C.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),l.createElement("p",{className:"help-block",id:"secret-name-help"},_("public~Unique name of the new secret."))))),l.createElement(y.a,{typeAbstraction:e.secretTypeAbstraction,onChange:G,onError:H,onFormDisable:e=>K(e),stringData:M,secretType:C.type,isCreate:t}))};return n?l.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:W},l.createElement(g.d,null,q),l.createElement(g.a,null,z()),l.createElement(g.c,{errorMessage:D||"",inProgress:I,submitText:_("public~Create"),cancel:k||Y})):l.createElement("div",{className:"co-m-pane__form"},l.createElement(u.a,null,l.createElement("title",null,q)),l.createElement(f.Z,{title:q,helpText:$}),l.createElement("div",{className:"co-m-pane__body"},l.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:W},z(),l.createElement(f.g,{errorMessage:D,inProgress:I},l.createElement(m.a,{className:"pf-v5-c-form"},l.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:F,variant:"primary",id:"save-changes"},e.saveButtonText||_("public~Create")),l.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:k||Y},_("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return g}));var a,s=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const i={[s.b.GITHUB]:"GitHub",[s.b.GITLAB]:"GitLab",[s.b.GITEA]:"Gitea",[s.b.BITBUCKET]:"Bitbucket",[s.b.UNSURE]:"Other"};var o,c,l,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(o||(o={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(c||(c={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(l||(l={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[c.OpenShift]:r.DeploymentConfigModel.labelKey,[c.Kubernetes]:r.DeploymentModel.labelKey,[c.KnativeService]:"devconsole~Serverless Deployment"},p={[l.BUILDS]:"devconsole~BuildConfig",[l.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[l.PIPELINES]:"devconsole~Build using pipelines",[l.DISABLED]:"devconsole~Disabled"},m={[c.OpenShift]:r.DeploymentConfigModel.kind,[c.Kubernetes]:r.DeploymentModel.kind,[c.KnativeService]:"Service"};var b,h,v,f,g,E;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(h||(h={})),function(e){e.None="None",e.Redirect="Redirect"}(v||(v={})),function(e){e.m="millicores",e[""]="cores"}(f||(f={})),function(e){e.Mi="Mi",e.Gi="Gi"}(g||(g={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(E||(E={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(869),r=n(5601),i=n(5604),o=n(5608),c=n(5609),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=l(e,["typeAbstraction"]);switch(t){case s.c.source:return a.createElement(r.a,Object.assign({},n));case s.c.image:return a.createElement(i.a,Object.assign({},n));case s.c.webhook:return a.createElement(o.a,Object.assign({},n));default:return a.createElement(c.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(7),r=n(5),i=n(869),o=n(5602),c=n(5603);class l extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:i.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[i.b.basicAuth]:e("public~Basic authentication"),[i.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===i.b.basicAuth?a.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(c.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(s.withTranslation)()(l)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),s=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const i=Object(s.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),s=n(7),r=n(5593);const i=({onChange:e,stringData:t})=>{const{t:n}=Object(s.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),s=n(0),r=n(7),i=n(5),o=n(5590),c=n(869),l=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[b,h]=s.useState("credentials"),{t:v}=Object(r.useTranslation)(),f=s.useMemo(()=>{var e;try{const t=Object(o.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),g=s.useCallback(t=>{a.a(t)||n(!1);const s=t[c.a]?".dockerconfigjson":".dockercfg";e({stringData:{[s]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),E={credentials:v("public~Image registry credentials"),"config-file":v("public~Upload configuration file")};return s.createElement(s.Fragment,null,m&&s.createElement("div",{className:"form-group"},s.createElement("label",{className:"control-label",htmlFor:"secret-type"},v("public~Authentication type")),s.createElement("div",{className:"co-create-secret__dropdown"},s.createElement(i.t,{items:E,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:h}))),"credentials"===b?s.createElement(l.a,{onChange:g,stringData:f}):s.createElement(u.a,{onChange:g,stringData:f,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(22),s=n(840),r=n(4434),i=n(57),o=n(16),c=n(4437),l=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),b=n(7),h=n(320),v=n(19),f=n(408),g=n(407),E=n(869),O=n(5606);class y extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[E.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[E.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:s.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(i.a(e,(e,n)=>{const r=h.Base64.decode(o.a(e,"auth","")),i=a.a(r)?c.a(Array(2),""):l.a(r,":");t.push({entry:{address:n,username:o.a(e,"username",i[0]),password:o.a(e,"password",i[1]),email:o.a(e,"email",""),auth:o.a(e,"auth","")},uid:o.a(e,"uid",s.a())})}),t)}imageSecretArrayToObject(e){const t={};return i.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[E.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],s={uid:a[t].uid,entry:e,auth:h.Base64.encode(`${e.username}:${e.password}`)};return a[t]=s,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:s}=null!=t?t:{},{address:r,email:i,password:o,username:c}=null!=s?s:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(v.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(O.a,{id:n,address:r,email:i,password:o,username:c,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(v.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(g.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const k=Object(b.withTranslation)()(y)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),s=n(7),r=n(320);const i=({id:e,address:t,email:n,password:i,username:o,onChange:c})=>{const{t:l}=Object(s.useTranslation)(),u=(a,s)=>{const l=o.trim(),u=i.trim(),d=o&&i?r.Base64.encode(`${l}:${u}`):"";c(Object.assign({address:t,username:o,password:i,email:n,[a]:s},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},l("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},l("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},l("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:o,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},l("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:i,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},l("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),s=n(1973),r=n(1240),i=n(0),o=n(7),c=n(5593);class l extends i.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(s.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(s.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return i.createElement(i.Fragment,null,i.createElement(c.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&i.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(o.withTranslation)()(l)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n(7),r=n(5590);class i extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const o=Object(s.withTranslation)()(i)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(840),s=n(22),r=n(50),i=n(255),o=n(1256),c=n(4434),l=n(279),u=n(0),d=n(7),p=n(320),m=n(19),b=n(408),h=n(407),v=n(973),f=n(5610);class g extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return s.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=v.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return i.a(e,(e,t)=>{var n,a;return o.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:c.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},l.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(f.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(h.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const E=Object(d.withTranslation)()(g)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(0),s=n(7),r=n(5593);class i extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const o=Object(s.withTranslation)()(i)},5611:function(e,t,n){"use strict";var a,s,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(s||(s={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),s=n(5596),r=n(320),i=n(83),o=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.BASIC_AUTH:case c.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=s(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return c.d.Reachable}catch(e){switch(e.status){case 403:return c.d.RateLimitExceeded;case 404:return c.d.PrivateRepo;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}return c.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const s={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},c="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield i.consoleFetchJSON.post(o.a,{url:`${c}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:s,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const l="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:l}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),s=n(5707),r=(n(4360),n(83)),i=n(5597),o=n(5587),c=n(5592),l=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class u extends c.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>l(this,void 0,void 0,(function*(){const s=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},s),n);if(this.isServer)return Object(i.c)(Object.assign({url:e,method:t||"GET",headers:Object(i.d)(r)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=s(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return o.d.Reachable}catch(e){switch(e.status){case 429:return o.d.RateLimitExceeded;case 403:return o.d.PrivateRepo;case 404:return o.d.ResourceNotFound;default:return o.d.InvalidGitTypeSelected}}return o.d.Unreachable})),this.getRepoBranchList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>l(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>l(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},s={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},o=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(i.a,{url:o,method:"POST",headers:a,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),s=n(5708),r=n(29),i=n(320),o=n(83),c=n(5597),l=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.OAUTH:case l.e.BASIC_AUTH:return i.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),l.d.Reachable}catch(e){switch(e.status){case 429:return l.d.RateLimitExceeded;case 403:return l.d.PrivateRepo;case 404:return l.d.ResourceNotFound;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const s=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},i={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield o.consoleFetchJSON.post(c.a,{url:`${this.metadata.host}/api/v4/projects/${s}/hooks`,method:"POST",headers:r,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),s=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,s,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new s.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:s}=a(this.gitsource.url),r=(null==(i=this.gitsource.contextDir)?void 0:i.replace(/^\//,""))||"";var i;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:s,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),s=n(320),r=n(22),i=(n(4360),n(83)),o=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===c.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+s.Base64.encode(`${s.Base64.decode(e)}:${s.Base64.decode(t)}`)}}return{Authorization:"token "+s.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const s=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},s),n);if(this.isServer)return Object(o.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(o.d)(r)},a&&{body:JSON.stringify(a)}));const i=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!i.ok)throw i;return"text/plain"===i.headers.get("Content-Type")?i.text():i.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:s,full_name:r}=a(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+s,defaultBranch:this.gitsource.ref,fullName:r,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return c.d.Reachable}catch(e){return c.d.GiteaRepoUnreachable}return c.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},s=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield i.consoleFetchJSON.post(o.a,{url:s,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5643),s=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>s(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],i=e=>s(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>s(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return f}));var a,s=n(29),r=n(16),i=n(240),o=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const c=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const s=n.find(e=>"Succeeded"===e.type),i=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!i)return o.a.Cancelling;if(!s||!s.status)return null;const c="True"===s.status?o.a.Succeeded:"False"===s.status?o.a.Failed:o.a.Running;if(s.reason&&s.reason!==c)switch(s.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return o.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return o.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return o.a.Pending;case a.ConditionCheckFailed:return o.a.Skipped;default:return c}return c},l=e=>{const t=c(e);if(!t)return"-";switch(t){case o.a.Cancelled:return s.a.t("pipelines-plugin~Cancelled");case o.a.Failed:return s.a.t("pipelines-plugin~Failed");case o.a.Succeeded:return s.a.t("pipelines-plugin~Succeeded");case o.a.Pending:return s.a.t("pipelines-plugin~Pending");case o.a.Running:return s.a.t("pipelines-plugin~Running");case o.a.Skipped:return s.a.t("pipelines-plugin~Skipped");case o.a.Cancelling:return s.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&c(e.latestRun)||o.a.Other,d=e=>e.latestRun&&l(e.latestRun)||"-",p=e=>l(e)||"-",m=e=>c(e)||o.a.Other,b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!i.a(e.all,a)},h=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!i.a(e.all,a)},v=e=>c(e)||o.a.Other,f=e=>l(e)||"-"},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"m",(function(){return f})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"j",(function(){return T})),n.d(t,"i",(function(){return N}));var a=n(4413),s=n(689),r=n(5),i=n(5620),o=n(2221),c=n(5624),l=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=s.object().shape({name:s.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),h=s.object().shape({selectedKey:s.string(),name:s.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:o.b,then:s.string().required("Required")})}),v=e=>s.object().shape({replicas:s.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),f=s.string().oneOf([l.k.OpenShift,l.k.Kubernetes,l.k.KnativeService]).required(),g=e=>s.object().when("resources",{is:l.k.KnativeService,then:s.object().shape({scaling:s.object({minpods:s.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:s.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:s.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:s.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:s.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:s.object().shape({autoscalewindow:s.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:s.array().of(s.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),E=e=>s.object().shape({secure:s.boolean(),tls:s.object().when("secure",{is:!0,then:s.object({termination:s.string().required(e("devconsole~Please select a termination type."))})}),hostname:s.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:s.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:s.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),O=e=>s.object().shape({cpu:s.object().shape({request:s.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:s.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:s.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:s.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:s.object().shape({request:s.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:s.string(e("devconsole~Unit must be Mi or Gi.")),limit:s.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:s.string(e("devconsole~Unit must be Mi or Gi."))})}),y=e=>s.object().when("build",{is:e=>"Source"===e.strategy,then:s.object().shape({selected:s.string().required(e("devconsole~Required")),tag:s.string().required(e("devconsole~Required"))})}),k=e=>s.object().shape({url:s.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:s.string().when("showGitType",{is:!0,then:s.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:s.boolean()}),_=e=>s.object().when("build",{is:e=>"Docker"===e.strategy,then:s.object().shape({containerPort:s.number().test(Object(c.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:s.string().required(e("devconsole~Required"))})}),j=e=>s.object().when("build",{is:e=>"Devfile"===e.strategy,then:s.object().shape({devfilePath:s.string().required(e("devconsole~Required")),devfileContent:s.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:s.boolean().oneOf([!1]),devfileSuggestedResources:s.object().required(e("devconsole~Required"))})}),R=s.object().shape({strategy:s.string()}),T=e=>s.object().shape({name:s.string().required(e("devconsole~Required")),image:s.object().required(e("devconsole~Required")),tag:s.string(),status:s.string().required(e("devconsole~Required"))}),N=s.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===l.a.PIPELINES)&&n!==i.a.PAC,then:s.object().shape({templateSelected:s.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"s",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"t",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return j}));var a=n(5654);const s=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:s},i={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:s},o={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:s},c={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:s},l={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:s},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:s},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:s},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:s},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:s},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:s},h={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:s},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:s},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:s},g={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:s},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:s},O={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:s},y={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:s},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},_={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return R})),n.d(t,"p",(function(){return T})),n.d(t,"h",(function(){return N})),n.d(t,"f",(function(){return S})),n.d(t,"j",(function(){return P})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return w})),n.d(t,"e",(function(){return I})),n.d(t,"v",(function(){return x})),n.d(t,"B",(function(){return D})),n.d(t,"d",(function(){return A})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return F})),n.d(t,"t",(function(){return K})),n.d(t,"g",(function(){return q})),n.d(t,"x",(function(){return $})),n.d(t,"y",(function(){return Y})),n.d(t,"z",(function(){return G})),n.d(t,"r",(function(){return z})),n.d(t,"u",(function(){return Q})),n.d(t,"q",(function(){return J})),n.d(t,"i",(function(){return Z})),n.d(t,"A",(function(){return X})),n.d(t,"n",(function(){return ee}));var a=n(321),s=n(29),r=n(1557),i=n(117),o=n(16),c=n(22),l=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),b=n(5588),h=n(5650),v=n(5586),f=n(5595),g=n(5635),E=n(5617);const O=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,y=e=>e.runAfter&&e.runAfter.length>0;var k;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(k||(k={}));const _={[k.Running]:s.a.t("pipelines-plugin~Running"),[k.Failed]:s.a.t("pipelines-plugin~Failed"),[k.Succeeded]:s.a.t("pipelines-plugin~Succeeded"),[k.Cancelled]:s.a.t("pipelines-plugin~Cancelled"),[k.Other]:s.a.t("pipelines-plugin~Other")};var j;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(j||(j={}));j.Git,j.PullRequest,j.Image,j.Cluster,j.Storage,j.CloudEvent;const R=(e,t,n,s=!1)=>((s?e.spec.finally:e.spec.tasks)||[]).map(e=>{var s;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===E.a.PipelineRunCancelled?r.a(e,{status:{reason:f.a.Cancelled}}):t.spec.status===E.a.PipelineRunPending?r.a(e,{status:{reason:f.a.Idle}}):r.a(e,{status:{reason:f.a.Failed}});const c=i.a(n,t=>t.metadata.labels[b.u.pipelineTask]===e.name),l=null==c?void 0:c.status,u=r.a(e,{status:(null===(s=null==t?void 0:t.status)||void 0===s?void 0:s.taskRuns)?o.a(i.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):l});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(E.d)(u)||f.a.Pending:u.status&&!u.status.reason&&(u.status.reason=f.a.Pending):u.status={reason:f.a.Pending},u}),T=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const s=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||c.a(e.spec.tasks))return s;const r=R(e,t,n);return r.forEach(e=>{O(e)||y(e)||(0===s.length&&s.push([]),s[0].push(e))}),r.forEach(e=>{var t;if(!y(e)&&O(e)){let n=s.length-1;for(let a=0;a<s.length;a++)for(const r of s[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=s[n+1]?s[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):s.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(y(e)){let n=s.length-1;for(let a=0;a<s.length;a++)for(const r of s[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=s[n+1]?s[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):s.splice(n+1,0,[e])}}),s},N=(e,t,n)=>R(e,t,n,!0),S=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!c.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},P=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};const t=Object(g.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};let n=Object(E.c)(t);return"-"===n&&(n=f.a.Pending),{latestPipelineRun:t,status:n}},C=e=>e&&e.map(e=>({name:e.name,value:e.default})),w=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),I=(e,t,n)=>{const a=new Date(e).getTime(),s=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(h.g)(s,n)},x=e=>{var t,n,a,s;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,i=null!==(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==s?s:null;return!r||!i&&"Running"!==Object(E.d)(e)?"-":I(r,i,!0)},D=(e,t,n)=>{const a=l.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},A=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,b.l,t).then(t=>{void 0===i.a(t.secrets,t=>t.name===e.metadata.name)&&D(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},M=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,L=(e,t={})=>{let n=0,a=M(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=M(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},U=e=>{switch(e.kind){case v.PipelineModel.kind:case v.TaskModel.kind:case v.EventListenerModel.kind:return"";case v.PipelineRunModel.kind:return"pipeline-runs";case v.PipelineResourceModel.kind:return"pipeline-resources";case v.ConditionModel.kind:return"conditions";case v.TaskRunModel.kind:return"task-runs";case v.ClusterTaskModel.kind:return"cluster-tasks";case v.TriggerTemplateModel.kind:return"trigger-templates";case v.TriggerBindingModel.kind:return"trigger-bindings";case v.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case v.RepositoryModel.kind:return"repositories";default:return null}},B=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),F=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),K=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),q=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),$=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineModelV1Beta1:v.PipelineModel,Y=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineRunModelV1Beta1:v.PipelineRunModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?v.TaskModelV1Beta1:v.TaskModel;var H,V,W;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(H||(H={})),function(e){e.EXTERNAL_LINK="external-link"}(V||(V={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(W||(W={}));const z=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.KEY])===W.SBOM}),Q=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.TYPE])===V.EXTERNAL_LINK},J=e=>{var t,n,a,s;return null===(s=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===W.SBOM))||void 0===s?void 0:s.value},Z=e=>{var t,n,a,s;return null===(s=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===W.IMAGE_REPOSITORY))||void 0===s?void 0:s.value},X=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return f.a.Pending;return Object(E.d)(e)},ee=e=>{var t,n,a;const s=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==s?void 0:s.match(/(\w+)(?::\s*|\s+)(\d+)/g),i={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);i[t.trim()]=Number(n.trim())});const o=((null==i?void 0:i.Completed)||0)-((null==i?void 0:i.Failed)||0)-((null==i?void 0:i.Cancelled)||0);return{Running:(null==i?void 0:i.Incomplete)||0,Succeeded:o||0,Cancelled:(null==i?void 0:i.Cancelled)||0,Failed:(null==i?void 0:i.Failed)||0,Skipped:(null==i?void 0:i.Skipped)||0,Completed:(null==i?void 0:i.Completed)||0,Cancelling:(null==i?void 0:i.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),s=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return T}));var a=n(29),s=n(22),r=n(16),i=n(57),o=n(640),c=n(5649),l=n(5),u=n(10),d=n(8),p=n(76),m=n(870),b=n(5586),h=n(5623),v=n(15),f=n(2221),g=n(1400),E=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const O=(e,t=e)=>{switch(t){case f.z:case f.b:return"";default:return e}},y=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:s.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},k=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const s=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),o=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),c=[y(e,t,n)];if(!s)return Promise.all(c);return o&&({"app.kubernetes.io/instance":s}["app.kubernetes.io/part-of"]=o),Object(g.e)(t.metadata.namespace,s,{"app.kubernetes.io/part-of":o}).then(e=>(i.a(e,e=>{i.a(e,e=>{!o&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||c.push(y(Object(d.vb)(e.kind),e,n))})}),Promise.all(c)))},_=(e,t={},n)=>E(void 0,void 0,void 0,(function*(){var a,s;try{if(n){const n=yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(s=null==t?void 0:t.response)||void 0===s?void 0:s.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),j=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),R=(e,t)=>E(void 0,void 0,void 0,(function*(){var n,a;const s=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(c.c)(s["app.openshift.io/vcs-uri"]),i=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let o;if((null==t?void 0:t.length)>0)o=null==t?void 0:t.reduce((t,n)=>{var a,s;return[...t,...(null!==(s=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==s?s:[]).reduce((t,n)=>{var a,s;let o;const c=n.generic?"generic":r,l=n.generic||n[r];if(l){const t=null!==(s=null===(a=l.secretReference)||void 0===a?void 0:a.name)&&void 0!==s?s:`${e.metadata.name}-${c}-webhook-secret`;o=i.find(e=>e.metadata.name===t)}return o?[...t,j(u.SecretModel,o)]:t},[])]},[]);else{const t=i.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=i.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);o=[j(u.SecretModel,t),j(u.SecretModel,n)]}return o})),T=e=>E(void 0,void 0,void 0,(function*(){const t=[],n=yield _(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield _(u.BuildModel,{ns:e.metadata.namespace}),r=yield _(b.PipelineModel,{ns:e.metadata.namespace},!0),i=yield _(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),c=yield _(b.EventListenerModel,{ns:e.metadata.namespace},!0),l=yield Object(m.fetchChannelsCrd)(),f=Object(d.vb)(Object(d.Db)(e)),g={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},E=Object(v.Gc)(e,g),O=!s.a(E),y=Object(h.l)(e,r);let k=[],T=[];const N=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],S=[p.p,u.ImageStreamModel];s.a(y)||(N.push(b.PipelineModel),S.push(b.PipelineModel),k=Object(h.t)(y,i),T=Object(h.g)(k,c));const P=o.a(e),C=(e,n)=>{const a=j(e,n);a&&t.push(a)};O&&E.forEach(e=>{C(u.BuildConfigModel,e)});const w=(e,t)=>{e.forEach(e=>C(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&C(Object(d.vb)(Object(d.Db)(e)),e),l.find(t=>t.kind===e.kind)&&C(f,e),k.length>0&&k.forEach(e=>C(b.TriggerTemplateModel,e)),T.length>0&&T.forEach(e=>C(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:C(f,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:C(f,e),w(N,e);break;case p.p.kind:w(S,P);break;case p.b.kind:case p.k.kind:C(f,e)}return O&&t.push(...yield R(e,E)),y&&t.push(...yield R(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,s,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(s||(s={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,s;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(s||(s={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5587),s=n(5611),r=n(5616),i=n(5661),o=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const c=[{name:"Devfile",type:s.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:s.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:s.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:s.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],l=(e,t,n=!1)=>o(void 0,void 0,void 0,(function*(){let e,r=[],l=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(i.b)(n,t),r=yield Promise.all(c.map(e=>o(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),l=!0}catch(e){l=!0,u=e.message}else l=!0;return e||(r=r.filter(e=>e.type!==s.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:l,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return O})),n.d(t,"r",(function(){return y}));var a=n(2221);const s="event-source",r="event-sink",i="kafka-sink",o="event-source-kafka",c="event-source-link",l="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",b="revision-traffic",h="knative-revision",v="sink-uri",f=a.h,g=100,E=[a.c,a.c,a.c+10,a.c],O=6,y="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return j})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return P}));var a=n(5699),s=n(1403),r=n(5692),i=n(5691),o=n(5654),c=n(2225),l=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),b=n(5617);const h=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(b.c)(n),n},v=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=h(n,"creationTimestamp"),e}),f=e=>{switch(e){case m.a.Succeeded:return{message:l.a.t("pipelines-plugin~Succeeded"),pftoken:o.chart_color_green_400};case m.a.Failed:return{message:l.a.t("pipelines-plugin~Failed"),pftoken:c.global_danger_color_100};case m.a.FailedToStart:return{message:l.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:c.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:l.a.t("pipelines-plugin~Running"),pftoken:i.chart_color_blue_300};case m.a.Skipped:return{message:l.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:l.a.t("pipelines-plugin~Cancelled"),pftoken:s.chart_color_black_500};case m.a.Cancelling:return{message:l.a.t("pipelines-plugin~Cancelling"),pftoken:s.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:l.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:l.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},g=e=>{var t,n,a,s,r;const i=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),o=(null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return i&&o?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:i,namespace:e.metadata.namespace},spec:o}:null},E=(e,t,n)=>{var a,s,r,i,o;const c=(e=>{var t,n,a,s;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(s=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==s?s:0)})(t)-(e=>{var t,n,a,s;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(s=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==s?s:0)})(t),l=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=l().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.taskRuns)||n){l().forEach(t=>{const a=Object(b.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(b.c)(e)===m.a.Cancelled,s=c>=u?c-u-d:c;t||a?p[m.a.Cancelled]+=s:p[m.a.Pending]+=s}else"False"===(null===(o=null===(i=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===i?void 0:i[0])||void 0===o?void 0:o.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?p[m.a.Cancelled]=c:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?p[m.a.Pending]+=c:p[m.a.PipelineNotStarted]++;return p},O=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,y=e=>(O(e)||p.TaskModel).kind,k=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,_=e=>(k(e)||p.TriggerBindingModel).kind,j=e=>{const t=O(e);return Object(u.Hb)(t)},R=(e,t)=>{const n=t&&E(e,void 0,t);return null==n?void 0:n.Running},T=(e,t)=>!(e&&(R(e,t)>0||Object(b.c)(e)===m.a.Running)),N=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===m.a.Running)),S=(e,t)=>!(e&&R(e,t)>0&&Object(b.c)(e)!==m.a.Cancelled),P=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),s=n(0),r=n(7),i=n(14),o=n(5),c=n(869),l=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends s.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:c.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(l.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return s.createElement(o.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return s.createElement(o.wb,Object.assign({},e),s.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(i.useParams)(),{t:n}=Object(r.useTranslation)();return s.createElement(o.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},s.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),s=n(14),r=n(5598);const i=()=>{const e=Object(s.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},s={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},i={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},o={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,s,a,o,c,d,l,u,i],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(5587);function s(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4359),s=n(5587),r=n(5613),i=n(5615),o=n(5612),c=n(5614);function l(e,t,n,l,u,d,p){let m,b;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=s.e.BASIC_AUTH,b=u.data;break;case a.SecretType.sshAuth:m=s.e.SSH,b=u["ssh-privatekey"];break;default:m=s.e.NO_AUTH}const h={url:e,ref:n,contextDir:l,secretType:m,secretContent:b,devfilePath:d,dockerfilePath:p};switch(t){case s.b.GITHUB:return new o.a(h);case s.b.BITBUCKET:return new r.a(h);case s.b.GITLAB:return new c.a(h);case s.b.GITEA:return new i.a(h);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5709);class s{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return _})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return R})),n.d(t,"d",(function(){return T}));var a=n(29),s=n(16),r=n(57),i=n(117),o=n(367),c=n(1401),l=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),b=n(1400),h=n(5589);const v=(e,t)=>{var n,a,s,r,i,o,c,l;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(s=null==e?void 0:e.buildConfigs)||void 0===s?void 0:s.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(o=null===(i=null==e?void 0:e.pipelines)||void 0===i?void 0:i.data)||void 0===o?void 0:o.find(e=>e.metadata.name===t);if(m){const e=null===(l=null===(c=null==m?void 0:m.spec)||void 0===c?void 0:c.params)||void 0===l?void 0:l.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},f=(e,t,n,a,r=!1,i)=>{const{monitoringAlerts:o=[]}=t,l=s.a(e,"metadata.uid"),m=s.a(e,"metadata.labels",{}),b=s.a(e,"metadata.annotations",{}),h=s.a(e,"metadata.name",""),f=v(i,h),g=Object(c.d)("icon-"+m["app.openshift.io/runtime"])||Object(c.d)("icon-"+m["app.kubernetes.io/name"]);return{id:l,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:o,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:f,builderImage:g||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},g=(e,t,n,a,s,r,i)=>{var o;const c=null==e?void 0:e.metadata.uid,l=null==e?void 0:e.metadata.name,d=null===(o=null==e?void 0:e.metadata.labels)||void 0===o?void 0:o["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:c,type:t,label:d||l,shape:i,resource:e,resourceKind:p,data:n},s&&s.length&&{children:s}),a||{})},E={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},O=(e,t)=>{const n=s.a(e,"metadata.annotations"),o=[];return r.a(Object(b.d)(n),n=>{const r=s.a(i.a(t,e=>{var t,a,s,r,i;let o;if("string"==typeof n)return o=null!==(s=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==s?s:null===(r=e.metadata)||void 0===r?void 0:r.name,o===n;o=null===(i=e.metadata)||void 0===i?void 0:i.name;const{apiVersion:c,kind:l,name:u}=n,{kind:d,apiVersion:p}=e;let m=o===u&&d===l;return p&&(m=m&&p===c),m}),["metadata","uid"]),c=s.a(e,["metadata","uid"]);r&&o.push({id:`${c}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:c,target:r})}),o},y=e=>{const t=s.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[s.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},k=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,s,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(s=t.data)||void 0===s?void 0:s.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},_=(e,t)=>{e&&e.length&&e.forEach(e=>{k(e,t)})},j=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:s}=e;return!s||!!n.find(e=>e(s,t))}))),_(e.nodes.filter(e=>e.group),t.nodes))},R=(e,t,n=h.a)=>o.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let s,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),s=Object(u.o)(a)),Object.assign({kind:r,apiVersion:s},e)}):[])),T=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:l.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:l.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,s,r,i=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(s||(s={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const o={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},c={[s.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[s.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[s.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[s.BRANCH]:"pipelinesascode.tekton.dev/branch"};var l;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(l||(l={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:i.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[i.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[i.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[i.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[i.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[i.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[i.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(2338),s=n(689),r=n(5591),i=n(5653),o=n(15),c=n(5655),l=n(5621);const u=e=>s.object().shape({name:Object(o.Zd)(e),project:l.l,application:l.a,image:Object(l.h)(e),git:Object(l.g)(e),docker:Object(l.e)(e),devfile:Object(l.d)(e),deployment:Object(l.c)(e),serverless:Object(l.o)(e),route:Object(l.n)(e),limits:Object(l.k)(e),build:l.b,resources:l.m,healthChecks:Object(c.a)(e),pac:Object(i.e)(e),pipeline:l.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>l.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(o.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!l.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return _})),n.d(t,"i",(function(){return j}));var a,s,r=n(321),i=n(29),o=n(550),c=n(50),l=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),b=n(158),h=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(s||(s={}));const v=(e=s.TEKTON_PIPELINES_CONTROLLER)=>({[h.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:o.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[h.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[h.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),f=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),g=e=>b.b.format(e),E=(e,t,n)=>{const{metric:a,values:s}=e,r=c.a(s,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),i=Number(l.a(r,"[0].x")),o=Number(l.a(u.a(r),"x")),p=n/t;return d.a(i,o,p).forEach((e,t)=>{const n=new Date(e);l.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},O=(e,t,n)=>{var a;const s=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==s?void 0:s.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,s])=>{var r,i;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(i=null==n?void 0:n(s))&&void 0!==i?i:parseFloat(s),metric:null==e?void 0:e.metric,time:a}})})},y=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),s=new Date(Date.now());for(s.setHours(0,0,0,0);t.length-1<a;)t.push(s.getTime()),s.setDate(s.getDate()-1);return t.slice(0,a)},k=(e,t)=>{if(0===e)return i.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,s=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(s=Math.floor(a/60),a%=60),s>0&&(r+=t?i.a.t("pipelines-plugin~{{count}} hour",{count:s}):i.a.t("pipelines-plugin~{{hr}}h",{hr:s}),r+=" "),a>0&&(r+=t?i.a.t("pipelines-plugin~{{count}} minute",{count:a}):i.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?i.a.t("pipelines-plugin~{{count}} second",{count:n}):i.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},_=()=>({"1d":i.a.t("pipelines-plugin~1 day"),"3d":i.a.t("pipelines-plugin~3 days"),"1w":i.a.t("pipelines-plugin~1 week"),"2w":i.a.t("pipelines-plugin~2 weeks"),"3w":i.a.t("pipelines-plugin~3 weeks"),"4w":i.a.t("pipelines-plugin~4 weeks")}),j=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),s=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},i=/ *\([^)]*\) */g,o=e=>e.replace(i,""),c=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:i,name:o}=e.spec.ref;return Object(a.n)(s.l)===r&&i===s.l.kind&&o!==t?o:null},l=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(o(e)))).map(e=>o(e)))],u=e=>e.some(e=>new RegExp(i).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,s;const r=null==t?void 0:t.find(t=>t.metadata.name===o(e));return r&&(null===(s=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===s?void 0:s.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),s=n(8),r=n(5663);class i extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(s.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=i},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return N})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return P}));var a=n(5596),s=n(320),r=n(2338),i=n(689),o=n(5621),c=n(5624),l=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),b=n(5586),h=n(5620),v=n(5656),f=n(5588),g=n(5648),E=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const O={dryRun:"All"},y=e=>i.object().shape({name:i.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:i.string().matches(o.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:i.string(),webhook:i.object().when("gitProvider",{is:u.b.BITBUCKET,then:i.object().shape({user:i.string().matches(c.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:i.object().shape({token:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>i.object().shape({webhook:i.object().when("gitProvider",{is:u.b.BITBUCKET,then:i.object().shape({user:i.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:i.object().shape({token:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),_=e=>i.object().shape({repository:i.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===h.a.PAC&&t,then:k(e)})}),j=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),R=e=>o.f.test(e)?j(e,"github.com")?u.b.GITHUB:j(e,"bitbucket.org")?u.b.BITBUCKET:j(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,T=(e,t,n={},r)=>E(void 0,void 0,void 0,(function*(){var i,o,c;const{name:m,gitUrl:h,webhook:{secretObj:v,method:f,token:y,secret:k,user:_}}=e,j=s.Base64.encode(k),T=R(h);let N;y&&"token"===f?N=yield((e,t,n,a,r,i,o)=>E(void 0,void 0,void 0,(function*(){const c={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},i&&{"webhook.secret":i}),r===u.b.BITBUCKET&&{"webhook.auth":s.Base64.encode(`${t}:${n}`)})};return Object(l.g)({model:p.SecretModel,data:c,ns:a,queryParams:o?O:{}})})))(m,_,y,t,T,k,r):"secret"===f&&v&&(null===(i=null==v?void 0:v.data)||void 0===i?void 0:i["webhook.secret"])!==j&&(yield Object(l.p)({model:p.SecretModel,resource:v,data:[{op:"replace",path:"/data/webhook.secret",value:s.Base64.encode(k)}]}));const S=a(h).source,P=N||v,C={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:h},P||"github.com"!==S?{git_provider:Object.assign(Object.assign(Object.assign({},g.j.includes(S)?{}:{url:S}),"bitbucket.org"===S?{user:_}:{}),P?{secret:{name:null===(o=null==P?void 0:P.metadata)||void 0===o?void 0:o.name,key:"provider.token"},webhook_secret:{name:null===(c=null==P?void 0:P.metadata)||void 0===c?void 0:c.name,key:"webhook.secret"}}:{})}:{})};return yield Object(l.g)({model:b.RepositoryModel,data:C,ns:t,queryParams:r?O:{}})})),N=(e,t,n)=>E(void 0,void 0,void 0,(function*(){var a,r,i;const{gitUrl:o,webhook:{method:c,token:l,secret:d,url:p,secretObj:m,user:b}}=e,h=R(o),v=Object(u.e)(o,h);let f,g=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(g=!1),f=h===u.b.BITBUCKET?"token"===c?s.Base64.encode(`${b}:${l}`):s.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===c?l:s.Base64.decode(null===(i=null==m?void 0:m.data)||void 0===i?void 0:i["provider.token"]);return yield v.createRepoWebhook(f,p,g,d)})),S=e=>{if(!o.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},P=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(l.n)({model:p.ConfigMapModel,queryParams:{ns:f.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":g.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>E(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(l.j)({model:p.ConfigMapModel,ns:f.g,name:v.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(689);const s=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(s,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),i=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",s="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",i="pipelines-as-code-interceptor",o="pipelines-as-code-secret",c="pipelines-ci-clustername",l="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o}));const a=e=>"Topology/ComponentFactory"===e.type,s=e=>"Topology/DataModelFactory"===e.type,r=e=>"Topology/CreateConnector"===e.type,i=e=>"Topology/DisplayFilters"===e.type,o=e=>"Topology/Decorator"===e.type},5658:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0);const s=a.createContext({})},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(2221);const s="operator-backed-service",r=a.h,i=a.f,o=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(447),s=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const i=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const i=yield e.getFuncYamlContent();try{const e=a.a(i)?Object(s.c)(i):i,o=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,c=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,l=null==e?void 0:e.runtime;return{values:{builder:o,runtime:l,builderEnvs:c,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),o=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(s.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5662:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(0),s=n(5619),r=n(5589),i=n(5647),o=function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class c{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const n=this.extensions[t].resources(this.namespace);Object.keys(n).forEach(t=>{e[t]||(e[t]=n[t])})}return e},Object(i.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,n=Object.keys(t).reduce((e,n)=>(e[n]=t[n].kind,e),{});return Object(i.i)(e,n,this.workloadKeys)},this.getExtensionModels=e=>o(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},n=this.dataModelGetters;if(!(null==n?void 0:n.length))return Promise.resolve(t);const a=this.dataModelDepicters,s=this.getWorkloadResources(e),r=n.map(t=>{try{return t(this.namespace,e,s)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(r).then(e=>{e.forEach(e=>{if(e)try{Object(i.b)(e,t,a)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(n=>{try{n(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(s.p)(this,{namespace:s.q,model:s.q.ref,loaded:s.q,loadError:s.q,extensionsLoaded:s.q,watchedResources:s.q.ref,isEmptyModel:s.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...r.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,n;return 0===(null!==(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}}const l=Object(a.createContext)(null)},5663:function(e,t,n){"use strict";var a=n(5585),s=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class i extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(s.p)(this,{anchors:s.q.shallow,dimensions:s.q.ref,dimensionsInitialized:s.q,position:s.q.ref,nodes:s.i,group:s.q,collapsed:s.q,labelPosition:s.q,shape:s.q,status:s.q,groupBounds:s.i,sourceEdges:s.i,targetEdges:s.i,setDimensions:s.f,setBounds:s.f,setPosition:s.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:s,y:r}=this.position;e.x===s&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,s=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),i=new a.Point(r.x+n,r.y+s);t.setPosition(i)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=i},5670:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),s=n(31),r=n(499),i=n(327),o=n(517),c=n(5);const l=e=>({watchURL:(t,n)=>e(Object(o.g)(t,n)),stopWatchURL:t=>e(Object(o.e)(t)),watchPrometheusQuery:(t,n,a)=>e(Object(o.f)(t,n,a)),stopWatchPrometheusQuery:(t,n)=>e(Object(o.d)(t,n))}),u=e=>({[i.a.URL]:e.dashboards.get(i.a.URL),[i.a.PROMETHEUS]:e.dashboards.get(i.a.PROMETHEUS),notificationAlerts:e.observe.get("notificationAlerts")}),d=e=>Object(s.connect)(u,l)(class extends a.Component{constructor(e){super(e),this.urls=[],this.queries=[],this.watchingAlerts=!1,this.watchURL=(e,t)=>{this.urls.push(e),this.props.watchURL(e,t)},this.watchPrometheus=(e,t,n)=>{this.queries.push(Object(o.c)(e,n)),this.props.watchPrometheusQuery(e,t,n)},this.stopWatchPrometheusQuery=(e,t)=>{const n=Object(o.c)(e,t);this.queries=this.queries.filter(e=>e!==n),this.props.stopWatchPrometheusQuery(e,t)},this.watchAlerts=()=>{this.watchingAlerts=!0},this.stopWatchAlerts=()=>{this.watchingAlerts=!1},this.watchK8sResource=e=>{this.setState(t=>({k8sResources:[...t.k8sResources,Object.assign(Object.assign({},e),{optional:!0})]}))},this.stopWatchK8sResource=e=>{this.setState(t=>({k8sResources:t.k8sResources.filter(t=>t.prop!==e.prop)}))},this.getExternalProps=e=>r.a(e,"watchURL","stopWatchURL","watchPrometheusQuery","stopWatchPrometheusQuery","watchAlerts","stopWatchAlerts",i.a.URL,i.a.PROMETHEUS,"notificationAlerts"),this.state={k8sResources:[]}}shouldComponentUpdate(e,t){var n,a,s,r,o,c;const l=this.urls.some(t=>this.props[i.a.URL].getIn([t,"data"])!==e[i.a.URL].getIn([t,"data"])||this.props[i.a.URL].getIn([t,"loadError"])!==e[i.a.URL].getIn([t,"loadError"])),u=this.queries.some(t=>this.props[i.a.PROMETHEUS].getIn([t,"data"])!==e[i.a.PROMETHEUS].getIn([t,"data"])||this.props[i.a.PROMETHEUS].getIn([t,"loadError"])!==e[i.a.PROMETHEUS].getIn([t,"loadError"])),d=(null===(a=null===(n=this.props)||void 0===n?void 0:n.notificationAlerts)||void 0===a?void 0:a.data)!==(null===(s=null==e?void 0:e.notificationAlerts)||void 0===s?void 0:s.data)||(null===(o=null===(r=this.props)||void 0===r?void 0:r.notificationAlerts)||void 0===o?void 0:o.loadError)!==(null===(c=null==e?void 0:e.notificationAlerts)||void 0===c?void 0:c.loadError),p=this.state.k8sResources!==t.k8sResources,m=this.getExternalProps(e),b=this.getExternalProps(this.props);return l||u||p||this.watchingAlerts&&d||Object.keys(m).length!==Object.keys(b).length||Object.keys(m).some(e=>m[e]!==b[e])}render(){return a.createElement(c.C,{resources:this.state.k8sResources},a.createElement(e,Object.assign({watchURL:this.watchURL,stopWatchURL:this.props.stopWatchURL,watchPrometheus:this.watchPrometheus,stopWatchPrometheusQuery:this.stopWatchPrometheusQuery,watchAlerts:this.watchAlerts,stopWatchAlerts:this.stopWatchAlerts,urlResults:this.props[i.a.URL],prometheusResults:this.props[i.a.PROMETHEUS],notificationAlerts:this.props.notificationAlerts,watchK8sResource:this.watchK8sResource,stopWatchK8sResource:this.stopWatchK8sResource},this.getExternalProps(this.props))))}})},5674:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(5);const s=["configmaps","persistentvolumeclaims","pods","replicationcontrollers","resourcequotas","services","services.loadbalancers","services.nodeports","secrets","openshift.io/imagestreams"],r=(e,t)=>{let n=Object(a.Ib)(t),s=Object(a.Ib)(e);return n&&s||(n=parseInt(n,10),s=parseInt(s,10)),n&&s?n/s*100:0},i=({resourceName:e,used:t,hard:n})=>{const i=e.startsWith("count/")||s.includes(e),o=r(n,t);return{label:i?`${t||0} of ${n}`:Object(a.ec)(o).string,percent:o}}},5695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,s=n(0),r=n(18),i=n(1946),o=n(5727);n(5728);!function(e){e.light="light",e.default="default"}(a||(a={}));t.b=({children:e,disabled:t,onNamespaceChange:n,hideProjects:c=!1,hideApplications:l=!1,variant:u=a.default,toolbar:d})=>s.createElement("div",{className:"odc-namespaced-page"},s.createElement(i.NamespaceBar,{isDisabled:t,onNamespaceChange:n,hideProjects:c},!l&&s.createElement(o.a,{disabled:t}),d&&s.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),s.createElement("div",{className:r("odc-namespaced-page__content",{["is-"+u]:u!==a.default})},e))},5702:function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return G})),n.d(t,"o",(function(){return V})),n.d(t,"h",(function(){return W})),n.d(t,"l",(function(){return z})),n.d(t,"e",(function(){return Q})),n.d(t,"m",(function(){return J})),n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return X})),n.d(t,"c",(function(){return ee})),n.d(t,"n",(function(){return te}));var a=n(1195),s=n(29),r=n(50),i=n(16),o=n(116),c=n(57),l=n(117),u=n(22),d=n(255),p=n(7146),m=n(655),b=n(499),h=n(1401),v=n(10),f=n(8),g=n(15),E=n(2221),O=n(5647),y=n(5589),k=n(132),_=n(76),j=n(870),R=n(5634),T=n(5726);const N=e=>{switch(e){case T.c.EventSource:case T.c.EventSink:case T.c.EventSourceKafka:case T.c.KafkaSink:return{width:E.m,height:E.k,visible:!0,shape:a.n.rhombus,style:{padding:E.l}};case T.c.KnService:return{width:R.d,height:R.b,visible:!0,collapsed:!1,group:!0,shape:a.n.rect,style:{padding:R.c}};case T.c.PubSub:return{width:E.m,height:E.k/2,visible:!0,shape:a.n.stadium,style:{padding:E.l}};case T.c.SinkUri:return{width:.75*E.m,height:.75*E.k,visible:!0,shape:a.n.circle,style:{padding:E.l}};default:return O.a}},S=({FLAGS:e})=>e.get(k.B),P=e=>{var t;return e.kind!==_.f.kind&&!!(null===(t=e.metadata)||void 0===t?void 0:t.ownerReferences)},C=(e,t,n)=>{var a,s,r;const i=null===(s=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.subscriber)||void 0===s?void 0:s.ref,o=null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.channel;return(!o||n.metadata.name===o.name&&n.kind===o.kind&&n.apiVersion===o.apiVersion)&&(i&&Object(f.o)(Object(f.Db)(e))===i.apiVersion&&e.metadata.name===i.name)},w=(e,t,n)=>{var a,s,r,i;const{name:o,kind:c,apiVersion:l}=(null===(s=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===s?void 0:s.ref)||{};if(n.metadata.name!==o||n.kind!==c||n.apiVersion!==l)return!1;if(t.kind===_.i.kind)return(null===(r=t.spec)||void 0===r?void 0:r.broker)===e.metadata.name;const u=null===(i=t.spec)||void 0===i?void 0:i.channel;return u&&u.name===e.metadata.name&&u.kind===e.kind&&u.apiVersion===e.apiVersion},I=e=>{var t,n;const a={filters:[]},s=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.attributes;if(s&&!u.a(s))for(const[e,t]of Object.entries(s))a.filters.push({key:e,value:t});return a},x=(e,t)=>t.reduce((t,n)=>{var a,s;return[...t,...null!==(s=null===(a=e[n])||void 0===a?void 0:a.data)&&void 0!==s?s:[]]},[]),D=(e,t)=>{const n=[...Object(j.getDynamicEventSourcesModelRefs)(),_.b.plural];return d.a(x(t,n),(t,n)=>{var a,s;const r=(null===(s=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===s?void 0:s.ref)||{};return e.kind===r.kind&&e.metadata.name===r.name&&e.apiVersion===r.apiVersion&&t.push(n),t},[])},A=(e,t)=>{const n=Object(j.getDynamicChannelModelRefs)(),a={Broker:[{relatedResource:"ksservices",relationshipResource:"triggers",isRelatedResource:C},{relatedResource:"services",relationshipResource:"triggers",isRelatedResource:C},{relatedResource:"kafkasinks",relationshipResource:"triggers",isRelatedResource:C}],Service:[{relatedResource:"brokers",relationshipResource:"triggers",isRelatedResource:w}]};c.a(n,e=>{a.Service.push({relatedResource:e,relationshipResource:"eventingsubscription",isRelatedResource:w}),a[e]=[{relatedResource:"ksservices",relationshipResource:"eventingsubscription",isRelatedResource:C},{relatedResource:"services",relationshipResource:"eventingsubscription",isRelatedResource:C},{relatedResource:"kafkasinks",relationshipResource:"eventingsubscription",isRelatedResource:C}]});let s=[];if(a[e.kind]||a[Object(f.Db)(e)]){const n=a[e.kind]||a[Object(f.Db)(e)];c.a(n,n=>{var a;const{relatedResource:r,relationshipResource:i,isRelatedResource:o}=n;t[r]&&(null===(a=t[r].data)||void 0===a?void 0:a.length)>0&&(s=s.concat(d.a(t[r].data,(n,a)=>{if(Object(f.Db)(a)!==Object(f.Db)(v.ServiceModel)&&P(a)||!o)return n;const s=(t[i].data||[]).filter(t=>o(a,t,e)).map(e=>Object.assign({kind:Object(f.Db)(e),name:e.metadata.name,namespace:e.metadata.namespace},I(e)));if(s.length>0){const e={kind:Object(f.Db)(a),name:a.metadata.name,namespace:a.metadata.namespace,data:s};n.push(e)}return n},[])))})}return s},M=(e=[])=>{if(0===e.length)return[[],[]];const t=Object(j.getDynamicChannelModelRefs)();return p.a(e,e=>t.includes(e.kind))},L=(e,t)=>{const n={channels:[],brokers:[]};["triggers","eventingsubscription"].forEach(a=>{if(t[a]&&t[a].data.length>0){const s=t[a].data;r.a(s,t=>{var a,s,r,i;if(!P(t)){const o=null===(s=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===s?void 0:s.ref;if(o){const a=e.kind===o.kind&&e.metadata.name===o.name;if(a&&t.kind===_.i.kind){const e=null===(r=t.spec)||void 0===r?void 0:r.broker;n.brokers.includes(e)||n.brokers.push(e)}else if(a){const e=null===(i=t.spec)||void 0===i?void 0:i.channel,{apiVersion:a,name:s,kind:r}=e||{},o=l.a(n.channels,{apiVersion:a,name:s,kind:r});e&&!o&&n.channels.push(e)}}}})}});const a=[],s=e=>{l.a(a,{kind:e.kind,metadata:{name:e.metadata.name}})||a.push(e)};return n.brokers.forEach(e=>{const n=l.a(t.brokers.data,{metadata:{name:e}});(n?D(n,t):[]).forEach(e=>{s(e)})}),n.channels.forEach(e=>{const n=(e=>{const t=Object(j.getDynamicChannelModelRefs)();return l.a(t,t=>e===Object(f.tb)(t))})(e.kind),a=t[n];if(a){const n=l.a(a.data,{metadata:{name:e.name},kind:e.kind});(n?D(n,t):[]).forEach(e=>{s(e)})}}),D(e,t).forEach(e=>{s(e)}),a},U=(e,t)=>{var n,a;const s=Object(g.pd)(e,null===(n=t.configurations)||void 0===n?void 0:n.data);return s&&s.length?Object(g.pd)(s[0],null===(a=t.revisions)||void 0===a?void 0:a.data):[]},B=(e,t,n)=>{var a,s;const r=Object(g.pd)(e,null===(a=t.configurations)||void 0===a?void 0:a.data),i={revisions:U(e,t),configurations:r,ksroutes:t.ksroutes?Object(g.pd)(e,null===(s=t.ksroutes)||void 0===s?void 0:s.data):void 0,eventSources:L(e,t)};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),i):i},F=(e,t)=>{var n;if([k.q,_.b.kind].includes(e.kind)&&t.integrations){const a=Object(g.pd)(e,t.integrations.data);return(null==a?void 0:a.length)>0?Object(g.pd)(a[0],null===(n=t.deployments)||void 0===n?void 0:n.data):[]}return[]},K=(e,t,n)=>{let a=Object(g.pd)(e,t.deployments.data);if(a=[...a,...F(e,t)],!u.a(a)){const s=Object.assign(Object.assign({},a[0]),{apiVersion:Object(f.n)(v.DeploymentModel),kind:v.DeploymentModel.kind}),r={obj:e,associatedDeployment:s};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),r):r}const s=A(e,t),r=B(e,t,n);return Object.assign({obj:e,subscribers:s},r)},q=(e,t,n,a)=>{const s=[],r=[];if(t===T.c.KnService&&a&&a.configurations){const t=Object(g.pd)(e,a.configurations.data),n=i.a(t[0],["metadata","uid"]),l=o.a(a.revisions.data,{metadata:{ownerReferences:[{uid:n}]}});c.a(((e,t)=>{if(i.a(e,"status.traffic",null))return e.status.traffic.reduce((e,n)=>{const a=t.find(e=>n.revisionName===e.metadata.name);return a?[...e,a]:e},[])})(e,l),e=>{const t=e.metadata.uid;r.push(t),s.push(Object(O.h)(e,T.c.Revision,null,N(T.c.Revision)))})}return s.push(Object(O.h)(e,t,n,N(t),r)),s},$=e=>{var t;return null===(t=Object(f.cb)(e))||void 0===t?void 0:t.group},Y=(e,{data:t})=>{var n;const a=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,r=i.a(e,"spec.sink.ref",null)||i.a(e,"spec.sink",null),o=[];return r&&c.a(t,e=>{const{apiVersion:t,kind:n,metadata:{uid:i,name:c}}=e;c===r.name&&n===r.kind&&$(t)===$(r.apiVersion)&&o.push({id:`${a}_${i}`,type:T.a.EventSource,label:s.a.t("knative-plugin~Event source connector"),source:a,target:i})}),o},G=(e,t)=>{if(t&&t.length>0&&!u.a(t[0].status)){const n=l.a(t[0].status.traffic,{revisionName:e.metadata.name});return null==n?void 0:n.url}return null},H=(e,t,n,a)=>{var r,i;const o=null===(i=null===(r=e.spec)||void 0===r?void 0:r.sink)||void 0===i?void 0:i.uri;let u=((e,t)=>{var n;const a=l.a(e,({data:e})=>{var n;return t===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.sinkUri)});return null!==(n=null==a?void 0:a.id)&&void 0!==n?n:""})(a.nodes,o);if(o){if(!u){u=encodeURIComponent(o);const e=((e,t)=>{const n=[...Object(j.getDynamicEventSourcesModelRefs)(),_.b.plural];return d.a(x(t,n),(t,n)=>{var a,s;const r=(null===(s=null===(a=n.spec)||void 0===a?void 0:a.sink)||void 0===s?void 0:s.uri)||"";return e===r&&t.push(n),t},[])})(o,t),s={metadata:{uid:u,namespace:n.resources.obj.metadata.namespace||""},spec:{sinkUri:o},kind:R.r},r={id:u,name:"URI",type:T.c.SinkUri,resources:Object.assign(Object.assign({},n.resources),{obj:s,eventSources:e}),data:Object.assign(Object.assign({},n.data),{sinkUri:o}),resource:s};a.nodes.push(...((e,t,n)=>{const a=[],s=N(e);return a.push(Object.assign({id:t,type:e,resource:n.resource,resourceKind:"URI",data:n},s||{})),a})(T.c.SinkUri,u,r))}a.edges.push(...((e,t)=>{var n,a,r;const i=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,o=[];return(null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.uri)&&i&&o.push({id:`${i}_${t}`,type:T.a.EventSource,label:s.a.t("knative-plugin~Event source connector"),source:i,target:t}),o})(e,u))}if(!P(e)){const n=Object(j.getDynamicChannelModelRefs)();c.a(n,n=>{t[n]&&a.edges.push(...Y(e,t[n]))})}a.edges.push(...Y(e,t.brokers))},V=(e,t,n,r)=>{const o={nodes:[],edges:[]};return c.a(e,e=>{var u;const p=K(e,n,r);switch(t){case T.c.KafkaSink:case T.c.EventSink:{const a=((e,t,n)=>{var a,s,r;const i=Object(g.pd)(e,null===(a=n.integrations)||void 0===a?void 0:a.data),o=Object(g.pd)(i[0],null===(s=n.ksservices)||void 0===s?void 0:s.data),c=Object(g.pd)(i[0],null===(r=n.deployments)||void 0===r?void 0:r.data);let l={};return o.length>0&&(l=B(o[0],n)),Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign(Object.assign({},t.resources),{integrations:i,services:o,deployments:c}),l)})})(e,((e,t,n,a=!1)=>({id:i.a(e,"metadata.uid"),name:null==e?void 0:e.metadata.name,type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:a}),data:{kind:Object(f.Db)(e),isKnativeResource:n===T.c.EventSink,kameletType:T.b.Sink}}))(e,p,t),n);o.nodes.push(...q(e,t,a,n)),o.edges.push(...((e,t)=>{var n,a,r,i,o;const c=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,l=null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.source)||void 0===r?void 0:r.ref;if(!c||!l)return[];let u;const d=Object(f.Db)(l);return u=(null==l?void 0:l.kind)===_.f.kind?t.brokers.data.find(e=>e.metadata.name===l.name):null===(o=null===(i=t[d])||void 0===i?void 0:i.data)||void 0===o?void 0:o.find(e=>e.metadata.name===l.name),u?[{id:`${u.metadata.uid}_${c}`,type:T.a.EventSink,label:s.a.t("knative-plugin~Event sink connector"),target:c,source:u.metadata.uid}]:[]})(e,n));const r=Object(O.g)(e);Object(O.j)(r,o.nodes);break}case T.c.EventSource:{const a=Object(O.c)(e,p,t,Object(h.d)("icon-openshift"));if(Object(f.Db)(e)===Object(f.Hb)(_.b)&&(a.data=Object.assign(Object.assign({},a.data),{kameletType:T.b.Source})),e.kind!==k.w||!(null===(u=e.metadata)||void 0===u?void 0:u.ownerReferences)){const s=((e,t,n)=>{var a,s;const r=[...Object(j.getDynamicEventSourcesModelRefs)(),_.b.plural],i=x(n,r);let o=Object(g.pd)(e,i);if(e.kind===_.b.kind&&(null===(s=null===(a=n.integrations)||void 0===a?void 0:a.data)||void 0===s?void 0:s.length)>0){const t=Object(g.pd)(e,n.integrations.data);o=null==t?void 0:t.reduce((e,t)=>[...e,...Object(g.pd)(t,i)],[])}return Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign({},t.resources),{eventSources:o})})})(e,a,n);o.nodes.push(...q(e,t,s,n)),o.edges.push(...n.ksservices?Y(e,n.ksservices):[],...n.kafkasinks?Y(e,n.kafkasinks):[]),H(e,n,a,o);const r=Object(O.g)(e);Object(O.j)(r,o.nodes)}break}case T.c.KnService:{const a=((e,t,n,a)=>{var s;const{obj:r}=t,o=i.a(r,"metadata.uid"),c=i.a(r,"metadata.labels",{}),l=i.a(r,"metadata.annotations",{}),u=i.a(r,"metadata.name"),d=Object(O.e)(a,u);return{id:o,name:i.a(r,"metadata.name")||c["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign({},t),data:{url:(null===(s=r.status)||void 0===s?void 0:s.url)||"",kind:Object(f.Db)(r),editURL:l["app.openshift.io/edit-url"],vcsURI:l["app.openshift.io/vcs-uri"],vcsRef:l["app.openshift.io/vcs-ref"],isKnativeResource:!0,contextDir:d}}})(e,p,t,n);o.nodes.push(...q(e,t,a,n)),o.edges.push(...((e,{data:t})=>{const n=i.a(e,["metadata","uid"]),a=i.a(e,["status","traffic"],[]),r=[];return c.a(a,e=>{const a=i.a(e,["revisionName"]),o=i.a(e,["percent"]),c=l.a(t,e=>i.a(e,["metadata","name"])===a),u=i.a(c,["metadata","uid"],null);if(u){const e=m.a(r,e=>e.id===`${n}_${u}`);e>=0?r[e].data.percent+=o:r.push({id:`${n}_${u}`,type:T.a.Traffic,label:s.a.t("knative-plugin~Traffic distribution connector"),source:n,target:u,data:{percent:o}})}}),r})(e,n.revisions));const r=Object(O.g)(e);Object(O.j)(r,o.nodes);break}case T.c.PubSub:if(!P(e)){const a=((e,t,n)=>{const{obj:{metadata:{name:a,uid:s,labels:r}}}=t;return{id:s,name:a||(null==r?void 0:r["app.kubernetes.io/instance"]),type:n,resource:e,resources:Object.assign({},t),data:{kind:Object(f.Db)(t.obj),isKnativeResource:!0}}})(e,((e,t)=>{var n,a,s,r;const{kind:o,metadata:{name:u},spec:p}=e,b=Object(j.getDynamicChannelModelRefs)(),h=Object(g.pd)(e,x(t,b)),f=null!==(a=null===(n=null==t?void 0:t.eventingsubscription)||void 0===n?void 0:n.data)&&void 0!==a?a:[],E=null!==(r=null===(s=null==t?void 0:t.triggers)||void 0===s?void 0:s.data)&&void 0!==r?r:[];let O={};const y=D(e,t),k=d.a(f,(e,n)=>{var a,s;const r=i.a(n,"metadata.uid"),o=(null===(a=null==p?void 0:p.subscribable)||void 0===a?void 0:a.subscribers)||(null==p?void 0:p.subscribers);if(-1!==m.a(o,(function({uid:e}){return e===r}))){e.eventingsubscription.push(n);const a=i.a(n,"spec.subscriber.ref",null);c.a(null===(s=null==t?void 0:t.ksservices)||void 0===s?void 0:s.data,t=>{t.kind===(null==a?void 0:a.kind)&&t.metadata.name===(null==a?void 0:a.name)&&e.ksservices.push(t)})}return e},{eventingsubscription:[],ksservices:[]});return o===_.f.kind&&(O=d.a(E,(e,n)=>{var a,s,r,i,o,c,d,p,m,b,h,v;const f=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.broker,g=l.a(null===(s=null==t?void 0:t.ksservices)||void 0===s?void 0:s.data,{metadata:{name:null===(o=null===(i=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.subscriber)||void 0===i?void 0:i.ref)||void 0===o?void 0:o.name},kind:null===(p=null===(d=null===(c=null==n?void 0:n.spec)||void 0===c?void 0:c.subscriber)||void 0===d?void 0:d.ref)||void 0===p?void 0:p.kind,apiVersion:null===(h=null===(b=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.subscriber)||void 0===b?void 0:b.ref)||void 0===h?void 0:h.apiVersion}),E=g&&(null===(v=e.ksservices)||void 0===v?void 0:v.filter(e=>e.metadata.name===g.metadata.name).length)>0;return u===f&&(e.triggers=[...e.triggers,n],e.ksservices=g&&!E?[...e.ksservices,g]:e.ksservices),e},{ksservices:[],triggers:[],pods:[],deployments:[]}),[v.PodModel,v.DeploymentModel].forEach(({kind:e,plural:n})=>{var a;O[n]=null===(a=null==t?void 0:t[n])||void 0===a?void 0:a.data.filter(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["eventing.knative.dev/broker"])===u}).map(t=>Object.assign(Object.assign({},t),{kind:e}))})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({obj:e},h&&{channels:h}),{eventSources:y}),k),O),{subscribers:A(e,t)})})(e,n),t);o.nodes.push(...q(e,t,a,n)),e.kind===_.f.kind?o.edges.push(...((e,t)=>{const{metadata:{uid:n,name:a}}=e,{triggers:s,ksservices:r,kafkasinks:i}=t,o=[...(null==r?void 0:r.data.length)>0?r.data:[],...(null==i?void 0:i.data.length)>0?i.data:[]],u=[];return c.a(null==s?void 0:s.data,s=>{var r,i,c;const d=null===(r=null==s?void 0:s.spec)||void 0===r?void 0:r.broker,p=null===(c=null===(i=s.spec)||void 0===i?void 0:i.subscriber)||void 0===c?void 0:c.ref;if(a===d&&o.length>0){const a=l.a(o,{metadata:{name:p.name}});if(a&&$(p.apiVersion)===Object(f.l)(Object(f.Db)(a))){const{metadata:{uid:r}}=a;u.push({id:`${n}_${r}`,type:T.a.EventPubSubLink,source:n,target:r,data:{resources:{obj:s,eventSources:D(e,t),brokers:[e],subscriberRes:[a],filters:I(s).filters}}})}}}),u})(e,n)):o.edges.push(...((e,t)=>{const{kind:n,metadata:{uid:a,name:s}}=e,{eventingsubscription:r,ksservices:i,kafkasinks:o}=t,l=[...(null==i?void 0:i.data.length)>0?i.data:[],...(null==o?void 0:o.data.length)>0?o.data:[]],u=[];return c.a(null==r?void 0:r.data,r=>{var i,o,d;const p=null===(i=null==r?void 0:r.spec)||void 0===i?void 0:i.channel;if(s===(null==p?void 0:p.name)&&n===(null==p?void 0:p.kind)&&l.length>0){const n=null===(d=null===(o=null==r?void 0:r.spec)||void 0===o?void 0:o.subscriber)||void 0===d?void 0:d.ref;n&&c.a(l,s=>{const{metadata:{uid:i,name:o}}=s;o===n.name&&Object(f.cb)(n.apiVersion).group===Object(f.l)(Object(f.Db)(s))&&u.push({id:`${a}_${i}`,type:T.a.EventPubSubLink,source:a,target:i,data:{resources:{obj:r,eventSources:D(e,t),channels:[e],subscriberRes:[s]}}})})}}),u})(e,n));const s=Object(O.g)(e);Object(O.j)(s,o.nodes)}break;case T.c.EventSourceKafka:{const r=Object(O.c)(e,p,t,Object(h.d)("icon-openshift"));o.nodes.push(...q(e,t,r,n)),o.edges.push(...((e,t)=>{if(!(null==t?void 0:t.data))return[];const{data:n}=t;return n.reduce((t,n)=>{var r,i,o,c,l,u,d,p,m,b,h,v,f,g,E,O,y,k;const _=null===(i=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.credentials)||void 0===i?void 0:i.serviceAccountSecretName,j=null===(d=null===(u=null===(l=null===(c=null===(o=e.spec)||void 0===o?void 0:o.net)||void 0===c?void 0:c.sasl)||void 0===l?void 0:l.password)||void 0===u?void 0:u.secretKeyRef)||void 0===d?void 0:d.name,R=null===(v=null===(h=null===(b=null===(m=null===(p=e.spec)||void 0===p?void 0:p.net)||void 0===m?void 0:m.sasl)||void 0===b?void 0:b.user)||void 0===h?void 0:h.secretKeyRef)||void 0===v?void 0:v.name,N=null===(f=n.status)||void 0===f?void 0:f.bootstrapServerHost;if(_&&_===j&&_===R&&N&&(null===(g=e.spec)||void 0===g?void 0:g.bootstrapServers.includes(N))){const r=`${null===(E=null==e?void 0:e.metadata)||void 0===E?void 0:E.uid}_${null===(O=null==n?void 0:n.metadata)||void 0===O?void 0:O.uid}`;t.push({id:r,type:T.a.EventSourceKafkaLink,edgeStyle:a.f.dashedMd,label:s.a.t("knative-plugin~Kafka connector"),source:null===(y=e.metadata)||void 0===y?void 0:y.uid,target:null===(k=n.metadata)||void 0===k?void 0:k.uid})}return t},[])})(e,n.kafkaConnections),...Y(e,n.ksservices),...Y(e,n.kafkasinks)),H(e,n,r,o);const i=Object(O.g)(e);Object(O.j)(i,o.nodes);break}}}),o},W=(e,t,n)=>{const a={};return c.a(e,e=>{const{uid:s}=e.metadata,r=K(e,t,n);a[s]=Object(O.c)(e,r,T.c.Revision,Object(h.d)("icon-openshift"))}),a},z=(e,t)=>{const n=Object(j.getDynamicEventSourcesModelRefs)();return!!l.a(x(t,n),t=>{var n,a,s;return null===(s=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[k.f])||void 0===s?void 0:s.startsWith(t.metadata.name)})},Q=e=>{var t,n,a,s,r,i;const o=null!==(n=null===(t=null==e?void 0:e.kameletbindings)||void 0===t?void 0:t.data)&&void 0!==n?n:[],c=((null===(s=null===(a=null==e?void 0:e.kamelets)||void 0===a?void 0:a.data)||void 0===s?void 0:s.length)>0?e.kamelets.data:null!==(i=null===(r=null==e?void 0:e.kameletGlobalNS)||void 0===r?void 0:r.data)&&void 0!==i?i:[]).filter(e=>"sink"===e.metadata.labels["camel.apache.org/kamelet.type"]);return o.reduce(({camelSinkKameletBindings:e,camelSourceKameletBindings:t},n)=>{var a,s,r;const i=null===(r=null===(s=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===s?void 0:s.ref)||void 0===r?void 0:r.name;return c.findIndex(e=>e.metadata.name===i)>-1?e.push(n):t.push(n),{camelSinkKameletBindings:e,camelSourceKameletBindings:t}},{camelSinkKameletBindings:[],camelSourceKameletBindings:[]})},J=(e,t)=>!!l.a(t,t=>{var n,a,s;return null===(s=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[k.f])||void 0===s?void 0:s.startsWith(t.metadata.name)}),Z=(e,t)=>{if(!e||!t||e===t)return Promise.reject();return((e,t)=>{var n;if(!e||!t||e===t)return Promise.reject();const a=b.a(e,"status");let s={};if(t.kind===R.r)s={uri:null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.sinkUri};else{const e=i.a(t,"metadata.name");s={ref:{apiVersion:t.apiVersion,kind:t.kind,name:e}}}const r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{sink:s})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(e)),r)})(Object(y.g)(e),Object(y.g)(t))},X=(e,t)=>{var n,a,r;if(!e||!t||e===t)return Promise.reject();const i=Object(y.g)(e),o=Object(y.g)(t),c=null===(n=null==o?void 0:o.status)||void 0===n?void 0:n.bootstrapServerHost,l=null===(r=null===(a=null==o?void 0:o.spec)||void 0===a?void 0:a.credentials)||void 0===r?void 0:r.serviceAccountSecretName,u=b.a(i,"status");if(!c||!l)return Promise.reject(new Error(s.a.t("knative-plugin~Unable to create kafka connector as bootstrapServerHost or secret is not available in target resource.")));const d=Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},u.spec),{bootstrapServers:[c],net:{sasl:{enable:!0,user:{secretKeyRef:{name:l,key:"client-id"}},password:{secretKeyRef:{name:l,key:"client-secret"}}},tls:{enable:!0}}})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(u)),d)},ee=(e,t)=>{const{resources:n}=e.getData(),a=t.getData();if(!a||!(null==n?void 0:n.obj))return Promise.reject();const s=Object(y.k)(a);return((e,t)=>{var n;if(!e||!t)return Promise.reject();const a=b.a(e,"status"),s={ref:{apiVersion:t.apiVersion,kind:t.kind,name:null===(n=t.metadata)||void 0===n?void 0:n.name}},r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{subscriber:Object.assign({},s)})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(a)),r)})(n.obj,s)},te=e=>{if(!e)return!1;const{metadata:{labels:t}}=e;return!(!(null==t?void 0:t[k.Z])&&!(null==t?void 0:t[k.ab]))}},5704:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(13),i=n(5),o=n(69),c=n(15),l=n(5710),u=n(5647),d=n(5720),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};t.a=e=>{var{namespace:t}=e,n=p(e,["namespace"]);const{t:m}=Object(s.useTranslation)(),b=Object(o.z)(d.a),h=Object(o.z)(r.Zb),v=a.useMemo(()=>Object(l.b)(h),[h]),f=a.useMemo(()=>{let e=Object(u.d)(t);return[...b,...v].forEach(n=>{var a,s;const r=null===(s=(a=n.properties).resources)||void 0===s?void 0:s.call(a,t);r&&(e=Object.assign(Object.assign({},r),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[v,b,t]);return a.createElement(i.C,{resources:f},a.createElement(c.Nb,Object.assign({},n,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5710:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(0),s=n(13),r=n(8),i=n(69),o=n(5657),c=n(5714),l=n(5662),u=n(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((n,[a,s])=>{const i=((e,t,n,a,s={})=>{if(!a)return Object.assign({namespace:e},s);if(a.version){const t=Object(r.Fb)(a);return Object.assign({namespace:e,kind:t},s)}const i=Object(r.wb)(a.group,a.kind);if(!i)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${a.group}" and kind "${a.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${n}" will not be loaded and ignored in the topology view for now:`,t,n,a,s),null;const o=Object(r.Hb)(i);return Object.assign({namespace:e,kind:o},s)})(t,e,a,null==s?void 0:s.model,null==s?void 0:s.opts);return i&&(n[a]=i),n},{})})}));t.a=({namespace:e,children:t})=>{const[n,r]=a.useState(new l.a(e));a.useEffect(()=>{r(new l.a(e))},[e]);const p=Object(i.z)(o.c),m=Object(i.z)(s.Zb),b=a.useMemo(()=>d(m),[m]);return a.createElement(l.b.Provider,{value:n},e&&a.createElement(a.Fragment,null,[...b,...p].map(e=>a.createElement(c.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&a.createElement(u.a,null),t)}},5712:function(e,t,n){},5714:function(e,t,n){"use strict";var a=n(0),s=n(15),r=n(5662);t.a=({dataModelFactory:e})=>{const t=a.useContext(r.b),{id:n,priority:i,resources:o}=e,c=Object(s.De)(e.workloadKeys),l=a.useRef({priority:i,workloadKeys:c,resources:o});return a.useEffect(()=>{if(!t.getExtension(n)){l.current={priority:i,workloadKeys:c,resources:o},t.updateExtension(n,l.current);const{getDataModel:a,isResourceDepicted:s,getDataModelReconciler:r}=e;a?a().then(e=>{l.current.dataModelGetter=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,l.current)}):(l.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,l.current)),s?s().then(e=>{l.current.dataModelDepicter=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelDepicter=()=>!1,t.updateExtension(n,l.current)}):(l.current.dataModelDepicter=()=>!1,t.updateExtension(n,l.current)),r?r().then(e=>{l.current.dataModelReconciler=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelReconciler=()=>{},t.updateExtension(n,l.current)}):(l.current.dataModelReconciler=()=>{},t.updateExtension(n,l.current))}},[t,e,n,i,o,c]),null}},5715:function(e,t,n){"use strict";var a=n(0),s=n(5585),r=n(22),i=n(108),o=n(15),c=n(5662),l=n(5716),u=n(5718);t.a=Object(s.observer)(({trafficData:e})=>{const t=a.useContext(c.b),{namespace:n,extensionsLoaded:s,watchedResources:d}=t,[p,m]=a.useState(),b=Object(u.a)(n),h=a.useMemo(()=>n&&s?d:{},[s,d,n]),v=Object(o.Ce)(m,250),f=Object(i.b)(h);return a.useEffect(()=>v(f),[v,f]),a.useEffect(()=>{t.model=null},[n]),a.useEffect(()=>{r.a(p)||Object(l.a)(t,p,e,b).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,b]),null})},5716:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5717);const s=(e,t,n,s)=>{const{extensionsLoaded:r,watchedResources:i}=e;if(!r||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const o=Object.keys(t).find(e=>(e=>t[e].loadError&&!i[e].optional?t[e].loadError:"")(e));if(o)return Promise.resolve({loaded:!1,loadError:t[o].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&i[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const c=e.getWorkloadResources(t),l=e.dataModelDepicters;return e.getExtensionModels(t).then(r=>{const i=Object(a.a)(r,e.namespace,t,c,l,n,s);return e.reconcileModel(i,t),Promise.resolve({loaded:!0,loadError:"",model:i})})}},5717:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1401),s=n(15),r=n(2221),i=n(5589),o=n(5647);const c=(e,t)=>{const n=e.nodes.filter(({data:e})=>e.nodeType===r.y);return e.edges.reduce((e,{data:a})=>{const{data:s}=n.find(e=>e.data.id===a.source),{data:i}=n.find(e=>e.data.id===a.target),o=t.find(e=>e.metadata.name===s[s.nodeType]),c=t.find(e=>e.metadata.name===i[i.nodeType]);return o&&c?[...e,{id:`${o.metadata.uid}_${c.metadata.uid}`,type:r.x,source:o.metadata.uid,target:c.metadata.uid,data:a.traffic}]:e},[])},l=(e,t,n,l,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return i.a.forEach(n=>{var i,c;if(null===(c=null===(i=null==e?void 0:e[n])||void 0===i?void 0:i.data)||void 0===c?void 0:c.length){const i={nodes:[],edges:[]};e[n].data.forEach(t=>{const c=Object(s.yc)(n,t,e);if(c){const n=Object(o.c)(t,c,r.y,Object(a.d)("icon-openshift"),void 0,e);i.nodes.push(Object(o.h)(t,r.y,n,o.a)),Object(o.j)(Object(o.g)(t),i.nodes)}}),Object(o.b)(i,t)}}),t})(Object.assign(Object.assign({},n),{monitoringAlerts:p}));return Object(o.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var n,a;t.type===r.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(a=null===(n=t.children)||void 0===n?void 0:n.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==a?a:[])}),e.nodes=e.nodes.filter(e=>e.type!==r.u||e.children.length>0)})(e),((e,t)=>{t.forEach(n=>{e.edges.push(...Object(o.f)(n,t))})})(e,l),((e,t,n)=>{n&&e.edges.push(...c(n,t))})(e,l,d),e}},5718:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n(5719),r=n(58),i=n(15);const o=e=>{const[t,n,o]=Object(s.a)({namespace:e}),c=a.useMemo(()=>{let e;return o||n||(e=Object(r.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!o,loadError:n}},[n,o,t]);return Object(i.De)(c)}},5719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(763),s=n(436);const r=({delay:e,namespace:t})=>{const n=Object(s.b)({endpoint:s.a.RULES,namespace:t});return Object(a.useURLPoll)(n,e,t)}},5720:function(e,t,n){"use strict";var a=n(5657);n.d(t,"a",(function(){return a.c}))},5726:function(e,t,n){"use strict";var a,s,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),function(e){e.EventSource="event-source",e.EventSink="event-sink",e.KnService="knative-service",e.Revision="knative-revision",e.PubSub="event-pubsub",e.SinkUri="sink-uri",e.EventSourceKafka="event-source-kafka",e.Kafka="knative-kafka",e.KafkaSink="kafka-sink"}(a||(a={})),function(e){e.Traffic="revision-traffic",e.EventSource="event-source-link",e.EventSink="event-sink-link",e.EventPubSubLink="event-pubsub-link",e.EventSourceKafkaLink="event-source-kafka-link"}(s||(s={})),function(e){e.Sink="Sink",e.Source="Source"}(r||(r={}))},5727:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(31),i=n(53),o=n(518),c=n(15),l=n(5704);t.a=Object(r.connect)(e=>({namespace:Object(o.d)(e),application:Object(o.c)(e)}),e=>({onChange:t=>{e(Object(i.k)(t))}}))(({namespace:e,application:t,onChange:n,disabled:r})=>{const{t:i}=Object(s.useTranslation)(),o=i("topology~All applications"),u=i("topology~No application group"),d=t===c.b?o:t===c.mc?u:t,[p,m]=a.useState(d);if(a.useEffect(()=>{r||m(d)},[r,d]),e===c.c)return null;return a.createElement(l.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&a.createElement("span",{className:"btn-link__title"},p),titlePrefix:i("topology~Application"),allSelectorItem:{allSelectorKey:c.b,allSelectorTitle:o},noneSelectorItem:{noneSelectorKey:c.mc,noneSelectorTitle:u},selectedKey:t||c.b,onChange:(e,t)=>{t===c.b?n(t):n(e)},userSettingsPrefix:c.f,storageKey:c.e,disabled:r})})},5728:function(e,t,n){},5734:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>Object.assign(Object.assign({},e),{prop:`${t}-${e.prop}`})},5735:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(0),s=n(353),r=n(19),i=n(7),o=n(14),c=n(13),l=n(517),u=n(5670),d=n(1406),p=n(5),m=n(980),b=n(108),h=n(8),v=n(15),f=n(30),g=n(119),E=n(2229);n(5828);const O=a.memo(({current:e,title:t,humanize:n,consumers:o,namespace:c,position:l=s.b.top,description:u,children:d})=>{const{t:p}=Object(i.useTranslation)(),[m,b]=a.useState(!1),h=a.useCallback(()=>b(!0),[]),v=a.useCallback(()=>b(!1),[]);return e?a.createElement(s.a,{position:l,headerContent:p("console-shared~{{title}} breakdown",{title:t}),bodyContent:a.createElement(_,{humanize:n,consumers:o,namespace:c,isOpen:m,description:u},d),enableFlip:!0,onShow:h,onHide:v,maxWidth:"21rem"},a.createElement(r.a,{variant:"link",isInline:!0},e)):null});t.b=O;const y=e=>{switch(e){case c.m.ERROR:return a.createElement(g.h,null);case c.m.WARN:return a.createElement(g.m,null);default:return null}},k=({limitState:e,requestedState:t,total:n,limit:s,current:r,available:o,requested:l})=>{const{t:u}=Object(i.useTranslation)();return(!!e&&e!==c.m.OK||!!t&&t!==c.m.OK)&&a.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},a.createElement(E.default,{value:n},u("console-shared~Total capacity")),a.createElement(E.default,{value:s,icon:y(e)},u("console-shared~Total limit")),a.createElement(E.default,{value:r},u("console-shared~Current utilization")),a.createElement(E.default,{value:o},u("console-shared~Current available capacity")),a.createElement(E.default,{value:l,icon:y(t)},u("console-shared~Total requested")))},_=Object(u.a)(a.memo(({humanize:e,consumers:t,namespace:n,watchPrometheus:s,stopWatchPrometheusQuery:r,prometheusResults:u,isOpen:g,description:E,children:O})=>{const{t:y}=Object(i.useTranslation)(),[k,_]=a.useState(t[0]),R=Object(c.jc)()[0],T=Object(v.Fe)(f.A.CAN_GET_NS)&&!!window.SERVER_FLAGS.prometheusBaseURL,{query:N,model:S,metric:P,fieldSelector:C}=k,w=a.useMemo(()=>g?((e,t,n)=>({isList:!0,kind:e.crd?Object(h.Hb)(e):e.kind,fieldSelector:n,namespace:t}))(S,n,C):null,[C,g,S,n]),[I,x,D]=Object(b.a)(w);a.useEffect(()=>g?(s(N,n),()=>{r(N)}):()=>{},[N,r,s,n,g]);const A=[],[M,L]=Object(l.b)(u,N),U=Object(d.a)(M,P);if(w&&x&&!D)for(const t of U){if(I.some(e=>Object(v.dd)(e)===t.metric[P]&&(!S.namespaced||Object(v.ed)(e)===t.metric.namespace))&&A.push(Object.assign(Object.assign({},t),{y:e(t.y).string})),5===A.length)break}const B=a.useMemo(()=>{const e=new URLSearchParams;return e.set("query0",k.query),e},[k.query]),F=a.useMemo(()=>t.reduce((e,t)=>(e[Object(h.Hb)(t.model)]=y("console-shared~By {{label}}",{label:t.model.labelKey?y(t.model.labelKey):t.model.label}),e),{}),[t,y]),K=a.useCallback(e=>_(t.find(t=>Object(h.Hb)(t.model)===e)),[t]),q=T&&"admin"===R?"/monitoring/query-browser?"+B.toString():`/dev-monitoring/ns/${n}/metrics?${B.toString()}`;let $;return $=L||D?a.createElement("div",{className:"text-secondary"},y("console-shared~Not available")):x&&M?a.createElement(a.Fragment,null,a.createElement("ul",{className:"co-utilization-card-popover__consumer-list","aria-label":y("console-shared~Top consumer by {{label}}",{label:S.label})},A&&A.map(e=>{const t=String(e.x);return a.createElement(j,{key:t,value:e.y},a.createElement(o.Link,{className:"co-utilization-card-popover__consumer-name",to:Object(p.uc)(S,t,e.metric.namespace)},t))})),a.createElement(o.Link,{to:q},y("console-shared~View more"))):a.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"})),a.createElement("div",{className:"co-utilization-card-popover__body"},E&&a.createElement("div",{className:"co-utilization-card-popover__description"},E),O,a.createElement("div",{className:"co-utilization-card-popover__title"},1===t.length?y("console-shared~Top {{label}} consumers",{label:k.model.label.toLowerCase()}):y("console-shared~Top consumers")),t.length>1&&a.createElement(m.b,{className:"co-utilization-card-popover__dropdown",id:"consumer-select",name:"selectConsumerType","aria-label":y("console-shared~Select consumer type"),items:F,onChange:K,selectedKey:Object(h.Hb)(S)}),$)})),j=({children:e,value:t})=>a.createElement("li",{className:"co-utilization-card-popover__consumer-item"},e,a.createElement("div",{className:"co-utilization-card-popover__consumer-value"},t))},5738:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return k}));var a=n(0),s=n(7),r=n(406),i=n(967),o=n(4377),c=n(5791),l=n(1409),u=n(52),d=n(5),p=n(108),m=n(5670),b=n(5734),h=n(517),v=n(5784);const f=({operatorStatus:e,isResolved:t,key:n,Component:s,LoadingComponent:r})=>{const i=s;return t?a.createElement(i,{key:n,operatorStatus:e}):a.createElement(d.c,{key:e.operators[0].metadata.uid,operatorStatus:e,loader:s,LoadingComponent:r})},g=({resources:e,operatorExtensions:t,dynamicOperatorSubsystems:n})=>{const{t:o}=Object(s.useTranslation)(),l=[...t.map((t,n)=>{const s=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop],t),{});return a.createElement(r.a,{key:t.title},a.createElement(c.a,{resources:s,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:f,Component:t.operatorRowLoader,isResolved:!1}))}),...n.map((t,n)=>{const s=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop],t),{});return a.createElement(r.a,{key:t.title},a.createElement(c.a,{resources:s,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:f,Component:t.operatorRowLoader,isResolved:!0}))})].reverse();return a.createElement(i.a,{hasGutter:!0},a.createElement(r.a,null,o("public~Operators create, configure, and manage applications by extending the Kubernetes API.")),l)},E=Object(m.a)(({resources:e,watchK8sResource:t,stopWatchK8sResource:n,operatorExtensions:r,dynamicOperatorSubsystems:i})=>{const{t:c}=Object(s.useTranslation)();a.useEffect(()=>(r.forEach((e,n)=>e.resources.forEach(e=>t(Object(b.a)(e,n)))),()=>{r.forEach((e,t)=>e.resources.forEach(e=>n(Object(b.a)(e,t))))}),[t,n,r]);const d=r.map((t,n)=>{const a=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop]||{},t),{});if(Object.keys(a).some(e=>a[e].loadError))return{health:u.a.NOT_AVAILABLE};if(Object.keys(a).some(e=>!a[e].loaded))return{health:u.a.LOADING};const s=t.getOperatorsWithStatuses(a);if(!s.length)return{health:u.a.OK};const r=Object(l.a)(s);return{health:r[0].status.health,count:r.length}}),p=Object(l.b)(d,c);return a.createElement(o.default,{title:c("public~Operators"),state:p.health,details:p.detailMessage,popupTitle:c("public~Operator status")},a.createElement(g,{resources:e,operatorExtensions:r,dynamicOperatorSubsystems:i}))}),O=Object(m.a)(({watchURL:e,stopWatchURL:t,urlResults:n,resources:s,watchK8sResource:r,stopWatchK8sResource:i,subsystem:c,models:l})=>{const u=c.additionalResource&&!!l.get(c.additionalResource.kind);a.useEffect(()=>(e(c.url,c.fetch?c.fetch:void 0),u&&r(c.additionalResource),()=>{t(c.url),u&&i(c.additionalResource)}),[e,t,r,i,c,u]);const p=n.getIn([c.url,"data"]),m=n.getIn([c.url,"loadError"]),b=c.additionalResource?s[c.additionalResource.prop]:null,h=c.healthHandler(p,m,b);return a.createElement(o.default,{title:c.title,state:h.state,details:h.message,popupTitle:c.popupTitle,popupBodyContent:c.popupComponent?e=>a.createElement(d.c,{loader:c.popupComponent,healthResult:p,healthResultError:m,k8sResult:b,hide:e}):void 0})}),y=Object(m.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,watchPrometheus:r,stopWatchPrometheusQuery:i,prometheusResults:c,subsystem:l,models:u})=>{const{t:p}=Object(s.useTranslation)(),{infrastructure:m}=a.useContext(v.a),b=l.additionalResource&&!!u.get(l.additionalResource.kind);a.useEffect(()=>(l.queries.forEach(e=>r(e)),b&&e(l.additionalResource),()=>{l.queries.forEach(e=>i(e)),b&&t(l.additionalResource)}),[e,t,r,i,l,b]);const f=a.useMemo(()=>l.queries.map(e=>{const[t,n]=Object(h.b)(c,e);return{response:t,error:n}}),[c,l.queries]),g=l.additionalResource?n[l.additionalResource.prop]:null,E=l.healthHandler(f,p,g,m);return a.createElement(o.default,{title:l.title,state:E.state,details:E.message,popupTitle:l.popupTitle,popupClassname:l.popupClassname,popupKeepOnOutsideClick:l.popupKeepOnOutsideClick,popupBodyContent:l.popupComponent?e=>a.createElement(d.c,{loader:l.popupComponent,responses:f,k8sResult:g,hide:e}):void 0})}),k=({subsystem:e,namespace:t})=>{const{t:n}=Object(s.useTranslation)(),{title:r,resources:i,healthHandler:c,popupComponent:l,popupTitle:u}=e,m=a.useMemo(()=>Object.assign(Object.assign({},i),i.imageManifestVuln&&{imageManifestVuln:Object.assign(Object.assign({},i.imageManifestVuln),{namespace:t})}),[i,t]),b=Object(p.b)(m),h=c(b,n);return a.createElement(o.default,{title:r,state:h.state,details:h.message,popupTitle:u},l&&b&&a.createElement(d.c,Object.assign({loader:l},b,{namespace:t})))}},5744:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var a,s=n(550);!function(e){e.CPU_USAGE="CPU_USAGE",e.CPU_REQUESTS="CPU_REQUESTS",e.MEMORY_USAGE="MEMORY_USAGE",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.POD_COUNT="POD_COUNT",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_FILESYSTEM="PODS_BY_FILESYSTEM",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.FILESYSTEM_USAGE="FILESYSTEM_USAGE",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION"}(a||(a={}));const r={[a.CPU_USAGE]:s.a("namespace:container_cpu_usage:sum{namespace='<%= project %>'}"),[a.CPU_REQUESTS]:s.a('sum(kube_pod_resource_request{resource="cpu", namespace="<%= project %>"}) by (namespace)'),[a.MEMORY_USAGE]:s.a('sum(container_memory_working_set_bytes{namespace=\'<%= project %>\',container="",pod!=""}) BY (namespace)'),[a.MEMORY_REQUESTS]:s.a('sum(kube_pod_resource_request{resource="memory", namespace="<%= project %>"}) by (namespace)'),[a.POD_COUNT]:s.a("count(kube_running_pod_ready{namespace='<%= project %>'}) BY (namespace)"),[a.FILESYSTEM_USAGE]:s.a('sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (namespace)'),[a.NETWORK_IN_UTILIZATION]:s.a('sum(rate(container_network_receive_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)'),[a.NETWORK_OUT_UTILIZATION]:s.a('sum(rate(container_network_transmit_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)')},i={[a.PODS_BY_CPU]:s.a('topk(25, sort_desc(sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[a.PODS_BY_MEMORY]:s.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[a.PODS_BY_FILESYSTEM]:s.a('topk(25, sort_desc(sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (pod, namespace)))'),[a.PODS_BY_NETWORK_IN]:s.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))'),[a.PODS_BY_NETWORK_OUT]:s.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))')},o=e=>({[a.NETWORK_UTILIZATION]:[{query:r[a.NETWORK_IN_UTILIZATION]({project:e}),desc:"in"},{query:r[a.NETWORK_OUT_UTILIZATION]({project:e}),desc:"out"}]}),c=e=>({[a.CPU_USAGE]:r[a.CPU_USAGE]({project:e}),[a.CPU_REQUESTS]:r[a.CPU_REQUESTS]({project:e}),[a.MEMORY_USAGE]:r[a.MEMORY_USAGE]({project:e}),[a.MEMORY_REQUESTS]:r[a.MEMORY_REQUESTS]({project:e}),[a.POD_COUNT]:r[a.POD_COUNT]({project:e}),[a.FILESYSTEM_USAGE]:r[a.FILESYSTEM_USAGE]({project:e})}),l=e=>({[a.PODS_BY_CPU]:i[a.PODS_BY_CPU]({project:e}),[a.PODS_BY_MEMORY]:i[a.PODS_BY_MEMORY]({project:e}),[a.PODS_BY_FILESYSTEM]:i[a.PODS_BY_FILESYSTEM]({project:e}),[a.PODS_BY_NETWORK_IN]:i[a.PODS_BY_NETWORK_IN]({project:e}),[a.PODS_BY_NETWORK_OUT]:i[a.PODS_BY_NETWORK_OUT]({project:e})})},5745:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var a,s=n(550);!function(e){e.MEMORY_TOTAL="MEMORY_TOTAL",e.MEMORY_UTILIZATION="MEMORY_UTILIZATION",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.CPU_UTILIZATION="CPU_UTILIZATION",e.CPU_TOTAL="CPU_TOTAL",e.CPU_REQUESTS="CPU_REQUESTS",e.STORAGE_UTILIZATION="STORAGE_UTILIZATION",e.STORAGE_TOTAL="STORAGE_TOTAL",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_STORAGE="PODS_BY_STORAGE",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.NODES_BY_CPU="NODES_BY_CPU",e.NODES_BY_MEMORY="NODES_BY_MEMORY",e.NODES_BY_STORAGE="NODES_BY_STORAGE",e.NODES_BY_NETWORK_IN="NODES_BY_NETWORK_IN",e.NODES_BY_NETWORK_OUT="NODES_BY_NETWORK_OUT",e.NODES_BY_PODS="NODES_BY_PODS",e.PROJECTS_BY_CPU="PROJECTS_BY_CPU",e.PROJECTS_BY_MEMORY="PROJECTS_BY_MEMORY",e.PROJECTS_BY_STORAGE="PROJECTS_BY_STORAGE",e.PROJECTS_BY_NETWORK_IN="PROJECTS_BY_NETWORK_IN",e.PROJECTS_BY_NETWORK_OUT="PROJECTS_BY_NETWORK_OUT",e.PROJECTS_BY_PODS="PROJECTS_BY_PODS",e.POD_UTILIZATION="POD_UTILIZATION"}(a||(a={}));const r={[a.PODS_BY_CPU]:s.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_MEMORY]:s.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_STORAGE]:s.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_NETWORK_IN]:s.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_NETWORK_OUT]:s.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.NODES_BY_CPU]:s.a('\n      topk(25, sort_desc(\n        avg_over_time(instance:node_cpu:rate:sum[5m])\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_MEMORY]:s.a('\n      topk(25, sort_desc(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_STORAGE]:s.a('\n      topk(25, sort_desc(\n        (\n          sum by (instance) (max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"}))\n          -\n          sum by (instance) (max by (device, instance) (node_filesystem_avail_bytes{device=~"/.*"}))\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_PODS]:s.a('\n      topk(25, sort_desc(\n        sum(avg_over_time(kubelet_running_pods[5m])) BY (node)\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.NODES_BY_NETWORK_IN]:s.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_receive_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_NETWORK_OUT]:s.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_transmit_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.PROJECTS_BY_CPU]:s.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_MEMORY]:s.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_STORAGE]:s.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_PODS]:s.a('\n      topk(25, sort_desc(\n        count by (namespace) (\n            topk without(uid) (1, kube_running_pod_ready)\n            *\n            ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n          *\n          on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"})))\n        ))\n    '),[a.PROJECTS_BY_NETWORK_IN]:s.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_NETWORK_OUT]:s.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    ')},i={[a.MEMORY_TOTAL]:s.a('\n      sum(\n        node_memory_MemTotal_bytes\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.MEMORY_UTILIZATION]:s.a('\n      sum(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.MEMORY_REQUESTS]:s.a('\n      sum(\n        kube_pod_resource_request{resource="memory"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.NETWORK_UTILIZATION]:s.a('\n      sum(\n        (\n          instance:node_network_transmit_bytes_excluding_lo:rate1m\n          +\n          instance:node_network_receive_bytes_excluding_lo:rate1m\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.CPU_UTILIZATION]:s.a('\n      sum(\n        1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~"idle|iowait|steal"}[2m]))\n        *\n        on(instance) group_left() (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node","(.*)")\n        )\n      )\n    '),[a.CPU_TOTAL]:s.a('\n      sum(\n        kube_node_status_capacity{resource="cpu",unit="core"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.CPU_REQUESTS]:s.a('\n      sum(\n        kube_pod_resource_request{resource="cpu"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.STORAGE_UTILIZATION]:s.a('\n      sum(\n        (\n          max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n          -\n          max by (device, instance) (node_filesystem_free_bytes{device=~"/.*"})\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.STORAGE_TOTAL]:s.a('\n      sum(\n        max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.POD_UTILIZATION]:s.a('\n      count(\n        (\n          topk without(uid) (1, kube_running_pod_ready)\n          *\n          ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n        )\n        *\n        on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      )\n    '),[a.NETWORK_IN_UTILIZATION]:s.a('\n      sum(\n        instance:node_network_receive_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.NETWORK_OUT_UTILIZATION]:s.a('\n      sum(\n        instance:node_network_transmit_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    ')},o=e=>({[a.NETWORK_UTILIZATION]:[{query:i[a.NETWORK_IN_UTILIZATION]({nodeType:e}),desc:"in"},{query:i[a.NETWORK_OUT_UTILIZATION]({nodeType:e}),desc:"out"}]}),c=e=>({[a.PODS_BY_CPU]:r[a.PODS_BY_CPU]({nodeType:e}),[a.PODS_BY_MEMORY]:r[a.PODS_BY_MEMORY]({nodeType:e}),[a.PODS_BY_STORAGE]:r[a.PODS_BY_STORAGE]({nodeType:e}),[a.PODS_BY_NETWORK_IN]:r[a.PODS_BY_NETWORK_IN]({nodeType:e}),[a.PODS_BY_NETWORK_OUT]:r[a.PODS_BY_NETWORK_OUT]({nodeType:e}),[a.NODES_BY_CPU]:r[a.NODES_BY_CPU]({nodeType:e}),[a.NODES_BY_MEMORY]:r[a.NODES_BY_MEMORY]({nodeType:e}),[a.NODES_BY_STORAGE]:r[a.NODES_BY_STORAGE]({nodeType:e}),[a.NODES_BY_PODS]:r[a.NODES_BY_PODS]({nodeType:e}),[a.NODES_BY_NETWORK_IN]:r[a.NODES_BY_NETWORK_IN]({nodeType:e}),[a.NODES_BY_NETWORK_OUT]:r[a.NODES_BY_NETWORK_OUT]({nodeType:e}),[a.PROJECTS_BY_CPU]:r[a.PROJECTS_BY_CPU]({nodeType:e}),[a.PROJECTS_BY_MEMORY]:r[a.PROJECTS_BY_MEMORY]({nodeType:e}),[a.PROJECTS_BY_STORAGE]:r[a.PROJECTS_BY_STORAGE]({nodeType:e}),[a.PROJECTS_BY_PODS]:r[a.PROJECTS_BY_PODS]({nodeType:e}),[a.PROJECTS_BY_NETWORK_IN]:r[a.PROJECTS_BY_NETWORK_IN]({nodeType:e}),[a.PROJECTS_BY_NETWORK_OUT]:r[a.PROJECTS_BY_NETWORK_OUT]({nodeType:e})}),l=e=>({[a.CPU_UTILIZATION]:{utilization:i[a.CPU_UTILIZATION]({nodeType:e}),total:i[a.CPU_TOTAL]({nodeType:e}),requests:i[a.CPU_REQUESTS]({nodeType:e})},[a.MEMORY_UTILIZATION]:{utilization:i[a.MEMORY_UTILIZATION]({nodeType:e}),total:i[a.MEMORY_TOTAL]({nodeType:e}),requests:i[a.MEMORY_REQUESTS]({nodeType:e})},[a.STORAGE_UTILIZATION]:{utilization:i[a.STORAGE_UTILIZATION]({nodeType:e}),total:i[a.STORAGE_TOTAL]({nodeType:e})},[a.POD_UTILIZATION]:{utilization:i[a.POD_UTILIZATION]({nodeType:e})}})},5746:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(5807),i=n(5674);n(5712);t.a=({resourceQuota:e})=>{var t,n;const{t:o}=Object(s.useTranslation)(),c=Object.keys(null!==(n=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==n?n:{}).map(t=>{var n;const s=e.status.hard[t],o=null===(n=e.status.used)||void 0===n?void 0:n[t],{label:c,percent:l}=Object(i.a)({resourceName:t,used:o,hard:s});return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.b,{data:{x:l+"%",y:l},thresholds:[{value:90},{value:101}],title:t,label:c}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},c.length?c:a.createElement(a.Fragment,null,o("console-app~No quota")))}},5747:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(5748),i=n(5674);n(5712);t.a=({appliedClusterResourceQuota:e,namespace:t})=>{var n,o,c,l;const{t:u}=Object(s.useTranslation)(),d=null===(o=null===(n=e.status)||void 0===n?void 0:n.namespaces)||void 0===o?void 0:o.find(e=>e.namespace===t),p=Object.keys(null!==(l=null===(c=null==d?void 0:d.status)||void 0===c?void 0:c.hard)&&void 0!==l?l:{}).map(t=>{var n,s,o,c,l;const u=null===(s=null===(n=e.status.total)||void 0===n?void 0:n.hard)||void 0===s?void 0:s[t],p=null===(c=null===(o=e.status.total)||void 0===o?void 0:o.used)||void 0===c?void 0:c[t],m=null===(l=d.status.used)||void 0===l?void 0:l[t],b=Object(i.b)(u,p),h=100-b,{label:v,percent:f}=Object(i.a)({resourceName:t,used:m,hard:u}),g=b-f;return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.a,{data:[{x:"Namespace",y:f},{x:"Other namespaces",y:g},{x:"Unused",y:h}],title:t,label:v}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},p.length?p:a.createElement(a.Fragment,null,u("console-app~No quota")))}},5748:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),s=n(2232),r=n(6044),i=n(6045),o=n(6046),c=n(6047),l=n(6048),u=n(18),d=n.n(u),p=n(7),m=n(1943),b=n(5);const h=({data:e,query:t="",title:n,ariaChartLinkLabel:u,ariaChartTitle:h,ariaDescription:v,usedLabel:f,label:g,secondaryTitle:E,className:O})=>{var y;const{t:k}=Object(p.useTranslation)(),[_,j]=Object(b.Ic)(),R=f||k("public~used"),T=E||R,N=g||k("No data"),S=e.filter(e=>"Namespace"===e.x);return a.createElement(m.a,{className:d()("graph-wrapper--title-center graph-wrapper--gauge",O),ref:_,title:n},a.createElement(m.b,{query:t,ariaChartLinkLabel:u},a.createElement(s.a,{ariaTitle:h||n,ariaDesc:v,data:e,height:j,padding:0,labels:({datum:{x:e,y:t}})=>k("public~{{x}}: {{y}}%",{x:e,y:t}),width:j,subTitle:T,colorScale:100===(null===(y=S[0])||void 0===y?void 0:y.y)?[r.a.value,i.a.value,o.a.value]:[c.a.value,l.a.value,o.a.value],title:N})))}},5749:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(5674),i=n(119);n(5869);t.a=({hard:e,used:t})=>{const{t:n}=Object(s.useTranslation)(),o=Object.keys(e||{}).reduce((n,a)=>Object(r.b)(e[a],null==t?void 0:t[a])>=100?n+1:n,0);return a.createElement("div",{className:"co-resource-quota__summary"},n("console-shared~{{count}} resource",{count:Object.keys(e||{}).length}),", ",o>0?a.createElement(a.Fragment,null,a.createElement(i.m,null)," ",n("console-shared~{{count}} resource reached quota",{count:o})):n("console-shared~none are at quota"))}},5784:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0);const s=a.createContext({infrastructureLoaded:!0,infrastructureError:null})},5791:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(363),r=n(7),i=n(14),o=n(1409),c=n(52),l=n(2229);n(5792);const u=({resources:e,getOperatorsWithStatuses:t,title:n,linkTo:u,Row:d,Component:p,isResolved:m})=>{const{t:b}=Object(r.useTranslation)(),h=s.a(e).some(e=>e.loadError),v=t(e),f=Object(o.a)(v).sort((e,t)=>e.operators[0].metadata.name.localeCompare(t.operators[0].metadata.name)),g=f.every(e=>e.status.health===c.a.OK),E=a.useCallback(()=>a.createElement("div",{className:"co-status__operator-skeleton"}),[]);return v.length?a.createElement(l.StatusPopupSection,{firstColumn:a.createElement(a.Fragment,null,a.createElement("span",null,n),a.createElement("span",{className:"text-secondary co-status__operator-detail"}," ",b("console-shared~({{operatorStatusLength}} installed)",{operatorStatusLength:v.length}))),secondColumn:b("console-shared~Status")},h?a.createElement("div",{className:"text-secondary"},b("console-shared~Not available")):!g&&f.map(e=>a.createElement(d,{key:e.operators[0].metadata.uid,Component:p,operatorStatus:e,LoadingComponent:E,isResolved:m})),a.createElement(l.default,{value:b("console-shared~All {{status}}",{status:v[0].status.title.toLowerCase()}),icon:v[0].status.icon},a.createElement(i.Link,{to:u},b("console-shared~View all")))):null}},5792:function(e,t,n){},5793:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return S}));var a=n(0),s=n(22),r=n(31),i=n(14),o=n(7),c=n(69),l=n(13),u=n(192),d=n(434),p=n(295),m=n(5387),b=n(5388),h=n(15),v=n(4375),f=n(4364),g=n(4376),E=n(58),O=n(8),y=n(10),k=n(5738),_=n(108),j=n(206),R=n(1417);const T={kind:Object(O.Hb)(y.ClusterVersionModel),namespaced:!1,name:"version",isList:!1},N=({labelSelector:e})=>{const{t:t}=Object(o.useTranslation)(),n=Object(j.a)(h.O.CLUSTER_VERSION),[r,,c]=Object(R.a)(e),[l,u]=Object(_.a)(n?T:{}),d=Object(h.we)()&&n&&u&&Object(O.db)(l)&&!e;return a.createElement(v.default,{error:!s.a(c)},d&&a.createElement(g.StatusItem,{key:"clusterUpdate",Icon:h.n,message:t("public~A cluster version update is available")},a.createElement(i.Link,{to:"/settings/cluster?showVersions"},t("public~Update cluster"))),r.map(e=>a.createElement(g.default,{key:Object(E.h)(e,e.rule.id),alert:e})))},S=Object(r.connect)(e=>({k8sModels:e.k8s.getIn(["RESOURCES","models"])}))(({k8sModels:e})=>{const t=Object(c.z)(c.f),[n]=Object(l.kc)(l.gb),s=a.useMemo(()=>((e,t)=>e.filter(e=>{if(Object(c.g)(e)||Object(c.d)(e)||Object(l.hb)(e)||Object(l.fb)(e)){const n=e;return!(n.properties.additionalResource&&!n.properties.additionalResource.optional)||!!t.get(n.properties.additionalResource.kind)}return!0}))([...t,...n],e).map(e=>{if(Object(l.Kb)(e)||Object(l.Ib)(e)||Object(l.Jb)(e)){const t=e.properties.popupComponent?{popupComponent:()=>Promise.resolve(e.properties.popupComponent)}:{};return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),t)})}return e}),[t,n,e]),r=a.useMemo(()=>s.findIndex(e=>Object(c.c)(e)||Object(l.Hb)(e)),[s]),{t:h}=Object(o.useTranslation)(),v=[];if(s.forEach(t=>{if(Object(c.g)(t)||Object(l.Kb)(t))v.push({title:t.properties.title,Component:a.createElement(k.d,{subsystem:t.properties,models:e})});else if(Object(c.d)(t)||Object(l.Ib)(t)){const{disallowedControlPlaneTopology:n}=t.properties;if((null==n?void 0:n.length)&&n.includes(window.SERVER_FLAGS.controlPlaneTopology))return;v.push({title:t.properties.title,Component:a.createElement(k.b,{subsystem:t.properties,models:e})})}else(Object(c.e)(t)||Object(l.Jb)(t))&&v.push({title:t.properties.title,Component:a.createElement(k.c,{subsystem:t.properties})})}),-1!==r){const e=[],t=[];s.forEach(n=>{Object(l.Hb)(n)?t.push(n.properties):Object(c.c)(n)&&e.push(n.properties)}),v.splice(r,0,{title:"Operators",Component:a.createElement(k.a,{operatorExtensions:e,dynamicOperatorSubsystems:t})})}return a.createElement(u.a,{"data-test-id":"status-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},a.createElement(d.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(i.Link,{to:"/monitoring/alerts","data-test":"status-card-view-alerts"},h("public~View alerts"))),hasNoOffset:!1,className:"co-overview-card__actions"}},a.createElement(p.a,null,h("public~Status"))),a.createElement(f.default,null,a.createElement(m.a,{className:"co-overview-status__health",hasGutter:!0},v.map(e=>a.createElement(b.a,{key:e.title,"data-test":e.title},e.Component)))),a.createElement(N,null))})},5805:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(19),r=n(7),i=n(15),o=n(984),c=n(5851),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const u=({openProjectModal:e})=>{const{t:t}=Object(r.useTranslation)(),n=Object(i.Fe)(i.O.CAN_CREATE_NS);return Object(i.Fe)(i.O.CAN_CREATE_PROJECT)?a.createElement(r.Trans,{t:t,ns:"devconsole"}," or ",a.createElement(s.a,{isInline:!0,variant:"link",onClick:e},"create a Project")):n?a.createElement(r.Trans,{t:t,ns:"devconsole"}," or ",a.createElement(s.a,{isInline:!0,variant:"link",onClick:e},"create a Namespace")):null};t.b=e=>{var{onCreate:t,title:n,children:s}=e,r=l(e,["onCreate","title","children"]);const[,u]=Object(i.ue)(),d=Object(o.a)(),p=a.useCallback(()=>{d({onSubmit:e=>{var n;u(null===(n=e.metadata)||void 0===n?void 0:n.name),t&&t(e)}})},[t,u,d]);return a.createElement(c.a,Object.assign({},r,{title:n}),s(p))}},5806:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return A}));var a=n(0),s=n(22),r=n(7),i=n(205),o=n(165),c=n(682),l=n(354),u=n(294),d=n(192),p=n(434),m=n(516),b=n(164),h=n(295),v=n(13),f=n(4382),g=n(4365),E=n(762),O=n(5670),y=n(982),k=n(1406),_=n(5745),j=n(10),R=n(517),T=n(108),N=n(8),S=n(4366),P=n(1200),C=n(5856);const w=[C.d,C.e],I=Object(O.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:n,utilizationQuery:s,totalQuery:r,title:i,TopConsumerPopover:o,humanizeValue:c,byteDataType:l,namespace:u,isDisabled:d=!1,limitQuery:p,requestQuery:m,setLimitReqState:b})=>{let h,v,g,E,O,y,_,j,T,N=!1;const{duration:S}=Object(P.useUtilizationDuration)();return a.useEffect(()=>{if(!d)return e(s,u,S),r&&e(r,u),p&&e(p,u,S),m&&e(m,u,S),()=>{t(s,S),r&&t(r),p&&t(p,S),m&&t(m,S)}},[e,t,S,s,r,u,d,p,m]),d||([h,v]=Object(R.b)(n,s,S),[g,E]=Object(R.b)(n,r),[y,_]=Object(R.b)(n,p,S),[j,T]=Object(R.b)(n,m,S),O=Object(k.a)(g),N=!h||r&&!g||p&&!y),a.createElement(f.default,{title:i,utilization:h,limit:y,requested:j,error:v||E||_||T,isLoading:N,humanizeValue:c,byteDataType:l,query:[s,p,m],max:O&&O.length?O[0].y:null,TopConsumerPopover:o,setLimitReqState:b})}),x=Object(O.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:n,queries:s,title:r,TopConsumerPopovers:i,humanizeValue:o,byteDataType:c,namespace:l,isDisabled:u=!1})=>{const{duration:d}=Object(P.useUtilizationDuration)();a.useEffect(()=>{if(!u)return s.forEach(t=>e(t.query,l,d)),()=>{s.forEach(e=>t(e.query,d))}},[e,t,d,s,l,u]);const p=[];let m=!1,b=!1;return u||s.forEach(e=>{var t;const[a,s]=Object(R.b)(n,e.query,d);return s?(m=!0,!1):a?void p.push((null===(t=Object(k.b)(a,e.desc,null,f.trimSecondsXMutator))||void 0===t?void 0:t[0])||[]):(b=!0,!1)}),a.createElement(f.MultilineUtilizationItem,{title:r,data:p,error:m,isLoading:b,humanizeValue:o,byteDataType:c,queries:s,TopConsumerPopovers:i})}),D=({machineConfigPools:e,onNodeSelect:t,selectedNodes:n})=>{const{t:s}=Object(r.useTranslation)(),[d,p]=a.useState(!1),m=e.sort((e,t)=>{const n=["worker","master"],a=n.indexOf(e.metadata.name),s=n.indexOf(t.metadata.name);return-1===a&&-1===s?e.metadata.name.localeCompare(t.metadata.name):-1===a?1:-1===s?-1:a-s}).map(e=>{const t="master"===e.metadata.name?"control plane":e.metadata.name;return a.createElement(i.a,{hasCheckbox:!0,key:e.metadata.name,value:t,isSelected:n.includes(e.metadata.name)},t)});return a.createElement(l.a,{role:"menu","aria-label":s("public~Filter by Node type"),onSelect:t,isOpen:d,selected:n,onOpenChange:e=>p(e),toggle:e=>a.createElement(o.a,{ref:e,onClick:e=>p(e),variant:"plainText"},s("public~Filter by Node type"),n.length>0&&a.createElement(c.a,{className:"pf-v5-u-ml-sm",isRead:!0},n.length))},a.createElement(u.a,null,m))},A=()=>{const{t:e}=Object(r.useTranslation)(),[t,n]=Object(T.a)({isList:!0,kind:Object(N.Hb)(j.MachineConfigPoolModel)}),[i,o]=a.useState([]),[c]=Object(v.kc)(v.Y),[l]=Object(v.kc)(v.X),u=s.a(i)?".+":i.join("|"),[f,O]=a.useMemo(()=>[Object(_.d)(u),Object(_.b)(u)],[u]);return n&&a.createElement(d.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},a.createElement(p.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(m.a,null,a.createElement(b.a,null,a.createElement(D,{machineConfigPools:t,onNodeSelect:(e,t)=>{const n="control plane"===t?"master":t;i.includes(n)?o(i.filter(e=>e!==n)):o([...i,n])},selectedNodes:i})),a.createElement(b.a,null,a.createElement(S.UtilizationDurationDropdown,null)))),hasNoOffset:!1,className:void 0}},a.createElement(h.a,{"data-test":"utilization-card__title"},e("public~Cluster utilization"))),a.createElement(g.default,null,a.createElement(C.b.Provider,{value:u},a.createElement(I,{title:e("public~CPU"),utilizationQuery:f[_.a.CPU_UTILIZATION].utilization,totalQuery:f[_.a.CPU_UTILIZATION].total,requestQuery:f[_.a.CPU_UTILIZATION].requests,TopConsumerPopover:C.a,humanizeValue:y.h}),a.createElement(I,{title:e("public~Memory"),utilizationQuery:f[_.a.MEMORY_UTILIZATION].utilization,totalQuery:f[_.a.MEMORY_UTILIZATION].total,requestQuery:f[_.a.MEMORY_UTILIZATION].requests,TopConsumerPopover:C.c,humanizeValue:y.f,byteDataType:E.a.BinaryBytes}),a.createElement(I,{title:e("public~Filesystem"),utilizationQuery:f[_.a.STORAGE_UTILIZATION].utilization,totalQuery:f[_.a.STORAGE_UTILIZATION].total,TopConsumerPopover:C.g,humanizeValue:y.f,byteDataType:E.a.BinaryBytes}),a.createElement(x,{title:e("public~Network transfer"),queries:O[_.a.NETWORK_UTILIZATION],humanizeValue:y.j,TopConsumerPopovers:w}),a.createElement(I,{title:e("public~Pod count"),utilizationQuery:f[_.a.POD_UTILIZATION].utilization,TopConsumerPopover:C.f,humanizeValue:y.k}),c.map(({uid:e,properties:t})=>{var n,s,r;return a.createElement(I,{key:e,title:t.title,utilizationQuery:t.getUtilizationQuery(i),totalQuery:null===(n=t.getTotalQuery)||void 0===n?void 0:n.call(t,i),humanizeValue:t.humanize,TopConsumerPopover:t.TopConsumerPopover,requestQuery:null===(s=t.getRequestQuery)||void 0===s?void 0:s.call(t,i),limitQuery:null===(r=t.getLimitQuery)||void 0===r?void 0:r.call(t,i)})}),l.map(({uid:e,properties:t})=>a.createElement(x,{key:e,title:t.title,queries:t.getUtilizationQueries(i),humanizeValue:t.humanize,TopConsumerPopovers:t.TopConsumerPopovers})))))}},5807:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return f}));var a=n(0),s=n(515),r=n(6028),i=n(6029),o=n(18),c=n.n(o),l=n(7),u=n(1943),d=n(1197),p=n(436),m=n(5),b=n(1406);const h=[{value:67},{value:92}],v=({data:e,error:t,humanize:n=m.ec,invert:o=!1,loading:d,query:p="",remainderLabel:b,themeColor:v=s.a.green,thresholds:f=h,title:g,ariaChartLinkLabel:E,ariaChartTitle:O,usedLabel:y,label:k,secondaryTitle:_,className:j})=>{const{t:R}=Object(l.useTranslation)(),[T,N]=Object(m.Ic)(),S=!t&&!d,P=d?R("Loading"):t,C=y||R("public~used"),w=_||C,I=k||(e?n(e.y).string:void 0)||R("No data");return a.createElement(u.a,{className:c()("graph-wrapper--title-center graph-wrapper--gauge",j),ref:T,title:g},a.createElement(u.b,{query:p,ariaChartLinkLabel:E},a.createElement(r.a,{ariaTitle:O||g,data:f,height:N,padding:0,width:N,y:"value"},a.createElement(i.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${C}`:`${t} ${b||R("available")}`,data:S?e:{y:0},invert:o,padding:0,subTitle:S?w:"",themeColor:v,thresholds:f,title:P||I}))))},f=({humanize:e=m.ec,invert:t,namespace:n,percent:s=0,query:r,remainderLabel:i,secondaryTitle:o,thresholds:c,title:u,usedLabel:h})=>{const{t:f}=Object(l.useTranslation)(),[g,E,O]=Object(d.usePrometheusPoll)({endpoint:p.a.QUERY,namespace:n,query:r}),[y]=g?Object(b.a)(g,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(s).string,y:s}];return a.createElement(v,{data:y,error:!!E&&f("No data"),invert:t,label:y.x,loading:O,query:r,remainderLabel:i,secondaryTitle:o,thresholds:c,title:u,usedLabel:h})}},5828:function(e,t,n){},5838:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return S}));var a=n(0),s=n(137),r=n(116),i=n(16),o=n(22),c=n(240),l=n(7),u=n(13),d=n(694),p=n(4374),m=n(108),b=n(10),h=n(8),v=n(5853),f=n(5854),g=n(5855),E=n(5858),O=n(5859),y=n(5658),k=n(5860),_=n(5864);const j=[{Card:f.a},{Card:g.a},{Card:_.a}],R=[{Card:v.a},{Card:E.a}],T=[{Card:O.a}],N=(e,t)=>r.a(t,t=>{if("NamespaceDashboard"!==t.spec.location)return!1;const n=i.a(t,"spec.namespaceDashboard.namespaces"),a=i.a(t,"spec.namespaceDashboard.namespaceSelector");return!(!o.a(n)||!o.a(a))||(!!c.a(n,e.metadata.name)||!o.a(a)&&new h.e(a).matches(e))}),S=({obj:e})=>{const{t:t}=Object(l.useTranslation)(),[n]=Object(u.jc)(),[r]=Object(m.a)({isList:!0,kind:Object(h.Hb)(b.ConsoleLinkModel),optional:!0}),i=N(e,r),o={obj:e,namespaceLinks:i},c=!!i.length,v=a.useMemo(()=>c?[{Card:k.a},...T]:T,[c]);return a.createElement(a.Fragment,null,"dev"===n&&a.createElement(s.b,null,a.createElement("title",null,t("public~Project overview"))),a.createElement(y.a.Provider,{value:o},a.createElement(d.default,null,a.createElement(p.default,{mainCards:j,leftCards:R,rightCards:v}))))}},5851:function(e,t,n){"use strict";var a=n(0),s=n(155),r=n(40),i=n(1945),o=n(5),c=(n(5871),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n});t.a=e=>{var{badge:t,title:n,children:l,listComponent:u}=e,d=c(e,["badge","title","children","listComponent"]);return a.createElement("div",{className:"odc-project-list-page"},a.createElement(o.Z,{title:n,badge:t},l),a.createElement(s.a,{className:"co-divider"}),a.createElement(r.c,Object.assign({},d,{showTitle:!1,kind:"Project",ListComponent:u||i.ProjectsTable,canCreate:!1,filterLabel:"by name or display name",textFilter:"project-name"})))}},5852:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),s=n(5);const r=()=>Promise.all([n.e(17),n.e(25),n.e(0),n.e(1),n.e(4),n.e(3),n.e(6),n.e(5),n.e(7),n.e(11),n.e(8),n.e(9),n.e(10),n.e(16),n.e(14),n.e(12),n.e(2),n.e(13),n.e(15),n.e(18),n.e(26),n.e(33),n.e(65),n.e(237)]).then(n.bind(null,6058)).then(e=>e.OverviewListPage),i=e=>a.createElement(s.c,Object.assign({loader:r},e))},5853:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(160),s=n(4440),r=n(501),i=n(0),o=n(18),c=n.n(o),l=n(7),u=n(192),d=n(434),p=n(295),m=n(296),b=n(19),h=n(4379),v=n(2239),f=n(15),g=n(5),E=n(10),O=n(5658),y=n(14);const k=()=>{var e,t,n;const{obj:o}=i.useContext(O.a),k=a.a(o.metadata.labels).sort(),_=s.a(k,3),j=r.a(o.metadata.labels,_),R=null===(e=o.metadata.annotations)||void 0===e?void 0:e["openshift.io/description"],T=Object(g.uc)(E.ProjectModel,o.metadata.name)+"/details",N=null===(n=null===(t=o.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["maistra.io/member-of"],{t:S}=Object(l.useTranslation)();return i.createElement(u.a,{"data-test-id":"details-card",isClickable:!0,isSelectable:!0},i.createElement(d.a,{actions:{actions:i.createElement(i.Fragment,null,i.createElement(y.Link,{to:T,"data-test":"details-card-view-all"},S("public~View all"))),hasNoOffset:!1,className:"co-overview-card__actions"}},i.createElement(p.a,null,S("public~Details"))),i.createElement(m.a,null,i.createElement(h.default,null,i.createElement(v.b,{isLoading:!o,title:S("public~Name")},Object(f.dd)(o)),i.createElement(v.b,{isLoading:!o,title:S("public~Requester")},Object(f.Bd)(o)||i.createElement("span",{className:"text-muted"},S("public~No requester"))),i.createElement(v.b,{isLoading:!o,title:S("public~Labels")},i.createElement("div",{className:"co-project-dashboard__details-labels"},i.createElement(g.L,{kind:E.ProjectModel.kind,labels:j}),k.length>3&&i.createElement(b.a,{variant:"link"},i.createElement(y.Link,{to:T},S("public~View all"))))),i.createElement(v.b,{isLoading:!o,title:S("public~Description")},i.createElement("span",{className:c()({"text-muted":!R,"co-project-dashboard-details-card__description":R})},R||S("public~No description"))),N&&i.createElement(v.b,{isLoading:!o,title:S("public~Service mesh")},i.createElement(f.X,null)," ",S("public~Service mesh enabled")))))}},5854:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(0),s=n(7),r=n(192),i=n(434),o=n(295),c=n(5387),l=n(4364),u=n(15),d=n(139),p=n(69),m=n(5658),b=n(5738),h=n(5793);const v=()=>{var e;const{obj:t}=a.useContext(m.a),n=Object(p.z)(p.f),v=a.useMemo(()=>{return(e=n,e.filter(p.e)).find(e=>"Image Vulnerabilities"===e.properties.title);var e},[n]),{metadata:{name:f}}=t,{t:g}=Object(s.useTranslation)();return a.createElement(r.a,{"data-test-id":"status-card",className:"co-overview-card--gradient"},a.createElement(i.a,null,a.createElement(o.a,null,g("public~Status"))),t?a.createElement(a.Fragment,null,a.createElement(l.default,null,a.createElement(c.a,{className:"co-overview-status__health",hasGutter:!0},a.createElement("div",{className:"co-status-card__health-item","data-test":"project-status"},a.createElement(u.cc,{status:null===(e=t.status)||void 0===e?void 0:e.phase,className:"co-icon-and-text--lg"})),v&&a.createElement(b.c,{subsystem:v.properties,namespace:f}))),a.createElement(h.a,{labelSelector:{namespace:f}})):a.createElement(d.g,null))}},5855:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(0),s=n(7),r=n(192),i=n(434),o=n(295),c=n(4365),l=n(762),u=n(13),d=n(5),p=n(5658),m=n(5744),b=n(5806),h=n(4366),v=n(5857);const f=[v.d,v.e],g=()=>{var e;const{t:t}=Object(s.useTranslation)(),{obj:n}=a.useContext(p.a),g=null===(e=null==n?void 0:n.metadata)||void 0===e?void 0:e.name,[E,O]=a.useMemo(()=>[Object(m.d)(g),Object(m.b)(g)],[g]),[y]=Object(u.kc)(u.Fb);return a.createElement(r.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},a.createElement(i.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(h.UtilizationDurationDropdown,null)),hasNoOffset:!1,className:void 0}},a.createElement(o.a,null,t("public~Utilization"))),a.createElement(c.default,null,a.createElement(v.f.Provider,{value:g},a.createElement(b.b,{title:t("public~CPU"),humanizeValue:d.Yb,utilizationQuery:E[m.a.CPU_USAGE],requestQuery:E[m.a.CPU_REQUESTS],TopConsumerPopover:v.a,namespace:g}),a.createElement(b.b,{title:t("public~Memory"),humanizeValue:d.Wb,utilizationQuery:E[m.a.MEMORY_USAGE],requestQuery:E[m.a.MEMORY_REQUESTS],byteDataType:l.a.BinaryBytes,TopConsumerPopover:v.c,namespace:g}),a.createElement(b.b,{title:t("public~Filesystem"),humanizeValue:d.Wb,utilizationQuery:E[m.a.FILESYSTEM_USAGE],byteDataType:l.a.BinaryBytes,TopConsumerPopover:v.b,namespace:g}),a.createElement(b.a,{title:t("public~Network transfer"),humanizeValue:d.ac,queries:O[m.a.NETWORK_UTILIZATION],TopConsumerPopovers:f,namespace:g}),a.createElement(b.b,{title:t("public~Pod count"),humanizeValue:d.bc,utilizationQuery:E[m.a.POD_COUNT],namespace:g}),y.map(({uid:e,properties:t})=>{var n,s,r;return a.createElement(b.b,{key:e,title:t.title,humanizeValue:t.humanize,utilizationQuery:t.getUtilizationQuery(g),requestQuery:null===(n=t.getRequestQuery)||void 0===n?void 0:n.call(t,g),limitQuery:null===(s=t.getLimitQuery)||void 0===s?void 0:s.call(t,g),totalQuery:null===(r=t.getTotalQuery)||void 0===r?void 0:r.call(t,g),namespace:g,TopConsumerPopover:t.TopConsumerPopover})}))))}},5856:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v}));var a=n(0),s=n(7),r=n(5745),i=n(5735),o=n(10),c=n(5);const l=a.createContext(".+"),u=(e,t,n)=>{const s=a.useContext(l);return a.useMemo(()=>{const a=Object(r.c)(s);return[{query:a[e],model:o.ProjectModel,metric:"namespace"},{query:a[t],model:o.PodModel,metric:"pod"},{query:a[n],model:o.NodeModel,metric:"instance"}]},[n,s,e,t])},d=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(r.a.PROJECTS_BY_CPU,r.a.PODS_BY_CPU,r.a.NODES_BY_CPU);return a.createElement(i.b,{title:t("public~CPU"),current:e,consumers:n,humanize:c.Yb})},p=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(r.a.PROJECTS_BY_MEMORY,r.a.PODS_BY_MEMORY,r.a.NODES_BY_MEMORY);return a.createElement(i.b,{title:t("public~Memory"),current:e,consumers:n,humanize:c.Wb})},m=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(r.a.PROJECTS_BY_STORAGE,r.a.PODS_BY_STORAGE,r.a.NODES_BY_STORAGE);return a.createElement(i.b,{title:t("public~Filesystem"),current:e,consumers:n,humanize:c.Wb})},b=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=a.useContext(l),u=a.useMemo(()=>{const e=Object(r.c)(n);return[{query:e[r.a.PROJECTS_BY_PODS],model:o.ProjectModel,metric:"namespace"},{query:e[r.a.NODES_BY_PODS],model:o.NodeModel,metric:"node"}]},[n]);return a.createElement(i.b,{title:t("public~Pod count"),current:e,consumers:u,humanize:c.bc})},h=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(r.a.PROJECTS_BY_NETWORK_IN,r.a.PODS_BY_NETWORK_IN,r.a.NODES_BY_NETWORK_IN);return a.createElement(i.b,{title:t("public~Network in"),current:e,consumers:n,humanize:c.ac})},v=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(r.a.PROJECTS_BY_NETWORK_OUT,r.a.PODS_BY_NETWORK_OUT,r.a.NODES_BY_NETWORK_OUT);return a.createElement(i.b,{title:t("public~Network out"),current:e,consumers:n,humanize:c.ac})}},5857:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return h}));var a=n(0),s=n(7),r=n(5735),i=n(5744),o=n(10),c=n(5);const l=a.createContext(""),u=e=>{const t=a.useContext(l);return{consumers:a.useMemo(()=>[{query:Object(i.c)(t)[e],model:o.PodModel,metric:"pod"}],[e,t]),namespace:t}},d=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(i.a.PODS_BY_CPU);return a.createElement(r.b,Object.assign({title:t("public~CPU"),current:e,humanize:c.Yb},n))},p=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(i.a.PODS_BY_MEMORY);return a.createElement(r.b,Object.assign({title:t("public~Memory"),current:e,humanize:c.Wb},n))},m=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(i.a.PODS_BY_FILESYSTEM);return a.createElement(r.b,Object.assign({title:t("public~Filesystem"),current:e,humanize:c.Wb},n))},b=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(i.a.PODS_BY_NETWORK_IN);return a.createElement(r.b,Object.assign({title:t("public~Network in"),current:e,humanize:c.ac},n))},h=({current:e})=>{const{t:t}=Object(s.useTranslation)(),n=u(i.a.PODS_BY_NETWORK_OUT);return a.createElement(r.b,Object.assign({title:t("public~Network out"),current:e,humanize:c.ac},n))}},5858:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(0),s=n(16),r=n(7),i=n(5670),o=n(406),c=n(192),l=n(434),u=n(295),d=n(296),p=n(967),m=n(10),b=n(4378),h=n(2231),v=n(5),f=n(8),g=n(15),E=n(5658),O=n(69),y=n(13),k=n(108),_=n(198);const j=Object(i.a)(({projectName:e,watchK8sResource:t,stopWatchK8sResource:n,resources:r,model:i,mapper:c,additionalResources:l,additionalDynamicResources:u})=>{var d;a.useEffect(()=>{if(e){const a=((e,t)=>({kind:e.crd?Object(f.Hb)(e):e.kind,isList:!0,prop:"resource",namespace:t}))(i,e);return t(a),l&&l.forEach(n=>t(Object.assign(Object.assign({},n),{namespace:e}))),()=>{n(a),l&&l.forEach(n)}}},[t,n,e,i,l]);const p=s.a(r.resource,"data",[]),m=s.a(r.resource,"loaded"),h=s.a(r.resource,"loadError"),v=l?l.reduce((e,t)=>(e[t.prop]=s.a(r[t.prop],"data"),e),{}):{},g=!l||l.filter(e=>!e.optional).every(e=>s.a(r[e.prop],"loaded")),E=!!l&&l.filter(e=>!e.optional).some(e=>!!s.a(r[e.prop],"loadError")),O=Object(k.b)(u||{}),y=null===(d=Object.values(O).find(e=>e.loadError))||void 0===d?void 0:d.loadError,_=Object.keys(O).every(e=>O[e].loaded);return a.createElement(o.a,null,a.createElement(b.ResourceInventoryItem,{kind:i,isLoading:!(e&&m&&g&&_),namespace:e,error:!!h||E||y,resources:p,additionalResources:v,mapper:c,dataTest:"resource-inventory-item"}))}),R=()=>{const e=Object(O.z)(O.t),[t]=Object(y.kc)(y.mb),[n]=Object(y.kc)(y.Eb),{obj:s}=a.useContext(E.a),i=Object(g.dd)(s),b=Object(v.Dc)({group:m.SecretModel.apiGroup,resource:m.SecretModel.plural,namespace:i,verb:"list"}),{t:f}=Object(r.useTranslation)();return a.createElement(c.a,{"data-test-id":"inventory-card"},a.createElement(l.a,null,a.createElement(u.a,null,f("public~Inventory"))),a.createElement(d.a,null,a.createElement(p.a,{hasGutter:!0},a.createElement(j,{projectName:i,model:m.DeploymentModel}),a.createElement(j,{projectName:i,model:m.DeploymentConfigModel}),a.createElement(j,{projectName:i,model:m.StatefulSetModel}),a.createElement(j,{projectName:i,model:m.PodModel,mapper:h.getPodStatusGroups}),a.createElement(j,{projectName:i,model:m.PersistentVolumeClaimModel,mapper:h.getPVCStatusGroups}),a.createElement(j,{projectName:i,model:m.ServiceModel}),a.createElement(j,{projectName:i,model:m.RouteModel}),a.createElement(j,{projectName:i,model:m.ConfigMapModel}),b&&a.createElement(j,{projectName:i,model:m.SecretModel}),a.createElement(j,{projectName:i,model:m.VolumeSnapshotModel,mapper:h.getVSStatusGroups}),e.map(e=>a.createElement(j,{key:e.properties.model.kind,projectName:i,model:e.properties.model,mapper:e.properties.mapper,additionalResources:e.properties.additionalResources})),t.map(e=>a.createElement(j,{key:e.properties.model.kind,projectName:i,model:e.properties.model,mapper:e.properties.mapper,additionalDynamicResources:e.properties.additionalResources})),n.map(({uid:e,properties:{component:t}})=>a.createElement(_.a,{key:e},a.createElement(o.a,null,a.createElement(t,{projectName:i})))))))}},5859:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(0),s=n(367),r=n(16),i=n(31),o=n(192),c=n(434),l=n(295),u=n(1950),d=n(5670),p=n(10),m=n(69),b=n(13),h=n(5734),v=n(5658),f=n(15),g=n(7),E=n(14);const O=Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,projectName:s,viewEvents:r})=>(a.useEffect(()=>{if(s){const n=(e=>({isList:!0,kind:p.EventModel.kind,prop:"events",namespace:e}))(s);return e(n),()=>{t(n)}}},[e,t,s]),a.createElement(u.RecentEventsBody,{events:n.events,moreLink:r}))),y=Object(i.connect)(e=>({models:e.k8s.getIn(["RESOURCES","models"])}))(Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,projectName:i,models:o})=>{const c=Object(m.z)(m.k),[l]=Object(b.kc)(b.lb),d=a.useMemo(()=>[...c,...l].filter(e=>{const t=o.get(e.properties.k8sResource.kind);return t&&t.namespaced}),[c,l,o]);a.useEffect(()=>{if(i)return d.forEach((t,n)=>{e(Object(h.a)(Object.assign(Object.assign({},t.properties.k8sResource),{namespace:i}),n))}),()=>{d.forEach((e,n)=>{t(Object(h.a)(e.properties.k8sResource,n))})}},[e,t,i,d]);const p=a.useMemo(()=>s.a(d.map((e,t)=>r.a(n,[Object(h.a)(e.properties.k8sResource,t).prop,"data"],[]).filter(t=>!e.properties.isActivity||e.properties.isActivity(t)).map(t=>{var n,a,s,r;return{resource:t,timestamp:e.properties.getTimestamp?e.properties.getTimestamp(t):null,loader:null===(a=null===(n=e)||void 0===n?void 0:n.properties)||void 0===a?void 0:a.loader,component:null===(r=null===(s=e)||void 0===s?void 0:s.properties)||void 0===r?void 0:r.component}}))),[d,n]),v=a.useMemo(()=>d.every((e,t)=>r.a(n,[Object(h.a)(e.properties.k8sResource,t).prop,"loaded"])),[d,n]);return a.createElement(u.OngoingActivityBody,{loaded:i&&v&&0!==o.size,resourceActivities:p})})),k=()=>{const{obj:e}=a.useContext(v.a),t=Object(f.dd)(e),n=`/k8s/ns/${t}/events`,{t:s}=Object(g.useTranslation)();return a.createElement(o.a,{"data-test-id":"activity-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},a.createElement(c.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(E.Link,{to:n,"data-test":"view-events-link"},s("public~View events"))),hasNoOffset:!1,className:"co-overview-card__actions"}},a.createElement(l.a,null,s("public~Activity"))),a.createElement(u.default,{className:"co-project-dashboard__activity-body"},a.createElement(y,{projectName:t}),a.createElement(O,{projectName:t,viewEvents:n})))}},5860:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),s=n(461),r=n(7),i=n(192),o=n(434),c=n(295),l=n(296),u=n(5861),d=n(5863),p=n(5658);const m=()=>{const{namespaceLinks:e}=a.useContext(p.a),{t:t}=Object(r.useTranslation)();return a.createElement(i.a,{"data-test-id":"launcher-card"},a.createElement(o.a,null,a.createElement(c.a,null,t("public~Launcher"))),a.createElement(l.a,null,a.createElement(u.a,null,s.a(e,"spec.text").map(e=>a.createElement(d.a,{key:e.metadata.uid,consoleLink:e})))))}},5861:function(e,t,n){"use strict";var a=n(0);n(5862);t.a=({children:e})=>a.createElement("div",{className:"co-launcher-card__body"},e)},5862:function(e,t,n){},5863:function(e,t,n){"use strict";var a=n(0),s=n(173);t.a=({consoleLink:e})=>a.createElement(s.a,{additionalClassName:"co-launcher-card__item",href:e.spec.href,text:e.spec.text,dataTestID:"launcher-item"})},5864:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),s=n(7),r=n(192),i=n(434),o=n(295),c=n(296),l=n(967),u=n(406),d=n(976),p=n(5865),m=n(5867),b=n(5870),h=n(10),v=n(5658);const f=()=>{const{obj:e}=a.useContext(v.a),[t,n,f]=Object(d.xb)({groupVersionKind:{kind:h.ResourceQuotaModel.kind,version:h.ResourceQuotaModel.apiVersion},namespace:e.metadata.name,isList:!0}),[g,E,O]=Object(d.xb)({groupVersionKind:{kind:h.AppliedClusterResourceQuotaModel.kind,version:h.AppliedClusterResourceQuotaModel.apiVersion,group:h.AppliedClusterResourceQuotaModel.apiGroup},namespace:e.metadata.name,isList:!0}),{t:y}=Object(s.useTranslation)();return a.createElement(r.a,{"data-test-id":"resource-quotas-card"},a.createElement(i.a,null,a.createElement(o.a,null,y("public~ResourceQuotas"))),a.createElement(c.a,null,a.createElement(p.a,{error:!!f,isLoading:!n},t.length?a.createElement(l.a,{hasGutter:!0},t.map(e=>a.createElement(u.a,{key:e.metadata.uid},a.createElement(m.a,{resourceQuota:e})))):void 0)),a.createElement(i.a,null,a.createElement(o.a,null,y("public~AppliedClusterResourceQuotas"))),a.createElement(c.a,null,a.createElement(p.a,{error:!!O,isLoading:!E,noText:y("public~No AppliedClusterResourceQuotas")},g.length?a.createElement(l.a,{hasGutter:!0},g.map(t=>a.createElement(u.a,{key:t.metadata.uid},a.createElement(b.a,{resourceQuota:t,namespace:e.metadata.name})))):void 0)))}},5865:function(e,t,n){"use strict";var a=n(0),s=n(7);n(5866);t.a=({error:e,isLoading:t,noText:n,children:r})=>{let i;const{t:o}=Object(s.useTranslation)();return e?i=a.createElement("div",{className:"text-secondary"},o("console-shared~Not available")):t?i=a.createElement("div",{className:"skeleton-quota"}):a.Children.count(r)||(i=a.createElement("div",{className:"text-secondary"},n||o("console-shared~No ResourceQuotas"))),a.createElement(a.Fragment,null,i||r)}},5866:function(e,t,n){},5867:function(e,t,n){"use strict";var a=n(0),s=n(516),r=n(164),i=n(1921),o=n(5746),c=n(1407),l=n(99),u=n(10),d=n(5749);t.a=({resourceQuota:e})=>{var t,n,p,m,b;const h=Object.keys(null!==(n=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==n?n:{}),[v,f]=a.useState(h.length<=4),g=null===(p=e.spec)||void 0===p?void 0:p.scopes;return a.createElement(a.Fragment,null,a.createElement(s.a,{hasGutter:!0},a.createElement(r.a,{isFilled:!0},a.createElement(i.a,{onToggle:(e,t)=>f(t),isExpanded:v,toggleContent:a.createElement(l.ResourceLink,{groupVersionKind:{kind:u.ResourceQuotaModel.kind,version:u.ResourceQuotaModel.apiVersion},name:e.metadata.name,namespace:e.metadata.namespace,inline:!0,truncate:!0,dataTest:"resource-quota-link"})})),a.createElement(r.a,null,a.createElement(d.a,{hard:null===(m=e.status)||void 0===m?void 0:m.hard,used:null===(b=e.status)||void 0===b?void 0:b.used}))),v&&a.createElement(a.Fragment,null,g&&a.createElement(c.QuotaScopesInline,{scopes:g}),a.createElement(o.a,{resourceQuota:e})))}},5868:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(5748),i=n(5674);n(5712);t.a=({clusterResourceQuota:e})=>{var t,n,o;const{t:c}=Object(s.useTranslation)(),l=Object.keys(null!==(o=null===(n=null===(t=e.status)||void 0===t?void 0:t.total)||void 0===n?void 0:n.hard)&&void 0!==o?o:{}).map(t=>{var n;const s=e.status.total.hard[t],o=null===(n=e.status.total.used)||void 0===n?void 0:n[t],{label:c,percent:l}=Object(i.a)({resourceName:t,used:o,hard:s});return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.a,{data:[{x:"Used",y:l},{x:"Unused",y:100-l}],title:t,label:c}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},l.length?l:a.createElement(a.Fragment,null,c("console-app~No quota")))}},5869:function(e,t,n){},5870:function(e,t,n){"use strict";var a=n(0),s=n(516),r=n(164),i=n(1921),o=n(5747),c=n(1407),l=n(99),u=n(10),d=n(5749);t.a=({resourceQuota:e,namespace:t})=>{var n,p,m,b,h,v,f,g,E;const O=Object.keys(null!==(m=null===(p=null===(n=e.status)||void 0===n?void 0:n.total)||void 0===p?void 0:p.hard)&&void 0!==m?m:{}),[y,k]=a.useState(O.length<=4),_=null===(h=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.quota)||void 0===h?void 0:h.scopes;return a.createElement(a.Fragment,null,a.createElement(s.a,{hasGutter:!0},a.createElement(r.a,{isFilled:!0},a.createElement(i.a,{onToggle:(e,t)=>k(t),isExpanded:y,toggleContent:a.createElement(l.ResourceLink,{groupVersionKind:{kind:u.AppliedClusterResourceQuotaModel.kind,version:u.AppliedClusterResourceQuotaModel.apiVersion,group:u.AppliedClusterResourceQuotaModel.apiGroup},name:e.metadata.name,namespace:t,inline:!0,truncate:!0})})),a.createElement(r.a,null,a.createElement(d.a,{hard:null===(f=null===(v=e.status)||void 0===v?void 0:v.total)||void 0===f?void 0:f.hard,used:null===(E=null===(g=e.status)||void 0===g?void 0:g.total)||void 0===E?void 0:E.used}))),y&&a.createElement(a.Fragment,null,_&&a.createElement(c.QuotaScopesInline,{scopes:_}),a.createElement(o.a,{appliedClusterResourceQuota:e,namespace:t})))}},5871:function(e,t,n){},5915:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(1273),s=n(279),r=n(117),i=n(8);const o=e=>a.a(e,e=>Number(e.status===i.d.True)),c=e=>`${o(e)} OK / ${s.a(e)}`,l=e=>({OKcount:o(e),conditionsSize:s.a(e)}),u=(e,t)=>r.a(e,e=>e.type===t)},5916:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(76);const s=e=>{switch(e){case a.p.kind:case"EventSource":return"";case a.n.kind:return"revisions";case a.o.kind:return"routes";case a.f.kind:return"brokers";case a.i.kind:return"triggers";case a.h.kind:return"subscriptions";case"Channel":return"channels";default:return null}}},5934:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(116),r=n(313),i=n(108),o=n(10),c=n(8),l=n(15);const u=(e,t)=>{const[n,u]=a.useState(!1),[d,p]=a.useState(""),[m,b]=a.useState([]),h=Object(l.De)(Array.isArray(e)?e:[e]),v=a.useMemo(()=>({deployments:{isList:!0,kind:"Deployment",namespace:t},replicaSets:{isList:!0,kind:"ReplicaSet",namespace:t},pods:{isList:!0,kind:"Pod",namespace:t}}),[t]),f=Object(i.b)(v),g=a.useCallback(e=>{var t;const n=Object.keys(e).find(t=>e[t].loadError);if(n)p(null===(t=e[n].loadError)||void 0===t?void 0:t.message);else if(Object.keys(e).length>0&&Object.keys(e).every(t=>e[t].loaded)){const t=h.reduce((t,n)=>{var a;const i=s.a(null===(a=null==e?void 0:e.deployments)||void 0===a?void 0:a.data,({metadata:{ownerReferences:e}})=>r.a(e,{uid:n,controller:!0}));if(null==i?void 0:i[0]){const n=Object.assign(Object.assign({},i[0]),{apiVersion:Object(c.n)(o.DeploymentModel),kind:o.DeploymentModel.kind});t.push(...Object(l.xd)(n,e))}return t},[]);u(!0),p(null),b(t)}},[h]),E=Object(l.Ce)(g,250);return a.useEffect(()=>{E(f)},[E,f]),Object(l.De)({loaded:n,loadError:d,pods:m})}},5960:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(13);const s=()=>{if(window.SERVER_FLAGS.addPage){const e=JSON.parse(window.SERVER_FLAGS.addPage),{disabledActions:t}=e;return t}},r=()=>{const[e,t]=Object(a.kc)(a.O),n=s(),r=(null==n?void 0:n.length)===(null==e?void 0:e.length);if(e&&n&&n.length>0){return[e.filter(e=>!n.includes(e.properties.id)),t,r]}return[e,t,r]}},6166:function(e,t,n){"use strict";var a=n(0),s=n(40),r=n(8),i=n(76),o=n(6591);t.a=e=>{const{customData:t}=e;return a.createElement(s.c,Object.assign({},e,{canCreate:!1,kind:Object(r.Hb)(i.n),ListComponent:o.a,selector:(null==t?void 0:t.selectResourcesForName)?{matchLabels:{"serving.knative.dev/service":t.selectResourcesForName}}:null}))}},6167:function(e,t,n){"use strict";var a=n(0),s=n(6139),r=n(5);t.a=({urls:e=[],title:t})=>e.length>0&&a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"text-muted"},t,": "),e.map(e=>(null==e?void 0:e.endsWith("svc.cluster.local"))?a.createElement(s.a,{isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied"},e):a.createElement(r.A,{key:e,link:e,text:e,additionalClassName:"co-external-link--block"})))},6168:function(e,t,n){"use strict";var a=n(0),s=n(40),r=n(8),i=n(76),o=n(6595);t.a=e=>{const{customData:t}=e;return a.createElement(s.c,Object.assign({},e,{canCreate:!1,kind:Object(r.Hb)(i.o),ListComponent:o.a,selector:(null==t?void 0:t.selectResourcesForName)?{matchLabels:{"serving.knative.dev/service":t.selectResourcesForName}}:null}))}},6232:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["","","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-2xl",n(5).F.columnClass]},6233:function(e,t,n){"use strict";var a=n(0),s=n(14),r=n(13),i=n(872),o=n(40),c=n(5),l=n(8),u=n(15),d=n(5916);t.a=e=>{const t=Object(s.useLocation)(),n=Object(s.useParams)(),{kindObj:p}=e,m="admin"===Object(r.jc)()[0],b=[c.mc.details(i.d),c.mc.editYaml()],h=Object(u.bf)(p,t,n,"serving",Object(d.a)(p.kind),void 0,m);return a.createElement(o.a,Object.assign({},e,{breadcrumbsFor:()=>h,pages:b,customActionMenu:(e,t)=>{const n={[Object(l.Hb)(e)]:t};return a.createElement(u.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(u.h,{actions:e,options:t,variant:u.i.DROPDOWN}))}}))}},6234:function(e,t,n){"use strict";var a=n(0),s=n(6139),r=n(7),i=n(14),o=n(13),c=n(972),l=n(40),u=n(5),d=n(8),p=n(15),m=n(132),b=n(5916);const h=({obj:e})=>{var t,n,i,o,l,d;const{t:p}=Object(r.useTranslation)(),b="cluster-local"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[m.Y]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:p("knative-plugin~Route details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(u.lb,{resource:e})),a.createElement("div",{className:"col-sm-6"},a.createElement("dl",null,a.createElement(u.r,{label:p("knative-plugin~Location"),obj:e,path:"status.url",hideEmpty:!0},b?a.createElement(s.a,{isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied"},null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.url):a.createElement(u.A,{link:null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.url,text:null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.url,additionalClassName:"co-external-link--block"})))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:p("knative-plugin~Conditions")}),a.createElement(c.b,{conditions:null===(d=null==e?void 0:e.status)||void 0===d?void 0:d.conditions})))};t.a=e=>{const{kindObj:t}=e,n=Object(i.useParams)(),s=Object(i.useLocation)(),r="admin"===Object(o.jc)()[0],c=[u.mc.details(Object(u.Kb)(h)),u.mc.editYaml()],m=Object(p.bf)(t,s,n,"serving",Object(b.a)(t.kind),void 0,r);return a.createElement(l.a,Object.assign({},e,{breadcrumbsFor:()=>m,pages:c,customActionMenu:(e,t)=>{const n={[Object(d.Hb)(e)]:t};return a.createElement(p.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(p.h,{actions:e,options:t,variant:p.i.DROPDOWN}))}}))}},6235:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["","","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-2xl",n(5).F.columnClass]},6336:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),s=n(2230);const r=a.createContext(s.g.Service)},6337:function(e,t,n){"use strict";var a=n(0),s=n(19),r=n(7146),i=n(117),o=n(461),c=n(4434),l=n(22),u=n(50),d=n(7),p=n(14),m=n(5),b=n(8),h=n(76),v=n(2267),f=n(6338);n(6340);t.a=({revisions:e,service:t,hideSectionHeading:n})=>{var g,E,O;const{t:y}=Object(d.useTranslation)(),k=Object(m.Dc)({group:h.p.apiGroup,resource:h.p.plural,namespace:t.metadata.namespace,verb:"update"}),_=null===(g=t.metadata)||void 0===g?void 0:g.namespace,j=null===(E=t.status)||void 0===E?void 0:E.traffic,R=null===(O=t.metadata)||void 0===O?void 0:O.name,T=a.useMemo(()=>{if(!e||!e.length)return[];const[t,n]=r.a(e,e=>{var t;return!!j&&i.a(j,{revisionName:null===(t=e.metadata)||void 0===t?void 0:t.name})}).map(e=>o.a(e,["metadata.creationTimestamp"]));return t.length<3?c.a(t,n.slice(0,3-t.length)):t},[e,j]);return a.createElement(a.Fragment,null,!n&&a.createElement(m.ub,{text:y("knative-plugin~Revisions"),className:"revision-overview-list"},(null==e?void 0:e.length)>3&&a.createElement(p.Link,{className:"sidebar__section-view-all",to:(()=>{const e="/search/ns/"+_,t="serving.knative.dev/service="+R,n=new URLSearchParams;return n.append("kind",Object(b.Hb)(h.n)),n.append("q",t),`${e}?${n.toString()}`})()},y("knative-plugin~View all ({{revLength}})",{revLength:e.length})),k&&a.createElement(s.a,{variant:"secondary",onClick:()=>Object(v.e)({obj:t}),isDisabled:!(e&&e.length)},y("knative-plugin~Set traffic distribution"))),l.a(e)?a.createElement("span",{className:"text-muted"},y("knative-plugin~No Revisions found for this resource.")):a.createElement("ul",{className:"list-group"},u.a(T,e=>a.createElement(f.a,{key:e.metadata.uid,revision:e,service:t}))))}},6338:function(e,t,n){"use strict";var a=n(0),s=n(270),r=n(5),i=n(8),o=n(15),c=n(76),l=n(1412),u=n(5934),d=n(6167);n(6339);t.a=({revision:e,service:t})=>{var n,p,m,b;const{metadata:{name:h,namespace:v}}=e,{pods:f}=Object(u.a)(e.metadata.uid,v),g=null==f?void 0:f[0],E=(null===(p=null===(n=null==g?void 0:g.obj)||void 0===n?void 0:n.metadata.ownerReferences)||void 0===p?void 0:p[0])||{},O=(null===(b=null===(m=null==g?void 0:g.obj)||void 0===m?void 0:m.status)||void 0===b?void 0:b.availableReplicas)||"0",{urls:y=[],percent:k}=Object(l.j)(h,t);return a.createElement("li",{className:"list-group-item"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-8 col-xs-9"},a.createElement(r.hb,{kind:Object(i.Hb)(c.n),name:h,namespace:v})),k&&a.createElement("span",{className:"col-sm-4 col-xs-3 pf-v5-u-text-align-right"},k)),E.name&&a.createElement("div",{className:"odc-revision-deployment-list"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-8 col-xs-9"},a.createElement(r.hb,{kind:E.kind,name:E.name,namespace:v})),a.createElement("div",{className:"col-sm-4 col-xs-3"},a.createElement("div",{className:"odc-revision-deployment-list__pod"},a.createElement(o.Bb,{standalone:!0,data:g?g.pods:[],size:25,innerRadius:8,outerRadius:12,title:O,titleComponent:a.createElement(s.a,{style:{fontSize:"10px"}}),showTooltip:!1})))),y.length>0&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement(d.a,{urls:y})))))}},6339:function(e,t,n){},6340:function(e,t,n){},6424:function(e,t,n){"use strict";var a=n(0),s=n(137),r=n(7),i=n(40),o=n(8),c=n(76),l=n(5702),u=n(2230),d=n(7424);t.a=e=>{const{t:t}=Object(r.useTranslation)(),n=[{type:"type",filterGroupName:t("knative-plugin~Type"),items:[{id:u.g.Function,title:t("knative-plugin~Functions")},{id:u.g.Service,title:t("knative-plugin~Non-functions")}],reducer:e=>Object(l.n)(e)?u.g.Function:u.g.Service,filter:(e,t)=>{var n;const a=Object(l.n)(t)?u.g.Function:u.g.Service;return!(null===(n=null==e?void 0:e.selected)||void 0===n?void 0:n.length)||(null==e?void 0:e.selected.includes(a))}}];return a.createElement(a.Fragment,null,a.createElement(s.b,null,a.createElement("title",null,t("knative-plugin~Services"))),a.createElement(i.c,Object.assign({canCreate:!0},e,{kind:Object(o.Hb)(c.p),ListComponent:d.a,rowFilters:n})))}},6425:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(18),s=n(5);const r=["","",a("pf-m-hidden","pf-m-visible-on-sm"),a("pf-m-hidden","pf-m-visible-on-xl"),a("pf-m-hidden","pf-m-visible-on-xl"),a("pf-m-hidden","pf-m-visible-on-2xl"),a("pf-m-hidden","pf-m-visible-on-lg"),a("pf-m-hidden","pf-m-visible-on-lg"),s.F.columnClass]},6591:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(40),i=n(6592),o=n(6593);t.a=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(r.j,Object.assign({},e,{"aria-label":t("knative-plugin~Revisions"),Header:Object(i.a)(t),Row:o.a,virtualize:!0}))}},6592:function(e,t,n){"use strict";var a=n(54),s=n(6232);t.a=e=>()=>[{title:e("knative-plugin~Name"),sortField:"metadata.name",transforms:[a.a],props:{className:s.a[0]}},{id:"namespace",title:e("knative-plugin~Namespace"),sortField:"metadata.namespace",transforms:[a.a],props:{className:s.a[1]}},{title:e("knative-plugin~Service"),sortField:'metadata.labels["serving.knative.dev/service"]',transforms:[a.a],props:{className:s.a[2]}},{title:e("knative-plugin~Created"),sortField:"metadata.creationTimestamp",transforms:[a.a],props:{className:s.a[3]}},{title:e("knative-plugin~Conditions"),props:{className:s.a[4]}},{title:e("knative-plugin~Ready"),props:{className:s.a[5]}},{title:e("knative-plugin~Reason"),props:{className:s.a[6]}},{title:"",props:{className:s.a[7]}}]},6593:function(e,t,n){"use strict";var a=n(0),s=n(18),r=n(16),i=n(40),o=n(5),c=n(8),l=n(15),u=n(76),d=n(2230),p=n(5915),m=n(6232);const b=Object(c.Hb)(u.n),h=Object(c.Hb)(u.p);t.a=({obj:e})=>{const t=e.status?Object(p.a)(e.status.conditions,d.c.Ready):null,n=r.a(e.metadata,'labels["serving.knative.dev/service"]'),u={[Object(c.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(i.k,{className:m.a[0]},a.createElement(o.hb,{kind:b,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(i.k,{className:s(m.a[1],"co-break-word"),columnID:"namespace"},a.createElement(o.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(i.k,{className:s(m.a[2],"co-break-word")},n&&a.createElement(o.hb,{kind:h,name:n,namespace:e.metadata.namespace,title:n})),a.createElement(i.k,{className:m.a[3]},a.createElement(o.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(i.k,{className:m.a[4]},e.status?Object(p.d)(e.status.conditions):"-"),a.createElement(i.k,{className:m.a[5]},t&&t.status||"-"),a.createElement(i.k,{className:m.a[6]},(null==t?void 0:t.message)&&a.createElement(l.B,{lineClamp:5},null==t?void 0:t.message)||"-"),a.createElement(i.k,{className:m.a[7]},a.createElement(l.hb,{context:u})))}},6594:function(e,t,n){"use strict";var a=n(0),s=n(70),r=n(7),i=n(14),o=n(13),c=n(972),l=n(40),u=n(1410),d=n(5),p=n(108),m=n(8),b=n(15),h=n(76),v=n(5702),f=n(2230),g=n(5916),E=n(6336),O=n(6337),y=n(4390),k=n(4391);const _=({obj:e})=>{var t,n;const{t:i}=Object(r.useTranslation)(),[o,l,u]=Object(p.a)({kind:Object(m.Hb)(h.n),namespace:e.metadata.namespace,isList:!0,selector:{matchLabels:{"serving.knative.dev/service":e.metadata.name}}});return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(d.ob,{text:i("knative-plugin~Details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(d.lb,{resource:e,podSelector:"spec.podSelector",showNodeSelector:!1})),a.createElement("div",{className:"col-md-6"},a.createElement("dl",null,Object(v.n)(e)&&a.createElement(d.r,{label:i("knative-plugin~Type"),obj:e},i("knative-plugin~Function")),(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.url)&&a.createElement(d.r,{label:i("knative-plugin~URL"),obj:e,path:"status.url"},a.createElement(d.z,{href:e.status.url,additionalClassName:"co-external-link--block",text:e.status.url})),o&&l&&!u&&a.createElement(d.r,{label:i("knative-plugin~Revisions"),obj:e,path:"status.traffic"},a.createElement(O.a,{revisions:o,service:e,hideSectionHeading:!0})))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(d.ob,{text:i("knative-plugin~Containers")}),a.createElement(d.k,{containers:e.spec.template.spec.containers})),s.a(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.conditions)&&a.createElement("div",{className:"co-m-pane__body"},a.createElement(d.ob,{text:i("knative-plugin~Conditions")}),a.createElement(c.b,{conditions:e.status.conditions})))},j=({obj:e})=>a.createElement(u.PodsPage,{showTitle:!1,selector:{matchLabels:{"serving.knative.dev/service":e.metadata.name}},showNamespaceOverride:!0,canCreate:!1,namespace:e.metadata.namespace});t.a=e=>{const{t:t}=Object(r.useTranslation)(),n=a.useContext(E.a),{kindObj:s}=e,c=Object(i.useParams)(),u=Object(i.useLocation)(),p="admin"===Object(o.jc)()[0],v=[d.mc.details(_),d.mc.editYaml(),{href:h.n.plural,nameKey:"knative-plugin~Revisions",component:y.RevisionsPage,pageData:{kind:Object(m.Hb)(h.n),namespace:c.ns,showTitle:!1,name:""}},{href:h.o.plural,nameKey:"knative-plugin~Routes",component:k.RoutesPage,pageData:{kind:Object(m.Hb)(h.o),namespace:c.ns,showTitle:!1,name:""}},d.mc.pods(j)],O=Object(b.bf)(s,u,c,n===f.g.Function?"functions":"serving",Object(g.a)(s.kind),n===f.g.Function?t("knative-plugin~Functions"):void 0,n===f.g.Function||p,n===f.g.Function?t("knative-plugin~Function"):void 0);return a.createElement(l.a,Object.assign({},e,{breadcrumbsFor:()=>O,pages:v,customActionMenu:(e,t)=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(b.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(b.h,{actions:e,options:t,variant:b.i.DROPDOWN}))},customData:{selectResourcesForName:c.name}}))}},6595:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(40),i=n(6596),o=n(6597);t.a=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(r.j,Object.assign({},e,{"aria-label":t("knative-plugin~Routes"),Header:Object(i.a)(t),Row:o.a,virtualize:!0}))}},6596:function(e,t,n){"use strict";var a=n(54),s=n(6235);t.a=e=>()=>[{title:e("knative-plugin~Name"),sortField:"metadata.name",transforms:[a.a],props:{className:s.a[0]}},{id:"namespace",title:e("knative-plugin~Namespace"),sortField:"metadata.namespace",transforms:[a.a],props:{className:s.a[1]}},{title:e("knative-plugin~URL"),sortField:"status.url",transforms:[a.a],props:{className:s.a[2]}},{title:e("knative-plugin~Created"),sortField:"metadata.creationTimestamp",transforms:[a.a],props:{className:s.a[3]}},{title:e("knative-plugin~Conditions"),props:{className:s.a[4]}},{title:e("knative-plugin~Traffic"),props:{className:s.a[5]}},{title:"",props:{className:s.a[6]}}]},6597:function(e,t,n){"use strict";var a=n(0),s=n(18),r=n(40),i=n(5),o=n(8),c=n(15),l=n(76),u=n(5915),d=n(6235);const p=Object(o.Hb)(l.o),m=Object(o.Hb)(l.n);t.a=({obj:e})=>{const t={[Object(o.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(r.k,{className:d.a[0]},a.createElement(i.hb,{kind:p,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(r.k,{className:s(d.a[1],"co-break-word"),columnID:"namespace"},a.createElement(i.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(r.k,{className:d.a[2]},e.status&&e.status.url&&a.createElement(i.A,{link:e.status.url,text:e.status.url,additionalClassName:"co-external-link--block"})||"-"),a.createElement(r.k,{className:d.a[3]},a.createElement(i.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(r.k,{className:d.a[4]},e.status?Object(u.d)(e.status.conditions):"-"),a.createElement(r.k,{className:d.a[5]},e.status&&e.status.traffic?e.status.traffic.map((t,n)=>a.createElement(a.Fragment,{key:t.revisionName},n>0?", ":"",t.percent+"% → ",a.createElement(i.hb,{namespace:e.metadata.namespace,kind:m,name:t.revisionName,inline:!0,hideIcon:!0}))):"-"),a.createElement(r.k,{className:d.a[6]},a.createElement(c.hb,{context:t})))}},6832:function(e,t,n){"use strict";var a=n(54),s=n(6425);t.a=e=>()=>[{title:e("knative-plugin~Name"),sortField:"metadata.name",transforms:[a.a],props:{className:s.a[0]}},{id:"namespace",title:e("knative-plugin~Namespace"),sortField:"metadata.namespace",transforms:[a.a],props:{className:s.a[1]}},{title:e("knative-plugin~URL"),sortField:"status.url",transforms:[a.a],props:{className:s.a[2]}},{title:e("knative-plugin~Conditions"),props:{className:s.a[3]}},{title:e("knative-plugin~Ready"),props:{className:s.a[4]}},{title:e("knative-plugin~Reason"),props:{className:s.a[5]}},{title:e("knative-plugin~Revision"),sortField:"metadata.generation",transforms:[a.a],props:{className:s.a[6]}},{title:e("knative-plugin~Created"),sortField:"metadata.creationTimestamp",transforms:[a.a],props:{className:s.a[7]}},{title:"",props:{className:s.a[8]}}]},6833:function(e,t,n){"use strict";var a=n(0),s=n(279),r=n(15),i=n(5915);t.a=({conditions:e})=>{const t=Object(i.b)(e),n=s.a(e)-t;return a.createElement("div",null,a.createElement("span",null," ",a.createElement(r.X,null)," ",t,"  |  ",a.createElement(r.Mb,null)," ",n))}},7424:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(40),i=n(6832),o=n(7425);t.a=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(r.j,Object.assign({},e,{"aria-label":t("knative-plugin~Services"),Header:Object(i.a)(t),Row:o.a,virtualize:!0}))}},7425:function(e,t,n){"use strict";var a=n(0),s=n(18),r=n(40),i=n(5),o=n(8),c=n(15),l=n(76),u=n(2230),d=n(5915),p=n(6833),m=n(6425);const b=Object(o.Hb)(l.p);t.a=({obj:e})=>{const t=e.status?Object(d.a)(e.status.conditions,u.c.Ready):null,n={[Object(o.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(r.k,{className:m.a[0]},a.createElement(i.hb,{kind:b,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(r.k,{className:s(m.a[1],"co-break-word"),columnID:"namespace"},a.createElement(i.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(r.k,{className:s(m.a[2],"co-break-word")},e.status&&e.status.url&&a.createElement(i.z,{href:e.status.url,additionalClassName:"co-external-link--block",text:e.status.url})||"-"),a.createElement(r.k,{className:m.a[3]},e.status?a.createElement(p.a,{conditions:e.status.conditions}):"-"),a.createElement(r.k,{className:m.a[4]},t&&t.status||"-"),a.createElement(r.k,{className:m.a[5]},(null==t?void 0:t.message)&&a.createElement(c.B,{lineClamp:5},null==t?void 0:t.message)||"-"),a.createElement(r.k,{className:m.a[6]},e.metadata.generation||"-"),a.createElement(r.k,{className:m.a[7]},a.createElement(i.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(r.k,{className:m.a[8]},a.createElement(c.hb,{context:n})))}},8173:function(e,t,n){"use strict";var a=n(0),s=n(14),r=n(988),i=n(872),o=n(40),c=n(5),l=n(8),u=n(76);const d=Object(l.Hb)(u.m);t.a=e=>{const t=[c.mc.details(i.d),c.mc.editYaml()],n=Object(s.useLocation)();return a.createElement(o.a,Object.assign({},e,{kind:d,pages:t,breadcrumbsFor:()=>Object(r.b)(u.m.label,n.pathname)}))}},8174:function(e,t,n){"use strict";var a=n(0),s=n(7),r=n(14),i=n(1946),o=n(8),c=n(15),l=n(76),u=n(6166),d=n(6168),p=n(6424);t.a=()=>{const{t:e}=Object(s.useTranslation)(),{ns:t}=Object(r.useParams)(),[n,m]=[!1,!1],b={service:{label:e("knative-plugin~Service"),model:l.p}},h=[{href:"",nameKey:"knative-plugin~Services",component:p.a,pageData:{kind:Object(o.Hb)(l.p),canCreate:m,namespace:t,showTitle:n}},{href:l.n.plural,nameKey:"knative-plugin~Revisions",component:u.a,pageData:{kind:Object(o.Hb)(l.n),canCreate:m,namespace:t,showTitle:n}},{href:l.o.plural,nameKey:"knative-plugin~Routes",component:d.a,pageData:{kind:Object(o.Hb)(l.o),canCreate:m,namespace:t,showTitle:n}}];return a.createElement(a.Fragment,null,a.createElement(i.NamespaceBar,null),a.createElement(c.ob,{pages:h,title:e("knative-plugin~Serving"),menuActions:b,telemetryPrefix:"Serving"}))}},8175:function(e,t,n){"use strict";var a=n(0),s=n(137),r=n(7),i=n(14),o=n(5695),c=n(5805),l=n(40),u=n(978),d=n(5),p=n(8),m=n(76),b=n(2230),h=n(8176),v=n(9375),f=n(9377),g=n(6336);n(8177);const E=Object(u.b)(e=>{const{t:t}=Object(r.useTranslation)();return Object(i.useParams)().ns?a.createElement(g.a.Provider,{value:b.g.Function},a.createElement(s.b,null,a.createElement("title",null,t("knative-plugin~Functions"))),a.createElement("div",{className:"odc-functions-list-page__heading"},a.createElement(d.Z,{title:t("knative-plugin~Functions")}),a.createElement("div",{className:"co-m-nav-title"},a.createElement(h.a,null))),a.createElement(f.a,null),a.createElement(l.c,Object.assign({showTitle:!1},e,{kind:Object(p.Hb)(m.p),ListComponent:v.a,selector:{matchLabels:{"function.knative.dev":"true"}}}))):a.createElement(c.b,{title:t("knative-plugin~Functions")},e=>a.createElement(r.Trans,{t:t,ns:"knative-plugin"},"Select a Project to view its details",a.createElement(c.a,{openProjectModal:e}),"."))});t.a=e=>a.createElement(o.b,{variant:o.a.light,hideApplications:!0},a.createElement(E,Object.assign({},e)))},8176:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n(7),r=n(5),i=n(15);const o=()=>{const{t:e}=Object(s.useTranslation)(),[t]=Object(i.ue)(),n={importfromGit:{label:e("knative-plugin~Import from Git"),onSelection:()=>"/serverless-function/ns/"+t},functionsUsingSamples:{label:e("knative-plugin~Samples"),onSelection:()=>`/samples/ns/${t}?sampleType=Serverless function`}},o=n?Object.keys(n).reduce((e,t)=>{const a=n[t],{label:s}=a;return s?Object.assign(Object.assign({},e),{[t]:s}):e},{}):void 0;return a.createElement(r.t,{buttonClassName:"pf-m-primary",menuClassName:"pf-m-align-right-on-md",title:e("knative-plugin~Create function"),noSelection:!0,items:o,onChange:e=>{const t=n[e];let a;t.onSelection&&(a=t.onSelection(e,t,a)),a&&r.Vb.push(a)},className:""})}},8177:function(e,t,n){},8178:function(e,t,n){"use strict";var a=n(0),s=n(14),r=n(5695),i=n(5),o=n(8),c=n(15),l=n(76),u=n(2230),d=n(4405),p=n(6336);t.a=()=>{const e=Object(s.useParams)();return a.createElement(p.a.Provider,{value:u.g.Function},a.createElement(r.b,{variant:r.a.light,hideApplications:!0,onNamespaceChange:e=>{e===c.c?i.Vb.push("/functions/all-namespaces"):i.Vb.push("/functions/ns/:ns")}},a.createElement(d.ServiceDetailsPage,{kind:Object(o.Hb)(l.p),kindObj:l.p,name:e.name,namespace:e.ns})))}},9375:function(e,t,n){"use strict";var a=n(0),s=n(156),r=n(564),i=n(242),o=n(7),c=n(1401),l=n(40),u=n(6832),d=n(8176),p=n(9376);n(8177);const m=()=>a.createElement("img",{className:"odc-functions__empty-list__image",src:Object(c.d)("icon-serverless-function"),alt:""});t.a=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(l.j,Object.assign({},e,{"aria-label":t("knative-plugin~Functions"),Header:Object(u.a)(t),Row:p.a,virtualize:!0,EmptyMsg:()=>a.createElement(s.a,{variant:s.b.sm},a.createElement(r.a,{icon:m,className:"odc-functions__empty-list__icon"}),a.createElement(i.a,{"data-test":"empty-state-title",headingLevel:"h3"},t("knative-plugin~No functions found")),a.createElement("span",null,t("knative-plugin~Serverless functions are single-purpose, programmatic functions that are hosted on managed infrastructure.")),a.createElement("div",{className:"odc-functions__empty-list__dropdown"},a.createElement(d.a,null)))}))}},9376:function(e,t,n){"use strict";var a=n(0),s=n(18),r=n(764),i=n(40),o=n(5),c=n(8),l=n(15),u=n(76),d=n(2230),p=n(5915),m=n(6425),b=n(6833);const h=Object(c.Hb)(u.p);t.a=({obj:e})=>{const t=e.status?Object(p.a)(e.status.conditions,d.c.Ready):null,n={[Object(c.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(i.k,{className:m.a[0]},a.createElement(o.fb,{kind:h}),a.createElement(r.Link,{to:`/functions/ns/${e.metadata.namespace}/${e.metadata.name}`,title:e.metadata.name,className:"co-resource-item__resource-name"},e.metadata.name)),a.createElement(i.k,{className:s(m.a[1],"co-break-word"),columnID:"namespace"},a.createElement(o.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(i.k,{className:s(m.a[2],"co-break-word")},e.status&&e.status.url&&a.createElement(o.z,{href:e.status.url,additionalClassName:"co-external-link--block",text:e.status.url})||"-"),a.createElement(i.k,{className:m.a[3]},e.status?a.createElement(b.a,{conditions:e.status.conditions}):"-"),a.createElement(i.k,{className:m.a[4]},t&&t.status||"-"),a.createElement(i.k,{className:m.a[5]},(null==t?void 0:t.message)&&a.createElement(l.B,{lineClamp:5},null==t?void 0:t.message)||"-"),a.createElement(i.k,{className:m.a[6]},e.metadata.generation||"-"),a.createElement(i.k,{className:m.a[7]},a.createElement(o.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(i.k,{className:m.a[8]},a.createElement(l.hb,{context:n})))}},9377:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),s=n(1921),r=n(192),i=n(296),o=n(7),c=n(15),l=n(132),u=n(9378),d=n(9379),p=n(9380);n(9381);const m=()=>{const{t:e}=Object(o.useTranslation)(),[t,n]=Object(c.ef)(l.M,!0);return a.createElement("div",{className:"odc-functions-getting-started-section"},a.createElement(s.a,{toggleText:e("knative-plugin~Get started with functions"),onToggle:()=>n(!t),isExpanded:t,displaySize:"lg"},a.createElement(r.a,{className:"odc-functions-getting-started-grid","data-test":"getting-started"},a.createElement("span",{style:{marginLeft:"16px"}},e("knative-plugin~Choose how to create a function from below methods")),a.createElement(i.a,{className:"odc-functions-getting-started-grid__content"},a.createElement(p.a,null),a.createElement(d.a,{featured:["serverless-functions-using-cli","serverless-functions-using-ide"],title:e("knative-plugin~Create function with guided documentation"),description:e("knative-plugin~Follow guided documentation to create serverless functions.")}),a.createElement(u.a,null)))))}},9378:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n(6785),r=n(7),i=n(1420);const o=()=>{const{t:e}=Object(r.useTranslation)(),t=[];return t.push({id:"learn-more-about-functions-link",title:e("knative-plugin~Learn more about Serverless Functions"),href:"https://www.youtube.com/watch?v=lNeieapAhnc",external:!0},{id:"learn-more-about-containers-link",title:e("knative-plugin~Learn more about Serverless Containers"),href:"https://www.youtube.com/watch?v=oKIHoDzw1RI",external:!0},{id:"event-driven-apps-link",title:e("knative-plugin~Explore how to create Event Driven Apps using OpenShift Serverless"),href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/",external:!0}),a.createElement(i.a,{id:"serverless-features",icon:a.createElement(s.a,{color:"var(--co-global--palette--orange-400)","aria-hidden":"true"}),title:e("knative-plugin~Explore serverless functions"),titleColor:"var(--co-global--palette--orange-400)",description:e("knative-plugin~Explore new features and resources within the serverless functions."),links:t})}},9379:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),s=n(187),r=n(3948),i=n(7),o=n(1957),c=n(1420),l=n(879);const u=(e,t,n,a)=>{const r=[],i=a?e.filter(a):e;if(n){const e=i.reduce((e,t)=>(e[t.metadata.name]=t,e),{});n.forEach(n=>{var a;e[n]&&(a=e[n],Object(s.i)(t,a.metadata.name)!==s.e.COMPLETE)&&r.push(e[n])})}return r},d=({featured:e,title:t,description:n,filter:s})=>{const{t:d}=Object(i.useTranslation)(),{allQuickStartStates:p,setActiveQuickStart:m}=Object(l.useQuickStartContext)();return a.createElement(o.default,null,(i,o)=>{const l=u(i,p,e,s).slice(0,2);let b=[];return o&&0===l.length?b.push({id:"serverless-functions-using-cli-link",title:d("knative-plugin~Create Serverless functions using CLI"),href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_serverless/1.30/html/functions/index",external:!0},{id:"serverless-functions-using-ide-link",href:"https://github.com/redhat-developer/vscode-openshift-tools/blob/main/README.serverlessfn.md",title:d("knative-plugin~Create Serverless functions using IDE"),external:!0}):b=o?l.map(e=>({id:e.metadata.name,title:e.spec.displayName,onClick:()=>{m(e.metadata.name,e.spec.tasks.length)}})):null==e?void 0:e.map(e=>({id:e,loading:!0})),a.createElement(c.a,{id:"quick-start",icon:a.createElement(r.a,{color:"var(--co-global--palette--purple-600)","aria-hidden":"true"}),title:t||d("knative-plugin~Build with guided documentation"),titleColor:"var(--co-global--palette--purple-700)",description:n||d("knative-plugin~Follow guided documentation to build applications and familiarize yourself with key features."),links:b})})}},9380:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),s=n(6208),r=n(7),i=n(761),o=n(5960),c=n(15),l=n(1420);const u=({featured:e=[]})=>{const{t:t}=Object(r.useTranslation)(),[n]=Object(c.ue)(),u=Object(c.Nd)(i.u),d=Object(o.a)();if((null==d?void 0:d.includes("import-from-samples"))||!u)return null;const p={id:"all-samples",title:t("knative-plugin~View all samples"),href:n&&n!==c.c?`/samples/ns/${n}?sampleType=Serverless function`:"/samples/all-namespaces?sampleType=Serverless function"};return a.createElement(c.z,{namespace:n,catalogId:"samples-catalog"},n=>{const r=((e,t)=>{const n=[];if(t){const a=e.reduce((e,t)=>(e[t.uid]=t,e),{});t.forEach(e=>{a[e]&&n.push(a[e])})}return n.push(...e.filter(e=>!(null==t?void 0:t.includes(e.uid)))),n})(n.items||[],e).filter(e=>{var t,n;return"Serverless function"===(null==e?void 0:e.typeLabel)||"Serverless function"===(null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.labels["sample-type"])}).slice(0,2);if(0===r.length)return null;const i=n.loaded?r.map(e=>{var t,n;return{id:e.uid,title:e.name,href:null===(t=e.cta)||void 0===t?void 0:t.href,onClick:null===(n=e.cta)||void 0===n?void 0:n.callback}}):e.map(e=>({id:e,loading:!0}));return a.createElement(l.a,{id:"samples",icon:a.createElement(s.a,{color:"var(--co-global--palette--blue-400)","aria-hidden":"true"}),title:t("knative-plugin~Create functions using samples"),titleColor:"var(--co-global--palette--blue-400)",description:t("knative-plugin~Choose a code sample to create a function."),links:i,moreLink:p})})}},9381:function(e,t,n){}}]);
//# sourceMappingURL=overviewComponent-chunk-6e6adfc9e85a673bf68f.min.js.map