(window.webpackJsonp=window.webpackJsonp||[]).push([[110,40,62,181,224,231,314,317],{4384:function(e,t,a){"use strict";a.r(t),a.d(t,"InstallPlanTableRow",(function(){return M})),a.d(t,"InstallPlansList",(function(){return I})),a.d(t,"InstallPlansPage",(function(){return V})),a.d(t,"NeedInstallPlanPermissions",(function(){return F})),a.d(t,"InstallPlanDetails",(function(){return D})),a.d(t,"InstallPlanPreview",(function(){return L})),a.d(t,"InstallPlanDetailsPage",(function(){return A}));var n=a(0),l=a(80),r=a(19),s=a(54),c=a(18),o=a(61),i=a(255),m=a(16),d=a(7),u=a(31),p=a(14),v=a(13),b=a(972),E=a(40),g=a(131),f=a(5),h=a(773),O=a(8),j=a(15),N=a(125),k=a(146),S=a(6086),C=a(2235),_=a(1405);const y=["pf-v5-c-table__td","pf-v5-c-table__td",c("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),c("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td"),c("pf-m-hidden","pf-m-visible-on-xl","pf-v5-c-table__td"),f.F.columnClass],P=["pf-v5-c-table__td","pf-v5-c-table__td",c("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),c("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td")],M=({obj:e})=>{var t,a;const{t:l}=Object(d.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(E.k,{className:y[0]},n.createElement(f.hb,{kind:Object(O.Hb)(N.InstallPlanModel),namespace:e.metadata.namespace,name:e.metadata.name})),n.createElement(E.k,{className:y[1]},n.createElement(f.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(E.k,{className:y[2]},(r=null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:"Unknown",n.createElement(j.cc,{status:r}))),n.createElement(E.k,{className:y[3]},n.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},e.spec.clusterServiceVersionNames.map(t=>{var a;return n.createElement("li",{key:t},"Complete"===(null===(a=e.status)||void 0===a?void 0:a.phase)?n.createElement(f.hb,{kind:Object(O.Hb)(N.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(f.fb,{kind:Object(O.Hb)(N.ClusterServiceVersionModel)}),t))}))),n.createElement(E.k,{className:y[4]},(e.metadata.ownerReferences||[]).filter(e=>Object(O.Ib)(e)===Object(O.Hb)(N.SubscriptionModel)).map(t=>n.createElement("ul",{key:t.uid,className:"pf-v5-c-list pf-m-plain"},n.createElement("li",null,n.createElement(f.hb,{kind:Object(O.Hb)(N.SubscriptionModel),name:t.name,namespace:e.metadata.namespace,title:t.uid}))))||n.createElement("span",{className:"text-muted"},l("olm~None"))),n.createElement(E.k,{className:y[5]},n.createElement(f.gb,{actions:f.F.factory.common,kind:Object(O.Hb)(N.InstallPlanModel),resource:e})));var r},w=()=>{const{t:e}=Object(d.useTranslation)();return n.createElement(f.h,{title:e("olm~No InstallPlans found")},e("olm~InstallPlans are created automatically by subscriptions or manually using the CLI."))},I=Object(C.f)(e=>{const{t:t}=Object(d.useTranslation)();return n.createElement(E.j,Object.assign({},e,{"aria-label":t("olm~InstallPlans"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[s.a],props:{className:y[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[s.a],props:{className:y[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[s.a],props:{className:y[2]}},{title:t("olm~Components"),props:{className:y[3]}},{title:t("olm~Subscriptions"),props:{className:y[4]}},{title:"",props:{className:y[5]}}],Row:M,EmptyMsg:w}))}),V=e=>{const{t:t}=Object(d.useTranslation)(),a=Object(p.useParams)(),l=e.namespace||(null==a?void 0:a.ns);return n.createElement(E.i,Object.assign({},e,{namespace:l,resources:[{kind:Object(O.Hb)(N.InstallPlanModel),namespace:l,namespaced:!0,prop:"installPlan"},{kind:Object(O.Hb)(N.OperatorGroupModel),namespace:l,namespaced:!0,prop:"operatorGroup"}],flatten:e=>m.a(e.installPlan,"data",[]),title:t("olm~InstallPlans"),showTitle:!1,ListComponent:I}))},T=(e,t)=>e?null==t?void 0:t.username:h.b.name(),F=({installPlan:e})=>{const t=Object(j.Fe)(j.O.OPENSHIFT),a=Object(u.useSelector)(v.J),[r,s]=n.useState(T(t,a));n.useEffect(()=>{s(T(t,a))},[t,a]);const{t:c}=Object(d.useTranslation)(),o=Object(O.l)(Object(O.Db)(e));return n.createElement(l.a,{variant:"info",isInline:!0,title:c("olm~Missing sufficient privileges for manual InstallPlan approval")},r?c('olm~User "{{user}}" does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{user:r,apiGroup:o,namespace:e.metadata.namespace}):c('olm~User does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{apiGroup:o,namespace:e.metadata.namespace}))},D=({obj:e})=>{var t,a,l;const{t:s}=Object(d.useTranslation)(),c=e.spec.approval===k.e.Manual&&!1===e.spec.approved,m=Object(f.Dc)({group:N.InstallPlanModel.apiGroup,resource:N.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return n.createElement(n.Fragment,null,c&&m&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(f.D,{title:s("olm~Review manual InstallPlan")},n.createElement("p",null,s("olm~Inspect the requirements for the components specified in this InstallPlan before approving.")),n.createElement(p.Link,{to:`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(N.InstallPlanModel)}/${e.metadata.name}/components`},n.createElement(r.a,{variant:"primary"},s("olm~Preview InstallPlan"))))),c&&!m&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(F,{installPlan:e})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(f.ob,{text:s("olm~InstallPlan details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(f.lb,{resource:e,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,s("olm~Status")),n.createElement("dd",null,n.createElement(j.cc,{status:null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:s("olm~Unknown")})),n.createElement("dt",null,s("olm~Components")),(e.spec.clusterServiceVersionNames||[]).map(t=>n.createElement("dd",{key:t},"Complete"===e.status.phase?n.createElement(f.hb,{kind:Object(O.Hb)(N.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(f.fb,{kind:Object(O.Hb)(N.ClusterServiceVersionModel)}),t))),n.createElement("dt",null,s("olm~CatalogSources")),(e=>{var t;return i.a((null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.plan)||[],(e,{resource:{sourceName:t,sourceNamespace:a}})=>e.add(Object(o.fromJS)({sourceName:t,sourceNamespace:a})),Object(o.Set)()).toJS()})(e).map(({sourceName:e,sourceNamespace:t})=>n.createElement("dd",{key:`${t}-${e}`},n.createElement(f.hb,{kind:Object(O.Hb)(N.CatalogSourceModel),name:e,namespace:t,title:e})))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(f.ob,{text:s("olm~Conditions")}),n.createElement(b.b,{conditions:null===(l=e.status)||void 0===l?void 0:l.conditions})))},L=({obj:e,hideApprovalBlock:t})=>{var a,l;const{t:s}=Object(d.useTranslation)(),[c,i]=n.useState(e.spec.approval===k.e.Manual&&!1===e.spec.approved),m=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.ownerReferences.find(e=>Object(O.Ib)(e)===Object(O.Hb)(N.SubscriptionModel)),u=(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.plan)||[],p=u.reduce((e,t)=>e.update(t.resolving,[],e=>e.concat([t])),Object(o.Map)()).toArray(),v=Object(f.Dc)({group:N.InstallPlanModel.apiGroup,resource:N.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return u.length>0?n.createElement(n.Fragment,null,c&&!t&&!v&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(F,{installPlan:e})),c&&!t&&v&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(f.D,{title:s("olm~Review manual InstallPlan")},n.createElement(_.a,{installPlan:e}),n.createElement("div",{className:"pf-v5-c-form"},n.createElement("div",{className:"pf-v5-c-form__actions"},n.createElement(r.a,{variant:"primary",isDisabled:!c,onClick:()=>Object(O.pb)(N.InstallPlanModel,e,[{op:"replace",path:"/spec/approved",value:!0}]).then(()=>i(!1)).catch(e=>Object(g.s)({error:e.toString()}))},s(c?"olm~Approve":"olm~Approved")),n.createElement(r.a,{variant:"secondary",isDisabled:!1,onClick:()=>f.Vb.push(`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(N.SubscriptionModel)}/${m.name}?showDelete=true`)},s("olm~Deny")))))),p.map(t=>n.createElement("div",{key:t[0].resolving,className:"co-m-pane__body"},n.createElement(f.ob,{text:t[0].resolving}),n.createElement("div",{className:"co-table-container"},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr"},n.createElement("th",{className:P[0]},s("olm~Name")),n.createElement("th",{className:P[1]},s("olm~Kind")),n.createElement("th",{className:P[2]},s("olm~Status")),n.createElement("th",{className:P[3]},s("olm~API version")))),n.createElement("tbody",{className:"pf-v5-c-table__tbody"},t.map(t=>{return n.createElement("tr",{key:`${Object(_.m)(t.resource)}-${t.resource.name}`,className:"pf-v5-c-table__tr"},n.createElement("td",{className:P[0]},["Present","Created"].includes(t.status)?n.createElement(f.hb,{kind:Object(_.m)(t.resource),namespace:e.metadata.namespace,name:t.resource.name,title:t.resource.name}):n.createElement(n.Fragment,null,n.createElement(f.fb,{kind:Object(_.m)(t.resource)}),n.createElement(r.a,{type:"button",onClick:()=>Object(S.a)({stepResource:t.resource}),variant:"link"},t.resource.name))),n.createElement("td",{className:P[1]},t.resource.kind),n.createElement("td",{className:P[2]},(a=t.status,n.createElement(n.Fragment,null,"Present"===a&&n.createElement(j.X,{className:"co-icon-space-r"}),"Created"===a&&n.createElement(j.X,{className:"co-icon-space-r"}),a))),n.createElement("td",{className:P[3]},Object(O.o)(Object(_.m)(t.resource))));var a}))))))):n.createElement("div",{className:"co-m-pane__body"},n.createElement(f.h,{title:s("olm~No components resolved")},s("olm~This InstallPlan has not been fully resolved yet.")))},A=e=>{const t=Object(p.useParams)();return n.createElement(E.a,Object.assign({},e,{namespace:t.ns,kind:Object(O.Hb)(N.InstallPlanModel),name:t.name,pages:[f.mc.details(D),f.mc.editYaml(),{href:"components",nameKey:"olm~Components",component:L}],menuActions:[...f.F.getExtensionsActionsForKind(N.InstallPlanModel),...f.F.factory.common]}))};V.displayName="InstallPlansPage"},4385:function(e,t,a){"use strict";a.r(t),a.d(t,"ClusterServiceVersionTableRow",(function(){return Oe})),a.d(t,"SubscriptionTableRow",(function(){return je})),a.d(t,"ClusterServiceVersionList",(function(){return Ce})),a.d(t,"ClusterServiceVersionsPage",(function(){return _e})),a.d(t,"MarkdownView",(function(){return ye})),a.d(t,"CRDCard",(function(){return Pe})),a.d(t,"CRDCardRow",(function(){return Me})),a.d(t,"ClusterServiceVersionDetails",(function(){return Ie})),a.d(t,"CSVSubscription",(function(){return Ve})),a.d(t,"ClusterServiceVersionDetailsPage",(function(){return Te}));var n=a(0),l=a(353),r=a(19),s=a(192),c=a(295),o=a(296),i=a(4345),m=a(80),d=a(6023),u=a(615),p=a(54),v=a(8241),b=a(18),E=a(373),g=a(22),f=a(4440),h=a(16),O=a(2328),j=a(4387),N=a(137),k=a(7),S=a(14),C=a(13),_=a(83),y=a(972),P=a(409),M=a(40),w=a(5),I=a(987),V=a(108),T=a(10),F=a(8),D=a(15),L=a(198),A=a(2269),x=a(330),R=a(30),H=a(6352),U=a(473),$=a(197),G=a(474),z=a(125),K=a(1439),q=a(146),B=a(2241),J=a(6084),X=a(6085),Y=a(6353),W=a(5893),Z=a(5737),Q=a(6037),ee=a(4388),te=a(2235),ae=a(1947),ne=a(5411),le=a(4386),re=a(1405),se=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const ce=e=>Object(F.Db)(e)===Object(F.Hb)(z.ClusterServiceVersionModel),oe=b("pf-m-hidden","pf-m-visible-on-sm"),ie=b("pf-m-hidden","pf-m-visible-on-lg"),me=b("pf-m-hidden","pf-m-visible-on-2xl"),de=b("pf-m-hidden","pf-m-visible-on-xl"),ue=e=>E.a(e)?null:{labelKey:"olm~Edit Subscription",href:Object(w.uc)(z.SubscriptionModel,e.metadata.name,e.metadata.namespace)+"/yaml"},pe=(e,t)=>E.a(e)?null:{labelKey:"olm~Uninstall Operator",callback:()=>Object(Q.a)({k8sKill:F.lb,k8sGet:F.kb,k8sPatch:F.pb,subscription:e,csv:t,blocking:!0}),accessReview:{group:z.SubscriptionModel.apiGroup,resource:z.SubscriptionModel.plural,name:e.metadata.name,namespace:e.metadata.namespace,verb:"delete"}},ve=(e,t)=>g.a(t)?[w.F.factory.Delete]:[()=>ue(t),()=>pe(t,e)],be=({muted:e=!1,subscription:t})=>{const{t:a}=Object(k.useTranslation)();if(!t)return null;if(Object(B.b)(t))return n.createElement(le.UpgradeApprovalLink,{subscription:t});const l=Object(K.b)(t);return n.createElement("span",{className:e?"text-muted":"co-icon-and-text"},e?l.title:n.createElement(D.cc,{status:l.status||a("olm~Unknown")}))},Ee=({obj:e,subscription:t})=>{var a;const l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.phase;return e.metadata.deletionTimestamp?n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:q.b.CSVPhaseDeleting})):l?n.createElement(n.Fragment,null,n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:l})),n.createElement(be,{muted:!0,subscription:t})):null},ge=({obj:e})=>{var t;const{t:a}=Object(k.useTranslation)(),s=(null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))||[];if(Object(J.a)(e))return n.createElement(n.Fragment,null,n.createElement(w.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}),n.createElement("span",{className:"text-muted"},e.status.message));switch(s.length){case 0:return a("olm~All Namespaces");case 1:return s[0]?n.createElement(w.hb,{kind:"Namespace",title:s[0],name:s[0]}):a("olm~All Namespaces");default:return n.createElement(l.a,{headerContent:a("olm~Managed Namespaces"),bodyContent:s.map(e=>n.createElement(w.hb,{kind:"Namespace",title:e,name:e}))},n.createElement(r.a,{variant:"link",isInline:!0},a("olm~{{count}} Namespaces",{count:s.length})))}},fe=({csvPlugins:e,trusted:t})=>{const a={kind:Object(F.Hb)(T.ConsoleOperatorConfigModel),isList:!1,name:R.p},[l]=Object(V.a)(a),{t:s}=Object(k.useTranslation)(),[c]=Object(C.hc)({group:T.ConsoleOperatorConfigModel.apiGroup,resource:T.ConsoleOperatorConfigModel.plural,verb:"patch",name:R.p}),o=e.length;return n.createElement(n.Fragment,null,l&&c&&n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,s("olm~Console plugin",{count:o})),e.map(e=>n.createElement("dd",{key:e,className:"co-clusterserviceversion-details__field-description"},o>1&&n.createElement("strong",{className:"text-muted"},s("olm~{{plugin}}:",{pluginName:e})," "),n.createElement(r.a,{"data-test":"edit-console-plugin",type:"button",isInline:!0,onClick:()=>Object(A.a)({consoleOperatorConfig:l,csvPluginsCount:o,pluginName:e,trusted:t}),variant:"link"},n.createElement(n.Fragment,null,Object($.X)(l,e)?s("olm~Enabled"):s("olm~Disabled")," ",n.createElement(u.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})))))))},he=({csv:e,csvPlugins:t})=>{var a,s;const c={kind:Object(F.Hb)(T.ConsoleOperatorConfigModel),isList:!1,name:R.p},[o]=Object(V.a)(c),{t:i}=Object(k.useTranslation)(),[m]=Object(C.hc)({group:T.ConsoleOperatorConfigModel.apiGroup,resource:T.ConsoleOperatorConfigModel.plural,verb:"patch",name:R.p}),d=!(null===(s=null===(a=null==o?void 0:o.spec)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.length)||t.some(e=>!Object($.X)(o,e));return o&&m&&d&&n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Console plugin available")),bodyContent:n.createElement("div",null,n.createElement("p",null,i("olm~To let this operator provide a custom interface and run its own code in your console, enable its console plugin in the operator details.")),n.createElement(S.Link,{to:Object(w.sc)(e,Object(F.Db)(e))},i("olm~View operator details")))},n.createElement(r.a,{variant:"link",isInline:!0},i("olm~Plugin available")))},Oe=Object(L.e)(({activeNamespace:e,obj:t,subscription:a,catalogSourceMissing:l})=>{var r,s,c,o;const{displayName:i,provider:m,version:d}=null!==(r=t.spec)&&void 0!==r?r:{},{t:u}=Object(k.useTranslation)(),p=null!==(s=Object(te.d)(t))&&void 0!==s?s:"",[v]=null!==(c=t.spec.icon)&&void 0!==c?c:[],b=Object(Y.a)(t),E=Object(re.j)(t),h=Object(ae.b)(null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.annotations),{deprecatedPackage:O}=Object(Z.d)(a);return n.createElement(n.Fragment,null,n.createElement(M.k,{className:""},n.createElement(S.Link,{to:b,className:"co-clusterserviceversion-link","data-test-operator-row":i},n.createElement(W.a,{icon:v,displayName:i,version:d,provider:m}))),e===D.c?n.createElement(M.k,{className:""},n.createElement(w.hb,{kind:"Namespace",title:p,name:p})):null,n.createElement(M.k,{className:oe},n.createElement(ge,{obj:t})),n.createElement(M.k,{className:ie},n.createElement("div",{className:"co-clusterserviceversion-row__status"},l?n.createElement(le.SourceMissingStatus,null):n.createElement(Ee,{obj:t,subscription:a})),h.length>0&&n.createElement(he,{csv:t,csvPlugins:h}),O.deprecation&&n.createElement(Z.b,{className:"pf-v5-u-mt-xs",deprecation:O.deprecation})),n.createElement(M.k,{className:me},null==t.status?"-":n.createElement(w.xb,{timestamp:t.status.lastUpdateTime})),n.createElement(M.k,{className:de},g.a(E)?"-":f.a(E,4).map(e=>n.createElement("div",{key:Object(re.l)(e)},n.createElement(S.Link,{to:`${b}/${Object(re.l)(e)}`,title:e.name},e.displayName||e.kind))),E.length>4&&n.createElement(S.Link,{to:b,title:u("olm~View {{numAPIs}} more...",{numAPIs:E.length-4})},u("olm~View {{numAPIs}} more...",{numAPIs:E.length-4}))),n.createElement(M.k,{className:w.F.columnClass},n.createElement(w.gb,{resource:t,kind:Object(F.Db)(t),actions:ve(t,a)})))}),je=({activeNamespace:e,catalogSourceMissing:t,obj:a})=>{var l;const{t:r}=Object(k.useTranslation)(),s=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.name,c=[w.F.factory.Edit,()=>pe(a)],o=Object(D.ed)(a),i=Object(w.sc)(a,Object(F.Hb)(z.SubscriptionModel));return n.createElement(n.Fragment,null,n.createElement(M.k,{className:""},n.createElement(S.Link,{to:i},n.createElement(W.a,{icon:null,displayName:s,version:null,provider:null}))),e===D.c?n.createElement(M.k,{className:""},n.createElement(w.hb,{kind:"Namespace",title:o,name:o})):null,n.createElement(M.k,{className:oe},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(M.k,{className:ie},t?n.createElement(le.SourceMissingStatus,null):n.createElement(be,{subscription:a})),n.createElement(M.k,{className:me},null==a.status?"-":n.createElement(w.xb,{timestamp:a.status.lastUpdated})),n.createElement(M.k,{className:de},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(M.k,{className:w.F.columnClass},n.createElement(w.gb,{resource:a,kind:Object(F.Db)(a),actions:c})))},Ne=({obj:e,customData:t})=>{const{catalogSources:a,subscriptions:l,activeNamespace:r}=t,s=ce(e)?Object(K.c)(l,e):e,c=!g.a(a)&&!Object(le.catalogSourceForSubscription)(a,s)&&!(e=>"packageserver"===e.metadata.name&&"openshift-operator-lifecycle-manager"===e.metadata.namespace)(e);return ce(e)?n.createElement(Oe,{activeNamespace:r,catalogSourceMissing:c,obj:e,subscription:s}):n.createElement(je,{activeNamespace:r,catalogSourceMissing:c,obj:s})},ke=()=>{const{t:e}=Object(k.useTranslation)();return n.createElement(w.h,{title:e("olm~No Operators found")})},Se=()=>{const{t:e}=Object(k.useTranslation)(),t=Object(H.a)(),a=e("olm~No Operators are available for project {{project}}.",{project:t}),l=e("olm~No Operators are available."),r=n.createElement(n.Fragment,null,n.createElement("div",null,t===D.c?l:a),n.createElement("div",null,n.createElement(k.Trans,{ns:"olm"},"Discover and install Operators from the ",n.createElement("a",{href:"/operatorhub"},"OperatorHub"),".")));return n.createElement(w.h,{title:e("olm~No Operators found")},r)},Ce=e=>{var{subscriptions:t,catalogSources:a,data:l}=e,r=se(e,["subscriptions","catalogSources","data"]);const{t:s}=Object(k.useTranslation)(),c=Object(H.a)(),o={title:s("olm~Name"),sortField:"metadata.name",transforms:[p.a],props:{className:""}},i={title:s("olm~Namespace"),sortFunc:"getOperatorNamespace",transforms:[p.a],props:{className:""}},m={title:s("olm~Managed Namespaces"),sortFunc:"formatTargetNamespaces",transforms:[p.a,v.a],props:{className:oe}},d={title:s("olm~Status"),props:{className:ie}},u={title:s("olm~Last updated"),props:{className:me}},b={title:s("olm~Provided APIs"),props:{className:de}},E={title:"",props:{className:w.F.columnClass}},g=c===D.c,f=n.useMemo(()=>{var e,n;return{catalogoperators:null!==(e=null==a?void 0:a.data)&&void 0!==e?e:[],subscriptions:null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[],activeNamespace:c}},[c,a,t]);return n.createElement("div",{className:"co-installed-operators"},n.createElement(M.j,Object.assign({data:((e,t)=>e.filter(e=>{return a=e,Object(F.Db)(a)===Object(F.Hb)(z.SubscriptionModel)||(t?!Object(J.a)(e)&&Object(J.b)(e):window.SERVER_FLAGS.copiedCSVsDisabled&&e.metadata.namespace===G.e&&c!==G.e?Object(J.a)(e)&&Object(J.b)(e):Object(J.b)(e));var a}))(l,g)},r,{"aria-label":s("olm~Installed Operators"),Header:g?()=>[o,i,m,d,u,b,E]:()=>[o,m,d,u,b,E],Row:Ne,EmptyMsg:ke,NoDataEmptyMsg:Se,virtualize:!0,customData:f,customSorts:{formatTargetNamespaces:e=>{var t,a;if("Subscription"===e.kind)return s("olm~None");if(Object(J.a)(e))return e.metadata.namespace;const n=null!==(a=null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))&&void 0!==a?a:[];switch(n.length){case 0:return s("olm~All Namespaces");case 1:return n[0];default:return s("olm~{{count}} Namespaces",{count:n.length})}},getOperatorNamespace:e=>{const t=Object(te.d)(e);return null!=t?t:Object(D.ed)(e)}}})))},_e=e=>{const{t:t}=Object(k.useTranslation)(),[a]=Object(C.hc)({group:z.SubscriptionModel.apiGroup,resource:z.SubscriptionModel.plural,verb:"list"}),l=t("olm~Installed Operators"),r=Object(w.Qb)(w.Lb.operators),s=n.createElement(n.Fragment,null,t("olm~Installed Operators are represented by ClusterServiceVersions within this Namespace."),!Object(w.hc)()&&n.createElement(k.Trans,{ns:"olm"}," ","For more information, see the"," ",n.createElement(w.z,{href:r},"Understanding Operators documentation"),". Or create an Operator and ClusterServiceVersion using the"," ",n.createElement(w.z,{href:w.n},"Operator SDK"),"."));return n.createElement(n.Fragment,null,n.createElement(N.a,null,n.createElement("title",null,l)),n.createElement(M.i,Object.assign({},e,{resources:[...!G.f.includes(e.namespace)&&window.SERVER_FLAGS.copiedCSVsDisabled?[{kind:Object(F.Hb)(z.ClusterServiceVersionModel),namespace:G.e,prop:"globalClusterServiceVersions"}]:[],{kind:Object(F.Hb)(z.ClusterServiceVersionModel),namespace:e.namespace,prop:"clusterServiceVersions"},{kind:Object(F.Hb)(z.SubscriptionModel),prop:"subscriptions",namespace:a?void 0:e.namespace,optional:!0},{kind:Object(F.Hb)(z.CatalogSourceModel),prop:"catalogSources",optional:!0}],title:l,flatten:({globalClusterServiceVersions:t,clusterServiceVersions:a,subscriptions:n})=>{var l,r,s;return[...null!==(l=null==t?void 0:t.data)&&void 0!==l?l:[],...null!==(r=null==a?void 0:a.data)&&void 0!==r?r:[],...(null!==(s=null==n?void 0:n.data)&&void 0!==s?s:[]).filter(t=>["",t.metadata.namespace].includes(e.namespace||"")&&E.a(h.a(t,"status.installedCSV")))].filter((e,t,a)=>ce(e)||O.a(a.find(({metadata:t})=>{var a,n;return[null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.currentCSV,null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.startingCSV].includes(null==t?void 0:t.name)})))},namespace:e.namespace,ListComponent:Ce,helpText:s,textFilter:"cluster-service-version"})))},ye=e=>n.createElement(w.c,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2237)).then(e=>e.SyncMarkdownView)},e)),Pe=e=>{var t,a,l,{csv:r,crd:m,required:u}=e,p=se(e,["csv","crd","required"]);const{t:v}=Object(k.useTranslation)(),b=Object(re.l)(m),[E]=Object(U.a)(b),g=null!==(t=p.canCreate)&&void 0!==t?t:null===(l=null===(a=null==E?void 0:E.verbs)||void 0===a?void 0:a.includes)||void 0===l?void 0:l.call(a,"create"),f=n.useMemo(()=>r?`/k8s/ns/${r.metadata.namespace}/${z.ClusterServiceVersionModel.plural}/${r.metadata.name}/${b}/~new`:null,[r,b]);return n.createElement(s.a,null,n.createElement(c.a,null,n.createElement("span",{className:"co-resource-item"},n.createElement(w.hb,{kind:Object(re.l)(m),title:m.name,linkTo:!1,displayName:m.displayName||m.kind}),u&&n.createElement(C.v,{badgeAlt:!0},n.createElement(C.A,{icon:n.createElement(x.f,null),title:v("olm~Required")})))),n.createElement(o.a,null,n.createElement(ye,{content:m.description,truncateContent:!0})),g&&f&&n.createElement(w.eb,{model:E,namespace:r.metadata.namespace},n.createElement(i.a,null,n.createElement(S.Link,{to:f},n.createElement(d.a,{className:"co-icon-space-r"}),v("olm~Create instance")))))},Me=({csv:e,providedAPIs:t})=>{const{t:a}=Object(k.useTranslation)();return n.createElement("div",{className:"co-crd-card-row"},t.length?t.map(t=>n.createElement(Pe,{key:Object(re.l)(t),crd:t,csv:e})):n.createElement("span",{className:"text-muted"},a("olm~No Kubernetes APIs are being provided by this Operator.")))},we=e=>{const{t:t}=Object(k.useTranslation)(),{initializationResource:a,csv:l}=e,r=null==a?void 0:a.kind,s=Object(F.Db)(a),[c]=Object(U.a)(s),[o,i]=Object(V.a)({kind:s,namespaced:!0,isList:!0}),d=Object(C.ic)({group:null==c?void 0:c.apiGroup,resource:null==c?void 0:c.plural,namespace:(null==c?void 0:c.namespaced)?(null==a?void 0:a.metadata.namespace)||l.metadata.namespace:null,verb:"create"});return i&&0===o.length&&d?n.createElement(m.a,{isInline:!0,className:"co-alert",variant:"warning",title:t("olm~{{initializationResourceKind}} required",{initializationResourceKind:r})},n.createElement("p",null,t("olm~Create a {{initializationResourceKind}} instance to use this Operator.",{initializationResourceKind:r})),n.createElement(ne.CreateInitializationResourceButton,{obj:e.csv,initializationResource:a})):null},Ie=e=>{var t,a,s,c,o;const{t:i}=Object(k.useTranslation)(),{spec:d,metadata:u,status:p}=e.obj,{subscription:v}=e.customData,b=Object(re.j)(e.obj),{"marketplace.openshift.io/support-workflow":E,"operatorframework.io/initialization-resource":f}=u.annotations||{},h=n.useMemo(()=>{if(f)try{return JSON.parse(f)}catch(e){console.error("Error while parseing CSV initialization resource JSON",e.message)}return null},[f]),O=n.useMemo(()=>{if(E)try{const e=new URL(E);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to support workflow URL",e.message)}return null},[E]),N=Object(ae.b)(null==u?void 0:u.annotations),S=j.a(null===(a=null===(t=null==d?void 0:d.install)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.permissions,"serviceAccountName"),{deprecatedPackage:C,deprecatedChannel:_,deprecatedVersion:P}=Object(Z.d)(v);return n.createElement(n.Fragment,null,n.createElement(w.nb,null),n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-9"},p&&p.phase===q.b.CSVPhaseFailed&&n.createElement(m.a,{isInline:!0,className:"co-alert",variant:"danger",title:i("olm~Operator failed")},p.reason===q.a.CSVReasonCopied?n.createElement(n.Fragment,null,n.createElement(k.Trans,{t:i,ns:"olm"},"This Operator was copied from another namespace. For the reason it failed, see"," ",n.createElement(w.hb,{name:u.name,kind:Object(F.Hb)(z.ClusterServiceVersionModel),namespace:Object(te.d)(e.obj),hideIcon:!0,inline:!0}))):p.message),h&&n.createElement(we,{initializationResource:h,csv:e.obj}),(C.deprecation||_.deprecation||P.deprecation)&&n.createElement(Z.a,{deprecatedPackage:C,deprecatedChannel:_,deprecatedVersion:P,dismissible:!0}),n.createElement(w.ob,{text:i("olm~Provided APIs")}),n.createElement(Me,{csv:e.obj,providedAPIs:b}),n.createElement(w.ob,{text:i("olm~Description")}),n.createElement(ye,{content:d.description||i("olm~Not available")})),n.createElement("div",{className:"col-sm-3"},n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Provider")),n.createElement("dd",null,d.provider&&d.provider.name?d.provider.name:i("olm~Not available")),O&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Support")),n.createElement("dd",null,n.createElement(w.z,{href:O,text:i("olm~Get support")}))),n.createElement("dt",null,i("olm~Created at")),n.createElement("dd",null,n.createElement(w.xb,{timestamp:u.creationTimestamp}))),N.length>0&&v&&n.createElement(fe,{csvPlugins:N,trusted:Object(B.a)(null===(s=null==v?void 0:v.spec)||void 0===s?void 0:s.source)}),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Links")),d.links&&d.links.length>0?d.links.map(e=>n.createElement("dd",{key:e.url,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement(w.z,{href:e.url,text:e.url||"-",additionalClassName:"co-break-all"}))):n.createElement("dd",null,i("olm~Not available"))),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Maintainers")),d.maintainers&&d.maintainers.length>0?d.maintainers.map(e=>n.createElement("dd",{key:e.email,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement("a",{href:"mailto:"+e.email,className:"co-break-all"},e.email||"-"))):n.createElement("dd",null,i("olm~Not available"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(w.ob,{text:i("olm~ClusterServiceVersion details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(w.lb,{resource:e.obj},n.createElement("dt",null,n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Managed Namespaces")),bodyContent:n.createElement("div",null,i("olm~Operands in this Namespace are managed by the Operator.")),maxWidth:"30rem"},n.createElement(r.a,{variant:"plain",className:"details-item__popover-button"},i("olm~Managed Namespaces")))),n.createElement("dd",null,n.createElement(ge,{obj:e.obj})))),n.createElement("div",{className:"col-sm-6"},n.createElement("dt",null,i("olm~Status")),n.createElement("dd",null,n.createElement(D.cc,{status:p?p.phase:i("olm~Unknown")})),n.createElement("dt",null,i("olm~Status reason")),n.createElement("dd",null,p?p.message:i("olm~Unknown")),!g.a(null===(c=d.install.spec)||void 0===c?void 0:c.deployments)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator Deployments")),d.install.spec.deployments.map(({name:t})=>n.createElement("dd",{key:t},n.createElement(w.hb,{name:t,kind:"Deployment",namespace:Object(te.d)(e.obj)})))),!g.a(S)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator ServiceAccounts")),S.map(({serviceAccountName:t})=>n.createElement("dd",{key:t,"data-service-account-name":t},n.createElement(w.hb,{name:t,kind:"ServiceAccount",namespace:Object(te.d)(e.obj)})))),n.createElement("dt",null,i("olm~OperatorGroup")),n.createElement("dd",null,Object(te.c)(e.obj)?n.createElement(w.hb,{name:Object(te.c)(e.obj),namespace:Object(te.d)(e.obj),kind:Object(F.Hb)(z.OperatorGroupModel)}):"-"))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(w.ob,{text:i("olm~Conditions")}),n.createElement(y.b,{conditions:(null!==(o=null==p?void 0:p.conditions)&&void 0!==o?o:[]).map(e=>Object.assign(Object.assign({},e),{type:e.phase,status:"True"})),type:y.a.ClusterServiceVersion})))},Ve=e=>{var{obj:t,customData:a}=e,l=se(e,["obj","customData"]);const{t:r}=Object(k.useTranslation)(),{subscription:s,subscriptions:c,subscriptionsLoaded:o,subscriptionsLoadError:i}=null!=a?a:{};return n.createElement(w.wb,{EmptyMsg:()=>n.createElement(w.h,{title:r("olm~No Operator Subscription")},r("olm~This Operator will not receive updates.")),loaded:o,loadError:i,data:s},n.createElement(le.SubscriptionDetails,Object.assign({},l,{obj:s,clusterServiceVersions:[t],subscriptions:c})))},Te=e=>{const{t:t}=Object(k.useTranslation)(),a=Object(S.useParams)(),l=Object(S.useLocation)(),[r,s,c]=Object(X.a)(a.name,a.ns),o=Object(te.d)(r),[i,m,d]=Object(V.a)(o?{isList:!0,groupVersionKind:Object(_.getGroupVersionKindForModel)(z.SubscriptionModel),namespace:o,optional:!0}:null),[u]=Object(C.hc)({group:null===z.InstallPlanModel||void 0===z.InstallPlanModel?void 0:z.InstallPlanModel.apiGroup,resource:null===z.InstallPlanModel||void 0===z.InstallPlanModel?void 0:z.InstallPlanModel.plural,verb:"list"}),p=n.useMemo(()=>(null!=i?i:[]).find(e=>{var t;return e.status.installedCSV===(null===(t=null==r?void 0:r.metadata)||void 0===t?void 0:t.name)}),[r,i]),v=n.useCallback(p?()=>[ue(p),pe(p,r)]:()=>[w.F.factory.Delete(z.ClusterServiceVersionModel,r)],[p]),{deprecatedPackage:b}=Object(Z.d)(p),E=n.useCallback(e=>{const t=Object(re.j)(e);return[w.mc.details(Ie),w.mc.editYaml(),{href:"subscription",nameKey:"olm~Subscription",component:Ve},w.mc.events(P.ResourceEventStream),...t.length>1?[{href:"instances",nameKey:"olm~All instances",component:ee.ProvidedAPIsPage}]:[],...t.map(t=>({href:Object(re.l)(t),name:["Details","YAML","Subscription","Events"].includes(t.displayName)?t.displayName+" Operand":t.displayName||t.kind,component:ee.ProvidedAPIPage,pageData:{csv:e,kind:Object(re.l)(t)}}))]},[]);return n.createElement(M.a,Object.assign({},e,{obj:{data:r,loaded:s,loadError:c},customData:{subscriptions:i,subscription:p,subscriptionsLoaded:m,subscriptionsLoadError:d},breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:Object(I.b)(a)},{name:t("olm~Operator details"),path:l.pathname}],resources:[{kind:Object(F.Hb)(z.PackageManifestModel),isList:!0,prop:"packageManifests"},Object.assign({kind:Object(F.Hb)(z.InstallPlanModel),isList:!0,prop:"installPlans"},u?{}:{namespace:o})],icon:({obj:e})=>{var t,a,l,r,s;return n.createElement(W.a,{displayName:null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.displayName,icon:null===(l=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.icon)||void 0===l?void 0:l[0],provider:null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.provider,version:null===(s=null==e?void 0:e.spec)||void 0===s?void 0:s.version,deprecation:b.deprecation})},namespace:a.ns,kind:Object(F.Hb)(z.ClusterServiceVersionModel),name:a.name,pagesFor:E,menuActions:v,createRedirect:!0}))};Ce.displayName="ClusterServiceVersionList",_e.displayName="ClusterServiceVersionsPage",Oe.displayName="ClusterServiceVersionTableRow",Pe.displayName="CRDCard",Te.displayName="ClusterServiceVersionsDetailsPage",Ie.displayName="ClusterServiceVersionDetails",Ve.displayName="CSVSubscription"},4386:function(e,t,a){"use strict";a.r(t),a.d(t,"catalogSourceForSubscription",(function(){return T})),a.d(t,"installedCSVForSubscription",(function(){return F})),a.d(t,"packageForSubscription",(function(){return D})),a.d(t,"installPlanForSubscription",(function(){return L})),a.d(t,"SourceMissingStatus",(function(){return A})),a.d(t,"SourceUnhealthyStatus",(function(){return x})),a.d(t,"UpgradeApprovalLink",(function(){return H})),a.d(t,"SubscriptionStatus",(function(){return U})),a.d(t,"SubscriptionTableRow",(function(){return G})),a.d(t,"SubscriptionsList",(function(){return z})),a.d(t,"SubscriptionsPage",(function(){return K})),a.d(t,"SubscriptionDetails",(function(){return X})),a.d(t,"SubscriptionUpdates",(function(){return W})),a.d(t,"SubscriptionDetailsPage",(function(){return Z}));var n=a(0),l=a(80),r=a(19),s=a(353),c=a(874),o=a(615),i=a(54),m=a(18),d=a(22),u=a(16),p=a(489),v=a(7),b=a(14),E=a(13),g=a(83),f=a(972),h=a(40),O=a(5),j=a(983),N=a(8),k=a(15),S=a(125),C=a(146),_=a(2241),y=a(5737),P=a(6177),M=a(6178),w=a(6037),I=a(2235),V=a(1405);const T=(e=[],t)=>e.find(e=>{var a,n,l,r;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.source)&&(null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.namespace)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.sourceNamespace)}),F=(e=[],t)=>e.find(e=>{var a,n;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installedCSV)}),D=(e=[],t)=>e.find(e=>{var a,n,l,r,s,c,o,i;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.name)&&(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.packageName)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.name)&&(null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.catalogSource)===(null===(c=null==t?void 0:t.spec)||void 0===c?void 0:c.source)&&(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.catalogSourceNamespace)===(null===(i=null==t?void 0:t.spec)||void 0===i?void 0:i.sourceNamespace)}),L=(e=[],t)=>e.find(e=>{var a,n,l;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(l=null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installPlanRef)||void 0===l?void 0:l.name)}),A=()=>{const{t:e}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(k.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource not found")))},x=()=>{const{t:e}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(k.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource unhealthy")))},R=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",O.F.columnClass],H=({subscription:e})=>{const{t:t}=Object(v.useTranslation)(),a=Object(O.uc)(S.InstallPlanModel,e.status.installPlanRef.name,e.metadata.namespace);return n.createElement("span",{className:"co-icon-and-text"},n.createElement(b.Link,{to:a},n.createElement(k.n,null)," ",t("olm~Upgrade available")))},U=({subscription:e})=>{var t;const{t:a}=Object(v.useTranslation)();switch(null===(t=e.status)||void 0===t?void 0:t.state){case C.g.SubscriptionStateUpgradeAvailable:return n.createElement("span",null,n.createElement(k.tc,null)," ",a("olm~Upgrade available"));case C.g.SubscriptionStateUpgradePending:return Object(_.b)(e)&&e.status.installPlanRef?n.createElement(H,{subscription:e}):n.createElement("span",null,n.createElement(c.a,{className:"text-primary"})," ",a("olm~Upgrading"));case C.g.SubscriptionStateAtLatest:return n.createElement("span",null,n.createElement(k.X,null)," ",a("olm~Up to date"));default:return n.createElement("span",{className:d.a(e.status.state)?"text-muted":""},e.status.state||a("olm~Unknown failure"))}},$=[O.F.factory.Edit,(e,t)=>({labelKey:"olm~Remove Subscription",callback:()=>Object(w.a)({k8sKill:N.lb,k8sGet:N.kb,k8sPatch:N.pb,subscription:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}),(e,t)=>{const a=u.a(t,"status.installedCSV");return{labelKey:"olm~View ClusterServiceVersion...",href:`/k8s/ns/${t.metadata.namespace}/${S.ClusterServiceVersionModel.plural}/${a}`,hidden:!a}}],G=({obj:e})=>{const{t:t}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(h.k,{className:R[0]},n.createElement(O.hb,{kind:Object(N.Hb)(S.SubscriptionModel),name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(h.k,{className:R[1]},n.createElement(O.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(h.k,{className:R[2]},n.createElement(U,{subscription:e})),n.createElement(h.k,{className:m(R[3],"co-truncate","co-select-to-copy")},e.spec.channel||"default"),n.createElement(h.k,{className:R[4]},e.spec.installPlanApproval||t("olm~Automatic")),n.createElement(h.k,{className:R[5]},n.createElement(O.gb,{actions:$,kind:Object(N.Hb)(S.SubscriptionModel),resource:e})))},z=Object(I.f)(e=>{const{t:t}=Object(v.useTranslation)();return n.createElement(h.j,Object.assign({},e,{"aria-label":t("olm~Operator Subscriptions"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:R[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:R[1]}},{title:t("olm~Status"),props:{className:R[2]}},{title:t("olm~Update channel"),props:{className:R[3]}},{title:t("olm~Update approval"),props:{className:R[4]}},{title:"",props:{className:R[5]}}],Row:G,EmptyMsg:()=>n.createElement(O.h,{title:t("olm~No Subscriptions found")},t("olm~Each Namespace can subscribe to a single channel of a package for automatic updates.")),virtualize:!0}))}),K=e=>{const{t:t}=Object(v.useTranslation)();return n.createElement(h.i,Object.assign({},e,{resources:[{kind:Object(N.Hb)(S.SubscriptionModel),namespace:e.namespace,namespaced:!0,prop:"subscription"},{kind:Object(N.Hb)(S.OperatorGroupModel),namespace:e.namespace,namespaced:!0,prop:"operatorGroup"}],flatten:e=>u.a(e.subscription,"data",[]),title:t("olm~Subscriptions"),canCreate:!0,createProps:{to:"/operatorhub"},createButtonText:t("olm~Create Subscription"),ListComponent:z,filterLabel:t("olm~Subscriptions by package")}))},q=({health:e,source:t,sourceNamespace:a})=>{const{t:r}=Object(v.useTranslation)();return e?e.healthy?null:n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource unhealthy")},r('olm~This operator cannot be updated. CatalogSource "{{source}}" is unhealthy.',{source:t}),n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(g.getGroupVersionKindForModel)(S.CatalogSourceModel),name:t,namespace:a,title:t})):n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource health unknown")},r('olm~This operator cannot be updated. The health of CatalogSource "{{source}}" is unknown. It may have been disabled or removed from the cluster.',{source:t}),t&&a&&n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(g.getGroupVersionKindForModel)(S.CatalogSourceModel),name:t,namespace:a,title:t}))},B=({installPlan:e})=>{var t,a,r;const{t:s}=Object(v.useTranslation)(),c=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.phase,o=null===(r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===r?void 0:r.find(({type:e,status:t})=>"Installed"===e&&"False"===t),i=(null==o?void 0:o.message)||(null==o?void 0:o.reason)||s("olm~InstallPlan failed");return c===C.f.InstallPlanPhaseFailed?n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:"danger",title:c},i):null},J=({healthy:e})=>{const{t:t}=Object(v.useTranslation)();switch(e){case!0:return n.createElement(E.A,{icon:n.createElement(k.X,null),title:t("olm~Healthy")});case!1:return n.createElement(E.A,{icon:n.createElement(k.Mb,null),title:t("olm~Unhealthy")});default:return n.createElement(E.A,{icon:n.createElement(k.tc,null),title:t("olm~Health unknown")})}},X=({clusterServiceVersions:e=[],installPlans:t=[],obj:a,packageManifests:l=[],subscriptions:r=[]})=>{var s,c,o,i;const{t:m}=Object(v.useTranslation)(),{source:d,sourceNamespace:u}=null!==(s=null==a?void 0:a.spec)&&void 0!==s?s:{},b=null===(o=null===(c=null==a?void 0:a.status)||void 0===c?void 0:c.catalogHealth)||void 0===o?void 0:o.find(e=>e.catalogSourceRef.name===d),g=F(e,a),h=L(t,a),C=D(l,a);new URLSearchParams(window.location.search).has("showDelete")&&Object(w.a)({k8sKill:N.lb,k8sGet:N.kb,k8sPatch:N.pb,subscription:a}).result.then(()=>Object(j.c)("showDelete")).catch(p.a);const{deprecatedPackage:_,deprecatedChannel:P,deprecatedVersion:M}=Object(y.d)(a);return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(q,{health:b,source:d,sourceNamespace:u}),n.createElement(B,{installPlan:h}),(_.deprecation||P.deprecation||M.deprecation)&&n.createElement(y.a,{deprecatedPackage:_,deprecatedChannel:P,deprecatedVersion:M,dismissible:!0}),n.createElement(O.ob,{text:m("olm~Subscription details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement(W,{catalogHealth:b,pkg:C,obj:a,installedCSV:g,installPlan:h,subscriptions:r})),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(O.lb,{resource:a,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,m("olm~Installed version")),n.createElement("dd",null,g?n.createElement(O.hb,{kind:Object(N.Hb)(S.ClusterServiceVersionModel),name:Object(k.dd)(g),namespace:Object(k.ed)(g),title:Object(k.dd)(g)}):m("olm~None")),n.createElement("dt",null,m("olm~Starting version")),n.createElement("dd",null,a.spec.startingCSV||m("olm~None")),n.createElement("dt",null,m("olm~CatalogSource")),n.createElement("dd",null,d&&u?n.createElement(O.hb,{kind:Object(N.Hb)(S.CatalogSourceModel),name:d,namespace:u,title:d},n.createElement(E.v,{badgeAlt:!0},n.createElement(J,{healthy:null==b?void 0:b.healthy}))):m("olm~None")),n.createElement("dt",null,m("olm~InstallPlan")),n.createElement("dd",null,h?n.createElement(O.hb,{kind:Object(N.Hb)(S.InstallPlanModel),name:Object(k.dd)(h),namespace:Object(k.ed)(h),title:Object(k.dd)(h)}):m("olm~None"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(O.ob,{text:m("olm~Conditions")}),n.createElement(f.b,{conditions:null===(i=null==a?void 0:a.status)||void 0===i?void 0:i.conditions})))},Y=({catalogHealth:e,subscription:t})=>e?e.healthy?n.createElement(U,{subscription:t}):n.createElement(x,null):n.createElement(A,null),W=({catalogHealth:e,installedCSV:t,installPlan:a,obj:l,pkg:c,subscriptions:i})=>{var m,d,u,p,E;const{t:g}=Object(v.useTranslation)(),f=n.useRef(null===(m=null==l?void 0:l.spec)||void 0===m?void 0:m.installPlanApproval),h=n.useRef(null===(d=null==l?void 0:l.spec)||void 0===d?void 0:d.channel),[j,_]=n.useState(!1);n.useEffect(()=>{var e,t,a,n;j&&(null===(e=null==l?void 0:l.spec)||void 0===e?void 0:e.channel)===h.current&&(null===(t=null==l?void 0:l.spec)||void 0===t?void 0:t.installPlanApproval)===f.current||(_(!1),h.current=null===(a=null==l?void 0:l.spec)||void 0===a?void 0:a.channel,f.current=null===(n=null==l?void 0:l.spec)||void 0===n?void 0:n.installPlanApproval)},[l,j]);const w=(e,t)=>Object(N.rb)(e,t).then(()=>_(!0)),I=n.useMemo(()=>{var e;if(a)switch(null===(e=a.status)||void 0===e?void 0:e.phase){case C.f.InstallPlanPhaseRequiresApproval:return n.createElement("span",{"data-test":"operator-subscription-requires-approval"},g("olm~1 requires approval"));case C.f.InstallPlanPhaseFailed:return g("olm~1 failed");default:return g("olm~1 installing")}return null},[a,g]),T=Object(V.f)(i,l.metadata.namespace),{deprecatedChannel:F}=Object(y.d)(l);return n.createElement("div",{className:"co-detail-table"},n.createElement("div",{className:"co-detail-table__row row"},n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},g("olm~Update channel"),n.createElement(O.B,null,g("olm~The channel to track and receive the updates from."))),n.createElement("dd",null,j?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(M.a)({subscription:l,pkg:c,k8sUpdate:w}),variant:"link",isDisabled:!c,"data-test":"subscription-channel-update-button"},l.spec.channel||"default",c&&n.createElement(o.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})),F.deprecation&&n.createElement(y.c,{dataTest:"deprecated-operator-warning-subscription-update-icon",deprecation:F.deprecation}))))),n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},g("olm~Update approval"),n.createElement(O.B,null,g("olm~The strategy to determine either manual or automatic updates."))),n.createElement("dd",null,j?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(P.a)({obj:l,k8sUpdate:w}),variant:"link"},l.spec.installPlanApproval||"Automatic",n.createElement(o.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))),l.spec.installPlanApproval===C.e.Automatic&&(null==T?void 0:T.length)>0&&n.createElement("div",null,n.createElement(s.a,{headerContent:n.createElement(n.Fragment,null,g("olm~Functioning as manual approval strategy")),bodyContent:n.createElement(V.b,{subscriptions:T,namespace:l.metadata.namespace})},n.createElement(r.a,{type:"button",isInline:!0,variant:"link"},n.createElement(k.o,{className:"co-icon-space-r"}),g("olm~Functioning as manual")))))))),n.createElement("div",{className:"co-detail-table__section co-detail-table__section--last col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},g("olm~Upgrade status")),n.createElement("dd",null,n.createElement(Y,{catalogHealth:e,subscription:l}))),e&&e.healthy&&n.createElement(n.Fragment,null,n.createElement("div",{className:"co-detail-table__bracket"}),n.createElement("div",{className:"co-detail-table__breakdown"},(null===(u=null==l?void 0:l.status)||void 0===u?void 0:u.installedCSV)&&t?n.createElement(b.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(N.Hb)(S.ClusterServiceVersionModel)}/${l.status.installedCSV}`},g("olm~1 installed")):n.createElement("span",null,g("olm~0 installed")),(null===(p=null==l?void 0:l.status)||void 0===p?void 0:p.state)===C.g.SubscriptionStateUpgradePending&&(null===(E=null==l?void 0:l.status)||void 0===E?void 0:E.installPlanRef)&&a?n.createElement(b.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(N.Hb)(S.InstallPlanModel)}/${l.status.installPlanRef.name}`},n.createElement("span",null,I)):n.createElement("span",null,g("olm~0 installing")))))))},Z=e=>{const t=Object(b.useParams)();return n.createElement(h.a,Object.assign({},e,{namespace:t.ns,kind:Object(N.Hb)(S.SubscriptionModel),name:t.name,pages:[O.mc.details(X),O.mc.editYaml()],resources:[{kind:Object(N.Hb)(S.PackageManifestModel),isList:!0,namespace:e.namespace,prop:"packageManifests"},{kind:Object(N.Hb)(S.InstallPlanModel),isList:!0,namespace:e.namespace,prop:"installPlans"},{kind:Object(N.Hb)(S.ClusterServiceVersionModel),namespace:e.namespace,isList:!0,prop:"clusterServiceVersions"},{kind:Object(N.Hb)(S.SubscriptionModel),namespace:e.namespace,isList:!0,prop:"subscriptions"}],menuActions:$}))};K.displayName="SubscriptionsPage",X.displayName="SubscriptionDetails",Z.displayName="SubscriptionDetailsPage"},5411:function(e,t,a){"use strict";a.r(t),a.d(t,"CreateInitializationResourceButton",(function(){return I})),a.d(t,"OperatorInstallStatusPage",(function(){return A}));var n=a(0),l=a(966),r=a(19),s=a(1394),c=a(404),o=a(4341),i=a(80),m=a(192),d=a(296),u=a(137),p=a(7),v=a(14),b=a(13),E=a(976),g=a(2237),f=a(131),h=a(5),O=a(8),j=a(330),N=a(125),k=a(5893),S=a(4384),C=a(59),_=a(1947),y=a(1405);const P=({namespace:e})=>{const{t:t}=Object(p.useTranslation)(),a=t("olm~View installed Operators in Namespace {{namespace}}",{namespace:e}),l=t("olm~View installed Operators in all Namespaces");return n.createElement("div",{className:"co-operator-install-page__link"},n.createElement(v.Link,{"data-test":"view-installed-operators-btn",to:Object(h.uc)(N.ClusterServiceVersionModel,null,e)},e?a:l))},M=({namespace:e,csvName:t,obj:a})=>{var s,c;const{t:o}=Object(p.useTranslation)(),i=null===(c=null===(s=null==a?void 0:a.metadata)||void 0===s?void 0:s.annotations)||void 0===c?void 0:c[C.d.InitializationResource];return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},o("olm~Operator installation failed")),n.createElement("p",null,o("olm~The operator did not install successfully."),i&&n.createElement(n.Fragment,null," ",o("olm~The required custom resource can be created in the Operator's details view."))),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(v.Link,{to:Object(h.uc)(N.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},o("olm~View error"))),n.createElement(P,{namespace:e})))},w=({namespace:e,subscriptionObj:t,installObj:a,approve:s})=>{var c;const{t:o}=Object(p.useTranslation)(),i=Object(h.Dc)({group:N.InstallPlanModel.apiGroup,resource:N.InstallPlanModel.plural,namespace:e,verb:"patch"}),m="InstallPlan"===a.kind;return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},o("olm~Manual approval required")),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(y.a,{installPlan:a}),(m&&i||!m)&&n.createElement(n.Fragment,null,n.createElement(r.a,{variant:"primary",onClick:s},o("olm~Approve")),n.createElement(v.Link,{to:Object(h.uc)(N.SubscriptionModel,null===(c=null==t?void 0:t.metadata)||void 0===c?void 0:c.name,e)+"?showDelete=true"},n.createElement(r.a,{className:"co-clusterserviceversion__button",variant:"secondary"},o("olm~Deny")))),!i&&m&&n.createElement(S.NeedInstallPlanPermissions,{installPlan:a}),n.createElement(P,{namespace:e})))},I=({disabled:e,initializationResource:t,obj:a})=>{const{t:l}=Object(p.useTranslation)(),s=Object(O.Db)(t),c=null==t?void 0:t.kind,o=n.createElement(r.a,{"aria-disabled":e,isDisabled:e,variant:"primary"},l("olm~Create {{item}}",{item:c}));return e?o:n.createElement(v.Link,{to:`${Object(h.uc)(N.ClusterServiceVersionModel,a.metadata.name,a.metadata.namespace)}/${s}/~new?useInitializationResource`},o)},V=({initializationResource:e,obj:t})=>{var a,l,r;const{t:s}=Object(p.useTranslation)(),c=null==e?void 0:e.kind,o=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.namespace,i=null===(r=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.annotations)||void 0===r?void 0:r.description;return n.createElement("div",{className:"co-clusterserviceversion__box"},n.createElement("span",{className:"co-resource-item"},n.createElement(h.hb,{kind:c,name:c,namespace:o}),n.createElement(b.v,{badgeAlt:!0},n.createElement(b.A,{icon:n.createElement(j.f,null),title:s("olm~Required")}))),n.createElement(g.SyncMarkdownView,{content:i}))},T=({namespace:e,csvName:t,obj:a})=>{var s;const{t:c}=Object(p.useTranslation)(),o=Object(_.d)(null===(s=null==a?void 0:a.metadata)||void 0===s?void 0:s.annotations,{onError:e=>Object(f.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},c("olm~Installed operator"),":  ",c(o?"olm~custom resource required":"olm~ready for use")),o&&n.createElement(n.Fragment,null,n.createElement("span",null,c("olm~The Operator has installed successfully. Create the required custom resource to be able to use this Operator.")),n.createElement(V,{initializationResource:o,obj:a})),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},o?n.createElement(I,{initializationResource:o,obj:a}):n.createElement(v.Link,{to:Object(h.uc)(N.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},c("olm~View Operator"))),n.createElement(P,{namespace:e})))},F=({namespace:e,obj:t})=>{var a,r,s,c,o;const{t:i}=Object(p.useTranslation)(),m=(null===(r=null===(a=t)||void 0===a?void 0:a.status)||void 0===r?void 0:r.reason)||"",d=(null===(c=null===(s=t)||void 0===s?void 0:s.status)||void 0===c?void 0:c.message)||"",u=Object(_.d)(null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.annotations,{onError:e=>Object(f.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},i("olm~Installing Operator")),m&&n.createElement("p",{className:"text-muted"},m,": ",d),n.createElement("p",null,i("olm~The Operator is being installed. This may take a few minutes."),u&&n.createElement(n.Fragment,null," ",i("olm~Once the Operator is installed the required custom resource will be available for creation."))),u&&n.createElement(V,{initializationResource:u,obj:t}),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},u&&n.createElement(I,{disabled:!0,initializationResource:u,obj:t}),n.createElement(P,{namespace:e})))},D=({subscription:e})=>{var t,a,l,r,s;const{t:c}=Object(p.useTranslation)(),o=c("olm~Not found"),{currentCSV:i,catalogNamespace:m,pkg:d}=Object(v.useParams)(),[u,b,g]=Object(E.xb)({groupVersionKind:{group:N.PackageManifestModel.apiGroup,version:N.PackageManifestModel.apiVersion,kind:N.PackageManifestModel.kind},selector:{matchLabels:{"catalog-namespace":m}},fieldSelector:"metadata.name="+d,isList:!0}),f=null==u?void 0:u[0];if(!b)return n.createElement(h.T,null);if(g||!f)return n.createElement(k.a,{icon:null,displayName:g?c("olm~Error: {{loadError}}",{loadError:g}):o});const O=(null===(t=null==f?void 0:f.status)||void 0===t?void 0:t.channels)||[],j=O.find(e=>e.currentCSV===i)||O[0],S=(null===(a=null==j?void 0:j.currentCSVDesc)||void 0===a?void 0:a.displayName)||o,C=(null===(r=null===(l=null==f?void 0:f.status)||void 0===l?void 0:l.provider)||void 0===r?void 0:r.name)||"",_=null===(s=null==e?void 0:e.spec)||void 0===s?void 0:s.startingCSV;return n.createElement(k.a,{displayName:S,icon:Object(y.g)(f),provider:C,version:_})},L=({resources:e})=>{var t,a,l,r,b,E,g,h,k,C,_,y;const{t:P}=Object(p.useTranslation)(),{currentCSV:I,targetNamespace:V}=Object(v.useParams)();let L=!0,A="",x=null===(t=null==e?void 0:e.clusterServiceVersion)||void 0===t?void 0:t.data;const R=null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.data;if(A=null===(l=null==x?void 0:x.status)||void 0===l?void 0:l.phase,x&&A)L=!1;else if(R){L=!1,A=(null===(r=null==R?void 0:R.status)||void 0===r?void 0:r.state)||null;const t=(null===(E=null===(b=null==R?void 0:R.status)||void 0===b?void 0:b.installPlanRef)||void 0===E?void 0:E.name)||"",a=null===(h=null===(g=null==e?void 0:e.installPlans)||void 0===g?void 0:g.data)||void 0===h?void 0:h.find(e=>e.metadata.name===t);a&&(x=a)}const H="Succeeded"===A,U="Failed"===A,$="Manual"===(null===(k=null==x?void 0:x.spec)||void 0===k?void 0:k.approval)&&!1===(null===(C=null==x?void 0:x.spec)||void 0===C?void 0:C.approved),G=()=>{Object(O.pb)(N.InstallPlanModel,x,[{op:"replace",path:"/spec/approved",value:!0}]).catch(e=>{Object(f.s)({error:e.toString()})})};let z=n.createElement(s.a,{size:"lg"});U&&(z=n.createElement(c.a,{size:"lg"},n.createElement(j.f,null))),$&&(z=n.createElement(c.a,{size:"lg"},n.createElement(j.h,null))),H&&(z=n.createElement(c.a,{size:"lg"},n.createElement(j.e,null)));let K=n.createElement(F,{namespace:V,obj:x});return U?K=n.createElement(M,{namespace:V,obj:x,csvName:I}):$?K=n.createElement(w,{namespace:V,subscriptionObj:R,installObj:x,approve:G}):H&&(K=n.createElement(T,{namespace:V,csvName:I,obj:x})),n.createElement(n.Fragment,null,n.createElement("div",{className:"co-operator-install-page__main"},n.createElement(u.a,null,n.createElement("title",null,P("olm~Installing Operator"))),n.createElement(o.a,null,n.createElement("div",{id:"operator-install-page"},L&&n.createElement("div",{className:"co-operator-install-page__indicator"},P("olm~Installing...")," ",n.createElement(s.a,{size:"lg"})),!L&&U&&n.createElement(i.a,{variant:"danger",isInline:!0,title:"Installation Failed"},A,": ",(null===(y=null===(_=x)||void 0===_?void 0:_.status)||void 0===y?void 0:y.message)||""),!L&&n.createElement(m.a,null,n.createElement(d.a,null,n.createElement("div",{className:"co-operator-install-page__pkg-indicator"},n.createElement("div",null,n.createElement(D,{subscription:e.subscription.data})),n.createElement("div",null,z)))),!L&&n.createElement(m.a,null,n.createElement(d.a,null,K))))),!L&&$&&n.createElement(S.InstallPlanPreview,{obj:x,hideApprovalBlock:!0}))},A=()=>{const{pkg:e,currentCSV:t,targetNamespace:a}=Object(v.useParams)(),l=[{kind:Object(O.Hb)(N.ClusterServiceVersionModel),namespaced:!0,isList:!1,name:t,namespace:a,prop:"clusterServiceVersion"},{kind:Object(O.Hb)(N.SubscriptionModel),namespaced:!0,isList:!1,name:e,namespace:a,optional:!0,prop:"subscription"},{kind:Object(O.Hb)(N.InstallPlanModel),prop:"installPlans",namespaced:!0,namespace:a,isList:!0,optional:!0}];return n.createElement(h.C,{resources:l},n.createElement(L,null))}},5691:function(e,t,a){"use strict";t.__esModule=!0,t.chart_color_blue_300={name:"--pf-v5-chart-color-blue-300",value:"#06c",var:"var(--pf-v5-chart-color-blue-300, #06c)"},t.default=t.chart_color_blue_300},5692:function(e,t,a){"use strict";t.__esModule=!0,t.chart_color_blue_100={name:"--pf-v5-chart-color-blue-100",value:"#8bc1f7",var:"var(--pf-v5-chart-color-blue-100, #8bc1f7)"},t.default=t.chart_color_blue_100},5737:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return E}));var n,l=a(0),r=a(88),s=a(351),c=a(6351),o=a(80),i=a(1939),m=a(7),d=a(976);!function(e){e.PackageDeprecated="PackageDeprecated",e.ChannelDeprecated="ChannelDeprecated",e.VersionDeprecated="BundleDeprecated"}(n||(n={}));const u=(e,t)=>{var a,n;return{deprecation:null===(n=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===n?void 0:n.find(e=>e.type===t)}},p=e=>({deprecatedPackage:u(e,n.PackageDeprecated),deprecatedChannel:u(e,n.ChannelDeprecated),deprecatedVersion:u(e,n.VersionDeprecated)}),v=({deprecation:e,className:t})=>{const{t:a}=Object(m.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(s.a,{"data-test":"deprecated-operator-warning-badge",color:"orange",className:t,icon:l.createElement(d.Y,null)},a("olm~Deprecated")))},b=({deprecation:e,dataTest:t})=>{const{t:a}=Object(m.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(d.Y,{dataTest:t,className:"pf-v5-u-ml-xs"}))},E=({deprecatedPackage:e,deprecatedChannel:t,deprecatedVersion:a,dismissible:n})=>{var r,s,d;const{t:u}=Object(m.useTranslation)(),[p,v]=l.useState(!0);return p&&l.createElement(c.a,{className:"pf-v5-u-my-md"},l.createElement(o.a,{variant:"warning",title:u("olm~Deprecated warnings"),"aria-live":"polite",isInline:!0,actionClose:n&&l.createElement(i.a,{onClose:()=>v(!1)})},l.createElement("div",{"data-test":"deprecated-operator-warning-package"},null===(r=null==e?void 0:e.deprecation)||void 0===r?void 0:r.message),l.createElement("div",{"data-test":"deprecated-operator-warning-channel"},null===(s=null==t?void 0:t.deprecation)||void 0===s?void 0:s.message),l.createElement("div",{"data-test":"deprecated-operator-warning-version"},null===(d=null==a?void 0:a.deprecation)||void 0===d?void 0:d.message)))}},5893:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a(447),r=a(22),s=a(16),c=a(7),o=a(6003),i=a.n(o),m=a(5737);const d=e=>{const{icon:t,displayName:a,provider:o,version:d,deprecation:u}=e,{t:p}=Object(c.useTranslation)(),v=l.a(t)?t:r.a(t)?i.a:`data:${t.mediatype};base64,${t.base64data}`;return n.createElement("div",{className:"co-clusterserviceversion-logo"},n.createElement("div",{className:"co-clusterserviceversion-logo__icon"},n.createElement("span",{className:"co-catalog-item-icon__bg"},n.createElement("img",{className:"co-catalog-item-icon__img co-catalog-item-icon__img--large",src:v,alt:a,"aria-hidden":!0}))),n.createElement("div",{className:"co-clusterserviceversion-logo__name"},n.createElement("h1",{className:"co-clusterserviceversion-logo__name__clusterserviceversion"},a," ",u&&n.createElement(m.b,{className:"pf-v5-u-ml-sm",deprecation:u})),o&&n.createElement("span",{className:"co-clusterserviceversion-logo__name__provider text-muted"},p("olm~{{version}} provided by {{provider}}",{version:d||"",provider:s.a(o,"name",o)}))))}},6003:function(e,t,a){e.exports=a.p+"assets/packages/operator-lifecycle-manager/src/operator.svg"},6017:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const l=({name:e,label:t,checked:a,onChange:l})=>n.createElement("div",{className:"form-group"},n.createElement("div",{className:"checkbox"},n.createElement("label",{className:"control-label"},n.createElement("input",{"data-test":t+"__checkbox",className:"form-checkbox",name:e,onChange:l,checked:a,"data-checked-state":a,type:"checkbox"}),t)))},6023:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(34);const l=Object(n.a)({name:"AddCircleOIcon",height:1024,width:1024,svgPath:"M576,303 C576,294.715729 569.284271,288 561,288 L463,288 C454.715729,288 448,294.715729 448,303 L448,448 L303,448 C294.715729,448 288,454.715729 288,463 L288,561 C288,569.284271 294.715729,576 303,576 L448,576 L448,720.9 C447.983373,729.207373 454.6927,735.961429 463,736 L561,736 C569.3073,735.961429 576.016627,729.207373 576,720.9 L576,576 L721,576 C724.969024,576.026638 728.784638,574.468589 731.600595,571.671405 C734.416553,568.87422 736.000031,565.069113 736.000031,561.1 L736.000031,463.1 C736.016627,454.792627 729.3073,448.038571 721,448 L576,448 L576,303 Z M512,896 C300.2,896 128,723.9 128,512 C128,300.3 300.2,128 512,128 C723.8,128 896,300.2 896,512 C896,723.8 723.7,896 512,896 Z M512.1,0 C229.7,0 0,229.8 0,512 C0,794.2 229.8,1024 512.1,1024 C794.4,1024 1024,794.3 1024,512 C1024,229.7 794.4,0 512.1,0 Z",yOffset:0,xOffset:0});t.b=l},6037:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a(0),l=a(4357),r=a(80),s=a(50),c=a(7),o=a(77),i=a(697),m=a(53),d=a(109),u=a(6017),p=a(118),v=a(5),b=a(108),E=a(175),g=a(10),f=a(8),h=a(15),O=a(30),j=a(2234),N=a(6176),k=a(197),S=a(474),C=a(125),_=a(5942),y=a(59),P=a(1947),M=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function s(e){try{o(n.next(e))}catch(e){r(e)}}function c(e){try{o(n.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,c)}o((n=n.apply(e,t||[])).next())}))};const w={kind:"DeleteOptions",apiVersion:"v1",propagationPolicy:"Foreground"},I=({cancel:e,close:t,csv:a,k8sKill:l,subscription:r})=>{var s,_,I,F,D,H,U,$,G,z;const{t:K}=Object(c.useTranslation)(),[q,B,J]=Object(j.a)(),[X,Y]=n.useState(!0),[W,Z]=n.useState(!1),[Q,ee]=n.useState(!1),[te,ae]=n.useState(!1),[ne,le]=n.useState(0),[re,se]=n.useState(!1),[ce,oe]=n.useState([]),[ie,me]=n.useState(!1),[de,ue]=n.useState(""),pe=Object(E.d)({group:g.ConsoleOperatorConfigModel.apiGroup,resource:g.ConsoleOperatorConfigModel.plural,verb:"patch",name:O.p}),ve=Object(P.b)(null===(s=null==a?void 0:a.metadata)||void 0===s?void 0:s.annotations),[be]=Object(b.a)(pe&&ve.length>0?{kind:Object(f.Hb)(g.ConsoleOperatorConfigModel),isList:!1,name:O.p}:null),Ee=ve.filter(e=>Object(k.X)(be,e)),ge=!!be&&pe&&Ee.length>0,fe=null===(_=null==r?void 0:r.spec)||void 0===_?void 0:_.name,he=null===(I=null==r?void 0:r.metadata)||void 0===I?void 0:I.namespace,Oe=B||te,je=!Oe&&(!Q||re)&&W,Ne=ce.length>0||""!==J,ke="true"===(null===(D=null===(F=null==a?void 0:a.metadata)||void 0===F?void 0:F.annotations)||void 0===D?void 0:D["console.openshift.io/disable-operand-delete"]),[Se,Ce,_e]=Object(N.a)(fe,he),ye=n.useCallback(()=>M(void 0,void 0,void 0,(function*(){var e;const t=ge?Object(k.x)(be,Ee):null,a=[l(C.SubscriptionModel,r,{},w),...(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV)&&(yield M(void 0,void 0,void 0,(function*(){try{return yield Object(o.j)({model:C.ClusterServiceVersionModel,name:r.status.installedCSV,ns:r.metadata.namespace}),!0}catch(e){return 404!==e.response.status&&ue(e.message),!1}})))?[l(C.ClusterServiceVersionModel,{metadata:{name:r.status.installedCSV,namespace:r.metadata.namespace}},{},w)]:[],...ge?[Object(f.pb)(g.ConsoleOperatorConfigModel,be,[t])]:[]];q(Promise.all(a)).then(()=>{Z(!0)}).catch(()=>{Z(!0)})})),[be,Ee,q,l,ge,r]),Pe=n.useCallback(e=>{ae(!1),se(!0),e?ye():(me(!0),Z(!0))},[ye]),Me=n.useCallback(()=>{const e=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${fe}&namespace=${he}`,t=setInterval(()=>{Object(d.c)(e).then(e=>{le(e.items.length),0===e.items.length&&(clearInterval(t),setTimeout(()=>Pe(!0),1e3))}).catch(()=>{Pe(!1)})},2e3);return t},[Pe,fe,he]),we=n.useCallback(()=>{var e;t(),(window.location.pathname.split("/").includes(r.metadata.name)||window.location.pathname.split("/").includes(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV))&&v.Vb.push(Object(v.rc)(C.ClusterServiceVersionModel,Object(m.c)()))},[t,r]);n.useEffect(()=>{je&&!Ne&&we()},[we,Ne,je]),n.useEffect(()=>{let e;return te&&(e=Me()),()=>{e&&clearInterval(e)}},[te,Me]);const Ie=(null===(H=null==a?void 0:a.spec)||void 0===H?void 0:H.displayName)||(null===(U=null==r?void 0:r.spec)||void 0===U?void 0:U.name),Ve=null===($=null==a?void 0:a.metadata)||void 0===$?void 0:$.name,Te=r.metadata.namespace===S.a?"all-namespaces":r.metadata.namespace,Fe=null===(z=null===(G=null==a?void 0:a.metadata)||void 0===G?void 0:G.annotations)||void 0===z?void 0:z[y.d.UninstallMessage],De=!Ce||Se.length>0,Le=n.createElement(n.Fragment,null,n.createElement("p",null,De&&n.createElement(n.Fragment,null," ",K("olm~Select the checkbox below to also remove all Operands associated with this Operator."))," ",K("olm~If your Operator configured off-cluster resources, these will continue to run and require manual cleanup.")),ge&&n.createElement("p",null,K("olm~The console plugin provided by this operator will be disabled and removed.",{count:Ee.length}))),Ae=_e?n.createElement(T,{operandsLoadedErrorMessage:_e}):De&&n.createElement(n.Fragment,null,n.createElement("span",{className:"co-operator-uninstall__operands-section"},n.createElement("h2",null,K("olm~Operand instances")),n.createElement(R,{operands:Se,loaded:Ce,csvName:Ve,cancel:e})),n.createElement(u.a,{onChange:({currentTarget:e})=>ee(e.checked),name:"delete-all-operands",label:K("olm~Delete all operand instances for this operator"),checked:Q})),xe=ce.length?n.createElement(L,{operandDeletionErrors:ce,csvName:Ve,cancel:e}):ie?n.createElement(T,{operandsLoadedErrorMessage:K("olm~Error listing operand to verify deletion")}):n.createElement(A,{name:Ie,namespace:Te}),Re=n.createElement(n.Fragment,null,n.createElement(x,{errorMessage:de||J||(ce.length?K("olm~Operator could not be uninstalled due to error deleting its Operands"):""),name:Ie,namespace:Te}),Q&&xe);return n.createElement("form",{onSubmit:e=>{if(e.preventDefault(),je)we();else if(Y(!1),Q){ae(!0),le(Se.length);const e=Se.map(e=>{const t=Object(f.vb)(Object(f.Db)(e));return l(t,e,{},w)});Object(i.a)(e).then(([,,e])=>{const t=e.reduce((e,t,a)=>"rejected"===t.status?e.concat({operand:Se[a],errorMessage:t.reason}):e,[]);t.length&&(oe(t),ae(!1),se(!0),Z(!0))})}else se(!0),ye()},name:"form",className:"modal-content co-catalog-install-modal"},n.createElement(p.d,{className:"modal-header"},n.createElement(h.tc,{className:"co-icon-space-r"})," ",K("olm~Uninstall Operator?")),n.createElement(p.a,null,X&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(c.Trans,{t:K,ns:"olm"},"Operator ",n.createElement("strong",null,{name:Ie})," will be removed from"," ",n.createElement("strong",null,{namespace:Te}),".")),!ke&&n.createElement(n.Fragment,null,Le),Fe&&n.createElement(n.Fragment,null,n.createElement("h2",null,K("olm~Message from Operator developer")),n.createElement("p",null,Fe)),!ke&&n.createElement(n.Fragment,null,Ae)),te&&n.createElement(V,{total:Se.length,remaining:ne}),B&&n.createElement("div",null,n.createElement("p",null,K("olm~Uninstalling the Operator..."))),je&&Re),n.createElement(p.c,{inProgress:Oe,cancel:e,submitDanger:!je,submitText:K(je?"olm~OK":"olm~Uninstall"),submitDisabled:Oe}))},V=({total:e,remaining:t})=>{const{t:a}=Object(c.useTranslation)(),r=a("olm~Remaining Operands: {{remaining}} of {{total}} ",{remaining:t,total:e});return n.createElement("div",null,n.createElement(l.a,{value:e-t,max:e,valueText:r,label:r,title:a("olm~Cleaning up operand instances..."),size:l.b.lg}),n.createElement("div",{className:"co-alert--margin-top"},n.createElement("p",null,a("olm~The operands have been marked for deletion and are being removed. Canceling this operation will leave the Operator installed though its operand instances will continue to be deleted."))))},T=({operandsLoadedErrorMessage:e})=>{const{t:t}=Object(c.useTranslation)();return n.createElement(r.a,{variant:"warning",className:"co-alert",title:t("olm~Cannot load Operands"),isInline:!0},n.createElement("p",null,t("olm~There was an error loading operands for this operator. Operands will need to be deleted manually.")),n.createElement("p",null,e))},F=({name:e,namespace:t})=>{const{t:a}=Object(c.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully uninstalled Operator"),isInline:!0},n.createElement("p",null,n.createElement(c.Trans,{t:a,ns:"olm"},"Operator ",n.createElement("strong",null,{name:e})," successfully uninstalled from"," ",n.createElement("strong",null,{namespace:t}),".")))},D=({errorMessage:e})=>{const{t:t}=Object(c.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:t("olm~Error uninstalling Operator"),isInline:!0},n.createElement("p",null,t("olm~There was an error uninstalling the operator."),n.createElement("br",null),e))},L=({operandDeletionErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(c.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:l("olm~Error deleting Operands"),isInline:!0},n.createElement("p",null,l("olm~There were errors deleting the following Operands, they will need to be deleted manually:")),n.createElement(H,{operandErrors:e,csvName:t,cancel:a}))},A=({name:e,namespace:t})=>{const{t:a}=Object(c.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully deleted all Operand Instances"),isInline:!0},n.createElement("p",null,n.createElement(c.Trans,{t:a,ns:"olm"},"All Operand instances for Operator ",n.createElement("strong",null,{name:e})," in"," ",n.createElement("strong",null,{namespace:t})," have been deleted.")))},x=({errorMessage:e,name:t,namespace:a})=>e?n.createElement(D,{errorMessage:e}):n.createElement(F,{name:t,namespace:a}),R=({operands:e,loaded:t,csvName:a,cancel:l})=>{const{t:r}=Object(c.useTranslation)();return n.createElement(v.wb,{skeleton:n.createElement("div",{className:"loading-skeleton--table"}),data:e,loaded:t},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr",key:"operand-table-header-row"},n.createElement("th",{className:"pf-m-width-35 pf-v5-c-table__th"},r("olm~Name")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Kind")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Namespace")))),n.createElement("tbody",null,e.sort((e,t)=>e.metadata.name.localeCompare(t.metadata.name)).map(e=>n.createElement("tr",{className:"pf-v5-c-table__tr",key:e.metadata.uid},n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(_.a,{obj:e,csvName:a,onClick:l})),n.createElement("td",{className:"pf-v5-c-table__td pf-m-break-word","data-test-operand-kind":e.kind},e.kind),n.createElement("td",{className:"pf-v5-c-table__td"},e.metadata.namespace?n.createElement(v.hb,{kind:"Namespace",name:e.metadata.namespace,onClick:l}):"-"))))))},H=({operandErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(c.useTranslation)();return n.createElement("ul",{className:"co-operator-uninstall-alert__list"},s.a(e,e=>n.createElement("li",{key:e.operand.metadata.uid,className:"pf-v5-c-list pf-m-plain co-operator-uninstall-alert__list-item"},n.createElement(_.a,{obj:e.operand,csvName:t,onClick:a})," ",e.operand.kind,"  ",l("olm~Error: {{error}}",{error:e.errorMessage}))))},U=Object(p.f)(I);I.displayName="UninstallOperatorModal"},6086:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(966),r=a(19),s=a(380),c=a(7),o=a(118),i=a(5),m=a(1405);const d=({cancel:e,stepResource:t})=>{const{t:a}=Object(c.useTranslation)();return n.createElement("div",{className:"modal-content"},n.createElement(o.d,null,a("olm~InstallPlan Preview")," ",n.createElement(i.hb,{linkTo:!1,name:t.name,kind:Object(m.m)(t)})),n.createElement(o.a,null,n.createElement(i.l,{value:Object(s.safeDump)(JSON.parse(t.manifest))})),n.createElement(o.b,{inProgress:!1},n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__actions--right pf-v5-c-form__group--no-top-margin"},n.createElement(r.a,{type:"button",variant:"secondary",onClick:()=>e()},a("public~OK")))))},u=Object(o.f)(d);d.displayName="InstallPlanPreview"},6176:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(182);const r=(e,t)=>{const[a,r]=n.useState([]),[s,c]=n.useState(!1),[o,i]=n.useState("");return n.useEffect(()=>{const a=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${e}&namespace=${t}`;Object(l.b)(a).then(e=>{var t;r(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]),c(!0),i("")}).catch(a=>{r([]),c(!0),i(`Error loading Operands for ${e} in ${t}: ${a}`)})},[e,t]),[a,s,o]}},6177:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),l=a(640),r=a(489),s=a(7),c=a(118),o=a(692),i=a(8),m=a(2234),d=a(125),u=a(146);const p=e=>{var t,a,n,l,r,s;return null!==(s=null!==(n=null===(a=null===(t=e)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.installPlanApproval)&&void 0!==n?n:null===(r=null===(l=e)||void 0===l?void 0:l.spec)||void 0===r?void 0:r.approval)&&void 0!==s?s:u.e.Automatic},v=Object(c.f)(({cancel:e,close:t,k8sUpdate:a,obj:v})=>{const{t:b}=Object(s.useTranslation)(),[E,g,f]=Object(m.a)(),[h,O]=n.useState(p(v)),j=n.useCallback(e=>{e.preventDefault();const n=l.a(v);Object(i.Db)(n)===Object(i.Hb)(d.SubscriptionModel)?n.spec.installPlanApproval=h:Object(i.Db)(n)===Object(i.Hb)(d.InstallPlanModel)&&(n.spec.approval=h),E(a(Object(i.vb)(Object(i.Db)(v)),n)).then(()=>null==t?void 0:t()).catch(r.a)},[t,E,a,v,h]);return n.createElement("form",{onSubmit:j,name:"form",className:"modal-content"},n.createElement(c.d,{className:"modal-header"},b("olm~Change update approval strategy")),n.createElement(c.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,b("olm~What strategy is used for approving updates?"))),n.createElement("div",{className:"co-m-form-row row"},n.createElement("div",{className:"col-sm-12"},n.createElement(o.b,{onChange:e=>O(e.target.value),value:u.e.Automatic,checked:h===u.e.Automatic,title:b("olm~Automatic"),subTitle:`(${b("public~default")})`},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},b("olm~New updates will be installed as soon as they become available."))))),n.createElement("div",{className:"col-sm-12"},n.createElement(o.b,{onChange:e=>O(e.target.value),value:u.e.Manual,checked:h===u.e.Manual,title:b("olm~Manual")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},b("olm~New updates need to be manually approved before installation begins."))))))),n.createElement(c.c,{inProgress:g,errorMessage:f,cancel:e,submitText:b("public~Save"),submitDisabled:p(v)===h}))})},6178:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(7),r=a(118),s=a(692),c=a(5),o=a(8),i=a(2234),m=a(125),d=a(5737);const u=Object(r.f)(({cancel:e,close:t,k8sUpdate:a,pkg:u,subscription:p})=>{var v,b,E,g,f,h,O,j;const{t:N}=Object(l.useTranslation)(),k=null!==(b=null===(v=null==p?void 0:p.spec)||void 0===v?void 0:v.channel)&&void 0!==b?b:null===(f=null===(g=null===(E=null==u?void 0:u.status)||void 0===E?void 0:E.channels)||void 0===g?void 0:g[0])||void 0===f?void 0:f.name,[S,C,_]=Object(i.a)(),[y,P]=n.useState(k),M=n.useCallback(e=>{e.preventDefault(),S(a(m.SubscriptionModel,Object.assign(Object.assign({},p),{spec:Object.assign(Object.assign({},p.spec),{channel:y})}))).then(()=>null==t?void 0:t()).catch(()=>{})},[t,S,a,y,p]);return n.createElement("form",{onSubmit:M,name:"form",className:"modal-content"},n.createElement(r.d,{className:"modal-header"},N("olm~Change Subscription update channel")),n.createElement(r.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,N("olm~Which channel is used to receive updates?"))),n.createElement("div",{className:"co-m-form-row row"},null===(j=null===(O=null===(h=null==u?void 0:u.status)||void 0===h?void 0:h.channels)||void 0===O?void 0:O.map)||void 0===j?void 0:j.call(O,e=>n.createElement("div",{key:e.name,className:"col-sm-12"},n.createElement(s.b,{onChange:e=>P(e.target.value),value:e.name,checked:y===e.name,title:e.name,subTitle:n.createElement(c.hb,{linkTo:!1,name:e.currentCSV,title:e.currentCSV,kind:Object(o.Hb)(m.ClusterServiceVersionModel)},(null==e?void 0:e.deprecation)?n.createElement(d.c,{deprecation:null==e?void 0:e.deprecation}):null)}))))),n.createElement(r.c,{inProgress:C,errorMessage:_,cancel:e,submitText:N("public~Save"),submitDisabled:y===k}))})},6351:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(12),l=a(0),r=a(4),s=a(189);const c=e=>{var{children:t=null,className:a=""}=e,c=Object(n.__rest)(e,["children","className"]);return l.createElement("div",Object.assign({},c,{className:Object(r.css)(s.a.form+"__alert",a)}),t)};c.displayName="FormAlert"},6352:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(31);const l=()=>Object(n.useSelector)(({UI:e})=>e.get("activeNamespace"))},6353:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(77),l=a(5),r=a(15),s=a(125);const c=e=>{const[t]=Object(r.ue)(),a=Object(n.e)(s.ClusterServiceVersionModel);return window.SERVER_FLAGS.copiedCSVsDisabled&&"openshift"===e.metadata.namespace&&t!==r.c?Object(l.tc)(a,e.metadata.name,t):Object(l.sc)(e,a)}},6431:function(e,t,a){"use strict";t.__esModule=!0,t.chart_color_blue_200={name:"--pf-v5-chart-color-blue-200",value:"#519de9",var:"var(--pf-v5-chart-color-blue-200, #519de9)"},t.default=t.chart_color_blue_200},8241:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(44);const l=()=>({className:n.a.modifiers.wrap})}}]);
//# sourceMappingURL=clusterserviceversion-chunk-0a7f0728d69d5414dd07.min.js.map