(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1407:function(e,t,a){"use strict";a.r(t),a.d(t,"getQuotaResourceTypes",(function(){return D})),a.d(t,"getACRQResourceUsage",(function(){return I})),a.d(t,"getResourceUsage",(function(){return H})),a.d(t,"UsageIcon",(function(){return $})),a.d(t,"ResourceUsageRow",(function(){return S})),a.d(t,"QuotaScopesInline",(function(){return B})),a.d(t,"QuotaScopesList",(function(){return z})),a.d(t,"hasComputeResources",(function(){return G})),a.d(t,"ResourceQuotasList",(function(){return V})),a.d(t,"AppliedClusterResourceQuotasList",(function(){return X})),a.d(t,"quotaType",(function(){return Z})),a.d(t,"flatten",(function(){return ee})),a.d(t,"ResourceQuotasPage",(function(){return te})),a.d(t,"AppliedClusterResourceQuotasPage",(function(){return ae})),a.d(t,"ResourceQuotasDetailsPage",(function(){return se})),a.d(t,"AppliedClusterResourceQuotasDetailsPage",(function(){return le}));var s=a(16),l=a(160),o=a(1120),c=a(460),r=a(839),n=a(0),u=a(18),i=a(14),d=a(54),m=a(5839),p=a(5840),b=a(2248),v=a(2247),h=a(1199),E=a(7),f=a(5747),N=a(5746),y=a(5868),g=a(15),j=a(40),k=a(5),O=a(243),R=a(207),q=a(139),T=a(8),Q=a(10),x=a(5674);const{common:w}=k.F.factory,C=[...k.F.getExtensionsActionsForKind(Q.ResourceQuotaModel),...w],L=[...k.F.getExtensionsActionsForKind(Q.ClusterResourceQuotaModel),...w],F=e=>[...k.F.getExtensionsActionsForKind(Q.ClusterResourceQuotaModel),k.F.factory.ModifyLabels,k.F.factory.ModifyAnnotations,(t,a)=>({labelKey:"public~Edit AppliedClusterResourceQuota",href:`/k8s/ns/${e}/${Object(T.Hb)(Q.AppliedClusterResourceQuotaModel)}/${a.metadata.name}/yaml`,accessReview:{group:t.apiGroup,resource:t.plural,name:a.metadata.name,namespace:e,verb:"update"}}),k.F.factory.Delete],A=e=>!e.metadata.namespace,_=Object(T.Hb)(Q.ClusterResourceQuotaModel),M=Object(T.Hb)(Q.AppliedClusterResourceQuotaModel),P=(e,t)=>e.metadata.namespace?C:"ClusterResourceQuota"===e.kind?L:"AppliedClusterResourceQuota"===e.kind?F(t.namespace):void 0,D=e=>{const t=A(e)?s.a(e,"spec.quota.hard"):s.a(e,"spec.hard");return l.a(t).sort()},I=(e,t,a)=>{var s,l,o,c,r,n,u,i,d,m,p,b,v;let h;if(a){h={namespace:null===(o=null===(l=(null===(s=e.status)||void 0===s?void 0:s.namespaces).filter(e=>e.namespace===a)[0])||void 0===l?void 0:l.status)||void 0===o?void 0:o.used[t],cluster:null===(r=null===(c=e.status)||void 0===c?void 0:c.total)||void 0===r?void 0:r.used[t]}}else h={namespace:0,cluster:null===(u=null===(n=e.status)||void 0===n?void 0:n.total)||void 0===u?void 0:u.used[t]};const E=null===(d=null===(i=e.status)||void 0===i?void 0:i.total)||void 0===d?void 0:d.used[t],f=(null===(p=null===(m=e.status)||void 0===m?void 0:m.total)||void 0===p?void 0:p.hard[t])||(null===(v=null===(b=e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.hard[t]),N=f&&h.namespace?Object(k.Ib)(h.namespace)/Object(k.Ib)(f)*100:0,y=(f&&h.cluster?Object(k.Ib)(h.cluster)/Object(k.Ib)(f)*100:0)-N;return{used:h,totalUsed:E,max:f,percent:{namespace:N,otherNamespaces:y,unused:100-(N+y)}}},H=(e,t)=>{const a=A(e),l=a?["status","total","hard"]:["status","hard"],o=a?["spec","quota","hard"]:["spec","hard"],c=a?["status","total","used"]:["status","used"],r=s.a(e,[...l,t])||s.a(e,[...o,t]),n=s.a(e,[...c,t]);return{used:n,max:r,percent:r&&n?Object(k.Ib)(n)/Object(k.Ib)(r)*100:0}},U=["","","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],K=["","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],$=({percent:e})=>{let t=n.createElement(h.a,null);return 0===e?t=n.createElement(m.a,{className:"co-resource-quota-empty"}):e>0&&e<50?t=n.createElement(p.a,{className:"co-resource-quota-almost-empty"}):e>=50&&e<100?t=n.createElement(b.a,{className:"co-resource-quota-almost-full"}):100===e?t=n.createElement(v.a,{className:"co-resource-quota-full"}):e>100&&(t=n.createElement(g.tc,{className:"co-resource-quota-exceeded"})),t},S=({quota:e,resourceType:t,namespace:a})=>{if(Object(T.Db)(e)===M){const{used:s,totalUsed:l,max:o,percent:c}=I(e,t,a);return n.createElement("div",{className:"row co-m-row"},n.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),n.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},n.createElement($,{percent:c.namespace})),n.createElement("div",{className:"col-sm-2 col-xs-2"},s.namespace),n.createElement("div",{className:"col-sm-2 col-xs-2"},l),n.createElement("div",{className:"col-sm-2 col-xs-2"},o))}const{used:s,max:l,percent:o}=H(e,t);return n.createElement("div",{className:"row co-m-row"},n.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),n.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},n.createElement($,{percent:o})),n.createElement("div",{className:"col-sm-3 col-xs-3"},s),n.createElement("div",{className:"col-sm-3 col-xs-3"},l))},B=({scopes:e})=>n.createElement("span",null,"(",e.join(", "),")"),z=({scopes:e})=>{const{t:t}=Object(E.useTranslation)(),a={Terminating:{description:t("public~Affects pods that have an active deadline. These pods usually include builds, deployers, and jobs.")},NotTerminating:{description:t("public~Affects pods that do not have an active deadline. These pods usually include your applications.")},BestEffort:{description:t("public~Affects pods that do not have resource limits set. These pods have a best effort quality of service.")},NotBestEffort:{description:t("public~Affects pods that have at least one resource limit set. These pods do not have a best effort quality of service.")}};return e.map(e=>{const t=s.a(a,e);return t?n.createElement("dd",{key:e},n.createElement("div",{className:"co-resource-quota-scope__label"},e),n.createElement("div",{className:"co-resource-quota-scope__description"},t.description)):n.createElement("dd",{key:e,className:"co-resource-quota-scope__label"},e)})},G=e=>o.a(e,["requests.cpu","cpu","limits.cpu","requests.memory","memory","limits.memory"]).length>0,Y=({obj:e})=>{var t,a,s,l,o,c,r,d,m;const{t:p}=Object(E.useTranslation)(),b=Object(i.useParams)(),v=D(e),h=null!==(a=null===(t=e.spec)||void 0===t?void 0:t.scopes)&&void 0!==a?a:null===(l=null===(s=e.spec)||void 0===s?void 0:s.quota)||void 0===l?void 0:l.scopes,g=Object(T.Db)(e),j=g===M,O=null==b?void 0:b.ns;let R,q;switch(g){case M:R=p("public~AppliedClusterResourceQuota details"),q=n.createElement(f.a,{appliedClusterResourceQuota:e,namespace:O});break;case _:R=p("public~ClusterResourceQuota details"),q=n.createElement(y.a,{clusterResourceQuota:e});break;default:R=p("public~ResourceQuota details"),q=n.createElement(N.a,{resourceQuota:e})}const x=Object(k.Dc)({group:Q.ClusterResourceQuotaModel.apiGroup,resource:Q.ClusterResourceQuotaModel.plural,verb:"list"});return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:R}),q,n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:e},x&&n.createElement(k.r,{label:p("public~ClusterResourceQuota"),obj:e,path:"rq.metadata.name"},n.createElement(k.hb,{kind:_,name:e.metadata.name})),n.createElement(k.r,{label:p("public~Label selector"),obj:e,path:"spec.selector.labels.matchLabels"},n.createElement(k.L,{kind:M,labels:null===(r=null===(c=null===(o=e.spec)||void 0===o?void 0:o.selector)||void 0===c?void 0:c.labels)||void 0===r?void 0:r.matchLabels})),n.createElement(k.r,{label:p("public~Project annotations"),obj:e,path:"spec.selector.annotations"},n.createElement(k.pb,{selector:null===(m=null===(d=e.spec)||void 0===d?void 0:d.selector)||void 0===m?void 0:m.annotations,namespace:O})))),h&&n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,p("public~Scopes")),n.createElement(z,{scopes:h}))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:R,style:{display:"block",marginBottom:"20px"}},n.createElement(k.B,null,n.createElement("p",null,p("public~Requests are the amount of resources you expect to use. These are used when establishing if the cluster can fulfill your Request.")),n.createElement("p",null,p("public~Limits are a maximum amount of a resource you can consume. Applications consuming more than the Limit may be terminated.")),n.createElement("p",null,p("public~A cluster administrator can establish limits on both the amount you can request and your limits with a ResourceQuota.")))),n.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},n.createElement("div",{className:"row co-m-table-grid__head"},n.createElement("div",{className:"col-sm-4 col-xs-6"},p("public~Resource type")),n.createElement("div",{className:"col-sm-2 hidden-xs"},p("public~Capacity")),n.createElement("div",{className:u({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},p("public~Used")),j&&n.createElement("div",{className:"col-sm-2 col-xs-2"},p("public~Total used")),n.createElement("div",{className:u({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},p("public~Max"))),n.createElement("div",{className:"co-m-table-grid__body"},v.map(t=>n.createElement(S,{key:t,quota:e,resourceType:t,namespace:O}))))))},J=({obj:e,customData:t})=>{var a,s,l,o,c,r,i,d;const{t:m}=Object(E.useTranslation)(),p=P(e,t);let b;return b=e.kind===Q.ResourceQuotaModel.kind?Object.keys((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.hard)||{}).reduce((t,a)=>{var s,l,o;return Object(x.b)(null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.hard[a],null===(o=null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.used)||void 0===o?void 0:o[a])>=100?t+1:t},0):Object.keys((null===(l=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===l?void 0:l.hard)||{}).reduce((t,a)=>{var s,l,o,c,r;return Object(x.b)(null===(l=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===l?void 0:l.hard[a],null===(r=null===(c=null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.total)||void 0===c?void 0:c.used)||void 0===r?void 0:r[a])>=100?t+1:t},0),n.createElement(n.Fragment,null,n.createElement(j.k,{className:U[0]},n.createElement(k.hb,{kind:Object(T.Db)(e),name:e.metadata.name,namespace:Object(T.Db)(e)===M?t.namespace:e.metadata.namespace,className:"co-resource-item__resource-name",dataTest:"resource-quota-link"})),n.createElement(j.k,{className:u(U[1],"co-break-word"),columnID:"namespace"},e.metadata.namespace?n.createElement(k.hb,{kind:"Namespace",name:e.metadata.namespace}):m("public~None")),n.createElement(j.k,{className:u(U[2],"co-break-word")},n.createElement(k.L,{kind:M,labels:null===(r=null===(c=null===(o=e.spec)||void 0===o?void 0:o.selector)||void 0===c?void 0:c.labels)||void 0===r?void 0:r.matchLabels})),n.createElement(j.k,{className:u(U[3],"co-break-word")},n.createElement(k.pb,{selector:null===(d=null===(i=e.spec)||void 0===i?void 0:i.selector)||void 0===d?void 0:d.annotations,namespace:t.namespace})),n.createElement(j.k,{className:u(U[4],"co-break-word")},b>0?n.createElement(n.Fragment,null,n.createElement(g.tc,null)," ",m("public~{{count}} resource reached quota",{count:b})):m("public~none are at quota")),n.createElement(j.k,{className:U[5]},n.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(j.k,{className:U[6]},n.createElement(k.gb,{customData:t,actions:p,kind:Object(T.Db)(e),resource:e})))},W=({obj:e,customData:t})=>{var a,s,l,o,c,r,i;const{t:d}=Object(E.useTranslation)(),m=P(e,t),p=Object.keys((null===(s=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===s?void 0:s.hard)||{}).reduce((t,a)=>{var s,l,o,c,r;return Object(x.b)(null===(l=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===l?void 0:l.hard[a],null===(r=null===(c=null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.total)||void 0===c?void 0:c.used)||void 0===r?void 0:r[a])>=100?t+1:t},0);return n.createElement(n.Fragment,null,n.createElement(j.k,{className:K[0]},n.createElement(k.hb,{kind:M,name:e.metadata.name,namespace:t.namespace,className:"co-resource-item__resource-name"})),n.createElement(j.k,{className:u(K[1],"co-break-word")},n.createElement(k.L,{kind:M,labels:null===(c=null===(o=null===(l=e.spec)||void 0===l?void 0:l.selector)||void 0===o?void 0:o.labels)||void 0===c?void 0:c.matchLabels})),n.createElement(j.k,{className:u(K[2],"co-break-word")},n.createElement(k.pb,{selector:null===(i=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===i?void 0:i.annotations,namespace:t.namespace})),n.createElement(j.k,{className:u(K[3],"co-break-word")},p>0?n.createElement(n.Fragment,null,n.createElement(g.tc,null)," ",d("public~{{count}} resource reached quota",{count:p})):d("public~none are at quota")),n.createElement(j.k,{className:K[4]},n.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(j.k,{className:K[5]},n.createElement(k.gb,{customData:t,actions:m,kind:M,resource:e})))},V=e=>{const{t:t}=Object(E.useTranslation)();return n.createElement(j.j,Object.assign({},e,{"aria-label":t("public~ResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:U[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:U[1]},id:"namespace"},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:U[2]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:U[3]}},{title:t("public~Status"),props:{className:U[4]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:U[5]}},{title:"",props:{className:U[6]}}],Row:J,virtualize:!0,customData:{namespace:e.namespace}}))},X=e=>{const{t:t}=Object(E.useTranslation)();return n.createElement(j.j,Object.assign({},e,{"aria-label":t("public~AppliedClusterResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:K[0]}},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:K[1]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:K[2]}},{title:t("public~Status"),props:{className:K[3]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:K[4]}},{title:"",props:{className:K[5]}}],Row:W,virtualize:!0,customData:{namespace:e.namespace}}))},Z=e=>{if(e)return e.metadata.namespace?"namespace":"cluster"},ee=e=>c.a(e,e=>r.a(e.data)),te=Object(O.a)(g.O.OPENSHIFT)(({namespace:e,flags:t,mock:a,showTitle:s})=>{const{t:l}=Object(E.useTranslation)(),o=[{kind:"ResourceQuota",namespaced:!0}];let c=null;if(Object(R.c)(t[g.O.OPENSHIFT]))return n.createElement(q.f,null);t[g.O.OPENSHIFT]&&(e?o.push({kind:Object(T.Hb)(Q.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}):o.push({kind:Object(T.Hb)(Q.ClusterResourceQuotaModel),namespaced:!1,optional:!0}),c=[{filterGroupName:l("public~Role"),type:"role-kind",reducer:Z,items:[{id:"cluster",title:l("public~Cluster-wide {{resource}}",{resource:l(Q.ResourceQuotaModel.labelPluralKey)})},{id:"namespace",title:l("public~Namespace {{resource}}",{resource:l(Q.ResourceQuotaModel.labelPluralKey)})}]}]);const r=e||"default",u={model:Q.ResourceQuotaModel,namespace:r};return n.createElement(j.i,{canCreate:!0,createAccessReview:u,createButtonText:l("public~Create ResourceQuota"),createProps:{to:`/k8s/ns/${r}/resourcequotas/~new`},ListComponent:V,resources:o,label:l(Q.ResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:l(Q.ResourceQuotaModel.labelPluralKey),rowFilters:c,mock:a,showTitle:s})}),ae=({namespace:e,mock:t,showTitle:a})=>{const{t:s}=Object(E.useTranslation)(),l=[{kind:Object(T.Hb)(Q.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}];return n.createElement(j.i,{ListComponent:X,resources:l,label:s(Q.AppliedClusterResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:s(Q.AppliedClusterResourceQuotaModel.labelPluralKey),mock:t,showTitle:a})},se=e=>n.createElement(j.a,Object.assign({},e,{menuActions:C,pages:[k.mc.details(Y),k.mc.editYaml()]})),le=e=>{const t=Object(i.useParams)(),a=F(null==t?void 0:t.ns);return n.createElement(j.a,Object.assign({},e,{menuActions:a,pages:[k.mc.details(Y),k.mc.editYaml()]}))}},5674:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c}));var s=a(5);const l=["configmaps","persistentvolumeclaims","pods","replicationcontrollers","resourcequotas","services","services.loadbalancers","services.nodeports","secrets","openshift.io/imagestreams"],o=(e,t)=>{let a=Object(s.Ib)(t),l=Object(s.Ib)(e);return a&&l||(a=parseInt(a,10),l=parseInt(l,10)),a&&l?a/l*100:0},c=({resourceName:e,used:t,hard:a})=>{const c=e.startsWith("count/")||l.includes(e),r=o(a,t);return{label:c?`${t||0} of ${a}`:Object(s.ec)(r).string,percent:r}}},5712:function(e,t,a){},5746:function(e,t,a){"use strict";var s=a(0),l=a(7),o=a(5807),c=a(5674);a(5712);t.a=({resourceQuota:e})=>{var t,a;const{t:r}=Object(l.useTranslation)(),n=Object.keys(null!==(a=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==a?a:{}).map(t=>{var a;const l=e.status.hard[t],r=null===(a=e.status.used)||void 0===a?void 0:a[t],{label:n,percent:u}=Object(c.a)({resourceName:t,used:r,hard:l});return s.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},s.createElement(o.b,{data:{x:u+"%",y:u},thresholds:[{value:90},{value:101}],title:t,label:n}))});return s.createElement("div",{className:"co-resource-quota-chart-row"},n.length?n:s.createElement(s.Fragment,null,r("console-app~No quota")))}},5747:function(e,t,a){"use strict";var s=a(0),l=a(7),o=a(5748),c=a(5674);a(5712);t.a=({appliedClusterResourceQuota:e,namespace:t})=>{var a,r,n,u;const{t:i}=Object(l.useTranslation)(),d=null===(r=null===(a=e.status)||void 0===a?void 0:a.namespaces)||void 0===r?void 0:r.find(e=>e.namespace===t),m=Object.keys(null!==(u=null===(n=null==d?void 0:d.status)||void 0===n?void 0:n.hard)&&void 0!==u?u:{}).map(t=>{var a,l,r,n,u;const i=null===(l=null===(a=e.status.total)||void 0===a?void 0:a.hard)||void 0===l?void 0:l[t],m=null===(n=null===(r=e.status.total)||void 0===r?void 0:r.used)||void 0===n?void 0:n[t],p=null===(u=d.status.used)||void 0===u?void 0:u[t],b=Object(c.b)(i,m),v=100-b,{label:h,percent:E}=Object(c.a)({resourceName:t,used:p,hard:i}),f=b-E;return s.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},s.createElement(o.a,{data:[{x:"Namespace",y:E},{x:"Other namespaces",y:f},{x:"Unused",y:v}],title:t,label:h}))});return s.createElement("div",{className:"co-resource-quota-chart-row"},m.length?m:s.createElement(s.Fragment,null,i("console-app~No quota")))}},5748:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var s=a(0),l=a(2232),o=a(6044),c=a(6045),r=a(6046),n=a(6047),u=a(6048),i=a(18),d=a.n(i),m=a(7),p=a(1943),b=a(5);const v=({data:e,query:t="",title:a,ariaChartLinkLabel:i,ariaChartTitle:v,ariaDescription:h,usedLabel:E,label:f,secondaryTitle:N,className:y})=>{var g;const{t:j}=Object(m.useTranslation)(),[k,O]=Object(b.Ic)(),R=E||j("public~used"),q=N||R,T=f||j("No data"),Q=e.filter(e=>"Namespace"===e.x);return s.createElement(p.a,{className:d()("graph-wrapper--title-center graph-wrapper--gauge",y),ref:k,title:a},s.createElement(p.b,{query:t,ariaChartLinkLabel:i},s.createElement(l.a,{ariaTitle:v||a,ariaDesc:h,data:e,height:O,padding:0,labels:({datum:{x:e,y:t}})=>j("public~{{x}}: {{y}}%",{x:e,y:t}),width:O,subTitle:q,colorScale:100===(null===(g=Q[0])||void 0===g?void 0:g.y)?[o.a.value,c.a.value,r.a.value]:[n.a.value,u.a.value,r.a.value],title:T})))}},5807:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return E}));var s=a(0),l=a(515),o=a(6028),c=a(6029),r=a(18),n=a.n(r),u=a(7),i=a(1943),d=a(1197),m=a(436),p=a(5),b=a(1406);const v=[{value:67},{value:92}],h=({data:e,error:t,humanize:a=p.ec,invert:r=!1,loading:d,query:m="",remainderLabel:b,themeColor:h=l.a.green,thresholds:E=v,title:f,ariaChartLinkLabel:N,ariaChartTitle:y,usedLabel:g,label:j,secondaryTitle:k,className:O})=>{const{t:R}=Object(u.useTranslation)(),[q,T]=Object(p.Ic)(),Q=!t&&!d,x=d?R("Loading"):t,w=g||R("public~used"),C=k||w,L=j||(e?a(e.y).string:void 0)||R("No data");return s.createElement(i.a,{className:n()("graph-wrapper--title-center graph-wrapper--gauge",O),ref:q,title:f},s.createElement(i.b,{query:m,ariaChartLinkLabel:N},s.createElement(o.a,{ariaTitle:y||f,data:E,height:T,padding:0,width:T,y:"value"},s.createElement(c.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${w}`:`${t} ${b||R("available")}`,data:Q?e:{y:0},invert:r,padding:0,subTitle:Q?C:"",themeColor:h,thresholds:E,title:x||L}))))},E=({humanize:e=p.ec,invert:t,namespace:a,percent:l=0,query:o,remainderLabel:c,secondaryTitle:r,thresholds:n,title:i,usedLabel:v})=>{const{t:E}=Object(u.useTranslation)(),[f,N,y]=Object(d.usePrometheusPoll)({endpoint:m.a.QUERY,namespace:a,query:o}),[g]=f?Object(b.a)(f,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(l).string,y:l}];return s.createElement(h,{data:g,error:!!N&&E("No data"),invert:t,label:g.x,loading:y,query:o,remainderLabel:c,secondaryTitle:r,thresholds:n,title:i,usedLabel:v})}},5868:function(e,t,a){"use strict";var s=a(0),l=a(7),o=a(5748),c=a(5674);a(5712);t.a=({clusterResourceQuota:e})=>{var t,a,r;const{t:n}=Object(l.useTranslation)(),u=Object.keys(null!==(r=null===(a=null===(t=e.status)||void 0===t?void 0:t.total)||void 0===a?void 0:a.hard)&&void 0!==r?r:{}).map(t=>{var a;const l=e.status.total.hard[t],r=null===(a=e.status.total.used)||void 0===a?void 0:a[t],{label:n,percent:u}=Object(c.a)({resourceName:t,used:r,hard:l});return s.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},s.createElement(o.a,{data:[{x:"Used",y:u},{x:"Unused",y:100-u}],title:t,label:n}))});return s.createElement("div",{className:"co-resource-quota-chart-row"},u.length?u:s.createElement(s.Fragment,null,n("console-app~No quota")))}}}]);
//# sourceMappingURL=namespace~resource-quota-chunk-a41bd6f0a3cf576f73e4.min.js.map