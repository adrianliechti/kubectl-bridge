(window.webpackJsonp=window.webpackJsonp||[]).push([[290],{2364:function(e,n,t){"use strict";t.r(n);var o=t(7970);t.d(n,"debug",(function(){return o.a}));var i=t(7971);t.d(n,"usage",(function(){return i.a}));var r=t(7972);t.d(n,"segment",(function(){return r.a}))},6404:function(e,n,t){"use strict";var o,i,r,c,l,d,a,u;t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return v}));const s="true"===(null===(i=null===(o=window.SERVER_FLAGS)||void 0===o?void 0:o.telemetry)||void 0===i?void 0:i.DISABLED)||"true"===(null===(c=null===(r=window.SERVER_FLAGS)||void 0===r?void 0:r.telemetry)||void 0===c?void 0:c.DEVSANDBOX_DISABLED)||"true"===(null===(d=null===(l=window.SERVER_FLAGS)||void 0===l?void 0:l.telemetry)||void 0===d?void 0:d.TELEMETER_CLIENT_DISABLED),v="true"===(null===(u=null===(a=window.SERVER_FLAGS)||void 0===a?void 0:a.telemetry)||void 0===u?void 0:u.DEBUG)},7970:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var o=t(6404);const i=(e,n)=>{o.a&&console.debug("console-telemetry-plugin: received telemetry event:",e,n)}},7971:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var o=function(e,n,t,o){return new(t||(t=Promise))((function(i,r){function c(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,l)}d((o=o.apply(e,n||[])).next())}))};const i=e=>fetch("/metrics/usage",{method:"POST",body:JSON.stringify(e)}).then(e=>{e.ok||console.error("console-telemetry-plugin: unable to track usage:",e.statusText)}).catch(e=>{console.error("console-telemetry-plugin: unable to track usage:",e)}),r=(e,n)=>o(void 0,void 0,void 0,(function*(){switch(e){case"identify":{const e=(null==n?void 0:n.perspective)||"unknown";i({event:"page_view",perspective:e});break}case"page":{const e=(null==n?void 0:n.perspective)||"unknown";i({event:"page_impression",perspective:e});break}case"Perspective Changed":{const e=(null==n?void 0:n.perspective)||"unknown";i({event:"perspective_changed",perspective:e});break}}}))},7972:function(e,n,t){"use strict";t.d(n,"a",(function(){return k}));var o,i,r,c,l,d,a,u,s,v,p,y,f=t(6404),w=function(e,n,t,o){return new(t||(t=Promise))((function(i,r){function c(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,l)}d((o=o.apply(e,n||[])).next())}))},m=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t};const E=(null===(i=null===(o=window.SERVER_FLAGS)||void 0===o?void 0:o.telemetry)||void 0===i?void 0:i.DEVSANDBOX_SEGMENT_API_KEY)||(null===(c=null===(r=window.SERVER_FLAGS)||void 0===r?void 0:r.telemetry)||void 0===c?void 0:c.SEGMENT_API_KEY)||(null===(d=null===(l=window.SERVER_FLAGS)||void 0===l?void 0:l.telemetry)||void 0===d?void 0:d.SEGMENT_PUBLIC_API_KEY)||"",g=(null===(u=null===(a=window.SERVER_FLAGS)||void 0===a?void 0:a.telemetry)||void 0===u?void 0:u.SEGMENT_API_HOST)||"",S=(null===(v=null===(s=window.SERVER_FLAGS)||void 0===s?void 0:s.telemetry)||void 0===v?void 0:v.SEGMENT_JS_HOST)||"cdn.segment.com",_=(null===(y=null===(p=window.SERVER_FLAGS)||void 0===p?void 0:p.telemetry)||void 0===y?void 0:y.SEGMENT_JS_URL)||`https://${S}/analytics.js/v1/${encodeURIComponent(E)}/analytics.min.js`;!f.b&&E&&(()=>{f.a&&console.info("console-telemetry-plugin: initialize segment API with:",{apiKey:E,apiHost:g,jsHost:S,jsUrl:_});const e=window.analytics=window.analytics||[];if(e.initialize)return;if(e.invoked)return void console.error("console-telemetry-plugin: segment snippet included twice");e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(n){return function(){const t=Array.prototype.slice.call(arguments);return t.unshift(n),e.push(t),e}};for(const n of e.methods)e[n]=e.factory(n);e.load=function(n,t){const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=_;const i=document.getElementsByTagName("script")[0];i.parentNode&&i.parentNode.insertBefore(o,i),e._loadOptions=t},e.SNIPPET_VERSION="4.13.1";const n={};g&&(n.integrations={"Segment.io":{apiHost:g}}),e.load(E,n)})();const b={context:{ip:"0.0.0.0"}},k=(e,n)=>w(void 0,void 0,void 0,(function*(){if(E)switch(e){case"identify":{const{user:e}=n,t=m(n,["user"]),o=null==t?void 0:t.clusterId,i=null==t?void 0:t.organizationId,r=null==e?void 0:e.username;if(r){let e;e=i?"kubeadmin"===r||"kube:admin"===r?`${i}@${o}`:`${r}@${o}`:r;const n=yield crypto.subtle.digest("SHA-1",(new TextEncoder).encode(e)),c=Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("");f.a&&console.debug("console-telemetry-plugin: use anonymized user identifier to group events",{username:r,clusterId:o,organizationId:i,anonymousIdInput:e,anonymousId:c}),window.analytics.identify(c,t,b)}else console.error("console-telemetry-plugin: unable to identify as no user name was provided",n)}break;case"page":window.analytics.page(void 0,n,b);break;default:window.analytics.track(e,n,b)}else f.a&&console.debug("console-telemetry-plugin: missing Segment API key - ignoring telemetry event:",e,n)}))}}]);
//# sourceMappingURL=telemetryListeners-chunk-ae32cd77f72eb837ab58.min.js.map