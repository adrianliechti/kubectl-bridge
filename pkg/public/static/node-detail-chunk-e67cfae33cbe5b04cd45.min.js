(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{11872:function(e,t,a){"use strict";var n=a(0),o=a(107),s=a(694),l=a(4374),r=a(11873),c=a(11874),i=a(11875),u=a(6258),d=a(11876),m=a(11880);const p=[{Card:c.a},{Card:i.a}],E=[{Card:d.a},{Card:m.a}],b=[{Card:r.a}];var O;!function(e){e.CPU_LIMIT="CPU_LIMIT",e.MEMORY_LIMIT="MEMORY_LIMIT",e.HEALTH_CHECK="HEALTH_CHECK",e.OBJ="OBJ"}(O||(O={}));const _=(e,t)=>{switch(t.type){case O.CPU_LIMIT:return o.a(t.payload,e.cpuLimit)?e:Object.assign(Object.assign({},e),{cpuLimit:t.payload});case O.MEMORY_LIMIT:return o.a(t.payload,e.memoryLimit)?e:Object.assign(Object.assign({},e),{memoryLimit:t.payload});case O.HEALTH_CHECK:return o.a(t.payload,e.healthCheck)?e:Object.assign(Object.assign({},e),{healthCheck:t.payload});case O.OBJ:return t.payload===e.obj?e:Object.assign(Object.assign({},e),{obj:t.payload});default:return e}};t.a=({obj:e})=>{const[t,a]=n.useReducer(_,(e=>({obj:e,cpuLimit:void 0,memoryLimit:void 0,healthCheck:void 0}))(e));e!==t.obj&&a({type:O.OBJ,payload:e});const o=n.useCallback(e=>a({type:O.CPU_LIMIT,payload:e}),[]),r=n.useCallback(e=>a({type:O.MEMORY_LIMIT,payload:e}),[]),c=n.useCallback(e=>a({type:O.HEALTH_CHECK,payload:e}),[]),i={obj:e,cpuLimit:t.cpuLimit,memoryLimit:t.memoryLimit,healthCheck:t.healthCheck,setCPULimit:o,setMemoryLimit:r,setHealthCheck:c};return n.createElement(u.a.Provider,{value:i},n.createElement(s.default,null,n.createElement(l.default,{mainCards:E,leftCards:p,rightCards:b})))}},11873:function(e,t,a){"use strict";var n=a(0),o=a(192),s=a(434),l=a(295),r=a(7),c=a(14),i=a(5),u=a(108),d=a(10),m=a(1950),p=a(6258);const E={isList:!0,kind:d.EventModel.kind},b=({node:e})=>{const[t,a,o]=Object(u.a)(E),{uid:s,name:l}=e.metadata,r=n.useCallback(e=>((e,t,a,n)=>{const{uid:o,kind:s,name:l}=(null==e?void 0:e.involvedObject)||{};return o===t&&s===a&&l===n})(e,s,d.NodeModel.kind,l),[s,l]);return n.createElement(m.RecentEventsBody,{events:{data:t,loaded:a,loadError:o},filter:r})};t.a=()=>{const{obj:e}=n.useContext(p.a),t=Object(i.uc)(d.NodeModel,e.metadata.name)+"/events",{t:a}=Object(r.useTranslation)();return n.createElement(o.a,{"data-test-id":"activity-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(s.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(c.Link,{to:t},a("console-app~View events"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(l.a,null,a("console-app~Activity"))),n.createElement(m.default,{className:"co-project-dashboard__activity-body"},n.createElement(m.OngoingActivityBody,{loaded:!0}),n.createElement(b,{node:e})))}},11874:function(e,t,a){"use strict";var n=a(0),o=a(2239),s=a(192),l=a(434),r=a(295),c=a(296),i=a(7),u=a(14),d=a(5),m=a(10),p=a(4379),E=a(877),b=a(6445),O=a(7567),_=a(6258),h=a(6880);t.a=()=>{var e,t;const{obj:a}=n.useContext(_.a),v=Object(d.uc)(m.NodeModel,a.metadata.name)+"/details",f=null===(e=a.metadata.labels)||void 0===e?void 0:e["beta.kubernetes.io/instance-type"],T=null===(t=a.metadata.labels)||void 0===t?void 0:t["topology.kubernetes.io/zone"],{t:g}=Object(i.useTranslation)();return n.createElement(s.a,{"data-test-id":"details-card",isClickable:!0,isSelectable:!0},n.createElement(l.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(u.Link,{to:v},g("console-app~View all"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(r.a,null,g("console-app~Details"))),n.createElement(c.a,null,n.createElement(p.default,null,n.createElement(o.b,{isLoading:!a,title:g("console-app~Node name")},a.metadata.name),n.createElement(o.b,{isLoading:!a,title:g("console-app~Roles")},n.createElement(O.a,{node:a})),n.createElement(o.b,{isLoading:!a,title:g("console-app~Instance type"),error:f?void 0:g("console-app~Not available")},f),n.createElement(o.b,{isLoading:!a,title:g("console-app~Zone"),error:T?void 0:g("console-app~Not available")},T),n.createElement(o.b,{isLoading:!a,title:g("console-app~Node addresses")},n.createElement(b.a,{ips:Object(E.a)(a),expand:!0})),n.createElement(o.b,{isLoading:!a,title:g("console-app~Uptime")},n.createElement(h.a,{obj:a})))))}},11875:function(e,t,a){"use strict";var n=a(0),o=a(192),s=a(434),l=a(295),r=a(296),c=a(967),i=a(406),u=a(7),d=a(5),m=a(108),p=a(10),E=a(8),b=a(4378),O=a(2231),_=a(6258);const h=({nodeName:e,model:t,mapper:a})=>{const o=n.useMemo(()=>({kind:t.crd?Object(E.Hb)(t):t.kind,fieldSelector:"spec.nodeName="+e,isList:!0}),[e,t]),[s,l,r]=Object(m.a)(o),c=Object(d.uc)(p.NodeModel,e)+"/pods";return n.createElement(b.ResourceInventoryItem,{kind:t,isLoading:!l,error:!!r,resources:s,mapper:a,basePath:c})};t.a=()=>{var e,t,a;const{obj:d}=n.useContext(_.a),{t:m}=Object(u.useTranslation)();return n.createElement(o.a,{"data-test-id":"inventory-card"},n.createElement(s.a,null,n.createElement(l.a,null,m("console-app~Inventory"))),n.createElement(r.a,null,n.createElement(c.a,{hasGutter:!0},n.createElement(i.a,null,n.createElement(h,{nodeName:d.metadata.name,model:p.PodModel,mapper:O.getPodStatusGroups})),n.createElement(i.a,null,n.createElement(b.default,{isLoading:!d,title:m("console-app~Image"),titlePlural:m("console-app~Images"),count:null===(t=null===(e=d.status)||void 0===e?void 0:e.images)||void 0===t?void 0:t.length,error:!(null===(a=d.status)||void 0===a?void 0:a.images)})))))}},11876:function(e,t,a){"use strict";var n=a(0),o=a(192),s=a(434),l=a(295),r=a(7),c=a(5793),i=a(5),u=a(11877),d=a(6258),m=a(8406);t.a=()=>{const{obj:e}=n.useContext(d.a),{t:t}=Object(r.useTranslation)();return n.createElement(o.a,{"data-test-id":"status-card",className:"co-overview-card--gradient"},n.createElement(s.a,null,n.createElement(l.a,null,t("console-app~Status"))),e?n.createElement(n.Fragment,null,n.createElement(m.b,null),n.createElement(u.a,null),n.createElement(c.a,{labelSelector:{node:e.metadata.name}})):n.createElement(i.T,null))}},11877:function(e,t,a){"use strict";var n=a(0),o=a(353),s=a(19),l=a(7),r=a(6258),c=a(7568),i=a(13),u=a(83),d=a(5),m=a(108),p=a(10),E=a(4376),b=a(4375),O=a(11878),_=a(330),h=a(877),v=a(8405),f=a(8406),T=a(8407);const g=({humanize:e,currentKey:t,totalKey:a,limitKey:s,requestedKey:i,limitState:u,requestedState:d,Popover:m})=>{var p;const{obj:E}=n.useContext(r.a),b=E.metadata.name,_=null===(p=Object(h.a)(E).find(e=>"InternalIP"===e.type))||void 0===p?void 0:p.address,[v,f]=n.useMemo(()=>[Object(c.e)(b,_),Object(c.c)(b)],[_,b]),[g,S,y]=Object(O.a)(v[t],e),[R,C,P]=Object(O.a)(v[a],e),[N,j]=Object(O.a)(f[s],e),[M,I]=Object(O.a)(f[i],e),{t:U}=Object(l.useTranslation)(),k=y&&P?e(P-y).string:U("console-app~Not available");return n.createElement(T.f.Provider,{value:{nodeName:b,nodeIP:_}},n.createElement(m,{title:U("console-app~See breakdown"),current:S?U("console-app~Not available"):g.string,total:C?U("console-app~Not available"):R.string,limit:j?U("console-app~Not available"):N.string,requested:I?U("console-app~Not available"):M.string,available:k,limitState:u,requestedState:d,position:o.b.right}))},S=(e,{limReqErr:t,limReqWarn:a,limErr:n,limWarn:o,reqWarn:s})=>{const{limit:l,requested:r}=e||{};return!e||l===i.m.OK&&r===i.m.OK?null:l===i.m.ERROR?{Icon:_.g,message:r===i.m.OK?n:t}:l===i.m.WARN?{Icon:_.i,message:r===i.m.OK?o:a}:{Icon:_.i,message:s}},y=()=>{const{obj:e}=n.useContext(r.a),[t,a]=Object(h.f)(e),c=Object(m.a)(t&&a?{groupVersionKind:Object(u.getGroupVersionKindForModel)(p.MachineModel),name:t,namespace:a}:void 0),i=Object(m.a)(f.d),d=Object(f.c)(e,c,i),{t:E}=Object(l.useTranslation)();return n.createElement(o.a,{position:o.b.top,headerContent:E("console-app~Health checks"),bodyContent:n.createElement(f.a,{conditions:d.conditions,machineHealthChecks:d.matchingHC}),enableFlip:!0,maxWidth:"21rem"},n.createElement(s.a,{variant:"link",isInline:!0,className:"co-status-card__popup"},E("console-app~See details")))};t.a=({children:e})=>{const{cpuLimit:t,memoryLimit:a,healthCheck:o}=n.useContext(r.a),{t:s}=Object(l.useTranslation)(),i=S(t,{limReqErr:v.c,limErr:v.b,limReqWarn:v.d,limWarn:v.e,reqWarn:v.f}),u=S(a,{limReqErr:v.h,limErr:v.g,limReqWarn:v.i,limWarn:v.j,reqWarn:v.k});return n.createElement(b.default,null,!!(null==o?void 0:o.failingHealthCheck)&&n.createElement(E.StatusItem,{Icon:_.h,message:v.a(o.reboot)},n.createElement(y,null)),!!i&&n.createElement(E.StatusItem,{Icon:i.Icon,message:s("console-app~{{ cpuMessage }}",{cpuMessage:i.message})},n.createElement(g,{humanize:d.Yb,currentKey:c.a.CPU_USAGE,totalKey:c.a.CPU_TOTAL,limitKey:c.a.POD_RESOURCE_LIMIT_CPU,requestedKey:c.a.POD_RESOURCE_REQUEST_CPU,limitState:null==t?void 0:t.limit,requestedState:null==t?void 0:t.requested,Popover:T.a})),!!u&&n.createElement(E.StatusItem,{Icon:u.Icon,message:s("console-app~{{ memoryMessage }}",{memoryMessage:u.message})},n.createElement(g,{humanize:d.Wb,currentKey:c.a.MEMORY_USAGE,totalKey:c.a.MEMORY_TOTAL,limitKey:c.a.POD_RESOURCE_LIMIT_MEMORY,requestedKey:c.a.POD_RESOURCE_REQUEST_MEMORY,limitState:null==a?void 0:a.limit,requestedState:null==a?void 0:a.requested,Popover:T.c})),e)}},11878:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),o=(a(22),a(31)),s=a(786),l=a(517),r=a(1406),c=a(327);const i=(e,t)=>{const a=Object(o.useDispatch)();n.useEffect(()=>(a(Object(l.f)(e)),()=>{a(Object(l.d)(e))}),[a,e]);const s=Object(o.useSelector)(({dashboards:t})=>t.getIn([c.a.PROMETHEUS,e]));return n.useMemo(()=>{var e;if(!s||!s.get("data"))return[{},null,null];const a=null===(e=Object(r.a)(s.get("data"))[0])||void 0===e?void 0:e.y;return[t(a),s.get("loadError"),a]},[s,t])};Object(s.b)(s.c,o.shallowEqual)},11879:function(e,t,a){},11880:function(e,t,a){"use strict";var n=a(0),o=a(192),s=a(434),l=a(295),r=a(7),c=a(5806),i=a(5),u=a(4365),d=a(4366),m=a(762),p=a(877),E=a(6258),b=a(7568),O=a(8407);const _=[O.d,O.e];t.a=()=>{var e;const{t:t}=Object(r.useTranslation)(),{obj:a,setCPULimit:h,setMemoryLimit:v}=n.useContext(E.a),f=a.metadata.name,T=null===(e=Object(p.a)(a).find(e=>"InternalIP"===e.type))||void 0===e?void 0:e.address,[g,S,y]=n.useMemo(()=>[Object(b.e)(f,T),Object(b.b)(f),Object(b.c)(f)],[T,f]);return n.createElement(o.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},n.createElement(s.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(d.UtilizationDurationDropdown,null)),hasNoOffset:!1,className:void 0}},n.createElement(l.a,null,t("console-app~Utilization"))),n.createElement(u.default,null,n.createElement(O.f.Provider,{value:{nodeIP:T,nodeName:f}},n.createElement(c.b,{title:t("console-app~CPU"),humanizeValue:i.Yb,utilizationQuery:g[b.a.CPU_USAGE],totalQuery:g[b.a.CPU_TOTAL],limitQuery:y[b.a.POD_RESOURCE_LIMIT_CPU],requestQuery:y[b.a.POD_RESOURCE_REQUEST_CPU],TopConsumerPopover:O.a,setLimitReqState:h}),n.createElement(c.b,{title:t("console-app~Memory"),humanizeValue:i.Wb,utilizationQuery:g[b.a.MEMORY_USAGE],totalQuery:g[b.a.MEMORY_TOTAL],limitQuery:y[b.a.POD_RESOURCE_LIMIT_MEMORY],requestQuery:y[b.a.POD_RESOURCE_REQUEST_MEMORY],byteDataType:m.a.BinaryBytes,TopConsumerPopover:O.c,setLimitReqState:v}),n.createElement(c.b,{title:t("console-app~Filesystem"),humanizeValue:i.Wb,utilizationQuery:g[b.a.FILESYSTEM_USAGE],totalQuery:g[b.a.FILESYSTEM_TOTAL],byteDataType:m.a.BinaryBytes,TopConsumerPopover:O.b}),n.createElement(c.a,{title:t("console-app~Network transfer"),humanizeValue:i.ac,queries:S[b.a.NETWORK_UTILIZATION],TopConsumerPopovers:_}),n.createElement(c.b,{title:t("console-app~Pod count"),humanizeValue:i.bc,utilizationQuery:g[b.a.POD_COUNT]}))))}},11881:function(e,t,a){"use strict";var n=a(0),o=a(11882),s=a(11883),l=a(11884);t.a=({obj:e})=>n.createElement(n.Fragment,null,n.createElement(l.a,{node:e}),n.createElement(o.a,{node:e}),n.createElement(s.a,{node:e}))},11882:function(e,t,a){"use strict";var n=a(0),o=a(50),s=a(7),l=a(13),r=a(5);t.a=({node:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement("div",{className:"co-m-pane__body"},n.createElement(r.ob,{text:t("console-app~Node conditions")}),n.createElement("div",{className:"co-table-container"},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr"},n.createElement("th",{className:"pf-v5-c-table__th"},t("console-app~Type")),n.createElement("th",{className:"pf-v5-c-table__th"},t("console-app~Status")),n.createElement("th",{className:"pf-v5-c-table__th"},t("console-app~Reason")),n.createElement("th",{className:"pf-v5-c-table__th"},t("console-app~Updated")),n.createElement("th",{className:"pf-v5-c-table__th"},t("console-app~Changed")))),n.createElement("tbody",{className:"pf-v5-c-table__tbody"},o.a(e.status.conditions,(e,t)=>n.createElement("tr",{className:"pf-v5-c-table__tr",key:t},n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(l.e,{value:e.type})),n.createElement("td",{className:"pf-v5-c-table__td"},e.status||"-"),n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(l.e,{value:e.reason})),n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(r.xb,{timestamp:e.lastHeartbeatTime})),n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(r.xb,{timestamp:e.lastTransitionTime}))))))))}},11883:function(e,t,a){"use strict";var n=a(0),o=a(116),s=a(50),l=a(7),r=a(5);t.a=({node:e})=>{const t=o.a(e.status.images,"names"),{t:a}=Object(l.useTranslation)();return n.createElement("div",{className:"co-m-pane__body"},n.createElement(r.ob,{text:a("console-app~Images")}),n.createElement("div",{className:"co-table-container"},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr"},n.createElement("th",{className:"pf-v5-c-table__th"},a("console-app~Name")),n.createElement("th",{className:"pf-v5-c-table__th"},a("console-app~Size")))),n.createElement("tbody",{className:"pf-v5-c-table__tbody"},s.a(t,(e,t)=>n.createElement("tr",{className:"pf-v5-c-table__tr",key:t},n.createElement("td",{className:"pf-v5-c-table__td pf-m-break-word co-select-to-copy"},e.names.find(e=>!e.includes("@")&&!e.includes("<none>"))||e.names[0]),n.createElement("td",{className:"pf-v5-c-table__td"},r.Cc.humanize(e.sizeBytes,"binaryBytes",!0).string||"-")))))))}},11884:function(e,t,a){"use strict";var n=a(0),o=a(19),s=a(615),l=a(16),r=a(279),c=a(225),i=a(7),u=a(5),d=a(123),m=a(10),p=a(8),E=a(1974),b=a(877),O=a(6880),_=a(6445),h=a(6881);t.a=({node:e})=>{const t=Object(E.useLabelsModal)(e),[a,v]=Object(b.f)(e),f=Object(u.Dc)({group:m.NodeModel.apiGroup,resource:m.NodeModel.plural,verb:"patch",name:e.metadata.name,namespace:e.metadata.namespace}),{t:T}=Object(i.useTranslation)();return n.createElement("div",{className:"co-m-pane__body"},n.createElement(u.ob,{text:T("console-app~Node details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6 col-xs-12"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,T("console-app~Node name")),n.createElement("dd",null,e.metadata.name||"-"),n.createElement("dt",null,T("console-app~Status")),n.createElement("dd",null,n.createElement(h.b,{node:e})),n.createElement("dt",null,T("console-app~External ID")),n.createElement("dd",null,l.a(e,"spec.externalID","-")),n.createElement("dt",null,T("console-app~Uptime")),n.createElement("dd",null,n.createElement(O.a,{obj:e})),n.createElement("dt",null,T("console-app~Node addresses")),n.createElement("dd",null,n.createElement(_.a,{ips:Object(b.a)(e),expand:!0})),n.createElement(d.a,{label:T("console-app~Labels"),obj:e,path:"metadata.labels",valueClassName:"details-item__value--labels",onEdit:t,canEdit:f,editAsGroup:!0},n.createElement(u.L,{kind:"Node",labels:e.metadata.labels})),n.createElement("dt",null,T("console-app~Taints")),n.createElement("dd",null,f?n.createElement(o.a,{variant:"link",type:"button",isInline:!0,onClick:u.F.factory.ModifyTaints(m.NodeModel,e).callback},r.a(e.spec.taints)," ",T("console-app~Taint",{count:r.a(e.spec.taints)}),n.createElement(s.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})):n.createElement("span",null,r.a(e.spec.taints)," ",T("console-app~Taint",{count:r.a(e.spec.taints)}))),n.createElement("dt",null,T("console-app~Annotations")),n.createElement("dd",null,f?n.createElement(o.a,{variant:"link",type:"button",isInline:!0,onClick:u.F.factory.ModifyAnnotations(m.NodeModel,e).callback},r.a(e.metadata.annotations)," ",T("console-app~Annotation",{count:r.a(e.metadata.annotations)}),n.createElement(s.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})):n.createElement("span",null,r.a(e.metadata.annotations)," ",T("console-app~Annotation",{count:r.a(e.metadata.annotations)}))),a&&n.createElement(n.Fragment,null,n.createElement("dt",null,T("console-app~Machine")),n.createElement("dd",null,n.createElement(u.hb,{kind:Object(p.Hb)(m.MachineModel),name:a,namespace:v}))),n.createElement("dt",null,T("console-app~Provider ID")),n.createElement("dd",null,Object(u.Hb)([Object(u.Gb)(e)])),c.a(e,"spec.unschedulable")&&n.createElement("dt",null,T("console-app~Unschedulable")),c.a(e,"spec.unschedulable")&&n.createElement("dd",{className:"text-capitalize"},l.a(e,"spec.unschedulable","-").toString()),n.createElement("dt",null,T("console-app~Created")),n.createElement("dd",null,n.createElement(u.xb,{timestamp:e.metadata.creationTimestamp})))),n.createElement("div",{className:"col-md-6 col-xs-12"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,T("console-app~Operating system")),n.createElement("dd",{className:"text-capitalize"},l.a(e,"status.nodeInfo.operatingSystem","-")),n.createElement("dt",null,T("console-app~OS image")),n.createElement("dd",null,l.a(e,"status.nodeInfo.osImage","-")),n.createElement("dt",null,T("console-app~Architecture")),n.createElement("dd",{className:"text-uppercase"},l.a(e,"status.nodeInfo.architecture","-")),n.createElement("dt",null,T("console-app~Kernel version")),n.createElement("dd",null,l.a(e,"status.nodeInfo.kernelVersion","-")),n.createElement("dt",null,T("console-app~Boot ID")),n.createElement("dd",null,l.a(e,"status.nodeInfo.bootID","-")),n.createElement("dt",null,T("console-app~Container runtime")),n.createElement("dd",null,l.a(e,"status.nodeInfo.containerRuntimeVersion","-")),n.createElement("dt",null,T("console-app~Kubelet version")),n.createElement("dd",null,l.a(e,"status.nodeInfo.kubeletVersion","-")),n.createElement("dt",null,T("console-app~Kube-Proxy version")),n.createElement("dd",null,l.a(e,"status.nodeInfo.kubeProxyVersion","-"))))))}},11885:function(e,t,a){"use strict";var n=a(0),o=a(205),s=a(969),l=a(1193),r=a(510),c=a(204),i=a(354),u=a(165),d=a(294),m=a(472),p=a(80),E=a(156),b=a(405),O=a(611),_=a(355),h=a(2095),v=a(18),f=a.n(v),T=a(7),g=a(109),S=a(5),y=a(8),R=a(15),C=a(30),P=a(11886);a(11887);const N=({onTogglePath:e,onChangePath:t,path:a,isPathOpen:p,pathItems:E,isJournal:b,onChangeUnit:O,unit:_,isLoadingFilenames:v,logFilenamesExist:g,onToggleFilename:y,onChangeFilename:R,logFilename:C,isFilenameOpen:N,logFilenames:j,isWrapLines:M,setWrapLines:I,showSearch:U})=>{const k=e=>e.map(e=>n.createElement(o.a,{key:e,value:e,className:f()({"co-node-logs__log-select-option":e.length>50})},e)),{t:L}=Object(T.useTranslation)();return n.createElement(s.a,{className:"co-toolbar-empty-state"},n.createElement(l.a,null,n.createElement(r.a,null,n.createElement(c.a,null,n.createElement(i.a,{onSelect:t,selected:a,isOpen:p,toggle:t=>n.createElement(u.a,{ref:t,onClick:e,"aria-label":L("public~Select a path"),"data-test":"select-path"},a)},n.createElement(d.a,null,k(E)))),b&&n.createElement(P.a,{onChangeUnit:O,unit:_}),!b&&n.createElement(c.a,null,v?n.createElement(S.T,null):g&&n.createElement(i.a,{onSelect:R,selected:C,isOpen:N,className:"co-node-logs__log-select",toggle:e=>n.createElement(u.a,{ref:e,onClick:y,"data-test":"select-file"},C||L("public~Select a log file"))},n.createElement(d.a,null,k(j)))),U&&n.createElement(c.a,null,n.createElement(h.b,{placeholder:L("public~Search"),minSearchChars:0}))),n.createElement(c.a,{className:"pf-v5-u-flex-fill pf-v5-u-align-self-center pf-v5-u-justify-content-flex-end"},n.createElement(m.a,{label:L("public~Wrap lines"),id:"wrapLogLines",isChecked:M,"data-checked-state":M,onChange:(e,t)=>{I(t)}}))))};t.a=({obj:e})=>{var t;const{kind:a,metadata:{labels:o,name:s,namespace:l},status:r}=e,c="windows"===(null===(t=null==r?void 0:r.nodeInfo)||void 0===t?void 0:t.operatingSystem),i=["journal"];c?i.push("containers","hybrid-overlay","kube-proxy","kubelet","containerd","wicd"):""===o["node-role.kubernetes.io/master"]&&i.push("openshift-apiserver","kube-apiserver","oauth-apiserver");const[u,d]=n.useState(Object(S.Tb)("path")||i[0]),[m,v]=n.useState(""),[f,P]=n.useState([]),[j,M]=n.useState(Object(S.Tb)("unit")),[I,U]=n.useState(Object(S.Tb)("log")),[k,L]=n.useState(!0),[Y,A]=n.useState(!0),[w,D]=n.useState(""),[B,K]=n.useState(!1),[x,W]=n.useState(!1),[F,H]=n.useState(""),[q,G]=Object(R.ef)(C.H,!1,!0),{t:J}=Object(T.useTranslation)(),z="journal"===u,V=n.useCallback(e=>{Object(g.b)(e).then(e=>e.text()).then(e=>{H(e),L(!1),D("")}).catch(e=>{L(!1),D(J("public~Error fetching logs: {{message}}",{message:e.message}))})},[J]),Q=n.useCallback((e,t)=>{const n="proxy/logs/"+u;let o;return e&&(o=`${n}${e}`),t&&(o=`${n}?${(e=>{const t=null==e?void 0:e.split(","),a=null==t?void 0:t.map(e=>"unit="+e);return null==a?void 0:a.join("&")})(t)}`),Object(y.Jb)(Object(y.vb)(a),{name:s,ns:l,path:o||n})},[a,s,l,u]);n.useEffect(()=>{if(!u||z){const e=Q("",j);v(e)}else{if(u&&I){const e=Q("/"+I);v(e)}Object(g.b)(Q()).then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"text/html"),a=c?t.querySelectorAll("a"):t.querySelectorAll('a[href^="audit"]'),n=[];for(const e of a)n.push(e.textContent);P(n),A(!1)}).catch(e=>{L(!1),A(!1),D(J("public~Error fetching log filenames: {{message}}",{message:e.message}))})}},[a,s,l,u,z,c,I,Q,J,j]),n.useEffect(()=>{m&&V(m)},[m,V]);let $="";if(F.length>5e5){const e=F.indexOf("\n",F.length-5e5);$=F.substr(e+1)}const Z=w.length>0,X=f.length>0,ee=n.createElement(N,{onTogglePath:()=>K(!B),onChangePath:(e,t)=>{e.preventDefault(),K(!1),d(t),P([]),U(""),M(""),Object(S.wc)("path",t),Object(S.qc)("unit"),Object(S.qc)("log"),A(!0),L(!0),$=""},path:u,isPathOpen:B,pathItems:i,isJournal:z,onChangeUnit:e=>{M(e),""===e?Object(S.qc)("unit"):Object(S.wc)("unit",e)},unit:j,isLoadingFilenames:Y,logFilenamesExist:X,onToggleFilename:()=>W(!x),onChangeFilename:(e,t)=>{e.preventDefault(),W(!1),U(t),L(!0),Object(S.wc)("log",t),v(Q("/"+t)),V(Q("/"+t)),$=""},logFilename:I,isFilenameOpen:x,logFilenames:f,isWrapLines:q,setWrapLines:G,showSearch:!k&&!Z});return n.createElement("div",{className:"co-m-pane__body co-m-pane__body--full-height"},n.createElement("div",{className:"log-window-wrapper"},(k||Z)&&ee,(null==$?void 0:$.length)>0&&!k&&n.createElement(p.a,{isInline:!0,className:"co-alert co-alert--margin-bottom-sm",variant:"warning",title:J("public~The log is abridged due to length.")},n.createElement(T.Trans,{ns:"public",t:J},"To view unabridged log content,"," ",n.createElement(S.z,{href:m},"open the raw file in another window"),".")),k?z||I?n.createElement(S.S,null):n.createElement(E.a,{variant:E.b.full,isFullHeight:!0},n.createElement(b.a,{titleText:n.createElement(n.Fragment,null,Y?n.createElement(S.T,null):J(X?"public~No log file selected":"public~No log files exist")),headingLevel:"h2"}),n.createElement(O.a,null,X&&n.createElement(_.a,null,J("public~Select a log file above")))):Z?n.createElement(p.a,{variant:"danger",isInline:!0,title:w,className:"co-alert"}):n.createElement(h.a,{isTextWrapped:q,data:$||F,toolbar:ee,theme:"dark",initialIndexWidth:7})))}},11886:function(e,t,a){"use strict";var n=a(0),o=a(204),s=a(281),l=a(1931),r=a(514),c=a(547),i=a(7),u=a(5);t.a=({onChangeUnit:e})=>{var t;const a=n.useRef(!0),d=n.useRef(),[m,p]=n.useState((null===(t=Object(u.Tb)("unit"))||void 0===t?void 0:t.split(","))||[]),{t:E}=Object(i.useTranslation)();n.useEffect(()=>{const e=d.current,t=e=>{const{value:t}=e.currentTarget;"Enter"!==e.code&&"NumpadEnter"!==e.code||""===t||(e.preventDefault(),p(e=>c.a([...e,t])),e.currentTarget.value="")};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[e]);const b=m.join(",");n.useEffect(()=>{a.current?a.current=!1:e(b)},[b,e]);const O=E("public~Filter by unit");return n.createElement(n.Fragment,null,n.createElement(o.a,null,n.createElement(s.a,{type:"text",id:"log-unit",name:"log-unit","aria-label":O,ref:d,placeholder:O})),m.length>0&&n.createElement(o.a,null,n.createElement(l.a,{categoryName:E("public~Unit"),isClosable:!0,onClick:()=>{p([])}},null==m?void 0:m.map(e=>n.createElement(r.a,{key:e,onClick:()=>(e=>{const t=m.indexOf(e);-1!==t&&p(e=>{const a=[...e];return a.splice(t,1),a})})(e)},e)))))}},11887:function(e,t,a){},11888:function(e,t,a){"use strict";var n=a(0),o=a(80),s=a(7),l=a(5),r=a(1410),c=a(10),i=a(8),u=function(e,t,a,n){return new(a||(a=Promise))((function(o,s){function l(e){try{c(n.next(e))}catch(e){s(e)}}function r(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,r)}c((n=n.apply(e,t||[])).next())}))};const d=(e,t,a)=>u(void 0,void 0,void 0,(function*(){const n=yield u(void 0,void 0,void 0,(function*(){try{return(yield Object(i.kb)(c.ImageStreamTagModel,"tools:latest","openshift")).image.dockerImageReference}catch(e){return"registry.redhat.io/rhel8/support-tools"}}));return{kind:"Pod",apiVersion:"v1",metadata:{name:e,namespace:t,annotations:{"debug.openshift.io/source-container":"container-00","debug.openshift.io/source-resource":"/v1, Resource=nodes/"+a,"openshift.io/scc":"privileged"}},spec:{activeDeadlineSeconds:21600,volumes:[{name:"host",hostPath:{path:"/",type:"Directory"}}],containers:[{name:"container-00",image:n,command:["/bin/sh"],resources:{},volumeMounts:[{name:"host",mountPath:"/host"}],securityContext:{privileged:!0,runAsUser:0},stdin:!0,stdinOnce:!0,tty:!0}],restartPolicy:"Never",nodeName:a,hostNetwork:!0,hostPID:!0}}})),m=({error:e})=>n.createElement("div",{className:"co-m-pane__body"},n.createElement(o.a,{variant:"danger",isInline:!0,title:e,"data-test":"node-terminal-error"})),p=({obj:e})=>{var t,a,o,c,i,u,d,p,E,b;const{t:O}=Object(s.useTranslation)(),_=n.createElement(s.Trans,{t:O,ns:"console-app"},n.createElement("p",null,"To use host binaries, run ",n.createElement("code",{className:"co-code"},"chroot /host")));switch(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)||void 0===a?void 0:a.phase){case"Failed":return n.createElement(m,{error:n.createElement(n.Fragment,null,O("console-app~The debug pod failed. "),(null===(p=null===(d=null===(u=null===(i=null===(c=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.status)||void 0===c?void 0:c.containerStatuses)||void 0===i?void 0:i[0])||void 0===u?void 0:u.state)||void 0===d?void 0:d.terminated)||void 0===p?void 0:p.message)||(null===(b=null===(E=null==e?void 0:e.data)||void 0===E?void 0:E.status)||void 0===b?void 0:b.message))});case"Running":return n.createElement(r.PodExecLoader,{obj:e.data,message:_});default:return n.createElement(l.S,null)}};t.a=({obj:e})=>{const[t,a]=n.useState([]),[o,s]=n.useState(""),r=e.metadata.name;return n.useEffect(()=>{let e;const t=(null==r?void 0:r.replace(/\./g,"-"))+"-debug",n=e=>u(void 0,void 0,void 0,(function*(){try{yield Object(i.mb)(c.NamespaceModel,e)}catch(e){console.warn("Could not delete node terminal debug namespace.",e)}})),o=t=>{t.preventDefault(),n(e.metadata.name)};return u(void 0,void 0,void 0,(function*(){try{e=yield Object(i.jb)(c.NamespaceModel,{metadata:{generateName:"openshift-debug-",labels:{"openshift.io/run-level":"0","pod-security.kubernetes.io/audit":"privileged","pod-security.kubernetes.io/enforce":"privileged","pod-security.kubernetes.io/warn":"privileged","security.openshift.io/scc.podSecurityLabelSync":"false"},annotations:{"openshift.io/node-selector":""}}});const n=yield d(t,e.metadata.name,r);yield new Promise(e=>setTimeout(e,1e3)),(yield Object(i.jb)(c.PodModel,n))&&a([{isList:!1,kind:"Pod",name:t,namespace:e.metadata.name,prop:"obj"}])}catch(t){s(t.message),e&&n(e.metadata.name)}})),window.addEventListener("beforeunload",o),()=>{n(e.metadata.name),window.removeEventListener("beforeunload",o)}},[r]),o?n.createElement(m,{error:o}):n.createElement(l.C,{resources:t},n.createElement(p,null))}},2231:function(e,t,a){"use strict";a.r(t),a.d(t,"getStatusGroups",(function(){return m})),a.d(t,"getPodStatusGroups",(function(){return p})),a.d(t,"getNodeStatusGroups",(function(){return E})),a.d(t,"getPVCStatusGroups",(function(){return b})),a.d(t,"getPVStatusGroups",(function(){return O})),a.d(t,"getVSStatusGroups",(function(){return _}));var n=a(2233),o=a(2238),s=a(8),l=a(475);const r={[l.a.NOT_MAPPED]:["Running","Succeeded"],[l.a.ERROR]:["CrashLoopBackOff","Failed"],[l.a.PROGRESS]:["Terminating","Pending"],[l.a.WARN]:["Unknown"]},c={[l.a.NOT_MAPPED]:["Bound"],[l.a.ERROR]:["Lost"],[l.a.PROGRESS]:["Pending"]},i={[l.a.NOT_MAPPED]:["Available","Bound"],[l.a.PROGRESS]:["Released"],[l.a.ERROR]:["Failed"]},u={[l.a.NOT_MAPPED]:["Ready"],[l.a.PROGRESS]:["Not Ready"]},d={[l.a.NOT_MAPPED]:["Ready"],[l.a.PROGRESS]:["Pending"],[l.a.ERROR]:["Error"]},m=(e,t,a,n)=>{const o={[l.a.UNKNOWN]:{statusIDs:[],count:0}};return Object.keys(t).forEach(e=>{o[e]={statusIDs:[...t[e]],count:0,filterType:n}}),e.forEach(e=>{const n=a(e),s=Object.keys(t).find(e=>t[e].includes(n))||l.a.UNKNOWN;o[s].count++}),o},p=e=>m(e,r,s.Ab,"pod-status"),E=e=>m(e,u,n.a,"node-status"),b=e=>m(e,c,e=>e.status.phase,"pvc-status"),O=e=>m(e,i,e=>e.status.phase,"pv-status"),_=e=>m(e,d,o.b,"snapshot-status")},5542:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(409),s=a(40),l=a(1410),r=a(5),c=a(8),i=a(2270),u=a(877),d=a(2233),m=a(11872),p=a(11881),E=a(11885),b=a(11888);const O=({obj:e})=>n.createElement(l.PodsPage,{showTitle:!1,fieldSelector:"spec.nodeName="+e.metadata.name,showNamespaceOverride:!0});t.default=e=>{const t=n.useCallback(e=>[{href:"",nameKey:"console-app~Overview",component:m.a},{href:"details",nameKey:"console-app~Details",component:p.a},r.mc.editYaml(),r.mc.pods(O),r.mc.logs(E.a),r.mc.events(o.ResourceEventStream),...Object(u.m)(e)?[]:[r.mc.terminal(b.a)]],[]);return n.createElement(s.a,Object.assign({},e,{getResourceStatus:d.a,customActionMenu:(e,t)=>{const a={[Object(c.Hb)(e)]:t};return n.createElement(i.c,{context:a},({actions:e,options:t,loaded:a})=>a&&n.createElement(i.a,{actions:e,options:t,variant:i.b.DROPDOWN}))},pagesFor:t}))}},5734:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>Object.assign(Object.assign({},e),{prop:`${t}-${e.prop}`})},5738:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return T})),a.d(t,"c",(function(){return g}));var n=a(0),o=a(7),s=a(406),l=a(967),r=a(4377),c=a(5791),i=a(1409),u=a(52),d=a(5),m=a(108),p=a(5670),E=a(5734),b=a(517),O=a(5784);const _=({operatorStatus:e,isResolved:t,key:a,Component:o,LoadingComponent:s})=>{const l=o;return t?n.createElement(l,{key:a,operatorStatus:e}):n.createElement(d.c,{key:e.operators[0].metadata.uid,operatorStatus:e,loader:o,LoadingComponent:s})},h=({resources:e,operatorExtensions:t,dynamicOperatorSubsystems:a})=>{const{t:r}=Object(o.useTranslation)(),i=[...t.map((t,a)=>{const o=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(E.a)(n,a).prop],t),{});return n.createElement(s.a,{key:t.title},n.createElement(c.a,{resources:o,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:_,Component:t.operatorRowLoader,isResolved:!1}))}),...a.map((t,a)=>{const o=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(E.a)(n,a).prop],t),{});return n.createElement(s.a,{key:t.title},n.createElement(c.a,{resources:o,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:_,Component:t.operatorRowLoader,isResolved:!0}))})].reverse();return n.createElement(l.a,{hasGutter:!0},n.createElement(s.a,null,r("public~Operators create, configure, and manage applications by extending the Kubernetes API.")),i)},v=Object(p.a)(({resources:e,watchK8sResource:t,stopWatchK8sResource:a,operatorExtensions:s,dynamicOperatorSubsystems:l})=>{const{t:c}=Object(o.useTranslation)();n.useEffect(()=>(s.forEach((e,a)=>e.resources.forEach(e=>t(Object(E.a)(e,a)))),()=>{s.forEach((e,t)=>e.resources.forEach(e=>a(Object(E.a)(e,t))))}),[t,a,s]);const d=s.map((t,a)=>{const n=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(E.a)(n,a).prop]||{},t),{});if(Object.keys(n).some(e=>n[e].loadError))return{health:u.a.NOT_AVAILABLE};if(Object.keys(n).some(e=>!n[e].loaded))return{health:u.a.LOADING};const o=t.getOperatorsWithStatuses(n);if(!o.length)return{health:u.a.OK};const s=Object(i.a)(o);return{health:s[0].status.health,count:s.length}}),m=Object(i.b)(d,c);return n.createElement(r.default,{title:c("public~Operators"),state:m.health,details:m.detailMessage,popupTitle:c("public~Operator status")},n.createElement(h,{resources:e,operatorExtensions:s,dynamicOperatorSubsystems:l}))}),f=Object(p.a)(({watchURL:e,stopWatchURL:t,urlResults:a,resources:o,watchK8sResource:s,stopWatchK8sResource:l,subsystem:c,models:i})=>{const u=c.additionalResource&&!!i.get(c.additionalResource.kind);n.useEffect(()=>(e(c.url,c.fetch?c.fetch:void 0),u&&s(c.additionalResource),()=>{t(c.url),u&&l(c.additionalResource)}),[e,t,s,l,c,u]);const m=a.getIn([c.url,"data"]),p=a.getIn([c.url,"loadError"]),E=c.additionalResource?o[c.additionalResource.prop]:null,b=c.healthHandler(m,p,E);return n.createElement(r.default,{title:c.title,state:b.state,details:b.message,popupTitle:c.popupTitle,popupBodyContent:c.popupComponent?e=>n.createElement(d.c,{loader:c.popupComponent,healthResult:m,healthResultError:p,k8sResult:E,hide:e}):void 0})}),T=Object(p.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,watchPrometheus:s,stopWatchPrometheusQuery:l,prometheusResults:c,subsystem:i,models:u})=>{const{t:m}=Object(o.useTranslation)(),{infrastructure:p}=n.useContext(O.a),E=i.additionalResource&&!!u.get(i.additionalResource.kind);n.useEffect(()=>(i.queries.forEach(e=>s(e)),E&&e(i.additionalResource),()=>{i.queries.forEach(e=>l(e)),E&&t(i.additionalResource)}),[e,t,s,l,i,E]);const _=n.useMemo(()=>i.queries.map(e=>{const[t,a]=Object(b.b)(c,e);return{response:t,error:a}}),[c,i.queries]),h=i.additionalResource?a[i.additionalResource.prop]:null,v=i.healthHandler(_,m,h,p);return n.createElement(r.default,{title:i.title,state:v.state,details:v.message,popupTitle:i.popupTitle,popupClassname:i.popupClassname,popupKeepOnOutsideClick:i.popupKeepOnOutsideClick,popupBodyContent:i.popupComponent?e=>n.createElement(d.c,{loader:i.popupComponent,responses:_,k8sResult:h,hide:e}):void 0})}),g=({subsystem:e,namespace:t})=>{const{t:a}=Object(o.useTranslation)(),{title:s,resources:l,healthHandler:c,popupComponent:i,popupTitle:u}=e,p=n.useMemo(()=>Object.assign(Object.assign({},l),l.imageManifestVuln&&{imageManifestVuln:Object.assign(Object.assign({},l.imageManifestVuln),{namespace:t})}),[l,t]),E=Object(m.b)(p),b=c(E,a);return n.createElement(r.default,{title:s,state:b.state,details:b.message,popupTitle:u},i&&E&&n.createElement(d.c,Object.assign({loader:i},E,{namespace:t})))}},5784:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0);const o=n.createContext({infrastructureLoaded:!0,infrastructureError:null})},5791:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),o=a(363),s=a(7),l=a(14),r=a(1409),c=a(52),i=a(2229);a(5792);const u=({resources:e,getOperatorsWithStatuses:t,title:a,linkTo:u,Row:d,Component:m,isResolved:p})=>{const{t:E}=Object(s.useTranslation)(),b=o.a(e).some(e=>e.loadError),O=t(e),_=Object(r.a)(O).sort((e,t)=>e.operators[0].metadata.name.localeCompare(t.operators[0].metadata.name)),h=_.every(e=>e.status.health===c.a.OK),v=n.useCallback(()=>n.createElement("div",{className:"co-status__operator-skeleton"}),[]);return O.length?n.createElement(i.StatusPopupSection,{firstColumn:n.createElement(n.Fragment,null,n.createElement("span",null,a),n.createElement("span",{className:"text-secondary co-status__operator-detail"}," ",E("console-shared~({{operatorStatusLength}} installed)",{operatorStatusLength:O.length}))),secondColumn:E("console-shared~Status")},b?n.createElement("div",{className:"text-secondary"},E("console-shared~Not available")):!h&&_.map(e=>n.createElement(d,{key:e.operators[0].metadata.uid,Component:m,operatorStatus:e,LoadingComponent:v,isResolved:p})),n.createElement(i.default,{value:E("console-shared~All {{status}}",{status:O[0].status.title.toLowerCase()}),icon:O[0].status.icon},n.createElement(l.Link,{to:u},E("console-shared~View all")))):null}},5792:function(e,t,a){},5793:function(e,t,a){"use strict";a.d(t,"a",(function(){return P})),a.d(t,"b",(function(){return N}));var n=a(0),o=a(22),s=a(31),l=a(14),r=a(7),c=a(69),i=a(13),u=a(192),d=a(434),m=a(295),p=a(5387),E=a(5388),b=a(15),O=a(4375),_=a(4364),h=a(4376),v=a(58),f=a(8),T=a(10),g=a(5738),S=a(108),y=a(206),R=a(1417);const C={kind:Object(f.Hb)(T.ClusterVersionModel),namespaced:!1,name:"version",isList:!1},P=({labelSelector:e})=>{const{t:t}=Object(r.useTranslation)(),a=Object(y.a)(b.O.CLUSTER_VERSION),[s,,c]=Object(R.a)(e),[i,u]=Object(S.a)(a?C:{}),d=Object(b.we)()&&a&&u&&Object(f.db)(i)&&!e;return n.createElement(O.default,{error:!o.a(c)},d&&n.createElement(h.StatusItem,{key:"clusterUpdate",Icon:b.n,message:t("public~A cluster version update is available")},n.createElement(l.Link,{to:"/settings/cluster?showVersions"},t("public~Update cluster"))),s.map(e=>n.createElement(h.default,{key:Object(v.h)(e,e.rule.id),alert:e})))},N=Object(s.connect)(e=>({k8sModels:e.k8s.getIn(["RESOURCES","models"])}))(({k8sModels:e})=>{const t=Object(c.z)(c.f),[a]=Object(i.kc)(i.gb),o=n.useMemo(()=>((e,t)=>e.filter(e=>{if(Object(c.g)(e)||Object(c.d)(e)||Object(i.hb)(e)||Object(i.fb)(e)){const a=e;return!(a.properties.additionalResource&&!a.properties.additionalResource.optional)||!!t.get(a.properties.additionalResource.kind)}return!0}))([...t,...a],e).map(e=>{if(Object(i.Kb)(e)||Object(i.Ib)(e)||Object(i.Jb)(e)){const t=e.properties.popupComponent?{popupComponent:()=>Promise.resolve(e.properties.popupComponent)}:{};return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),t)})}return e}),[t,a,e]),s=n.useMemo(()=>o.findIndex(e=>Object(c.c)(e)||Object(i.Hb)(e)),[o]),{t:b}=Object(r.useTranslation)(),O=[];if(o.forEach(t=>{if(Object(c.g)(t)||Object(i.Kb)(t))O.push({title:t.properties.title,Component:n.createElement(g.d,{subsystem:t.properties,models:e})});else if(Object(c.d)(t)||Object(i.Ib)(t)){const{disallowedControlPlaneTopology:a}=t.properties;if((null==a?void 0:a.length)&&a.includes(window.SERVER_FLAGS.controlPlaneTopology))return;O.push({title:t.properties.title,Component:n.createElement(g.b,{subsystem:t.properties,models:e})})}else(Object(c.e)(t)||Object(i.Jb)(t))&&O.push({title:t.properties.title,Component:n.createElement(g.c,{subsystem:t.properties})})}),-1!==s){const e=[],t=[];o.forEach(a=>{Object(i.Hb)(a)?t.push(a.properties):Object(c.c)(a)&&e.push(a.properties)}),O.splice(s,0,{title:"Operators",Component:n.createElement(g.a,{operatorExtensions:e,dynamicOperatorSubsystems:t})})}return n.createElement(u.a,{"data-test-id":"status-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(d.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(l.Link,{to:"/monitoring/alerts","data-test":"status-card-view-alerts"},b("public~View alerts"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(m.a,null,b("public~Status"))),n.createElement(_.default,null,n.createElement(p.a,{className:"co-overview-status__health",hasGutter:!0},O.map(e=>n.createElement(E.a,{key:e.title,"data-test":e.title},e.Component)))),n.createElement(P,null))})},6258:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0);const o=n.createContext({setCPULimit:()=>{},setMemoryLimit:()=>{},setHealthCheck:()=>{}})},6445:function(e,t,a){"use strict";var n=a(0),o=a(461),s=a(15);t.a=({ips:e,expand:t=!1})=>n.createElement(s.F,null,o.a(e,["type"]).map(({type:e,address:a})=>a&&(t||"InternalIP"===e)&&n.createElement(s.G,{key:`{${e}/${a}`,title:e.replace(/([a-z])([A-Z])/g,"$1 $2")},a)))},6880:function(e,t,a){"use strict";var n=a(0),o=a(5),s=a(15);t.a=({obj:e})=>n.createElement(o.xb,{timestamp:Object(s.nd)(e)})},6881:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),o=a(967),s=a(406),l=a(663),r=a(7),c=a(13),i=a(5),u=a(15),d=a(5735),m=a(198),p=a(1312),E=a(2233),b=a(6882);const O=Object.freeze({[p.d.DISK_PRESSURE]:"available disk capacity is low",[p.d.MEM_PRESSURE]:"available memory is low",[p.d.PID_PRESSURE]:"CPU is running a large number of processes"}),_=Object.freeze({[p.d.DISK_PRESSURE]:i.Wb,[p.d.MEM_PRESSURE]:i.Wb,[p.d.PID_PRESSURE]:i.bc}),h=e=>e.status.conditions.filter(({status:e,type:t})=>{return"True"===e&&(a=t,[p.d.DISK_PRESSURE,p.d.MEM_PRESSURE,p.d.PID_PRESSURE].includes(a));var a}).map(({type:e})=>e),v=({node:e,className:t,statusExtensions:a})=>{var i;const{t:b}=Object(r.useTranslation)(),{popoverContent:v,secondaryStatuses:f}=n.useMemo(()=>a(e),[a,e]),T=n.createElement(u.cc,{status:Object(E.a)(e),className:t});return n.createElement(n.Fragment,null,v.length?n.createElement(c.q,{title:b("console-app~Node status"),statusBody:T},n.createElement(o.a,null,v.map(({content:e,uid:t})=>n.createElement(m.a,{key:t},n.createElement(s.a,null,e))))):T,n.createElement(u.Wb,{status:f}),null===(i=h(e))||void 0===i?void 0:i.map(t=>n.createElement("div",{key:t},n.createElement(d.b,{title:l.a(t),current:l.a(t),consumers:p.e[t](e.metadata.name),humanize:_[t],description:b("console-app~This node's {{conditionDescription}}. Performance may be degraded.",{conditionDescription:O[t]})}))))};t.b=({node:e,className:t})=>{const a=Object(b.a)();return n.createElement(v,{node:e,className:t,statusExtensions:a})}},6882:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),o=a(13),s=a(108);const l=()=>{const[e]=Object(o.kc)(o.Ab),t=n.useMemo(()=>{const t={};return e.forEach(({properties:e,uid:a})=>{e.resources&&Object.keys(e.resources).forEach(n=>{t[`${a}-${n}`]=e.resources[n]})}),t},[e]),a=Object(s.b)(t);return n.useCallback(t=>{const o=[],s=[];return e.forEach(({properties:{PopoverContent:e,title:l,isActive:r,resources:c},uid:i,pluginID:u,type:d})=>{const m={};c&&Object.keys(c).forEach(e=>{m[e]=a[`${i}-${e}`]});try{r(t,m)&&(o.push({content:n.createElement(e,{node:t,resources:m}),uid:i}),s.push(l))}catch(e){console.error(`Extension ${u}, ${d} failed:`,e)}}),{popoverContent:o,secondaryStatuses:s}},[a,e])}},7567:function(e,t,a){"use strict";var n=a(0),o=a(15);t.a=({node:e})=>n.createElement(n.Fragment,null,Object(o.md)(e).sort().join(", ")||o.E)},7568:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d}));var n,o=a(550);!function(e){e.CPU_USAGE="CPU_USAGE",e.CPU_TOTAL="CPU_TOTAL",e.MEMORY_USAGE="MEMORY_USAGE",e.MEMORY_TOTAL="MEMORY_TOTAL",e.POD_COUNT="POD_COUNT",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_FILESYSTEM="PODS_BY_FILESYSTEM",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.PROJECTS_BY_CPU="PROJECTS_BY_CPU",e.PROJECTS_BY_MEMORY="PROJECTS_BY_MEMORY",e.PROJECTS_BY_FILESYSTEM="PROJECTS_BY_FILESYSTEM",e.PROJECTS_BY_NETWORK_IN="PROJECTS_BY_NETWORK_IN",e.PROJECTS_BY_NETWORK_OUT="PROJECTS_BY_NETWORK_OUT",e.FILESYSTEM_USAGE="FILESYSTEM_USAGE",e.FILESYSTEM_TOTAL="FILESYSTEM_TOTAL",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION",e.POD_RESOURCE_LIMIT_CPU="POD_RESOURCE_LIMIT_CPU",e.POD_RESOURCE_LIMIT_MEMORY="POD_RESOURCE_LIMIT_MEMORY",e.POD_RESOURCE_REQUEST_CPU="POD_RESOURCE_REQUEST_CPU",e.POD_RESOURCE_REQUEST_MEMORY="POD_RESOURCE_REQUEST_MEMORY"}(n||(n={}));const s={[n.CPU_USAGE]:o.a("instance:node_cpu:rate:sum{instance='<%= node %>'}"),[n.CPU_TOTAL]:o.a("instance:node_num_cpu:sum{instance='<%= node %>'}"),[n.MEMORY_USAGE]:o.a("node_memory_MemTotal_bytes{instance='<%= node %>'} - node_memory_MemAvailable_bytes{instance='<%= node %>'}"),[n.MEMORY_TOTAL]:o.a("node_memory_MemTotal_bytes{instance='<%= node %>'}"),[n.POD_COUNT]:o.a("kubelet_running_pods{instance=~'<%= ipAddress %>:.*'}"),[n.FILESYSTEM_USAGE]:o.a("sum(max by (device) (node_filesystem_size_bytes{instance='<%= node %>', device=~\"/.*\"})) - sum(max by (device) (node_filesystem_avail_bytes{instance='<%= node %>', device=~\"/.*\"})) or\n    sum (max by (volume) (windows_logical_disk_size_bytes{instance='<%= node %>'})) - sum(max by (volume) (windows_logical_disk_free_bytes{instance='<%= node %>'}))"),[n.FILESYSTEM_TOTAL]:o.a("sum(max by (device) (node_filesystem_size_bytes{instance='<%= node %>', device=~\"/.*\"})) or sum(max by (volume) (windows_logical_disk_size_bytes{instance='<%= node %>'}))"),[n.NETWORK_IN_UTILIZATION]:o.a("instance:node_network_receive_bytes:rate:sum{instance='<%= node %>'}"),[n.NETWORK_OUT_UTILIZATION]:o.a("instance:node_network_transmit_bytes:rate:sum{instance='<%= node %>'}")},l={[n.PODS_BY_CPU]:o.a('topk(25, sort_desc(sum(rate(container_cpu_usage_seconds_total{container="",pod!="", instance=~\'<%= ipAddress %>:.*\'}[5m])) by (pod, namespace)))'),[n.PODS_BY_MEMORY]:o.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_FILESYSTEM]:o.a("topk(25, sort_desc(sum(container_fs_usage_bytes{instance=~'<%= ipAddress %>:.*'}) BY (pod, namespace)))"),[n.PODS_BY_NETWORK_IN]:o.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_NETWORK_OUT]:o.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (pod, namespace)))'),[n.PROJECTS_BY_CPU]:o.a('topk(25, sort_desc(sum(rate(container_cpu_usage_seconds_total{container="",pod!="", instance=~\'<%= ipAddress %>:.*\'}[5m])) by (namespace)))'),[n.PROJECTS_BY_MEMORY]:o.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (namespace)))'),[n.PROJECTS_BY_FILESYSTEM]:o.a("topk(25, sort_desc(sum(container_fs_usage_bytes{instance=~'<%= ipAddress %>:.*'}) BY (namespace)))"),[n.PROJECTS_BY_NETWORK_IN]:o.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (namespace)))'),[n.PROJECTS_BY_NETWORK_OUT]:o.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", instance=~\'<%= ipAddress %>:.*\'}[5m])) BY (namespace)))')},r={[n.POD_RESOURCE_LIMIT_CPU]:o.a("sum(kube_pod_resource_limit{node='<%= node %>',resource='cpu'})"),[n.POD_RESOURCE_LIMIT_MEMORY]:o.a("sum(kube_pod_resource_limit{node='<%= node %>',resource='memory'})"),[n.POD_RESOURCE_REQUEST_CPU]:o.a("sum(kube_pod_resource_request{node='<%= node %>',resource='cpu'})"),[n.POD_RESOURCE_REQUEST_MEMORY]:o.a("sum(kube_pod_resource_request{node='<%= node %>',resource='memory'})")},c=e=>({[n.NETWORK_UTILIZATION]:[{query:s[n.NETWORK_IN_UTILIZATION]({node:e}),desc:"in"},{query:s[n.NETWORK_OUT_UTILIZATION]({node:e}),desc:"out"}]}),i=e=>({[n.POD_RESOURCE_LIMIT_CPU]:r[n.POD_RESOURCE_LIMIT_CPU]({node:e}),[n.POD_RESOURCE_LIMIT_MEMORY]:r[n.POD_RESOURCE_LIMIT_MEMORY]({node:e}),[n.POD_RESOURCE_REQUEST_CPU]:r[n.POD_RESOURCE_REQUEST_CPU]({node:e}),[n.POD_RESOURCE_REQUEST_MEMORY]:r[n.POD_RESOURCE_REQUEST_MEMORY]({node:e})}),u=(e,t)=>({[n.CPU_USAGE]:s[n.CPU_USAGE]({node:e}),[n.CPU_TOTAL]:s[n.CPU_TOTAL]({node:e}),[n.MEMORY_USAGE]:s[n.MEMORY_USAGE]({node:e}),[n.MEMORY_TOTAL]:s[n.MEMORY_TOTAL]({node:e}),[n.POD_COUNT]:s[n.POD_COUNT]({ipAddress:t}),[n.FILESYSTEM_USAGE]:s[n.FILESYSTEM_USAGE]({node:e}),[n.FILESYSTEM_TOTAL]:s[n.FILESYSTEM_TOTAL]({node:e})}),d=e=>({[n.PODS_BY_CPU]:l[n.PODS_BY_CPU]({ipAddress:e}),[n.PODS_BY_MEMORY]:l[n.PODS_BY_MEMORY]({ipAddress:e}),[n.PODS_BY_FILESYSTEM]:l[n.PODS_BY_FILESYSTEM]({ipAddress:e}),[n.PODS_BY_NETWORK_IN]:l[n.PODS_BY_NETWORK_IN]({ipAddress:e}),[n.PODS_BY_NETWORK_OUT]:l[n.PODS_BY_NETWORK_OUT]({ipAddress:e}),[n.PROJECTS_BY_CPU]:l[n.PROJECTS_BY_CPU]({ipAddress:e}),[n.PROJECTS_BY_MEMORY]:l[n.PROJECTS_BY_MEMORY]({ipAddress:e}),[n.PROJECTS_BY_FILESYSTEM]:l[n.PROJECTS_BY_FILESYSTEM]({ipAddress:e}),[n.PROJECTS_BY_NETWORK_IN]:l[n.PROJECTS_BY_NETWORK_IN]({ipAddress:e}),[n.PROJECTS_BY_NETWORK_OUT]:l[n.PROJECTS_BY_NETWORK_OUT]({ipAddress:e})})},8405:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"k",(function(){return p}));const n=(e=!1)=>`One or more health check remediation conditions have been met. The node will ${e?"reboot":"reprovision"} automatically.`,o="This node’s CPU resources are overcommitted. The total CPU resource limit of all pods exceeds the node’s total capacity. The total CPU requested is also approaching the node’s capacity. Pod performance will be throttled under high load, and new pods may not be schedulable on this node.",s="This node’s CPU resources are overcommitted. The total CPU resource limit of all pods exceeds the node’s total capacity. Pod performance will be throttled under high load.",l="The total CPU resource limit of all pods on this node is approaching the node’s capacity. Pod performance may be throttled under high load.",r="The total CPU resource limit and amount requested by all pods on this node is approaching the node’s capacity. Pod performance may be throttled under high load, and new pods may not be schedulable.",c="The total CPU requested by all pods on this node is approaching the node’s capacity. New pods may not be schedulable on this node.",i="This node’s memory resources are overcommitted. The total memory resource limit of all pods exceeds the node’s total capacity. The total memory requested is also approaching the node’s capacity. Pods will be terminated under high load, and new pods may not be schedulable on this node.",u="This node’s memory resources are overcommitted. The total memory resource limit of all pods exceeds the node’s total capacity. Pods will be terminated under high load.",d="The total memory resource limit of all pods on this node is approaching the node’s capacity. Pods may be terminated if the limit is reached under high load.",m="The total memory resource limit and amount requested by all pods on this node is approaching the node’s capacity. Pods may be terminated if the limit is reached under high load, and new pods may not be schedulable on this node.",p="The total memory requested by all pods on this node is approaching the node’s capacity. New pods may not be schedulable on this node."},8406:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"d",(function(){return M})),a.d(t,"c",(function(){return I}));var n=a(0),o=a(967),s=a(406),l=a(80),r=a(5387),c=a(5388),i=a(29),u=a(1257),d=a(367),m=a(57),p=a(7),E=a(83),b=a(5),O=a(1411),_=a(108),h=a(10),v=a(8),f=a(1450),T=a(15),g=a(4364),S=a(4377),y=a(52),R=a(2229),C=a(6881),P=a(8405),N=a(6258);a(11879);const j=({conditions:e=[],machineHealthChecks:t,disabledAlert:a})=>{let r=!1,c=!1;const i=Object.values(u.a(e.sort((e,t)=>e.type.localeCompare(t.type)),e=>e.type)).map(e=>{var a,n,o;const s=e.some(e=>e.failing);return s&&(r=!0,c="external-baremetal"===(null===(o=null===(n=null===(a=null==t?void 0:t[0])||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.annotations)||void 0===o?void 0:o["machine.openshift.io/remediation-strategy"])),{title:e[0].type,value:s?"Failing":"Okay",icon:s?y.b[y.a.WARNING].icon:y.b[y.a.OK].icon}}),{t:d}=Object(p.useTranslation)();return n.createElement(o.a,{hasGutter:!0},n.createElement(s.a,null,d("console-app~{{ machineHealthCheckLabelPlural }} automatically remediate node health issues.",{machineHealthCheckLabelPlural:h.MachineHealthCheckModel.labelPlural})),!!(null==t?void 0:t.length)&&n.createElement(s.a,null,n.createElement(R.StatusPopupSection,{firstColumn:Object(O.f)(t.length,h.MachineHealthCheckModel.label,h.MachineHealthCheckModel.labelPlural,!1)},t.map(({metadata:e})=>n.createElement(R.default,{key:e.uid},n.createElement(b.hb,{kind:Object(v.Hb)(h.MachineHealthCheckModel),name:e.name,namespace:e.namespace,className:"co-status-popup__title"}))))),!!e.length&&n.createElement(s.a,null,n.createElement(R.StatusPopupSection,{firstColumn:d("console-app~Conditions"),secondColumn:d("console-app~Status")},i.map(e=>n.createElement(R.default,Object.assign({},e,{key:e.title}),e.title)))),r&&n.createElement(s.a,null,n.createElement(l.a,{variant:"warning",isInline:!0,title:d(c?"console-app~Reboot pending":"console-app~Reprovision pending"),className:"co-node-health__popup-alert"},Object(P.a)(c))),(null==t?void 0:t.length)>1&&n.createElement(s.a,null,n.createElement(l.a,{variant:"warning",isInline:!0,title:"Multiple resources",className:"co-node-health__popup-alert"},d("console-app~Only one {{ machineHealthCheckLabel }} resource should match this node.",{machineHealthCheckLabel:h.MachineHealthCheckModel.label}))),a&&n.createElement(s.a,null,n.createElement(l.a,{isInline:!0,title:a.title,className:"co-node-health__popup-alert"},a.message)))},M={isList:!0,kind:Object(v.Hb)(h.MachineHealthCheckModel)},I=(e,t,a)=>{const[n,o,s]=t,[l,r,c]=a;if(s||c)return{state:y.a.NOT_AVAILABLE};if(!o||!r)return{state:y.a.LOADING};const u=l.filter(e=>{var t;return new f.a((null===(t=e.spec)||void 0===t?void 0:t.selector)||{}).matches(n)});if(!u.length)return{state:y.a.NOT_AVAILABLE,noIcon:!0,details:i.a.t("console-app~Not configured")};let m=0;const p=d.a(u.map(t=>{var a,n,o;return null!==(o=null===(n=null===(a=t.spec)||void 0===a?void 0:a.unhealthyConditions)||void 0===n?void 0:n.map(t=>{const a=((e,{type:t,status:a,timeout:n})=>{const o=e.status.conditions.find(e=>e.type===t&&e.status===a);if(!o)return!1;const s=new Date(o.lastTransitionTime).getTime(),l=(new Date).getTime();return s+1e3*parseInt(n,10)<l})(e,t);return a&&m++,Object.assign(Object.assign({},t),{failing:a})}))&&void 0!==o?o:[]}));return{state:m||u.length>1||0===p.length?y.a.WARNING:y.a.OK,details:u.length>1?"Multiple resources":m?Object(O.f)(m,"condition")+" failing":p.length>0?Object(O.f)(p.length,"condition")+" passing":i.a.t("console-app~No conditions"),conditions:p,matchingHC:u}},U=({disabledAlert:e})=>{const{obj:t,setHealthCheck:a}=n.useContext(N.a),[o,s]=Object(T.jd)(t),{t:l}=Object(p.useTranslation)(),r=Object(_.a)(o&&s?{groupVersionKind:Object(E.getGroupVersionKindForModel)(h.MachineModel),name:o,namespace:s}:void 0),c=Object(_.a)(M),i=e?{state:y.a.NOT_AVAILABLE}:I(t,r,c);let u=!1,d=!1;return m.a(i.conditions,e=>{var t,a,n,o;return!e.failing||(u=!0,d="external-baremetal"===(null===(o=null===(n=null===(a=null===(t=i.matchingHC)||void 0===t?void 0:t[0])||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.annotations)||void 0===o?void 0:o["machine.openshift.io/remediation-strategy"]),!1)}),a({failingHealthCheck:u,reboot:d}),n.createElement(S.default,Object.assign({title:l("console-app~Health checks"),popupTitle:l("console-app~Health checks")},i),n.createElement(j,{conditions:i.conditions,machineHealthChecks:i.matchingHC,disabledAlert:e}))};t.b=()=>{const{obj:e}=n.useContext(N.a);return n.createElement(g.default,null,n.createElement(r.a,{className:"co-overview-status__health",hasGutter:!0},n.createElement(c.a,null,n.createElement(C.b,{className:"co-node-health__status",node:e})),n.createElement(c.a,null,n.createElement(U,null))))}},8407:function(e,t,a){"use strict";a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return E})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return O}));var n=a(0),o=a(7),s=a(5),l=a(10),r=a(5735),c=a(7568),i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a};const u=n.createContext({nodeIP:"",nodeName:""}),d=(e,t)=>{const{nodeIP:a,nodeName:o}=n.useContext(u);return n.useMemo(()=>{const n=Object(c.d)(a);return[{query:n[e],model:l.ProjectModel,metric:"namespace"},{query:n[t],model:l.PodModel,fieldSelector:"spec.nodeName="+o,metric:"pod"}]},[e,t,a,o])},m=e=>{var{current:t,position:a,title:l}=e,u=i(e,["current","position","title"]);const m=d(c.a.PROJECTS_BY_CPU,c.a.PODS_BY_CPU),{t:p}=Object(o.useTranslation)();return n.createElement(r.b,{current:t,title:l||p("console-app~CPU"),consumers:m,humanize:s.Yb,position:a},n.createElement(r.a,Object.assign({},u,{current:t})))},p=e=>{var{current:t,position:a,title:l}=e,u=i(e,["current","position","title"]);const m=d(c.a.PROJECTS_BY_MEMORY,c.a.PODS_BY_MEMORY),{t:p}=Object(o.useTranslation)();return n.createElement(r.b,{current:t,title:l||p("console-app~Memory"),consumers:m,humanize:s.Wb,position:a},n.createElement(r.a,Object.assign({},u,{current:t})))},E=({current:e})=>{const{t:t}=Object(o.useTranslation)(),a=d(c.a.PROJECTS_BY_FILESYSTEM,c.a.PODS_BY_FILESYSTEM);return n.createElement(r.b,{title:t("console-app~Filesystem"),current:e,consumers:a,humanize:s.Wb})},b=({current:e})=>{const{t:t}=Object(o.useTranslation)(),a=d(c.a.PROJECTS_BY_NETWORK_IN,c.a.PODS_BY_NETWORK_IN);return n.createElement(r.b,{title:t("console-app~Network in"),current:e,consumers:a,humanize:s.ac})},O=({current:e})=>{const{t:t}=Object(o.useTranslation)(),a=d(c.a.PROJECTS_BY_NETWORK_OUT,c.a.PODS_BY_NETWORK_OUT);return n.createElement(r.b,{title:t("console-app~Network out"),current:e,consumers:a,humanize:s.ac})}}}]);
//# sourceMappingURL=node-detail-chunk-e67cfae33cbe5b04cd45.min.js.map