(window.webpackJsonp=window.webpackJsonp||[]).push([[210,209],{4410:function(e,t,a){"use strict";a.r(t),a.d(t,"machineConfigReference",(function(){return k})),a.d(t,"MachineConfigDetailsPage",(function(){return w})),a.d(t,"MachineConfigPage",(function(){return T}));var n=a(16),l=a(0),c=a(54),o=a(18),i=a(7),r=a(241),s=a(563),m=a(72),d=a(353),u=a(9585),p=a(9586),b=a(9587),E=a(9588),f=a(19),v=a(13),g=a(8),h=a(10),N=a(40),C=a(5),j=a(409),_=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const k=Object(g.Hb)(h.MachineConfigModel),y=[...C.F.getExtensionsActionsForKind(h.MachineConfigModel),...C.F.factory.common],M=({obj:e,t:t})=>l.createElement(C.lb,{resource:e},l.createElement("dt",null,t("public~OS image URL")),l.createElement("dd",null,e.spec.osImageURL||"-")),O=[C.mc.details(({obj:e})=>{var t,a;const{t:n}=Object(i.useTranslation)(),c=null===(a=null===(t=e.spec.config)||void 0===t?void 0:t.storage)||void 0===a?void 0:a.files;return l.createElement(l.Fragment,null,l.createElement("div",{className:"co-m-pane__body"},l.createElement(C.ob,{text:n("public~MachineConfig details")}),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(M,{obj:e,t:n})))),c&&l.createElement("div",{className:"co-m-pane__body"},l.createElement(C.ob,{text:n("public~Configuration files")}),c.map((e,t)=>{var a;return l.createElement("div",{className:"pf-v5-u-mb-xl",key:e.path},l.createElement(r.a,{columnGap:{default:"columnGapNone"},className:"pf-v5-u-mb-md"},l.createElement(s.a,null,l.createElement(m.a,{"data-test":"config-file-path-"+t},e.path)),(e.mode||e.overwrite)&&l.createElement(d.a,{headerContent:n("public~Properties"),bodyContent:l.createElement(u.a,{isHorizontal:!0,isFluid:!0},l.createElement(p.a,null,e.mode&&l.createElement(l.Fragment,null,l.createElement(b.a,null,n("public~Mode")),l.createElement(E.a,null,e.mode)),e.overwrite&&l.createElement(l.Fragment,null,l.createElement(b.a,null,n("public~Overwrite")),l.createElement(E.a,null,e.overwrite.toString()))))},l.createElement(f.a,{variant:f.d.plain,"aria-label":"public~Info",className:"pf-v5-u-ml-sm pf-v5-u-p-0"},l.createElement(v.d,null)))),(null===(a=e.contents)||void 0===a?void 0:a.source)&&l.createElement(C.l,{value:decodeURIComponent(e.contents.source).replace(/^(data:,)/,"")}))})))}),C.mc.editYaml(),C.mc.events(j.ResourceEventStream)],w=e=>l.createElement(N.a,Object.assign({},e,{kind:k,menuActions:y,pages:O})),F=["","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl","",C.F.columnClass],P=({obj:e})=>l.createElement(l.Fragment,null,l.createElement(N.k,{className:F[0]},l.createElement(C.hb,{kind:k,name:e.metadata.name})),l.createElement(N.k,{className:o(F[1],"co-break-word")},n.a(e,["metadata","annotations","machineconfiguration.openshift.io/generated-by-controller-version"],"-")),l.createElement(N.k,{className:F[2]},n.a(e,"spec.config.ignition.version")||"-"),l.createElement(N.k,{className:o(F[3],"co-break-word")},n.a(e,"spec.osImageURL")||"-"),l.createElement(N.k,{className:F[4]},l.createElement(C.xb,{timestamp:e.metadata.creationTimestamp})),l.createElement(N.k,{className:F[5]},l.createElement(C.gb,{actions:y,kind:k,resource:e}))),U=e=>{const{t:t}=Object(i.useTranslation)();return l.createElement(N.j,Object.assign({},e,{"aria-label":t("public~MachineConfigs"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[c.a],props:{className:F[0]}},{title:t("public~Generated by controller"),sortField:"metadata.annotations['machineconfiguration.openshift.io/generated-by-controller-version']",transforms:[c.a],props:{className:F[1]}},{title:t("public~Ignition version"),sortField:"spec.config.ignition.version",transforms:[c.a],props:{className:F[2]}},{title:t("public~OS image URL"),sortField:"spec.osImageURL",transforms:[c.a],props:{className:F[3]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[c.a],props:{className:F[4]}},{title:"",props:{className:F[5]}}],Row:P,virtualize:!0}))},T=e=>{var{canCreate:t=!0}=e,a=_(e,["canCreate"]);return l.createElement(N.c,Object.assign({},a,{canCreate:t,ListComponent:U,kind:k}))}},4501:function(e,t,a){"use strict";a.r(t),a.d(t,"MachineConfigPoolDetailsPage",(function(){return T})),a.d(t,"MachineConfigPoolPage",(function(){return S}));var n=a(117),l=a(16),c=a(50),o=a(0),i=a(54),r=a(18),s=a(88),m=a(7),d=a(8357),u=a(1196),p=a(972),b=a(131),E=a(10),f=a(4410),v=a(8),g=a(40),h=a(5),N=a(409),C=a(5418),j=a(6683);const _=Object(v.Hb)(E.MachineConfigPoolModel),k=[(e,t)=>{var a;return{labelKey:(null===(a=t.spec)||void 0===a?void 0:a.paused)?"public~Resume updates":"public~Pause updates",callback:()=>Object(h.Ac)(e,t).catch(e=>Object(b.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,verb:"patch"}}},...h.F.getExtensionsActionsForKind(E.MachineConfigPoolModel),...h.F.factory.common],y=(e,t)=>{const{conditions:a}=e.status||{},l=n.a(a,{type:t});return l?l.status:v.d.Unknown};var M;!function(e){e.Paused="Paused",e.Updating="Updating",e.Updated="Updated"}(M||(M={}));const O=({obj:e})=>{var t;const a=l.a(e,"status.configuration"),n=l.a(e,"spec.maxUnavailable",1),{t:i}=Object(m.useTranslation)();return o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",null,i("public~Max unavailable machines")),o.createElement("dd",null,n),a&&o.createElement(o.Fragment,null,o.createElement("dt",null,i("public~Current configuration")),o.createElement("dd",null,a.name?o.createElement(h.hb,{kind:f.machineConfigReference,name:a.name,title:a.name}):"-"),o.createElement("dt",null,i("public~Current configuration source")),o.createElement("dd",null,a.source?c.a(a.source,({apiVersion:e,kind:t,name:a})=>o.createElement(h.hb,{key:`${e}-${t}-${a}`,kind:f.machineConfigReference,name:a,title:a})):"-"),o.createElement(h.r,{label:i("public~Paused"),obj:e,path:"spec.paused"},(null===(t=e.spec)||void 0===t?void 0:t.paused)?i("public~True"):i("public~False"))))},w=({obj:e})=>{var t,a,n,l,c,i,r,d;const{t:u}=Object(m.useTranslation)();return o.createElement("div",{className:"co-m-pane__body-group"},o.createElement("div",{className:"co-detail-table"},o.createElement("div",{className:"co-detail-table__row row"},o.createElement("div",{className:"co-detail-table__section"},o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",{className:"co-detail-table__section-header"},u("public~Total machine count")),o.createElement("dd",null,o.createElement(s.a,{content:u("public~Total number of machines in the machine pool.")},o.createElement("span",null,null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.machineCount," ",u("public~machine",{count:null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.machineCount})))))),o.createElement("div",{className:"co-detail-table__section"},o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",{className:"co-detail-table__section-header"},u("public~Ready machines")),o.createElement("dd",null,o.createElement(s.a,{content:u("public~Total number of ready machines targeted by the pool.")},o.createElement("span",null,null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.readyMachineCount," ",u("public~machine",{count:null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.readyMachineCount})))))),o.createElement("div",{className:"co-detail-table__section"},o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",{className:"co-detail-table__section-header"},u("public~Updated count")),o.createElement("dd",null,o.createElement(s.a,{content:u("public~Total number of machines targeted by the pool that have the CurrentMachineConfig as their config.")},o.createElement("span",null,null===(c=null==e?void 0:e.status)||void 0===c?void 0:c.updatedMachineCount," ",u("public~machine",{count:null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.updatedMachineCount})))))),o.createElement("div",{className:"co-detail-table__section co-detail-table__section--last"},o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",{className:"co-detail-table__section-header"},u("public~Unavailable count")),o.createElement("dd",null,o.createElement(s.a,{content:u("public~Total number of unavailable (non-ready) machines targeted by the pool. A node is marked unavailable if it is in updating state or NodeReady condition is false.")},o.createElement("span",null,null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.unavailableMachineCount," ",u("public~machine",{count:null===(d=null==e?void 0:e.status)||void 0===d?void 0:d.unavailableMachineCount})))))))))},F=({obj:e})=>{const t=l.a(e,"spec.machineConfigSelector"),{t:a}=Object(m.useTranslation)();return o.createElement(h.lb,{resource:e,showNodeSelector:!0,nodeSelector:"spec.nodeSelector"},o.createElement("dt",null,a("public~MachineConfig selector")),o.createElement("dd",null,o.createElement(h.pb,{kind:f.machineConfigReference,selector:t})))},P=[h.mc.details(({obj:e})=>{const t=l.a(e,"spec.paused"),{t:a}=Object(m.useTranslation)();return o.createElement(o.Fragment,null,o.createElement("div",{className:"co-m-pane__body"},o.createElement(h.ob,{text:a("public~MachineConfigPool details")}),t&&o.createElement(h.Db,{model:E.MachineConfigPoolModel,obj:e}),o.createElement(w,{obj:e}),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-6"},o.createElement(F,{obj:e})),o.createElement("div",{className:"col-sm-6"},o.createElement(O,{obj:e})))),o.createElement("div",{className:"co-m-pane__body"},o.createElement(h.ob,{text:a("public~Conditions")}),o.createElement(p.b,{conditions:l.a(e,"status.conditions")})))}),h.mc.editYaml(),h.mc.machineConfigs(({obj:e})=>o.createElement(f.MachineConfigPage,{canCreate:!1,showTitle:!1,selector:l.a(e,"spec.machineConfigSelector")})),h.mc.events(N.ResourceEventStream)],U=({obj:e})=>{const{t:t}=Object(m.useTranslation)();switch((null===(n=(a=e).spec)||void 0===n?void 0:n.paused)?M.Paused:"True"===y(a,v.f.Updating)?M.Updating:"True"===y(a,v.f.Updated)?M.Updated:null){case M.Paused:return o.createElement(o.Fragment,null,o.createElement(d.a,null)," ",t("public~Paused"));case M.Updating:return o.createElement(o.Fragment,null,o.createElement(u.a,{className:"fa-spin co-icon-space-r"}),t("public~Updating"));case M.Updated:return o.createElement(j.b,null);default:return o.createElement(h.T,null)}var a,n},T=e=>o.createElement(g.a,Object.assign({},e,{kind:_,menuActions:k,pages:P})),R=["","pf-m-hidden pf-m-visible-on-md pf-v5-u-w-33-on-md","","",h.F.columnClass],x=e=>{const{t:t}=Object(m.useTranslation)();return o.createElement(o.Fragment,null,o.createElement(C.MachineConfigPoolsArePausedAlert,{machineConfigPools:e.data}),o.createElement(g.j,Object.assign({},e,{"aria-label":t("public~MachineConfigPools"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:R[0]}},{title:t("public~Configuration"),sortField:"status.configuration.name",transforms:[i.a],props:{className:R[1]}},{title:t("public~Degraded"),props:{className:R[2]}},{title:t("public~Update status"),props:{className:R[3]}},{title:"",props:{className:R[4]}}],Row:({obj:e})=>o.createElement(o.Fragment,null,o.createElement(g.k,{className:r(R[0],"co-break-word")},o.createElement(h.hb,{kind:_,name:e.metadata.name})),o.createElement(g.k,{className:r(R[1],"co-break-word")},l.a(e,"status.configuration.name")?o.createElement(h.hb,{kind:f.machineConfigReference,name:e.status.configuration.name,title:e.status.configuration.name}):"-"),o.createElement(g.k,{className:r(R[2],"co-truncate")},y(e,v.f.Degraded)),o.createElement(g.k,{className:R[3]},o.createElement(U,{obj:e})),o.createElement(g.k,{className:R[4]},o.createElement(h.gb,{actions:k,kind:_,resource:e}))),virtualize:!0})))},S=e=>o.createElement(g.c,Object.assign({},e,{ListComponent:x,kind:_,canCreate:!0}))}}]);
//# sourceMappingURL=machine-config-pool-chunk-2a2577fd24e487a38362.min.js.map