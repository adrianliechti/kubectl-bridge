(window.webpackJsonp=window.webpackJsonp||[]).push([[151,20,35,44,57,91,126,179],{1407:function(e,t,a){"use strict";a.r(t),a.d(t,"getQuotaResourceTypes",(function(){return M})),a.d(t,"getACRQResourceUsage",(function(){return B})),a.d(t,"getResourceUsage",(function(){return F})),a.d(t,"UsageIcon",(function(){return q})),a.d(t,"ResourceUsageRow",(function(){return G})),a.d(t,"QuotaScopesInline",(function(){return V})),a.d(t,"QuotaScopesList",(function(){return Y})),a.d(t,"hasComputeResources",(function(){return H})),a.d(t,"ResourceQuotasList",(function(){return J})),a.d(t,"AppliedClusterResourceQuotasList",(function(){return Z})),a.d(t,"quotaType",(function(){return X})),a.d(t,"flatten",(function(){return ee})),a.d(t,"ResourceQuotasPage",(function(){return te})),a.d(t,"AppliedClusterResourceQuotasPage",(function(){return ae})),a.d(t,"ResourceQuotasDetailsPage",(function(){return ne})),a.d(t,"AppliedClusterResourceQuotasDetailsPage",(function(){return re}));var n=a(16),r=a(160),i=a(1120),o=a(460),s=a(839),l=a(0),c=a(18),u=a(14),d=a(54),m=a(5839),p=a(5840),b=a(2248),v=a(2247),g=a(1199),h=a(7),f=a(5747),O=a(5746),y=a(5868),E=a(15),j=a(40),k=a(5),T=a(243),S=a(207),_=a(139),R=a(8),P=a(10),N=a(5674);const{common:C}=k.F.factory,w=[...k.F.getExtensionsActionsForKind(P.ResourceQuotaModel),...C],I=[...k.F.getExtensionsActionsForKind(P.ClusterResourceQuotaModel),...C],x=e=>[...k.F.getExtensionsActionsForKind(P.ClusterResourceQuotaModel),k.F.factory.ModifyLabels,k.F.factory.ModifyAnnotations,(t,a)=>({labelKey:"public~Edit AppliedClusterResourceQuota",href:`/k8s/ns/${e}/${Object(R.Hb)(P.AppliedClusterResourceQuotaModel)}/${a.metadata.name}/yaml`,accessReview:{group:t.apiGroup,resource:t.plural,name:a.metadata.name,namespace:e,verb:"update"}}),k.F.factory.Delete],A=e=>!e.metadata.namespace,D=Object(R.Hb)(P.ClusterResourceQuotaModel),U=Object(R.Hb)(P.AppliedClusterResourceQuotaModel),L=(e,t)=>e.metadata.namespace?w:"ClusterResourceQuota"===e.kind?I:"AppliedClusterResourceQuota"===e.kind?x(t.namespace):void 0,M=e=>{const t=A(e)?n.a(e,"spec.quota.hard"):n.a(e,"spec.hard");return r.a(t).sort()},B=(e,t,a)=>{var n,r,i,o,s,l,c,u,d,m,p,b,v;let g;if(a){g={namespace:null===(i=null===(r=(null===(n=e.status)||void 0===n?void 0:n.namespaces).filter(e=>e.namespace===a)[0])||void 0===r?void 0:r.status)||void 0===i?void 0:i.used[t],cluster:null===(s=null===(o=e.status)||void 0===o?void 0:o.total)||void 0===s?void 0:s.used[t]}}else g={namespace:0,cluster:null===(c=null===(l=e.status)||void 0===l?void 0:l.total)||void 0===c?void 0:c.used[t]};const h=null===(d=null===(u=e.status)||void 0===u?void 0:u.total)||void 0===d?void 0:d.used[t],f=(null===(p=null===(m=e.status)||void 0===m?void 0:m.total)||void 0===p?void 0:p.hard[t])||(null===(v=null===(b=e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.hard[t]),O=f&&g.namespace?Object(k.Ib)(g.namespace)/Object(k.Ib)(f)*100:0,y=(f&&g.cluster?Object(k.Ib)(g.cluster)/Object(k.Ib)(f)*100:0)-O;return{used:g,totalUsed:h,max:f,percent:{namespace:O,otherNamespaces:y,unused:100-(O+y)}}},F=(e,t)=>{const a=A(e),r=a?["status","total","hard"]:["status","hard"],i=a?["spec","quota","hard"]:["spec","hard"],o=a?["status","total","used"]:["status","used"],s=n.a(e,[...r,t])||n.a(e,[...i,t]),l=n.a(e,[...o,t]);return{used:l,max:s,percent:s&&l?Object(k.Ib)(l)/Object(k.Ib)(s)*100:0}},$=["","","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],K=["","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],q=({percent:e})=>{let t=l.createElement(g.a,null);return 0===e?t=l.createElement(m.a,{className:"co-resource-quota-empty"}):e>0&&e<50?t=l.createElement(p.a,{className:"co-resource-quota-almost-empty"}):e>=50&&e<100?t=l.createElement(b.a,{className:"co-resource-quota-almost-full"}):100===e?t=l.createElement(v.a,{className:"co-resource-quota-full"}):e>100&&(t=l.createElement(E.tc,{className:"co-resource-quota-exceeded"})),t},G=({quota:e,resourceType:t,namespace:a})=>{if(Object(R.Db)(e)===U){const{used:n,totalUsed:r,max:i,percent:o}=B(e,t,a);return l.createElement("div",{className:"row co-m-row"},l.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),l.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},l.createElement(q,{percent:o.namespace})),l.createElement("div",{className:"col-sm-2 col-xs-2"},n.namespace),l.createElement("div",{className:"col-sm-2 col-xs-2"},r),l.createElement("div",{className:"col-sm-2 col-xs-2"},i))}const{used:n,max:r,percent:i}=F(e,t);return l.createElement("div",{className:"row co-m-row"},l.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),l.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},l.createElement(q,{percent:i})),l.createElement("div",{className:"col-sm-3 col-xs-3"},n),l.createElement("div",{className:"col-sm-3 col-xs-3"},r))},V=({scopes:e})=>l.createElement("span",null,"(",e.join(", "),")"),Y=({scopes:e})=>{const{t:t}=Object(h.useTranslation)(),a={Terminating:{description:t("public~Affects pods that have an active deadline. These pods usually include builds, deployers, and jobs.")},NotTerminating:{description:t("public~Affects pods that do not have an active deadline. These pods usually include your applications.")},BestEffort:{description:t("public~Affects pods that do not have resource limits set. These pods have a best effort quality of service.")},NotBestEffort:{description:t("public~Affects pods that have at least one resource limit set. These pods do not have a best effort quality of service.")}};return e.map(e=>{const t=n.a(a,e);return t?l.createElement("dd",{key:e},l.createElement("div",{className:"co-resource-quota-scope__label"},e),l.createElement("div",{className:"co-resource-quota-scope__description"},t.description)):l.createElement("dd",{key:e,className:"co-resource-quota-scope__label"},e)})},H=e=>i.a(e,["requests.cpu","cpu","limits.cpu","requests.memory","memory","limits.memory"]).length>0,W=({obj:e})=>{var t,a,n,r,i,o,s,d,m;const{t:p}=Object(h.useTranslation)(),b=Object(u.useParams)(),v=M(e),g=null!==(a=null===(t=e.spec)||void 0===t?void 0:t.scopes)&&void 0!==a?a:null===(r=null===(n=e.spec)||void 0===n?void 0:n.quota)||void 0===r?void 0:r.scopes,E=Object(R.Db)(e),j=E===U,T=null==b?void 0:b.ns;let S,_;switch(E){case U:S=p("public~AppliedClusterResourceQuota details"),_=l.createElement(f.a,{appliedClusterResourceQuota:e,namespace:T});break;case D:S=p("public~ClusterResourceQuota details"),_=l.createElement(y.a,{clusterResourceQuota:e});break;default:S=p("public~ResourceQuota details"),_=l.createElement(O.a,{resourceQuota:e})}const N=Object(k.Dc)({group:P.ClusterResourceQuotaModel.apiGroup,resource:P.ClusterResourceQuotaModel.plural,verb:"list"});return l.createElement(l.Fragment,null,l.createElement("div",{className:"co-m-pane__body"},l.createElement(k.ob,{text:S}),_,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-6"},l.createElement(k.lb,{resource:e},N&&l.createElement(k.r,{label:p("public~ClusterResourceQuota"),obj:e,path:"rq.metadata.name"},l.createElement(k.hb,{kind:D,name:e.metadata.name})),l.createElement(k.r,{label:p("public~Label selector"),obj:e,path:"spec.selector.labels.matchLabels"},l.createElement(k.L,{kind:U,labels:null===(s=null===(o=null===(i=e.spec)||void 0===i?void 0:i.selector)||void 0===o?void 0:o.labels)||void 0===s?void 0:s.matchLabels})),l.createElement(k.r,{label:p("public~Project annotations"),obj:e,path:"spec.selector.annotations"},l.createElement(k.pb,{selector:null===(m=null===(d=e.spec)||void 0===d?void 0:d.selector)||void 0===m?void 0:m.annotations,namespace:T})))),g&&l.createElement("div",{className:"col-sm-6"},l.createElement("dl",{className:"co-m-pane__details"},l.createElement("dt",null,p("public~Scopes")),l.createElement(Y,{scopes:g}))))),l.createElement("div",{className:"co-m-pane__body"},l.createElement(k.ob,{text:S,style:{display:"block",marginBottom:"20px"}},l.createElement(k.B,null,l.createElement("p",null,p("public~Requests are the amount of resources you expect to use. These are used when establishing if the cluster can fulfill your Request.")),l.createElement("p",null,p("public~Limits are a maximum amount of a resource you can consume. Applications consuming more than the Limit may be terminated.")),l.createElement("p",null,p("public~A cluster administrator can establish limits on both the amount you can request and your limits with a ResourceQuota.")))),l.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},l.createElement("div",{className:"row co-m-table-grid__head"},l.createElement("div",{className:"col-sm-4 col-xs-6"},p("public~Resource type")),l.createElement("div",{className:"col-sm-2 hidden-xs"},p("public~Capacity")),l.createElement("div",{className:c({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},p("public~Used")),j&&l.createElement("div",{className:"col-sm-2 col-xs-2"},p("public~Total used")),l.createElement("div",{className:c({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},p("public~Max"))),l.createElement("div",{className:"co-m-table-grid__body"},v.map(t=>l.createElement(G,{key:t,quota:e,resourceType:t,namespace:T}))))))},z=({obj:e,customData:t})=>{var a,n,r,i,o,s,u,d;const{t:m}=Object(h.useTranslation)(),p=L(e,t);let b;return b=e.kind===P.ResourceQuotaModel.kind?Object.keys((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.hard)||{}).reduce((t,a)=>{var n,r,i;return Object(N.b)(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.hard[a],null===(i=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.used)||void 0===i?void 0:i[a])>=100?t+1:t},0):Object.keys((null===(r=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===r?void 0:r.hard)||{}).reduce((t,a)=>{var n,r,i,o,s;return Object(N.b)(null===(r=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===r?void 0:r.hard[a],null===(s=null===(o=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.total)||void 0===o?void 0:o.used)||void 0===s?void 0:s[a])>=100?t+1:t},0),l.createElement(l.Fragment,null,l.createElement(j.k,{className:$[0]},l.createElement(k.hb,{kind:Object(R.Db)(e),name:e.metadata.name,namespace:Object(R.Db)(e)===U?t.namespace:e.metadata.namespace,className:"co-resource-item__resource-name",dataTest:"resource-quota-link"})),l.createElement(j.k,{className:c($[1],"co-break-word"),columnID:"namespace"},e.metadata.namespace?l.createElement(k.hb,{kind:"Namespace",name:e.metadata.namespace}):m("public~None")),l.createElement(j.k,{className:c($[2],"co-break-word")},l.createElement(k.L,{kind:U,labels:null===(s=null===(o=null===(i=e.spec)||void 0===i?void 0:i.selector)||void 0===o?void 0:o.labels)||void 0===s?void 0:s.matchLabels})),l.createElement(j.k,{className:c($[3],"co-break-word")},l.createElement(k.pb,{selector:null===(d=null===(u=e.spec)||void 0===u?void 0:u.selector)||void 0===d?void 0:d.annotations,namespace:t.namespace})),l.createElement(j.k,{className:c($[4],"co-break-word")},b>0?l.createElement(l.Fragment,null,l.createElement(E.tc,null)," ",m("public~{{count}} resource reached quota",{count:b})):m("public~none are at quota")),l.createElement(j.k,{className:$[5]},l.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),l.createElement(j.k,{className:$[6]},l.createElement(k.gb,{customData:t,actions:p,kind:Object(R.Db)(e),resource:e})))},Q=({obj:e,customData:t})=>{var a,n,r,i,o,s,u;const{t:d}=Object(h.useTranslation)(),m=L(e,t),p=Object.keys((null===(n=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===n?void 0:n.hard)||{}).reduce((t,a)=>{var n,r,i,o,s;return Object(N.b)(null===(r=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===r?void 0:r.hard[a],null===(s=null===(o=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.total)||void 0===o?void 0:o.used)||void 0===s?void 0:s[a])>=100?t+1:t},0);return l.createElement(l.Fragment,null,l.createElement(j.k,{className:K[0]},l.createElement(k.hb,{kind:U,name:e.metadata.name,namespace:t.namespace,className:"co-resource-item__resource-name"})),l.createElement(j.k,{className:c(K[1],"co-break-word")},l.createElement(k.L,{kind:U,labels:null===(o=null===(i=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===i?void 0:i.labels)||void 0===o?void 0:o.matchLabels})),l.createElement(j.k,{className:c(K[2],"co-break-word")},l.createElement(k.pb,{selector:null===(u=null===(s=e.spec)||void 0===s?void 0:s.selector)||void 0===u?void 0:u.annotations,namespace:t.namespace})),l.createElement(j.k,{className:c(K[3],"co-break-word")},p>0?l.createElement(l.Fragment,null,l.createElement(E.tc,null)," ",d("public~{{count}} resource reached quota",{count:p})):d("public~none are at quota")),l.createElement(j.k,{className:K[4]},l.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),l.createElement(j.k,{className:K[5]},l.createElement(k.gb,{customData:t,actions:m,kind:U,resource:e})))},J=e=>{const{t:t}=Object(h.useTranslation)();return l.createElement(j.j,Object.assign({},e,{"aria-label":t("public~ResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:$[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:$[1]},id:"namespace"},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:$[2]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:$[3]}},{title:t("public~Status"),props:{className:$[4]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:$[5]}},{title:"",props:{className:$[6]}}],Row:z,virtualize:!0,customData:{namespace:e.namespace}}))},Z=e=>{const{t:t}=Object(h.useTranslation)();return l.createElement(j.j,Object.assign({},e,{"aria-label":t("public~AppliedClusterResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:K[0]}},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:K[1]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:K[2]}},{title:t("public~Status"),props:{className:K[3]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:K[4]}},{title:"",props:{className:K[5]}}],Row:Q,virtualize:!0,customData:{namespace:e.namespace}}))},X=e=>{if(e)return e.metadata.namespace?"namespace":"cluster"},ee=e=>o.a(e,e=>s.a(e.data)),te=Object(T.a)(E.O.OPENSHIFT)(({namespace:e,flags:t,mock:a,showTitle:n})=>{const{t:r}=Object(h.useTranslation)(),i=[{kind:"ResourceQuota",namespaced:!0}];let o=null;if(Object(S.c)(t[E.O.OPENSHIFT]))return l.createElement(_.f,null);t[E.O.OPENSHIFT]&&(e?i.push({kind:Object(R.Hb)(P.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}):i.push({kind:Object(R.Hb)(P.ClusterResourceQuotaModel),namespaced:!1,optional:!0}),o=[{filterGroupName:r("public~Role"),type:"role-kind",reducer:X,items:[{id:"cluster",title:r("public~Cluster-wide {{resource}}",{resource:r(P.ResourceQuotaModel.labelPluralKey)})},{id:"namespace",title:r("public~Namespace {{resource}}",{resource:r(P.ResourceQuotaModel.labelPluralKey)})}]}]);const s=e||"default",c={model:P.ResourceQuotaModel,namespace:s};return l.createElement(j.i,{canCreate:!0,createAccessReview:c,createButtonText:r("public~Create ResourceQuota"),createProps:{to:`/k8s/ns/${s}/resourcequotas/~new`},ListComponent:J,resources:i,label:r(P.ResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:r(P.ResourceQuotaModel.labelPluralKey),rowFilters:o,mock:a,showTitle:n})}),ae=({namespace:e,mock:t,showTitle:a})=>{const{t:n}=Object(h.useTranslation)(),r=[{kind:Object(R.Hb)(P.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}];return l.createElement(j.i,{ListComponent:Z,resources:r,label:n(P.AppliedClusterResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:n(P.AppliedClusterResourceQuotaModel.labelPluralKey),mock:t,showTitle:a})},ne=e=>l.createElement(j.a,Object.assign({},e,{menuActions:w,pages:[k.mc.details(W),k.mc.editYaml()]})),re=e=>{const t=Object(u.useParams)(),a=x(null==t?void 0:t.ns);return l.createElement(j.a,Object.assign({},e,{menuActions:a,pages:[k.mc.details(W),k.mc.editYaml()]}))}},1945:function(e,t,a){"use strict";a.r(t),a.d(t,"deleteModal",(function(){return W})),a.d(t,"NamespacesList",(function(){return re})),a.d(t,"NamespacesPage",(function(){return ie})),a.d(t,"projectMenuActions",(function(){return oe})),a.d(t,"ProjectsTable",(function(){return me})),a.d(t,"ProjectList",(function(){return he})),a.d(t,"ProjectsPage",(function(){return fe})),a.d(t,"PullSecret",(function(){return Oe})),a.d(t,"NamespaceLineCharts",(function(){return ye})),a.d(t,"TopPodsBarChart",(function(){return Ee})),a.d(t,"NamespaceSummary",(function(){return ke})),a.d(t,"NamespaceDetails",(function(){return Te})),a.d(t,"NamespacesDetailsPage",(function(){return _e})),a.d(t,"ProjectsDetailsPage",(function(){return Re}));var n=a(16),r=a(667),i=a(1256),o=a(501),s=a(22),l=a(50),c=a(461),u=a(0),d=a(137),m=a(18),p=a(54),b=a(88),v=a(80),g=a(19),h=a(2244),f=a.n(h),O=a(31),y=a(7),E=a(29),j=a(615),k=a(764),T=a(15),S=a(762),_=a(121),R=a(13),P=a(10),N=a(109),C=a(8),w=a(53),I=a(40),x=a(5),A=a(131),D=a(767),U=a(199),L=a(207),M=a(978),B=a(5852),F=a(5838),$=a(108),K=a(1418),q=a(2249),G=a(2250),V=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const Y=e=>n.a(e,["metadata","annotations","openshift.io/display-name"]),H=()=>[{filterGroupName:E.a.t("public~Requester"),type:"requester",reducer:e=>{var t,a,n;const r=null===(t=e.metadata)||void 0===t?void 0:t.name,i=null===(n=null===(a=e.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/requester"];return Object(K.b)(i)?T.Hb.ME:Object(K.c)(i,r)?T.Hb.USER:Object(K.d)({title:r})?T.Hb.SYSTEM:void 0},items:[{id:T.Hb.ME,title:E.a.t("public~Me")},{id:T.Hb.USER,title:E.a.t("public~User")},{id:T.Hb.SYSTEM,title:E.a.t("public~System"),hideIfEmpty:!0}]}],W=(e,t)=>{var a;const{labelKey:n,labelKind:r,weight:i,accessReview:o}=x.F.factory.Delete(e,t);let s,l,c=void 0;return"default"===t.metadata.name?s=e.label+" default cannot be deleted":"Terminating"===(null===(a=t.status)||void 0===a?void 0:a.phase)?s=e.label+" is already terminating":c=()=>Object(A.r)({kind:e,resource:t}),s&&(l=u.createElement("div",{className:"dropdown__disabled"},u.createElement(b.a,{content:s},u.createElement("span",null,E.a.t(n,r))))),{label:l,labelKey:n,labelKind:r,weight:i,callback:c,accessReview:o}},z=[x.F.factory.ModifyLabels,x.F.factory.ModifyAnnotations,x.F.factory.Edit,W],Q=()=>{const e=[{key:"memory",query:'sum by(namespace) (container_memory_working_set_bytes{container="",pod!=""})'},{key:"cpu",query:"namespace:container_cpu_usage:sum"}].map(({key:e,query:t})=>{const a=`${U.g}/api/v1/query?&query=${t}`;return Object(N.c)(a).then(({data:{result:t}})=>t.reduce((t,a)=>{const n=Number(a.value[1]);return r.a(t,[e,a.metric.namespace],n)},{}))});return Promise.all(e).then(e=>i.a({},...e)).catch(console.error)},J=Object.freeze({name:{classes:"",id:"name"},displayName:{classes:"co-break-word",id:"displayName"},status:{classes:"",id:"status"},requester:{classes:"",id:"requester"},memory:{classes:"",id:"memory"},cpu:{classes:"",id:"cpu"},created:{classes:"",id:"created"},description:{classes:"",id:"description"},labels:{classes:"",id:"labels"}}),Z=()=>[{title:E.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[p.a],props:{className:J.name.classes}},{title:E.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[p.a],props:{className:J.displayName.classes}},{title:E.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[p.a],props:{className:J.status.classes}},{title:E.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[p.a],props:{className:J.requester.classes}},{title:E.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[p.a],props:{className:J.memory.classes}},{title:E.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[p.a],props:{className:J.cpu.classes}},{title:E.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[p.a],props:{className:J.created.classes}},{title:E.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[p.a],props:{className:J.description.classes},additional:!0},{title:E.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[p.a],props:{className:J.labels.classes},additional:!0},{title:"",props:{className:x.F.columnClass}}];Z.displayName="NamespacesTableHeader";const X=Object(C.Hb)(P.NamespaceModel),ee=()=>new Set(Z().reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])),te=({obj:e,customData:{tableColumns:t}})=>{var a,n,r;const{t:i}=Object(y.useTranslation)(),o=Object(O.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),s=Object(T.dd)(e),l=Object(T.Bd)(e),c=null===(a=null==o?void 0:o.memory)||void 0===a?void 0:a[s],d=null===(n=null==o?void 0:o.cpu)||void 0===n?void 0:n[s],p=Object(T.Jc)(e),b=e.metadata.labels,v=(null==t?void 0:t.length)>0?new Set(t):ee();return u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.name.classes},u.createElement(x.hb,{kind:"Namespace",name:e.metadata.name})),u.createElement(I.k,{className:J.displayName.classes,columns:v,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},Y(e)||u.createElement("span",{className:"text-muted"},i("public~No display name")))),u.createElement(I.k,{className:m(J.status.classes,"co-break-word"),columns:v,columnID:J.status.id},u.createElement(T.cc,{status:null===(r=e.status)||void 0===r?void 0:r.phase})),u.createElement(I.k,{className:m(J.requester.classes,"co-break-word"),columns:v,columnID:J.requester.id},l||u.createElement("span",{className:"text-muted"},i("public~No requester"))),u.createElement(I.k,{className:J.memory.classes,columns:v,columnID:J.memory.id},c?Object(x.Ob)(c)+" MiB":"-"),u.createElement(I.k,{className:J.cpu.classes,columns:v,columnID:J.cpu.id},d?i("public~{{cores}} cores",{cores:Object(x.Pb)(d)}):"-"),u.createElement(I.k,{className:J.created.classes,columns:v,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),u.createElement(I.k,{className:J.description.classes,columns:v,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},p||u.createElement("span",{className:"text-muted"},i("public~No description")))),u.createElement(I.k,{className:J.labels.classes,columns:v,columnID:J.labels.id},u.createElement(x.L,{kind:"Namespace",labels:b})),u.createElement(I.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:z,kind:"Namespace",resource:e})))},ae=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No Namespaces found"),Icon:f.a},e("public~No results were found for the requested Namespaces."))},ne=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Namespaces"),Icon:f.a},e("public~No results match the filter criteria."))},re=e=>{var t;const{t:a}=Object(y.useTranslation)(),n=Object(O.useDispatch)(),[r]=Object(T.ff)(T.q,T.r,void 0,!0);u.useEffect(()=>{const e=()=>Q().then(e=>n(w.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[n]);const i=(null===(t=null==r?void 0:r[X])||void 0===t?void 0:t.length)>0?new Set(r[X]):null,o=u.useMemo(()=>({tableColumns:null==r?void 0:r[X]}),[r]);return u.createElement(I.j,Object.assign({},e,{activeColumns:i,columnManagementID:X,"aria-label":a("public~Namespaces"),Header:Z,Row:te,customData:o,virtualize:!0,EmptyMsg:ne,NoDataEmptyMsg:ae}))},ie=e=>{var t;const{t:a}=Object(y.useTranslation)(),n=Object(q.a)(),[r]=Object(T.ff)(T.q,T.r,void 0,!0),i=(null===(t=null==r?void 0:r[X])||void 0===t?void 0:t.length)>0?new Set(r[X]):ee();return u.createElement(I.c,Object.assign({},e,{rowFilters:H(),ListComponent:re,canCreate:!0,createHandler:()=>n(),columnLayout:{columns:Z().map(e=>o.a(e,["title","additional","id"])),id:X,selectedColumns:i,type:a("public~Namespaces")}}))},oe=[x.F.factory.Edit,W],se=Object(C.Hb)(P.ProjectModel),le=({showMetrics:e,showActions:t})=>[{title:E.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[p.a],props:{className:J.name.classes}},{title:E.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[p.a],props:{className:J.displayName.classes}},{title:E.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[p.a],props:{className:J.status.classes}},{title:E.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[p.a],props:{className:J.requester.classes}},...e?[{title:E.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[p.a],props:{className:J.memory.classes}},{title:E.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[p.a],props:{className:J.cpu.classes}}]:[],{title:E.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[p.a],props:{className:J.created.classes}},{title:E.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[p.a],props:{className:J.description.classes},additional:!0},{title:E.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[p.a],props:{className:J.labels.classes},additional:!0},...t?[{title:"",props:{className:x.F.columnClass}}]:[]],ce=({project:e})=>{const t=Object(O.useDispatch)(),[,a]=Object(T.ff)(T.gb,T.fb),n=new URL(window.location.href),r=new URLSearchParams(n.search),i=n.pathname;r.has("project-name")&&r.delete("project-name");const o={search:"?"+r.toString(),hash:n.hash},s=w.b(e.metadata.name,i,o);return u.createElement("span",{className:"co-resource-item co-resource-item--truncate"},u.createElement(x.fb,{kind:"Project"}),u.createElement(k.Link,{to:s,className:"co-resource-item__resource-name",onClick:n=>{Object(T.Sd)(n)||(a(e.metadata.name),sessionStorage.setItem(T.fb,e.metadata.name),t(_.b(Object(C.Hb)(P.ProjectModel),"project-name","")))}},e.metadata.name))},ue=()=>le({showMetrics:!1,showActions:!1}),de=({obj:e,customData:t={}})=>{var a,n,r;const{t:i}=Object(y.useTranslation)(),o=Object(O.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),s=Object(T.dd)(e),l=Object(T.Bd)(e),{ProjectLinkComponent:c,actionsEnabled:d=!0,showMetrics:p,showActions:b,isColumnManagementEnabled:v=!0,tableColumns:g}=t,h=null===(a=null==o?void 0:o.memory)||void 0===a?void 0:a[s],f=null===(n=null==o?void 0:o.cpu)||void 0===n?void 0:n[s],E=Object(T.Jc)(e),j=e.metadata.labels,k=v?(null==g?void 0:g.length)>0?new Set(g):(({showMetrics:e,showActions:t})=>new Set(le({showMetrics:e,showActions:t}).reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])))({showMetrics:p,showActions:b}):null;return u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.name.classes},t&&c?u.createElement(c,{project:e}):u.createElement("span",{className:"co-resource-item"},u.createElement(x.hb,{kind:"Project",name:e.metadata.name}))),u.createElement(I.k,{className:J.displayName.classes,columns:k,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},Y(e)||u.createElement("span",{className:"text-muted"},i("public~No display name")))),u.createElement(I.k,{className:J.status.classes,columns:k,columnID:J.status.id},u.createElement(T.cc,{status:null===(r=e.status)||void 0===r?void 0:r.phase})),u.createElement(I.k,{className:m(J.requester.classes,"co-break-word"),columns:k,columnID:J.requester.id},l||u.createElement("span",{className:"text-muted"},i("public~No requester"))),p&&u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.memory.classes,columns:k,columnID:J.memory.id},h?Object(x.Ob)(h)+" MiB":"-"),u.createElement(I.k,{className:J.cpu.classes,columns:k,columnID:J.cpu.id},f?i("public~{{cores}} cores",{cores:Object(x.Pb)(f)}):"-")),u.createElement(I.k,{className:J.created.classes,columns:k,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),v&&u.createElement(u.Fragment,null,u.createElement(I.k,{className:J.description.classes,columns:k,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},E||u.createElement("span",{className:"text-muted"},i("public~No description")))),u.createElement(I.k,{className:J.labels.classes,columns:k,columnID:J.labels.id},u.createElement(x.L,{labels:j,kind:"Project"}))),d&&u.createElement(I.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:oe,kind:"Project",resource:e})))};de.displayName="ProjectTableRow";const me=e=>{const{t:t}=Object(y.useTranslation)(),a=u.useMemo(()=>({ProjectLinkComponent:ce,actionsEnabled:!1,isColumnManagementEnabled:!1}),[]);return u.createElement(I.j,Object.assign({},e,{"aria-label":t("public~Projects"),Header:ue,Row:de,customData:a,virtualize:!0}))},pe=()=>le({showMetrics:!0,showActions:!0}),be=()=>le({showMetrics:!1,showActions:!0}),ve=()=>{const{t:e}=Object(y.useTranslation)(),t=Object(T.Fe)(T.O.CAN_CREATE_NS),a=Object(T.Fe)(T.O.CAN_CREATE_PROJECT),n=t||a;return u.createElement(x.h,{title:e("public~Welcome to OpenShift")},u.createElement(M.a,{canCreate:n}))},ge=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Projects"),icon:f.a},e("public~No results match the filter criteria."))},he=e=>{var t,{data:a}=e,n=V(e,["data"]);const{t:r}=Object(y.useTranslation)(),i=Object(O.useDispatch)(),o=Object(T.Fe)(T.O.CAN_GET_NS),[s]=Object(T.ff)(T.q,T.r,void 0,!0),l=Object(T.Ue)()&&o&&window.screen.width>=1200,c=u.useMemo(()=>({showMetrics:l,tableColumns:null==s?void 0:s[se]}),[l,s]);u.useEffect(()=>{if(l){const e=()=>Q().then(e=>i(w.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)}},[i,l]);const d=(null===(t=null==s?void 0:s[se])||void 0===t?void 0:t.length)>0?new Set(s[se]):null;return Object(L.c)(o)?null:u.createElement(I.j,Object.assign({},n,{activeColumns:d,columnManagementID:se,"aria-label":r("public~Projects"),data:a,Header:l?pe:be,Row:de,NoDataEmptyMsg:ve,EmptyMsg:ge,customData:c,virtualize:!0}))},fe=e=>{var t;const{t:a}=Object(y.useTranslation)(),n=Object(G.a)(),r=Object(T.Fe)(T.O.CAN_GET_NS),i=Object(T.Fe)(T.O.CAN_CREATE_PROJECT),[s]=Object(T.ff)(T.q,T.r,void 0,!0),l=Object(T.Ue)()&&r&&window.screen.width>=1200,c=l;return u.createElement(I.c,Object.assign({},e,{rowFilters:H(),ListComponent:he,canCreate:i,createHandler:()=>n(),filterLabel:a("public~by name or display name"),skipAccessReview:!0,textFilter:"project-name",kind:"Project",columnLayout:{columns:le({showMetrics:l,showActions:c}).map(e=>o.a(e,["title","additional","id"])),id:se,selectedColumns:(null===(t=null==s?void 0:s[se])||void 0===t?void 0:t.length)>0?new Set(s[se]):null,type:a("public~Project")}}))},Oe=e=>{const[t,a]=u.useState(!0),[n,r]=u.useState([]),[i,o]=u.useState(!1),{t:s}=Object(y.useTranslation)(),{namespace:l,canViewSecrets:c}=e;u.useEffect(()=>{Object(C.kb)(P.ServiceAccountModel,"default",l.metadata.name,{}).then(e=>{var t;a(!1),r(null!==(t=e.imagePullSecrets)&&void 0!==t?t:[]),o(!1)}).catch(e=>{a(!1),r([]),o(!0),console.error("Error getting default ServiceAccount",e)})},[l.metadata.name]);const d=()=>Object(A.k)({namespace:l,pullSecret:void 0});return u.createElement(u.Fragment,null,u.createElement("dt",null,s("public~Default pull Secret",{count:n.length})),u.createElement("dd",null,t?u.createElement(x.T,null):i?u.createElement(v.a,{variant:"danger",isInline:!0,title:s("Error loading default pull Secrets")}):n.length>0?n.map(e=>u.createElement("div",{key:e.name},u.createElement(x.hb,{kind:"Secret",name:e.name,namespace:l.metadata.name,linkTo:c}))):u.createElement(g.a,{variant:"link",type:"button",isInline:!0,onClick:d},s("public~Not configured"),u.createElement(j.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))))},ye=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(U.b,{title:t("public~CPU usage"),humanize:x.Yb,namespace:e.metadata.name,query:`namespace:container_cpu_usage:sum{namespace='${e.metadata.name}'}`})),u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(U.b,{title:t("public~Memory usage"),humanize:x.Wb,byteDataType:S.a.BinaryBytes,namespace:e.metadata.name,query:`sum by(namespace) (container_memory_working_set_bytes{namespace="${e.metadata.name}",container="",pod!=""})`})))},Ee=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return u.createElement(U.c,{title:t("public~Memory usage by pod (top 10)"),namespace:e.metadata.name,query:`sort_desc(topk(10, sum by (pod)(container_memory_working_set_bytes{container="",pod!="",namespace="${e.metadata.name}"})))`,humanize:x.Wb,metric:"pod"})},je=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return Object(T.Ue)()?u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:t("public~Resource usage")}),u.createElement(ye,{ns:e}),u.createElement(Ee,{ns:e})):null},ke=({ns:e})=>{var t,a,n;const{t:r}=Object(y.useTranslation)(),i=Y(e),o=Object(T.Jc)(e),s=Object(T.Bd)(e),l=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["maistra.io/member-of"],c=Object(x.Dc)({group:P.SecretModel.apiGroup,resource:P.SecretModel.plural,verb:"patch",namespace:e.metadata.name});return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement(x.lb,{resource:e,showLabelEditor:"Namespace"===e.kind},u.createElement("dt",null,r("public~Display name")),u.createElement("dd",{className:m({"text-muted":!i})},i||r("public~No display name")),u.createElement("dt",null,r("public~Description")),u.createElement("dd",null,u.createElement("p",{className:m({"text-muted":!o,"co-pre-wrap":o,"co-namespace-summary__description":o})},o||r("public~No description"))),s&&u.createElement("dt",null,"Requester"),s&&u.createElement("dd",null,s))),u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement("dl",{className:"co-m-pane__details"},u.createElement(x.r,{label:r("public~Status"),obj:e,path:"status.phase"},u.createElement(T.cc,{status:null===(n=e.status)||void 0===n?void 0:n.phase})),u.createElement(Oe,{namespace:e,canViewSecrets:c}),u.createElement("dt",null,r("public~NetworkPolicies")),u.createElement("dd",null,u.createElement(k.Link,{to:`/k8s/ns/${e.metadata.name}/networkpolicies`},r("public~NetworkPolicies"))),l&&u.createElement(u.Fragment,null,u.createElement("dt",null,r("public~Service mesh")),u.createElement("dd",null,u.createElement(T.X,null)," ",r("public~Service mesh enabled"))))))},Te=({obj:e,customData:t})=>{const{t:a}=Object(y.useTranslation)(),[n]=Object(R.jc)(),[r]=Object($.a)({isList:!0,kind:Object(C.Hb)(P.ConsoleLinkModel),optional:!0}),i=Object(F.b)(e,r);return u.createElement("div",null,"dev"===n&&u.createElement(d.b,null,u.createElement("title",null,a("public~Project details"))),u.createElement("div",{className:"co-m-pane__body"},!(null==t?void 0:t.hideHeading)&&u.createElement(x.ob,{text:a("public~{{kind}} details",{kind:e.kind})}),u.createElement(ke,{ns:e})),"Namespace"===e.kind&&u.createElement(je,{ns:e}),!s.a(i)&&u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:a("public~Launcher")}),u.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},l.a(c.a(i,"spec.text"),e=>u.createElement("li",{key:e.metadata.uid},u.createElement(x.z,{href:e.spec.href,text:e.spec.text}))))))},Se=({obj:{metadata:e}})=>u.createElement(D.RoleBindingsPage,{createPath:`/k8s/ns/${e.name}/rolebindings/~new`,namespace:e.name,showTitle:!1}),_e=e=>u.createElement(I.a,Object.assign({},e,{menuActions:z,pages:[x.mc.details(Te),x.mc.editYaml(),x.mc.roles(Se)]})),Re=e=>u.createElement(I.a,Object.assign({},e,{menuActions:oe,pages:[{href:"",nameKey:"public~Overview",component:F.a},{href:"details",nameKey:"public~Details",component:Te},x.mc.editYaml(),x.mc.workloads(B.a),x.mc.roles(Se)]}))},2231:function(e,t,a){"use strict";a.r(t),a.d(t,"getStatusGroups",(function(){return m})),a.d(t,"getPodStatusGroups",(function(){return p})),a.d(t,"getNodeStatusGroups",(function(){return b})),a.d(t,"getPVCStatusGroups",(function(){return v})),a.d(t,"getPVStatusGroups",(function(){return g})),a.d(t,"getVSStatusGroups",(function(){return h}));var n=a(2233),r=a(2238),i=a(8),o=a(475);const s={[o.a.NOT_MAPPED]:["Running","Succeeded"],[o.a.ERROR]:["CrashLoopBackOff","Failed"],[o.a.PROGRESS]:["Terminating","Pending"],[o.a.WARN]:["Unknown"]},l={[o.a.NOT_MAPPED]:["Bound"],[o.a.ERROR]:["Lost"],[o.a.PROGRESS]:["Pending"]},c={[o.a.NOT_MAPPED]:["Available","Bound"],[o.a.PROGRESS]:["Released"],[o.a.ERROR]:["Failed"]},u={[o.a.NOT_MAPPED]:["Ready"],[o.a.PROGRESS]:["Not Ready"]},d={[o.a.NOT_MAPPED]:["Ready"],[o.a.PROGRESS]:["Pending"],[o.a.ERROR]:["Error"]},m=(e,t,a,n)=>{const r={[o.a.UNKNOWN]:{statusIDs:[],count:0}};return Object.keys(t).forEach(e=>{r[e]={statusIDs:[...t[e]],count:0,filterType:n}}),e.forEach(e=>{const n=a(e),i=Object.keys(t).find(e=>t[e].includes(n))||o.a.UNKNOWN;r[i].count++}),r},p=e=>m(e,s,i.Ab,"pod-status"),b=e=>m(e,u,n.a,"node-status"),v=e=>m(e,l,e=>e.status.phase,"pvc-status"),g=e=>m(e,c,e=>e.status.phase,"pv-status"),h=e=>m(e,d,r.b,"snapshot-status")},4359:function(e,t,a){"use strict";a.r(t);var n=a(5590);a.d(t,"toDefaultSecretType",(function(){return n.d})),a.d(t,"toTypeAbstraction",(function(){return n.e})),a.d(t,"generateSecret",(function(){return n.b})),a.d(t,"determineSecretType",(function(){return n.a})),a.d(t,"getImageSecretKey",(function(){return n.c})),a.d(t,"useSecretTitle",(function(){return n.g})),a.d(t,"useSecretDescription",(function(){return n.f}));var r=a(869);a.d(t,"SecretTypeAbstraction",(function(){return r.c})),a.d(t,"AUTHS_KEY",(function(){return r.a})),a.d(t,"SecretType",(function(){return r.b}));var i=a(5598);a.d(t,"SecretFormWrapper",(function(){return i.a}));var o=a(5604);a.d(t,"PullSecretForm",(function(){return o.a}));var s=a(5606);a.d(t,"PullSecretCredentialEntry",(function(){return s.a}));var l=a(5605);a.d(t,"CreateConfigSubform",(function(){return l.a}));var c=a(5607);a.d(t,"UploadConfigSubform",(function(){return c.a}));var u=a(5608);a.d(t,"WebHookSecretForm",(function(){return u.a}));var d=a(5601);a.d(t,"SourceSecretForm",(function(){return d.a}));var m=a(5602);a.d(t,"BasicAuthSubform",(function(){return m.a}));var p=a(5603);a.d(t,"SSHAuthSubform",(function(){return p.a}));var b=a(5609);a.d(t,"GenericSecretForm",(function(){return b.a}));var v=a(5610);a.d(t,"KeyValueEntryFormWithTranslation",(function(){return v.b})),a.d(t,"KeyValueEntryForm",(function(){return v.a}));var g=a(5636);a.d(t,"SecretLoadingWrapper",(function(){return g.b})),a.d(t,"EditSecret",(function(){return g.a}));var h=a(5637);a.d(t,"CreateSecret",(function(){return h.a}));var f=a(5593);a.d(t,"DroppableFileInput",(function(){return f.a}));var O=a(5600);a.d(t,"SecretSubForm",(function(){return O.a}));a(5638)},4362:function(e,t,a){"use strict";a.r(t),a.d(t,"getAnnotationTags",(function(){return L})),a.d(t,"getBuilderTags",(function(){return M})),a.d(t,"getBuilderTagsSortedByVersion",(function(){return B})),a.d(t,"getMostRecentBuilderTag",(function(){return F})),a.d(t,"isBuilder",(function(){return $})),a.d(t,"ExampleDockerCommandPopover",(function(){return V})),a.d(t,"ImageStreamsDetails",(function(){return Y})),a.d(t,"ImageStreamsDetailsPage",(function(){return z})),a.d(t,"ImageStreamsList",(function(){return Z})),a.d(t,"buildPhase",(function(){return X})),a.d(t,"ImageStreamsPage",(function(){return ee}));var n=a(0),r=a(7),i=a(16),o=a(240),s=a(2050),l=a(116),c=a(1533),u=a(22),d=a(225),m=a(7187),p=a(117),b=a(50),v=a(283),g=a(18),h=a(54),f=a(353),O=a(19),y=a(80),E=a(979),j=a(10),k=a(40),T=a(5),S=a(1198),_=a(1414),R=a(173),P=a(981),N=a(284),C=a(1413),w=a(1948),I=a(99),x=a(1411),A=a(693),D=a(5781),U=a(15);const L=e=>i.a(e,"annotations.tags","").split(/\s*,\s*/),M=e=>{const t=(e=>{const t=i.a(e,"status.tags");return s.a(t,"tag")})(e);return l.a(e.spec.tags,e=>(e=>{const t=L(e);return o.a(t,"builder")&&!o.a(t,"hidden")})(e)&&t[e.name])},B=e=>M(e).sort(({name:e},{name:t})=>{const a=v.coerce(e),n=v.coerce(t);return a||n?a?n?v.rcompare(a,n):-1:1:e.localeCompare(t)}),F=e=>{const t=B(e);return c.a(t)},$=e=>!u.a(M(e)),{common:K}=P.a.factory,q=[...P.a.getExtensionsActionsForKind(j.ImageStreamModel),...K],G=({imageStream:e,specTag:t,statusTag:a})=>{const o=i.a(e,"status"),s=i.a(a,["items",0]),l=i.a(t,"from"),c="ImageStreamTag"===i.a(t,"from.kind"),u=i.a(s,"image"),m=i.a(s,"created"),p=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:b}=Object(r.useTranslation)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},n.createElement(I.ResourceLink,{kind:"ImageStreamTag",name:Object(D.b)(e.metadata.name,a.tag),namespace:e.metadata.namespace,title:a.tag,linkTo:!!u})),n.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},l&&c&&n.createElement(I.ResourceLink,{kind:"ImageStreamTag",name:l.name,namespace:e.metadata.namespace,title:l.name}),l&&!c&&n.createElement(n.Fragment,null,l.name),!l&&n.createElement("span",{className:"text-muted"},b("public~pushed image"))),n.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!o&&p&&n.createElement(n.Fragment,null,n.createElement(U.tc,null)," ",b("public~Unable to resolve")),!o&&!p&&!l&&n.createElement(n.Fragment,null,b("public~Not synced yet")),!o&&!p&&l&&n.createElement(n.Fragment,null,b("public~Unresolved")),o&&u&&n.createElement(n.Fragment,null,u),o&&!u&&n.createElement(n.Fragment,null,n.createElement(U.tc,null)," ",b("public~There is no image associated with this tag"))),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},m&&n.createElement(A.Timestamp,{timestamp:m}),!m&&"-"))},V=({imageStream:e,tag:t})=>{const a=i.a(e,"status.publicDockerImageRepository"),{t:o}=Object(r.useTranslation)();if(!a)return null;const s=`docker push ${a}:${t||"<tag>"}`,l=`docker pull ${a}:${t||"<tag>"}`;return n.createElement(f.a,{headerContent:n.createElement(n.Fragment,null,o("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:n.createElement("div",null,n.createElement("p",null,o("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),n.createElement("br",null),n.createElement("p",null,o("public~Authenticate to the internal registry")),n.createElement(S.a,{value:"oc registry login"}),n.createElement("br",null),n.createElement("p",null,o("public~Push an image to this ImageStream")),n.createElement(S.a,{value:s}),n.createElement("br",null),n.createElement("p",null,o("public~Pull an image from this ImageStream")),n.createElement(S.a,{value:l}),n.createElement("br",null),n.createElement("p",null,n.createElement(r.Trans,{t:o,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",n.createElement("strong",null,"podman")," ","commands."," "),n.createElement(R.a,{href:T.p,text:o("public~Learn more.")})))},n.createElement(O.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},n.createElement(E.a,{className:"co-icon-space-r"}),o("public~Do you need to work with this ImageStream outside of the web console?")))},Y=({obj:e})=>{const{t:t}=Object(r.useTranslation)(),a=i.a(e,"status.dockerImageRepository"),o=i.a(e,"status.publicDockerImageRepository"),l=i.a(e,"status.tags.length"),c=s.a(e.spec.tags,"name"),d=m.a(e.status.tags,(a,n)=>{const r=p.a(n.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);r&&a.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${n.tag}`,message:r.message}))});return n.createElement("div",null,n.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&n.createElement(_.a,{variant:y.b.warning,alerts:b.a(d,(e,t)=>n.createElement(n.Fragment,{key:t},e))}),n.createElement(N.c,{text:t("public~ImageStream details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement(x.b,{resource:e},a&&n.createElement("dt",null,t("public~Image repository")),a&&n.createElement("dd",null,a),o&&n.createElement("dt",null,t("public~Public image repository")),o&&n.createElement("dd",null,o),n.createElement("dt",null,t("public~Image count")),n.createElement("dd",null,l||0)),n.createElement(V,{imageStream:e})))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(N.c,{text:t("public~Tags")}),u.a(e.status.tags)?n.createElement("span",{className:"text-muted"},t("public~No tags")):n.createElement("div",{className:"row"},n.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},n.createElement("div",{className:"row co-m-table-grid__head"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),n.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),n.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),n.createElement("div",{className:"co-m-table-grid__body"},b.a(e.status.tags,t=>n.createElement(G,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},H=({obj:e})=>{const t=i.a(e,"status.tags");return n.createElement(D.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};H.displayName="ImageStreamHistory";const W=[w.navFactory.details(Y),w.navFactory.editYaml(),w.navFactory.history(H)],z=e=>n.createElement(k.a,Object.assign({},e,{kind:"ImageStream",menuActions:q,pages:W}));z.displayName="ImageStreamsDetailsPage";const Q=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",P.a.columnClass],J=({obj:e})=>n.createElement(n.Fragment,null,n.createElement(k.k,{className:Q[0]},n.createElement(I.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(k.k,{className:g(Q[1],"co-break-word"),columnID:"namespace"},n.createElement(I.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(k.k,{className:Q[2]},n.createElement(C.a,{kind:"ImageStream",labels:e.metadata.labels})),n.createElement(k.k,{className:Q[3]},n.createElement(A.Timestamp,{timestamp:e.metadata.creationTimestamp})),n.createElement(k.k,{className:Q[4]},n.createElement(P.d,{actions:q,kind:"ImageStream",resource:e}))),Z=e=>{const{t:t}=Object(r.useTranslation)(),a=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[h.a],props:{className:Q[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[h.a],props:{className:Q[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[h.a],props:{className:Q[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[h.a],props:{className:Q[3]}},{title:"",props:{className:Q[4]}}];return a.displayName="ImageStreamsTableHeader",n.createElement(k.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:a,Row:J,virtualize:!0}))};Z.displayName="ImageStreamsList";const X=e=>e.status.phase,ee=e=>{const{t:t}=Object(r.useTranslation)();return n.createElement(k.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Z,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},4380:function(e,t,a){"use strict";a.r(t),a.d(t,"FileUploadContext",(function(){return d})),a.d(t,"FileUploadContextProvider",(function(){return m})),a.d(t,"useValuesFileUploadContext",(function(){return p}));var n=a(0),r=a(80),i=a(367),o=a(7),s=a(13),l=a(989),c=a(324),u=a(6126);const d=n.createContext({fileUpload:void 0,setFileUpload:()=>{},extensions:[]}),m=d.Provider,p=()=>{const{t:e}=Object(o.useTranslation)(),[t,a]=Object(s.kc)(s.ub),d=Object(l.a)(),[m]=Object(c.useActiveNamespace)(),[p,b]=n.useState(void 0),v=n.useMemo(()=>a?i.a(t.map(e=>e.properties.fileExtensions)).map(e=>e.toLowerCase()):[],[t,a]);return{fileUpload:p,setFileUpload:n.useCallback(a=>{if(a){if(v.length>0){const n=Object(u.a)(t,a.name);n?(b(a),n.properties.handler(a,m)):d.addToast({variant:r.b.warning,title:e("console-app~Incompatible file type"),content:e("console-app~{{fileName}} cannot be uploaded. Only {{fileExtensions}} files are supported currently. Try another file.",{fileName:a.name,fileExtensions:v.toString()}),timeout:!0,dismissible:!0})}}else b(void 0)},[b,v,e,m,d,t]),extensions:v}}},4396:function(e,t,a){"use strict";a.r(t),a.d(t,"ImportYamlPage",(function(){return l}));var n=a(0),r=a(137),i=a(5),o=a(7),s=a(15);const l=()=>{const{t:e}=Object(o.useTranslation)(),t=Object(s.Ve)(),l=e("public~Import YAML"),c="true"===t.get("ols");return n.createElement(n.Fragment,null,n.createElement(r.a,null,n.createElement("title",null,l)),n.createElement(i.c,{loader:()=>Promise.all([a.e(0),a.e(19),a.e(21),a.e(23),a.e(27),a.e(29),a.e(48)]).then(a.bind(null,5413)).then(e=>e.DroppableEditYAML),allowMultiple:!0,create:!0,download:!1,header:l,isCodeImportRedirect:c}))}},5586:function(e,t,a){"use strict";a.r(t);var n=a(5622);a.d(t,"PipelineModel",(function(){return n.f})),a.d(t,"PipelineModelV1Beta1",(function(){return n.g})),a.d(t,"PipelineRunModel",(function(){return n.i})),a.d(t,"PipelineRunModelV1Beta1",(function(){return n.j})),a.d(t,"TaskModel",(function(){return n.l})),a.d(t,"TaskModelV1Beta1",(function(){return n.m})),a.d(t,"TaskRunModel",(function(){return n.n})),a.d(t,"TaskRunModelV1Beta1",(function(){return n.o})),a.d(t,"CustomRunModelV1Beta1",(function(){return n.d})),a.d(t,"PipelineResourceModel",(function(){return n.h})),a.d(t,"ClusterTaskModel",(function(){return n.a})),a.d(t,"ConditionModel",(function(){return n.c})),a.d(t,"TriggerBindingModel",(function(){return n.s})),a.d(t,"ClusterTriggerBindingModel",(function(){return n.b})),a.d(t,"TriggerTemplateModel",(function(){return n.t})),a.d(t,"EventListenerModel",(function(){return n.e})),a.d(t,"RepositoryModel",(function(){return n.k})),a.d(t,"TektonConfigModel",(function(){return n.p})),a.d(t,"TektonHubModel",(function(){return n.q})),a.d(t,"TektonResultModel",(function(){return n.r}))},5587:function(e,t,a){"use strict";a(5639);var n=a(5640);a.d(t,"d",(function(){return n.a}));var r=a(5611);a.d(t,"b",(function(){return r.a})),a.d(t,"c",(function(){return r.b})),a.d(t,"e",(function(){return r.c}));var i=a(5641);a.d(t,"a",(function(){return i.a})),a.d(t,"f",(function(){return i.b}))},5588:function(e,t,a){"use strict";var n,r,i,o,s,l,c,u,d;a.d(t,"r",(function(){return n})),a.d(t,"q",(function(){return r})),a.d(t,"v",(function(){return i})),a.d(t,"t",(function(){return o})),a.d(t,"w",(function(){return s})),a.d(t,"u",(function(){return l})),a.d(t,"o",(function(){return c})),a.d(t,"x",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"s",(function(){return p})),a.d(t,"m",(function(){return b})),a.d(t,"l",(function(){return v})),a.d(t,"k",(function(){return g})),a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return O})),a.d(t,"z",(function(){return y})),a.d(t,"y",(function(){return E})),a.d(t,"j",(function(){return j})),a.d(t,"g",(function(){return k})),a.d(t,"h",(function(){return T})),a.d(t,"n",(function(){return S})),a.d(t,"f",(function(){return _})),a.d(t,"d",(function(){return R})),a.d(t,"e",(function(){return P})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(n||(n={})),function(e){e.user="pipeline.openshift.io/started-by"}(r||(r={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(i||(i={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(o||(o={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const m="1.4.0",p="1.6.0",b="1.5.2",v="pipeline",g="bridge/pipeline-run-auto-start-failed",h=275,f=375,O=60,y="pipeline.openshift.io/preferredName",E="chains.tekton.dev/signed",j="openshift-pipelines",k="openshift",T="config";var S;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(S||(S={}));const _="FLAG_TEKTON_V1_ENABLED",R="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",P="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"j",(function(){return f})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return y})),a.d(t,"f",(function(){return E})),a.d(t,"c",(function(){return j})),a.d(t,"i",(function(){return k})),a.d(t,"k",(function(){return T})),a.d(t,"g",(function(){return S})),a.d(t,"h",(function(){return _})),a.d(t,"m",(function(){return R})),a.d(t,"b",(function(){return P})),a.d(t,"l",(function(){return N}));var n=a(5596),r=a(29),i=a(117),o=a(16),s=a(22),l=a(279),c=a(57),u=a(2222),d=a(8),m=a(975),p=a(5652),b=a(5659),v=a(5625),g=a(1400);const h=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(m.a),O=e=>{var t,a,n;const r=i.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==r?void 0:r.spec)||void 0===t?void 0:t.href,cheIconURL:null===(n=null===(a=null==r?void 0:r.spec)||void 0===a?void 0:a.applicationMenu)||void 0===n?void 0:n.imageURL}},y=(e,t,a,r)=>{if(!e)return null;const i=((e,t,a)=>{const n=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return n;const r=a?"/"+a.replace(/^\//,""):"";return e.resource.includes("github")?`${n}/tree/${t}${r}`:e.resource.includes("gitlab")?`${n}/-/tree/${t}${r}`:e.resource.includes("gitea")?`${n}/src/branch/${t}${r}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${n}/src/${t}${r}`:n})(n(e),t,r);return a?`${a}/f?url=${i}&policies.create=peruser`:i},E=(e,t)=>{var a,n;return(null===(n=null===(a=i.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===a?void 0:a.spec)||void 0===n?void 0:n.href)||""},j=(e,t)=>t?e.filter(e=>o.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,k=(e,t)=>t.length>0&&!s.a(t[0].spec)?Object(u.c)(t[0]):null,T=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},S=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||T(null==e?void 0:e.getData())},_=e=>e instanceof p.a?e.getResourceKind():Object(d.Db)(T(null==e?void 0:e.getData())),R=(e,t)=>{const a=null==e?void 0:e.getData(),n=S(e);if(!e||!n||!l.a(a.resources))return Promise.reject();const i=[],o=[];i.push(n),e.getType()===b.d&&c.a(a.groupResources,e=>{i.push(e.resource)});for(const e of i){const a=Object(d.vb)(Object(d.Db)(e));if(!a)return Promise.reject(new Error(r.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));o.push(Object(v.c)(a,e,t))}return Promise.all(o)},P=(e,t,a=null)=>e&&t&&e!==t?Object(g.a)(e,t,a):Promise.reject(new Error(r.a.t("topology~Can not create a connection from a node to itself."))),N=e=>{const t=S(e.getSource()),a=S(e.getTarget());return t&&a?Object(g.f)(t,a):Promise.reject()}},5590:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return v}));var n=a(279),r=a(160),i=a(107),o=a(1404),s=a(7),l=a(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:a}=e;switch(a){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[o.WebHookSecretKey])&&1===n.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},m=e=>{const t=r.a(e).sort();return i.a(t,["tls.crt","tls.key"])?l.b.tls:i.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:i.a(t,[".dockercfg"])?l.b.dockercfg:i.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:i.a(t,["password","username"])?l.b.basicAuth:i.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},p=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:a}=Object(s.useTranslation)();switch(t){case l.c.generic:return a(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return a(e?"public~Create image pull secret":"public~Edit image pull secret");default:return a(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},v=e=>{const{t:t}=Object(s.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,a){"use strict";var n=a(5587);a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d}));var r=a(5642);a.d(t,"e",(function(){return r.a}));var i=a(5645);a.d(t,"a",(function(){return i.a}))},5592:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5643),r=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class i{constructor(e){this.gitsource=e}detectBuildTypes(){return r(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(n.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(n.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(282);const i=e=>n.createElement(r.a,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,a){"use strict";var n=a(5625);a.d(t,"a",(function(){return n.a})),a.d(t,"k",(function(){return n.b}));var r=a(5589);a.d(t,"c",(function(){return r.d})),a.d(t,"d",(function(){return r.e})),a.d(t,"f",(function(){return r.g})),a.d(t,"g",(function(){return r.h})),a.d(t,"h",(function(){return r.k}));a(1400);var i=a(5671);a.d(t,"b",(function(){return i.a}));var o=a(5679);a.d(t,"j",(function(){return o.a}));var s=a(5680);a.d(t,"i",(function(){return s.a}));var l=a(5664);a.d(t,"l",(function(){return l.a}));a(5678);var c=a(5665);a.d(t,"e",(function(){return c.a}));var u=a(5672);a.d(t,"m",(function(){return u.a}))},5595:function(e,t,a){"use strict";var n=a(5626);a.d(t,"b",(function(){return n.a})),a.d(t,"c",(function(){return n.b})),a.d(t,"d",(function(){return n.c}));a(5627);var r=a(5628);a.d(t,"e",(function(){return r.a}));a(5629),a(5630);var i=a(5631);a.d(t,"f",(function(){return i.a}));var o=a(5632);a.d(t,"a",(function(){return o.a}))},5597:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var n=a(380),r=a(83),i=a(437),o=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const s="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,a)=>(t[a]=[e[a]],t),{}),c=e=>o(void 0,void 0,void 0,(function*(){const t=yield r.consoleFetchJSON.post(s,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new i.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(n.safeLoad)(e.body))},5598:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(501),r=a(838),i=a(2324),o=a(16),s=a(640),l=a(1256),c=a(0),u=a(137),d=a(7),m=a(320),p=a(966),b=a(19),v=a(14),g=a(8),h=a(5),f=a(118),O=a(10),y=a(5590),E=a(5600);const j=e=>{const{isCreate:t,modal:a,onCancel:j}=e,{t:k}=Object(d.useTranslation)(),T=Object(v.useNavigate)(),S=Object(v.useParams)(),_=n.a(e.obj,["metadata","type"]),R=Object(y.d)(e.secretTypeAbstraction),P=r.a({},e.fixed,_,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:R}),[N]=c.useState(e.secretTypeAbstraction),[C,w]=c.useState(P),[I,x]=c.useState(!1),[A,D]=c.useState(),[U,L]=c.useState(i.a(o.a(e.obj,"data"),e=>e?m.Base64.decode(e):"")),[M,B]=c.useState({}),[F,$]=c.useState(!1),K=Object(y.g)(t,N),q=Object(y.f)(N),G=()=>T(`/k8s/ns/${S.ns}/core~v1~Secret`),V=e=>{L(Object.assign({},null==e?void 0:e.stringData)),B(Object.assign({},null==e?void 0:e.base64StringData))},Y=e=>{D(e),x(!1)},H=e=>{const t=e.target.value,a=s.a(C);a.metadata.name=t,w(a)},W=a=>{a.preventDefault();const{metadata:n}=C;x(!0);const r=Object.assign(Object.assign({},i.a(U,e=>m.Base64.encode(e))),M),o=l.a({},C,{data:r},t?{type:Object(y.a)(U)}:{});(t?Object(g.jb)(O.SecretModel,o):Object(g.rb)(O.SecretModel,o,n.namespace,o.metadata.name)).then(t=>{x(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||T(Object(h.sc)(t,Object(g.Db)(t)))},e=>{D(e.message),x(!1)})},z=()=>{var a;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},k("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:H,value:null===(a=null==C?void 0:C.metadata)||void 0===a?void 0:a.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},k("public~Unique name of the new secret."))))),c.createElement(E.a,{typeAbstraction:e.secretTypeAbstraction,onChange:V,onError:Y,onFormDisable:e=>$(e),stringData:U,secretType:C.type,isCreate:t}))};return a?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:W},c.createElement(f.d,null,K),c.createElement(f.a,null,z()),c.createElement(f.c,{errorMessage:A||"",inProgress:I,submitText:k("public~Create"),cancel:j||G})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,K)),c.createElement(h.Z,{title:K,helpText:q}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:W},z(),c.createElement(h.g,{errorMessage:A,inProgress:I},c.createElement(p.a,{className:"pf-v5-c-form"},c.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:F,variant:"primary",id:"save-changes"},e.saveButtonText||k("public~Create")),c.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:j||G},k("public~Cancel")))))))}},5599:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"k",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"l",(function(){return p})),a.d(t,"n",(function(){return b})),a.d(t,"f",(function(){return v})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return h})),a.d(t,"g",(function(){return f}));var n,r=a(5591),i=a(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(n||(n={}));const o={[r.b.GITHUB]:"GitHub",[r.b.GITLAB]:"GitLab",[r.b.GITEA]:"Gitea",[r.b.BITBUCKET]:"Bitbucket",[r.b.UNSURE]:"Other"};var s,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(s||(s={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:i.DeploymentConfigModel.labelKey,[l.Kubernetes]:i.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},m={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},p={[l.OpenShift]:i.DeploymentConfigModel.kind,[l.Kubernetes]:i.DeploymentModel.kind,[l.KnativeService]:"Service"};var b,v,g,h,f,O;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(v||(v={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(h||(h={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(O||(O={}))},5600:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(869),i=a(5601),o=a(5604),s=a(5608),l=a(5609),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const u=e=>{var{typeAbstraction:t}=e,a=c(e,["typeAbstraction"]);switch(t){case r.c.source:return n.createElement(i.a,Object.assign({},a));case r.c.image:return n.createElement(o.a,Object.assign({},a));case r.c.webhook:return n.createElement(s.a,Object.assign({},a));default:return n.createElement(l.a,Object.assign({},a))}}},5601:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(7),i=a(5),o=a(869),s=a(5602),l=a(5603);class c extends n.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:o.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[o.b.basicAuth]:e("public~Basic authentication"),[o.b.sshAuth]:e("public~SSH key")};return n.createElement(n.Fragment,null,this.props.isCreate?n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),n.createElement("div",{className:"co-create-secret__dropdown"},n.createElement(i.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===o.b.basicAuth?n.createElement(s.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):n.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(r.withTranslation)()(c)},5602:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(7);class i extends n.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),n.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),n.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const o=Object(r.withTranslation)()(i)},5603:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(7),i=a(5593);const o=({onChange:e,stringData:t})=>{const{t:a}=Object(r.useTranslation)();return n.createElement(i.a,{onChange:t=>{const a=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":a})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:a("public~SSH private key"),inputFieldHelpText:a("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:a("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1240),r=a(0),i=a(7),o=a(5),s=a(5590),l=a(869),c=a(5605),u=a(5607);const d=({onChange:e,onError:t,onFormDisable:a,stringData:d,secretType:m,isCreate:p})=>{const[b,v]=r.useState("credentials"),{t:g}=Object(i.useTranslation)(),h=r.useMemo(()=>{var e;try{const t=Object(s.c)(m),a=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(a)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,m]),f=r.useCallback(t=>{n.a(t)||a(!1);const r=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[r]:JSON.stringify(t)},base64StringData:{}})},[a,onchange]),O={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return r.createElement(r.Fragment,null,p&&r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),r.createElement("div",{className:"co-create-secret__dropdown"},r.createElement(o.t,{items:O,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:v}))),"credentials"===b?r.createElement(c.a,{onChange:f,stringData:h}):r.createElement(u.a,{onChange:f,stringData:h,onDisable:a}))}},5605:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(22),r=a(840),i=a(4434),o=a(57),s=a(16),l=a(4437),c=a(4436),u=a(501),d=a(50),m=a(279),p=a(0),b=a(7),v=a(320),g=a(19),h=a(408),f=a(407),O=a(869),y=a(5606);class E extends p.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:n.a(this.props.stringData)||!!this.props.stringData[O.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[O.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:r.a()}}imageSecretObjectToArray(e){const t=[];return n.a(e)?i.a(t,this.newImageSecretEntry()):(o.a(e,(e,a)=>{const i=v.Base64.decode(s.a(e,"auth","")),o=n.a(i)?l.a(Array(2),""):c.a(i,":");t.push({entry:{address:a,username:s.a(e,"username",o[0]),password:s.a(e,"password",o[1]),email:s.a(e,"email",""),auth:s.a(e,"auth","")},uid:s.a(e,"uid",r.a())})}),t)}imageSecretArrayToObject(e){const t={};return o.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[O.a]:t}:t)}onDataChanged(e,t){this.setState(a=>{const n=[...a.secretEntriesArray],r={uid:n[t].uid,entry:e,auth:v.Base64.encode(`${e.username}:${e.password}`)};return n[t]=r,{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const a=[...t.secretEntriesArray];return a.splice(e,1),{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:i.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,a)=>{const{uid:n,entry:r}=null!=t?t:{},{address:i,email:o,password:s,username:l}=null!=r?r:{};return p.createElement("div",{className:"co-add-remove-form__entry",key:n},m.a(this.state.secretEntriesArray)>1&&p.createElement("div",{className:"co-add-remove-form__link--remove-entry"},p.createElement(g.a,{onClick:()=>this.removeEntry(a),type:"button",variant:"link","data-test":"remove-entry-button"},p.createElement(h.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),p.createElement(y.a,{id:a,address:i,email:o,password:s,username:l,onChange:this.onDataChanged}))});return p.createElement(p.Fragment,null,t,p.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},p.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const j=Object(b.withTranslation)()(E)},5606:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(7),i=a(320);const o=({id:e,address:t,email:a,password:o,username:s,onChange:l})=>{const{t:c}=Object(r.useTranslation)(),u=(n,r)=>{const c=s.trim(),u=o.trim(),d=s&&o?i.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:s,password:o,email:a,[n]:r},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),m=e=>u(e.currentTarget.name,e.currentTarget.value);return n.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:m,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),n.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:m,value:s,onBlur:d,"data-test":"image-secret-username",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:m,value:o,onBlur:d,"data-test":"image-secret-password",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:m,value:a,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(22),r=a(1973),i=a(1240),o=a(0),s=a(7),l=a(5593);class c extends o.Component{constructor(e){super(e),this.state={configFile:n.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(r.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(r.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:i.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return o.createElement(o.Fragment,null,o.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&o.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(s.withTranslation)()(c)},5608:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(7),i=a(5590);class o extends n.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(i.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),n.createElement("div",{className:"pf-v5-c-input-group"},n.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),n.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),n.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const s=Object(r.withTranslation)()(o)},5609:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(840),r=a(22),i=a(50),o=a(255),s=a(1256),l=a(4434),c=a(279),u=a(0),d=a(7),m=a(320),p=a(19),b=a(408),v=a(407),g=a(973),h=a(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:n.a()}}genericSecretObjectToArray(e){return r.a(e)?[this.newGenericSecretEntry()]:i.a(e,(e,t)=>{const a=g.isBinary(null,e);return{uid:n.a(),entry:{key:t,value:a?m.Base64.encode(e):e,isBase64:a,isBinary:a}}})}genericSecretArrayToObject(e){return o.a(e,(e,t)=>{var a,n;return s.a(e,{[t.entry.key]:(null===(a=t.entry)||void 0===a?void 0:a.isBase64)||(null===(n=t.entry)||void 0===n?void 0:n.isBinary)?t.entry.value:m.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const a=[...this.state.secretEntriesArray],n={uid:a[t].uid,entry:e};a[t]=n,this.setState({secretEntriesArray:a},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=i.a(this.state.secretEntriesArray,(t,a)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(p.a,{type:"button",onClick:()=>this.removeEntry(a),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(h.a,{id:a,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(p.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const O=Object(d.withTranslation)()(f)},5610:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(0),r=a(7),i=a(5593);class o extends n.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return n.createElement("div",{className:"co-create-generic-secret__form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("div",null,n.createElement(i.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const s=Object(r.withTranslation)()(o)},5611:function(e,t,a){"use strict";var n,r,i;a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(n||(n={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(r||(r={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(i||(i={}))},5612:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(5706),r=a(5596),i=a(320),o=a(83),s=a(5597),l=a(5587),c=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:i.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:a,source:n}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let a=[];return 200===t.status&&Array.isArray(t.data)&&(a=t.data.map(e=>e.name)),{files:a}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const r={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},i={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:a?"0":"1",secret:n},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:r,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const a=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===a.status?e.from(a.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const a=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new n(Object.assign(Object.assign({},a),{baseUrl:c}))}}}).call(this,a(265).Buffer)},5613:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(320),r=a(5707),i=(a(4360),a(83)),o=a(5597),s=a(5587),l=a(5592),c=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case s.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+n.Base64.encode(`${n.Base64.decode(e)}:${n.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,a,n)=>c(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),a);if(this.isServer)return Object(o.c)(Object.assign({url:e,method:t||"GET",headers:Object(o.d)(i)},n&&{body:JSON.stringify(n)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:i},n&&{body:JSON.stringify(n)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,host:n}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref||"HEAD",contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return s.d.Reachable}catch(e){switch(e.status){case 429:return s.d.RateLimitExceeded;case 403:return s.d.PrivateRepo;case 404:return s.d.ResourceNotFound;default:return s.d.InvalidGitTypeSelected}}return s.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let a="";return a=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,a},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const a=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(a);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a)=>c(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["Basic "+e]},r={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!a,active:!0},s=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield i.consoleFetchJSON.post(o.a,{url:s,method:"POST",headers:n,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(5596),r=a(5708),i=a(29),o=a(320),s=a(83),l=a(5597),c=a(5587),u=a(5592),d=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class m extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(i.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(i.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return o.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),a=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:a.reduce((t,a)=>(("blob"===a.type||(null==e?void 0:e.includeFolder)&&"tree"===a.type)&&t.push(a.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>d(this,void 0,void 0,(function*(){const r=yield this.getProjectId(),i={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},o={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:a,token:n};return 201===(yield s.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${r}/hooks`,method:"POST",headers:i,body:JSON.stringify(o)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(a,e,n),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),r=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(a,r,n)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new r.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:a,full_name:r}=n(this.gitsource.url),i=(null==(o=this.gitsource.contextDir)?void 0:o.replace(/^\//,""))||"";var o;return{repoName:e,owner:t,host:"https://"+a,defaultBranch:this.gitsource.ref,fullName:r,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(5596),r=a(320),i=a(22),o=(a(4360),a(83)),s=a(5597),l=a(5587),c=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!i.a(e)){return{authorization:"Basic "+r.Base64.encode(`${r.Base64.decode(e)}:${r.Base64.decode(t)}`)}}return{Authorization:"token "+r.Base64.decode(t)}}return null},this.fetchJson=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),a);if(this.isServer)return Object(s.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(s.d)(i)},n&&{body:JSON.stringify(n)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:i},n&&{body:JSON.stringify(n)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,resource:r,full_name:i}=n(this.gitsource.url),o=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:"https://"+r,defaultBranch:this.gitsource.ref,fullName:i,contextDir:o,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["token "+e]},n={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},r=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:r,method:"POST",headers:a,body:JSON.stringify(n)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5643),r=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const i=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>r(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(n.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],o=e=>r(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(i.map(a=>r(void 0,void 0,void 0,(function*(){let n=t.filter(e=>a.expectedRegexp.test(e));return n.length>0&&a.customDetection&&(n=yield a.customDetection(e)),{name:a.name,type:a.type,language:a.language,priority:a.priority,detectedFiles:n}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"j",(function(){return h}));var n,r=a(29),i=a(16),o=a(240),s=a(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(n||(n={}));const l=e=>{var t;const a=i.a(e,["status","conditions"],[]);if(0===a.length)return null;const r=a.find(e=>"Succeeded"===e.type),o=a.find(e=>"Cancelled"===e.reason);if([n.PipelineRunStopped,n.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!o)return s.a.Cancelling;if(!r||!r.status)return null;const l="True"===r.status?s.a.Succeeded:"False"===r.status?s.a.Failed:s.a.Running;if(r.reason&&r.reason!==l)switch(r.reason){case n.PipelineRunCancelled:case n.TaskRunCancelled:case n.Cancelled:case n.PipelineRunStopped:return s.a.Cancelled;case n.PipelineRunStopping:case n.TaskRunStopping:return s.a.Failed;case n.CreateContainerConfigError:case n.ExceededNodeResources:case n.ExceededResourceQuota:case n.PipelineRunPending:return s.a.Pending;case n.ConditionCheckFailed:return s.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case s.a.Cancelled:return r.a.t("pipelines-plugin~Cancelled");case s.a.Failed:return r.a.t("pipelines-plugin~Failed");case s.a.Succeeded:return r.a.t("pipelines-plugin~Succeeded");case s.a.Pending:return r.a.t("pipelines-plugin~Pending");case s.a.Running:return r.a.t("pipelines-plugin~Running");case s.a.Skipped:return r.a.t("pipelines-plugin~Skipped");case s.a.Cancelling:return r.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||s.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",m=e=>c(e)||"-",p=e=>l(e)||s.a.Other,b=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=u(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!o.a(e.all,n)},v=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=p(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!o.a(e.all,n)},g=e=>l(e)||s.a.Other,h=e=>c(e)||"-"},5618:function(e,t,a){"use strict";var n=a(0),r=a(297),i=a(18),o=a.n(i);a(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:a,children:i,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>n.createElement("div",{className:o()("pf-v5-c-form",{"co-m-pane__form":!a,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&n.createElement("h2",{className:"odc-form-section__heading"},e),t&&n.createElement(r.a,null,t),i)},5620:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(n||(n={}))},5621:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"l",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"m",(function(){return h})),a.d(t,"o",(function(){return f})),a.d(t,"n",(function(){return O})),a.d(t,"k",(function(){return y})),a.d(t,"h",(function(){return E})),a.d(t,"g",(function(){return j})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return T})),a.d(t,"b",(function(){return S})),a.d(t,"j",(function(){return _})),a.d(t,"i",(function(){return R}));var n=a(4413),r=a(689),i=a(5),o=a(5620),s=a(2221),l=a(5624),c=a(5599),u=a(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,m=/^\/.*$/,p=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=r.object().shape({name:r.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),v=r.object().shape({selectedKey:r.string(),name:r.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:r.string().required("Required")})}),g=e=>r.object().shape({replicas:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),h=r.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),f=e=>r.object().when("resources",{is:c.k.KnativeService,then:r.object().shape({scaling:r.object({minpods:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:r.object().shape({autoscalewindow:r.number().transform(e=>n.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,a=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return a>=6&&a<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:r.array().of(r.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),O=e=>r.object().shape({secure:r.boolean(),tls:r.object().when("secure",{is:!0,then:r.object({termination:r.string().required(e("devconsole~Please select a termination type."))})}),hostname:r.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:r.string().matches(m,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:r.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),y=e=>r.object().shape({cpu:r.object().shape({request:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${a}${n}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(i.Ib)(`${e}${n}`)>=Object(i.Ib)(`${t}${a}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:r.object().shape({request:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${a}${n}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be Mi or Gi.")),limit:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(i.Ib)(`${t}${a}`)<=Object(i.Ib)(`${e}${n}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:r.string(e("devconsole~Unit must be Mi or Gi."))})}),E=e=>r.object().when("build",{is:e=>"Source"===e.strategy,then:r.object().shape({selected:r.string().required(e("devconsole~Required")),tag:r.string().required(e("devconsole~Required"))})}),j=e=>r.object().shape({url:r.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(p,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:r.string().when("showGitType",{is:!0,then:r.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:r.boolean()}),k=e=>r.object().when("build",{is:e=>"Docker"===e.strategy,then:r.object().shape({containerPort:r.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:r.string().required(e("devconsole~Required"))})}),T=e=>r.object().when("build",{is:e=>"Devfile"===e.strategy,then:r.object().shape({devfilePath:r.string().required(e("devconsole~Required")),devfileContent:r.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:r.boolean().oneOf([!1]),devfileSuggestedResources:r.object().required(e("devconsole~Required"))})}),S=r.object().shape({strategy:r.string()}),_=e=>r.object().shape({name:r.string().required(e("devconsole~Required")),image:r.object().required(e("devconsole~Required")),tag:r.string(),status:r.string().required(e("devconsole~Required"))}),R=r.object().when(["enabled","build.option","type"],{is:(e,t,a)=>(e||t===c.a.PIPELINES)&&a!==o.a.PAC,then:r.object().shape({templateSelected:r.string().required()})})},5622:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"i",(function(){return s})),a.d(t,"j",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return d})),a.d(t,"o",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"s",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"t",(function(){return O})),a.d(t,"e",(function(){return y})),a.d(t,"k",(function(){return E})),a.d(t,"p",(function(){return j})),a.d(t,"q",(function(){return k})),a.d(t,"r",(function(){return T}));var n=a(5654);const r=n.chart_color_green_400.value,i={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:r},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:r},v={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:r},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:r},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:r},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:r},O={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:r},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:r},E={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:r},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},T={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return k})),a.d(t,"c",(function(){return S})),a.d(t,"p",(function(){return _})),a.d(t,"h",(function(){return R})),a.d(t,"f",(function(){return P})),a.d(t,"j",(function(){return N})),a.d(t,"m",(function(){return C})),a.d(t,"o",(function(){return w})),a.d(t,"e",(function(){return I})),a.d(t,"v",(function(){return x})),a.d(t,"B",(function(){return A})),a.d(t,"d",(function(){return D})),a.d(t,"s",(function(){return L})),a.d(t,"w",(function(){return M})),a.d(t,"k",(function(){return B})),a.d(t,"l",(function(){return F})),a.d(t,"t",(function(){return $})),a.d(t,"g",(function(){return K})),a.d(t,"x",(function(){return q})),a.d(t,"y",(function(){return G})),a.d(t,"z",(function(){return V})),a.d(t,"r",(function(){return z})),a.d(t,"u",(function(){return Q})),a.d(t,"q",(function(){return J})),a.d(t,"i",(function(){return Z})),a.d(t,"A",(function(){return X})),a.d(t,"n",(function(){return ee}));var n=a(321),r=a(29),i=a(1557),o=a(117),s=a(16),l=a(22),c=a(640),u=a(1942),d=a(5),m=a(10),p=a(8),b=a(5588),v=a(5650),g=a(5586),h=a(5595),f=a(5635),O=a(5617);const y=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,E=e=>e.runAfter&&e.runAfter.length>0;var j;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(j||(j={}));const k={[j.Running]:r.a.t("pipelines-plugin~Running"),[j.Failed]:r.a.t("pipelines-plugin~Failed"),[j.Succeeded]:r.a.t("pipelines-plugin~Succeeded"),[j.Cancelled]:r.a.t("pipelines-plugin~Cancelled"),[j.Other]:r.a.t("pipelines-plugin~Other")};var T;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(T||(T={}));T.Git,T.PullRequest,T.Image,T.Cluster,T.Storage,T.CloudEvent;const S=(e,t,a,r=!1)=>((r?e.spec.finally:e.spec.tasks)||[]).map(e=>{var r;if(!t.status)return e;if(!a||0===a.length)return t.spec.status===O.a.PipelineRunCancelled?i.a(e,{status:{reason:h.a.Cancelled}}):t.spec.status===O.a.PipelineRunPending?i.a(e,{status:{reason:h.a.Idle}}):i.a(e,{status:{reason:h.a.Failed}});const l=o.a(a,t=>t.metadata.labels[b.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=i.a(e,{status:(null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.taskRuns)?s.a(o.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(n.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(O.d)(u)||h.a.Pending:u.status&&!u.status.reason&&(u.status.reason=h.a.Pending):u.status={reason:h.a.Pending},u}),_=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},a)=>{var n;const r=[];if(!(null===(n=e.spec)||void 0===n?void 0:n.tasks)||l.a(e.spec.tasks))return r;const i=S(e,t,a);return i.forEach(e=>{y(e)||E(e)||(0===r.length&&r.push([]),r[0].push(e))}),i.forEach(e=>{var t;if(!E(e)&&y(e)){let a=r.length-1;for(let n=0;n<r.length;n++)for(const i of r[n])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&i.name!==e.resources.inputs[0].from[0]||(a=n);const n=r[a+1]?r[a+1]:null;n&&n[0]&&n[0].resources&&n[0].resources.inputs&&n[0].resources.inputs[0]&&n[0].resources.inputs[0].from&&n[0].resources.inputs[0].from[0]&&n[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?n.push(e):r.splice(a+1,0,[e])}}),i.forEach(e=>{var t;if(E(e)){let a=r.length-1;for(let n=0;n<r.length;n++)for(const i of r[n])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&i.name!==e.runAfter[0]||(a=n);const n=r[a+1]?r[a+1]:null;n&&n[0].runAfter&&n[0].runAfter[0]&&n[0].runAfter[0]===e.runAfter[0]?n.push(e):r.splice(a+1,0,[e])}}),r},R=(e,t,a)=>S(e,t,a,!0),P=e=>{if(!e)return d.K;const{state:t,lastState:a}=e;return t.waiting&&!l.a(a)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},N=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};let a=Object(O.c)(t);return"-"===a&&(a=h.a.Pending),{latestPipelineRun:t,status:a}},C=e=>e&&e.map(e=>({name:e.name,value:e.default})),w=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),I=(e,t,a)=>{const n=new Date(e).getTime(),r=((t?new Date(t).getTime():(new Date).getTime())-n)/1e3;return Object(v.g)(r,a)},x=e=>{var t,a,n,r;const i=null!==(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==a?a:null,o=null!==(r=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.completionTime)&&void 0!==r?r:null;return!i||!o&&"Running"!==Object(O.d)(e)?"-":I(i,o,!0)},A=(e,t,a)=>{const n=c.a(t);return n.secrets=[...n.secrets,{name:e}],a&&(n.imagePullSecrets=[...n.imagePullSecrets,{name:e}]),Object(p.rb)(m.ServiceAccountModel,n)},D=(e,t,a)=>{Object(p.kb)(m.ServiceAccountModel,b.l,t).then(t=>{void 0===o.a(t.secrets,t=>t.name===e.metadata.name)&&A(e.metadata.name,t,a)}).catch(e=>{Object(u.errorModal)({error:e.message})})},U=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,L=(e,t={})=>{let a=0,n=U(null==e?void 0:e.key,a);if(!n)return t;for(;t[n]&&t[n]!==(null==e?void 0:e.value);)n=U(null==e?void 0:e.key,++a);return Object.assign(Object.assign({},t),{[n]:null==e?void 0:e.value})},M=e=>{switch(e.kind){case g.PipelineModel.kind:case g.TaskModel.kind:case g.EventListenerModel.kind:return"";case g.PipelineRunModel.kind:return"pipeline-runs";case g.PipelineResourceModel.kind:return"pipeline-resources";case g.ConditionModel.kind:return"conditions";case g.TaskRunModel.kind:return"task-runs";case g.ClusterTaskModel.kind:return"cluster-tasks";case g.TriggerTemplateModel.kind:return"trigger-templates";case g.TriggerBindingModel.kind:return"trigger-bindings";case g.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case g.RepositoryModel.kind:return"repositories";default:return null}},B=(e,t,a)=>e.filter(e=>{const{ownerReferences:n=[]}=e.metadata;return n.some(e=>e.name===t&&e.kind===a)}),F=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),$=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var a;return(null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)===e.metadata.name})),K=(e,t)=>t.reduce((t,a)=>(a.spec.triggers.filter(t=>e.find(e=>{var a;return(null==e?void 0:e.metadata.name)===(null===(a=null==t?void 0:t.template)||void 0===a?void 0:a.ref)})).length>0&&t.push(a),t),[]),q=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineModelV1Beta1:g.PipelineModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineRunModelV1Beta1:g.PipelineRunModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?g.TaskModelV1Beta1:g.TaskModel;var Y,H,W;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(Y||(Y={})),function(e){e.EXTERNAL_LINK="external-link"}(H||(H={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(W||(W={}));const z=e=>null==e?void 0:e.find(e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[Y.KEY])===W.SBOM}),Q=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[Y.TYPE])===H.EXTERNAL_LINK},J=e=>{var t,a,n,r;return null===(r=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.taskResults))||void 0===n?void 0:n.find(e=>e.name===W.SBOM))||void 0===r?void 0:r.value},Z=e=>{var t,a,n,r;return null===(r=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.pipelineResults))||void 0===n?void 0:n.find(e=>e.name===W.IMAGE_REPOSITORY))||void 0===r?void 0:r.value},X=e=>{var t,a;if(!(null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.length))return h.a.Pending;return Object(O.d)(e)},ee=e=>{var t,a,n;const r=null===(n=null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===n?void 0:n.message,i=null==r?void 0:r.match(/(\w+)(?::\s*|\s+)(\d+)/g),o={};null==i||i.forEach(e=>{const[t,a]=e.split(/(?::\s*|\s+)/);o[t.trim()]=Number(a.trim())});const s=((null==o?void 0:o.Completed)||0)-((null==o?void 0:o.Failed)||0)-((null==o?void 0:o.Cancelled)||0);return{Running:(null==o?void 0:o.Incomplete)||0,Succeeded:s||0,Cancelled:(null==o?void 0:o.Cancelled)||0,Failed:(null==o?void 0:o.Failed)||0,Skipped:(null==o?void 0:o.Skipped)||0,Completed:(null==o?void 0:o.Completed)||0,Cancelling:(null==o?void 0:o.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const n=e=>({test:e=>null==e||Number.isInteger(e),message:e}),r=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return j})),a.d(t,"a",(function(){return _}));var n=a(29),r=a(22),i=a(16),o=a(57),s=a(640),l=a(5649),c=a(5),u=a(10),d=a(8),m=a(76),p=a(870),b=a(5586),v=a(5623),g=a(15),h=a(2221),f=a(1400),O=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const y=(e,t=e)=>{switch(t){case h.z:case h.b:return"";default:return e}},E=(e,t,a)=>{const n=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":a||void 0});if(!e)return Promise.reject();const i=[{op:r.a(n)?"add":"replace",path:"/metadata/labels",value:n}];return Object(d.pb)(e,t,i)},j=(e,t,a)=>{if(!t)return Promise.reject(new Error(n.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(n.a.t("topology~Error: invalid resource kind provided for updating application.")));const r=i.a(t,["metadata","labels","app.kubernetes.io/instance"]),s=i.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[E(e,t,a)];if(!r)return Promise.all(l);return s&&({"app.kubernetes.io/instance":r}["app.kubernetes.io/part-of"]=s),Object(f.e)(t.metadata.namespace,r,{"app.kubernetes.io/part-of":s}).then(e=>(o.a(e,e=>{o.a(e,e=>{!s&&i.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(E(Object(d.vb)(e.kind),e,a))})}),Promise.all(l)))},k=(e,t={},a)=>O(void 0,void 0,void 0,(function*(){var n,r;try{if(a){const a=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(n=null==a?void 0:a.status)||void 0===n?void 0:n.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),T=(e,t)=>O(void 0,void 0,void 0,(function*(){var a;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(n){if(404===(null===(a=null==n?void 0:n.response)||void 0===a?void 0:a.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,n),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,n),n}})),S=(e,t)=>O(void 0,void 0,void 0,(function*(){var a,n;const r=null!==(n=null===(a=e.metadata)||void 0===a?void 0:a.annotations)&&void 0!==n?n:{},i=Object(l.c)(r["app.openshift.io/vcs-uri"]),o=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let s;if((null==t?void 0:t.length)>0)s=null==t?void 0:t.reduce((t,a)=>{var n,r;return[...t,...(null!==(r=null===(n=a.spec)||void 0===n?void 0:n.triggers)&&void 0!==r?r:[]).reduce((t,a)=>{var n,r;let s;const l=a.generic?"generic":i,c=a.generic||a[i];if(c){const t=null!==(r=null===(n=c.secretReference)||void 0===n?void 0:n.name)&&void 0!==r?r:`${e.metadata.name}-${l}-webhook-secret`;s=o.find(e=>e.metadata.name===t)}return s?[...t,T(u.SecretModel,s)]:t},[])]},[]);else{const t=o.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),a=o.find(t=>t.metadata.name===`${e.metadata.name}-${i}-webhook-secret`);s=[T(u.SecretModel,t),T(u.SecretModel,a)]}return s})),_=e=>O(void 0,void 0,void 0,(function*(){const t=[],a=yield k(u.BuildConfigModel,{ns:e.metadata.namespace}),n=yield k(u.BuildModel,{ns:e.metadata.namespace}),i=yield k(b.PipelineModel,{ns:e.metadata.namespace},!0),o=yield k(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield k(b.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(p.fetchChannelsCrd)(),h=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:a,loaded:!0,loadError:null},builds:{data:n,loaded:!0,loadError:null}},O=Object(g.Gc)(e,f),y=!r.a(O),E=Object(v.l)(e,i);let j=[],_=[];const R=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],P=[m.p,u.ImageStreamModel];r.a(E)||(R.push(b.PipelineModel),P.push(b.PipelineModel),j=Object(v.t)(E,o),_=Object(v.g)(j,l));const N=s.a(e),C=(e,a)=>{const n=T(e,a);n&&t.push(n)};y&&O.forEach(e=>{C(u.BuildConfigModel,e)});const w=(e,t)=>{e.forEach(e=>C(e,t))};switch(Object(p.isDynamicEventResourceKind)(Object(d.Db)(e))&&C(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&C(h,e),j.length>0&&j.forEach(e=>C(b.TriggerTemplateModel,e)),_.length>0&&_.forEach(e=>C(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case m.f.kind:C(h,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:C(h,e),w(R,e);break;case m.p.kind:w(P,N);break;case m.b.kind:case m.k.kind:C(h,e)}return y&&t.push(...yield S(e,O)),E&&t.push(...yield S(e)),Promise.all(t)}))},5626:function(e,t,a){"use strict";var n,r,i;a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(n||(n={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(r||(r={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(i||(i={}))},5627:function(e,t,a){},5628:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,a){},5630:function(e,t,a){},5631:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,a){"use strict";var n,r;a.d(t,"a",(function(){return n})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(n||(n={})),function(e){e.RunCancelled="RunCancelled"}(r||(r={}))},5633:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5587),r=a(5611),i=a(5616),o=a(5661),s=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:r.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:r.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:r.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:r.b.S2I,expectedRegexp:/^/,priority:0,customDetection:i.a}],c=(e,t,a=!1)=>s(void 0,void 0,void 0,(function*(){let e,i=[],c=!1,u=null;const d=t?yield t.isRepoReachable():n.d.GitTypeNotDetected;let m,p=[];if(d===n.d.Reachable)try{const{files:n}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(o.b)(a,t),i=yield Promise.all(l.map(e=>s(void 0,void 0,void 0,(function*(){return p=n.filter(t=>e.expectedRegexp.test(t)),p.length>0&&e.customDetection&&(m=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:p,detectedCustomData:m}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(i=i.filter(e=>e.type!==r.b.SERVERLESS_FUNCTION)),i=i.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:i}}))},5634:function(e,t,a){"use strict";a.d(t,"i",(function(){return r})),a.d(t,"g",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"l",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"o",(function(){return p})),a.d(t,"p",(function(){return b})),a.d(t,"n",(function(){return v})),a.d(t,"q",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return y})),a.d(t,"r",(function(){return E}));var n=a(2221);const r="event-source",i="event-sink",o="kafka-sink",s="event-source-kafka",l="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",m="event-pubsub-link",p="knative-service",b="revision-traffic",v="knative-revision",g="sink-uri",h=n.h,f=100,O=[n.c,n.c,n.c+10,n.c],y=6,E="URI"},5635:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"i",(function(){return O})),a.d(t,"h",(function(){return E})),a.d(t,"e",(function(){return j})),a.d(t,"g",(function(){return k})),a.d(t,"c",(function(){return T})),a.d(t,"l",(function(){return _})),a.d(t,"m",(function(){return R})),a.d(t,"j",(function(){return P})),a.d(t,"k",(function(){return N}));var n=a(5699),r=a(1403),i=a(5692),o=a(5691),s=a(5654),l=a(2225),c=a(29),u=a(8),d=a(5588),m=a(5586),p=a(5595),b=a(5617);const v=(e,t)=>{if(!(e&&e.length>0&&t))return null;let a=e[0];if("creationTimestamp"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].metadata&&e[n].metadata[t]&&new Date(e[n].metadata[t])>new Date(a.metadata[t])?e[n]:a;else if("startTime"===t||"completionTime"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].status&&e[n].status[t]&&new Date(e[n].status[t])>new Date(a.status[t])?e[n]:a;else a=e[e.length-1];return a.status||(a=Object.assign(Object.assign({},a),{status:{pipelineSpec:{tasks:[]}}})),a.status.succeededCondition||(a.status=Object.assign(Object.assign({},a.status),{succeededCondition:""})),a.status.succeededCondition=Object(b.c)(a),a},g=(e,t)=>e.map(e=>{const a=t.filter(t=>{var a;return(null===(a=t.metadata.labels)||void 0===a?void 0:a["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=v(a,"creationTimestamp"),e}),h=e=>{switch(e){case p.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:s.chart_color_green_400};case p.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case p.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case p.a.Running:case p.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:o.chart_color_blue_300};case p.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:n.chart_color_black_400};case p.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:r.chart_color_black_500};case p.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:r.chart_color_black_500};case p.a.Idle:case p.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:i.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:i.chart_color_blue_100}}},f=e=>{var t,a,n,r,i;const o=(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[d.u.pipeline])||(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name),s=(null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.pipelineSpec)||(null===(i=null==e?void 0:e.spec)||void 0===i?void 0:i.pipelineSpec);return o&&s?{apiVersion:Object(u.n)(m.PipelineModel),kind:m.PipelineModel.kind,metadata:{name:o,namespace:e.metadata.namespace},spec:s}:null},O=(e,t,a)=>{var n,r,i,o,s;const l=(e=>{var t,a,n,r;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==a?a:0)+(null!==(r=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).length)&&void 0!==r?r:0)})(t)-(e=>{var t,a,n,r;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==a?a:0)+(null!==(r=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==r?r:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):a?null==a?void 0:a.map(e=>e.metadata.name):[]},u=c().length,d=((null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.skippedTasks)||[]).length,m={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.taskRuns)||a){c().forEach(t=>{const n=Object(b.c)((null==a?void 0:a.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===n?m[p.a.Succeeded]++:"Running"===n?m[p.a.Running]++:"Failed"===n?m[p.a.Failed]++:"Cancelled"===n?m[p.a.Cancelled]++:m[p.a.Pending]++});const t=m[p.a.Failed]>0,n=Object(b.c)(e)===p.a.Cancelled,r=l>=u?l-u-d:l;t||n?m[p.a.Cancelled]+=r:m[p.a.Pending]+=r}else"False"===(null===(s=null===(o=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.conditions)||void 0===o?void 0:o[0])||void 0===s?void 0:s.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?m[p.a.Cancelled]=l:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?m[p.a.Pending]+=l:m[p.a.PipelineNotStarted]++;return m},y=e=>e===m.ClusterTaskModel.kind?m.ClusterTaskModel:e===m.TaskModel.kind||void 0===e?m.TaskModel:null,E=e=>(y(e)||m.TaskModel).kind,j=e=>e===m.ClusterTriggerBindingModel.kind?m.ClusterTriggerBindingModel:e===m.TriggerBindingModel.kind||void 0===e?m.TriggerBindingModel:null,k=e=>(j(e)||m.TriggerBindingModel).kind,T=e=>{const t=y(e);return Object(u.Hb)(t)},S=(e,t)=>{const a=t&&O(e,void 0,t);return null==a?void 0:a.Running},_=(e,t)=>!(e&&(S(e,t)>0||Object(b.c)(e)===p.a.Running)),R=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===p.a.Running)),P=(e,t)=>!(e&&S(e,t)>0&&Object(b.c)(e)!==p.a.Cancelled),N=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==p.a.Cancelled)},5636:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(22),r=a(0),i=a(7),o=a(14),s=a(5),l=a(869),c=a(5590),u=a(5598);const d=Object(i.withTranslation)()(class extends r.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!n.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:a}=this.state;if(!a)return r.createElement(s.S,null);const n=null==t?void 0:t.reduce((t,a)=>{var n;return Object.assign(Object.assign({},t),{[a]:(null===(n=e.data)||void 0===n?void 0:n[a])||""})},{});return r.createElement(s.wb,Object.assign({},e),r.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:a,obj:e.data,fixed:n})))}}),m=({kind:e})=>{const t=Object(o.useParams)(),{t:a}=Object(i.useTranslation)();return r.createElement(s.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},r.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:a("public~Save")}))}},5637:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(14),i=a(5598);const o=()=>{const e=Object(r.useParams)(),t=e.type;return n.createElement(i.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,a){},5639:function(e,t,a){},5640:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(n||(n={}))},5641:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}));const n={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},r={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},i={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},o={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},s={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},m=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},i,r,n,s,l,d,c,u,o],p=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,a){"use strict";a(5612),a(5613),a(5614),a(5615);var n=a(5644);a.d(t,"a",(function(){return n.a}));a(5592)},5643:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(5587);function r(e){return n.a.map(t=>{const a=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:a}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function i(e){try{const t=JSON.parse(e);return n.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4359),r=a(5587),i=a(5613),o=a(5615),s=a(5612),l=a(5614);function c(e,t,a,c,u,d,m){let p,b;switch(null==u?void 0:u.type){case n.SecretType.basicAuth:p=r.e.BASIC_AUTH,b=u.data;break;case n.SecretType.sshAuth:p=r.e.SSH,b=u["ssh-privatekey"];break;default:p=r.e.NO_AUTH}const v={url:e,ref:a,contextDir:c,secretType:p,secretContent:b,devfilePath:d,dockerfilePath:m};switch(t){case r.b.GITHUB:return new s.a(v);case r.b.BITBUCKET:return new i.a(v);case r.b.GITLAB:return new l.a(v);case r.b.GITEA:return new o.a(v);default:return null}}},5645:function(e,t,a){"use strict";a(5616);var n=a(5646);a.d(t,"a",(function(){return n.a}));a(5633)},5646:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5709);class r{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(n.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,a){"use strict";a.d(t,"e",(function(){return g})),a.d(t,"c",(function(){return h})),a.d(t,"h",(function(){return f})),a.d(t,"a",(function(){return O})),a.d(t,"f",(function(){return y})),a.d(t,"g",(function(){return E})),a.d(t,"j",(function(){return j})),a.d(t,"k",(function(){return k})),a.d(t,"b",(function(){return T})),a.d(t,"i",(function(){return S})),a.d(t,"d",(function(){return _}));var n=a(29),r=a(16),i=a(57),o=a(117),s=a(367),l=a(1401),c=a(10),u=a(8),d=a(5634),m=a(15),p=a(2221),b=a(1400),v=a(5589);const g=(e,t)=>{var a,n,r,i,o,s,l,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,a,n;return null!==(n=null===(a=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.contextDir)&&void 0!==n?n:null},d=null===(n=null===(a=null==e?void 0:e.builds)||void 0===a?void 0:a.data)||void 0===n?void 0:n.find(e=>e.metadata.name===t);if(d){return u(d)}const m=null===(i=null===(r=null==e?void 0:e.buildConfigs)||void 0===r?void 0:r.data)||void 0===i?void 0:i.find(e=>e.metadata.name===t);if(m){return u(m)}const p=null===(s=null===(o=null==e?void 0:e.pipelines)||void 0===o?void 0:o.data)||void 0===s?void 0:s.find(e=>e.metadata.name===t);if(p){const e=null===(c=null===(l=null==p?void 0:p.spec)||void 0===l?void 0:l.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},h=(e,t,a,n,i=!1,o)=>{const{monitoringAlerts:s=[]}=t,c=r.a(e,"metadata.uid"),p=r.a(e,"metadata.labels",{}),b=r.a(e,"metadata.annotations",{}),v=r.a(e,"metadata.name",""),h=g(o,v),f=Object(l.d)("icon-"+p["app.openshift.io/runtime"])||Object(l.d)("icon-"+p["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||p["app.kubernetes.io/instance"],type:a,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:i}),data:{monitoringAlerts:s,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:h,builderImage:f||n,isKnativeResource:!(!a||a!==d.i&&a!==d.n&&a!==d.j)||Object(m.Rd)(e,"metadata.labels")}}},f=(e,t,a,n,r,i,o)=>{var s;const l=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(s=null==e?void 0:e.metadata.labels)||void 0===s?void 0:s["app.openshift.io/instance"],m=i||Object(u.Db)(e);return Object.assign(Object.assign({id:l,type:t,label:d||c,shape:o,resource:e,resourceKind:m,data:a},r&&r.length&&{children:r}),n||{})},O={width:p.m,height:p.k,group:!1,visible:!0,style:{padding:p.l}},y=(e,t)=>{const a=r.a(e,"metadata.annotations"),s=[];return i.a(Object(b.d)(a),a=>{const i=r.a(o.a(t,e=>{var t,n,r,i,o;let s;if("string"==typeof a)return s=null!==(r=null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["app.kubernetes.io/instance"])&&void 0!==r?r:null===(i=e.metadata)||void 0===i?void 0:i.name,s===a;s=null===(o=e.metadata)||void 0===o?void 0:o.name;const{apiVersion:l,kind:c,name:u}=a,{kind:d,apiVersion:m}=e;let p=s===u&&d===c;return m&&(p=p&&m===l),p}),["metadata","uid"]),l=r.a(e,["metadata","uid"]);i&&s.push({id:`${l}_${i}`,type:p.v,label:n.a.t("topology~Visual connector"),source:l,target:i})}),s},E=e=>{const t=r.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:p.u,group:!0,label:t,children:[r.a(e,["metadata","uid"])],width:p.h,height:p.f,data:{},visible:!0,collapsed:!1,style:{padding:p.g}}:null},j=(e,t)=>{var a;if(!e)return;e.children=null===(a=e.children)||void 0===a?void 0:a.filter(e=>!(null==t?void 0:t.find(t=>{var a;return null===(a=t.children)||void 0===a?void 0:a.includes(e)})));const n=t.find(t=>t.group&&t.id===e.id);n?e.children.forEach(t=>{n.children.includes(t)||n.children.push(t),((e,t)=>{var a,n,r,i;((null===(a=t.data)||void 0===a?void 0:a.groupResources)||(null===(n=e.data)||void 0===n?void 0:n.groupResources))&&((null===(r=t.data)||void 0===r?void 0:r.groupResources)||(t.data.groupResources=[]),(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,n)}):t.push(e)},k=(e,t)=>{e&&e.length&&e.forEach(e=>{j(e,t)})},T=(e,t,a=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(n=>{if(e.id===n.id)return!0;const{resource:r}=e;return!r||!!a.find(e=>e(r,t))}))),k(e.nodes.filter(e=>e.group),t.nodes))},S=(e,t,a=v.a)=>s.a(a.map(a=>e[a]?e[a].data.map(e=>{const n=e.kind||t[a];let r,i=n;return n&&Object(u.eb)(n)&&(i=Object(u.tb)(n),r=Object(u.o)(n)),Object.assign({kind:i,apiVersion:r},e)}):[])),_=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return p}));var n,r,i,o=a(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(n||(n={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(r||(r={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(i||(i={}));const s={[n.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[n.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[n.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[n.SHA]:"pipelinesascode.tekton.dev/sha",[n.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[r.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[r.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[r.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[r.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:o.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[o.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},m={[o.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},p=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return b}));var n=a(2338),r=a(689),i=a(5591),o=a(5653),s=a(15),l=a(5655),c=a(5621);const u=e=>r.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(o.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),m=e=>c.f.test(e)?d(e,"github.com")?i.b.GITHUB:d(e,"bitbucket.org")?i.b.BITBUCKET:d(e,"gitlab.com")?i.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?i.b.GITEA:i.b.UNSURE:i.b.INVALID,p=e=>{if(s.Yd.test(e))return e;const t=n.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return p(t)}},5650:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"k",(function(){return g})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return O})),a.d(t,"h",(function(){return y})),a.d(t,"j",(function(){return E})),a.d(t,"g",(function(){return j})),a.d(t,"b",(function(){return k})),a.d(t,"i",(function(){return T}));var n,r,i=a(321),o=a(29),s=a(550),l=a(50),c=a(16),u=a(384),d=a(4427),m=a(461),p=a(5),b=a(158),v=a(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(n||(n={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(r||(r={}));const g=(e=r.TEKTON_PIPELINES_CONTROLLER)=>({[v.n.PIPELINE_TASK_LEVEL]:{[n.PIPELINE_SUCCESS_RATIO]:s.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[v.n.PIPELINERUN_TASKRUN_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[v.n.UNSIMPLIFIED_METRICS_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),h=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(p.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>b.b.format(e),O=(e,t,a)=>{const{metric:n,values:r}=e,i=l.a(r,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:n}}),o=Number(c.a(i,"[0].x")),s=Number(c.a(u.a(i),"x")),m=a/t;return d.a(o,s,m).forEach((e,t)=>{const a=new Date(e);c.a(i,[t,"x"])>a&&i.splice(t,0,{x:a,y:null,metric:n})}),i},y=(e,t,a)=>{var n;const r=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.result)||[];return null==r?void 0:r.map(e=>{var n;return null===(n=null==e?void 0:e.values)||void 0===n?void 0:n.map(([n,r])=>{var i,o;return{x:null!==(i=null==t?void 0:t(e))&&void 0!==i?i:new Date(1e3*n),y:null!==(o=null==a?void 0:a(r))&&void 0!==o?o:parseFloat(r),metric:null==e?void 0:e.metric,time:n}})})},E=e=>{const t=[];if(!e)return t;const a=Object(i.b)("1d"),n=Math.round(e/a),r=new Date(Date.now());for(r.setHours(0,0,0,0);t.length-1<n;)t.push(r.getTime()),r.setDate(r.getDate()-1);return t.slice(0,n)},j=(e,t)=>{if(0===e)return o.a.t("pipelines-plugin~less than a sec");let a=Math.round(e),n=0,r=0,i="";return a>=60&&(n=Math.floor(a/60),a%=60),n>=60&&(r=Math.floor(n/60),n%=60),r>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} hour",{count:r}):o.a.t("pipelines-plugin~{{hr}}h",{hr:r}),i+=" "),n>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} minute",{count:n}):o.a.t("pipelines-plugin~{{min}}m",{min:n}),i+=" "),a>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} second",{count:a}):o.a.t("pipelines-plugin~{{sec}}s",{sec:a})),i.trim()},k=()=>({"1d":o.a.t("pipelines-plugin~1 day"),"3d":o.a.t("pipelines-plugin~3 days"),"1w":o.a.t("pipelines-plugin~1 week"),"2w":o.a.t("pipelines-plugin~2 weeks"),"3w":o.a.t("pipelines-plugin~3 weeks"),"4w":o.a.t("pipelines-plugin~4 weeks")}),T=e=>{let t=0;return m.a(e,"x").map(e=>{const a=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:a})})}},5651:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(8),r=a(1402);const i=e=>{const[t,a]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:a||"s",defaultAutoscalewindowUnit:a||"s"}},o=/ *\([^)]*\) */g,s=e=>e.replace(o,""),l=(e,t)=>{var a;if(!(null===(a=e.spec)||void 0===a?void 0:a.ref))return null;const{apiVersion:i,kind:o,name:s}=e.spec.ref;return Object(n.n)(r.l)===i&&o===r.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(o).test(e)),d=(e,t=[],a)=>e.filter(e=>u([e])).map(e=>{var n,r;const i=null==t?void 0:t.find(t=>t.metadata.name===s(e));return i&&(null===(r=null===(n=i.spec)||void 0===n?void 0:n.ref)||void 0===r?void 0:r.name)!==a?i:null}).filter(e=>!!e)},5652:function(e,t,a){"use strict";var n=a(5619),r=a(8),i=a(5663);class o extends i.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(n.p)(this,{resource:n.q.ref,resourceKind:n.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(r.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=o},5653:function(e,t,a){"use strict";a.d(t,"g",(function(){return E})),a.d(t,"e",(function(){return k})),a.d(t,"c",(function(){return S})),a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return R})),a.d(t,"f",(function(){return P})),a.d(t,"d",(function(){return N}));var n=a(5596),r=a(320),i=a(2338),o=a(689),s=a(5621),l=a(5624),c=a(77),u=a(5591),d=a(4359),m=a(10),p=a(15),b=a(5586),v=a(5620),g=a(5656),h=a(5588),f=a(5648),O=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const y={dryRun:"All"},E=e=>o.object().shape({name:o.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:o.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:o.string(),webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>o.object().shape({webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>o.object().shape({repository:o.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===v.a.PAC&&t,then:j(e)})}),T=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),S=e=>s.f.test(e)?T(e,"github.com")?u.b.GITHUB:T(e,"bitbucket.org")?u.b.BITBUCKET:T(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,_=(e,t,a={},i)=>O(void 0,void 0,void 0,(function*(){var o,s,l;const{name:p,gitUrl:v,webhook:{secretObj:g,method:h,token:E,secret:j,user:k}}=e,T=r.Base64.encode(j),_=S(v);let R;E&&"token"===h?R=yield((e,t,a,n,i,o,s)=>O(void 0,void 0,void 0,(function*(){const l={apiVersion:m.SecretModel.apiVersion,kind:m.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:n},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":a},o&&{"webhook.secret":o}),i===u.b.BITBUCKET&&{"webhook.auth":r.Base64.encode(`${t}:${a}`)})};return Object(c.g)({model:m.SecretModel,data:l,ns:n,queryParams:s?y:{}})})))(p,k,E,t,_,j,i):"secret"===h&&g&&(null===(o=null==g?void 0:g.data)||void 0===o?void 0:o["webhook.secret"])!==T&&(yield Object(c.p)({model:m.SecretModel,resource:g,data:[{op:"replace",path:"/data/webhook.secret",value:r.Base64.encode(j)}]}));const P=n(v).source,N=R||g,C={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:p,namespace:t},a||{}),spec:Object.assign({url:v},N||"github.com"!==P?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(P)?{}:{url:P}),"bitbucket.org"===P?{user:k}:{}),N?{secret:{name:null===(s=null==N?void 0:N.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==N?void 0:N.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:b.RepositoryModel,data:C,ns:t,queryParams:i?y:{}})})),R=(e,t,a)=>O(void 0,void 0,void 0,(function*(){var n,i,o;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:m,secretObj:p,user:b}}=e,v=S(s),g=Object(u.e)(s,v);let h,f=!0;a&&"false"===(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n["webhook-ssl-verification"])&&(f=!1),h=v===u.b.BITBUCKET?"token"===l?r.Base64.encode(`${b}:${c}`):r.Base64.decode(null===(i=null==p?void 0:p.data)||void 0===i?void 0:i["webhook.auth"]):"token"===l?c:r.Base64.decode(null===(o=null==p?void 0:p.data)||void 0===o?void 0:o["provider.token"]);return yield g.createRepoWebhook(h,m,f,d)})),P=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return a=t,p.Yd.test(a)?"git-"+a:"git-"+i.a(a);var a},N=(e,t)=>O(void 0,void 0,void 0,(function*(){var a;let n;try{const[t]=yield Object(c.n)({model:m.ConfigMapModel,queryParams:{ns:h.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});n=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=n?n:yield(e=>O(void 0,void 0,void 0,(function*(){var t;let a=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:m.ConfigMapModel,ns:h.g,name:g.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(a=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return a})))(t)}))},5655:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(689);const r=/^\/.*$/,i=e=>n.object().shape({containerName:n.string(),showForm:n.boolean(),enabled:n.boolean(),modified:n.boolean(),data:n.object().when("showForm",{is:!0,then:n.object().shape({periodSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:n.string(),httpGet:n.object().when("requestType",{is:"httpGet",then:n.object({path:n.string().matches(r,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:n.number().required(e("devconsole~Required"))})}),tcpSocket:n.object().when("requestType",{is:"tcpSocket",then:n.object({port:n.number().required(e("devconsole~Required"))})}),exec:n.object().when("requestType",{is:"command",then:n.object({command:n.array().of(n.string().required(e("devconsole~Required")))})})})})}),o=e=>n.object().shape({readinessProbe:i(e),livenessProbe:i(e),startupProbe:i(e)})},5656:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u}));const n="https://github.com/settings/apps/new",r="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",i="https://api.github.com/app-manifests",o="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return s}));const n=e=>"Topology/ComponentFactory"===e.type,r=e=>"Topology/DataModelFactory"===e.type,i=e=>"Topology/CreateConnector"===e.type,o=e=>"Topology/DisplayFilters"===e.type,s=e=>"Topology/Decorator"===e.type},5658:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);const r=n.createContext({})},5659:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a(2221);const r="operator-backed-service",i=n.h,o=n.f,s=n.g},5661:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a(447),r=a(1941),i=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const o=e=>i(void 0,void 0,void 0,(function*(){var t,a,i;if(!(yield e.isFuncYamlPresent()))return{values:{}};const o=yield e.getFuncYamlContent();try{const e=n.a(o)?Object(r.c)(o):o,s=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(a=null==e?void 0:e.build)||void 0===a?void 0:a.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:s,runtime:c,builderEnvs:l,runtimeEnvs:null===(i=null==e?void 0:e.run)||void 0===i?void 0:i.envs}}}catch(e){return{values:{}}}})),s=(e,t)=>i(void 0,void 0,void 0,(function*(){var a,n;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),i=Object(r.c)(e);if(!(null===(a=null==i?void 0:i.build)||void 0===a?void 0:a.builder)||"s2i"===(null===(n=null==i?void 0:i.build)||void 0===n?void 0:n.builder))return!0}return!1}))},5662:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(0),r=a(5619),i=a(5589),o=a(5647),s=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class l{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const a=this.extensions[t].resources(this.namespace);Object.keys(a).forEach(t=>{e[t]||(e[t]=a[t])})}return e},Object(o.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,a=Object.keys(t).reduce((e,a)=>(e[a]=t[a].kind,e),{});return Object(o.i)(e,a,this.workloadKeys)},this.getExtensionModels=e=>s(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},a=this.dataModelGetters;if(!(null==a?void 0:a.length))return Promise.resolve(t);const n=this.dataModelDepicters,r=this.getWorkloadResources(e),i=a.map(t=>{try{return t(this.namespace,e,r)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(i).then(e=>{e.forEach(e=>{if(e)try{Object(o.b)(e,t,n)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(a=>{try{a(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(r.p)(this,{namespace:r.q,model:r.q.ref,loaded:r.q,loadError:r.q,extensionsLoaded:r.q,watchedResources:r.q.ref,isEmptyModel:r.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...i.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,a;return 0===(null!==(a=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==a?a:0)}}const c=Object(n.createContext)(null)},5663:function(e,t,a){"use strict";var n=a(5585),r=a(5619);const i=(e=n.AnchorEnd.both,t="")=>`${e}:${t}`;class o extends n.BaseElement{constructor(){super(),this.anchors={[i()]:new n.CenterAnchor(this)},this.dimensions=new n.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new n.Point,this.group=!1,this.collapsed=!1,this.labelPosition=n.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(r.p)(this,{anchors:r.q.shallow,dimensions:r.q.ref,dimensionsInitialized:r.q,position:r.q.ref,nodes:r.i,group:r.q,collapsed:r.q,labelPosition:r.q,shape:r.q,status:r.q,groupBounds:r.i,sourceEdges:r.i,targetEdges:r.i,setDimensions:r.f,setBounds:r.f,setPosition:r.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(n.isNode)}get groupBounds(){const e=this.getChildren().filter(n.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(n.isNode)(e)){const{padding:a}=e.getStyle(),n=e.getBounds();!e.isGroup()&&a&&n.padding(e.getStyle().padding),t?t.union(n):t=n.clone()}}),t||(t=new n.Rect);const{padding:a}=this.getStyle();return t.padding(a)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(n.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(n.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return n.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new n.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:a}=this.dimensions;e.width===t&&e.height===a||(this.dimensions=new n.Dimensions(e.width,e.height));const{x:r,y:i}=this.position;e.x===r&&e.y===i||this.setPosition(new n.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const a=e.x-t.x,r=e.y-t.y;this.getChildren().forEach(e=>{if(Object(n.isNode)(e)){const t=e,i=t.getPosition(),o=new n.Point(i.x+a,i.y+r);t.setPosition(o)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(n.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(n.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let a=this.anchors[i(e,t)];return!a&&t&&(a=this.anchors[i(e)]),a||e!==n.AnchorEnd.source&&e!==n.AnchorEnd.target||(a=this.anchors[i(n.AnchorEnd.both,t)],!a&&t&&(a=this.anchors[i(n.AnchorEnd.both)])),a}setAnchor(e,t,a){const n=i(t,a);e?this.anchors[n]=e:delete this.anchors[n]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(n.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?n.NodeShape.rect:n.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||n.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,a;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(a||(a=this.position.clone()),a.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(a||(a=this.position.clone()),a.y=e.y),a&&this.setPosition(a),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:a}=this.getPosition();e.translate(t,a)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:a}=this.getPosition();e.translate(-t,-a)}}}t.a=o},5664:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(31);const r=()=>Object(n.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5);const r=(e,t)=>{const a=t.current?t.current.pods:t.pods;let r=0,i=0;const o=[],s=[];return(null==a?void 0:a.length)&&a.forEach(({metadata:{name:t}})=>{var a,l;const c=null===(a=null==e?void 0:e.memory)||void 0===a?void 0:a[t];if(Number.isFinite(c)){r+=c;const e=Object(n.Ob)(c)+" MiB";o.push({name:t,value:c,formattedValue:e})}const u=null===(l=null==e?void 0:e.cpu)||void 0===l?void 0:l[t];if(Number.isFinite(u)){i+=u,s[t]=Object(n.Pb)(u)+" cores";const e=Object(n.Pb)(u)+" cores";s.push({name:t,value:u,formattedValue:e})}}),{totalBytes:r,totalCores:i,memoryByPod:o,cpuByPod:s}}},5669:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"i",(function(){return l})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"l",(function(){return b}));const n="OPENSHIFT_PIPELINE",r="OPENSHIFT_PIPELINE_AS_CODE",i="OPENSHIFT_PIPELINE_CONDITION",o="openshift",s="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",m="https://artifacthub.io/api/v1",p="resource.deleted.in.k8s",b="resource.loaded.from.tektonResults"},5670:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a(31),i=a(499),o=a(327),s=a(517),l=a(5);const c=e=>({watchURL:(t,a)=>e(Object(s.g)(t,a)),stopWatchURL:t=>e(Object(s.e)(t)),watchPrometheusQuery:(t,a,n)=>e(Object(s.f)(t,a,n)),stopWatchPrometheusQuery:(t,a)=>e(Object(s.d)(t,a))}),u=e=>({[o.a.URL]:e.dashboards.get(o.a.URL),[o.a.PROMETHEUS]:e.dashboards.get(o.a.PROMETHEUS),notificationAlerts:e.observe.get("notificationAlerts")}),d=e=>Object(r.connect)(u,c)(class extends n.Component{constructor(e){super(e),this.urls=[],this.queries=[],this.watchingAlerts=!1,this.watchURL=(e,t)=>{this.urls.push(e),this.props.watchURL(e,t)},this.watchPrometheus=(e,t,a)=>{this.queries.push(Object(s.c)(e,a)),this.props.watchPrometheusQuery(e,t,a)},this.stopWatchPrometheusQuery=(e,t)=>{const a=Object(s.c)(e,t);this.queries=this.queries.filter(e=>e!==a),this.props.stopWatchPrometheusQuery(e,t)},this.watchAlerts=()=>{this.watchingAlerts=!0},this.stopWatchAlerts=()=>{this.watchingAlerts=!1},this.watchK8sResource=e=>{this.setState(t=>({k8sResources:[...t.k8sResources,Object.assign(Object.assign({},e),{optional:!0})]}))},this.stopWatchK8sResource=e=>{this.setState(t=>({k8sResources:t.k8sResources.filter(t=>t.prop!==e.prop)}))},this.getExternalProps=e=>i.a(e,"watchURL","stopWatchURL","watchPrometheusQuery","stopWatchPrometheusQuery","watchAlerts","stopWatchAlerts",o.a.URL,o.a.PROMETHEUS,"notificationAlerts"),this.state={k8sResources:[]}}shouldComponentUpdate(e,t){var a,n,r,i,s,l;const c=this.urls.some(t=>this.props[o.a.URL].getIn([t,"data"])!==e[o.a.URL].getIn([t,"data"])||this.props[o.a.URL].getIn([t,"loadError"])!==e[o.a.URL].getIn([t,"loadError"])),u=this.queries.some(t=>this.props[o.a.PROMETHEUS].getIn([t,"data"])!==e[o.a.PROMETHEUS].getIn([t,"data"])||this.props[o.a.PROMETHEUS].getIn([t,"loadError"])!==e[o.a.PROMETHEUS].getIn([t,"loadError"])),d=(null===(n=null===(a=this.props)||void 0===a?void 0:a.notificationAlerts)||void 0===n?void 0:n.data)!==(null===(r=null==e?void 0:e.notificationAlerts)||void 0===r?void 0:r.data)||(null===(s=null===(i=this.props)||void 0===i?void 0:i.notificationAlerts)||void 0===s?void 0:s.loadError)!==(null===(l=null==e?void 0:e.notificationAlerts)||void 0===l?void 0:l.loadError),m=this.state.k8sResources!==t.k8sResources,p=this.getExternalProps(e),b=this.getExternalProps(this.props);return c||u||m||this.watchingAlerts&&d||Object.keys(p).length!==Object.keys(b).length||Object.keys(p).some(e=>p[e]!==b[e])}render(){return n.createElement(l.C,{resources:this.state.k8sResources},n.createElement(e,Object.assign({watchURL:this.watchURL,stopWatchURL:this.props.stopWatchURL,watchPrometheus:this.watchPrometheus,stopWatchPrometheusQuery:this.stopWatchPrometheusQuery,watchAlerts:this.watchAlerts,stopWatchAlerts:this.stopWatchAlerts,urlResults:this.props[o.a.URL],prometheusResults:this.props[o.a.PROMETHEUS],notificationAlerts:this.props.notificationAlerts,watchK8sResource:this.watchK8sResource,stopWatchK8sResource:this.stopWatchK8sResource},this.getExternalProps(this.props))))}})},5671:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5589);const r=(e,t,a=null)=>Object(n.b)(Object(n.g)(e),Object(n.g)(t),a?Object(n.g)(a):null)},5672:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a(5668),i=a(5),o=a(8),s=a(5589);const l=e=>t=>{const a=a=>{const r=Object(s.g)(a.element),l=Object(o.vb)(Object(o.Db)(r)),c=Object(i.Dc)({group:l.apiGroup,verb:e,resource:l.plural,name:r.metadata.name,namespace:r.metadata.namespace});return n.createElement(t,Object.assign({},a,{canEdit:c}))};return a.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(r.a)(a)}},5673:function(e,t,a){"use strict";a.d(t,"m",(function(){return b})),a.d(t,"i",(function(){return v})),a.d(t,"h",(function(){return g})),a.d(t,"g",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"n",(function(){return O})),a.d(t,"p",(function(){return y})),a.d(t,"o",(function(){return E})),a.d(t,"k",(function(){return j})),a.d(t,"j",(function(){return k})),a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return S})),a.d(t,"l",(function(){return _})),a.d(t,"d",(function(){return R})),a.d(t,"f",(function(){return P})),a.d(t,"c",(function(){return N}));var n=a(255),r=a(745),i=a(117),o=a(384),s=a(1533),l=a(70),c=a(22),u=a(283),d=a(1401),m=a(4362),p=a(10);const b=["app.kubernetes.io/name","app.openshift.io/runtime"],v=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==a?a:""},g=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==a?a:""},h=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==a?a:""},f=e=>{var t,a,i,o,s,l;return(e=>n.a(e,(e,t,a)=>{const n=a.split("/");1===n.length&&n.push("tcp");const i=parseInt(n[0],10);return r.a(i)?e.push({containerPort:i,protocol:n[1].toUpperCase()}):console.warn("Unrecognized image port format",a),e},[]))((null===(i=null===(a=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===a?void 0:a.Config)||void 0===i?void 0:i.ExposedPorts)||(null===(l=null===(s=null===(o=null==e?void 0:e.image)||void 0===o?void 0:o.dockerImageMetadata)||void 0===s?void 0:s.ContainerConfig)||void 0===l?void 0:l.ExposedPorts))},O=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),y=e=>e.replace(/(-|^)([^-]?)/g,(e,t,a)=>(t&&" ")+a.toUpperCase()),E=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(m.isBuilder)(e)).reduce((e,t)=>{var a,n,r;const i=Object(m.getBuilderTagsSortedByVersion)(t),o=Object(m.getMostRecentBuilderTag)(t),{name:s}=t.metadata,l=null===(n=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/display-name"],c=null===(r=null==o?void 0:o.annotations)||void 0===r?void 0:r.description,u=t.metadata.namespace,p=l&&l.length<14?l:y(s),b=Object(d.e)(o),v=Object(d.d)(b);return e[s]={obj:t,name:s,displayName:l,description:c,title:p,iconUrl:v,tags:i,recentTag:o,imageStreamNamespace:u},e},{}),j=(e,t,a)=>{var n,r;const o=i.a(e,{name:t});return[o,null!==(r=null===(n=null==o?void 0:o.annotations)||void 0===n?void 0:n["openshift.io/display-name"])&&void 0!==r?r:a]},k=e=>{if(!e)return;const t=o.a(e.split("/"));return s.a(t.split(/[^a-z0-9-]/))};var T,S;!function(e){e.External="external",e.Internal="internal"}(T||(T={})),function(e){e.Openshift="openshift"}(S||(S={}));const _=e=>({External:{value:T.External,label:e("devconsole~Image name from external registry")},Internal:{value:T.Internal,label:e("devconsole~Image stream tag from internal registry")}}),R=e=>(e&&!c.a(e)?(e=>l.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const a=u.coerce(e),n=u.coerce(t);return a||n?a?n?u.rcompare(a,n):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),P=()=>[{isList:!0,kind:p.ProjectModel.kind,prop:p.ProjectModel.id}],N=e=>{const t=[];return e&&t.push({isList:!0,kind:p.ImageStreamModel.kind,prop:p.ImageStreamModel.id,namespace:e}),t}},5674:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(5);const r=["configmaps","persistentvolumeclaims","pods","replicationcontrollers","resourcequotas","services","services.loadbalancers","services.nodeports","secrets","openshift.io/imagestreams"],i=(e,t)=>{let a=Object(n.Ib)(t),r=Object(n.Ib)(e);return a&&r||(a=parseInt(a,10),r=parseInt(r,10)),a&&r?a/r*100:0},o=({resourceName:e,used:t,hard:a})=>{const o=e.startsWith("count/")||r.includes(e),s=i(a,t);return{label:o?`${t||0} of ${a}`:Object(n.ec)(s).string,percent:s}}},5678:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a(22),i=a(15),o=a(5665),s=a(5664);const l=e=>{const t=Object(s.a)(),{podData:a,loaded:l}=Object(i.Se)(e,e.kind,e.metadata.namespace);return n.useMemo(()=>r.a(t)||!l?null:Object(o.a)(t,a),[l,t,a])}},5679:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a(7),i=a(131),o=a(15),s=a(5589);const l=e=>Object(i.n)({title:n.createElement(n.Fragment,null,n.createElement(o.tc,{className:"co-icon-space-r"})," ",n.createElement(r.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(s.l)(e).catch(e=>{e&&Object(i.s)({error:e.message})})})},5680:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(7),i=a(131),o=a(5589);const s=(e,t)=>{const a=e.getParent()!==e.getGraph()?e.getParent():void 0;if(a===t)return Promise.reject();if(a){const s=t?"topology~Move component node":"topology~Remove component node from application",l=e.getLabel(),c=a.getLabel(),u=null==t?void 0:t.getLabel(),d=t?n.createElement(r.Trans,{ns:"topology"},"Are you sure you want to move ",n.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c}," to"," ",{targetLabel:u},"?"):n.createElement(r.Trans,{ns:"topology"},"Are you sure you want to remove ",n.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c},"?"),m=t?"topology~Move":"topology~Remove";return new Promise((a,n)=>{Object(i.n)({titleKey:s,message:d,btnTextKey:m,close:()=>{n()},cancel:()=>{n()},executeFn:()=>Object(o.m)(e,t?t.getLabel():null).then(a).catch(e=>{const t=e.message;Object(i.s)({error:t}),n(e)})})})}return Object(o.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(i.s)({error:t})})}},5684:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(8),i=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const o=(e,t,a,o)=>{const[s,l]=n.useState(),[c,u]=n.useState(!1),[d,m]=n.useState();return n.useEffect(()=>{i(void 0,void 0,void 0,(function*(){try{m(null),u(!1),l(null);const n=yield Object(r.kb)(e,t,a,o);l(n)}catch(e){m(e)}finally{u(!0)}}))},[e,t,a,o]),[s,c,d]}},5687:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"f",(function(){return h})),a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return y})),a.d(t,"e",(function(){return E}));var n=a(225),r=a(16),i=a(499),o=a(1557),s=a(53),l=a(15),c=a(5669),u=a(5586),d=a(5623),m=a(5588),p=a(5725);const b=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},v=(e=null,t,a)=>{var p,v,g,h,f,O;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const y=((e,t)=>{var a,n,r;return e?e.metadata.name:t?null!==(n=null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)&&void 0!==n?n:(null===(r=t.metadata.annotations)||void 0===r?void 0:r[m.z])||t.metadata.name:null})(e,t),E=null==t?void 0:t.spec.workspaces,j=null==t?void 0:t.spec.params,k=null==e?void 0:e.spec.params,T=j||Object(d.m)(k),S=o.a({},null===(p=null==e?void 0:e.metadata)||void 0===p?void 0:p.annotations,null===(v=null==t?void 0:t.metadata)||void 0===v?void 0:v.annotations,{[m.q.user]:Object(s.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(g=null==t?void 0:t.metadata.annotations)||void 0===g?void 0:g[m.z])&&{[m.z]:y});delete S["kubectl.kubernetes.io/last-applied-configuration"],delete S["tekton.dev/v1beta1TaskRuns"],delete S["results.tekton.dev/log"],delete S["results.tekton.dev/record"],delete S["results.tekton.dev/result"],delete S[c.c],delete S[c.l];return(e=>{let t=e;if(n.a(t,"spec.serviceAccount")){const e=r.a(t,"spec.serviceAccount");t=i.a(t,["spec.serviceAccount"]),t=o.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==a?void 0:a.generateName)?{generateName:y+"-"}:{name:void 0!==(null===(h=null==t?void 0:t.metadata)||void 0===h?void 0:h.name)?`${b(t)}${Object(l.wd)()}`:`${y}-${Object(l.wd)()}`}),{annotations:S,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:o.a({},null===(f=null==e?void 0:e.metadata)||void 0===f?void 0:f.labels,null===(O=null==t?void 0:t.metadata)||void 0===O?void 0:O.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":y})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:y}}),T&&{params:T}),{workspaces:E,status:null})})},g=e=>({volumeClaimTemplate:{metadata:{labels:{[m.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),h=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[m.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),f=e=>t=>{let a={type:m.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(a={type:m.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(a={type:m.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),a)},O=(e,t=!1,a="")=>{const{metadata:{namespace:n},spec:{params:r,resources:i}}=e;return{namespace:n,parameters:(r||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(i||[]).map(e=>({name:e.name,selection:t?p.a:"",data:Object.assign(Object.assign({},p.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(f(a))}},y=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),E=(e,t,a,n,r)=>{const{parameters:i,workspaces:o}=t,s={metadata:{annotations:n,labels:a},spec:{pipelineRef:{name:e.metadata.name},params:i.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(o)}};return v(e,s,r)}},5695:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,r=a(0),i=a(18),o=a(1946),s=a(5727);a(5728);!function(e){e.light="light",e.default="default"}(n||(n={}));t.b=({children:e,disabled:t,onNamespaceChange:a,hideProjects:l=!1,hideApplications:c=!1,variant:u=n.default,toolbar:d})=>r.createElement("div",{className:"odc-namespaced-page"},r.createElement(o.NamespaceBar,{isDisabled:t,onNamespaceChange:a,hideProjects:l},!c&&r.createElement(s.a,{disabled:t}),d&&r.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),r.createElement("div",{className:i("odc-namespaced-page__content",{["is-"+u]:u!==n.default})},e))},5704:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(13),o=a(5),s=a(69),l=a(15),c=a(5710),u=a(5647),d=a(5720),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};t.a=e=>{var{namespace:t}=e,a=m(e,["namespace"]);const{t:p}=Object(r.useTranslation)(),b=Object(s.z)(d.a),v=Object(s.z)(i.Zb),g=n.useMemo(()=>Object(c.b)(v),[v]),h=n.useMemo(()=>{let e=Object(u.d)(t);return[...b,...g].forEach(a=>{var n,r;const i=null===(r=(n=a.properties).resources)||void 0===r?void 0:r.call(n,t);i&&(e=Object.assign(Object.assign({},i),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[g,b,t]);return n.createElement(o.C,{resources:h},n.createElement(l.Nb,Object.assign({},a,{placeholder:p("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5705:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"f",(function(){return O})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return E}));var n=a(0),r=a(283),i=a(13),o=a(77),s=a(519),l=a(15),c=a(5586),u=a(5588),d=a(5650),m=a(5899),p=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const b=e=>p(void 0,void 0,void 0,(function*(){const t=(yield Object(o.l)(s.a,{ns:e})).filter(e=>{var t,a,n,r,i;return((null===(a=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===a?void 0:a.startsWith("openshift-pipelines-operator"))||(null===(r=null===(n=e.metadata)||void 0===n?void 0:n.name)||void 0===r?void 0:r.startsWith("redhat-openshift-pipelines")))&&(null===(i=e.status)||void 0===i?void 0:i.phase)===s.b.CSVPhaseSucceeded}).map(e=>Object(r.parse)(e.spec.version)).filter(Boolean);return t.sort(r.compare),t.length>0?t[t.length-1]:null})),v=e=>{const[t,a]=n.useState(null);return n.useEffect(()=>{b(e).then(a).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},g=e=>!!e&&Object(r.gte)(e.version,u.i),h=e=>!!e&&Object(r.gte)(e.version,u.s),f=e=>{const t=v(e),[a]=Object(m.b)(),[n]=Object(i.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var o;return{metricsLevel:!!(o=t)&&Object(r.gt)(o.version,u.m)?Object(m.a)(a):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!g(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:n}},O=e=>{const[t]=Object(l.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=11;e(u.f,n)},y=e=>{const[t]=Object(l.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=16;e(u.d,n)},E=e=>{const[t]=Object(l.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=17;e(u.e,n)}},5710:function(e,t,a){"use strict";a.d(t,"b",(function(){return d}));var n=a(0),r=a(13),i=a(8),o=a(69),s=a(5657),l=a(5714),c=a(5662),u=a(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((a,[n,r])=>{const o=((e,t,a,n,r={})=>{if(!n)return Object.assign({namespace:e},r);if(n.version){const t=Object(i.Fb)(n);return Object.assign({namespace:e,kind:t},r)}const o=Object(i.wb)(n.group,n.kind);if(!o)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${n.group}" and kind "${n.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${a}" will not be loaded and ignored in the topology view for now:`,t,a,n,r),null;const s=Object(i.Hb)(o);return Object.assign({namespace:e,kind:s},r)})(t,e,n,null==r?void 0:r.model,null==r?void 0:r.opts);return o&&(a[n]=o),a},{})})}));t.a=({namespace:e,children:t})=>{const[a,i]=n.useState(new c.a(e));n.useEffect(()=>{i(new c.a(e))},[e]);const m=Object(o.z)(s.c),p=Object(o.z)(r.Zb),b=n.useMemo(()=>d(p),[p]);return n.createElement(c.b.Provider,{value:a},e&&n.createElement(n.Fragment,null,[...b,...m].map(e=>n.createElement(l.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&n.createElement(u.a,null),t)}},5711:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return h})),a.d(t,"f",(function(){return f}));var n=a(499),r=a(22),i=a(1557),o=a(655),s=a(255),l=a(15),c=a(2221),u=a(5599);const d=({name:e,applicationName:t,imageStreamName:a,runtimeIcon:n,selectedTag:r,namespace:i})=>{const o=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},a&&{"app.openshift.io/runtime":a});return n&&(o["app.openshift.io/runtime"]=n),t&&t.trim().length>0&&(o["app.kubernetes.io/part-of"]=t),r&&(o["app.openshift.io/runtime-version"]=r),i&&(o["app.openshift.io/runtime-namespace"]=i),o},m=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),p=()=>({[c.n]:"false"}),b=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),v=(e,t,a,n,r="latest")=>({[l.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${r}`,namespace:a},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!n}])}),g=(e,t)=>{const a=u.l[e];return a?{app:t,[a.toLowerCase()]:t}:{app:t}},h=(e,t)=>{var a,s,l,c,u,d,m,p,b,v,g,h,f,O,y,E,j,k,T,S,_,R,P,N,C,w,I,x,A;if(r.a(e))return t;const D=i.a({},e||{},t),U=null===(s=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.annotations)||void 0===s?void 0:s.isFromDevfile;var L;if(D.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),U?null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.labels:{}),D.metadata.annotations&&(D.metadata.annotations=Object.assign(Object.assign({},U?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations:(L=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,n.a(L,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(p=null===(m=null===(d=D.spec)||void 0===d?void 0:d.template)||void 0===m?void 0:m.metadata)||void 0===p?void 0:p.labels)&&(D.spec.template.metadata.labels=null===(g=null===(v=null===(b=t.spec)||void 0===b?void 0:b.template)||void 0===v?void 0:v.metadata)||void 0===g?void 0:g.labels),!r.a(null===(O=null===(f=null===(h=e.spec)||void 0===h?void 0:h.template)||void 0===f?void 0:f.spec)||void 0===O?void 0:O.containers)){D.spec.template.spec.containers=e.spec.template.spec.containers;const a=o.a(e.spec.template.spec.containers,{name:e.metadata.name});a>=0?D.spec.template.spec.containers[a]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[a]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[a].volumeMounts}):D.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(y=null==D?void 0:D.spec)||void 0===y?void 0:y.hasOwnProperty("strategy"))&&(D.spec.strategy=null!==(j=null===(E=t.spec)||void 0===E?void 0:E.strategy)&&void 0!==j?j:null===(k=e.spec)||void 0===k?void 0:k.strategy),(null===(T=D.spec)||void 0===T?void 0:T.triggers)&&(D.spec.triggers=t.spec.triggers),(null===(_=null===(S=t.spec)||void 0===S?void 0:S.source)||void 0===_?void 0:_.sourceSecret)||null===(P=null===(R=null==D?void 0:D.spec)||void 0===R?void 0:R.source)||void 0===P||delete P.sourceSecret,(null===(w=null===(C=null===(N=D.spec)||void 0===N?void 0:N.template)||void 0===C?void 0:C.spec)||void 0===w?void 0:w.hasOwnProperty("volumes"))&&(D.spec.template.spec.volumes=null===(A=null===(x=null===(I=e.spec)||void 0===I?void 0:I.template)||void 0===x?void 0:x.spec)||void 0===A?void 0:A.volumes),D},f=e=>{var t,a,n;return s.a(null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.labels,(t,a,n)=>{var r,i;return(null===(i=null===(r=e.metadata)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.hasOwnProperty(n))||(t[n]=a),t},{})}},5712:function(e,t,a){},5714:function(e,t,a){"use strict";var n=a(0),r=a(15),i=a(5662);t.a=({dataModelFactory:e})=>{const t=n.useContext(i.b),{id:a,priority:o,resources:s}=e,l=Object(r.De)(e.workloadKeys),c=n.useRef({priority:o,workloadKeys:l,resources:s});return n.useEffect(()=>{if(!t.getExtension(a)){c.current={priority:o,workloadKeys:l,resources:s},t.updateExtension(a,c.current);const{getDataModel:n,isResourceDepicted:r,getDataModelReconciler:i}=e;n?n().then(e=>{c.current.dataModelGetter=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(a,c.current)}):(c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(a,c.current)),r?r().then(e=>{c.current.dataModelDepicter=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelDepicter=()=>!1,t.updateExtension(a,c.current)}):(c.current.dataModelDepicter=()=>!1,t.updateExtension(a,c.current)),i?i().then(e=>{c.current.dataModelReconciler=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelReconciler=()=>{},t.updateExtension(a,c.current)}):(c.current.dataModelReconciler=()=>{},t.updateExtension(a,c.current))}},[t,e,a,o,s,l]),null}},5715:function(e,t,a){"use strict";var n=a(0),r=a(5585),i=a(22),o=a(108),s=a(15),l=a(5662),c=a(5716),u=a(5718);t.a=Object(r.observer)(({trafficData:e})=>{const t=n.useContext(l.b),{namespace:a,extensionsLoaded:r,watchedResources:d}=t,[m,p]=n.useState(),b=Object(u.a)(a),v=n.useMemo(()=>a&&r?d:{},[r,d,a]),g=Object(s.Ce)(p,250),h=Object(o.b)(v);return n.useEffect(()=>g(h),[g,h]),n.useEffect(()=>{t.model=null},[a]),n.useEffect(()=>{i.a(m)||Object(c.a)(t,m,e,b).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[m,e,t,b]),null})},5716:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5717);const r=(e,t,a,r)=>{const{extensionsLoaded:i,watchedResources:o}=e;if(!i||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const s=Object.keys(t).find(e=>(e=>t[e].loadError&&!o[e].optional?t[e].loadError:"")(e));if(s)return Promise.resolve({loaded:!1,loadError:t[s].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&o[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const l=e.getWorkloadResources(t),c=e.dataModelDepicters;return e.getExtensionModels(t).then(i=>{const o=Object(n.a)(i,e.namespace,t,l,c,a,r);return e.reconcileModel(o,t),Promise.resolve({loaded:!0,loadError:"",model:o})})}},5717:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1401),r=a(15),i=a(2221),o=a(5589),s=a(5647);const l=(e,t)=>{const a=e.nodes.filter(({data:e})=>e.nodeType===i.y);return e.edges.reduce((e,{data:n})=>{const{data:r}=a.find(e=>e.data.id===n.source),{data:o}=a.find(e=>e.data.id===n.target),s=t.find(e=>e.metadata.name===r[r.nodeType]),l=t.find(e=>e.metadata.name===o[o.nodeType]);return s&&l?[...e,{id:`${s.metadata.uid}_${l.metadata.uid}`,type:i.x,source:s.metadata.uid,target:l.metadata.uid,data:n.traffic}]:e},[])},c=(e,t,a,c,u,d,m)=>{const p=(e=>{const t={nodes:[],edges:[]};return o.a.forEach(a=>{var o,l;if(null===(l=null===(o=null==e?void 0:e[a])||void 0===o?void 0:o.data)||void 0===l?void 0:l.length){const o={nodes:[],edges:[]};e[a].data.forEach(t=>{const l=Object(r.yc)(a,t,e);if(l){const a=Object(s.c)(t,l,i.y,Object(n.d)("icon-openshift"),void 0,e);o.nodes.push(Object(s.h)(t,i.y,a,s.a)),Object(s.j)(Object(s.g)(t),o.nodes)}}),Object(s.b)(o,t)}}),t})(Object.assign(Object.assign({},a),{monitoringAlerts:m}));return Object(s.b)(p,e,u),(e=>{e.nodes.forEach(t=>{var a,n;t.type===i.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(n=null===(a=t.children)||void 0===a?void 0:a.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==n?n:[])}),e.nodes=e.nodes.filter(e=>e.type!==i.u||e.children.length>0)})(e),((e,t)=>{t.forEach(a=>{e.edges.push(...Object(s.f)(a,t))})})(e,c),((e,t,a)=>{a&&e.edges.push(...l(a,t))})(e,c,d),e}},5718:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(5719),i=a(58),o=a(15);const s=e=>{const[t,a,s]=Object(r.a)({namespace:e}),l=n.useMemo(()=>{let e;return s||a||(e=Object(i.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!s,loadError:a}},[a,s,t]);return Object(o.De)(l)}},5719:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(763),r=a(436);const i=({delay:e,namespace:t})=>{const a=Object(r.b)({endpoint:r.a.RULES,namespace:t});return Object(n.useURLPoll)(a,e,t)}},5720:function(e,t,a){"use strict";var n=a(5657);a.d(t,"a",(function(){return n.c}))},5723:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(141),r=a(225),i=a(22),o=a(5599),s=a(5790),l=a(5724);const c=(e,t)=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.failureThreshold&&{failureThreshold:n.a(e.failureThreshold)}),e.successThreshold&&{successThreshold:n.a(e.successThreshold)}),e.requestType===l.b.ContainerCommand&&{exec:e.exec}),e.requestType===l.b.HTTPGET&&{httpGet:Object.assign(Object.assign({},e[e.requestType]),{scheme:(null===(a=e[e.requestType])||void 0===a?void 0:a.scheme)?e[e.requestType].scheme[0]:"HTTP",port:t===o.k.KnativeService?0:n.a(e.httpGet.port)})}),e.requestType===l.b.TCPSocket&&{tcpSocket:{port:t===o.k.KnativeService?0:n.a(e.tcpSocket.port)}}),e.initialDelaySeconds&&{initialDelaySeconds:n.a(e.initialDelaySeconds)}),e.periodSeconds&&{periodSeconds:n.a(e.periodSeconds)}),e.timeoutSeconds&&{timeoutSeconds:n.a(e.timeoutSeconds)})},u=e=>{var t,a,n,i,o,s,c,u;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{requestType:(u=e,r.a(u,l.b.HTTPGET)?l.b.HTTPGET:r.a(u,l.b.TCPSocket)?l.b.TCPSocket:r.a(u,"exec.command")?l.b.ContainerCommand:""),failureThreshold:(null===(t=e.failureThreshold)||void 0===t?void 0:t.toString())||"",successThreshold:(null===(a=e.successThreshold)||void 0===a?void 0:a.toString())||"",initialDelaySeconds:(null===(n=e.initialDelaySeconds)||void 0===n?void 0:n.toString())||"",periodSeconds:(null===(i=e.periodSeconds)||void 0===i?void 0:i.toString())||"",timeoutSeconds:(null===(o=e.timeoutSeconds)||void 0===o?void 0:o.toString())||""}),e.httpGet&&{httpGet:Object.assign(Object.assign({},e.httpGet),{port:(null===(s=e.httpGet.port)||void 0===s?void 0:s.toString())||"",scheme:"HTTP"===e.httpGet.scheme?void 0:["HTTPS"]})}),e.tcpSocket&&{tcpSocket:{port:(null===(c=e.tcpSocket.port)||void 0===c?void 0:c.toString())||""}})},d=(e,t=0)=>{var a,n,r,o,c,d,m,p,b,v;const g=null!==(o=null===(r=null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.template)||void 0===n?void 0:n.spec)||void 0===r?void 0:r.containers)&&void 0!==o?o:[],h=null!==(d=null===(c=null==g?void 0:g[t])||void 0===c?void 0:c[l.a.ReadinessProbe])&&void 0!==d?d:{},f=null!==(p=null===(m=null==g?void 0:g[t])||void 0===m?void 0:m[l.a.LivenessProbe])&&void 0!==p?p:{},O=null!==(v=null===(b=null==g?void 0:g[t])||void 0===b?void 0:b[l.a.StartupProbe])&&void 0!==v?v:{};return{readinessProbe:{showForm:!1,modified:!1,enabled:!i.a(h),data:i.a(h)?s.b.data:Object.assign({},u(h))},livenessProbe:{showForm:!1,modified:!1,enabled:!i.a(f),data:i.a(f)?s.b.data:Object.assign({},u(f))},startupProbe:{showForm:!1,modified:!1,enabled:!i.a(O),data:i.a(O)?s.b.data:Object.assign({},u(O))}}},m=(e,t)=>{const{readinessProbe:a,livenessProbe:n,startupProbe:r}=e;return Object.assign(Object.assign(Object.assign({},a.enabled?{readinessProbe:c(a.data,t)}:{}),n.enabled?{livenessProbe:c(n.data,t)}:{}),t!==o.k.KnativeService&&(null==r?void 0:r.enabled)?{startupProbe:c(r.data)}:{})}},5724:function(e,t,a){"use strict";var n,r;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),function(e){e.ReadinessProbe="readinessProbe",e.LivenessProbe="livenessProbe",e.StartupProbe="startupProbe"}(n||(n={})),function(e){e.HTTPGET="httpGet",e.ContainerCommand="command",e.TCPSocket="tcpSocket"}(r||(r={}))},5725:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(5588);const r="#CREATE_PIPELINE_RESOURCE#",i={[n.o.git]:{params:{url:"",revision:""}},[n.o.image]:{params:{url:""}},[n.o.storage]:{params:{type:"",location:"",dir:""}},[n.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5727:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(31),o=a(53),s=a(518),l=a(15),c=a(5704);t.a=Object(i.connect)(e=>({namespace:Object(s.d)(e),application:Object(s.c)(e)}),e=>({onChange:t=>{e(Object(o.k)(t))}}))(({namespace:e,application:t,onChange:a,disabled:i})=>{const{t:o}=Object(r.useTranslation)(),s=o("topology~All applications"),u=o("topology~No application group"),d=t===l.b?s:t===l.mc?u:t,[m,p]=n.useState(d);if(n.useEffect(()=>{i||p(d)},[i,d]),e===l.c)return null;return n.createElement(c.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:m&&n.createElement("span",{className:"btn-link__title"},m),titlePrefix:o("topology~Application"),allSelectorItem:{allSelectorKey:l.b,allSelectorTitle:s},noneSelectorItem:{noneSelectorKey:l.mc,noneSelectorTitle:u},selectedKey:t||l.b,onChange:(e,t)=>{t===l.b?a(t):a(e)},userSettingsPrefix:l.f,storageKey:l.e,disabled:i})})},5728:function(e,t,a){},5729:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a(5731);const r={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:n.a,apiVersion:"v1alpha1",kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},i={id:"buildstrategy",plural:"buildstrategies",apiGroup:n.a,apiVersion:"v1alpha1",kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},o={id:"build",plural:"builds",apiGroup:n.a,apiVersion:"v1alpha1",kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},s={id:"buildrun",plural:"buildruns",apiGroup:n.a,apiVersion:"v1alpha1",kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"},l={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:n.a,apiVersion:n.b,kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},c={id:"buildstrategy",plural:"buildstrategies",apiGroup:n.a,apiVersion:n.b,kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},u={id:"build",plural:"builds",apiGroup:n.a,apiVersion:n.b,kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},d={id:"buildrun",plural:"buildruns",apiGroup:n.a,apiVersion:n.b,kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"}},5731:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return l}));const n="shipwright.io",r="v1beta1",i="build.shipwright.io/name",o="app.kubernetes.io/instance",s="image-registry.openshift-image-registry.svc:5000",l="quay.io"},5732:function(e,t,a){},5734:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>Object.assign(Object.assign({},e),{prop:`${t}-${e.prop}`})},5735:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(0),r=a(353),i=a(19),o=a(7),s=a(14),l=a(13),c=a(517),u=a(5670),d=a(1406),m=a(5),p=a(980),b=a(108),v=a(8),g=a(15),h=a(30),f=a(119),O=a(2229);a(5828);const y=n.memo(({current:e,title:t,humanize:a,consumers:s,namespace:l,position:c=r.b.top,description:u,children:d})=>{const{t:m}=Object(o.useTranslation)(),[p,b]=n.useState(!1),v=n.useCallback(()=>b(!0),[]),g=n.useCallback(()=>b(!1),[]);return e?n.createElement(r.a,{position:c,headerContent:m("console-shared~{{title}} breakdown",{title:t}),bodyContent:n.createElement(k,{humanize:a,consumers:s,namespace:l,isOpen:p,description:u},d),enableFlip:!0,onShow:v,onHide:g,maxWidth:"21rem"},n.createElement(i.a,{variant:"link",isInline:!0},e)):null});t.b=y;const E=e=>{switch(e){case l.m.ERROR:return n.createElement(f.h,null);case l.m.WARN:return n.createElement(f.m,null);default:return null}},j=({limitState:e,requestedState:t,total:a,limit:r,current:i,available:s,requested:c})=>{const{t:u}=Object(o.useTranslation)();return(!!e&&e!==l.m.OK||!!t&&t!==l.m.OK)&&n.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},n.createElement(O.default,{value:a},u("console-shared~Total capacity")),n.createElement(O.default,{value:r,icon:E(e)},u("console-shared~Total limit")),n.createElement(O.default,{value:i},u("console-shared~Current utilization")),n.createElement(O.default,{value:s},u("console-shared~Current available capacity")),n.createElement(O.default,{value:c,icon:E(t)},u("console-shared~Total requested")))},k=Object(u.a)(n.memo(({humanize:e,consumers:t,namespace:a,watchPrometheus:r,stopWatchPrometheusQuery:i,prometheusResults:u,isOpen:f,description:O,children:y})=>{const{t:E}=Object(o.useTranslation)(),[j,k]=n.useState(t[0]),S=Object(l.jc)()[0],_=Object(g.Fe)(h.A.CAN_GET_NS)&&!!window.SERVER_FLAGS.prometheusBaseURL,{query:R,model:P,metric:N,fieldSelector:C}=j,w=n.useMemo(()=>f?((e,t,a)=>({isList:!0,kind:e.crd?Object(v.Hb)(e):e.kind,fieldSelector:a,namespace:t}))(P,a,C):null,[C,f,P,a]),[I,x,A]=Object(b.a)(w);n.useEffect(()=>f?(r(R,a),()=>{i(R)}):()=>{},[R,i,r,a,f]);const D=[],[U,L]=Object(c.b)(u,R),M=Object(d.a)(U,N);if(w&&x&&!A)for(const t of M){if(I.some(e=>Object(g.dd)(e)===t.metric[N]&&(!P.namespaced||Object(g.ed)(e)===t.metric.namespace))&&D.push(Object.assign(Object.assign({},t),{y:e(t.y).string})),5===D.length)break}const B=n.useMemo(()=>{const e=new URLSearchParams;return e.set("query0",j.query),e},[j.query]),F=n.useMemo(()=>t.reduce((e,t)=>(e[Object(v.Hb)(t.model)]=E("console-shared~By {{label}}",{label:t.model.labelKey?E(t.model.labelKey):t.model.label}),e),{}),[t,E]),$=n.useCallback(e=>k(t.find(t=>Object(v.Hb)(t.model)===e)),[t]),K=_&&"admin"===S?"/monitoring/query-browser?"+B.toString():`/dev-monitoring/ns/${a}/metrics?${B.toString()}`;let q;return q=L||A?n.createElement("div",{className:"text-secondary"},E("console-shared~Not available")):x&&U?n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-utilization-card-popover__consumer-list","aria-label":E("console-shared~Top consumer by {{label}}",{label:P.label})},D&&D.map(e=>{const t=String(e.x);return n.createElement(T,{key:t,value:e.y},n.createElement(s.Link,{className:"co-utilization-card-popover__consumer-name",to:Object(m.uc)(P,t,e.metric.namespace)},t))})),n.createElement(s.Link,{to:K},E("console-shared~View more"))):n.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"})),n.createElement("div",{className:"co-utilization-card-popover__body"},O&&n.createElement("div",{className:"co-utilization-card-popover__description"},O),y,n.createElement("div",{className:"co-utilization-card-popover__title"},1===t.length?E("console-shared~Top {{label}} consumers",{label:j.model.label.toLowerCase()}):E("console-shared~Top consumers")),t.length>1&&n.createElement(p.b,{className:"co-utilization-card-popover__dropdown",id:"consumer-select",name:"selectConsumerType","aria-label":E("console-shared~Select consumer type"),items:F,onChange:$,selectedKey:Object(v.Hb)(P)}),q)})),T=({children:e,value:t})=>n.createElement("li",{className:"co-utilization-card-popover__consumer-item"},e,n.createElement("div",{className:"co-utilization-card-popover__consumer-value"},t))},5738:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"d",(function(){return y})),a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return j}));var n=a(0),r=a(7),i=a(406),o=a(967),s=a(4377),l=a(5791),c=a(1409),u=a(52),d=a(5),m=a(108),p=a(5670),b=a(5734),v=a(517),g=a(5784);const h=({operatorStatus:e,isResolved:t,key:a,Component:r,LoadingComponent:i})=>{const o=r;return t?n.createElement(o,{key:a,operatorStatus:e}):n.createElement(d.c,{key:e.operators[0].metadata.uid,operatorStatus:e,loader:r,LoadingComponent:i})},f=({resources:e,operatorExtensions:t,dynamicOperatorSubsystems:a})=>{const{t:s}=Object(r.useTranslation)(),c=[...t.map((t,a)=>{const r=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop],t),{});return n.createElement(i.a,{key:t.title},n.createElement(l.a,{resources:r,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:h,Component:t.operatorRowLoader,isResolved:!1}))}),...a.map((t,a)=>{const r=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop],t),{});return n.createElement(i.a,{key:t.title},n.createElement(l.a,{resources:r,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:h,Component:t.operatorRowLoader,isResolved:!0}))})].reverse();return n.createElement(o.a,{hasGutter:!0},n.createElement(i.a,null,s("public~Operators create, configure, and manage applications by extending the Kubernetes API.")),c)},O=Object(p.a)(({resources:e,watchK8sResource:t,stopWatchK8sResource:a,operatorExtensions:i,dynamicOperatorSubsystems:o})=>{const{t:l}=Object(r.useTranslation)();n.useEffect(()=>(i.forEach((e,a)=>e.resources.forEach(e=>t(Object(b.a)(e,a)))),()=>{i.forEach((e,t)=>e.resources.forEach(e=>a(Object(b.a)(e,t))))}),[t,a,i]);const d=i.map((t,a)=>{const n=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop]||{},t),{});if(Object.keys(n).some(e=>n[e].loadError))return{health:u.a.NOT_AVAILABLE};if(Object.keys(n).some(e=>!n[e].loaded))return{health:u.a.LOADING};const r=t.getOperatorsWithStatuses(n);if(!r.length)return{health:u.a.OK};const i=Object(c.a)(r);return{health:i[0].status.health,count:i.length}}),m=Object(c.b)(d,l);return n.createElement(s.default,{title:l("public~Operators"),state:m.health,details:m.detailMessage,popupTitle:l("public~Operator status")},n.createElement(f,{resources:e,operatorExtensions:i,dynamicOperatorSubsystems:o}))}),y=Object(p.a)(({watchURL:e,stopWatchURL:t,urlResults:a,resources:r,watchK8sResource:i,stopWatchK8sResource:o,subsystem:l,models:c})=>{const u=l.additionalResource&&!!c.get(l.additionalResource.kind);n.useEffect(()=>(e(l.url,l.fetch?l.fetch:void 0),u&&i(l.additionalResource),()=>{t(l.url),u&&o(l.additionalResource)}),[e,t,i,o,l,u]);const m=a.getIn([l.url,"data"]),p=a.getIn([l.url,"loadError"]),b=l.additionalResource?r[l.additionalResource.prop]:null,v=l.healthHandler(m,p,b);return n.createElement(s.default,{title:l.title,state:v.state,details:v.message,popupTitle:l.popupTitle,popupBodyContent:l.popupComponent?e=>n.createElement(d.c,{loader:l.popupComponent,healthResult:m,healthResultError:p,k8sResult:b,hide:e}):void 0})}),E=Object(p.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,watchPrometheus:i,stopWatchPrometheusQuery:o,prometheusResults:l,subsystem:c,models:u})=>{const{t:m}=Object(r.useTranslation)(),{infrastructure:p}=n.useContext(g.a),b=c.additionalResource&&!!u.get(c.additionalResource.kind);n.useEffect(()=>(c.queries.forEach(e=>i(e)),b&&e(c.additionalResource),()=>{c.queries.forEach(e=>o(e)),b&&t(c.additionalResource)}),[e,t,i,o,c,b]);const h=n.useMemo(()=>c.queries.map(e=>{const[t,a]=Object(v.b)(l,e);return{response:t,error:a}}),[l,c.queries]),f=c.additionalResource?a[c.additionalResource.prop]:null,O=c.healthHandler(h,m,f,p);return n.createElement(s.default,{title:c.title,state:O.state,details:O.message,popupTitle:c.popupTitle,popupClassname:c.popupClassname,popupKeepOnOutsideClick:c.popupKeepOnOutsideClick,popupBodyContent:c.popupComponent?e=>n.createElement(d.c,{loader:c.popupComponent,responses:h,k8sResult:f,hide:e}):void 0})}),j=({subsystem:e,namespace:t})=>{const{t:a}=Object(r.useTranslation)(),{title:i,resources:o,healthHandler:l,popupComponent:c,popupTitle:u}=e,p=n.useMemo(()=>Object.assign(Object.assign({},o),o.imageManifestVuln&&{imageManifestVuln:Object.assign(Object.assign({},o.imageManifestVuln),{namespace:t})}),[o,t]),b=Object(m.b)(p),v=l(b,a);return n.createElement(s.default,{title:i,state:v.state,details:v.message,popupTitle:u},c&&b&&n.createElement(d.c,Object.assign({loader:c},b,{namespace:t})))}},5744:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c}));var n,r=a(550);!function(e){e.CPU_USAGE="CPU_USAGE",e.CPU_REQUESTS="CPU_REQUESTS",e.MEMORY_USAGE="MEMORY_USAGE",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.POD_COUNT="POD_COUNT",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_FILESYSTEM="PODS_BY_FILESYSTEM",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.FILESYSTEM_USAGE="FILESYSTEM_USAGE",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION"}(n||(n={}));const i={[n.CPU_USAGE]:r.a("namespace:container_cpu_usage:sum{namespace='<%= project %>'}"),[n.CPU_REQUESTS]:r.a('sum(kube_pod_resource_request{resource="cpu", namespace="<%= project %>"}) by (namespace)'),[n.MEMORY_USAGE]:r.a('sum(container_memory_working_set_bytes{namespace=\'<%= project %>\',container="",pod!=""}) BY (namespace)'),[n.MEMORY_REQUESTS]:r.a('sum(kube_pod_resource_request{resource="memory", namespace="<%= project %>"}) by (namespace)'),[n.POD_COUNT]:r.a("count(kube_running_pod_ready{namespace='<%= project %>'}) BY (namespace)"),[n.FILESYSTEM_USAGE]:r.a('sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (namespace)'),[n.NETWORK_IN_UTILIZATION]:r.a('sum(rate(container_network_receive_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)'),[n.NETWORK_OUT_UTILIZATION]:r.a('sum(rate(container_network_transmit_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)')},o={[n.PODS_BY_CPU]:r.a('topk(25, sort_desc(sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_MEMORY]:r.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_FILESYSTEM]:r.a('topk(25, sort_desc(sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (pod, namespace)))'),[n.PODS_BY_NETWORK_IN]:r.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))'),[n.PODS_BY_NETWORK_OUT]:r.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))')},s=e=>({[n.NETWORK_UTILIZATION]:[{query:i[n.NETWORK_IN_UTILIZATION]({project:e}),desc:"in"},{query:i[n.NETWORK_OUT_UTILIZATION]({project:e}),desc:"out"}]}),l=e=>({[n.CPU_USAGE]:i[n.CPU_USAGE]({project:e}),[n.CPU_REQUESTS]:i[n.CPU_REQUESTS]({project:e}),[n.MEMORY_USAGE]:i[n.MEMORY_USAGE]({project:e}),[n.MEMORY_REQUESTS]:i[n.MEMORY_REQUESTS]({project:e}),[n.POD_COUNT]:i[n.POD_COUNT]({project:e}),[n.FILESYSTEM_USAGE]:i[n.FILESYSTEM_USAGE]({project:e})}),c=e=>({[n.PODS_BY_CPU]:o[n.PODS_BY_CPU]({project:e}),[n.PODS_BY_MEMORY]:o[n.PODS_BY_MEMORY]({project:e}),[n.PODS_BY_FILESYSTEM]:o[n.PODS_BY_FILESYSTEM]({project:e}),[n.PODS_BY_NETWORK_IN]:o[n.PODS_BY_NETWORK_IN]({project:e}),[n.PODS_BY_NETWORK_OUT]:o[n.PODS_BY_NETWORK_OUT]({project:e})})},5745:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c}));var n,r=a(550);!function(e){e.MEMORY_TOTAL="MEMORY_TOTAL",e.MEMORY_UTILIZATION="MEMORY_UTILIZATION",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.CPU_UTILIZATION="CPU_UTILIZATION",e.CPU_TOTAL="CPU_TOTAL",e.CPU_REQUESTS="CPU_REQUESTS",e.STORAGE_UTILIZATION="STORAGE_UTILIZATION",e.STORAGE_TOTAL="STORAGE_TOTAL",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_STORAGE="PODS_BY_STORAGE",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.NODES_BY_CPU="NODES_BY_CPU",e.NODES_BY_MEMORY="NODES_BY_MEMORY",e.NODES_BY_STORAGE="NODES_BY_STORAGE",e.NODES_BY_NETWORK_IN="NODES_BY_NETWORK_IN",e.NODES_BY_NETWORK_OUT="NODES_BY_NETWORK_OUT",e.NODES_BY_PODS="NODES_BY_PODS",e.PROJECTS_BY_CPU="PROJECTS_BY_CPU",e.PROJECTS_BY_MEMORY="PROJECTS_BY_MEMORY",e.PROJECTS_BY_STORAGE="PROJECTS_BY_STORAGE",e.PROJECTS_BY_NETWORK_IN="PROJECTS_BY_NETWORK_IN",e.PROJECTS_BY_NETWORK_OUT="PROJECTS_BY_NETWORK_OUT",e.PROJECTS_BY_PODS="PROJECTS_BY_PODS",e.POD_UTILIZATION="POD_UTILIZATION"}(n||(n={}));const i={[n.PODS_BY_CPU]:r.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_MEMORY]:r.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_STORAGE]:r.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_NETWORK_IN]:r.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_NETWORK_OUT]:r.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.NODES_BY_CPU]:r.a('\n      topk(25, sort_desc(\n        avg_over_time(instance:node_cpu:rate:sum[5m])\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_MEMORY]:r.a('\n      topk(25, sort_desc(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_STORAGE]:r.a('\n      topk(25, sort_desc(\n        (\n          sum by (instance) (max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"}))\n          -\n          sum by (instance) (max by (device, instance) (node_filesystem_avail_bytes{device=~"/.*"}))\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_PODS]:r.a('\n      topk(25, sort_desc(\n        sum(avg_over_time(kubelet_running_pods[5m])) BY (node)\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.NODES_BY_NETWORK_IN]:r.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_receive_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_NETWORK_OUT]:r.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_transmit_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.PROJECTS_BY_CPU]:r.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_MEMORY]:r.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_STORAGE]:r.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_PODS]:r.a('\n      topk(25, sort_desc(\n        count by (namespace) (\n            topk without(uid) (1, kube_running_pod_ready)\n            *\n            ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n          *\n          on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"})))\n        ))\n    '),[n.PROJECTS_BY_NETWORK_IN]:r.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_NETWORK_OUT]:r.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    ')},o={[n.MEMORY_TOTAL]:r.a('\n      sum(\n        node_memory_MemTotal_bytes\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.MEMORY_UTILIZATION]:r.a('\n      sum(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.MEMORY_REQUESTS]:r.a('\n      sum(\n        kube_pod_resource_request{resource="memory"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.NETWORK_UTILIZATION]:r.a('\n      sum(\n        (\n          instance:node_network_transmit_bytes_excluding_lo:rate1m\n          +\n          instance:node_network_receive_bytes_excluding_lo:rate1m\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.CPU_UTILIZATION]:r.a('\n      sum(\n        1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~"idle|iowait|steal"}[2m]))\n        *\n        on(instance) group_left() (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node","(.*)")\n        )\n      )\n    '),[n.CPU_TOTAL]:r.a('\n      sum(\n        kube_node_status_capacity{resource="cpu",unit="core"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.CPU_REQUESTS]:r.a('\n      sum(\n        kube_pod_resource_request{resource="cpu"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.STORAGE_UTILIZATION]:r.a('\n      sum(\n        (\n          max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n          -\n          max by (device, instance) (node_filesystem_free_bytes{device=~"/.*"})\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.STORAGE_TOTAL]:r.a('\n      sum(\n        max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.POD_UTILIZATION]:r.a('\n      count(\n        (\n          topk without(uid) (1, kube_running_pod_ready)\n          *\n          ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n        )\n        *\n        on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      )\n    '),[n.NETWORK_IN_UTILIZATION]:r.a('\n      sum(\n        instance:node_network_receive_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.NETWORK_OUT_UTILIZATION]:r.a('\n      sum(\n        instance:node_network_transmit_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    ')},s=e=>({[n.NETWORK_UTILIZATION]:[{query:o[n.NETWORK_IN_UTILIZATION]({nodeType:e}),desc:"in"},{query:o[n.NETWORK_OUT_UTILIZATION]({nodeType:e}),desc:"out"}]}),l=e=>({[n.PODS_BY_CPU]:i[n.PODS_BY_CPU]({nodeType:e}),[n.PODS_BY_MEMORY]:i[n.PODS_BY_MEMORY]({nodeType:e}),[n.PODS_BY_STORAGE]:i[n.PODS_BY_STORAGE]({nodeType:e}),[n.PODS_BY_NETWORK_IN]:i[n.PODS_BY_NETWORK_IN]({nodeType:e}),[n.PODS_BY_NETWORK_OUT]:i[n.PODS_BY_NETWORK_OUT]({nodeType:e}),[n.NODES_BY_CPU]:i[n.NODES_BY_CPU]({nodeType:e}),[n.NODES_BY_MEMORY]:i[n.NODES_BY_MEMORY]({nodeType:e}),[n.NODES_BY_STORAGE]:i[n.NODES_BY_STORAGE]({nodeType:e}),[n.NODES_BY_PODS]:i[n.NODES_BY_PODS]({nodeType:e}),[n.NODES_BY_NETWORK_IN]:i[n.NODES_BY_NETWORK_IN]({nodeType:e}),[n.NODES_BY_NETWORK_OUT]:i[n.NODES_BY_NETWORK_OUT]({nodeType:e}),[n.PROJECTS_BY_CPU]:i[n.PROJECTS_BY_CPU]({nodeType:e}),[n.PROJECTS_BY_MEMORY]:i[n.PROJECTS_BY_MEMORY]({nodeType:e}),[n.PROJECTS_BY_STORAGE]:i[n.PROJECTS_BY_STORAGE]({nodeType:e}),[n.PROJECTS_BY_PODS]:i[n.PROJECTS_BY_PODS]({nodeType:e}),[n.PROJECTS_BY_NETWORK_IN]:i[n.PROJECTS_BY_NETWORK_IN]({nodeType:e}),[n.PROJECTS_BY_NETWORK_OUT]:i[n.PROJECTS_BY_NETWORK_OUT]({nodeType:e})}),c=e=>({[n.CPU_UTILIZATION]:{utilization:o[n.CPU_UTILIZATION]({nodeType:e}),total:o[n.CPU_TOTAL]({nodeType:e}),requests:o[n.CPU_REQUESTS]({nodeType:e})},[n.MEMORY_UTILIZATION]:{utilization:o[n.MEMORY_UTILIZATION]({nodeType:e}),total:o[n.MEMORY_TOTAL]({nodeType:e}),requests:o[n.MEMORY_REQUESTS]({nodeType:e})},[n.STORAGE_UTILIZATION]:{utilization:o[n.STORAGE_UTILIZATION]({nodeType:e}),total:o[n.STORAGE_TOTAL]({nodeType:e})},[n.POD_UTILIZATION]:{utilization:o[n.POD_UTILIZATION]({nodeType:e})}})},5746:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(5807),o=a(5674);a(5712);t.a=({resourceQuota:e})=>{var t,a;const{t:s}=Object(r.useTranslation)(),l=Object.keys(null!==(a=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==a?a:{}).map(t=>{var a;const r=e.status.hard[t],s=null===(a=e.status.used)||void 0===a?void 0:a[t],{label:l,percent:c}=Object(o.a)({resourceName:t,used:s,hard:r});return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(i.b,{data:{x:c+"%",y:c},thresholds:[{value:90},{value:101}],title:t,label:l}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},l.length?l:n.createElement(n.Fragment,null,s("console-app~No quota")))}},5747:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(5748),o=a(5674);a(5712);t.a=({appliedClusterResourceQuota:e,namespace:t})=>{var a,s,l,c;const{t:u}=Object(r.useTranslation)(),d=null===(s=null===(a=e.status)||void 0===a?void 0:a.namespaces)||void 0===s?void 0:s.find(e=>e.namespace===t),m=Object.keys(null!==(c=null===(l=null==d?void 0:d.status)||void 0===l?void 0:l.hard)&&void 0!==c?c:{}).map(t=>{var a,r,s,l,c;const u=null===(r=null===(a=e.status.total)||void 0===a?void 0:a.hard)||void 0===r?void 0:r[t],m=null===(l=null===(s=e.status.total)||void 0===s?void 0:s.used)||void 0===l?void 0:l[t],p=null===(c=d.status.used)||void 0===c?void 0:c[t],b=Object(o.b)(u,m),v=100-b,{label:g,percent:h}=Object(o.a)({resourceName:t,used:p,hard:u}),f=b-h;return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(i.a,{data:[{x:"Namespace",y:h},{x:"Other namespaces",y:f},{x:"Unused",y:v}],title:t,label:g}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},m.length?m:n.createElement(n.Fragment,null,u("console-app~No quota")))}},5748:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),r=a(2232),i=a(6044),o=a(6045),s=a(6046),l=a(6047),c=a(6048),u=a(18),d=a.n(u),m=a(7),p=a(1943),b=a(5);const v=({data:e,query:t="",title:a,ariaChartLinkLabel:u,ariaChartTitle:v,ariaDescription:g,usedLabel:h,label:f,secondaryTitle:O,className:y})=>{var E;const{t:j}=Object(m.useTranslation)(),[k,T]=Object(b.Ic)(),S=h||j("public~used"),_=O||S,R=f||j("No data"),P=e.filter(e=>"Namespace"===e.x);return n.createElement(p.a,{className:d()("graph-wrapper--title-center graph-wrapper--gauge",y),ref:k,title:a},n.createElement(p.b,{query:t,ariaChartLinkLabel:u},n.createElement(r.a,{ariaTitle:v||a,ariaDesc:g,data:e,height:T,padding:0,labels:({datum:{x:e,y:t}})=>j("public~{{x}}: {{y}}%",{x:e,y:t}),width:T,subTitle:_,colorScale:100===(null===(E=P[0])||void 0===E?void 0:E.y)?[i.a.value,o.a.value,s.a.value]:[l.a.value,c.a.value,s.a.value],title:R})))}},5749:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(5674),o=a(119);a(5869);t.a=({hard:e,used:t})=>{const{t:a}=Object(r.useTranslation)(),s=Object.keys(e||{}).reduce((a,n)=>Object(i.b)(e[n],null==t?void 0:t[n])>=100?a+1:a,0);return n.createElement("div",{className:"co-resource-quota__summary"},a("console-shared~{{count}} resource",{count:Object.keys(e||{}).length}),", ",s>0?n.createElement(n.Fragment,null,n.createElement(o.m,null)," ",a("console-shared~{{count}} resource reached quota",{count:s})):a("console-shared~none are at quota"))}},5760:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return b}));var n=a(7134),r=a(2328),i=a(7116),o=a(50),s=a(10),l=a(8),c=a(1415),u=a(5586),d=a(5687);const m=e=>n.a(e,e=>r.a(e)||i.a(e)||""===e),p=(e,t,a,n)=>{const r=`${t}-${Object(c.d)(6)}`,i={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:r,namespace:a},spec:Object.assign({type:t,params:Object(d.a)(m(e))},n&&{secrets:o.a(n.data,(e,t)=>({fieldName:t,secretKey:t,secretName:n.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,i)},b=(e,t,a)=>{const n={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:a},stringData:m(e)};return Object(l.jb)(s.SecretModel,n)}},5781:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return O}));var n=a(0),r=a(4436),i=a(655),o=a(313),s=a(367),l=a(50),c=a(599),u=a(5797),d=a(5804),m=a(7),p=a(99),b=a(693),v=a(139);const g=(e,t)=>`${e}:${t}`,h=({tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:i})=>{const o=r.a(e.dockerImageReference,"@");return n.createElement(n.Fragment,null,n.createElement("li",null,n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},n.createElement(u.a,null)),n.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},n.createElement(b.Timestamp,{timestamp:e.created,simple:!0}))),n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__line"}),n.createElement("div",{className:"co-images-stream-tag-timeline__info"},n.createElement(p.ResourceLink,{kind:"ImageStreamTag",name:g(t,e.tag),namespace:a,title:e.tag,linkTo:i}),n.createElement("div",{className:"co-break-all"},"from ",o[0]),n.createElement("div",{className:"co-break-all"},o[1])))))},f=(e,t,a)=>t===i.a(a,t=>t.tag===e),O=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:a})=>{const{t:r}=Object(m.useTranslation)();if(!o.a(e,"items"))return n.createElement(v.c,{label:r("public~Images")});const i=s.a(l.a(e,({tag:e,items:t})=>l.a(t,({created:t,dockerImageReference:a})=>({tag:e,created:t,dockerImageReference:a})))),u=c.a(i,["created"],["desc"]),p=l.a(u,(e,r)=>n.createElement(h,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:f(e.tag,r,u)}));return n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-images-stream-tag-timeline"},p,n.createElement("div",null,n.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},n.createElement(d.a,null)))))}},5784:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);const r=n.createContext({infrastructureLoaded:!0,infrastructureError:null})},5786:function(e,t,a){"use strict";var n,r;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),function(e){e.PENDING="Pending",e.RUNNING="Running",e.SUCCEEDED="Succeeded",e.FAILED="Failed",e.UNKNOWN="Unknown"}(n||(n={})),function(e){e.BUILDAH="buildah",e.S2I="source-to-image",e.UNKNOWN="unknown"}(r||(r={}));const i={[r.BUILDAH]:"shipwright-plugin~Buildah",[r.S2I]:"shipwright-plugin~Source-to-Image",[r.UNKNOWN]:"shipwright-plugin~Unknown"}},5790:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(5724);const r=(e,t)=>{switch(e){case n.a.ReadinessProbe:return{formTitle:t("devconsole~Readiness probe"),formSubtitle:t("devconsole~A readiness probe checks if the Container is ready to handle requests. A failed readiness probe means that a Container should not receive any traffic from a proxy, even if it's running.")};case n.a.LivenessProbe:return{formTitle:t("devconsole~Liveness probe"),formSubtitle:t("devconsole~A liveness probe checks if the Container is still running. If the liveness probe fails the Container is killed.")};case n.a.StartupProbe:return{formTitle:t("devconsole~Startup probe"),formSubtitle:t("devconsole~A startup probe checks if the application within the Container is started. If the startup probe fails the Container is killed.")};default:return}},i={showForm:!1,enabled:!1,modified:!1,data:{failureThreshold:"3",requestType:n.b.HTTPGET,httpGet:{scheme:void 0,path:"/",port:"8080",httpHeaders:[]},tcpSocket:{port:"8080"},exec:{command:[""]},initialDelaySeconds:"0",periodSeconds:"10",timeoutSeconds:"1",successThreshold:"1"}},o={readinessProbe:i,livenessProbe:i,startupProbe:i}},5791:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(363),i=a(7),o=a(14),s=a(1409),l=a(52),c=a(2229);a(5792);const u=({resources:e,getOperatorsWithStatuses:t,title:a,linkTo:u,Row:d,Component:m,isResolved:p})=>{const{t:b}=Object(i.useTranslation)(),v=r.a(e).some(e=>e.loadError),g=t(e),h=Object(s.a)(g).sort((e,t)=>e.operators[0].metadata.name.localeCompare(t.operators[0].metadata.name)),f=h.every(e=>e.status.health===l.a.OK),O=n.useCallback(()=>n.createElement("div",{className:"co-status__operator-skeleton"}),[]);return g.length?n.createElement(c.StatusPopupSection,{firstColumn:n.createElement(n.Fragment,null,n.createElement("span",null,a),n.createElement("span",{className:"text-secondary co-status__operator-detail"}," ",b("console-shared~({{operatorStatusLength}} installed)",{operatorStatusLength:g.length}))),secondColumn:b("console-shared~Status")},v?n.createElement("div",{className:"text-secondary"},b("console-shared~Not available")):!f&&h.map(e=>n.createElement(d,{key:e.operators[0].metadata.uid,Component:m,operatorStatus:e,LoadingComponent:O,isResolved:p})),n.createElement(c.default,{value:b("console-shared~All {{status}}",{status:g[0].status.title.toLowerCase()}),icon:g[0].status.icon},n.createElement(o.Link,{to:u},b("console-shared~View all")))):null}},5792:function(e,t,a){},5793:function(e,t,a){"use strict";a.d(t,"a",(function(){return R})),a.d(t,"b",(function(){return P}));var n=a(0),r=a(22),i=a(31),o=a(14),s=a(7),l=a(69),c=a(13),u=a(192),d=a(434),m=a(295),p=a(5387),b=a(5388),v=a(15),g=a(4375),h=a(4364),f=a(4376),O=a(58),y=a(8),E=a(10),j=a(5738),k=a(108),T=a(206),S=a(1417);const _={kind:Object(y.Hb)(E.ClusterVersionModel),namespaced:!1,name:"version",isList:!1},R=({labelSelector:e})=>{const{t:t}=Object(s.useTranslation)(),a=Object(T.a)(v.O.CLUSTER_VERSION),[i,,l]=Object(S.a)(e),[c,u]=Object(k.a)(a?_:{}),d=Object(v.we)()&&a&&u&&Object(y.db)(c)&&!e;return n.createElement(g.default,{error:!r.a(l)},d&&n.createElement(f.StatusItem,{key:"clusterUpdate",Icon:v.n,message:t("public~A cluster version update is available")},n.createElement(o.Link,{to:"/settings/cluster?showVersions"},t("public~Update cluster"))),i.map(e=>n.createElement(f.default,{key:Object(O.h)(e,e.rule.id),alert:e})))},P=Object(i.connect)(e=>({k8sModels:e.k8s.getIn(["RESOURCES","models"])}))(({k8sModels:e})=>{const t=Object(l.z)(l.f),[a]=Object(c.kc)(c.gb),r=n.useMemo(()=>((e,t)=>e.filter(e=>{if(Object(l.g)(e)||Object(l.d)(e)||Object(c.hb)(e)||Object(c.fb)(e)){const a=e;return!(a.properties.additionalResource&&!a.properties.additionalResource.optional)||!!t.get(a.properties.additionalResource.kind)}return!0}))([...t,...a],e).map(e=>{if(Object(c.Kb)(e)||Object(c.Ib)(e)||Object(c.Jb)(e)){const t=e.properties.popupComponent?{popupComponent:()=>Promise.resolve(e.properties.popupComponent)}:{};return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),t)})}return e}),[t,a,e]),i=n.useMemo(()=>r.findIndex(e=>Object(l.c)(e)||Object(c.Hb)(e)),[r]),{t:v}=Object(s.useTranslation)(),g=[];if(r.forEach(t=>{if(Object(l.g)(t)||Object(c.Kb)(t))g.push({title:t.properties.title,Component:n.createElement(j.d,{subsystem:t.properties,models:e})});else if(Object(l.d)(t)||Object(c.Ib)(t)){const{disallowedControlPlaneTopology:a}=t.properties;if((null==a?void 0:a.length)&&a.includes(window.SERVER_FLAGS.controlPlaneTopology))return;g.push({title:t.properties.title,Component:n.createElement(j.b,{subsystem:t.properties,models:e})})}else(Object(l.e)(t)||Object(c.Jb)(t))&&g.push({title:t.properties.title,Component:n.createElement(j.c,{subsystem:t.properties})})}),-1!==i){const e=[],t=[];r.forEach(a=>{Object(c.Hb)(a)?t.push(a.properties):Object(l.c)(a)&&e.push(a.properties)}),g.splice(i,0,{title:"Operators",Component:n.createElement(j.a,{operatorExtensions:e,dynamicOperatorSubsystems:t})})}return n.createElement(u.a,{"data-test-id":"status-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(d.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(o.Link,{to:"/monitoring/alerts","data-test":"status-card-view-alerts"},v("public~View alerts"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(m.a,null,v("public~Status"))),n.createElement(h.default,null,n.createElement(p.a,{className:"co-overview-status__health",hasGutter:!0},g.map(e=>n.createElement(b.a,{key:e.title,"data-test":e.title},e.Component)))),n.createElement(R,null))})},5805:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(19),i=a(7),o=a(15),s=a(984),l=a(5851),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const u=({openProjectModal:e})=>{const{t:t}=Object(i.useTranslation)(),a=Object(o.Fe)(o.O.CAN_CREATE_NS);return Object(o.Fe)(o.O.CAN_CREATE_PROJECT)?n.createElement(i.Trans,{t:t,ns:"devconsole"}," or ",n.createElement(r.a,{isInline:!0,variant:"link",onClick:e},"create a Project")):a?n.createElement(i.Trans,{t:t,ns:"devconsole"}," or ",n.createElement(r.a,{isInline:!0,variant:"link",onClick:e},"create a Namespace")):null};t.b=e=>{var{onCreate:t,title:a,children:r}=e,i=c(e,["onCreate","title","children"]);const[,u]=Object(o.ue)(),d=Object(s.a)(),m=n.useCallback(()=>{d({onSubmit:e=>{var a;u(null===(a=e.metadata)||void 0===a?void 0:a.name),t&&t(e)}})},[t,u,d]);return n.createElement(l.a,Object.assign({},i,{title:a}),r(m))}},5806:function(e,t,a){"use strict";a.d(t,"b",(function(){return I})),a.d(t,"a",(function(){return x})),a.d(t,"c",(function(){return D}));var n=a(0),r=a(22),i=a(7),o=a(205),s=a(165),l=a(682),c=a(354),u=a(294),d=a(192),m=a(434),p=a(516),b=a(164),v=a(295),g=a(13),h=a(4382),f=a(4365),O=a(762),y=a(5670),E=a(982),j=a(1406),k=a(5745),T=a(10),S=a(517),_=a(108),R=a(8),P=a(4366),N=a(1200),C=a(5856);const w=[C.d,C.e],I=Object(y.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:a,utilizationQuery:r,totalQuery:i,title:o,TopConsumerPopover:s,humanizeValue:l,byteDataType:c,namespace:u,isDisabled:d=!1,limitQuery:m,requestQuery:p,setLimitReqState:b})=>{let v,g,f,O,y,E,k,T,_,R=!1;const{duration:P}=Object(N.useUtilizationDuration)();return n.useEffect(()=>{if(!d)return e(r,u,P),i&&e(i,u),m&&e(m,u,P),p&&e(p,u,P),()=>{t(r,P),i&&t(i),m&&t(m,P),p&&t(p,P)}},[e,t,P,r,i,u,d,m,p]),d||([v,g]=Object(S.b)(a,r,P),[f,O]=Object(S.b)(a,i),[E,k]=Object(S.b)(a,m,P),[T,_]=Object(S.b)(a,p,P),y=Object(j.a)(f),R=!v||i&&!f||m&&!E),n.createElement(h.default,{title:o,utilization:v,limit:E,requested:T,error:g||O||k||_,isLoading:R,humanizeValue:l,byteDataType:c,query:[r,m,p],max:y&&y.length?y[0].y:null,TopConsumerPopover:s,setLimitReqState:b})}),x=Object(y.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:a,queries:r,title:i,TopConsumerPopovers:o,humanizeValue:s,byteDataType:l,namespace:c,isDisabled:u=!1})=>{const{duration:d}=Object(N.useUtilizationDuration)();n.useEffect(()=>{if(!u)return r.forEach(t=>e(t.query,c,d)),()=>{r.forEach(e=>t(e.query,d))}},[e,t,d,r,c,u]);const m=[];let p=!1,b=!1;return u||r.forEach(e=>{var t;const[n,r]=Object(S.b)(a,e.query,d);return r?(p=!0,!1):n?void m.push((null===(t=Object(j.b)(n,e.desc,null,h.trimSecondsXMutator))||void 0===t?void 0:t[0])||[]):(b=!0,!1)}),n.createElement(h.MultilineUtilizationItem,{title:i,data:m,error:p,isLoading:b,humanizeValue:s,byteDataType:l,queries:r,TopConsumerPopovers:o})}),A=({machineConfigPools:e,onNodeSelect:t,selectedNodes:a})=>{const{t:r}=Object(i.useTranslation)(),[d,m]=n.useState(!1),p=e.sort((e,t)=>{const a=["worker","master"],n=a.indexOf(e.metadata.name),r=a.indexOf(t.metadata.name);return-1===n&&-1===r?e.metadata.name.localeCompare(t.metadata.name):-1===n?1:-1===r?-1:n-r}).map(e=>{const t="master"===e.metadata.name?"control plane":e.metadata.name;return n.createElement(o.a,{hasCheckbox:!0,key:e.metadata.name,value:t,isSelected:a.includes(e.metadata.name)},t)});return n.createElement(c.a,{role:"menu","aria-label":r("public~Filter by Node type"),onSelect:t,isOpen:d,selected:a,onOpenChange:e=>m(e),toggle:e=>n.createElement(s.a,{ref:e,onClick:e=>m(e),variant:"plainText"},r("public~Filter by Node type"),a.length>0&&n.createElement(l.a,{className:"pf-v5-u-ml-sm",isRead:!0},a.length))},n.createElement(u.a,null,p))},D=()=>{const{t:e}=Object(i.useTranslation)(),[t,a]=Object(_.a)({isList:!0,kind:Object(R.Hb)(T.MachineConfigPoolModel)}),[o,s]=n.useState([]),[l]=Object(g.kc)(g.Y),[c]=Object(g.kc)(g.X),u=r.a(o)?".+":o.join("|"),[h,y]=n.useMemo(()=>[Object(k.d)(u),Object(k.b)(u)],[u]);return a&&n.createElement(d.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},n.createElement(m.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(p.a,null,n.createElement(b.a,null,n.createElement(A,{machineConfigPools:t,onNodeSelect:(e,t)=>{const a="control plane"===t?"master":t;o.includes(a)?s(o.filter(e=>e!==a)):s([...o,a])},selectedNodes:o})),n.createElement(b.a,null,n.createElement(P.UtilizationDurationDropdown,null)))),hasNoOffset:!1,className:void 0}},n.createElement(v.a,{"data-test":"utilization-card__title"},e("public~Cluster utilization"))),n.createElement(f.default,null,n.createElement(C.b.Provider,{value:u},n.createElement(I,{title:e("public~CPU"),utilizationQuery:h[k.a.CPU_UTILIZATION].utilization,totalQuery:h[k.a.CPU_UTILIZATION].total,requestQuery:h[k.a.CPU_UTILIZATION].requests,TopConsumerPopover:C.a,humanizeValue:E.h}),n.createElement(I,{title:e("public~Memory"),utilizationQuery:h[k.a.MEMORY_UTILIZATION].utilization,totalQuery:h[k.a.MEMORY_UTILIZATION].total,requestQuery:h[k.a.MEMORY_UTILIZATION].requests,TopConsumerPopover:C.c,humanizeValue:E.f,byteDataType:O.a.BinaryBytes}),n.createElement(I,{title:e("public~Filesystem"),utilizationQuery:h[k.a.STORAGE_UTILIZATION].utilization,totalQuery:h[k.a.STORAGE_UTILIZATION].total,TopConsumerPopover:C.g,humanizeValue:E.f,byteDataType:O.a.BinaryBytes}),n.createElement(x,{title:e("public~Network transfer"),queries:y[k.a.NETWORK_UTILIZATION],humanizeValue:E.j,TopConsumerPopovers:w}),n.createElement(I,{title:e("public~Pod count"),utilizationQuery:h[k.a.POD_UTILIZATION].utilization,TopConsumerPopover:C.f,humanizeValue:E.k}),l.map(({uid:e,properties:t})=>{var a,r,i;return n.createElement(I,{key:e,title:t.title,utilizationQuery:t.getUtilizationQuery(o),totalQuery:null===(a=t.getTotalQuery)||void 0===a?void 0:a.call(t,o),humanizeValue:t.humanize,TopConsumerPopover:t.TopConsumerPopover,requestQuery:null===(r=t.getRequestQuery)||void 0===r?void 0:r.call(t,o),limitQuery:null===(i=t.getLimitQuery)||void 0===i?void 0:i.call(t,o)})}),c.map(({uid:e,properties:t})=>n.createElement(x,{key:e,title:t.title,queries:t.getUtilizationQueries(o),humanizeValue:t.humanize,TopConsumerPopovers:t.TopConsumerPopovers})))))}},5807:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return h}));var n=a(0),r=a(515),i=a(6028),o=a(6029),s=a(18),l=a.n(s),c=a(7),u=a(1943),d=a(1197),m=a(436),p=a(5),b=a(1406);const v=[{value:67},{value:92}],g=({data:e,error:t,humanize:a=p.ec,invert:s=!1,loading:d,query:m="",remainderLabel:b,themeColor:g=r.a.green,thresholds:h=v,title:f,ariaChartLinkLabel:O,ariaChartTitle:y,usedLabel:E,label:j,secondaryTitle:k,className:T})=>{const{t:S}=Object(c.useTranslation)(),[_,R]=Object(p.Ic)(),P=!t&&!d,N=d?S("Loading"):t,C=E||S("public~used"),w=k||C,I=j||(e?a(e.y).string:void 0)||S("No data");return n.createElement(u.a,{className:l()("graph-wrapper--title-center graph-wrapper--gauge",T),ref:_,title:f},n.createElement(u.b,{query:m,ariaChartLinkLabel:O},n.createElement(i.a,{ariaTitle:y||f,data:h,height:R,padding:0,width:R,y:"value"},n.createElement(o.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${C}`:`${t} ${b||S("available")}`,data:P?e:{y:0},invert:s,padding:0,subTitle:P?w:"",themeColor:g,thresholds:h,title:N||I}))))},h=({humanize:e=p.ec,invert:t,namespace:a,percent:r=0,query:i,remainderLabel:o,secondaryTitle:s,thresholds:l,title:u,usedLabel:v})=>{const{t:h}=Object(c.useTranslation)(),[f,O,y]=Object(d.usePrometheusPoll)({endpoint:m.a.QUERY,namespace:a,query:i}),[E]=f?Object(b.a)(f,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(r).string,y:r}];return n.createElement(g,{data:E,error:!!O&&h("No data"),invert:t,label:E.x,loading:y,query:i,remainderLabel:o,secondaryTitle:s,thresholds:l,title:u,usedLabel:v})}},5828:function(e,t,a){},5837:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(8),r=a(5586),i=a(5588),o=a(5760),s=a(5725),l=a(5687),c=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:a}=e,n=a.reduce((e,t,a)=>t.selection===s.a?Object.assign(Object.assign({},e),{[a]:t}):e,{}),r=yield Promise.all(Object.values(n).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:a,secrets:n,type:r}}=e;return n?Object(o.b)(n,r,t).then(e=>Object(o.a)(a,r,t,e)):Object(o.a)(a,r,t)})))(e,t)));if(!r||0===r.length)return e;const i=Object.keys(n);return Object.assign(Object.assign({},e),{resources:a.map((e,t)=>{if(n[t]){const a=i.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:r[a].metadata.name})}return e})})})),d=(e,t,a,o)=>c(void 0,void 0,void 0,(function*(){let s=e;s=yield u(s),s=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==i.x.NoWorkspace)}):e})(s);const c=yield Object(n.jb)(r.PipelineRunModel,Object(l.e)(t,s,a,o));return Promise.resolve(c)}))},5838:function(e,t,a){"use strict";a.d(t,"b",(function(){return R})),a.d(t,"a",(function(){return P}));var n=a(0),r=a(137),i=a(116),o=a(16),s=a(22),l=a(240),c=a(7),u=a(13),d=a(694),m=a(4374),p=a(108),b=a(10),v=a(8),g=a(5853),h=a(5854),f=a(5855),O=a(5858),y=a(5859),E=a(5658),j=a(5860),k=a(5864);const T=[{Card:h.a},{Card:f.a},{Card:k.a}],S=[{Card:g.a},{Card:O.a}],_=[{Card:y.a}],R=(e,t)=>i.a(t,t=>{if("NamespaceDashboard"!==t.spec.location)return!1;const a=o.a(t,"spec.namespaceDashboard.namespaces"),n=o.a(t,"spec.namespaceDashboard.namespaceSelector");return!(!s.a(a)||!s.a(n))||(!!l.a(a,e.metadata.name)||!s.a(n)&&new v.e(n).matches(e))}),P=({obj:e})=>{const{t:t}=Object(c.useTranslation)(),[a]=Object(u.jc)(),[i]=Object(p.a)({isList:!0,kind:Object(v.Hb)(b.ConsoleLinkModel),optional:!0}),o=R(e,i),s={obj:e,namespaceLinks:o},l=!!o.length,g=n.useMemo(()=>l?[{Card:j.a},..._]:_,[l]);return n.createElement(n.Fragment,null,"dev"===a&&n.createElement(r.b,null,n.createElement("title",null,t("public~Project overview"))),n.createElement(E.a.Provider,{value:s},n.createElement(d.default,null,n.createElement(m.default,{mainCards:T,leftCards:S,rightCards:g}))))}},5842:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);const r=n.createContext(void 0)},5849:function(e,t,a){"use strict";a.d(t,"f",(function(){return U})),a.d(t,"c",(function(){return L})),a.d(t,"a",(function(){return M})),a.d(t,"d",(function(){return B})),a.d(t,"b",(function(){return K})),a.d(t,"e",(function(){return q})),a.d(t,"h",(function(){return G})),a.d(t,"g",(function(){return W}));var n=a(5596),r=a(599),i=a(22),o=a(117),s=a(225),l=a(16),c=a(313),u=a(5591),d=a(974),m=a(4359),p=a(5),b=a(10),v=a(8),g=a(1402),h=a(5898),f=a(5620),O=a(5850),y=a(5588),E=a(5909),j=a(5944),k=a(5653),T=a(5623),S=a(197),_=a(1941),R=a(5731),P=a(5729),N=a(2221),C=a(761),w=a(5711),I=a(5910),x=a(5723),A=a(5599),D=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const U=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},L=e=>{const t={metadata:{name:e.name},displayName:e.displayName,description:e.description};return Object(v.jb)(b.ProjectRequestModel,t)},M=(e,t,a,n,o="create",s="")=>{var l,c,u,d;const{name:m,project:{name:p},application:{name:g},labels:h,image:{tag:f},labels:O}=e,y="app.kubernetes.io/name",E=null===(l=e.git)||void 0===l?void 0:l.url,j=null===(c=e.git)||void 0===c?void 0:c.ref,k=null===(d=null===(u=null==n?void 0:n.imageStream)||void 0===u?void 0:u.data)||void 0===d?void 0:d.filter(e=>{var t,a;return(null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[y])===(O[y]||m)}),T=r.a(k,["metadata.resourceVersion"],["desc"]),S=T.length&&T[0]||{},_=t&&t.metadata.name,R=Object(w.a)({name:m,applicationName:g,imageStreamName:_,selectedTag:f}),P=Object.assign(Object.assign({},E&&Object(w.c)(E,j)),Object(w.b)()),N="update"!==o||i.a(S)?m:S.metadata.labels[y],C={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:s||N,namespace:p,labels:Object.assign(Object.assign(Object.assign({},R),h),{[y]:N}),annotations:P}},x=Object(w.h)(S,C);return"update"===o&&(x.metadata.name=S.metadata.name),"update"===o?Object(v.rb)(b.ImageStreamModel,x):Object(v.jb)(b.ImageStreamModel,C,a?I.c:{})},B=(e,t,a,n)=>{const{name:r,application:{name:i},project:{name:o},image:{tag:s},labels:l}=e,c=t&&t.metadata.name,u=Object(w.a)({name:r,applicationName:i,imageStreamName:c,selectedTag:s}),d={apiVersion:"v1",data:{},kind:"Secret",metadata:{name:`${r}-${a}-webhook-secret`,namespace:o,labels:Object.assign(Object.assign({},u),l)},stringData:{WebHookSecretKey:U()},type:m.SecretType.opaque};return Object(v.jb)(b.SecretModel,d,n?I.c:{})},F=(e,t,a,n,r="create",o="")=>{var s,l,c;const{name:d,project:{name:m},application:{name:p},git:{url:g,type:h,ref:f="master",dir:O,secret:y},docker:{dockerfilePath:E},image:{tag:j,imageEnv:k},build:{env:T,triggers:S,strategy:_},labels:R}=e,P=t&&t.metadata.name,N=t&&t.metadata.namespace,C=Object(w.a)({name:d,applicationName:p,imageStreamName:P,selectedTag:j}),x=Object.assign(Object.assign({},Object(w.c)(g,f)),Object(w.b)());let D,U=O;const L=k?Object.keys(k):[],M=L.filter(e=>!!k[e]).map(e=>({name:e,value:k[e]})),B=T.filter(e=>!L.includes(e.name));switch(_){case"Devfile":D=(null===(s=null==n?void 0:n.spec)||void 0===s?void 0:s.strategy)||{dockerStrategy:{env:T,dockerfilePath:E}},U=(null===(c=null===(l=null==n?void 0:n.spec)||void 0===l?void 0:l.source)||void 0===c?void 0:c.contextDir)||O;break;case"Docker":D={dockerStrategy:{env:T,dockerfilePath:E}};break;default:D={sourceStrategy:{env:[...M,...B],from:{kind:"ImageStreamTag",name:`${P}:${j}`,namespace:N}}}}const F={type:A.c[h],[h]:{secretReference:{name:`${d}-${h}-webhook-secret`}}},$=[u.b.UNSURE,u.b.GITEA],K="update"!==r||i.a(n)?d:n.metadata.labels["app.kubernetes.io/name"],q={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:o||K,namespace:m,labels:Object.assign(Object.assign(Object.assign({},C),R),{"app.kubernetes.io/name":K}),annotations:x},spec:{output:{to:{kind:"ImageStreamTag",name:(o||K)+":latest"}},source:Object.assign({contextDir:U,git:{uri:g,ref:f}},y?{sourceSecret:{name:y}}:{}),strategy:Object.assign({type:_},D),triggers:[{type:"Generic",generic:{secretReference:{name:d+"-generic-webhook-secret"}}},...S.webhook&&!$.includes(h)?[F]:[],...S.image?[{type:"ImageChange",imageChange:{}}]:[],...S.config?[{type:"ConfigChange"}]:[]]}},G=Object(w.h)(n,q);return"update"===r&&(G.metadata.name=n.metadata.name),"update"===r?Object(v.rb)(b.BuildConfigModel,G):Object(v.jb)(b.BuildConfigModel,q,a?I.c:{})},$=(e,t,a,n,r="create")=>{var i;const{name:o,project:{name:s},application:{name:l},image:{ports:c,tag:u},deployment:{env:d,replicas:m,triggers:{image:p}},labels:g,limits:{cpu:h,memory:f},git:{url:O,ref:y},healthChecks:E}=e,j=t&&t.metadata.name,k=t&&(null===(i=t.metadata.labels)||void 0===i?void 0:i[C.s]),T=Object(w.a)({name:o,applicationName:l,imageStreamName:j,selectedTag:u,runtimeIcon:k}),_=o,R=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(w.b)()),Object(w.c)(O,y)),Object(w.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(w.g)(o,_,s,p)),P=Object(w.d)(A.k.Kubernetes,o),N=Object(w.f)(n),D={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:o,namespace:s,labels:Object.assign(Object.assign({},T),g),annotations:R},spec:{selector:{matchLabels:{app:o}},replicas:m,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},N),g),P)},spec:{containers:[Object.assign({name:o,image:o+":latest",ports:c,env:d,resources:Object(S.H)({cpu:h,memory:f})},Object(x.b)(E))]}}}},U=Object(w.h)(n,D);return"update"===r?Object(v.rb)(b.DeploymentModel,U):Object(v.jb)(b.DeploymentModel,U,a?I.c:{})},K=(e,t,a,r,c=!1,u="create",m)=>D(void 0,void 0,void 0,(function*(){var p,_,N,U,K,q,G,V,Y,H,W,z,Q,J,Z,X,ee,te,ae;const{name:ne,project:{name:re},route:{create:ie,disable:oe},image:{ports:se},build:{strategy:le,triggers:{webhook:ce},option:ue},deployment:{triggers:{image:de}},git:{url:me,type:pe,ref:be},pipeline:ve,resources:ge}=t,he=l.a(a,"metadata.name"),fe=null!==(q=null===(K=null===(U=null===(N=null===(_=null===(p=null==m?void 0:m.buildConfig)||void 0===p?void 0:p.data)||void 0===_?void 0:_.spec)||void 0===N?void 0:N.source)||void 0===U?void 0:U.git)||void 0===K?void 0:K.uri)&&void 0!==q?q:null===(W=null===(H=null===(Y=null===(V=null===(G=null==m?void 0:m.pipeline)||void 0===G?void 0:G.data)||void 0===V?void 0:V.spec)||void 0===Y?void 0:Y.params)||void 0===H?void 0:H.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===W?void 0:W.default;r&&(yield L(t.project));const Oe=[];let ye="";if(ge===A.k.KnativeService&&fe&&fe!==me&&(ye=`${ne}-${Object(S.D)()}`),le===d.BuildStrategyType.Devfile){if("create"!==u)throw new Error(e("devconsole~Cannot update Devfile resources"));return((e,t,a,n="")=>D(void 0,void 0,void 0,(function*(){const{name:r,project:{name:i},devfile:{devfileSuggestedResources:o,devfileProjectType:s}}=e,l=Object.keys(o).reduce((e,t)=>{var a,n;const l=o[t];return l?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},l),{metadata:Object.assign(Object.assign({},l.metadata),{annotations:Object.assign(Object.assign({},null===(a=l.metadata)||void 0===a?void 0:a.annotations),{isFromDevfile:"true"}),name:r,namespace:i,labels:Object.assign(Object.assign({},null===(n=l.metadata)||void 0===n?void 0:n.labels),s?{[C.s]:s}:{})})})}):e},{}),c=yield M(e,l.imageStream,t,a,"create",n),u=yield F(e,l.imageStream,t,l.buildResource,"create",n),d=yield B(e,l.imageStream,"generic",t),m=yield $(e,l.imageStream,t,l.deployResource,"create"),p=l.service&&(yield Object(v.jb)(b.ServiceModel,Object(I.b)(e,l.imageStream,l.service),t?I.c:{})),g=l.route&&(yield Object(v.jb)(b.RouteModel,Object(I.a)(e,l.imageStream,l.route),t?I.c:{})),h=[c,u,d,m];return p&&h.push(p),g&&h.push(g),h})))(t,c,m,ye)}if(ve.type===f.a.PAC&&(null===(z=null==t?void 0:t.pipeline)||void 0===z?void 0:z.enabled)){const e=null===(Q=null==t?void 0:t.pac)||void 0===Q?void 0:Q.repository,a=null==t?void 0:t.labels,n=yield Object(k.b)(e,re,a,c);Oe.push(n)}const Ee=yield M(t,a,c,m,ye?"create":u,ye);if(Oe.push(Ee),ve.enabled&&ve.type!==f.a.PAC){if(!c){const e=yield((e,t)=>D(void 0,void 0,void 0,(function*(){var a,r;const l=[];if(!e)return Promise.resolve([]);const{name:c,git:u,pipeline:d,project:m,docker:p,image:g,build:h,labels:f}=e;let k;const S=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.name;if(i.a(t)||S!==c){if(d.template){k=yield Object(O.a)(c,m.name,u.url,u.ref,u.dir,d,p.dockerfilePath,g.tag,h.env,f),l.push(k);try{const e=yield Object(E.a)(k,u.detectedType);l.push(...e)}catch(e){console.warn("Error occured while creating triggers",e)}}}else k=yield Object(O.d)(t,d.template,c,m.name,u.url,u.ref,u.dir,p.dockerfilePath,g.tag,h.env,f);if(u.secret){const e=yield Object(v.kb)(b.SecretModel,u.secret,m.name),t=n(u.url);e.metadata.annotations=Object(T.s)({key:"git",value:"ssh"===t.protocol?t.resource:`${t.protocol}://${t.resource}`},e.metadata.annotations),yield Object(v.rb)(b.SecretModel,e,m.name);const a=yield Object(v.kb)(b.ServiceAccountModel,y.l,m.name);void 0===o.a(a.secrets,e=>e.name===u.secret)&&(yield Object(T.B)(u.secret,a,!1))}if(s.a(null===(r=null==k?void 0:k.metadata)||void 0===r?void 0:r.labels,"app.kubernetes.io/instance"))try{const e=yield Object(O.b)(k);l.push(e)}catch(e){console.log("Failed to create PipelineRun for import flow",e),Object(j.c)(k.metadata.name,k.metadata.namespace)}return Promise.all(l)})))(t,null===(J=null==m?void 0:m.pipeline)||void 0===J?void 0:J.data);Oe.push(...e)}}else ue===A.a.BUILDS?Oe.push(yield F(t,a,c,null===(Z=null==m?void 0:m.buildConfig)||void 0===Z?void 0:Z.data,ye?"create":u,ye)):ue===A.a.SHIPWRIGHT_BUILD&&Oe.push(yield((e,t,a,n,r="create",o="")=>{var s;const{name:l,project:{name:c},application:{name:u},git:{url:m,ref:p="master",dir:b,secret:g},docker:{dockerfilePath:h},image:{tag:f,imageEnv:O},build:{env:y,strategy:E,clusterBuildStrategy:j},labels:k}=e,T=t&&t.metadata.name,S=t&&(null===(s=t.status)||void 0===s?void 0:s.dockerImageRepository),_=Object(w.a)({name:l,applicationName:u,imageStreamName:T,selectedTag:f}),N=Object.assign(Object.assign({},Object(w.c)(m,p)),Object(w.b)()),C=O?Object.keys(O):[],x=C.filter(e=>!!O[e]).map(e=>({name:e,value:O[e]})),A=y.filter(e=>!C.includes(e.name));let D=[];switch(E){case d.BuildStrategyType.Docker:D=[{name:"dockerfile",value:h}];break;case d.BuildStrategyType.Source:D=[{name:"builder-image",value:`${S}:${f}`}]}const U="update"!==r||i.a(n)?l:n.metadata.labels["app.kubernetes.io/name"],L={apiVersion:"shipwright.io/v1beta1",kind:"Build",metadata:{name:o||U,namespace:c,labels:Object.assign(Object.assign(Object.assign({},_),k),{"app.kubernetes.io/name":U}),annotations:N},spec:{source:{type:"Git",git:Object.assign({url:m,revision:p},g?{cloneSecret:g}:{}),contextDir:b},env:[...x,...A],strategy:{name:j,kind:"ClusterBuildStrategy"},paramValues:D,output:{image:`${R.e}/${c}/${o||U}:latest`}}},M=Object(w.h)(n,L);return"update"===r&&(M.metadata.name=n.metadata.name),"update"===r?Object(v.rb)(P.a,M):Object(v.jb)(P.a,L,a?I.c:{})})(t,a,c,null===(X=null==m?void 0:m.shipwrightBuild)||void 0===X?void 0:X.data,ye?"create":u,ye));if("create"===u&&(Oe.push(yield B(t,a,"generic",c)),ce&&Oe.push(yield B(t,a,pe,c))),t.resources===A.k.KnativeService){const e=Ee.status.dockerImageRepository,a=(null===(ae=null===(te=null===(ee=null==m?void 0:m.editAppResource)||void 0===ee?void 0:ee.data)||void 0===te?void 0:te.metadata)||void 0===ae?void 0:ae.annotations)||{},n=Object(w.g)(ne,ye||ne,re,de),r=Object.keys(a).length>0?Object.assign(Object.assign(Object.assign({},a),Object(w.c)(me,be)),n):Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),Object(w.b)()),Object(w.e)()),Object(w.c)(me,be)),n),i=Object(h.c)(t,e,he,void 0,void 0,r,l.a(m,"editAppResource.data"),ye),o=yield Object(h.b)(t,i,c);return[...yield Promise.all(["update"===u?Object(v.rb)(g.l,i,null,null,c?I.c:{}):Object(v.jb)(g.l,i,c?I.c:{}),...o]),...Oe]}if(t.resources===A.k.Kubernetes?Oe.push(yield $(t,a,c,l.a(m,"editAppResource.data"),u)):t.resources===A.k.OpenShift&&Oe.push(yield((e,t,a,n,r="create")=>{const{name:i,project:{name:o},application:{name:s},image:{ports:l,tag:c},deployment:{env:u,replicas:d,triggers:m},labels:p,limits:{cpu:g,memory:h},git:{url:f,ref:O},healthChecks:y}=e,E=t&&t.metadata.name,j=Object(w.a)({name:i,applicationName:s,imageStreamName:E,selectedTag:c}),k=Object.assign(Object.assign(Object.assign({},Object(w.b)()),Object(w.c)(f,O)),Object(w.e)()),T=Object(w.d)(A.k.OpenShift,i),_=Object(w.f)(n),R={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:i,namespace:o,labels:Object.assign(Object.assign({},j),p),annotations:k},spec:{selector:T,replicas:d,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},_),p),T)},spec:{containers:[Object.assign({name:i,image:i+":latest",ports:l,env:u,resources:Object(S.H)({cpu:g,memory:h})},Object(x.b)(y))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:m.image,containerNames:[i],from:{kind:"ImageStreamTag",name:i+":latest"}}},...m.config?[{type:"ConfigChange"}]:[]]}},P=Object(w.h)(n,R);return"update"===r?Object(v.rb)(b.DeploymentConfigModel,P):Object(v.jb)(b.DeploymentConfigModel,P,a?I.c:{})})(t,a,c,l.a(m,"editAppResource.data"),u)),!i.a(se)||le===d.BuildStrategyType.Docker||le===d.BuildStrategyType.Source){const e=l.a(m,"service.data"),n=Object(I.b)(t,a,e);"create"===u?Oe.push(yield Object(v.jb)(b.ServiceModel,n,c?I.c:{})):"update"!==u||i.a(e)||Oe.push(yield Object(v.rb)(b.ServiceModel,n));const r=l.a(m,"route.data"),o=Object(I.a)(t,a,r);"update"===u&&oe?Oe.push(yield Object(v.rb)(b.RouteModel,o,re,ne)):ie&&Oe.push(yield Object(v.jb)(b.RouteModel,o,c?I.c:{}))}return Oe})),q=e=>e.filter(e=>e.kind===b.DeploymentModel.kind||e.kind===b.DeploymentConfigModel.kind||e.kind===g.l.kind&&e.apiVersion===`${g.l.apiGroup}/${g.l.apiVersion}`),G=(e,t,a,n)=>D(void 0,void 0,void 0,(function*(){const r=a.find(e=>e.properties.id===t),i=(yield r.properties.importRedirectURL())(e);n?p.Vb.push(((e,t)=>{const a=new URL(e,"thismessage:/");return a.search=new URLSearchParams(Object.assign(Object.assign({},Object.fromEntries(a.searchParams)),t?Object.fromEntries(t):{})).toString(),a.toString().replace(a.protocol,"")})(i,n)):p.Vb.push(i)})),V=(e,t,a)=>{var n;if(e!==A.k.KnativeService&&t){if(t.hostname||t.path||!t.secure)return!0;if(null==t?void 0:t.tls)for(const e in t.tls)if(t.tls.hasOwnProperty(e)){if(["caCertificate","certificate","destinationCACertificate","key"].includes(e)&&t.tls[e])return!0;if("insecureEdgeTerminationPolicy"===e&&"None"!==t.tls[e])return!0;if("termination"===e&&"reencrypt"!==t.tls[e])return!0}return!1}return(null===(n=a.domainMapping)||void 0===n?void 0:n.length)>0},Y=(e,t,a)=>{if(e!==A.k.KnativeService&&(null==t?void 0:t.replicas)>1)return!0;const n=null==a?void 0:a.scaling;if(n)for(const e in n)if(n.hasOwnProperty(e)){if(["concurrencylimit","maxpods","minpods"].includes(e)&&n[e])return!0;if("concurrencytarget"===e&&n[e]!==n.defaultConcurrencytarget)return!0;if("concurrencyutilization"===e&&n[e]!==n.defaultConcurrencyutilization)return!0;if("autoscale"===e&&n[e]){const t=n[e];for(const e in t)if(t.hasOwnProperty(e)){if("autoscalewindow"===e&&t[e]!==t.defaultAutoscalewindow)return!0;if("autoscalewindowUnit"===e&&t[e]!==t.defaultAutoscalewindowUnit)return!0}}}return!1},H=e=>{const t=e=>{for(const t in e)if(e.hasOwnProperty(t)){if(["limit","request"].includes(t)&&e[t])return!0;if("limitUnit"===t&&e[t]!==e.defaultLimitUnit)return!0;if("requestUnit"===t&&e[t]!==e.defaultRequestUnit)return!0}return!1};return!(!t(e.cpu)&&!t(e.memory))},W=e=>{var t,a,n,r,o,s,l,u,d,m,p,b,v,g,h,f,O,y,E,j,k,T,S,R,P,C,w,I,x,D,U;if(!e)return{};let L;(null===(t=e.devfile)||void 0===t?void 0:t.devfileContent)&&(L=Object(_.c)(e.devfile.devfileContent));const M=!(null===(a=e.application)||void 0===a?void 0:a.selectedKey)&&(null===(n=e.application)||void 0===n?void 0:n.name)||(null===(r=e.application)||void 0===r?void 0:r.selectedKey)===(null===(o=e.application)||void 0===o?void 0:o.name)?"default":(null===(s=e.application)||void 0===s?void 0:s.selectedKey)===N.b&&(null===(l=e.application)||void 0===l?void 0:l.name)?"custom":"none",B=e.resources===A.k.Kubernetes?"Deployment":e.resources===A.k.OpenShift?"DeploymentConfig":e.resources===A.k.KnativeService&&"Knative Service",F=null===(d=null===(u=e.import)||void 0===u?void 0:u.selectedStrategy)||void 0===d?void 0:d.name;return{useRecommended:(null===(m=e.image)||void 0===m?void 0:m.recommended)===(null===(p=e.image)||void 0===p?void 0:p.selected),recommendedStrategy:null===(v=null===(b=e.import)||void 0===b?void 0:b.recommendedStrategy)||void 0===v?void 0:v.name,recommendedBuilderImage:null===(g=e.image)||void 0===g?void 0:g.recommended,strategy:F,builderImage:null===(h=e.image)||void 0===h?void 0:h.selected,devFileLanguage:(null===(f=null==L?void 0:L.metadata)||void 0===f?void 0:f.projectType)||"",devFileProjectType:(null===(O=null==L?void 0:L.metadata)||void 0===O?void 0:O.language)||"",application:M,resource:B,targetPortChanged:!!(null===(y=e.route)||void 0===y?void 0:y.unknownTargetPort),useRunCommand:!!(null===(j=null===(E=e.image)||void 0===E?void 0:E.imageEnv)||void 0===j?void 0:j.NPM_RUN),useAdvancedOptionsGit:"/"!==e.git.dir||!!e.git.ref||!!e.git.secret,useAdvancedOptionsBuild:(null===(k=e.build)||void 0===k?void 0:k.env.length)>0||c.a(null===(T=e.build)||void 0===T?void 0:T.triggers,e=>!e),useAdvancedOptionsDeployment:"Devfile"!==F&&((null===(S=e.deployment)||void 0===S?void 0:S.env.length)>0||!(null===(P=null===(R=e.deployment)||void 0===R?void 0:R.triggers)||void 0===P?void 0:P.image)),useAdvancedOptionsRoute:V(e.resources,e.route,e.serverless),useAdvancedOptionsHealthChecks:(null===(w=null===(C=e.healthChecks)||void 0===C?void 0:C.livenessProbe)||void 0===w?void 0:w.enabled)||(null===(x=null===(I=e.healthChecks)||void 0===I?void 0:I.readinessProbe)||void 0===x?void 0:x.enabled)||(null===(U=null===(D=e.healthChecks)||void 0===D?void 0:D.startupProbe)||void 0===U?void 0:U.enabled),useAdvancedOptionsScaling:Y(e.resources,e.deployment,e.serverless),useAdvancedOptionsResourceLimits:H(e.limits),useAdvancedOptionsLabels:!i.a(e.labels)}}},5850:function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return h}));var n=a(640),r=a(499),i=a(8),o=a(5669),s=a(5586),l=a(5588),c=a(5687),u=a(5837),d=(a(5760),function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))});const m=(e,t)=>`image-registry.openshift-image-registry.svc:5000/${t}/${e}`,p=(e,t,a,n,r,i,o,s,l)=>(e||[]).map(e=>{switch(e.name){case"APP_NAME":return Object.assign(Object.assign({},e),{default:t});case"GIT_REPO":return Object.assign(Object.assign({},e),{default:n});case"GIT_REVISION":return Object.assign(Object.assign({},e),{default:r||""});case"PATH_CONTEXT":return Object.assign(Object.assign({},e),{default:i.replace(/^\//,"")||e.default});case"IMAGE_NAME":return Object.assign(Object.assign({},e),{default:m(t,a)});case"DOCKERFILE":return Object.assign(Object.assign({},e),{default:o});case"VERSION":return Object.assign(Object.assign({},e),{default:s||e.default});case"BUILD_ENVS":return Object.assign(Object.assign({},e),{default:l||e.default});default:return e}}),b=e=>{var t,a;return"docker"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[o.j])},v=(e,t,a,r,l,c,u,m,v,g={})=>d(void 0,void 0,void 0,(function*(){var d;const h=n.a(c.template);return h.metadata={name:""+e,namespace:t,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=h.metadata)||void 0===d?void 0:d.labels),g),{"app.kubernetes.io/instance":e,"app.kubernetes.io/name":e}),!b(h)&&{[o.i]:m})},h.spec.params=h.spec.params&&p(h.spec.params,e,t,a,r,l,u,m,v),Object(i.jb)(s.PipelineModel,h,{ns:t})})),g=e=>d(void 0,void 0,void 0,(function*(){var t,a;const n="true"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["function.knative.dev"]),r=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var a,r;return Object.assign(Object.assign({},t),{type:l.x.VolumeClaimTemplate,data:n?Object(c.f)(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name):Object(c.c)(null===(r=null==e?void 0:e.metadata)||void 0===r?void 0:r.name)})}),secretOpen:!1});return Object(u.a)(r,e)})),h=(e,t,a,l,c,u,m,v,g,h,f={})=>d(void 0,void 0,void 0,(function*(){var d;let O=n.a(e);return t?(((e,t)=>{var a,n,r,i;return(null===(a=e.metadata)||void 0===a?void 0:a.labels[o.h])!==(null===(n=t.metadata)||void 0===n?void 0:n.labels[o.h])||(null===(r=e.metadata)||void 0===r?void 0:r.labels[o.i])!==(null===(i=t.metadata)||void 0===i?void 0:i.labels[o.i])})(t,e)&&(O=n.a(t),O.metadata={resourceVersion:e.metadata.resourceVersion,name:""+a,namespace:l,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=t.metadata)||void 0===d?void 0:d.labels),f),{"app.kubernetes.io/instance":a,"app.kubernetes.io/name":a}),!b(t)&&{[o.i]:g})}),O.spec.params=p(t.spec.params,a,l,c,u,m,v,g,h)):O.metadata.labels=r.a(Object.assign(Object.assign({},O.metadata.labels),f),"app.kubernetes.io/instance"),Object(i.rb)(s.PipelineModel,O,l,a)}))},5851:function(e,t,a){"use strict";var n=a(0),r=a(155),i=a(40),o=a(1945),s=a(5),l=(a(5871),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a});t.a=e=>{var{badge:t,title:a,children:c,listComponent:u}=e,d=l(e,["badge","title","children","listComponent"]);return n.createElement("div",{className:"odc-project-list-page"},n.createElement(s.Z,{title:a,badge:t},c),n.createElement(r.a,{className:"co-divider"}),n.createElement(i.c,Object.assign({},d,{showTitle:!1,kind:"Project",ListComponent:u||o.ProjectsTable,canCreate:!1,filterLabel:"by name or display name",textFilter:"project-name"})))}},5852:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(5);const i=()=>Promise.all([a.e(17),a.e(25),a.e(0),a.e(1),a.e(4),a.e(3),a.e(6),a.e(5),a.e(7),a.e(11),a.e(8),a.e(9),a.e(10),a.e(16),a.e(14),a.e(12),a.e(2),a.e(13),a.e(15),a.e(18),a.e(26),a.e(33),a.e(65),a.e(237)]).then(a.bind(null,6058)).then(e=>e.OverviewListPage),o=e=>n.createElement(r.c,Object.assign({loader:i},e))},5853:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(160),r=a(4440),i=a(501),o=a(0),s=a(18),l=a.n(s),c=a(7),u=a(192),d=a(434),m=a(295),p=a(296),b=a(19),v=a(4379),g=a(2239),h=a(15),f=a(5),O=a(10),y=a(5658),E=a(14);const j=()=>{var e,t,a;const{obj:s}=o.useContext(y.a),j=n.a(s.metadata.labels).sort(),k=r.a(j,3),T=i.a(s.metadata.labels,k),S=null===(e=s.metadata.annotations)||void 0===e?void 0:e["openshift.io/description"],_=Object(f.uc)(O.ProjectModel,s.metadata.name)+"/details",R=null===(a=null===(t=s.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["maistra.io/member-of"],{t:P}=Object(c.useTranslation)();return o.createElement(u.a,{"data-test-id":"details-card",isClickable:!0,isSelectable:!0},o.createElement(d.a,{actions:{actions:o.createElement(o.Fragment,null,o.createElement(E.Link,{to:_,"data-test":"details-card-view-all"},P("public~View all"))),hasNoOffset:!1,className:"co-overview-card__actions"}},o.createElement(m.a,null,P("public~Details"))),o.createElement(p.a,null,o.createElement(v.default,null,o.createElement(g.b,{isLoading:!s,title:P("public~Name")},Object(h.dd)(s)),o.createElement(g.b,{isLoading:!s,title:P("public~Requester")},Object(h.Bd)(s)||o.createElement("span",{className:"text-muted"},P("public~No requester"))),o.createElement(g.b,{isLoading:!s,title:P("public~Labels")},o.createElement("div",{className:"co-project-dashboard__details-labels"},o.createElement(f.L,{kind:O.ProjectModel.kind,labels:T}),j.length>3&&o.createElement(b.a,{variant:"link"},o.createElement(E.Link,{to:_},P("public~View all"))))),o.createElement(g.b,{isLoading:!s,title:P("public~Description")},o.createElement("span",{className:l()({"text-muted":!S,"co-project-dashboard-details-card__description":S})},S||P("public~No description"))),R&&o.createElement(g.b,{isLoading:!s,title:P("public~Service mesh")},o.createElement(h.X,null)," ",P("public~Service mesh enabled")))))}},5854:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(0),r=a(7),i=a(192),o=a(434),s=a(295),l=a(5387),c=a(4364),u=a(15),d=a(139),m=a(69),p=a(5658),b=a(5738),v=a(5793);const g=()=>{var e;const{obj:t}=n.useContext(p.a),a=Object(m.z)(m.f),g=n.useMemo(()=>{return(e=a,e.filter(m.e)).find(e=>"Image Vulnerabilities"===e.properties.title);var e},[a]),{metadata:{name:h}}=t,{t:f}=Object(r.useTranslation)();return n.createElement(i.a,{"data-test-id":"status-card",className:"co-overview-card--gradient"},n.createElement(o.a,null,n.createElement(s.a,null,f("public~Status"))),t?n.createElement(n.Fragment,null,n.createElement(c.default,null,n.createElement(l.a,{className:"co-overview-status__health",hasGutter:!0},n.createElement("div",{className:"co-status-card__health-item","data-test":"project-status"},n.createElement(u.cc,{status:null===(e=t.status)||void 0===e?void 0:e.phase,className:"co-icon-and-text--lg"})),g&&n.createElement(b.c,{subsystem:g.properties,namespace:h}))),n.createElement(v.a,{labelSelector:{namespace:h}})):n.createElement(d.g,null))}},5855:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),r=a(7),i=a(192),o=a(434),s=a(295),l=a(4365),c=a(762),u=a(13),d=a(5),m=a(5658),p=a(5744),b=a(5806),v=a(4366),g=a(5857);const h=[g.d,g.e],f=()=>{var e;const{t:t}=Object(r.useTranslation)(),{obj:a}=n.useContext(m.a),f=null===(e=null==a?void 0:a.metadata)||void 0===e?void 0:e.name,[O,y]=n.useMemo(()=>[Object(p.d)(f),Object(p.b)(f)],[f]),[E]=Object(u.kc)(u.Fb);return n.createElement(i.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},n.createElement(o.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(v.UtilizationDurationDropdown,null)),hasNoOffset:!1,className:void 0}},n.createElement(s.a,null,t("public~Utilization"))),n.createElement(l.default,null,n.createElement(g.f.Provider,{value:f},n.createElement(b.b,{title:t("public~CPU"),humanizeValue:d.Yb,utilizationQuery:O[p.a.CPU_USAGE],requestQuery:O[p.a.CPU_REQUESTS],TopConsumerPopover:g.a,namespace:f}),n.createElement(b.b,{title:t("public~Memory"),humanizeValue:d.Wb,utilizationQuery:O[p.a.MEMORY_USAGE],requestQuery:O[p.a.MEMORY_REQUESTS],byteDataType:c.a.BinaryBytes,TopConsumerPopover:g.c,namespace:f}),n.createElement(b.b,{title:t("public~Filesystem"),humanizeValue:d.Wb,utilizationQuery:O[p.a.FILESYSTEM_USAGE],byteDataType:c.a.BinaryBytes,TopConsumerPopover:g.b,namespace:f}),n.createElement(b.a,{title:t("public~Network transfer"),humanizeValue:d.ac,queries:y[p.a.NETWORK_UTILIZATION],TopConsumerPopovers:h,namespace:f}),n.createElement(b.b,{title:t("public~Pod count"),humanizeValue:d.bc,utilizationQuery:O[p.a.POD_COUNT],namespace:f}),E.map(({uid:e,properties:t})=>{var a,r,i;return n.createElement(b.b,{key:e,title:t.title,humanizeValue:t.humanize,utilizationQuery:t.getUtilizationQuery(f),requestQuery:null===(a=t.getRequestQuery)||void 0===a?void 0:a.call(t,f),limitQuery:null===(r=t.getLimitQuery)||void 0===r?void 0:r.call(t,f),totalQuery:null===(i=t.getTotalQuery)||void 0===i?void 0:i.call(t,f),namespace:f,TopConsumerPopover:t.TopConsumerPopover})}))))}},5856:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return g}));var n=a(0),r=a(7),i=a(5745),o=a(5735),s=a(10),l=a(5);const c=n.createContext(".+"),u=(e,t,a)=>{const r=n.useContext(c);return n.useMemo(()=>{const n=Object(i.c)(r);return[{query:n[e],model:s.ProjectModel,metric:"namespace"},{query:n[t],model:s.PodModel,metric:"pod"},{query:n[a],model:s.NodeModel,metric:"instance"}]},[a,r,e,t])},d=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(i.a.PROJECTS_BY_CPU,i.a.PODS_BY_CPU,i.a.NODES_BY_CPU);return n.createElement(o.b,{title:t("public~CPU"),current:e,consumers:a,humanize:l.Yb})},m=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(i.a.PROJECTS_BY_MEMORY,i.a.PODS_BY_MEMORY,i.a.NODES_BY_MEMORY);return n.createElement(o.b,{title:t("public~Memory"),current:e,consumers:a,humanize:l.Wb})},p=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(i.a.PROJECTS_BY_STORAGE,i.a.PODS_BY_STORAGE,i.a.NODES_BY_STORAGE);return n.createElement(o.b,{title:t("public~Filesystem"),current:e,consumers:a,humanize:l.Wb})},b=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=n.useContext(c),u=n.useMemo(()=>{const e=Object(i.c)(a);return[{query:e[i.a.PROJECTS_BY_PODS],model:s.ProjectModel,metric:"namespace"},{query:e[i.a.NODES_BY_PODS],model:s.NodeModel,metric:"node"}]},[a]);return n.createElement(o.b,{title:t("public~Pod count"),current:e,consumers:u,humanize:l.bc})},v=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(i.a.PROJECTS_BY_NETWORK_IN,i.a.PODS_BY_NETWORK_IN,i.a.NODES_BY_NETWORK_IN);return n.createElement(o.b,{title:t("public~Network in"),current:e,consumers:a,humanize:l.ac})},g=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(i.a.PROJECTS_BY_NETWORK_OUT,i.a.PODS_BY_NETWORK_OUT,i.a.NODES_BY_NETWORK_OUT);return n.createElement(o.b,{title:t("public~Network out"),current:e,consumers:a,humanize:l.ac})}},5857:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(0),r=a(7),i=a(5735),o=a(5744),s=a(10),l=a(5);const c=n.createContext(""),u=e=>{const t=n.useContext(c);return{consumers:n.useMemo(()=>[{query:Object(o.c)(t)[e],model:s.PodModel,metric:"pod"}],[e,t]),namespace:t}},d=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(o.a.PODS_BY_CPU);return n.createElement(i.b,Object.assign({title:t("public~CPU"),current:e,humanize:l.Yb},a))},m=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(o.a.PODS_BY_MEMORY);return n.createElement(i.b,Object.assign({title:t("public~Memory"),current:e,humanize:l.Wb},a))},p=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(o.a.PODS_BY_FILESYSTEM);return n.createElement(i.b,Object.assign({title:t("public~Filesystem"),current:e,humanize:l.Wb},a))},b=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(o.a.PODS_BY_NETWORK_IN);return n.createElement(i.b,Object.assign({title:t("public~Network in"),current:e,humanize:l.ac},a))},v=({current:e})=>{const{t:t}=Object(r.useTranslation)(),a=u(o.a.PODS_BY_NETWORK_OUT);return n.createElement(i.b,Object.assign({title:t("public~Network out"),current:e,humanize:l.ac},a))}},5858:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(0),r=a(16),i=a(7),o=a(5670),s=a(406),l=a(192),c=a(434),u=a(295),d=a(296),m=a(967),p=a(10),b=a(4378),v=a(2231),g=a(5),h=a(8),f=a(15),O=a(5658),y=a(69),E=a(13),j=a(108),k=a(198);const T=Object(o.a)(({projectName:e,watchK8sResource:t,stopWatchK8sResource:a,resources:i,model:o,mapper:l,additionalResources:c,additionalDynamicResources:u})=>{var d;n.useEffect(()=>{if(e){const n=((e,t)=>({kind:e.crd?Object(h.Hb)(e):e.kind,isList:!0,prop:"resource",namespace:t}))(o,e);return t(n),c&&c.forEach(a=>t(Object.assign(Object.assign({},a),{namespace:e}))),()=>{a(n),c&&c.forEach(a)}}},[t,a,e,o,c]);const m=r.a(i.resource,"data",[]),p=r.a(i.resource,"loaded"),v=r.a(i.resource,"loadError"),g=c?c.reduce((e,t)=>(e[t.prop]=r.a(i[t.prop],"data"),e),{}):{},f=!c||c.filter(e=>!e.optional).every(e=>r.a(i[e.prop],"loaded")),O=!!c&&c.filter(e=>!e.optional).some(e=>!!r.a(i[e.prop],"loadError")),y=Object(j.b)(u||{}),E=null===(d=Object.values(y).find(e=>e.loadError))||void 0===d?void 0:d.loadError,k=Object.keys(y).every(e=>y[e].loaded);return n.createElement(s.a,null,n.createElement(b.ResourceInventoryItem,{kind:o,isLoading:!(e&&p&&f&&k),namespace:e,error:!!v||O||E,resources:m,additionalResources:g,mapper:l,dataTest:"resource-inventory-item"}))}),S=()=>{const e=Object(y.z)(y.t),[t]=Object(E.kc)(E.mb),[a]=Object(E.kc)(E.Eb),{obj:r}=n.useContext(O.a),o=Object(f.dd)(r),b=Object(g.Dc)({group:p.SecretModel.apiGroup,resource:p.SecretModel.plural,namespace:o,verb:"list"}),{t:h}=Object(i.useTranslation)();return n.createElement(l.a,{"data-test-id":"inventory-card"},n.createElement(c.a,null,n.createElement(u.a,null,h("public~Inventory"))),n.createElement(d.a,null,n.createElement(m.a,{hasGutter:!0},n.createElement(T,{projectName:o,model:p.DeploymentModel}),n.createElement(T,{projectName:o,model:p.DeploymentConfigModel}),n.createElement(T,{projectName:o,model:p.StatefulSetModel}),n.createElement(T,{projectName:o,model:p.PodModel,mapper:v.getPodStatusGroups}),n.createElement(T,{projectName:o,model:p.PersistentVolumeClaimModel,mapper:v.getPVCStatusGroups}),n.createElement(T,{projectName:o,model:p.ServiceModel}),n.createElement(T,{projectName:o,model:p.RouteModel}),n.createElement(T,{projectName:o,model:p.ConfigMapModel}),b&&n.createElement(T,{projectName:o,model:p.SecretModel}),n.createElement(T,{projectName:o,model:p.VolumeSnapshotModel,mapper:v.getVSStatusGroups}),e.map(e=>n.createElement(T,{key:e.properties.model.kind,projectName:o,model:e.properties.model,mapper:e.properties.mapper,additionalResources:e.properties.additionalResources})),t.map(e=>n.createElement(T,{key:e.properties.model.kind,projectName:o,model:e.properties.model,mapper:e.properties.mapper,additionalDynamicResources:e.properties.additionalResources})),a.map(({uid:e,properties:{component:t}})=>n.createElement(k.a,{key:e},n.createElement(s.a,null,n.createElement(t,{projectName:o})))))))}},5859:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(0),r=a(367),i=a(16),o=a(31),s=a(192),l=a(434),c=a(295),u=a(1950),d=a(5670),m=a(10),p=a(69),b=a(13),v=a(5734),g=a(5658),h=a(15),f=a(7),O=a(14);const y=Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,projectName:r,viewEvents:i})=>(n.useEffect(()=>{if(r){const a=(e=>({isList:!0,kind:m.EventModel.kind,prop:"events",namespace:e}))(r);return e(a),()=>{t(a)}}},[e,t,r]),n.createElement(u.RecentEventsBody,{events:a.events,moreLink:i}))),E=Object(o.connect)(e=>({models:e.k8s.getIn(["RESOURCES","models"])}))(Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,projectName:o,models:s})=>{const l=Object(p.z)(p.k),[c]=Object(b.kc)(b.lb),d=n.useMemo(()=>[...l,...c].filter(e=>{const t=s.get(e.properties.k8sResource.kind);return t&&t.namespaced}),[l,c,s]);n.useEffect(()=>{if(o)return d.forEach((t,a)=>{e(Object(v.a)(Object.assign(Object.assign({},t.properties.k8sResource),{namespace:o}),a))}),()=>{d.forEach((e,a)=>{t(Object(v.a)(e.properties.k8sResource,a))})}},[e,t,o,d]);const m=n.useMemo(()=>r.a(d.map((e,t)=>i.a(a,[Object(v.a)(e.properties.k8sResource,t).prop,"data"],[]).filter(t=>!e.properties.isActivity||e.properties.isActivity(t)).map(t=>{var a,n,r,i;return{resource:t,timestamp:e.properties.getTimestamp?e.properties.getTimestamp(t):null,loader:null===(n=null===(a=e)||void 0===a?void 0:a.properties)||void 0===n?void 0:n.loader,component:null===(i=null===(r=e)||void 0===r?void 0:r.properties)||void 0===i?void 0:i.component}}))),[d,a]),g=n.useMemo(()=>d.every((e,t)=>i.a(a,[Object(v.a)(e.properties.k8sResource,t).prop,"loaded"])),[d,a]);return n.createElement(u.OngoingActivityBody,{loaded:o&&g&&0!==s.size,resourceActivities:m})})),j=()=>{const{obj:e}=n.useContext(g.a),t=Object(h.dd)(e),a=`/k8s/ns/${t}/events`,{t:r}=Object(f.useTranslation)();return n.createElement(s.a,{"data-test-id":"activity-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(l.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(O.Link,{to:a,"data-test":"view-events-link"},r("public~View events"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(c.a,null,r("public~Activity"))),n.createElement(u.default,{className:"co-project-dashboard__activity-body"},n.createElement(E,{projectName:t}),n.createElement(y,{projectName:t,viewEvents:a})))}},5860:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a(461),i=a(7),o=a(192),s=a(434),l=a(295),c=a(296),u=a(5861),d=a(5863),m=a(5658);const p=()=>{const{namespaceLinks:e}=n.useContext(m.a),{t:t}=Object(i.useTranslation)();return n.createElement(o.a,{"data-test-id":"launcher-card"},n.createElement(s.a,null,n.createElement(l.a,null,t("public~Launcher"))),n.createElement(c.a,null,n.createElement(u.a,null,r.a(e,"spec.text").map(e=>n.createElement(d.a,{key:e.metadata.uid,consoleLink:e})))))}},5861:function(e,t,a){"use strict";var n=a(0);a(5862);t.a=({children:e})=>n.createElement("div",{className:"co-launcher-card__body"},e)},5862:function(e,t,a){},5863:function(e,t,a){"use strict";var n=a(0),r=a(173);t.a=({consoleLink:e})=>n.createElement(r.a,{additionalClassName:"co-launcher-card__item",href:e.spec.href,text:e.spec.text,dataTestID:"launcher-item"})},5864:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),r=a(7),i=a(192),o=a(434),s=a(295),l=a(296),c=a(967),u=a(406),d=a(976),m=a(5865),p=a(5867),b=a(5870),v=a(10),g=a(5658);const h=()=>{const{obj:e}=n.useContext(g.a),[t,a,h]=Object(d.xb)({groupVersionKind:{kind:v.ResourceQuotaModel.kind,version:v.ResourceQuotaModel.apiVersion},namespace:e.metadata.name,isList:!0}),[f,O,y]=Object(d.xb)({groupVersionKind:{kind:v.AppliedClusterResourceQuotaModel.kind,version:v.AppliedClusterResourceQuotaModel.apiVersion,group:v.AppliedClusterResourceQuotaModel.apiGroup},namespace:e.metadata.name,isList:!0}),{t:E}=Object(r.useTranslation)();return n.createElement(i.a,{"data-test-id":"resource-quotas-card"},n.createElement(o.a,null,n.createElement(s.a,null,E("public~ResourceQuotas"))),n.createElement(l.a,null,n.createElement(m.a,{error:!!h,isLoading:!a},t.length?n.createElement(c.a,{hasGutter:!0},t.map(e=>n.createElement(u.a,{key:e.metadata.uid},n.createElement(p.a,{resourceQuota:e})))):void 0)),n.createElement(o.a,null,n.createElement(s.a,null,E("public~AppliedClusterResourceQuotas"))),n.createElement(l.a,null,n.createElement(m.a,{error:!!y,isLoading:!O,noText:E("public~No AppliedClusterResourceQuotas")},f.length?n.createElement(c.a,{hasGutter:!0},f.map(t=>n.createElement(u.a,{key:t.metadata.uid},n.createElement(b.a,{resourceQuota:t,namespace:e.metadata.name})))):void 0)))}},5865:function(e,t,a){"use strict";var n=a(0),r=a(7);a(5866);t.a=({error:e,isLoading:t,noText:a,children:i})=>{let o;const{t:s}=Object(r.useTranslation)();return e?o=n.createElement("div",{className:"text-secondary"},s("console-shared~Not available")):t?o=n.createElement("div",{className:"skeleton-quota"}):n.Children.count(i)||(o=n.createElement("div",{className:"text-secondary"},a||s("console-shared~No ResourceQuotas"))),n.createElement(n.Fragment,null,o||i)}},5866:function(e,t,a){},5867:function(e,t,a){"use strict";var n=a(0),r=a(516),i=a(164),o=a(1921),s=a(5746),l=a(1407),c=a(99),u=a(10),d=a(5749);t.a=({resourceQuota:e})=>{var t,a,m,p,b;const v=Object.keys(null!==(a=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==a?a:{}),[g,h]=n.useState(v.length<=4),f=null===(m=e.spec)||void 0===m?void 0:m.scopes;return n.createElement(n.Fragment,null,n.createElement(r.a,{hasGutter:!0},n.createElement(i.a,{isFilled:!0},n.createElement(o.a,{onToggle:(e,t)=>h(t),isExpanded:g,toggleContent:n.createElement(c.ResourceLink,{groupVersionKind:{kind:u.ResourceQuotaModel.kind,version:u.ResourceQuotaModel.apiVersion},name:e.metadata.name,namespace:e.metadata.namespace,inline:!0,truncate:!0,dataTest:"resource-quota-link"})})),n.createElement(i.a,null,n.createElement(d.a,{hard:null===(p=e.status)||void 0===p?void 0:p.hard,used:null===(b=e.status)||void 0===b?void 0:b.used}))),g&&n.createElement(n.Fragment,null,f&&n.createElement(l.QuotaScopesInline,{scopes:f}),n.createElement(s.a,{resourceQuota:e})))}},5868:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(5748),o=a(5674);a(5712);t.a=({clusterResourceQuota:e})=>{var t,a,s;const{t:l}=Object(r.useTranslation)(),c=Object.keys(null!==(s=null===(a=null===(t=e.status)||void 0===t?void 0:t.total)||void 0===a?void 0:a.hard)&&void 0!==s?s:{}).map(t=>{var a;const r=e.status.total.hard[t],s=null===(a=e.status.total.used)||void 0===a?void 0:a[t],{label:l,percent:c}=Object(o.a)({resourceName:t,used:s,hard:r});return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(i.a,{data:[{x:"Used",y:c},{x:"Unused",y:100-c}],title:t,label:l}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},c.length?c:n.createElement(n.Fragment,null,l("console-app~No quota")))}},5869:function(e,t,a){},5870:function(e,t,a){"use strict";var n=a(0),r=a(516),i=a(164),o=a(1921),s=a(5747),l=a(1407),c=a(99),u=a(10),d=a(5749);t.a=({resourceQuota:e,namespace:t})=>{var a,m,p,b,v,g,h,f,O;const y=Object.keys(null!==(p=null===(m=null===(a=e.status)||void 0===a?void 0:a.total)||void 0===m?void 0:m.hard)&&void 0!==p?p:{}),[E,j]=n.useState(y.length<=4),k=null===(v=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.scopes;return n.createElement(n.Fragment,null,n.createElement(r.a,{hasGutter:!0},n.createElement(i.a,{isFilled:!0},n.createElement(o.a,{onToggle:(e,t)=>j(t),isExpanded:E,toggleContent:n.createElement(c.ResourceLink,{groupVersionKind:{kind:u.AppliedClusterResourceQuotaModel.kind,version:u.AppliedClusterResourceQuotaModel.apiVersion,group:u.AppliedClusterResourceQuotaModel.apiGroup},name:e.metadata.name,namespace:t,inline:!0,truncate:!0})})),n.createElement(i.a,null,n.createElement(d.a,{hard:null===(h=null===(g=e.status)||void 0===g?void 0:g.total)||void 0===h?void 0:h.hard,used:null===(O=null===(f=e.status)||void 0===f?void 0:f.total)||void 0===O?void 0:O.used}))),E&&n.createElement(n.Fragment,null,k&&n.createElement(l.QuotaScopesInline,{scopes:k}),n.createElement(s.a,{appliedClusterResourceQuota:e,namespace:t})))}},5871:function(e,t,a){},5895:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return b})),a.d(t,"b",(function(){return v})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return O})),a.d(t,"i",(function(){return y})),a.d(t,"j",(function(){return j}));var n=a(14),r=a(13),i=a(83),o=a(15),s=a(6012),l=a(5731),c=a(5729),u=a(5786);const d=(e,t)=>{const a=e.filter(e=>{var a,n,r,i;return(null===(n=null===(a=e.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n[l.d])===(null===(i=null===(r=t.metadata)||void 0===r?void 0:r.labels)||void 0===i?void 0:i[l.d])});if(!a||0===a.length)return{latestBuildRun:null,status:u.b.UNKNOWN};const n=((e,t)=>{var a,n,r,i;if(!(e&&e.data&&e.data.length>0&&t))return null;let o=e.data[0];if("creationTimestamp"===t)for(let r=1;r<e.data.length;r++)o=(null===(n=null===(a=e.data[r])||void 0===a?void 0:a.metadata)||void 0===n?void 0:n[t])&&new Date(e.data[r].metadata[t])>new Date(o.metadata[t])?e.data[r]:o;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.data.length;a++)o=(null===(i=null===(r=e.data[a])||void 0===r?void 0:r.status)||void 0===i?void 0:i[t])&&new Date(e.data[a].status[t])>new Date(o.status[t])?e.data[a]:o;else o=e.data[e.data.length-1];return o})({data:a},"creationTimestamp");if(!n)return{latestBuildRun:null,status:u.b.UNKNOWN};return{latestBuildRun:n,status:Object(s.b)(n)}},m=(e,t)=>{var a,n;const r=new Date(null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.creationTimestamp);return new Date(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.creationTimestamp).getTime()-r.getTime()>0},p=(e,t)=>{var a,n;const r=new Date((null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.creationTimestamp)||Date.now());return new Date((null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.creationTimestamp)||Date.now()).getTime()-r.getTime()},b=e=>"shipwright.io/v1alpha1"===e.apiVersion,v=e=>{var t,a,n,r;return b(e)?null===(a=null===(t=e.spec)||void 0===t?void 0:t.buildRef)||void 0===a?void 0:a.name:null===(r=null===(n=e.spec)||void 0===n?void 0:n.build)||void 0===r?void 0:r.name},g=(e,t,a,n)=>{const r=Object(i.useFlag)(n),o=Object(i.useFlag)(a);return r||o?o?e:t:null},h=()=>g(c.a,c.b,"SHIPWRIGHT_BUILD","SHIPWRIGHT_BUILD_V1ALPHA1"),f=()=>g(c.c,c.d,"SHIPWRIGHT_BUILDRUN","SHIPWRIGHT_BUILDRUN_V1ALPHA1"),O=()=>g(c.e,c.f,"SHIPWRIGHT_BUILDSTRATEGY","SHIPWRIGHT_BUILDSTRATEGY_V1ALPHA1"),y=()=>g(c.g,c.h,"SHIPWRIGHT_CLUSTERBUILDSTRATEGY","SHIPWRIGHT_CLUSTERBUILDSTRATEGY_V1ALPHA1"),E={[c.a.kind]:"builds",[c.b.kind]:"builds",[c.c.kind]:"buildruns",[c.d.kind]:"buildruns",[c.e.kind]:"buildstrategies",[c.f.kind]:"buildstrategies",[c.g.kind]:"clusterbuildstrategies",[c.h.kind]:"clusterbuildstrategies"},j=e=>{const t="admin"===Object(r.jc)()[0],a=Object(n.useParams)(),i=Object(n.useLocation)();return Object(o.bf)((e=>{if("shipwright.io/v1alpha1"===(null==e?void 0:e.apiVersion))switch(null==e?void 0:e.kind){case"Build":return c.b;case"BuildRun":return c.d;case"BuildStrategy":return c.f;case"ClusterBuildStrategy":return c.h;default:return null}switch(null==e?void 0:e.kind){case"Build":return c.a;case"BuildRun":return c.c;case"BuildStrategy":return c.e;case"ClusterBuildStrategy":return c.g;default:return null}})(e),i,a,"k8s","shipwright.io/"+E[e.kind],void 0,t)}},5898:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return g}));var n=a(22),r=a(499),i=a(5723),o=a(5711),s=a(5591),l=a(8),c=a(76),u=a(2230),d=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const m={queryParams:{dryRun:"All"}},p=(e,t,a,u,d,m,p,b)=>{var v,g;const{name:h,application:{name:f},project:{name:O},runtimeIcon:y,serverless:{scaling:E},limits:j,route:{unknownTargetPort:k,create:T,defaultUnknownPort:S},labels:_,image:{tag:R},deployment:{env:P,triggers:{image:N}},healthChecks:C,resources:w,formType:I}=e,{fileUpload:x}=e,A=null===(v=null==e?void 0:e.import)||void 0===v?void 0:v.selectedStrategy,D=parseInt(k,10)||S,U=N?l.c.Always:l.c.IfNotPresent,{concurrencylimit:L,concurrencytarget:M,minpods:B,maxpods:F,autoscale:{autoscalewindow:$,autoscalewindowUnit:K},concurrencyutilization:q}=E,{cpu:{request:G,requestUnit:V,limit:Y,limitUnit:H},memory:{request:W,requestUnit:z,limit:Q,limitUnit:J}}=j,Z=Object(o.a)({name:h,applicationName:f,imageStreamName:a,selectedTag:u||R,namespace:d,runtimeIcon:y});if(delete Z.app,x){const e=null==P?void 0:P.findIndex(e=>"JAVA_ARGS"===e.name);-1!==e?""!==x.javaArgs?P[e].value=x.javaArgs:P.splice(e,1):""!==x.javaArgs&&P.push({name:"JAVA_ARGS",value:x.javaArgs})}const X={kind:c.p.kind,apiVersion:`${c.p.apiGroup}/${c.p.apiVersion}`,metadata:{name:h,namespace:O,labels:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Z),_),"serverlessFunction"===I&&{"function.knative.dev":"true"}),!T&&{"networking.knative.dev/visibility":"cluster-local"}),((null===(g=e.pipeline)||void 0===g?void 0:g.enabled)||b)&&{"app.kubernetes.io/name":h}),A&&(null==A?void 0:A.type)===s.c.SERVERLESS_FUNCTION&&{"function.knative.dev":"true"}),annotations:x?Object.assign(Object.assign({},m),{jarFileName:x.name}):m},spec:{template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},Z),_),{"app.kubernetes.io/name":b?e.name:_["app.kubernetes.io/name"]}),annotations:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M&&{"autoscaling.knative.dev/target":""+M}),B&&{"autoscaling.knative.dev/min-scale":""+B}),F&&{"autoscaling.knative.dev/max-scale":""+F}),$&&{"autoscaling.knative.dev/window":`${$}${K}`}),q&&{"autoscaling.knative.dev/target-utilization-percentage":""+q})},spec:Object.assign(Object.assign({},L&&{containerConcurrency:L}),{containers:[Object.assign(Object.assign(Object.assign({name:h,image:""+t},D&&{ports:[{containerPort:D}]}),{imagePullPolicy:U,securityContext:{allowPrivilegeEscalation:!1,capabilities:{drop:["ALL"]},runAsNonRoot:!0,seccompProfile:{type:"RuntimeDefault"}},env:P,resources:Object.assign(Object.assign({},(Y||Q)&&{limits:Object.assign(Object.assign({},Y&&{cpu:`${Y}${H}`}),Q&&{memory:`${Q}${J}`})}),(G||W)&&{requests:Object.assign(Object.assign({},G&&{cpu:`${G}${V}`}),W&&{memory:`${W}${z}`})})}),Object(i.b)(C,w))]})}}};let ee={};n.a(p)||(ee=r.a(p,["status","spec.template.metadata.name","spec.template.spec.containers"]));return Object(o.h)(ee||{},X)},b=(e,t,a)=>{const{kind:n,apiVersion:r,metadata:{name:i,namespace:o}}=t;return Object.assign(Object.assign({},a?Object.assign({},a):{kind:c.e.kind,apiVersion:`${c.e.apiGroup}/${c.e.apiVersion}`,metadata:{name:e,namespace:o}}),{spec:{ref:{name:i,kind:n,apiVersion:r}}})},v=(e,t)=>{const{metadata:{name:a,namespace:n}}=e,r=[];return Object(l.kb)(c.e,null,n).then(n=>{const i=n.items;if(!(null==t?void 0:t.length)&&!(null==i?void 0:i.length))return Promise.resolve([]);const o=(s=a,l=t,i.filter(e=>{var t,a;return(null===(a=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===a?void 0:a.name)===s}).filter(e=>!(null==l?void 0:l.includes(e.metadata.name))).map(e=>({action:u.d.Delete,resource:e})));var s,l;r.push(...o);const c=t.map(t=>{const a=i.find(e=>e.metadata.name===t);let n;return n=a?{action:u.d.Update,resource:b(t,e,a)}:{action:u.d.Create,resource:b(t,e)},n});return r.push(...c),r}).catch(e=>(console.log("Failed to get domain mapping resources",e),r))},g=(e,t,a)=>d(void 0,void 0,void 0,(function*(){const{serverless:{domainMapping:n=[]}}=e,r=yield v(t,[...new Set(n.map(e=>e.replace(/ *\([^)]*\) */g,"")))]),i=[];return r.length&&r.forEach(({action:e,resource:t})=>{switch(e){case u.d.Create:i.push(Object(l.jb)(c.e,t,a?m:{}));break;case u.d.Update:i.push(Object(l.rb)(c.e,t,null,null,a?m:{}));break;case u.d.Delete:i.push(Object(l.lb)(c.e,t,a?m:{}))}}),i}))},5899:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(5684),r=a(5586),i=a(5595),o=a(5588);const s=()=>Object(n.a)(r.TektonConfigModel,o.h),l=e=>{if(!e)return o.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[i.d.METRICS_PIPELINERUN_DURATION_TYPE]===i.b.HISTOGRAM&&t[i.d.METRICS_TASKRUN_DURATION_TYPE]===i.b.HISTOGRAM&&t[i.d.METRICS_PIPELINERUN_LEVEL]===i.c.PIPELINE&&t[i.d.METRICS_TASKRUN_LEVEL]===i.c.TASK?o.n.PIPELINE_TASK_LEVEL:t[i.d.METRICS_PIPELINERUN_DURATION_TYPE]===i.b.LASTVALUE&&t[i.d.METRICS_TASKRUN_DURATION_TYPE]===i.b.LASTVALUE&&t[i.d.METRICS_PIPELINERUN_LEVEL]===i.c.PIPELINERUN&&t[i.d.METRICS_TASKRUN_LEVEL]===i.c.TASKRUN?o.n.PIPELINERUN_TASKRUN_LEVEL:o.n.UNSUPPORTED_LEVEL}},5900:function(e,t,a){"use strict";function n(e){var t,a;return"GitImport"===(null==e?void 0:e.type)&&!!(null===(a=null===(t=e.gitImport)||void 0===t?void 0:t.repository)||void 0===a?void 0:a.url)}function r(e){var t;return"ContainerImport"===(null==e?void 0:e.type)&&!!(null===(t=e.containerImport)||void 0===t?void 0:t.image)}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}))},5903:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return b}));var n=a(0),r=a(640),i=a(655),o=a(499),s=a(5),l=a(8),c=a(5929),u=a(5723),d=a(5724);const m=(e,t,a)=>{const{healthChecks:{readinessProbe:n,livenessProbe:s,startupProbe:l},containerName:m,healthChecks:p}=e,b=r.a(t),v=i.a(b.spec.template.spec.containers,["name",m]);return b.spec.template.spec.containers[v]=Object.assign(Object.assign({},a),Object(u.b)(p,Object(c.k)(t))),n.enabled||(b.spec.template.spec.containers[v]=o.a(b.spec.template.spec.containers[v],""+d.a.ReadinessProbe)),s.enabled||(b.spec.template.spec.containers[v]=o.a(b.spec.template.spec.containers[v],""+d.a.LivenessProbe)),l.enabled||(b.spec.template.spec.containers[v]=o.a(b.spec.template.spec.containers[v],""+d.a.StartupProbe)),b},p=Object(n.createContext)({viewOnly:!1}),b=e=>{const t=Object(l.vb)(Object(l.Db)(e));return!Object(s.Dc)({group:t.apiGroup,resource:t.plural,name:e.metadata.name,namespace:e.metadata.namespace,verb:"update"})}},5909:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return b}));var n=a(131),r=a(10),i=a(8),o=a(5586),s=a(5588),l=a(5705),c=a(5687),u=a(5919),d=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const m=(e,t,a=0)=>d(void 0,void 0,void 0,(function*(){var s,l,c,d;const p=yield Object(i.kb)(o.EventListenerModel,e,t),b=null===(s=null==p?void 0:p.status)||void 0===s?void 0:s.configuration.generatedName;try{if(!b)return void(a<3?setTimeout(()=>m(e,t,a+1),500):yield Object(i.jb)(r.RouteModel,Object(u.b)(p),{ns:t}));const n=null===(d=null===(c=null===(l=(yield Object(i.kb)(r.ServiceModel,b,t)).spec)||void 0===l?void 0:l.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,o=Object(u.b)(p,b,n);yield Object(i.jb)(r.RouteModel,o,{ns:t})}catch(e){Object(n.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),p=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:a}=t,n=e.metadata.namespace,r=Object(c.e)(e,t,null,null,{generateName:!0}),s=a.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,r,s),p=yield Object(l.a)(n),b=Object(u.a)([a.resource],d,p),v={ns:n};let g;try{const e=yield Object(i.jb)(o.TriggerTemplateModel,d,v);g=[e,yield Object(i.jb)(o.EventListenerModel,b,v)]}catch(e){return Promise.reject(e)}return m(b.metadata.name,n),Promise.resolve(g)})),b=(e,t)=>d(void 0,void 0,void 0,(function*(){const a=[],n=t?t+"-push":"github-push",r=yield Object(i.kb)(o.ClusterTriggerBindingModel,n);if(r){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var a;return Object.assign(Object.assign({},t),{type:s.x.VolumeClaimTemplate,data:Object(c.c)(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)})}),triggerBinding:{name:n,resource:r}}),i=yield p(e,t);a.push(...i)}return Promise.resolve(a)}))},5910:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(16),r=a(141),i=a(22),o=a(50),s=a(974),l=a(5673),c=a(5711);const u={queryParams:{dryRun:"All"}},d=e=>"isi"in e,m=(e,t,a,u)=>{var m,p,b,v;const{project:{name:g},application:{name:h},name:f,labels:O,image:{ports:y,tag:E},route:{unknownTargetPort:j,defaultUnknownPort:k},resources:T}=e,S=n.a(t,"metadata.name")||n.a(e,"image.name"),_=n.a(e,"git"),R=Object(c.a)({name:f,applicationName:h,imageStreamName:S,selectedTag:E}),P=Object(c.d)(T,f),N=_?Object.assign(Object.assign({},Object(c.c)(_.url,_.ref)),Object(c.b)()):Object(c.b)();let C=y;const w=null===(m=e.build)||void 0===m?void 0:m.strategy;if(w===s.BuildStrategyType.Docker&&j){C=[{containerPort:r.a(j),protocol:"TCP"}]}else if(w!==s.BuildStrategyType.Devfile||i.a(null===(p=null==a?void 0:a.spec)||void 0===p?void 0:p.ports)){if(d(e)){const{isi:{ports:t}}=e;C=t}else if(i.a(C)){C=[{containerPort:k,protocol:"TCP"}]}}else C=[...a.spec.ports.map(e=>({name:e.name,containerPort:e.port,protocol:"TCP"}))];if(j&&!C.some(e=>j===e.containerPort.toString())){const e={containerPort:r.a(j),protocol:"TCP"},t=null===(v=null===(b=null==u?void 0:u.spec)||void 0===b?void 0:b.port)||void 0===v?void 0:v.targetPort;C=[...C.filter(e=>e.containerPort!==k),e],t&&(C=[...C.filter(e=>e.containerPort!==t),e])}const I={kind:"Service",apiVersion:"v1",metadata:{name:f,namespace:g,labels:Object.assign(Object.assign({},R),O),annotations:Object.assign({},N)},spec:{selector:P,ports:o.a(C,e=>({port:e.containerPort,targetPort:e.containerPort,protocol:e.protocol,name:e.name||Object(l.n)(e)}))}};return Object(c.h)(a,I)},p=(e,t,a)=>{var i,o,u,m;const{project:{name:p},application:{name:b},name:v,labels:g,route:{hostname:h,unknownTargetPort:f,defaultUnknownPort:O,secure:y,path:E,tls:j,labels:k},image:{ports:T,tag:S}}=e,_=n.a(t,"metadata.name")||n.a(e,"image.name"),R=n.a(e,"git"),P=Object(c.a)({name:v,applicationName:b,imageStreamName:_,selectedTag:S}),N=R?Object.assign(Object.assign({},Object(c.c)(R.url,R.ref)),Object(c.b)()):Object(c.b)();let C,w=T;if(d(e)){const{isi:{ports:t}}=e;w=t}const I=null===(i=e.build)||void 0===i?void 0:i.strategy;C=I===s.BuildStrategyType.Docker&&f?Object(l.n)({containerPort:r.a(f),protocol:"TCP"}):I===s.BuildStrategyType.Devfile?null===(u=null===(o=null==a?void 0:a.spec)||void 0===o?void 0:o.port)||void 0===u?void 0:u.targetPort:f?Object(l.n)({containerPort:r.a(f),protocol:"TCP"}):Object(l.n)({containerPort:(null===(m=w[0])||void 0===m?void 0:m.containerPort)||O,protocol:"TCP"});const x={kind:"Route",apiVersion:"route.openshift.io/v1",metadata:{name:v,namespace:p,labels:Object.assign(Object.assign(Object.assign({},P),g),k),annotations:N},spec:{to:{kind:"Service",name:v},tls:y?j:null,host:h,path:E,port:{targetPort:C},wildcardPolicy:"None"}};return Object(c.h)(a,x)}},5911:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(83),r=a(77),i=a(108),o=a(6027),s=a(5900);const l=(e,t)=>{if(Object(s.b)(e.spec.source)){const{gitImport:a}=e.spec.source,n=new URLSearchParams;return n.set("formType","sample"),n.set("sample",e.metadata.name),n.set("git.repository",a.repository.url),a.repository.revision&&n.set("git.revision",a.repository.revision),a.repository.contextDir&&n.set("git.contextDir",a.repository.contextDir),`/import/ns/${t}?${n}`}if(Object(s.a)(e.spec.source)){const{containerImport:a}=e.spec.source,n=new URLSearchParams;return n.set("sample",e.metadata.name),n.set("image",a.image),`/deploy-image/ns/${t}?${n}`}return null},c=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),repository:{url:e.get("git.repository"),revision:e.get("git.revision"),contextDir:e.get("git.contextDir")}}},u=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),image:e.get("image")}},d=()=>!!new URLSearchParams(window.location.search).get("sample"),m=e=>e.reduce((e,t)=>{var a;const n=(null===(a=t.metadata.labels)||void 0===a?void 0:a["console.openshift.io/name"])||t.metadata.name;return e[n]||(e[n]=[]),e[n].push(t),e},{}),p=(e,t)=>{var a,n,r,i;if(!e||!e.length)return null;const o=(t||"en").split("-")[0].toLowerCase(),s=((t||"").split("-")[1]||"").toUpperCase();let l=null,c=null,u=null,d=null,m=null;for(const t of e){const e=((null===(n=null===(a=t.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n["console.openshift.io/lang"])||"en").toLowerCase(),p=((null===(i=null===(r=t.metadata)||void 0===r?void 0:r.labels)||void 0===i?void 0:i["console.openshift.io/country"])||"").toUpperCase();if(e===o&&p===s)return t;e===o&&(p||l?p&&!c&&(c=t):l=t),"en"===e&&(p!==s||u?p||d?m||(m=t):d=t:u=t)}return l||c||u||d||m},b=()=>Object(i.a)({isList:!0,groupVersionKind:Object(n.getGroupVersionKindForModel)(o.a)}),v=e=>Object(r.j)({model:o.a,name:e})},5919:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(10),r=a(8),i=a(15),o=a(5586),s=a(5588),l=a(5705);const c=(e,t,a)=>({apiVersion:Object(r.n)(o.TriggerTemplateModel),kind:o.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(i.wd)()}`},spec:{params:a,resourcetemplates:[t]}}),u=(e,t,a)=>{return{apiVersion:Object(r.n)(o.EventListenerModel),kind:o.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(i.wd)()},spec:{serviceAccountName:s.l,triggers:[{bindings:e.map(e=>0===(null==a?void 0:a.major)||1===(null==a?void 0:a.major)&&0===(null==a?void 0:a.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(n=t.metadata.name,Object(l.b)(a)?{ref:n}:{name:n})}]}};var n},d=(e,t,a=8080)=>{const i=e.metadata.name,s=t||"el-"+i;return{apiVersion:Object(r.n)(n.RouteModel),kind:n.RouteModel.kind,metadata:{name:s,labels:{"app.kubernetes.io/managed-by":o.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:i}},spec:{port:{targetPort:a},to:{kind:"Service",name:s,weight:100}}}}},5929:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return I})),a.d(t,"k",(function(){return D})),a.d(t,"f",(function(){return U})),a.d(t,"n",(function(){return L})),a.d(t,"b",(function(){return M})),a.d(t,"j",(function(){return B})),a.d(t,"l",(function(){return q})),a.d(t,"d",(function(){return G})),a.d(t,"m",(function(){return V})),a.d(t,"h",(function(){return Y})),a.d(t,"c",(function(){return W})),a.d(t,"e",(function(){return z})),a.d(t,"i",(function(){return Q}));var n,r=a(117),i=a(16),o=a(148),s=a(499),l=a(22),c=a(225),u=a(4436),d=a(599),m=a(5591),p=a(974),b=a(1401),v=a(10),g=a(8),h=a(1402),f=a(5620),O=a(5850),y=a(5648),E=a(5669),j=a(15),k=a(5786),T=a(2221),S=a(5673),_=a(5723),R=a(6032),P=a(5599),N=a(5649),C=a(5651),w=a(6010);!function(e){e.Git="Import from Git",e.Dockerfile="Import from Dockerfile",e.Container="Deploy Image",e.JarUpload="Upload JAR file"}(n||(n={}));const I=e=>{switch(e){case n.Git:return"devconsole~Import from Git";case n.Dockerfile:return"devconsole~Import from Dockerfile";case n.Container:return"devconsole~Deploy Image";case n.JarUpload:return"devconsole~Upload JAR file";default:return e}};var x;!function(e){e.Git="Git",e.Binary="Binary"}(x||(x={}));const A=e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.type},D=e=>{switch(e.kind){case v.DeploymentConfigModel.kind:return P.k.OpenShift;case v.DeploymentModel.kind:return P.k.Kubernetes;case Object(g.Db)(e)===Object(g.Hb)(h.l)?h.l.kind:"":return P.k.KnativeService;default:return null}},U=(e,t)=>{switch(e){case p.BuildStrategyType.Source:return t===x.Binary?n.JarUpload:n.Git;case p.BuildStrategyType.Docker:return n.Dockerfile;default:return n.Container}},L=(e,t)=>{switch(e){case p.BuildStrategyType.Source:return t===x.Binary?w.b:N.d;case p.BuildStrategyType.Docker:return N.d;default:return R.a}},M=(e,t,a)=>!!r.a(e,e=>{var n;return a===v.DeploymentConfigModel.kind&&"ImageChange"===t?e.type===t&&(null===(n=e.imageChangeParams)||void 0===n?void 0:n.automatic):e.type===t}),B=e=>{var t,a,n,r,i,s,l,c;const{metadata:u,spec:d}=e,m=null!==(n=null===(a=null===(t=null==d?void 0:d.template)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.containers)&&void 0!==n?n:[],p=null!==(l=null===(s=null===(i=null===(r=null==m?void 0:m[0])||void 0===r?void 0:r.ports)||void 0===i?void 0:i[0])||void 0===s?void 0:s.containerPort)&&void 0!==l?l:"";return{create:"cluster-local"!==(null===(c=null==u?void 0:u.labels)||void 0===c?void 0:c[h.i]),unknownTargetPort:o.a(p),targetPort:o.a(p),defaultUnknownPort:8080}},F=(e,t)=>{const a=i.a(t,"metadata.labels",{}),n=i.a(e,"metadata.labels",{});return s.a(n,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility",...Object.keys(a)])},$=(e,t)=>{var a,n,r,s;let u={disable:!l.a(e),create:!l.a(e),targetPort:i.a(e,"spec.port.targetPort",""),unknownTargetPort:o.a(null===(s=null===(r=null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.port)||void 0===n?void 0:n.targetPort)||void 0===r?void 0:r.split("-"))||void 0===s?void 0:s[0])||"",defaultUnknownPort:8080,path:i.a(e,"spec.path",""),hostname:i.a(e,"spec.host",""),secure:c.a(e,"spec.tls.termination"),tls:{termination:i.a(e,"spec.tls.termination",null),insecureEdgeTerminationPolicy:i.a(e,"spec.tls.insecureEdgeTerminationPolicy",null),caCertificate:i.a(e,"spec.tls.caCertificate",""),certificate:i.a(e,"spec.tls.certificate",""),destinationCACertificate:i.a(e,"spec.tls.destinationCACertificate",""),key:i.a(e,"spec.tls.key","")},labels:F(e,t)};return D(t)===P.k.KnativeService&&(u=Object.assign(Object.assign({},u),B(t))),u},K=(e,t,a,n)=>{const r=((e,t,a)=>e?P.a.BUILDS:t?P.a.SHIPWRIGHT_BUILD:a?P.a.PIPELINES:P.a.DISABLED)(e,t,a);let o,s,l;if(r===P.a.BUILDS)o=i.a(e,"spec.strategy.type","");else if(r===P.a.SHIPWRIGHT_BUILD)switch(s=i.a(t,"spec.strategy.name",""),s){case k.a.BUILDAH:o=p.BuildStrategyType.Docker;break;case k.a.S2I:o=p.BuildStrategyType.Source;break;default:o=""}if(r===P.a.BUILDS)switch(o){case p.BuildStrategyType.Source:l=i.a(e,"spec.strategy.sourceStrategy");break;case p.BuildStrategyType.Docker:l=i.a(e,"spec.strategy.dockerStrategy");break;default:l={env:[]}}else r===P.a.SHIPWRIGHT_BUILD&&(l=i.a(t,"spec"));const c=i.a(e,"spec.triggers");return{env:(null==l?void 0:l.env)||[],triggers:{webhook:M(c,P.c[n]),image:M(c,"ImageChange"),config:M(c,"ConfigChange")},strategy:o||(Object(O.c)(a)?p.BuildStrategyType.Docker:p.BuildStrategyType.Source),source:{type:A(e)},option:r,clusterBuildStrategy:s}},q=e=>{let t={scaling:{minpods:"",maxpods:"",concurrencytarget:"",concurrencylimit:"",autoscale:{autoscalewindow:"",autoscalewindowUnit:"s",defaultAutoscalewindowUnit:"s"},concurrencyutilization:""},domainMapping:[]};if(D(e)===P.k.KnativeService){const{spec:{template:{metadata:a,spec:n}}}=e,r=null==a?void 0:a.annotations,i=(null==r?void 0:r[h.d])||"",{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l}=Object(C.b)(i);t={scaling:{minpods:(null==r?void 0:r[h.h])||"",maxpods:(null==r?void 0:r[h.g])||"",concurrencytarget:(null==r?void 0:r[h.e])||"",concurrencylimit:(null==n?void 0:n.containerConcurrency)||"",autoscale:{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l},concurrencyutilization:(null==r?void 0:r[h.f])||""},domainMapping:[]}}return t},G=e=>{var t,a,n,r,i,o,s,l,c,u,d,m,p,b;const v={env:[],replicas:1,triggers:{image:!0,config:!0}},h=null===(r=null===(n=null===(a=null===(t=e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.spec)||void 0===n?void 0:n.containers)||void 0===r?void 0:r.find(t=>{var a;return[e.metadata.name,null===(a=e.metadata.labels)||void 0===a?void 0:a["app.kubernetes.io/name"]].includes(t.name)}),f=null!==(i=null==h?void 0:h.env)&&void 0!==i?i:[];switch(D(e)){case P.k.KnativeService:return Object.assign(Object.assign({},v),{env:f,triggers:{image:(null==h?void 0:h.imagePullPolicy)===g.c.Always}});case P.k.OpenShift:{const t=null===(o=e.spec)||void 0===o?void 0:o.triggers;return{env:f,triggers:{image:M(t,"ImageChange",e.kind),config:M(t,"ConfigChange")},replicas:null!==(l=null===(s=e.spec)||void 0===s?void 0:s.replicas)&&void 0!==l?l:1}}case P.k.Kubernetes:{const t=null===(m=JSON.parse(null!==(d=null===(u=null===(c=e.metadata)||void 0===c?void 0:c.annotations)||void 0===u?void 0:u["image.openshift.io/triggers"])&&void 0!==d?d:"[]"))||void 0===m?void 0:m[0];return{env:f,triggers:{image:"false"===(null==t?void 0:t.paused)},replicas:null!==(b=null===(p=e.spec)||void 0===p?void 0:p.replicas)&&void 0!==b?b:1}}default:return v}},V=e=>{const t=i.a(e,"metadata.labels",{});return s.a(t,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility"])},Y=e=>{var t,a;const n=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.openshift.io/runtime"];return{runtimeIcon:n&&Object(b.g)(n)?n:null}},H=(e,t,a)=>{var n,r,o,s,c,d,m,p,b,v,g,h,f,O,y;if(l.a(e)&&l.a(t)&&l.a(a))return{};const j=u.a(null!==(c=null===(s=null===(o=null===(r=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.strategy)||void 0===r?void 0:r.sourceStrategy)||void 0===o?void 0:o.from)||void 0===s?void 0:s.name)&&void 0!==c?c:"",":"),k=l.a(e)?l.a(t)?(e=>{var t,a,n,r,i,o,s;const l=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.params,c=null!==(n=null===(a=null==l?void 0:l.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===a?void 0:a.default)&&void 0!==n?n:"";return{url:c,ref:null!==(i=null===(r=null==l?void 0:l.find(e=>"GIT_REVISION"===(null==e?void 0:e.name)))||void 0===r?void 0:r.default)&&void 0!==i?i:"",dir:null!==(s=null===(o=null==l?void 0:l.find(e=>"PATH_CONTEXT"===(null==e?void 0:e.name)))||void 0===o?void 0:o.default)&&void 0!==s?s:"/",type:Object(N.c)(c),showGitType:!1,secret:"",isUrlValidating:!1}})(a):(e=>{var t,a,n,r;const o=null!==(r=null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.git)||void 0===n?void 0:n.url)&&void 0!==r?r:"";return{url:o,type:Object(N.c)(o),ref:i.a(e,"spec.source.git.revision",""),dir:i.a(e,"spec.source.contextDir",""),showGitType:!1,secret:i.a(e,"spec.source.git.cloneSecret",""),isUrlValidating:!1}})(t):(e=>{var t,a,n,r;const o=null!==(r=null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.git)||void 0===n?void 0:n.uri)&&void 0!==r?r:"";return{url:o,type:Object(N.c)(o),ref:i.a(e,"spec.source.git.ref",""),dir:i.a(e,"spec.source.contextDir",""),showGitType:!1,secret:i.a(e,"spec.source.sourceSecret.name",""),isUrlValidating:!1}})(e);return{git:k,docker:{dockerfilePath:(null===(p=null===(m=null===(d=null==e?void 0:e.spec)||void 0===d?void 0:d.strategy)||void 0===m?void 0:m.dockerStrategy)||void 0===p?void 0:p.dockerfilePath)||(null===(g=null===(v=null===(b=null==a?void 0:a.spec)||void 0===b?void 0:b.params)||void 0===v?void 0:v.find(e=>"DOCKERFILE"===(null==e?void 0:e.name)))||void 0===g?void 0:g.default)||"Dockerfile"},image:{selected:(null===(f=null===(h=null==a?void 0:a.metadata)||void 0===h?void 0:h.labels)||void 0===f?void 0:f[E.h])||j[0]||"",recommended:"",tag:(null===(y=null===(O=null==a?void 0:a.metadata)||void 0===O?void 0:O.labels)||void 0===y?void 0:y[E.i])||j[1]||"",tagObj:{},ports:[],isRecommending:!1,couldNotRecommend:!1},build:K(e,t,a,k.type)}},W={searchTerm:"",registry:"external",allowInsecureRegistry:!1,imageStream:{image:"",tag:"",namespace:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},build:{env:[],triggers:{},strategy:""},isSearchingForImage:!1},z=e=>{const t=i.a(e,"spec.template.spec.containers[0].image",null);return l.a(e)||!t?W:Object.assign(Object.assign({},W),{searchTerm:t,registry:S.b.External,imageStream:Object.assign({},W.imageStream)})},Q=(e,t,a)=>{var n,r,o,s,c;const u=null===(n=e.editAppResource)||void 0===n?void 0:n.data,p=null===(r=e.route)||void 0===r?void 0:r.data,b=null===(o=e.buildConfig)||void 0===o?void 0:o.data,v=null===(s=e.shipwrightBuild)||void 0===s?void 0:s.data,g=null===(c=e.pipeline)||void 0===c?void 0:c.data,O=((e,t,a,n,r)=>{const o=i.a(e,'metadata.labels["app.kubernetes.io/part-of"]');return{formType:"edit",name:n,application:{name:o||"",selectedKey:o||T.z},project:{name:r},route:$(t,e),resources:D(e),serverless:q(e),pipeline:{enabled:!l.a(a),type:f.a.PIPELINE},pac:{pacHasError:!1,repository:Object.assign({},y.i)},deployment:G(e),labels:V(e),limits:Object(j.Rc)(e),healthChecks:Object(_.a)(e),import:{showEditImportStrategy:!0,selectedStrategy:{name:"",type:m.c.S2I,priority:0,detectedFiles:[]}}}})(u,p,g,t,a),E=H(b,v,g);let k={},R={},P={},N={};return l.a(E)?(R=Y(u),P=(e=>{var t,a,n,r,i,o;const s=null===(t=null==e?void 0:e.imageStream)||void 0===t?void 0:t.data;if(l.a(s))return{};const c=d.a(s,["metadata.resourceVersion"],["desc"]),u=null===(r=null===(n=null===(a=null==c?void 0:c[0])||void 0===a?void 0:a.spec)||void 0===n?void 0:n.tags)||void 0===r?void 0:r[0],m=null===(i=null==u?void 0:u.from)||void 0===i?void 0:i.name,p=(null===(o=null==u?void 0:u.importPolicy)||void 0===o?void 0:o.insecure)||!1;return Object.assign(Object.assign({},W),{searchTerm:m,registry:"external",allowInsecureRegistry:p,imageStream:Object.assign({},W.imageStream)})})(e),N=l.a(P)?(e=>{const t=i.a(e,'metadata.labels["app.openshift.io/runtime-namespace"]',""),a=i.a(e,'metadata.labels["app.openshift.io/runtime"]',""),n=i.a(e,'metadata.labels["app.openshift.io/runtime-version"]',"");return Object.assign(Object.assign({},W),{registry:S.b.Internal,imageStream:{image:a,tag:n,namespace:t}})})(u):{},!l.a(P)||i.a(N,"imageStream.tag")||i.a(N,"imageStream.image")||(null==u?void 0:u.kind)===h.l.kind&&(N={},P=z(u))):A(b)===x.Binary&&(k=((e,t)=>{var a,n,r,i,o,s,l,c,u,d,m;const p=e.metadata.name,b=null!==(r=null===(n=null===(a=t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n.jarFileName)&&void 0!==r?r:"",v=null!==(m=null===(d=null===(u=null===(c=null===(l=null===(s=null===(o=null===(i=e.spec)||void 0===i?void 0:i.template)||void 0===o?void 0:o.spec)||void 0===s?void 0:s.containers)||void 0===l?void 0:l.find(e=>e.name===p))||void 0===c?void 0:c.env)||void 0===u?void 0:u.find(e=>"JAVA_ARGS"===e.name))||void 0===d?void 0:d.value)&&void 0!==m?m:"";return Object.assign({fileUpload:{name:b,value:"",javaArgs:v}},Y(e))})(u,b)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},O),R),k),E),P),N)}},5944:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(5588);const r=()=>{var e;try{return JSON.parse(null!==(e=sessionStorage.getItem(n.k))&&void 0!==e?e:"{}")}catch(e){return{}}},i=e=>{var t;return null!==(t=r()[e])&&void 0!==t?t:[]},o=(e,t)=>i(t).includes(e),s=(e,t)=>{if(!e||!t)return;const a=i(t).filter(t=>t!==e);sessionStorage.setItem(n.k,JSON.stringify(Object.assign(Object.assign({},r()),{[t]:a})))},l=(e,t)=>{if(!e||!t)return;const a=r();a[t]||(a[t]=[]),a[t].includes(e)||(a[t].push(e),sessionStorage.setItem(n.k,JSON.stringify(a)))}},5961:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(118),i=a(4359);const o=({close:e,namespace:t,save:a,secretType:r})=>n.createElement(i.SecretFormWrapper,{onCancel:e,onSave:t=>{e(),a(t)},fixed:{metadata:{namespace:t}},secretTypeAbstraction:r,isCreate:!0,modal:!0}),s=Object(r.f)(o)},6010:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(2338),r=a(689),i=a(15),o=a(5655),s=a(5621);const l=/\.(jar)$/i,c=e=>r.object().shape({name:r.string().matches(l,{message:e("devconsole~Must be a JAR file.")}).max(253,e("devconsole~Cannot be longer than 253 characters.")).required(e("devconsole~Required")),javaArgs:r.string()}),u=e=>r.object().shape({name:Object(i.Zd)(e),fileUpload:c(e),project:s.l,application:s.a,image:Object(s.h)(e),deployment:Object(s.c)(e),serverless:Object(s.o)(e),route:Object(s.n)(e),limits:Object(s.k)(e),build:s.b,resources:s.m,healthChecks:Object(o.a)(e)}),d=e=>{if(l.test(e))return n.a(e.split(".").shift())}},6011:function(e,t,a){"use strict";var n=a(0),r=a(281),i=a(55),o=a(7),s=a(15),l=a(6051),c=a(5618);t.a=({project:e,noProjectsAvailable:t,extraMargin:a,subPath:u,fullWidth:d})=>{const[m]=Object(i.e)(u?u+".application.initial":"application.initial"),[p]=Object(i.e)("formType"),{t:b}=Object(o.useTranslation)();return n.createElement(c.a,{title:b("devconsole~General"),extraMargin:a,fullWidth:d},t&&n.createElement(n.Fragment,null,n.createElement(s.ab,{type:r.b.text,"data-test-id":"application-form-project-name",name:u?u+".project.name":"project.name",label:b("devconsole~Project name"),helpText:b("devconsole~A unique name for the Project."),required:!0}),n.createElement(s.ab,{type:r.b.text,"data-test-id":"application-form-project-display-name",name:u?u+".project.displayName":"project.displayName",label:b("devconsole~Project display name")}),n.createElement(s.kc,{"data-test-id":"application-form-project-description",name:u?u+".project.description":"project.description",label:b("devconsole~Project description")})),!m.value&&n.createElement(l.a,{namespace:e.name,noProjectsAvailable:t,subPath:u}),n.createElement(s.ab,{type:r.b.text,"data-test-id":"application-form-app-name",name:u?u+".name":"name",label:b("devconsole~Name"),helpText:b("devconsole~A unique name given to the component that will be used to name associated resources."),isDisabled:p.value&&"edit"===p.value,required:!(p.value&&"edit"===p.value)}))}},6012:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));var n=a(0),r=a(29),i=a(1422),o=a(5786);const s=e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===e.type)},l=e=>{const t=s(e);if(t){if("Unknown"===t.status&&"Pending"===t.reason)return o.b.PENDING;if("Unknown"===t.status&&"Running"===t.reason)return o.b.RUNNING;if("True"===t.status)return o.b.SUCCEEDED;if("False"===t.status)return o.b.FAILED}return o.b.UNKNOWN};t.a=({buildRun:e})=>{const t=l(e),a=s(e);return n.createElement(i.a,Object.assign({},(e=>{const t=s(e);if(t){if("Unknown"===t.status&&"Pending"===t.reason)return{status:o.b.PENDING,title:r.a.t("shipwright-plugin~Pending")};if("Unknown"===t.status&&"Running"===t.reason)return{status:o.b.RUNNING,title:r.a.t("shipwright-plugin~Running")};if("True"===t.status)return{status:o.b.SUCCEEDED,title:r.a.t("shipwright-plugin~Succeeded")};if("False"===t.status)return{status:o.b.FAILED,title:r.a.t("shipwright-plugin~Failed")}}return{status:o.b.UNKNOWN,title:r.a.t("shipwright-plugin~Unknown")}})(e)),t===o.b.FAILED?n.createElement(n.Fragment,null,n.createElement("pre",{"data-test":"failure-popup"},a.reason),a.message):null)}},6027:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={kind:"ConsoleSample",label:"ConsoleSample",labelPlural:"ConsoleSamples",apiGroup:"console.openshift.io",apiVersion:"v1",abbr:"CS",namespaced:!1,crd:!0,plural:"consolesamples",propagationPolicy:"Background"}},6032:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(689),r=a(15),i=a(5655),o=a(5621);const s=e=>n.object().shape({project:o.l,application:o.a,name:Object(r.Zd)(e),isi:Object(o.j)(e),serverless:Object(o.o)(e),deployment:Object(o.c)(e),route:Object(o.n)(e),limits:Object(o.k)(e),resources:o.m,healthChecks:Object(i.a)(e)})},6051:function(e,t,a){"use strict";var n=a(0),r=a(219),i=a(297),o=a(319),s=a(157),l=a(281),c=a(87),u=a(55),d=a(22),m=a(160),p=a(7),b=a(15),v=a(2221),g=a(5625),h=a(5704);t.a=({namespace:e,noProjectsAvailable:t,subPath:a})=>{const{t:f}=Object(p.useTranslation)(),[O,y]=n.useState(!0),E=n.useRef([]),j=!t,[k,{touched:T,error:S}]=Object(u.e)(a?a+".application.selectedKey":"application.selectedKey"),[_]=Object(u.e)(a?a+".application.name":"application.name"),{setFieldValue:R,setFieldTouched:P}=Object(u.f)(),[N,C]=n.useState(!1),w=n.useRef(),I=Object(b.Kc)("application-name","dropdown"),x=!(T&&S),A=x?"":S;Object(b.Ge)(k.value);const D=[{actionTitle:f("topology~Create application"),actionKey:v.b},{actionTitle:f("topology~No application group"),actionKey:v.z}],U=f("topology~Application"),L=f(N?"topology~Warning: the application grouping already exists.":"topology~A unique name given to the application grouping to label your resources.");return n.useEffect(()=>{var e;k.value===v.b&&(null===(e=w.current)||void 0===e||e.focus())},[k.value]),n.createElement(n.Fragment,null,j&&O&&n.createElement(r.a,{fieldId:I,label:U},n.createElement(h.a,{id:I,ariaLabel:U,dropDownClassName:"dropdown--full-width",menuClassName:"dropdown-menu--text-wrap",namespace:e,actionItems:D,autoSelect:!0,selectedKey:k.value,onChange:(e,t)=>{R(k.name,e),P(k.name,!0),R(_.name,Object(g.b)(t,e)),P(_.name,!0),C(!1)},onLoad:e=>{var t;const a=d.a(e);y(!a),E.current=m.a(e),a&&(R(k.name,""),R(_.name,null!==(t=k.value!==v.z&&_.value)&&void 0!==t?t:""))}}),n.createElement(i.a,null,n.createElement(o.a,null,x?n.createElement(s.a,null,f("topology~Select an Application to group this component.")):n.createElement(s.a,{variant:"error",icon:n.createElement(b.Mb,null)},A)))),(!O||k.value===v.b)&&n.createElement(b.ab,{type:l.b.text,required:k.value===v.b,name:_.name,ref:w,label:f("topology~Application name"),"data-test-id":"application-form-app-input",helpText:L,validated:N?c.d.warning:c.d.default,onChange:e=>{C(E.current.includes(e.target.value.trim()))},onBlur:e=>{const t=e.target.value.trim();R(_.name,t)}}))}},6105:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(0);var n=a(5684),r=a(10),i=(a(8),a(5586),a(5656)),o=a(5588);const s=()=>Object(n.a)(r.ConfigMapModel,i.f,o.j)},6106:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(15),o=a(6140),s=a(5599),l=a(5618),c=a(6213),u=a(6316),d=a(6146),m=a(6317),p=a(6147),b=a(6322);const v=({children:e})=>{const{t:t}=Object(r.useTranslation)();return n.createElement(r.Trans,{t:t,ns:"devconsole",defaults:"Click on the names to access advanced options for <0></0>.",components:[e]})},g=({appResources:e,values:t})=>{var a;const{t:l}=Object(r.useTranslation)(),[m,g]=n.useState([]);return n.createElement(i.Eb,{visibleItems:m,onVisibleItemChange:e=>{g([...m,e])},Footer:v},n.createElement(i.Fb,{name:l("devconsole~Health checks")},n.createElement(o.a,{title:l("devconsole~Health checks"),resourceType:t.resources})),"edit"===(null==t?void 0:t.formType)?n.createElement(i.Fb,{name:l("devconsole~Deployment")},n.createElement(c.a,{namespace:t.project.name,resource:null===(a=null==e?void 0:e.editAppResource)||void 0===a?void 0:a.data})):null,n.createElement(i.Fb,{name:l("devconsole~Scaling")},t.resources===s.k.KnativeService?n.createElement(b.a,null):n.createElement(p.a,{name:"deployment.replicas"})),n.createElement(i.Fb,{name:l("devconsole~Resource limits")},n.createElement(d.a,null)),n.createElement(i.Fb,{name:l("devconsole~Labels")},n.createElement(u.a,null)))};t.a=({values:e,appResources:t})=>{const{t:a}=Object(r.useTranslation)();return n.createElement(l.a,{title:a("devconsole~Advanced options")},n.createElement(m.a,{route:e.route,resources:e.resources}),n.createElement("div",null,n.createElement(g,{appResources:t,values:e})))}},6108:function(e,t,a){"use strict";var n=a(0),r=a(87),i=a(219),o=a(297),s=a(319),l=a(157),c=a(80),u=a(6139),d=a(244),m=a(55),p=a(16),b=a(22),v=a(7),g=a(13),h=a(5673),f=a(5599),O=a(5842),y=a(6155),E=a(6156),j=a(6157);a(6158);const k={loading:!1,accessLoading:!1,selectedImageStream:{}},T=(e,t)=>{const{value:a}=t;switch(t.type){case f.d.setLoading:return Object.assign(Object.assign({},e),{loading:a});case f.d.setAccessLoading:return Object.assign(Object.assign({},e),{accessLoading:a});case f.d.setSelectedImageStream:return Object.assign(Object.assign({},e),{selectedImageStream:a});default:throw new Error("Invalid action was provided in imagestream reducer")}};t.a=n.memo(({disabled:e=!1,label:t,required:a=!1,formContextField:f,dataTest:S,reloadCount:_})=>{var R,P;const{t:N}=Object(v.useTranslation)(),{values:C}=Object(m.f)(),[w,I]=n.useState(r.d.default),[x,A]=n.useReducer(T,k),[D,U]=n.useState(!1),{loading:L,accessLoading:M,selectedImageStream:B}=x,{imageStream:F,project:$,registry:K,isi:q,fromImageStreamTag:G}=p.a(C,f)||C,V=Object(h.d)(B),Y=""!==F.namespace&&!M,H=Y&&D&&!L,W=""!==F.tag||H&&!b.a(V),z=""!==F.image,Q=$.name!==F.namespace&&F.namespace!==h.a.Openshift&&(K===h.b.Internal||G)&&H&&W,J=w===r.d.error&&(null===(R=q.status)||void 0===R?void 0:R.message)&&n.createElement(n.Fragment,null,n.createElement(d.a,null)," ",null===(P=q.status)||void 0===P?void 0:P.message);return n.createElement(n.Fragment,null,n.createElement(O.a.Provider,{value:{state:x,dispatch:A,hasImageStreams:D,setHasImageStreams:U,setValidated:I}},n.createElement(i.a,{fieldId:"image-stream-dropdowns",label:t,required:a,"data-test":S},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(E.a,{disabled:e,formContextField:f})),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(y.a,{disabled:e,formContextField:f,reloadCount:_}),n.createElement("div",{className:"odc-imagestream-separator"},"/")),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(j.a,{disabled:e,formContextField:f,reloadCount:_}),n.createElement("div",{className:"odc-imagestream-separator"},":"))),w===r.d.error&&n.createElement(o.a,null,n.createElement(s.a,null,n.createElement(l.a,{variant:"error",icon:n.createElement(g.u,null)},J)))),Y&&z&&!W&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:N("devconsole~No Image streams tags found"),isInline:!0},N("devconsole~No tags are available in Image Stream {{image}}",{image:F.image}))),Y&&!L&&!H&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:N("devconsole~No Image streams found"),isInline:!0},N("devconsole~No Image streams are available in Project {{namespace}}",{namespace:F.namespace}))),Y&&!M&&Q&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",isInline:!0,title:N("devconsole~Service account default will need pull authority to deploy Images from {{namespace}}",{namespace:F.namespace})},N("devconsole~You can grant authority with the command")," ",n.createElement(u.a,{className:"odc-imagestream-clipboard",variant:u.b.expansion,isReadOnly:!0},`oc policy add-role-to-user system:image-puller system:serviceaccount:${$.name}:default --namespace=${F.namespace}`)))))})},6126:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>{var a;return null!==(a=e.find(e=>((e,t)=>{const a=(e=>-1===e.lastIndexOf(".")?null:e.split(".").pop())(e);return!(!a||0===a.length)&&t.includes(a.toLowerCase())})(t,e.properties.fileExtensions)))&&void 0!==a?a:null}},6138:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(15);const r="devconsole.import.secureRoutingOptions",i=()=>{const[e,t,a]=Object(n.ef)(r,{secure:!0,tlsTermination:"edge",insecureTraffic:"Redirect"});return[e,t,a]}},6140:function(e,t,a){"use strict";var n=a(0),r=a(5599),i=a(5618),o=a(5724),s=a(6141);t.a=({title:e,resourceType:t})=>n.createElement(i.a,{title:e},n.createElement(s.a,{probeType:o.a.ReadinessProbe}),n.createElement(s.a,{probeType:o.a.LivenessProbe}),t!==r.k.KnativeService&&n.createElement(s.a,{probeType:o.a.StartupProbe}))},6141:function(e,t,a){"use strict";var n=a(0),r=a(19),i=a(88),o=a(408),s=a(407),l=a(55),c=a(7),u=a(15),d=a(5790),m=a(5903),p=a(6142);a(6145);t.a=({probeType:e})=>{var t;const{t:a}=Object(c.useTranslation)(),{values:{healthChecks:b},setFieldValue:v}=Object(l.f)(),{viewOnly:g}=n.useContext(m.a),[h,f]=n.useState(),O=()=>{v(`healthChecks.${e}.showForm`,!0),f(null==b?void 0:b[e].data)},y=()=>{var t;v("healthChecks."+e,d.b),(null===(t=null==b?void 0:b[e])||void 0===t?void 0:t.modified)?v(`healthChecks.${e}.modified`,!1):v(`healthChecks.${e}.modified`,!0)},E=()=>{var t;(null===(t=null==b?void 0:b[e])||void 0===t?void 0:t.enabled)?(v(`healthChecks.${e}.showForm`,!1),v(`healthChecks.${e}.data`,h)):v("healthChecks."+e,d.b),v(`healthChecks.${e}.modified`,!1)},j=()=>{v(`healthChecks.${e}.showForm`,!1),v(`healthChecks.${e}.enabled`,!0),v(`healthChecks.${e}.modified`,!0)},k=()=>{v(`healthChecks.${e}.showForm`,!0)};return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-section-heading-tertiary odc-heath-check-probe__formTitle"},Object(d.a)(e,a).formTitle,(null===(t=null==b?void 0:b[e])||void 0===t?void 0:t.enabled)&&n.createElement(r.a,{className:"pf-m-link--align-left",variant:r.d.link,onClick:O},"  ",`${a(g?"devconsole~View":"devconsole~Edit")} ${a("devconsole~Probe")}`)),n.createElement("div",{className:"pf-v5-c-form__helper-text"},Object(d.a)(e,a).formSubtitle),n.createElement("div",{className:"co-toolbar__group co-toolbar__group--left"},(()=>{var t,l;return(null===(t=null==b?void 0:b[e])||void 0===t?void 0:t.showForm)?n.createElement(p.a,{onSubmit:j,onClose:E,probeType:e}):(null===(l=null==b?void 0:b[e])||void 0===l?void 0:l.enabled)?n.createElement(n.Fragment,null,n.createElement(r.a,{className:"odc-heath-check-probe__successButton",variant:r.d.plain,isInline:!0,onClick:O},n.createElement("span",{className:"odc-heath-check-probe__successText"},n.createElement(u.X,null)," ",a("devconsole~{{healthCheckProbeAdded}} added",{healthCheckProbeAdded:Object(d.a)(e,a).formTitle}))),!g&&n.createElement(i.a,{content:a("devconsole~Remove"),position:"right"},n.createElement(r.a,{className:"pf-m-plain--align-left",variant:r.d.plain,onClick:y},n.createElement(o.a,null)))):g?a("devconsole~No {{noHealthCheckProbe}}",{noHealthCheckProbe:Object(d.a)(e,a).formTitle}):n.createElement(r.a,{className:"pf-m-link--align-left",variant:r.d.link,onClick:k,icon:n.createElement(s.a,null)},a("devconsole~Add {{addHealthCheckProbe}}",{addHealthCheckProbe:Object(d.a)(e,a).formTitle}))})()))}},6142:function(e,t,a){"use strict";var n=a(0),r=a(281),i=a(2220),o=a(55),s=a(22),l=a(7),c=a(15),u=a(5618),d=a(5724),m=a(5903),p=a(6143);a(6144);t.a=({onSubmit:e,onClose:t,probeType:a})=>{var b,v,g;const{t:h}=Object(l.useTranslation)(),{values:{healthChecks:f},errors:O}=Object(o.f)(),{viewOnly:y}=n.useContext(m.a),E={httpGet:h("devconsole~HTTP GET"),command:h("devconsole~Container command"),tcpSocket:h("devconsole~TCP socket")};return n.createElement("div",{className:"odc-heath-check-probe-form"},n.createElement(u.a,null,n.createElement(c.I,{name:`healthChecks.${a}.data.requestType`,label:h("devconsole~Type"),items:E,title:d.b.HTTPGET,disabled:y,fullWidth:!0}),((e,t)=>{switch(e){case d.b.HTTPGET:return n.createElement(p.b,{probeType:t});case d.b.ContainerCommand:return n.createElement(p.a,{probeType:t});case d.b.TCPSocket:return n.createElement(p.c,{probeType:t});default:return null}})(null===(v=null===(b=null==f?void 0:f[a])||void 0===b?void 0:b.data)||void 0===v?void 0:v.requestType,a),n.createElement(c.ab,{type:r.b.text,name:`healthChecks.${a}.data.failureThreshold`,label:h("devconsole~Failure threshold"),style:{maxWidth:"100%"},helpText:h("devconsole~How many times the probe will try starting or restarting before giving up."),isDisabled:y}),n.createElement(c.ab,{type:r.b.text,name:`healthChecks.${a}.data.successThreshold`,label:h("devconsole~Success threshold"),style:{maxWidth:"100%"},helpText:h("devconsole~How many consecutive successes for the probe to be considered successful after having failed."),isDisabled:y}),n.createElement(c.bb,{type:r.b.text,name:`healthChecks.${a}.data.initialDelaySeconds`,label:h("devconsole~Initial delay"),helpText:h("devconsole~How long to wait after the Container starts before checking its health."),afterInput:n.createElement(i.a,null,h("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:y}),n.createElement(c.bb,{type:r.b.text,name:`healthChecks.${a}.data.periodSeconds`,label:h("devconsole~Period"),helpText:h("devconsole~How often to perform the probe."),afterInput:n.createElement(i.a,null,h("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:y}),n.createElement(c.bb,{type:r.b.text,name:`healthChecks.${a}.data.timeoutSeconds`,label:h("devconsole~Timeout"),helpText:h("devconsole~How long to wait for the probe to finish, if the time is exceeded, the probe is considered failed."),afterInput:n.createElement(i.a,null,h("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:y})),n.createElement(c.g,{onSubmit:y?void 0:e,onClose:t,isDisabled:!s.a(null===(g=null==O?void 0:O.healthChecks)||void 0===g?void 0:g[a])}))}},6143:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return O}));var n=a(0),r=a(281),i=a(219),o=a(55),s=a(22),l=a(363),c=a(839),u=a(113),d=a(7),m=a(1949),p=a(15),b=a(5599),v=a(5903);const g=(e,t,a,i)=>t===b.k.KnativeService?n.createElement(p.ab,{type:r.b.text,name:"knative-port",label:i("devconsole~Port"),placeholder:"0",isDisabled:!0}):n.createElement(p.ab,{type:r.b.text,name:e,label:i("devconsole~Port"),isDisabled:a,required:!0}),h=({probeType:e})=>{var t,a,b;const{t:h}=Object(d.useTranslation)(),{values:{healthChecks:f,resources:O},setFieldValue:y}=Object(o.f)(),{viewOnly:E}=n.useContext(v.a),j=null===(b=null===(a=null===(t=null==f?void 0:f[e])||void 0===t?void 0:t.data)||void 0===a?void 0:a.httpGet)||void 0===b?void 0:b.httpHeaders,k=s.a(j)?[["",""]]:j.map(e=>l.a(e)),[T,S]=n.useState(k),_=`healthChecks.${e}.data.httpGet.port`,R=n.useCallback(({nameValuePairs:t})=>{const a=c.a(t.map(([e,t])=>u.a(t)?{name:e,valueFrom:t}:t.length?{name:e,value:t}:null));S(t),y(`healthChecks.${e}.data.httpGet.httpHeaders`,a)},[y,e]);return n.createElement(n.Fragment,null,n.createElement(p.A,{name:`healthChecks.${e}.data.httpGet.scheme`,label:h("devconsole~Use HTTPS"),value:"HTTPS",isDisabled:E}),n.createElement(i.a,{fieldId:Object(p.Kc)(`healthChecks.${e}.data.httpGet.httpHeaders`,"name-value"),name:`healthChecks.${e}.data.httpGet.httpHeaders`,label:h("devconsole~HTTP Headers")},n.createElement(m.NameValueEditor,{nameValuePairs:T,valueString:h("devconsole~Value"),nameString:h("devconsole~Header name"),addString:h("devconsole~Add header"),readOnly:E,allowSorting:!1,updateParentData:R})),n.createElement(p.ab,{type:r.b.text,name:`healthChecks.${e}.data.httpGet.path`,label:h("devconsole~Path"),placeholder:"/",isDisabled:E}),g(_,O,E,h))},f=({probeType:e})=>{const{t:t}=Object(d.useTranslation)(),{values:{resources:a}}=Object(o.f)(),{viewOnly:r}=n.useContext(v.a);return g(`healthChecks.${e}.data.tcpSocket.port`,a,r,t)},O=({probeType:e})=>{var t,a,r;const{t:i}=Object(d.useTranslation)(),{values:{healthChecks:s}}=Object(o.f)(),{viewOnly:l}=n.useContext(v.a),c=(null===(r=null===(a=null===(t=null==s?void 0:s[e])||void 0===t?void 0:t.data)||void 0===a?void 0:a.exec)||void 0===r?void 0:r.command)||[""];return n.createElement(p.lc,{name:`healthChecks.${e}.data.exec.command`,label:i("devconsole~Command"),addLabel:i("devconsole~Add command"),placeholder:i("devconsole~argument"),helpText:i("devconsole~The command to run inside the Container."),required:!0,disableDeleteRow:1===c.length,isReadOnly:l})}},6144:function(e,t,a){},6145:function(e,t,a){},6146:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(7),o=a(5),s=a(10),l=a(15),c=a(5599),u=a(5618);t.a=({hideTitle:e})=>{const{t:t}=Object(i.useTranslation)(),{values:{container:a}}=Object(r.f)();return n.createElement(u.a,{title:!e&&t("devconsole~Resource limit"),subTitle:t("devconsole~Resource limits control how much CPU and memory a container will consume on a node."),fullWidth:!0},a&&n.createElement("span",null,t("devconsole~Container"),"  ",n.createElement(o.fb,{kind:s.ContainerModel.kind})," ",a),n.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~CPU")),n.createElement(l.Pb,{name:"limits.cpu.request",label:t("devconsole~Request"),unitName:"limits.cpu.requestUnit",unitOptions:c.b,helpText:t("devconsole~The minimum amount of CPU the Container is guaranteed.")}),n.createElement(l.Pb,{name:"limits.cpu.limit",label:t("devconsole~Limit"),unitName:"limits.cpu.limitUnit",unitOptions:c.b,helpText:t("devconsole~The maximum amount of CPU the Container is allowed to use when running.")}),n.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~Memory")),n.createElement(l.Pb,{name:"limits.memory.request",label:t("devconsole~Request"),unitName:"limits.memory.requestUnit",unitOptions:c.g,helpText:t("devconsole~The minimum amount of Memory the Container is guaranteed.")}),n.createElement(l.Pb,{name:"limits.memory.limit",label:t("devconsole~Limit"),unitName:"limits.memory.limitUnit",unitOptions:c.g,helpText:t("devconsole~The maximum amount of Memory the Container is allowed to use when running.")}))}},6147:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(15),o=a(5618);t.a=({name:e})=>{const{t:t}=Object(r.useTranslation)();return n.createElement(o.a,{title:t("devconsole~Scaling"),subTitle:t("devconsole~Replicas are scaled manually based on CPU usage."),dataTest:"scaling"},n.createElement(i.ub,{name:e,label:t("devconsole~Replicas"),helpText:t("devconsole~The number of instances of your Image."),setOutputAsIntegerFlag:!0}))}},6154:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(57),o=a(7),s=a(5591),l=a(5),c=a(10),u=a(15),d=a(5673),m=a(6543),p=a(6544),b=a(6545);t.a=({selectedBuilderImage:e,selectedImageTag:t,showImageInfo:a=!0})=>{const{t:v}=Object(o.useTranslation)(),{values:{import:{showEditImportStrategy:g,selectedStrategy:h}},setFieldValue:f,setFieldError:O}=Object(r.f)(),{name:y,tags:E,displayName:j,imageStreamNamespace:k}=e,T={};i.a(E,({name:e})=>T[e]=n.createElement(l.jb,{kind:"ImageStreamTag",name:e}));const[S,_]=Object(d.k)(E,t,j),R=(null==h?void 0:h.type)===s.c.SERVERLESS_FUNCTION,P=Object(m.a)();return n.useEffect(()=>{f("image.tagObj",S),P(c.ImageStreamTagModel,`${y}:${t}`,k).then(e=>{const t=Object(d.e)(e);f("image.ports",t)}).catch(e=>O("image.ports",e.message))},[t,f,O,y,k,S]),n.createElement(n.Fragment,null,n.createElement("div",{style:g||R?{}:{display:"none"}},n.createElement(u.I,{name:"image.tag",label:v("devconsole~Builder Image version"),items:T,title:T[t],fullWidth:!0,required:!0})),S&&a&&n.createElement(b.a,{displayName:_,tag:S}),!R&&n.createElement(p.a,{name:"image.imageEnv",imageStreamName:y,imageStreamTag:t}))}},6155:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(16),o=a(22),s=a(7),l=a(15),c=a(5673),u=a(5599),d=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:m}=Object(s.useTranslation)(),p={},{values:b,setFieldValue:v,initialValues:g}=Object(r.f)(),{imageStream:h,formType:f}=i.a(b,t)||b,{isi:O}=i.a(g,t)||g,{state:y,dispatch:E,hasImageStreams:j,setHasImageStreams:k}=n.useContext(d.a),{accessLoading:T,loading:S}=y,_=""!==h.namespace&&!T,R=_&&j&&!S,P=t?t+".":"",N=n.useCallback(e=>{v(P+"imageStream.tag",e===h.image?h.tag:""),"edit"!==f&&v(P+"isi",O);const t=i.a(p,[h.namespace,e],{});E({type:u.d.setSelectedImageStream,value:t})},[v,P,h.image,h.tag,h.namespace,f,O,p,E]);return n.useEffect(()=>{h.image&&N(h.image)},[h.image,R]),n.useEffect(()=>{a&&h.image&&N(h.image)},[a,R]),n.createElement(l.Ob,{name:P+"imageStream.image",label:m("devconsole~Image Stream"),resources:Object(c.c)(h.namespace),dataSelector:["metadata","name"],key:h.namespace,fullWidth:!0,required:!0,title:h.image||(S&&!R?"":m(R?"devconsole~Select Image Stream":"devconsole~No Image Stream")),disabled:!R||e,onChange:N,onLoad:e=>{const t=!o.a(e);k(t),S&&_&&E({type:u.d.setLoading,value:!1})},resourceFilter:e=>{const{metadata:{namespace:t}}=e;return((e,t)=>{p[e]||(p[e]={}),p[e][t.metadata.name]=t})(t,e),t===h.namespace}})}},6156:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(16),o=a(7),s=a(15),l=a(5673),c=a(5599),u=a(5842);t.a=({disabled:e=!1,formContextField:t})=>{const{t:a}=Object(o.useTranslation)(),{values:d,setFieldValue:m,initialValues:p}=Object(r.f)(),{imageStream:b}=i.a(d,t)||d,{isi:v}=i.a(p,t)||p,{dispatch:g}=n.useContext(u.a),h=t?t+".":"",f=n.useCallback(e=>{e&&(m(h+"imageStream.image",""),m(h+"imageStream.tag","")),m(h+"isi",v),g({type:c.d.setLoading,value:!0})},[g,h,v,m]);return n.useEffect(()=>{b.namespace&&f()},[f,b.namespace]),n.createElement(s.Ob,{name:h+"imageStream.namespace",label:a("devconsole~Project"),title:b.namespace||a("devconsole~Select Project"),fullWidth:!0,required:!0,resources:Object(l.f)(),dataSelector:["metadata","name"],onChange:f,appendItems:{openshift:l.a.Openshift},disabled:e})}},6157:function(e,t,a){"use strict";var n=a(0),r=a(87),i=a(55),o=a(230),s=a(16),l=a(22),c=a(501),u=a(1557),d=a(1533),m=a(107),p=a(7),b=a(10),v=a(8),g=a(15),h=a(2221),f=a(5673),O=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:y}=Object(p.useTranslation)(),E=n.useRef(!1);let j={};const{values:k,setFieldValue:T,initialValues:S,touched:_}=Object(i.f)(),{name:R,imageStream:P,application:N,formType:C,isi:w}=s.a(k,t)||k,I=null==w?void 0:w.ports,{imageStream:x,route:A}=s.a(S,t)||S,D=t?t+".":"",{state:U,hasImageStreams:L,setValidated:M}=n.useContext(O.a),{selectedImageStream:B,accessLoading:F,loading:$}=U;j=Object(f.d)(B);const K=""!==P.namespace&&!F,q=K&&L&&!$&&!l.a(j),G=""!==P.image,V=null==x?void 0:x.image,Y=n.useCallback(e=>{T(D+"isSearchingForImage",!0),Object(v.kb)(b.ImageStreamTagModel,`${P.image}:${e}`,P.namespace).then(a=>{if(E.current)return;const{image:n,tag:o,status:l,metadata:{labels:m}}=a;t&&T(D+"imageStreamTag",a);const p=c.a(m,f.m),b=P.image,v={name:b,image:n,tag:o,status:l},g=Object(f.e)(v);T(D+"isSearchingForImage",!1),T(D+"isi.name",b),T(D+"isi.image",u.a(n,{metadata:{labels:p}})),T(D+"isi.tag",e),T(D+"isi.ports",g),T(D+"image.ports",g),"edit"!==C&&R!==b&&T(D+"name",Object(f.j)(b)),N&&N.selectedKey!==h.z&&!N.name&&T(D+"application.name",Object(f.j)(b)+"-app");const O=A&&(!A.targetPort||Object(i.d)(s.a(_,D+"imageStream"),"image"))&&!Object(i.d)(s.a(_,D+"route"),"targetPort")&&d.a(g);O&&T(D+"route.targetPort",Object(f.n)(O)),M(r.d.success)}).catch(e=>{E.current||(T(D+"isi",{}),T(D+"isi.status",{metadata:{},status:"",message:e.message}),T(D+"isSearchingForImage",!1),M(r.d.error))})},[T,D,P.image,P.namespace,t,R,C,N,A,_,M]);return n.useEffect(()=>{P.tag&&Y(P.tag)},[P.tag]),n.useEffect(()=>{a&&P.tag&&Y(P.tag)},[a]),n.useEffect(()=>{if(A&&Object(i.d)(s.a(_,D+"imageStream"),"image")&&!Object(i.d)(s.a(_,D+"route"),"targetPort")&&!m.a(V,P.image)){const e=d.a(I);e&&T(D+"route.targetPort",Object(f.n)(e))}},[_.route,_.imageStream,P.image,T,I,A,V,D,_]),n.useEffect(()=>()=>{E.current=!0},[]),n.createElement(g.I,{name:D+"imageStream.tag",label:y("devconsole~Tag"),items:j,key:P.image,autocompleteFilter:o,title:P.tag||y(K&&G&&!q?"devconsole~No tag":"devconsole~Select tag"),disabled:!G||!q||e,fullWidth:!0,required:!0,onChange:e=>{""!==e&&Y(e)}})}},6158:function(e,t,a){},6213:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(7),o=a(5591),s=a(5),l=a(15),c=a(5599),u=a(5618);t.a=({namespace:e,resource:t,showHeader:a})=>{const{t:d}=Object(i.useTranslation)(),{values:{resources:m,deployment:{env:p},import:{selectedStrategy:b,knativeFuncLoaded:v}}}=Object(r.f)(),g=t||{kind:"DeploymentConfig",metadata:{namespace:e}};return n.createElement(u.a,{title:a&&d("devconsole~Deployment"),fullWidth:!0},n.createElement(l.A,{name:"deployment.triggers.image",label:d("devconsole~Auto deploy when new Image is available")}),m===c.k.OpenShift&&n.createElement(l.A,{name:"deployment.triggers.config",label:d("devconsole~Auto deploy when deployment configuration changes")}),b.type!==o.c.SERVERLESS_FUNCTION||null!=v&&v?n.createElement(l.M,{name:"deployment.env",label:d("devconsole~Environment variables (runtime only)"),envs:p,obj:g}):n.createElement(s.S,null))}},6214:function(e,t,a){"use strict";var n=a(0),r=a(297),i=a(55),o=a(7),s=a(15),l=a(6138),c=a(5599);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[t,,a]=Object(l.b)(),{secure:u,tlsTermination:d,insecureTraffic:m}=a&&t,{values:{formType:p,route:{secure:b,tls:v}},setFieldValue:g}=Object(i.f)(),h={[c.n.EDGE]:e("devconsole~Edge"),[c.n.PASSTHROUGH]:e("devconsole~Passthrough"),[c.n.REENCRYPT]:e("devconsole~Re-encrypt")},f=v.termination===c.n.PASSTHROUGH?{[c.h.None]:e("devconsole~None"),[c.h.Redirect]:e("devconsole~Redirect")}:{[c.f.None]:e("devconsole~None"),[c.f.Allow]:e("devconsole~Allow"),[c.f.Redirect]:e("devconsole~Redirect")};return n.useEffect(()=>{"edit"!==p&&a&&(g("route.secure",u,!1),g("route.tls.termination",d,!1),g("route.tls.insecureEdgeTerminationPolicy",m,!0))},[p,m,a,u,g,d]),n.createElement(n.Fragment,null,n.createElement(s.A,{name:"route.secure",label:e("devconsole~Secure Route"),formLabel:e("devconsole~Security"),helpText:e("devconsole~Routes can be secured using several TLS termination types for serving certificates.")}),b&&n.createElement(n.Fragment,null,n.createElement(s.I,{name:"route.tls.termination",label:e("devconsole~TLS termination"),items:h,title:e("devconsole~Select termination type"),fullWidth:!0}),n.createElement(s.I,{name:"route.tls.insecureEdgeTerminationPolicy",label:e("devconsole~Insecure traffic"),items:f,title:e("devconsole~Select insecure traffic type"),helpText:e("devconsole~Policy for traffic on insecure schemes like HTTP."),fullWidth:!0}),v.termination&&"passthrough"!==v.termination&&n.createElement(n.Fragment,null,n.createElement("h3",null,e("devconsole~Certificates")),n.createElement(r.a,null,e("devconsole~TLS certificates for edge and re-encrypt termination. If not specified, the router's default certificate is used.")),n.createElement(s.J,{name:"route.tls.certificate",label:e("devconsole~Certificate"),helpText:e("devconsole~The PEM format certificate. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),n.createElement(s.J,{name:"route.tls.key",label:e("devconsole~Private Key"),helpText:e("devconsole~The PEM format key. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),n.createElement(s.J,{name:"route.tls.caCertificate",label:e("devconsole~CA certificate"),helpText:e("devconsole~The PEM format CA certificate chain. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),"reencrypt"===v.termination&&n.createElement(s.J,{name:"route.tls.destinationCaCertificate",label:e("devconsole~Destination CA Certificate"),helpText:e("devconsole~The PEM format CA certificate chain to validate the endpoint certificate for re-encrypt termination. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}))))}},6216:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(0),r=a(5591),i=a(5684),o=a(15),s=a(5729),l=a(5786);const c=()=>Object(o.Fe)("SHIPWRIGHT_BUILD"),u=()=>{const[e,t]=n.useState({s2i:!1,buildah:!1}),[a,r]=n.useState(!1),[,o,c]=Object(i.a)(s.g,l.a.S2I),[,u,d]=Object(i.a)(s.g,l.a.BUILDAH);return n.useEffect(()=>{o&&u&&r(!0)},[o,u]),n.useEffect(()=>{a&&(c||t(e=>Object.assign(Object.assign({},e),{s2i:!0})),d||t(e=>Object.assign(Object.assign({},e),{buildah:!0})))},[a,c,d]),[e,a]},d=(e,t)=>{switch(e){case r.c.S2I:return t.s2i;case r.c.DOCKERFILE:return t.buildah;default:return!1}}},6281:function(e,t,a){"use strict";var n=a(0),r=a(31),i=a(53),o=a(518),s=a(5625),l=a(761);t.a=Object(r.connect)(e=>({application:Object(o.c)(e)}),{onSetApp:i.k})(({children:e,application:t,onSetApp:a})=>{const r=n.useRef(t),i=new URLSearchParams(window.location.search).get(l.r.APPLICATION);return n.useEffect(()=>{const e=r.current,n=Object(s.b)(i);return n&&n!==e&&a(n),()=>{t!==e&&a(e)}},[i,a,r,t]),n.createElement(n.Fragment,null,e(i))})},6316:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(2253),o=a(5618);t.a=()=>{const{t:e}=Object(r.useTranslation)();return n.createElement(o.a,{title:e("devconsole~Labels"),subTitle:e("devconsole~Each label is applied to each created resource.")},n.createElement(i.a,{name:"labels",placeholder:"app.io/type=frontend",dataTest:"labels"}))}},6317:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(15),o=a(6318),s=a(6321);t.a=({route:e,resources:t})=>{const{t:a}=Object(r.useTranslation)(),{defaultUnknownPort:l,disable:c,create:u}=e;return n.createElement(n.Fragment,null,n.createElement(s.a,{defaultPort:l}),n.createElement(i.A,{name:"route.create",label:a("devconsole~Create a route"),helpText:a("devconsole~Exposes your component at a public URL"),isDisabled:c}),n.createElement(o.a,{canCreateRoute:u,resources:t}))}},6318:function(e,t,a){"use strict";var n=a(0),r=a(80),i=a(7),o=a(5),s=a(2253),l=a(5599),c=a(5618),u=a(6319),d=a(6320),m=a(6214);t.a=({canCreateRoute:e,resources:t})=>{const{t:a}=Object(i.useTranslation)();return n.createElement(o.x,{textExpanded:a("devconsole~Hide advanced Routing options"),textCollapsed:a("devconsole~Show advanced Routing options")},n.createElement(c.a,null,e?t===l.k.KnativeService?n.createElement(u.a,null):n.createElement(n.Fragment,null,n.createElement(d.a,null),n.createElement(m.a,null),n.createElement(s.a,{name:"route.labels",label:a("devconsole~Labels"),helpText:a("devconsole~Additional labels which are only added to the Route resource."),placeholder:"app.io/type=frontend",dataTest:"route-labels"})):n.createElement(r.a,{variant:"info",isInline:!0,title:a('devconsole~Select the checkbox "Create a route" to edit advanced routing options')})))}},6319:function(e,t,a){"use strict";var n=a(0),r=a(80),i=a(55),o=a(7),s=a(5),l=a(108),c=a(8),u=a(1402),d=a(15),m=a(5651);t.a=()=>{var e;const{t:t}=Object(o.useTranslation)(),{setFieldValue:a,values:{name:p,project:{name:b},serverless:v}}=Object(i.f)(),g=n.useMemo(()=>({kind:Object(c.Hb)(u.a),isList:!0,namespace:b,optional:!0}),[b]),[h,f,O]=Object(l.a)(g),y=n.useMemo(()=>f&&!O?h.map(e=>{const t=Object(m.c)(e,p);return{value:t?`${e.metadata.name} (${t})`:e.metadata.name,disabled:!1}}):[],[f,O,h,p]);n.useEffect(()=>{if(f&&!O&&(null==h?void 0:h.length)){const e=h.filter(e=>{var t,a;return(null===(a=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===a?void 0:a.name)===p}).map(e=>e.metadata.name),t=[...v.domainMapping?v.domainMapping:[],...e];a("serverless",Object.assign(Object.assign({},v),{domainMapping:Object(m.e)(t,e)}))}},[h,f,O,p,a]);const E=null!==(e=Object(m.a)(v.domainMapping,h,p))&&void 0!==e?e:[];return n.createElement(n.Fragment,null,f||O?n.createElement(n.Fragment,null,n.createElement(d.pb,{"data-test-id":"domain-mapping-field",name:"serverless.domainMapping",label:t("devconsole~Domain mapping"),ariaLabel:t("devconsole~Domain mapping"),options:y,placeholderText:t("devconsole~Add domain"),helpText:t("devconsole~Enter custom domain to map to the Knative service"),isCreatable:!0}),Object(m.d)(v.domainMapping)&&n.createElement(r.a,{"data-test":"domain-mapping-warning",variant:"warning",isInline:!0,title:t("devconsole~Domain mapping(s) will be updated")},n.createElement("div",{style:{marginBottom:"var(--pf-v5-global--spacer--sm)"}},t("devconsole~Warning: The following domain(s) will be removed from the associated service")),E.length>0&&n.createElement("ul",null,E.map(e=>n.createElement("li",{key:e.metadata.uid},t("devconsole~{{domainMapping}} from {{knativeService}}",{domainMapping:e.metadata.name,knativeService:e.spec.ref.name})))))):n.createElement(s.T,null))}},6320:function(e,t,a){"use strict";var n=a(0),r=a(281),i=a(7),o=a(15);t.a=()=>{const{t:e}=Object(i.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(o.ab,{type:r.b.text,name:"route.hostname",label:e("devconsole~Hostname"),helpText:e("devconsole~Public hostname for the route. If not specified, a hostname is generated.")}),n.createElement(o.ab,{type:r.b.text,name:"route.path",label:e("devconsole~Path"),placeholder:"/",helpText:e("devconsole~Path that the router watches to route traffic to the service.")}))}},6321:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(7),o=a(15);t.a=({defaultPort:e})=>{var t;const{t:a}=Object(i.useTranslation)(),{values:{image:{ports:s}}}=Object(r.f)(),l=Array.from(new Set(s.map(e=>e.containerPort.toString()))).map(e=>({value:e,disabled:!1})),c=(null===(t=s[0])||void 0===t?void 0:t.containerPort)||e;return n.createElement(o.ac,{"data-test-id":"target-port-field",name:"route.unknownTargetPort",label:a("devconsole~Target port"),ariaLabel:a("devconsole~Target port"),placeholderText:c.toString(),helpText:a("devconsole~Target port for traffic."),options:l,toggleOnSelection:!0})}},6322:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(15),o=a(5618);t.a=()=>{const{t:e}=Object(r.useTranslation)(),t={s:e("devconsole~Sec"),m:e("devconsole~Min"),h:e("devconsole~Hrs")};return n.createElement(o.a,{title:e("devconsole~Scaling"),subTitle:e("devconsole~Set the autoscaler parameters around pods and concurrency limits in this section.")},n.createElement(i.ub,{name:"serverless.scaling.minpods",label:e("devconsole~Min Pods"),helpText:e("devconsole~The lower limit for the number of Pods that can be set by autoscaler. If not specified defaults to 0.")}),n.createElement(i.ub,{name:"serverless.scaling.maxpods",label:e("devconsole~Max Pods"),helpText:e("devconsole~The upper limit for the number of Pods that can be set by autoscaler.")}),n.createElement(i.ub,{name:"serverless.scaling.concurrencytarget",label:e("devconsole~Concurrency target"),helpText:e("devconsole~Defines how many concurrent requests are wanted per instance of the application at a given time (soft limit) and is the recommended configuration for autoscaling. If not specified, will be defaulted to the value set in the Cluster config.")}),n.createElement(i.ub,{name:"serverless.scaling.concurrencylimit",label:e("devconsole~Concurrency limit"),helpText:e("devconsole~Limits the amount of concurrent requests allowed into one instance of the application at a given time (hard limit), and is configured in the revision template. If not specified, will be defaulted to the value set in the Cluster config.")}),n.createElement(i.ub,{name:"serverless.scaling.concurrencyutilization",label:e("devconsole~Concurrency utilization"),helpText:e("devconsole~Percentage of concurrent requests utilization before scaling up.")}),n.createElement(i.Pb,{name:"serverless.scaling.autoscale.autoscalewindow",label:e("devconsole~Autoscale window"),unitName:"serverless.scaling.autoscale.autoscalewindowUnit",unitOptions:t,helpText:e("devconsole~Duration to look back for making auto-scaling decisions. The service is scaled to zero if no request was received in during that time.")}))}},6323:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(13);const i=(e,t)=>{const[a,i]=Object(r.kc)(r.wb);return[n.useMemo(()=>i?a.filter(a=>a.properties.imageStreamName===e&&a.properties.imageStreamTags.includes(t)).map(e=>e.properties.environments).flat():[],[a,e,t,i]),i]}},6325:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(77),r=a(5731),i=a(5729),o=a(5895),s=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const l=e=>s(void 0,void 0,void 0,(function*(){var t,a;const s=(null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[r.d])||null;let l;return l=Object(o.e)(e)?{apiVersion:"shipwright.io/v1alpha1",kind:"BuildRun",metadata:{namespace:e.metadata.namespace,generateName:e.metadata.name+"-",labels:Object.assign({[r.c]:e.metadata.name},s?{[r.d]:s}:{})},spec:{buildRef:{name:e.metadata.name}}}:{apiVersion:"shipwright.io/v1beta1",kind:"BuildRun",metadata:{namespace:e.metadata.namespace,generateName:e.metadata.name+"-",labels:Object.assign({[r.c]:e.metadata.name},s?{[r.d]:s}:{})},spec:{build:{name:e.metadata.name}}},Object(n.g)({model:Object(o.e)(l)?i.d:i.c,data:l})})),c=e=>{var t,a,n,r,i,s,l;const c=Object(o.e)(e)?!!(null===(a=null===(t=e.spec)||void 0===t?void 0:t.buildRef)||void 0===a?void 0:a.name):!!(null===(r=null===(n=e.spec)||void 0===n?void 0:n.build)||void 0===r?void 0:r.name),u=Object(o.e)(e)?!!(null===(i=e.spec)||void 0===i?void 0:i.buildSpec):!!(null===(l=null===(s=e.spec)||void 0===s?void 0:s.build)||void 0===l?void 0:l.spec);return c||u},u=e=>s(void 0,void 0,void 0,(function*(){var t,a,s,l,c,u,d,m,p;const b=Object(o.e)(e)?null===(a=null===(t=e.spec)||void 0===t?void 0:t.buildRef)||void 0===a?void 0:a.name:null===(l=null===(s=e.spec)||void 0===s?void 0:s.build)||void 0===l?void 0:l.name,v=Object(o.e)(e)?null===(c=e.spec)||void 0===c?void 0:c.buildSpec:null===(d=null===(u=e.spec)||void 0===u?void 0:u.build)||void 0===d?void 0:d.spec,g=(null===(p=null===(m=e.metadata)||void 0===m?void 0:m.labels)||void 0===p?void 0:p[r.d])||null;if(b){const t=e.metadata.generateName||b+"-";let a;return a=Object(o.e)(e)?{apiVersion:"shipwright.io/v1alpha1",kind:"BuildRun",metadata:{namespace:e.metadata.namespace,generateName:t,labels:Object.assign({[r.c]:b},g?{[r.d]:g}:{})},spec:{buildRef:{name:b}}}:{apiVersion:"shipwright.io/v1beta1",kind:"BuildRun",metadata:{namespace:e.metadata.namespace,generateName:t,labels:Object.assign({[r.c]:b},g?{[r.d]:g}:{})},spec:{build:{name:b}}},Object(n.g)({model:Object(o.e)(a)?i.d:i.c,data:a})}if(v){const t=e.metadata.generateName||e.metadata.name+"-";let a;return a=Object(o.e)(e)?{apiVersion:"shipwright.io/v1alpha1",kind:"BuildRun",metadata:Object.assign({namespace:e.metadata.namespace,generateName:t},g?{labels:{[r.d]:g}}:{}),spec:{buildSpec:v}}:{apiVersion:"shipwright.io/v1beta1",kind:"BuildRun",metadata:Object.assign({namespace:e.metadata.namespace,generateName:t},g?{labels:{[r.d]:g}}:{}),spec:{build:{spec:v}}},Object(n.g)({model:Object(o.e)(a)?i.d:i.c,data:a})}throw Object(o.e)(e)?new Error("Could not rerun BuildRun without buildRef.name or inline buildSpec."):new Error("Could not rerun BuildRun without build.name or inline buildSpec.")}))},6409:function(e,t,a){"use strict";var n=a(0),r=a(219),i=a(297),o=a(319),s=a(157),l=a(55),c=a(7),u=a(6550),d=a(5618);t.a=()=>{const{t:e}=Object(c.useTranslation)(),[t]=Object(l.e)("runtimeIcon"),a=Object(l.f)();return n.createElement(d.a,null,n.createElement(r.a,{fieldId:"runtimeIcon",label:e("devconsole~Runtime icon")},n.createElement(u.a,{placeholder:e("devconsole~Select an icon"),value:t.value,onChanged:e=>{a.setFieldValue("runtimeIcon",e),a.setFieldTouched("runtimeIcon")}}),n.createElement(i.a,null,n.createElement(o.a,null,n.createElement(s.a,null,e("devconsole~The icon represents your Image in Topology view. A label will also be added to the resource defining the icon."))))))}},6538:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5594),r=a(5790),i=a(5599);const o=(e,t)=>({project:{name:e||"",displayName:"",description:""},application:{initial:Object(n.k)(t),name:Object(n.k)(t),selectedKey:t},name:"",image:{selected:"",recommended:"",tag:"",tagObj:{},ports:[],isRecommending:!1,couldNotRecommend:!1},serverless:{scaling:{minpods:"",maxpods:"",concurrencytarget:"",concurrencylimit:"",defaultConcurrencytarget:"",defaultConcurrencyutilization:"",autoscale:{autoscalewindow:"",autoscalewindowUnit:"",defaultAutoscalewindowUnit:"s",defaultAutoscalewindow:""},concurrencyutilization:""},domainMapping:[]},route:{disable:!1,create:!0,targetPort:"",unknownTargetPort:"",defaultUnknownPort:8080,path:"",hostname:"",secure:!1,tls:{termination:null,insecureEdgeTerminationPolicy:null,caCertificate:"",certificate:"",destinationCACertificate:"",key:""}},resources:i.k.Kubernetes,build:{env:[],triggers:{},strategy:"Source"},deployment:{env:[],triggers:{image:!0,config:!0},replicas:1},labels:{},limits:{cpu:{request:"",requestUnit:"m",defaultRequestUnit:"m",limit:"",limitUnit:"m",defaultLimitUnit:"m"},memory:{request:"",requestUnit:"Mi",defaultRequestUnit:"Mi",limit:"",limitUnit:"Mi",defaultLimitUnit:"Mi"}},healthChecks:r.c})},6543:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(8);const i=()=>{const e=Object(n.useRef)(),t=Object(n.useRef)(!0);return Object(n.useEffect)(()=>(e.current=new AbortController,()=>{t.current=!1,e.current.abort()}),[]),(a,n,i,o={})=>new Promise((s,l)=>{Object(r.kb)(a,n,i,o,{signal:e.current.signal}).then(e=>t.current&&s(e)).catch(e=>t.current&&l(e))})}},6544:function(e,t,a){"use strict";var n=a(0),r=a(281),i=a(55),o=a(15),s=a(6323);t.a=({name:e,imageStreamName:t,imageStreamTag:a})=>{const{values:{build:{env:l},image:{imageEnv:c},formType:u},setFieldValue:d}=Object(i.f)(),[m,p]=Object(s.a)(t,a);return n.useEffect(()=>{"edit"===u&&(null==l?void 0:l.length)>0&&!c&&m.forEach(t=>l.forEach(a=>{a.name===t.key&&d(`${e}.${t.key}`,a.value)}))},[l,u,c,d,m,e]),p?n.createElement(n.Fragment,null,m.map(a=>n.createElement(o.ab,{key:`${t}-${a.key}`,type:r.b.text,name:`${e}.${a.key}`,label:a.label,helpText:a.description,placeholder:a.defaultValue}))):null}},6545:function(e,t,a){"use strict";var n=a(0),r=a(16),i=a(50),o=a(7),s=a(1401),l=a(4362),c=a(5),u=a(5673);t.a=({displayName:e,tag:t})=>{const{t:a}=Object(o.useTranslation)(),d=Object(l.getAnnotationTags)(t),m=r.a(t,"annotations.description"),p=Object(u.i)(t);return n.createElement("div",{"data-test":"imageStream-details"},n.createElement("div",{className:"co-catalog-item-details"},n.createElement(s.a,{tag:t,iconSize:"large"}),n.createElement("div",null,n.createElement("h2",{className:"co-section-heading co-catalog-item-details__name"},e),d&&n.createElement("p",{className:"co-catalog-item-details__tags"},i.a(d,(e,t)=>n.createElement("span",{className:"co-catalog-item-details__tag",key:t},e))))),m&&n.createElement("p",{className:"co-catalog-item-details__description"},m),p&&n.createElement("p",null,a("devconsole~Sample repository:")," ",n.createElement(c.z,{href:p,text:p})))}},6546:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return E}));var n=a(22),r=a(57),i=a(16),o=a(599),s=a(10),l=a(8),c=a(1402),u=a(5898),d=a(197),m=a(5673),p=a(5711),b=a(5910),v=a(5723),g=a(5599),h=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const f=(e,t,a,r="create",i="")=>h(void 0,void 0,void 0,(function*(){const{project:{name:o},application:{name:c},name:u,allowInsecureRegistry:d,isi:{name:m,tag:v},labels:g}=e,h="update"!==r||n.a(a)?u:a.metadata.labels["app.kubernetes.io/name"],f=Object(p.a)({name:u,applicationName:c}),O={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:i||h,namespace:o,labels:Object.assign(Object.assign(Object.assign({},f),g),{"app.kubernetes.io/name":h})},spec:{tags:[{name:v||"latest",annotations:Object.assign(Object.assign({},Object(p.b)()),{"openshift.io/imported-from":m}),from:{kind:"DockerImage",name:""+m},importPolicy:{insecure:d},referencePolicy:{type:"Local"}}]}};if("update"===r&&!n.a(a)){const e=Object(p.h)(a,O);return e.metadata.name=a.metadata.name,Object(l.rb)(s.ImageStreamModel,e)}const y=yield Object(l.jb)(s.ImageStreamModel,O,t?b.c:{});return t?y:Object(l.sb)(s.ImageStreamModel,y,e=>e.metadata.generation>=2,5e3).catch(()=>y)})),O=(e,t)=>{const{application:{name:a},name:n,isi:{image:o},labels:s,imageStream:{image:l,tag:c,namespace:u},runtimeIcon:d}=t,m=Object(p.a)({name:n,applicationName:a,imageStreamName:l,runtimeIcon:d,selectedTag:c,namespace:u}),b=Object.assign(Object.assign({},m),s),v=Object(p.d)(e,n),g=[],h=[];let f=0;return r.a(i.a(o,["dockerImageMetadata","Config","Volumes"]),(e,t)=>{f++;const a=`${n}-${f}`;g.push({name:a,emptyDir:{}}),h.push({name:a,mountPath:t})}),{labels:b,podLabels:v,volumes:g,volumeMounts:h}},y=e=>{const{isi:{ports:t},route:{defaultUnknownPort:a,unknownTargetPort:n}}=e;let r=e;if(!Array.isArray(t)||0===t.length){const e=[{containerPort:n?parseInt(n,10):a,protocol:"TCP"}];r=Object.assign(Object.assign({},r),{isi:Object.assign(Object.assign({},r.isi),{ports:e})})}return r},E=(e,t=!1,a="create",r)=>h(void 0,void 0,void 0,(function*(){var h,E,j,k,T,S,_,R,P,N;const C=y(e),{name:w,registry:I,project:{name:x},route:{create:A,disable:D},isi:{ports:U,tag:L,image:M},imageStream:{image:B,namespace:F},deployment:{triggers:{image:$}}}=C,K=[],q=null===(h=null==r?void 0:r.imageStream)||void 0===h?void 0:h.data,G=o.a(q,["metadata.resourceVersion"],["desc"]),V=G.length&&G[0]||{};if(C.resources!==g.k.KnativeService){if(I===m.b.External&&(yield f(C,t,V,a)),C.resources===g.k.Kubernetes?K.push(((e,t,a,n="create")=>{const{registry:r,project:{name:o},name:c,isi:{image:u,ports:h,tag:f},deployment:{env:y,replicas:E,triggers:{image:j}},labels:k,limits:{cpu:T,memory:S},imageStream:{image:_,namespace:R},healthChecks:P}=e,N=Object.assign(Object.assign(Object.assign(Object.assign({},Object(p.b)()),Object(p.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(p.g)(c,_||c,R||o,j,f)),C=Object(p.b)(),{labels:w,podLabels:I,volumes:x,volumeMounts:A}=O(g.k.Kubernetes,e),D=r===m.b.External?`${c}:${f}`:i.a(u,"dockerImageReference"),U={kind:"Deployment",apiVersion:"apps/v1",metadata:{name:c,namespace:o,labels:w,annotations:N},spec:{replicas:E,selector:{matchLabels:{app:c}},template:{metadata:{labels:Object.assign(Object.assign({},k),I),annotations:C},spec:{volumes:x,containers:[Object.assign({name:c,image:D,ports:h,volumeMounts:A,env:y,resources:Object(d.H)({cpu:T,memory:S})},Object(v.b)(P))]}}}},L=Object(p.h)(a,U);return"update"===n?Object(l.rb)(s.DeploymentModel,L):Object(l.jb)(s.DeploymentModel,L,t?b.c:{})})(C,t,i.a(r,"editAppResource.data"),a)):K.push(((e,t,a,n="create")=>{const{project:{name:r},name:o,isi:{image:c,tag:u,ports:m},deployment:{env:h,replicas:f,triggers:y},labels:E,limits:{cpu:j,memory:k},imageStream:{image:T,namespace:S},healthChecks:_}=e,{labels:R,podLabels:P,volumes:N,volumeMounts:C}=O(g.k.OpenShift,e),w=Object.assign(Object.assign({},Object(p.b)()),Object(p.e)()),I=Object(p.b)(),x={kind:"DeploymentConfig",apiVersion:"apps.openshift.io/v1",metadata:{name:o,namespace:r,labels:R,annotations:w},spec:{replicas:f,selector:P,template:{metadata:{labels:Object.assign(Object.assign({},E),P),annotations:I},spec:{volumes:N,containers:[Object.assign({name:o,image:i.a(c,["dockerImageMetadata","Config","Image"]),ports:m,volumeMounts:C,env:h,resources:Object(d.H)({cpu:j,memory:k})},Object(v.b)(_))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:y.image,containerNames:[o],from:{kind:"ImageStreamTag",name:`${T||o}:${u}`,namespace:S||r}}},...y.config?[{type:"ConfigChange"}]:[]]}},A=Object(p.h)(a,x);return"update"===n?Object(l.rb)(s.DeploymentConfigModel,A):Object(l.jb)(s.DeploymentConfigModel,A,t?b.c:{})})(C,t,i.a(r,"editAppResource.data"),a)),!n.a(U)){const e=null===(E=null==r?void 0:r.service)||void 0===E?void 0:E.data,o=null===(j=null==r?void 0:r.route)||void 0===j?void 0:j.data,c=Object(b.b)(C,void 0,e,o),u="update"===a?n.a(e)?null:Object(l.rb)(s.ServiceModel,c):Object(l.jb)(s.ServiceModel,c,t?b.c:{});K.push(u);const d=Object(b.a)(C,void 0,i.a(r,"route.data"));"update"===a&&D?K.push(Object(l.rb)(s.RouteModel,d)):A&&K.push(Object(l.jb)(s.RouteModel,d,t?b.c:{}))}}else if(C.resources===g.k.KnativeService){let e=null==M?void 0:M.dockerImageReference,o="";if(I===m.b.External){const r=null===(_=null===(S=null===(T=null===(k=null==V?void 0:V.spec)||void 0===k?void 0:k.tags)||void 0===T?void 0:T[0])||void 0===S?void 0:S.from)||void 0===_?void 0:_.name,i=C.isi.name;(r&&r!==i||"update"===a&&n.a(V))&&(o=`${w}-${Object(d.D)()}`);const s=(yield f(C,t,V,o?"create":a,o)).status.dockerImageRepository;e=L?`${s}:${L}`:s}const s=(null===(N=null===(P=null===(R=null==r?void 0:r.editAppResource)||void 0===R?void 0:R.data)||void 0===P?void 0:P.metadata)||void 0===N?void 0:N.annotations)||{},v=Object(p.g)(w,B||w,F||x,$,L),g=Object.keys(s).length>0?Object.assign(Object.assign({},s),v):Object.assign(Object.assign(Object.assign(Object.assign({},Object(p.b)()),Object(p.e)()),s),v),h=Object(u.c)(C,e,B||w,L,F,g,i.a(r,"editAppResource.data"),o),O=yield Object(u.b)(C,h,t);K.push("update"===a?Object(l.rb)(c.l,h,null,null,t?b.c:{}):Object(l.jb)(c.l,h,t?b.c:{}),...O)}return Promise.all(K)}))},6547:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(22),o=a(7),s=a(5),l=a(15),c=a(5673),u=a(5911),d=a(5618),m=a(6548),p=a(6108);t.a=({disabled:e=!1})=>{const{t:t}=Object(o.useTranslation)(),{values:a,setFieldValue:b,initialValues:v}=Object(r.f)(),[g,h]=n.useState(a.registry),f=n.useRef(Object(u.g)()).current;return n.useEffect(()=>{a.registry!==g&&(h(a.registry),b("searchTerm",v.searchTerm),b("isi",v.isi),b("imageStream",v.imageStream))},[v.imageStream,v.isi,v.searchTerm,g,b,a]),n.createElement(d.a,{title:t("devconsole~Image"),subTitle:t("devconsole~Deploy an existing Image from an Image Stream or Image registry.")},!i.a(a.containers)&&n.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~Container"),n.createElement(s.hb,{kind:"Container",name:a.containers[0].name,linkTo:!1})),f?n.createElement(m.a,null):n.createElement(l.Lb,{name:"registry",options:[{label:Object(c.l)(t).External.label,value:Object(c.l)(t).External.value,isDisabled:"edit"===a.formType&&"internal"===a.registry||e,activeChildren:n.createElement(m.a,null)},{label:Object(c.l)(t).Internal.label,value:Object(c.l)(t).Internal.value,isDisabled:"edit"===a.formType&&"external"===a.registry||e,activeChildren:n.createElement(p.a,{disabled:e})}]}))}},6548:function(e,t,a){"use strict";var n=a(0),r=a(87),i=a(281),o=a(19),s=a(80),l=a(1939),c=a(55),u=a(1123),d=a(16),m=a(1533),p=a(7),b=a(4359),v=a(10),g=a(8),h=a(15),f=a(2221),O=a(5900),y=a(5673),E=a(5911),j=a(5961);a(6549);t.a=()=>{var e;const{t:t}=Object(p.useTranslation)(),a=n.useRef(),{values:k,setFieldValue:T,dirty:S,initialValues:_,touched:R}=Object(c.f)(),[P,N]=n.useState(""),[C,w]=n.useState(!0),[I,x]=n.useState(r.d.default),A=k.project.name,{application:D={},name:U}=R,{name:L}=D,M=n.useCallback((e,t=k.allowInsecureRegistry)=>{T("isSearchingForImage",!0),x(r.d.default);const a={kind:"ImageStreamImport",apiVersion:"image.openshift.io/v1",metadata:{name:"newapp",namespace:k.project.name},spec:{import:!1,images:[{from:{kind:"DockerImage",name:u.a(e)},importPolicy:{insecure:t}}]},status:{}};Object(g.jb)(v.ImageStreamImportsModel,a).then(e=>{const t=d.a(e,"status.images[0].status");if("Success"===t.status){const a=d.a(e,"spec.images[0].from.name"),n=d.a(e,"status.images[0].image"),i=d.a(e,"status.images[0].tag"),o={name:a,image:n,tag:i,status:t},s=Object(y.e)(o);T("isSearchingForImage",!1),T("isi.name",a),T("isi.image",n),T("isi.tag",i),T("isi.status",t),T("isi.ports",s),T("image.ports",s),T("image.tag",i),!k.name&&T("name",Object(y.j)(a)),!k.application.name&&k.application.selectedKey!==f.z&&T("application.name",Object(y.j)(a)+"-app");const l=(!_.route.targetPort||R.searchTerm)&&m.a(s);l&&T("route.targetPort",Object(y.n)(l)),x(r.d.success)}else T("isSearchingForImage",!1),T("isi",{}),T("isi.status",t),T("route.targetPort",null),x(r.d.error)}).catch(e=>{T("isi",{}),T("isi.status",{metadata:{},status:"",message:e.message}),T("isSearchingForImage",!1),x(r.d.error)})},[T,R,k.application.name,k.application.selectedKey,k.name,k.project.name,k.allowInsecureRegistry,_.route.targetPort]);(e=>{const{setFieldValue:t}=Object(c.f)();n.useEffect(()=>{const{sampleName:a,image:n}=Object(E.c)();if(n){const a=Object(y.j)(n);t("searchTerm",n,!1),t("name",a,!1),t("application.name",a+"-app",!1),e(n)}a&&Object(E.e)(a).then(r=>{var i,o,s,l;if(Object(O.a)(r.spec.source)){const{containerImport:a}=r.spec.source;if(!n){const e=Object(y.j)(a.image);t("searchTerm",a.image,!1),t("name",e,!1),t("application.name",e+"-app",!1)}(null===(i=null==a?void 0:a.service)||void 0===i?void 0:i.targetPort)&&8080!==(null===(o=null==a?void 0:a.service)||void 0===o?void 0:o.targetPort)&&t("route.unknownTargetPort",a.service.targetPort.toString(),!1),e(a.image)}else console.error(`Unsupported ConsoleSample "${a}" source type ${null===(l=null===(s=r.spec)||void 0===s?void 0:s.source)||void 0===l?void 0:l.type}`)}).catch(e=>{console.error(`Error while loading ConsoleSample "${a}":`,e)})},[])})(M);const B=Object(h.Ce)(M),F=n.useCallback(e=>{N(e),k.searchTerm&&M(k.searchTerm)},[M,k.searchTerm]),$=n.useMemo(()=>{var e;return k.isSearchingForImage?t("devconsole~Validating")+"...":k.isSearchingForImage||I!==r.d.success?I===r.d.error?""===k.searchTerm?t("devconsole~Required"):null===(e=k.isi.status)||void 0===e?void 0:e.message:"":t("devconsole~Validated")},[t,I,k.isSearchingForImage,k.searchTerm,null===(e=k.isi.status)||void 0===e?void 0:e.message]);return n.useEffect(()=>{!S&&k.searchTerm&&M(k.searchTerm)},[S,M,k.searchTerm]),n.useEffect(()=>{if(R.searchTerm&&_.searchTerm!==k.searchTerm){const e=m.a(k.isi.ports);e&&T("route.targetPort",Object(y.n)(e))}},[R.searchTerm,T,k.isi.ports,_.searchTerm,k.searchTerm]),n.useEffect(()=>{var e;null===(e=a.current)||void 0===e||e.focus()},[]),n.createElement("div",{"data-test-id":"image-search-field"},n.createElement(h.ab,{ref:a,type:i.b.text,name:"searchTerm",placeholder:t("devconsole~docker.io/openshift/hello-openshift or quay.io/<username>/<image-name>"),helpText:$,helpTextInvalid:$,validated:I,onChange:e=>{"edit"!==k.formType?(!U&&T("name",""),!k.application.isInContext&&k.application.selectedKey!==f.z&&!L&&T("application.name","")):k.application.selectedKey!==f.z&&k.application.selectedKey===f.b&&!L&&T("application.name",""),T("isi",{}),x(r.d.default),B(e.target.value)},"aria-label":t("devconsole~Image name"),"data-test-id":"deploy-image-search-term",required:!0}),n.createElement("div",{className:"help-block",id:"image-name-help"},n.createElement(p.Trans,{ns:"devconsole",t:t},"To deploy an Image from a private registry, you must"," ",n.createElement(o.a,{variant:"link",isInline:!0,onClick:()=>Object(j.a)({namespace:A,save:F,secretType:b.SecretTypeAbstraction.image})},"create an Image pull secret")," ","with your Image registry credentials.")),P&&C&&n.createElement(s.a,{isInline:!0,className:"co-alert",variant:"success",title:t('devconsole~Secret "{{newImageSecret}}" was created.',{newImageSecret:P}),actionClose:n.createElement(l.a,{onClose:()=>w(!1)})}),n.createElement("div",{className:"odc-image-search__advanced-options"},n.createElement(h.A,{name:"allowInsecureRegistry",label:t("devconsole~Allow Images from insecure registries"),onChange:e=>{k.searchTerm&&M(k.searchTerm,e)}})))}},6549:function(e,t,a){},6550:function(e,t,a){"use strict";var n=a(0),r=a(230),i=a(1401),o=a(980);a(6551);const s=({label:e,url:t})=>n.createElement("div",{className:"odc-icon-dropdown__item"},n.createElement("img",{src:t,width:"24",height:"24",alt:"",className:"icon"}),e),l=(e,t)=>r(e,t.props.label);t.a=({placeholder:e,value:t,onChanged:a})=>{const r=n.useMemo(()=>{const a=Object(i.b)(t||"openshift");return a?n.createElement(s,{label:a.label,url:a.url}):n.createElement("span",{className:"btn-dropdown__item--placeholder"},e)},[e,t]),c=n.useMemo(()=>{const e={};return Object(i.c)().forEach(({label:t,url:a})=>{e[t]=n.createElement(s,{label:t,url:a})}),e},[]);return n.createElement(o.b,{title:r,items:c,autoSelect:!0,autocompletePlaceholder:e,autocompleteFilter:l,dropDownClassName:"dropdown--full-width odc-icon-dropdown",menuClassName:"odc-icon-dropdown__menu",onChange:a,selectedKey:t||"openshift"})}},6551:function(e,t,a){},6788:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(5651),i=a(7303);const o=e=>{const t=Object(i.a)(),[a,o]=n.useState(e);return n.useEffect(()=>{t&&o(e=>((e,t)=>{var a;const{autoscalewindow:n,autoscalewindowUnit:i,defaultAutoscalewindowUnit:o}=t&&Object(r.b)(null!==(a=t["stable-window"])&&void 0!==a?a:"");return e.serverless.scaling.concurrencytarget=t["container-concurrency-target-default"]||"",e.serverless.scaling.concurrencyutilization=t["container-concurrency-target-percentage"]||"",e.serverless.scaling.defaultConcurrencytarget=t["container-concurrency-target-default"]||"",e.serverless.scaling.defaultConcurrencyutilization=t["container-concurrency-target-percentage"]||"",e.serverless.scaling.autoscale={autoscalewindow:n,defaultAutoscalewindow:n,autoscalewindowUnit:i,defaultAutoscalewindowUnit:o},e})(e,t))},[t]),a}},7303:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5684),r=a(10),i=a(1941);const o=()=>{const[e,t,a]=Object(n.a)(r.ConfigMapModel,"config-autoscaler","knative-serving");return t&&!a&&Object(i.c)(e.data._example)}},7305:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(80),i=a(7),o=a(5),s=a(108),l=a(10),c=a(15);const u=()=>{const e=Object(c.df)(),{t:t}=Object(i.useTranslation)(),[a]=Object(c.ue)(),u=n.useMemo(()=>({kind:l.BuildModel.kind,namespace:a,isList:!0}),[a]),[d]=Object(s.a)(u);return n.useCallback(n=>{const i=n.find(e=>e.kind===l.BuildConfigModel.kind),s=Object(c.pd)(i,d),u=`${i.metadata.name}-${s.length+1}`,m=Object(o.uc)(l.BuildModel,u,a)+"/logs";e.addToast({variant:r.b.info,title:t("devconsole~JAR file uploading"),content:t("devconsole~JAR file is uploading to {{namespace}}. You can view the upload progress in the build logs. This may take a few minutes. If you exit the browser while upload is in progress it may fail.",{namespace:a}),timeout:!0,actions:[{dismiss:!0,label:t("devconsole~View build logs"),callback:()=>o.Vb.push(m)}]})},[d,a,t,e])}},7306:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(22),r=a(109),i=a(10),o=a(8),s=a(1402),l=a(5898),c=a(15),u=a(5711),d=a(5910),m=a(5723),p=a(5849),b=a(5599),v=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const g=(e,t,a,g=!1,h="create",f)=>v(void 0,void 0,void 0,(function*(){var v,O;const{name:y,fileUpload:{name:E,value:j},project:{name:k},route:{create:T,disable:S},image:{ports:_},build:{strategy:R},deployment:{triggers:{image:P}},resources:N}=e,{imageStream:C,buildConfig:w,editAppResource:I,service:x,route:A}=f||{},D=null==t?void 0:t.metadata.name;a&&(yield Object(p.c)(e.project));const U=[];let L="";const M=null==C?void 0:C.data;N===b.k.KnativeService&&M&&M.length&&"update"===h&&""!==j&&(L=`${y}-${Object(c.wd)()}`);const B=yield Object(p.a)(e,t,g,f,L?"create":h,L);U.push(B);const F=yield((e,t,a,n,r="create",s="")=>{var l;const{name:c,fileUpload:{name:m},project:{name:p},application:{name:b},image:{tag:v},build:{env:g,strategy:h},labels:f}=e,O=t&&t.metadata.name,y=t&&t.metadata.namespace,E=Object(u.a)({name:c,applicationName:b,imageStreamName:O,selectedTag:v}),j=Object.assign(Object.assign({},Object(u.b)()),{jarFileName:m}),k={sourceStrategy:{env:g,from:{kind:"ImageStreamTag",name:`${O}:${v}`,namespace:y}}},T={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:"update"===r?null===(l=null==n?void 0:n.metadata)||void 0===l?void 0:l.name:c,namespace:p,labels:Object.assign(Object.assign({},E),f),annotations:j},spec:{output:{to:{kind:"ImageStreamTag",name:(s||c)+":latest"}},source:{type:"Binary",binary:{}},strategy:Object.assign({type:h},k),triggers:[{type:"Generic",generic:{secretReference:{name:c+"-generic-webhook-secret"}}}]}},S=Object(u.h)(n,T);return"update"===r?Object(o.rb)(i.BuildConfigModel,S):Object(o.jb)(i.BuildConfigModel,S,a?d.c:{})})(e,t,g,null==w?void 0:w.data,h,L);if(F&&!g&&""!==j&&((e,t,a,n)=>{const i=e=>{e.preventDefault(),e.returnValue=""};window.addEventListener("beforeunload",i),Object(r.b)(`/api/kubernetes/apis/build.openshift.io/v1/namespaces/${e}/buildconfigs/${t.metadata.name}/instantiatebinary?asFile=${a}`,{method:"POST",body:n,headers:{"Content-type":n.type}},0).then(()=>{window.removeEventListener("beforeunload",i)}).catch(e=>{console.log("Failed to upload binary file to trigger a new Build",e),window.removeEventListener("beforeunload",i)})})(k,F,E,j),U.push(F),"create"===h&&U.push(yield Object(p.d)(e,t,"generic",g)),N===b.k.KnativeService){const t=B.status.dockerImageRepository,a=(null===(O=null===(v=null==I?void 0:I.data)||void 0===v?void 0:v.metadata)||void 0===O?void 0:O.annotations)||{},n=Object(u.g)(y,L||y,k,P),r=Object.keys(a).length>0?Object.assign(Object.assign({},a),n):Object.assign(Object.assign(Object.assign(Object.assign({},Object(u.b)()),Object(u.e)()),a),n),i=Object(l.c)(e,t,D,void 0,void 0,r,null==I?void 0:I.data),c=yield Object(l.b)(e,i,g);return U.push("update"===h?Object(o.rb)(s.l,i,null,null,g?d.c:{}):Object(o.jb)(s.l,i,g?d.c:{}),...c),Promise.all(U)}if(N===b.k.Kubernetes?U.push(yield((e,t,a,n,r="create")=>{const{name:s,project:{name:l},application:{name:p},image:{ports:v,tag:g},deployment:{env:h,replicas:f,triggers:{image:O}},fileUpload:{name:y,javaArgs:E},labels:j,limits:{cpu:k,memory:T},healthChecks:S,runtimeIcon:_}=e,R=t&&t.metadata.name,P=Object(u.a)({name:s,applicationName:p,imageStreamName:R,runtimeIcon:_,selectedTag:g}),N=s,C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(u.b)()),Object(u.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(u.g)(s,N,l,O)),{jarFileName:y}),w=Object(u.d)(b.k.Kubernetes,s),I=Object(u.f)(n),x=null==h?void 0:h.findIndex(e=>"JAVA_ARGS"===e.name);-1!==x?""!==E?h[x].value=E:h.splice(x,1):""!==E&&h.push({name:"JAVA_ARGS",value:E});const A={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:s,namespace:l,labels:Object.assign(Object.assign({},P),j),annotations:C},spec:{selector:{matchLabels:{app:s}},replicas:f,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},I),j),w)},spec:{containers:[Object.assign({name:s,image:s+":latest",ports:v,env:h,resources:Object(c.Cd)({cpu:k,memory:T})},Object(m.b)(S))]}}}},D=Object(u.h)(n,A);return"update"===r?Object(o.rb)(i.DeploymentModel,D):Object(o.jb)(i.DeploymentModel,D,a?d.c:{})})(e,t,g,null==I?void 0:I.data,h)):N===b.k.OpenShift&&U.push(yield((e,t,a,n,r="create")=>{const{name:s,project:{name:l},application:{name:p},image:{ports:v,tag:g},deployment:{env:h,replicas:f,triggers:O},fileUpload:{javaArgs:y},labels:E,limits:{cpu:j,memory:k},healthChecks:T}=e,S=t&&t.metadata.name,_=Object(u.a)({name:s,applicationName:p,imageStreamName:S,selectedTag:g}),R=Object(u.d)(b.k.OpenShift,s),P=Object(u.f)(n),N=null==h?void 0:h.findIndex(e=>"JAVA_ARGS"===e.name);-1!==N?""!==y?h[N].value=y:h.splice(N,1):""!==y&&h.push({name:"JAVA_ARGS",value:y});const C={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:s,namespace:l,labels:Object.assign(Object.assign({},_),E),annotations:Object.assign({},Object(u.b)())},spec:{selector:R,replicas:f,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},P),E),R)},spec:{containers:[Object.assign({name:s,image:s+":latest",ports:v,env:h,resources:Object(c.Cd)({cpu:j,memory:k})},Object(m.b)(T))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:O.image,containerNames:[s],from:{kind:"ImageStreamTag",name:s+":latest"}}},...O.config?[{type:"ConfigChange"}]:[]]}},w=Object(u.h)(n,C);return"update"===r?Object(o.rb)(i.DeploymentConfigModel,w):Object(o.jb)(i.DeploymentConfigModel,w,a?d.c:{})})(e,t,g,null==I?void 0:I.data,h)),!n.a(_)||"Source"===R){const a=null==x?void 0:x.data,r=Object(d.b)(e,t,a);"create"===h?U.push(yield Object(o.jb)(i.ServiceModel,r,g?d.c:{})):"update"!==h||n.a(a)||U.push(yield Object(o.rb)(i.ServiceModel,r));const s=null==A?void 0:A.data,l=Object(d.a)(e,t,s);"update"===h&&S?U.push(yield Object(o.rb)(i.RouteModel,l,k,y)):T&&U.push(yield Object(o.jb)(i.RouteModel,l,g?d.c:{}))}return U}))},7310:function(e,t,a){"use strict";var n=a(0),r=a(12093),i=a(281),o=a(55),s=a(7),l=a(4380),c=a(15),u=a(2221),d=a(5618),m=a(6010);t.a=()=>{const{t:e}=Object(s.useTranslation)(),{values:{name:t,fileUpload:{name:a,value:p},application:{name:b,selectedKey:v}},setFieldValue:g,setFieldTouched:h,touched:f}=Object(o.f)(),{fileUpload:O,setFileUpload:y}=n.useContext(l.FileUploadContext),{name:E}=f,j=n.useCallback((e,a)=>{if(a.name){const e=Object(m.a)(a.name);g("fileUpload.name",a.name),h("fileUpload.name",!0),a&&g("fileUpload.value",a),e&&!E&&!t&&g("name",e),!t&&g("name",e),e&&!b&&v!==u.z&&g("application.name",e+"-app")}else g("fileUpload.name",""),g("fileUpload.value","")},[b,v,g,h,t,E]);n.useEffect(()=>{O&&(j(null,O),a&&y(void 0))},[O,j,y,a]);return n.createElement(d.a,{title:e("devconsole~JAR")},n.createElement(r.a,{id:"upload-jar-field",name:"fileUpload.name",value:p,filename:a,label:e("devconsole~JAR file"),filenamePlaceholder:e("devconsole~Drag a file here or browse to upload"),browseButtonText:e("devconsole~Browse..."),clearButtonText:e("devconsole~Clear"),onFileInputChange:j,hideDefaultPreview:!0,dropzoneProps:{accept:{"application/java-archive":[".jar",".JAR"]}},isRequired:!0,onClearClick:()=>{g("fileUpload.value",""),g("fileUpload.name",""),setTimeout(()=>{h("fileUpload.name",!0)},0)}}),n.createElement(c.ab,{type:i.b.text,name:"fileUpload.javaArgs",label:e("devconsole~Optional Java arguments"),helpText:e("devconsole~Optional Java arguments are saved as JAVA_ARGS environment variable to customize your application."),"data-test-id":"upload-jar-form-java-args",placeholder:e("devconsole~JAVA_ARGS")}))}},7315:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(1921),i=a(7),o=a(6213),s=a(5618),l=a(8028);const c=({values:e,appResources:t})=>{var a;const{t:c}=Object(i.useTranslation)();return n.createElement(s.a,{title:c("devconsole~Deploy"),fullWidth:!0},n.createElement(l.a,null),n.createElement(r.a,{isWidthLimited:!0,toggleText:c("devconsole~Show advanced Deployment option")},n.createElement(o.a,{namespace:e.project.name,resource:null===(a=null==t?void 0:t.editAppResource)||void 0===a?void 0:a.data,showHeader:!1})))}},8024:function(e,t,a){"use strict";var n=a(0),r=a(137),i=a(7),o=a(14),s=a(5),l=a(10),c=a(1459),u=a(761),d=a(5695),m=a(6281),p=a(5599),b=a(8869);const v=e=>({git:{type:p.e.git,title:e("devconsole~Import from Git"),buildStrategy:"Devfile",loader:()=>Promise.all([a.e(46),a.e(63),a.e(333),a.e(56),a.e(161)]).then(a.bind(null,11903)).then(e=>e.default)},s2i:{type:p.e.s2i,title:e("devconsole~Create Source-to-Image application"),buildStrategy:"Source",loader:()=>Promise.all([a.e(46),a.e(56),a.e(281)]).then(a.bind(null,11916)).then(e=>e.default)}});t.a=()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(o.useParams)(),a=Object(o.useLocation)(),g=new URLSearchParams(a.search),h=g.get("imagestream"),f=g.get("imagestream-ns"),O=g.get("preselected-ns"),y=g.get("importType");let E,j;return h&&f?(E=v(e).s2i,j=[{kind:l.ImageStreamModel.kind,prop:"imageStreams",isList:!1,name:h,namespace:f},{kind:l.ProjectModel.kind,prop:"projects",isList:!0}]):(E=v(e).git,j=[{kind:l.ImageStreamModel.kind,prop:"imageStreams",isList:!0,namespace:"openshift"},{kind:l.ProjectModel.kind,prop:"projects",isList:!0}]),n.createElement(m.a,null,e=>n.createElement(d.b,{disabled:!0,variant:d.a.light},n.createElement(r.b,null,n.createElement("title",null,E.title)),n.createElement(s.Z,{title:E.title,badge:y===p.e.devfile?n.createElement(c.a,null):null}),n.createElement(s.C,{resources:j},n.createElement(b.a,{forApplication:e,contextualSource:g.get(u.r.CONTEXT_SOURCE),namespace:t||O,importData:E}))))}},8025:function(e,t,a){"use strict";var n=a(0),r=a(137),i=a(7),o=a(14),s=a(15),l=a(5695),c=a(5805);t.a=()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(o.useParams)(),a=new URLSearchParams(window.location.search).get("sampleType"),u={label:"sample-type",value:a};return n.createElement(n.Fragment,null,n.createElement(r.b,null,n.createElement("title",null,e("devconsole~Samples"))),n.createElement(l.b,{variant:l.a.light,hideApplications:!0},t?n.createElement(s.z,{namespace:t,catalogId:"samples-catalog"},t=>{let r;r=a?t.items.filter(e=>{var t,a;return(null==e?void 0:e.typeLabel)===(null==u?void 0:u.value)||(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.metadata)||void 0===a?void 0:a.labels[null==u?void 0:u.label])===(null==u?void 0:u.value)}):t.items;const i=Object.assign(Object.assign({},t),{items:r});return n.createElement(s.x,Object.assign({},i,{hideSidebar:!0,title:e("devconsole~Samples"),description:e("devconsole~Get Started using applications by choosing a code sample.")}))}):n.createElement(c.b,{title:e("devconsole~Samples")},t=>n.createElement(i.Trans,{t:e,ns:"devconsole"},"Select a Project to view the list of samples",n.createElement(c.a,{openProjectModal:t}),"."))))}},8026:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(137),o=a(7),s=a(14),l=a(5),c=a(108),u=a(10),d=a(5620),m=a(5648),p=a(761),b=a(5673),v=a(5695),g=a(6538),h=a(5849),f=a(5599),O=a(5649),y=a(8873);t.a=()=>{const{t:e}=Object(o.useTranslation)(),{ns:t,is:a,isNs:E}=Object(s.useParams)(),j=n.useMemo(()=>({kind:u.ImageStreamModel.kind,prop:"imageStreams",isList:!1,name:a,namespace:E}),[a,E]),[k,T]=Object(c.a)(j);if(!T)return n.createElement(l.S,null);const{[a]:S}=Object(b.o)(k),{name:_,recentTag:R}=S,P=Object(b.i)(R),N=Object(b.h)(R),C=Object(b.g)(R),w=Object(O.c)(P),I=Object(g.a)(t,p.t),x=Object.assign(Object.assign({},I),{name:_+"-sample",application:{initial:p.t,name:p.t,selectedKey:p.t},git:{url:P,type:w,ref:N,dir:C,showGitType:!1,secret:"",isUrlValidating:!1},docker:{dockerfilePath:"Dockerfile"},image:Object.assign(Object.assign({},I.image),{selected:_,tag:R.name,tagObj:R}),pipeline:{enabled:!1,type:d.a.PIPELINE},pac:{pacHasError:!1,repository:Object.assign({},m.i)},build:Object.assign(Object.assign({},I.build),{triggers:{webhook:!0,image:!0,config:!0},option:f.a.BUILDS}),import:{showEditImportStrategy:!0}});return n.createElement(v.b,{variant:v.a.light,disabled:!0,hideApplications:!0},n.createElement(i.b,null,n.createElement("title",null,e("devconsole~Create Sample application"))),n.createElement(l.Z,{title:e("devconsole~Create Sample application")}),n.createElement(r.b,{initialValues:x,onSubmit:(a,n)=>Object(h.b)(e,a,k,!1,!0).then(()=>Object(h.b)(e,a,k)).then(()=>{l.Vb.push("/topology/ns/"+t)}).catch(e=>{n.setStatus({submitError:e.message})}),onReset:l.Vb.goBack,validationSchema:Object(O.d)(e)},e=>n.createElement(y.a,Object.assign({},e,{builderImage:S}))))}},8027:function(e,t,a){"use strict";var n=a(0),r=a(137),i=a(7),o=a(14),s=a(5),l=a(761),c=a(5695),u=a(6281),d=a(8874);t.a=()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(o.useParams)(),a=Object(o.useLocation)(),m=new URLSearchParams(a.search);return n.createElement(c.b,{disabled:!0,variant:c.a.light},n.createElement(r.a,null,n.createElement("title",null,e("devconsole~Deploy Image"))),n.createElement(s.Z,{title:e("devconsole~Deploy Image")}),n.createElement(u.a,null,e=>n.createElement(s.C,{resources:[{kind:"Project",prop:"projects",isList:!0}]},n.createElement(d.a,{forApplication:e,namespace:t,contextualSource:m.get(l.r.CONTEXT_SOURCE)}))))}},8028:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(1992),o=a(7),s=a(14),l=a(761),c=a(5591),u=a(53),d=a(5),m=a(10),p=a(243),b=a(1402),v=a(15),g=a(5599),h=a(5618),f=a(8029);a(8876);t.a=Object(p.a)(b.c,l.e)(({flags:e})=>{var t,a;const{t:p}=Object(o.useTranslation)(),[O]=Object(r.e)("resourceTypesNotValid"),{values:y,setFieldValue:E}=Object(r.f)(),j=n.useMemo(()=>O.value||[],[O]),[k]=Object(f.a)();n.useEffect(()=>{!["edit","knatify","serverlessFunction"].includes(y.formType)&&E("resources",k)},[k,E,y.formType]);const T=Object(d.Dc)({group:b.l.apiGroup,resource:b.l.plural,namespace:Object(u.c)(),verb:"create"}),S=!j.includes(g.k.KnativeService)&&e[b.c]&&T,_=!j.includes(g.k.OpenShift)&&e[l.e],[,R]=Object(f.a)(),P=n.useCallback(e=>{const t=i.a(g.j,t=>p(t)===e);R(t),E("resources",t)},[E,R,p]),N=n.useMemo(()=>{const e=[];return j.includes(g.k.Kubernetes)||e.push({label:p(g.j[g.k.Kubernetes]),value:g.k.Kubernetes,description:p("devconsole~A {{deploymentLabel}} enables declarative updates for Pods and ReplicaSets.",{deploymentLabel:m.DeploymentModel.label})}),_&&e.push({label:p(g.j[g.k.OpenShift]),value:g.k.OpenShift,description:p("devconsole~A {{deploymentConfigLabel}} defines the template for a Pod and manages deploying new Images or configuration changes.",{deploymentConfigLabel:m.DeploymentConfigModel.label})}),S&&e.push({label:p(g.j[g.k.KnativeService]),value:g.k.KnativeService,description:p("devconsole~A type of deployment that enables Serverless scaling to 0 when idle.")}),e},[j,_,S,p]);return["edit","knatify"].includes(y.formType)||(null===(a=null===(t=y.import)||void 0===t?void 0:t.selectedStrategy)||void 0===a?void 0:a.type)===c.c.SERVERLESS_FUNCTION?null:n.createElement(h.a,null,n.createElement(v.Zb,{name:"resources",label:p("devconsole~Resource type"),options:N,onChange:P,getLabelFromValue:e=>p(g.j[e]),helpText:n.createElement("p",{className:"pf-v5-c-form__helper-text"},n.createElement(o.Trans,{t:p,ns:"devconsole"},"Resource type to generate. The default can be set in"," ",n.createElement(s.Link,{to:"/user-preferences/applications"},"User Preferences"),".")),toggleOnSelection:!0}))})},8029:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a(1402),i=a(15),o=a(761),s=a(5599);const l=()=>{const e=Object(i.Fe)(r.c),t=e?s.k.KnativeService:s.k.Kubernetes,[a,l,c]=Object(i.ef)(o.q,t),[u,d,m]=Object(i.ef)(o.n,t);return n.useEffect(()=>{e||(c&&m&&"latest"===a&&u===s.k.KnativeService?d(s.k.Kubernetes):c&&a===s.k.KnativeService&&(l(s.k.Kubernetes),d(s.k.Kubernetes)))},[e,a,c,u,m,l,d]),n.useEffect(()=>{c&&"latest"!==a&&d(a)},[a,c]),[u,d]}},8030:function(e,t,a){"use strict";var n=a(0),r=a(137),i=a(7),o=a(14),s=a(5),l=a(108),c=a(10),u=a(761),d=a(5673),m=a(5695),p=a(6281),b=a(8877);t.a=()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(o.useParams)(),a=Object(o.useLocation)(),v=new URLSearchParams(a.search),g=Object(l.b)({projects:{kind:c.ProjectModel.kind,isList:!0},imagestream:{kind:c.ImageStreamModel.kind,name:u.l,namespace:u.h}});if(!(Object.keys(g).length>0&&Object.values(g).every(e=>e.loaded||!!e.loadError)))return n.createElement(s.S,null);let h;const{loaded:f,data:O,loadError:y}=g.imagestream;return f&&!y&&(h=Object(d.o)(O)),n.createElement(m.b,{disabled:!0,variant:m.a.light},n.createElement(r.b,null,n.createElement("title",null,e("devconsole~Upload JAR file"))),n.createElement(s.Z,{title:e("devconsole~Upload JAR file")},e("devconsole~Upload a JAR file from your local desktop to OpenShift")),n.createElement(p.a,null,e=>n.createElement(b.a,{forApplication:e,namespace:t,projects:g.projects,builderImage:null==h?void 0:h[u.l],contextualSource:v.get(u.r.CONTEXT_SOURCE)})))}},882:function(e,t,a){"use strict";a.r(t);var n=a(8024);a.d(t,"ImportPage",(function(){return n.a}));var r=a(8025);a.d(t,"SamplesCatalog",(function(){return r.a}));var i=a(8026);a.d(t,"ImportSamplePage",(function(){return i.a}));var o=a(8027);a.d(t,"DeployImagePage",(function(){return o.a}));var s=a(8030);a.d(t,"UploadJarPage",(function(){return s.a}));var l=a(4396);a.d(t,"ImportYamlPage",(function(){return l.ImportYamlPage}))},8869:function(e,t,a){"use strict";var n=a(0),r=a(87),i=a(80),o=a(55),s=a(22),l=a(7),c=a(31),u=a(13),d=a(5591),m=a(5),p=a(10),b=a(518),v=a(5620),g=a(5648),h=a(6105),f=a(5653),O=a(15),y=a(989),E=a(6325),j=a(5729),k=a(5786),T=a(2221),S=a(5625),_=a(5673),R=a(6538),P=a(5849),N=a(5599),C=a(5649),w=a(8870),I=a(6788),x=a(8871),A=a(8872),D=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};t.a=Object(c.connect)((e,t)=>{const a=t.forApplication||Object(b.c)(e);return{activeApplication:a!==O.b?a:""}})(({namespace:e,imageStreams:t,importData:a,contextualSource:c,activeApplication:b,projects:U})=>{const{t:L}=Object(l.useTranslation)(),M=Object(O.cf)(),[B]=Object(u.jc)(),F=Object(O.Pe)(),$=Object(O.Te)(),K=Object(y.a)(),[q,G]=Object(h.a)(),V=Object(w.a)(),Y=Object(R.a)(e,b),H=Object.assign(Object.assign({},Y),{application:Object.assign(Object.assign({},Y.application),{selectedKey:b===L("devconsole~No application group")?T.z:b,isInContext:!!Object(S.b)(b)}),resourceTypesNotValid:c?[N.k.KnativeService]:[],pipeline:{enabled:!1,type:v.a.PIPELINE},git:{url:"",type:d.b.INVALID,ref:"",dir:"/",showGitType:!1,secret:"",isUrlValidating:!1,validated:r.d.default},docker:{dockerfilePath:"",dockerfileHasError:!0},devfile:{devfilePath:"",devfileHasError:!1},pac:{pacHasError:!1,repository:Object.assign({},g.i)},build:Object.assign(Object.assign({},Y.build),{triggers:{webhook:!0,image:!0,config:!0},strategy:a.buildStrategy||"Devfile",option:V,clusterBuildStrategy:k.a.UNKNOWN}),import:{loaded:!1,knativeFuncLoaded:!1,loadError:null,strategies:[],selectedStrategy:{name:"Builder Image",type:d.c.S2I,priority:0,detectedFiles:[]},recommendedStrategy:null,showEditImportStrategy:a.type!==N.e.git,strategyChanged:!1}}),W=Object(I.a)(H),z=t&&t.loaded&&Object(_.o)(t.data);return n.createElement(m.wb,{data:null==t?void 0:t.data,loaded:null==t?void 0:t.loaded,loadError:null==t?void 0:t.loadError},n.createElement(o.b,{initialValues:W,onSubmit:(e,t)=>{var a;const r=z&&(null===(a=z[e.image.selected])||void 0===a?void 0:a.obj),o=U.loaded&&s.a(U.data),{build:{option:l},project:{name:c},pipeline:{enabled:u,type:d},pac:{repository:m}}=e,b=Object(P.b)(L,e,r,o,!0).then(()=>Object(P.b)(L,e,r));return b.then(e=>{$(e)}).catch(()=>{}),b.then(t=>D(void 0,void 0,void 0,(function*(){if(u&&d===v.a.PAC){const t=yield Object(f.a)(m,q,G);K.addToast({variant:t?i.b.success:i.b.danger,title:L(t?"devconsole~Webhook attached to the Git Repository":"devconsole~Could not attach webhook to the Git Repository"),content:t?null:n.createElement(A.a,{repositoryName:m.name,git:e.git,projectName:c}),timeout:!0,dismissible:!0})}const a=Object(P.e)(t),r=new URLSearchParams;if(l===N.a.SHIPWRIGHT_BUILD){const e=null==t?void 0:t.find(e=>e.kind===j.a.kind);try{yield Object(E.c)(e)}catch(e){K.addToast({variant:i.b.danger,title:L("devconsole~Build failed"),content:e.message,timeout:!0,dismissible:!0})}}const o=t.find(e=>e.kind===p.RouteModel.kind);a.length>0&&(K.addToast({variant:i.b.info,title:a.length>1?L("devconsole~Resources added"):L("devconsole~Resource added"),content:n.createElement(x.a,{deployedResources:a,route:o}),timeout:!0,dismissible:!0}),"string"==typeof a[0].metadata.uid&&r.set("selectId",a[0].metadata.uid)),M("Git Import",Object(P.g)(e)),Object(P.h)(c,B,F,r)}))).catch(e=>{console.warn("Error while submitting import form:",e),t.setStatus({submitError:e.message})})},onReset:m.Vb.goBack,validationSchema:Object(C.d)(L)},e=>n.createElement(m.c,Object.assign({},e,{projects:U,builderImages:z,loader:a.loader}))))})},8870:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(761),i=a(6216),o=a(5669),s=a(15),l=a(5599);const c=()=>{const e=Object(s.Fe)(r.d),t=Object(i.c)(),a=Object(s.Fe)(o.d);return n.useMemo(()=>t?l.a.SHIPWRIGHT_BUILD:e?l.a.BUILDS:a?l.a.PIPELINES:l.a.DISABLED,[e,t,a])}},8871:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(2222);t.a=({deployedResources:e=[],route:t})=>{const{t:a}=Object(r.useTranslation)();return e&&0!==e.length?n.createElement(n.Fragment,null,e.length&&a("devconsole~{{kind}} created successfully.",{kind:e[0].kind}),t&&n.createElement("p",null,n.createElement(i.a,{route:t}))):null}},8872:function(e,t,a){"use strict";var n=a(0),r=a(7),i=a(5),o=a(5586),s=a(5599);t.a=({repositoryName:e,git:t,projectName:a})=>{const{t:l}=Object(r.useTranslation)(),c=l(s.c[t.detectedType]);return n.createElement(n.Fragment,null,n.createElement(r.Trans,{t:l,ns:"devconsole",values:{translatedGitType:c}},"Copy the ",n.createElement("b",null,"Webhook URL")," from the"," ",n.createElement("a",{href:Object(i.uc)(o.RepositoryModel,e,a),target:"_blank",rel:"noopener noreferrer"},"Repository Page")," ","and attach it to the"," ",n.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},{translatedGitType:c}," repository")," ","manually."))}},8873:function(e,t,a){"use strict";var n=a(0),r=a(281),i=a(22),o=a(7),s=a(15),l=a(2255),c=a(6154),u=a(5618);t.a=({values:e,errors:t,handleSubmit:a,handleReset:d,builderImage:m,status:p,isSubmitting:b})=>{const{t:v}=Object(o.useTranslation)(),{image:{tag:g}}=e;return n.createElement("form",{onSubmit:a},n.createElement(s.Q,{style:{marginTop:0}},n.createElement(u.a,null,n.createElement(s.ab,{type:r.b.text,name:"name",label:v("devconsole~Name"),helpText:v("devconsole~A unique name given to the component that will be used to name associated resources."),"data-test-id":"application-form-app-name",required:!0}),n.createElement(c.a,{selectedBuilderImage:m,selectedImageTag:g}),n.createElement(s.ab,{type:r.b.text,name:"git.url",label:v("devconsole~Git repo URL"),"data-test-id":"git-form-input-url",isDisabled:!0}))),n.createElement(l.d,{handleReset:d,errorMessage:p&&p.submitError,isSubmitting:b,submitLabel:v("devconsole~Create"),disableSubmit:!i.a(t)||b,resetLabel:v("devconsole~Cancel"),sticky:!0}))}},8874:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(7),o=a(31),s=a(5587),l=a(5),c=a(518),u=a(15),d=a(5625),m=a(5790),p=a(6546),b=a(6032),v=a(8875),g=a(5849),h=a(5599),f=a(6788);t.a=Object(o.connect)((e,t)=>{const a=t.forApplication||Object(c.c)(e);return{activeApplication:a!==u.b?a:""}})(({namespace:e,projects:t,activeApplication:a,contextualSource:o})=>{const c=Object(u.Te)(),{t:O}=Object(i.useTranslation)(),y={project:{name:e||"",displayName:"",description:""},application:{initial:Object(d.b)(a),name:Object(d.b)(a),selectedKey:a,isInContext:!!Object(d.b)(a)},name:"",searchTerm:"",registry:"external",allowInsecureRegistry:!1,imageStream:{image:"",tag:"",namespace:e||""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},import:{selectedStrategy:{name:"",type:s.c.S2I,priority:0,detectedFiles:[]}},runtimeIcon:null,isSearchingForImage:!1,serverless:{scaling:{minpods:"",maxpods:"",concurrencytarget:"",concurrencylimit:"",autoscale:{autoscalewindow:"",autoscalewindowUnit:"",defaultAutoscalewindowUnit:"s"},concurrencyutilization:""},domainMapping:[]},route:{disable:!1,create:!0,targetPort:"",unknownTargetPort:"",defaultUnknownPort:8080,path:"",hostname:"",secure:!1,tls:{termination:null,insecureEdgeTerminationPolicy:null,caCertificate:"",certificate:"",destinationCACertificate:"",key:""}},resources:h.k.Kubernetes,resourceTypesNotValid:o?[h.k.KnativeService]:[],build:{env:[],triggers:{webhook:!0,image:!0,config:!0},strategy:"Source"},deployment:{env:[],triggers:{image:!0,config:!0},replicas:1},labels:{},env:{},limits:{cpu:{request:"",requestUnit:"m",defaultRequestUnit:"m",limit:"",limitUnit:"m",defaultLimitUnit:"m"},memory:{request:"",requestUnit:"Mi",defaultRequestUnit:"Mi",limit:"",limitUnit:"Mi",defaultLimitUnit:"Mi"}},healthChecks:m.c},E=Object(f.a)(y);return n.createElement(r.b,{initialValues:E,onSubmit:(e,t)=>{const{project:{name:a}}=e,n=Object(p.a)(e,!0).then(()=>Object(p.a)(e));return n.then(e=>c(e)).catch(e=>{console.log("Failed to create or update image resources",e)}),n.then(e=>{var t,n;const r=null===(n=null===(t=Object(g.e)(e)[0])||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.uid;l.Vb.push(`/topology/ns/${a}${r?"?selectId="+r:""}`)}).catch(e=>{t.setStatus({submitError:e.message})})},onReset:l.Vb.goBack,validationSchema:Object(b.a)(O)},e=>n.createElement(v.a,Object.assign({},e,{projects:t})))})},8875:function(e,t,a){"use strict";var n=a(0),r=a(22),i=a(7),o=a(5),s=a(2255),l=a(5911),c=a(6106),u=a(6011),d=a(6547),m=a(7315),p=a(6409);t.a=({values:e,errors:t,handleSubmit:a,handleReset:b,status:v,isSubmitting:g,dirty:h,projects:f})=>{const{t:O}=Object(i.useTranslation)();Object(o.Gc)(g);const y=!Object(l.g)();return n.createElement(s.b,{className:"co-deploy-image","data-test-id":"deploy-image-form",onSubmit:a},n.createElement(s.c,null,n.createElement(d.a,null),n.createElement(p.a,null),n.createElement(u.a,{project:e.project,noProjectsAvailable:f.loaded&&r.a(f.data)}),y&&n.createElement(n.Fragment,null,n.createElement(m.a,{values:e}),n.createElement(c.a,{values:e}))),n.createElement(s.d,{handleReset:b,errorMessage:v&&v.submitError,isSubmitting:g,submitLabel:O("devconsole~Create"),sticky:!0,disableSubmit:!h||!r.a(t)||g,resetLabel:O("devconsole~Cancel")}))}},8876:function(e,t,a){},8877:function(e,t,a){"use strict";var n=a(0),r=a(55),i=a(22),o=a(7),s=a(13),l=a(5),c=a(15),u=a(5594),d=a(6538),m=a(5849),p=a(5599),b=a(7306),v=a(6010),g=a(8878),h=a(7305);t.a=({namespace:e,projects:t,builderImage:a,forApplication:f,contextualSource:O})=>{const y=Object(c.Te)(),E=Object(h.a)(),{t:j}=Object(o.useTranslation)(),[k]=Object(s.jc)(),T=Object(c.Pe)(),S=f||"",_=S!==c.b?S:"",{name:R,recentTag:P}=a||{},N=Object(d.a)(e,_),C=Object.assign(Object.assign({},N),{application:Object.assign(Object.assign({},N.application),{isInContext:!!Object(u.k)(_)}),fileUpload:{name:"",value:"",javaArgs:""},resourceTypesNotValid:O?[p.k.KnativeService]:[],runtimeIcon:"java",image:Object.assign(Object.assign({},N.image),R&&(null==P?void 0:P.name)&&{selected:R,tag:P.name,tagObj:P}),import:{showEditImportStrategy:!0}});return n.createElement(r.b,{initialValues:C,onSubmit:(e,n)=>{const r=null==a?void 0:a.obj,o=t.loaded&&i.a(t.data),{project:{name:s}}=e;return Object(b.a)(e,r,o,!0).then(()=>Object(b.a)(e,r)).then(e=>{var t,a;y(e),E(e),Object(m.h)(s,k,T,new URLSearchParams({selectId:null===(a=null===(t=Object(m.e)(e)[0])||void 0===t?void 0:t.metadata)||void 0===a?void 0:a.uid}))}).catch(e=>{n.setStatus({submitError:e.message})})},onReset:l.Vb.goBack,validationSchema:Object(v.b)(j)},r=>n.createElement(g.a,Object.assign({},r,{namespace:e,projects:t,builderImage:a})))}},8878:function(e,t,a){"use strict";var n=a(0),r=a(80),i=a(22),o=a(7),s=a(5),l=a(2255),c=a(6106),u=a(6011),d=a(6154),m=a(5618),p=a(6409),b=a(8028),v=a(7310);t.a=({values:e,errors:t,handleSubmit:a,handleReset:g,status:h,isSubmitting:f,dirty:O,projects:y,builderImage:E})=>{const{t:j}=Object(o.useTranslation)();Object(s.Gc)(f);const{image:{tag:k}}=e;return n.createElement(l.b,{className:"co-deploy-image","data-test-id":"upload-jar-form",onSubmit:a},n.createElement(l.c,{flexLayout:!0},n.createElement(v.a,null),n.createElement(p.a,null),n.createElement(m.a,null,E&&k?n.createElement(d.a,{selectedBuilderImage:E,selectedImageTag:k,showImageInfo:!1}):n.createElement(r.a,{variant:"warning",title:j("devconsole~Unable to detect the Builder Image."),isInline:!0},j("devconsole~No associated Builder Image is found for Java."))),n.createElement(u.a,{project:e.project,noProjectsAvailable:y.loaded&&i.a(y.data)}),n.createElement(b.a,null),n.createElement(c.a,{values:e})),n.createElement(l.d,{handleReset:g,errorMessage:h&&h.submitError,isSubmitting:f,submitLabel:j("devconsole~Create"),sticky:!0,disableSubmit:!O||!i.a(t)||f,resetLabel:j("devconsole~Cancel")}))}}}]);
//# sourceMappingURL=import-chunk-bcbdfe1bd6f29f10f9aa.min.js.map