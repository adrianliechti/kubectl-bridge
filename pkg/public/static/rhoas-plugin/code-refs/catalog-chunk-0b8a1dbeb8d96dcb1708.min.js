(window.webpackJsonp=window.webpackJsonp||[]).push([[264],{11474:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),r=n(563),i=n(72),o=n(1922),c=n(219),s=n(281),d=n(966),l=n(19),u=n(7),p=n(5),m=n(775),v=n(7516),f=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((a=a.apply(e,t||[])).next())}))};const h=({namespace:e})=>{const[t,n]=a.useState(!1),[h,b]=a.useState(""),[k,g]=a.useState(""),[S,y]=a.useState(!1),{t:O}=Object(u.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(r.a,null,a.createElement(i.a,{component:i.b.p},a.createElement(u.Trans,{t:O,ns:"rhoas-plugin"},"Enter your API token from"," ",a.createElement("a",{href:"https://console.redhat.com/openshift/token",rel:"noopener noreferrer",target:"_blank"},"https://console.redhat.com"),", so we can check what services you have access to based on your subscription."))),a.createElement(o.a,null,a.createElement(c.a,{fieldId:"api-token-value",label:O("rhoas-plugin~API Token"),isRequired:!0},a.createElement(s.a,{value:h,onChange:(e,t)=>b(t),type:"password",name:"apitoken","aria-label":O("rhoas-plugin~API Token")})),a.createElement(p.g,{errorMessage:k,inProgress:S},a.createElement(d.a,{className:"pf-v5-c-form pf-v5-c-form__actions--left"},a.createElement(l.a,{key:"confirm",variant:"primary",onClick:()=>f(void 0,void 0,void 0,(function*(){y(!0),n(!0);try{yield Object(v.c)(e,h),y(!1)}catch(e){return g(O("rhoas-plugin~Problem with creating secret",{error:e})),void n(!0)}try{yield Object(v.d)(e)}catch(e){g(O("rhoas-plugin~Cannot create service account",{error:e}))}n(!1)})),isDisabled:h.length<m.APITokenLengthMinimum||t},O("rhoas-plugin~Connect")),a.createElement(l.a,{key:"reset",variant:"link",onClick:()=>{b(""),g("")}},O("rhoas-plugin~Reset"))))))}},11475:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=[{serviceName:"kafka",name:"Red Hat OpenShift Streams for Apache Kafka",type:"managedservices",uid:"streams-1615213269575",description:"Red Hat OpenShift Streams for Apache Kafka is a managed cloud service that provides a streamlined developer experience for building, deploying, and scaling real-time applications in hybrid-cloud environments. The combination of seamless operations across distributed microservices, large data transfer volumes, and managed operations allows teams to focus on core competencies, accelerate time to value and reduce operational cost.",provider:"Red Hat, Inc.",tags:["kafka","service","rhosak","rhoas","cloud"],icon:n(775).kafkaIcon,ctaLabel:"Connect",details:"**Red Hat OpenShift Streams for Apache Kafka** is a managed cloud service that provides a streamlined developer experience for building, deploying, and scaling real-time applications in hybrid-cloud environments. The combination of seamless operations across distributed microservices, large data transfer volumes, and managed operations allows teams to focus on core competencies, accelerate time to value and reduce operational cost.\n\n**Red Hat OpenShift Streams for Apache Kafka** makes it easy to create, discover, and connect to real-time data streams no matter where they are deployed. Streams are a key component for delivering real-time experiences and connecting loosely-coupled microservices.\n\n### Red Hat OpenShift Streams for Apache Kafka features\n\n**Delivered as a service**, managed by Red Hat SRE - Red Hatâ€˜s specialized 24x7 global SRE team fully manages the Kafka infrastructure and daily operations, including monitoring, logging, upgrades and patching, to proactively address issues and quickly solve problems\n\n**Streamlined developer experience** - a developer-first, consistent experience that shields the user from administrative tasks, supports self-service, and easily connects to other OpenShift workloads.\n\n**Real-time, streaming data broker** - service that can run in any cloud to support large data transfer volumes between distributed microservices for enterprise-scale applications.\n\n**Schema registry** - Red Hat OpenShift Service Registry is included, making it easy for development teams to publish, communicate and discover any streaming data topics.\n\n**Connectors** - the Kafka brokers can securely connect to distributed services, making it easy to consume and share streaming data between applications and enterprise systems, cloud provider services, and SaaS applications.\n"}]},5461:function(e,t,n){"use strict";n.r(t);var a=n(7517);n.d(t,"CATALOG_TYPE",(function(){return a.a}));var r=n(8319);n.d(t,"rhoasProvider",(function(){return r.a}))},6682:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));const a=(e,t)=>{var n;if(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.conditions)return e.status.conditions.find(e=>e.type===t)},r=e=>a(e,"Finished"),i=e=>{const t=a(e,"Finished");return"True"===(null==t?void 0:t.status)},o=e=>{var t;return"True"===(null===(t=a(e,"AcccesTokenSecretValid"))||void 0===t?void 0:t.status)}},7516:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return f}));var a=n(10),r=n(8),i=n(15),o=n(775),c=n(2272),s=n(6682),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((a=a.apply(e,t||[])).next())}))};const l=e=>d(void 0,void 0,void 0,(function*(){let t;try{t=yield Object(r.kb)(c.b,o.ServicesRequestCRName,e)}catch(e){console.info("rhoas: CloudServicesRequest already exist")}return t?(n=t,d(void 0,void 0,void 0,(function*(){return Object(r.pb)(c.b,n,[{path:"/spec/forceRefresh",op:"add",value:(new Date).toISOString()}])}))):(e=>d(void 0,void 0,void 0,(function*(){const t={apiVersion:`${c.b.apiGroup}/${c.b.apiVersion}`,kind:c.b.kind,metadata:{name:o.ServicesRequestCRName,namespace:e},spec:{accessTokenSecretName:o.AccessTokenSecretName}};return Object(r.jb)(c.b,t)})))(e);var n})),u=(e,t)=>d(void 0,void 0,void 0,(function*(){let n;try{n=yield Object(r.kb)(a.SecretModel,o.AccessTokenSecretName,e)}catch(e){console.info("rhoas: auth secret doesn't exist")}if(n)return delete n.data,n.stringData={value:t},Object(r.rb)(a.SecretModel,n);const i={apiVersion:a.SecretModel.apiVersion,kind:a.SecretModel.kind,metadata:{name:o.AccessTokenSecretName,namespace:e},stringData:{value:t}};return Object(r.jb)(a.SecretModel,i)})),p=e=>d(void 0,void 0,void 0,(function*(){let t,n;try{t=yield Object(r.kb)(c.a,o.ServiceAccountCRName,e)}catch(e){console.info("rhoas: ServiceAccount doesn't exist. Creating new ServiceAccount")}n=t?yield(e=>d(void 0,void 0,void 0,(function*(){return Object(r.pb)(c.a,e,[{path:"/spec/forceRefresh",op:"add",value:(new Date).toISOString()}])})))(t):yield(e=>d(void 0,void 0,void 0,(function*(){const t={apiVersion:`${c.b.apiGroup}/${c.b.apiVersion}`,kind:c.a.kind,metadata:{name:o.ServiceAccountCRName,namespace:e},spec:{accessTokenSecretName:o.AccessTokenSecretName,serviceAccountName:"rhoas-operator-"+Object(i.wd)(4),serviceAccountDescription:"Created by rhoas operator",serviceAccountSecretName:o.ServiceAccountSecretName}};return Object(r.jb)(c.a,t)})))(e),yield Object(r.sb)(c.a,n,e=>{const t=Object(s.a)(e);if(t){if(Object(s.c)(e))return!0;const n=t.message;throw new Error(n)}return!1},5e4)})),m=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const a={apiVersion:`${c.b.apiGroup}/${c.b.apiVersion}`,kind:c.c.kind,metadata:{name:t,namespace:n,labels:{"app.kubernetes.io/component":"external-service"}},spec:{kafkaId:e,accessTokenSecretName:o.AccessTokenSecretName,credentials:{serviceAccountSecretName:o.ServiceAccountSecretName}}},i=yield Object(r.jb)(c.c,a);return Object(r.sb)(c.c,i,e=>{const t=Object(s.a)(e);if(t){if("True"===t.status)return!0;throw new Error(t.message)}return!1},2e4)})),v=(e,t)=>Object(r.mb)(c.c,e,t),f=e=>d(void 0,void 0,void 0,(function*(){const t=yield Object(r.kb)(c.c,null,e);return t?t.items.map(e=>e.spec.kafkaId):Promise.resolve([])}))},7517:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="managedservices"},8319:function(e,t,n){"use strict";var a=n(0),r=n(351),i=n(241),o=n(130),c=n(155),s=n(72),d=n(4416),l=n(7),u=n(2237),p=n(108),m=n(8),v=n(11474),f=n(775),h=n(1251),b=n(6682),k=n(11475),g=n(7517);t.a=({namespace:e})=>{const{t:t}=Object(l.useTranslation)(),[n,S,y]=Object(p.a)({kind:Object(m.Hb)(h.CloudServiceAccountRequest),isList:!1,name:f.ServiceAccountCRName,namespace:e,namespaced:!0}),O=S||y,w=Object(b.c)(n);return[a.useMemo(()=>{if(!S&&!y)return[];const l=[{label:t("rhoas-plugin~Unlock with API token"),value:a.createElement(v.a,{namespace:e})},{value:a.createElement(c.a,{component:"li"})},{label:"Description",value:a.createElement(s.a,{component:s.b.p},t("rhoas-plugin~Cloud Services Card Description"))}];if(w){return k.a.map(({serviceName:t,name:n,type:r,uid:i,description:o,provider:c,tags:s,icon:d,ctaLabel:l,details:p})=>({name:n,type:r,uid:i,description:o,provider:c,tags:s,icon:{url:d},cta:{label:l,href:`/rhoas/ns/${e}/${t}`},details:{descriptions:[{value:a.createElement(u.SyncMarkdownView,{content:p})}]}}))}return[{name:t("rhoas-plugin~Red Hat OpenShift Application Services"),type:g.a,uid:"services-1615213269575",description:(()=>{let e;return e=null!==n&&w?t("rhoas-plugin~Unlocked"):a.createElement(r.a,{variant:"outline",color:"orange",icon:a.createElement(d.a,null)},t("rhoas-plugin~Unlock with token")),a.createElement(i.a,{direction:{default:"column"},className:"catalog-tile-pf-body"},a.createElement(o.a,{className:"catalog-tile-pf-description"},t("rhoas-plugin~Red Hat OpenShift Application Services include services like Red Hat OpenShift Streams for Apache Kafka")),a.createElement(o.a,null,e))})(),provider:"Red Hat, Inc.",tags:["kafka","cloud","service","managed","rhoas","rhosak"],icon:{url:f.operatorIcon},details:{descriptions:l}}]},[S,y,t,e,w,n]),O,void 0]}}}]);
//# sourceMappingURL=catalog-chunk-0b8a1dbeb8d96dcb1708.min.js.map