(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{4483:function(e,a,t){"use strict";t.r(a),t.d(a,"VolumeSnapshotPVCPage",(function(){return M}));var s=t(0),o=t(54),n=t(18),l=t(29),i=t(7),c=t(14),m=t(83),r=t(40),d=t(1952),p=t(5),u=t(108),b=t(10),v=t(8),h=t(15),S=t(206),j=t(1959);const{common:O,RestorePVC:V}=p.F.factory,g=[V,...O],N=[{id:"name"},{id:"namespace"},{className:n("pf-m-hidden","pf-m-visible-on-lg"),id:"status"},{className:n("pf-m-hidden","pf-m-visible-on-lg"),id:"size"},{className:n("pf-m-hidden","pf-m-visible-on-xl"),id:"source"},{className:n("pf-m-hidden","pf-m-visible-on-2xl"),id:"snapshotContent"},{className:n("pf-m-hidden","pf-m-visible-on-2xl"),id:"snapshotClass"},{className:n("pf-m-hidden","pf-m-visible-on-xl"),id:"createdAt"},{className:p.F.columnClass,id:""}],C=(e={})=>[{title:l.a.t("console-app~Name"),sort:"metadata.name",transforms:[o.a],id:N[0].id},{title:l.a.t("console-app~Namespace"),sort:"metadata.namespace",transforms:[o.a],id:N[1].id},{title:l.a.t("console-app~Status"),sort:"snapshotStatus",transforms:[o.a],props:{className:N[2].className},id:N[2].id},{title:l.a.t("console-app~Size"),sort:"volumeSnapshotSize",transforms:[o.a],props:{className:N[3].className},id:N[3].id},{title:l.a.t("console-app~Source"),sort:"volumeSnapshotSource",transforms:[o.a],props:{className:N[4].className},id:N[4].id},{title:l.a.t("console-app~Snapshot content"),sort:"status.boundVolumeSnapshotContentName",transforms:[o.a],props:{className:N[5].className},id:N[5].id},{title:l.a.t("console-app~VolumeSnapshotClass"),sort:"spec.volumeSnapshotClassName",transforms:[o.a],props:{className:N[6].className},id:N[6].id},{title:l.a.t("console-app~Created at"),sort:"metadata.creationTimestamp",transforms:[o.a],props:{className:N[7].className},id:N[7].id},{title:"",props:{className:N[8].className},id:N[8].id}].filter(a=>!e[a.title]),E=({obj:e,rowData:{customData:a}})=>{var t,o,n,l,i,c,m;const{name:d,namespace:u,creationTimestamp:S}=(null==e?void 0:e.metadata)||{},O=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.restoreSize,V=Object(p.Ib)(O),C=O?Object(p.Wb)(V).string:"-",E=(null===(n=null===(o=null==e?void 0:e.spec)||void 0===o?void 0:o.source)||void 0===n?void 0:n.persistentVolumeClaimName)?b.PersistentVolumeClaimModel:b.VolumeSnapshotContentModel,f=Object(h.pe)(e),k=null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.boundVolumeSnapshotContentName,w=null===(i=null==e?void 0:e.spec)||void 0===i?void 0:i.volumeSnapshotClassName;return s.createElement(s.Fragment,null,s.createElement(r.k,Object.assign({},N[0]),s.createElement(p.hb,{kind:Object(v.Hb)(b.VolumeSnapshotModel),name:d,namespace:u})),s.createElement(r.k,Object.assign({},N[1],{columnID:"namespace"}),s.createElement(p.hb,{kind:b.NamespaceModel.kind,name:u})),s.createElement(r.k,Object.assign({},N[2]),s.createElement(h.cc,{status:Object(j.c)(e)})),s.createElement(r.k,Object.assign({},N[3]),C),!(null===(c=null==a?void 0:a.disableItems)||void 0===c?void 0:c.Source)&&s.createElement(r.k,Object.assign({},N[4]),s.createElement(p.hb,{kind:Object(v.Hb)(E),name:f,namespace:u})),!(null===(m=null==a?void 0:a.disableItems)||void 0===m?void 0:m["Snapshot Content"])&&s.createElement(r.k,Object.assign({},N[5]),k?s.createElement(p.hb,{kind:Object(v.Hb)(b.VolumeSnapshotContentModel),name:k}):"-"),s.createElement(r.k,Object.assign({},N[6]),w?s.createElement(p.hb,{kind:Object(v.Hb)(b.VolumeSnapshotClassModel),name:w}):"-"),s.createElement(r.k,Object.assign({},N[7]),s.createElement(p.xb,{timestamp:S})),s.createElement(r.k,Object.assign({},N[8]),s.createElement(p.gb,{kind:Object(v.Hb)(b.VolumeSnapshotModel),resource:e,actions:g})))},f=e=>{const{t:a}=Object(i.useTranslation)(),[t]=Object(d.useActiveColumns)({columns:C(e.rowData.customData.disableItems)});return s.createElement(m.VirtualizedTable,Object.assign({},e,{data:e.data,"aria-label":a("console-app~VolumeSnapshots"),label:a("console-app~VolumeSnapshots"),columns:t,Row:E}))},k=(e,a)=>null==e?void 0:e.filter(e=>{var t,s;return(null===(s=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===s?void 0:s.persistentVolumeClaimName)===Object(h.dd)(a)&&Object(h.ed)(e)===Object(h.ed)(a)}),w=e=>{var a;const{t:t}=Object(i.useTranslation)(),{data:o,rowData:n}=e,[l]=Object(d.useActiveColumns)({columns:C(null===(a=n.customData)||void 0===a?void 0:a.disableItems)});return s.createElement(m.VirtualizedTable,Object.assign({},e,{data:k(o,n.customData.pvc),"aria-label":t("console-app~VolumeSnapshots"),label:t("console-app~VolumeSnapshots"),columns:l,Row:E}))},M=({ns:e,obj:a})=>{const{t:t}=Object(i.useTranslation)(),o=Object(c.useParams)(),n=Object(S.a)(h.O.CAN_LIST_VSC),l=e||(null==o?void 0:o.ns),[r,d,p]=Object(u.a)({groupVersionKind:{group:b.VolumeSnapshotModel.apiGroup,kind:b.VolumeSnapshotModel.kind,version:b.VolumeSnapshotModel.apiVersion},isList:!0,namespaced:!0,namespace:l}),[v,O,V]=Object(m.useListPageFilter)(r);return s.createElement(m.ListPageBody,null,s.createElement(m.ListPageFilter,{data:k(v,a),loaded:d,onFilterChange:V,rowFilters:Object(j.b)(t)}),s.createElement(w,{data:O,unfilteredData:r,rowData:{customData:{pvc:a,disableItems:{Source:!0,"Snapshot Content":!n}}},loaded:d,loadError:p}))};a.default=({canCreate:e=!0,showTitle:a=!0,namespace:t="default",selector:o})=>{const{t:n}=Object(i.useTranslation)(),l=Object(S.a)(h.O.CAN_LIST_VSC),c=`/k8s/ns/${t}/${b.VolumeSnapshotModel.plural}/~new/form`,[r,d,p]=Object(u.a)({groupVersionKind:{group:b.VolumeSnapshotModel.apiGroup,kind:b.VolumeSnapshotModel.kind,version:b.VolumeSnapshotModel.apiVersion},isList:!0,namespaced:!0,namespace:t,selector:o}),[v,O,V]=Object(m.useListPageFilter)(r);return s.createElement(s.Fragment,null,s.createElement(m.ListPageHeader,{title:a?n(b.VolumeSnapshotModel.labelPluralKey):void 0},e&&s.createElement(m.ListPageCreateLink,{to:c},n("console-app~Create VolumeSnapshot"))),s.createElement(m.ListPageBody,null,s.createElement(m.ListPageFilter,{data:v,loaded:d,onFilterChange:V,rowFilters:Object(j.b)(n)}),s.createElement(f,{data:O,unfilteredData:r,rowData:{customData:{disableItems:{"Snapshot Content":!l}}},loaded:d,loadError:p})))}}}]);
//# sourceMappingURL=volume-snapshot-chunk-197a4f7e207543cdea5a.min.js.map