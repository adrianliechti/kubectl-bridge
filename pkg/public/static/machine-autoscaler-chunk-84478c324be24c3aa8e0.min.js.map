{"version":3,"sources":["webpack:///./public/components/machine-autoscaler.tsx"],"names":["common","factory","menuActions","getExtensionsActionsForKind","machineAutoscalerReference","MachineAutoscalerTargetLink","obj","targetAPIVersion","targetKind","targetName","groupVersion","reference","group","version","kind","name","namespace","metadata","tableColumnClasses","columnClass","MachineAutoscalerTableRow","className","columnID","actions","resource","MachineAutoscalerList","props","t","Header","title","sortField","transforms","id","Row","virtualize","MachineAutoscalerDetails","text","MachineAutoscalerPage","ListComponent","canCreate","MachineAutoscalerDetailsPage","pages","details","editYaml"],"mappings":"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","file":"machine-autoscaler-chunk-84478c324be24c3aa8e0.min.js","sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash-es';\nimport { sortable } from '@patternfly/react-table';\nimport * as classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\n\nimport { MachineAutoscalerModel } from '../models';\nimport {\n  groupVersionFor,\n  K8sResourceKind,\n  referenceForGroupVersionKind,\n  referenceForModel,\n} from '../module/k8s';\nimport { DetailsPage, ListPage, Table, TableData, RowFunctionArgs } from './factory';\nimport {\n  Kebab,\n  navFactory,\n  ResourceKebab,\n  ResourceLink,\n  ResourceSummary,\n  SectionHeading,\n} from './utils';\n\nconst { common } = Kebab.factory;\nconst menuActions = [...Kebab.getExtensionsActionsForKind(MachineAutoscalerModel), ...common];\nconst machineAutoscalerReference = referenceForModel(MachineAutoscalerModel);\n\nconst MachineAutoscalerTargetLink: React.FC<MachineAutoscalerTargetLinkProps> = ({ obj }) => {\n  const targetAPIVersion: string = _.get(obj, 'spec.scaleTargetRef.apiVersion');\n  const targetKind: string = _.get(obj, 'spec.scaleTargetRef.kind');\n  const targetName: string = _.get(obj, 'spec.scaleTargetRef.name');\n  if (!targetAPIVersion || !targetKind || !targetName) {\n    return <>-</>;\n  }\n\n  const groupVersion = groupVersionFor(targetAPIVersion);\n  const reference = referenceForGroupVersionKind(groupVersion.group)(groupVersion.version)(\n    targetKind,\n  );\n  return <ResourceLink kind={reference} name={targetName} namespace={obj.metadata.namespace} />;\n};\n\nconst tableColumnClasses = [\n  '',\n  '',\n  'pf-m-hidden pf-m-visible-on-sm pf-v5-u-w-25-on-xl',\n  'pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-xl pf-v5-u-w-10-on-2xl',\n  'pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-xl pf-v5-u-w-10-on-2xl',\n  Kebab.columnClass,\n];\n\nconst MachineAutoscalerTableRow: React.FC<RowFunctionArgs<K8sResourceKind>> = ({ obj }) => {\n  return (\n    <>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink\n          kind={machineAutoscalerReference}\n          name={obj.metadata.name}\n          namespace={obj.metadata.namespace}\n        />\n      </TableData>\n      <TableData\n        className={classNames(tableColumnClasses[1], 'co-break-word')}\n        columnID=\"namespace\"\n      >\n        <ResourceLink kind=\"Namespace\" name={obj.metadata.namespace} />\n      </TableData>\n      <TableData className={classNames(tableColumnClasses[2], 'co-break-word')}>\n        <MachineAutoscalerTargetLink obj={obj} />\n      </TableData>\n      <TableData className={tableColumnClasses[3]}>{_.get(obj, 'spec.minReplicas', '-')}</TableData>\n      <TableData className={tableColumnClasses[4]}>\n        {_.get(obj, 'spec.maxReplicas') || '-'}\n      </TableData>\n      <TableData className={tableColumnClasses[5]}>\n        <ResourceKebab actions={menuActions} kind={machineAutoscalerReference} resource={obj} />\n      </TableData>\n    </>\n  );\n};\n\nconst MachineAutoscalerList: React.FC = (props) => {\n  const { t } = useTranslation();\n  const MachineAutoscalerTableHeader = () => {\n    return [\n      {\n        title: t('public~Name'),\n        sortField: 'metadata.name',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[0] },\n      },\n      {\n        title: t('public~Namespace'),\n        sortField: 'metadata.namespace',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[1] },\n        id: 'namespace',\n      },\n      {\n        title: t('public~Scale target'),\n        sortField: 'spec.scaleTargetRef.name',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[2] },\n      },\n      {\n        title: t('public~Min'),\n        sortField: 'spec.minReplicas',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[3] },\n      },\n      {\n        title: t('public~Max'),\n        sortField: 'spec.maxReplicas',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[4] },\n      },\n      {\n        title: '',\n        props: { className: tableColumnClasses[5] },\n      },\n    ];\n  };\n\n  return (\n    <Table\n      {...props}\n      aria-label={t('public~Machine autoscalers')}\n      Header={MachineAutoscalerTableHeader}\n      Row={MachineAutoscalerTableRow}\n      virtualize\n    />\n  );\n};\n\nconst MachineAutoscalerDetails: React.FC<MachineAutoscalerDetailsProps> = ({ obj }) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('public~MachineAutoscaler details')} />\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <ResourceSummary resource={obj}>\n              <dt>{t('public~Scale target')}</dt>\n              <dd>\n                <MachineAutoscalerTargetLink obj={obj} />\n              </dd>\n              <dt>{t('public~Min replicas')}</dt>\n              <dd>{_.get(obj, 'spec.minReplicas', '-')}</dd>\n              <dt>{t('public~Max replicas')}</dt>\n              <dd>{_.get(obj, 'spec.maxReplicas') || '-'}</dd>\n            </ResourceSummary>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport const MachineAutoscalerPage: React.FC<MachineAutoscalerPageProps> = (props) => (\n  <ListPage\n    {...props}\n    ListComponent={MachineAutoscalerList}\n    kind={machineAutoscalerReference}\n    canCreate={true}\n  />\n);\n\nexport const MachineAutoscalerDetailsPage: React.FC = (props) => (\n  <DetailsPage\n    {...props}\n    menuActions={menuActions}\n    kind={machineAutoscalerReference}\n    pages={[navFactory.details(MachineAutoscalerDetails), navFactory.editYaml()]}\n  />\n);\n\ntype MachineAutoscalerPageProps = {\n  showTitle?: boolean;\n  namespace?: string;\n  selector?: any;\n};\n\ntype MachineAutoscalerTargetLinkProps = {\n  obj: K8sResourceKind;\n};\n\nexport type MachineAutoscalerDetailsProps = {\n  obj: K8sResourceKind;\n};\n"],"sourceRoot":""}