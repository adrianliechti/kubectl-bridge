(window.webpackJsonp=window.webpackJsonp||[]).push([[42,119],{4388:function(e,t,a){"use strict";a.r(t),a.d(t,"OperandStatus",(function(){return J})),a.d(t,"OperandTableRow",(function(){return Q})),a.d(t,"OperandList",(function(){return Z})),a.d(t,"ProvidedAPIsPage",(function(){return ee})),a.d(t,"ProvidedAPIPage",(function(){return ae})),a.d(t,"OperandDetails",(function(){return re})),a.d(t,"OperandDetailsPage",(function(){return le}));var n=a(0),r=a(54),s=a(18),l=a(447),c=a(225),o=a(460),i=a(50),d=a(22),u=a(7),m=a(31),p=a(14),b=a(13),v=a(791),h=a(972),f=a(765),g=a(409),E=a(40),j=a(1204),y=a(770),O=a(1202),N=a(1203),k=a(5),S=a(108),x=a(567),P=a(10),w=a(8),C=a(15),M=a(2282),R=a(473),D=a(2311),T=a(6610),$=a(6612),F=a(125),_=a(6085),L=a(6613),A=a(6622),V=a(5759),U=a(5796),I=a(1405),G=a(6354),K=a(5942),q=a(6623),W=a(6244);const B=["","","",s("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),s("pf-m-hidden","pf-m-visible-on-xl"),s("pf-m-hidden","pf-m-visible-on-2xl"),k.F.columnClass],z=e=>{const{phase:t,status:a,state:n,conditions:r}=(null==e?void 0:e.status)||{};if(t&&l.a(t))return{type:"Phase",value:t};if(a&&l.a(a))return{type:"Status",value:a};if(n&&l.a(n))return{type:"State",value:n};const s="object"==typeof r&&!Array.isArray(r)&&null!==r?[r]:r,c=null==s?void 0:s.filter(e=>"True"===e.status);if(null==c?void 0:c.length){const e=c.map(e=>e.type);return{type:1===e.length?"Condition":"Conditions",value:e.join(", ")}}return null},H=e=>{var t,a,n;const r=null!==(n=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a["olm.targetNamespaces"])&&void 0!==n?n:"",s=(null==r?void 0:r.split(","))||[];return 1===s.length&&""===s[0]},J=({operand:e})=>{const t=z(e);if(!t)return n.createElement(n.Fragment,null,"-");const{type:a,value:r}=t;return n.createElement("span",{className:"co-icon-and-text"},a,n.createElement("span",{className:"pf-v5-u-pr-sm"},":")," ","Running"===r?n.createElement(C.dc,{title:r}):n.createElement(C.cc,{status:r}))},Y=e=>{const t=z(e);return t?`${t.type}: ${t.value}`:""},Q=({obj:e,showNamespace:t})=>{const a={[Object(w.Db)(e)]:e,"csv-actions":{resource:e}};return n.createElement(n.Fragment,null,n.createElement(E.k,{className:B[0]},n.createElement(K.a,{obj:e})),n.createElement(E.k,{className:s(B[1],"co-break-word"),"data-test-operand-kind":e.kind},e.kind),t&&n.createElement(E.k,{className:B[2]},e.metadata.namespace?n.createElement(k.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}):"-"),n.createElement(E.k,{className:B[3]},n.createElement(J,{operand:e})),n.createElement(E.k,{className:B[4]},n.createElement(k.L,{kind:e.kind,labels:e.metadata.labels})),n.createElement(E.k,{className:B[5]},n.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(E.k,{className:B[6]},n.createElement(C.hb,{context:a,isDisabled:c.a(e.metadata,"deletionTimestamp")})))},X=e=>Object(C.ed)(e),Z=e=>{const{t:t}=Object(u.useTranslation)(),{noAPIsFound:a,showNamespace:s}=e,l={title:t("public~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:B[0]}},c={title:t("public~Kind"),sortField:"kind",transforms:[r.a],props:{className:B[1]}},o={title:t("public~Namespace"),sortFunc:"getOperandNamespace",transforms:[r.a],props:{className:B[2]}},i={title:t("public~Status"),sortFunc:"operandStatus",transforms:[r.a],props:{className:B[3]}},d={title:t("public~Labels"),sortField:"metadata.labels",transforms:[r.a],props:{className:B[4]}},m={title:t("public~Last updated"),sortField:"metadata.creationTimestamp",transforms:[r.a],props:{className:B[5]}},p={title:"",props:{className:B[6]}},b=n.useMemo(()=>{var t,a,n;return null!==(n=null===(a=null===(t=e.data)||void 0===t?void 0:t.map)||void 0===a?void 0:a.call(t,t=>{if(t.apiVersion&&t.kind)return t;const a=e.kinds[0];return Object.assign({apiVersion:Object(w.o)(a),kind:Object(w.tb)(a)},t)}))&&void 0!==n?n:[]},[e.data,e.kinds]);return n.createElement(E.j,Object.assign({},e,{customSorts:{operandStatus:Y,getOperandNamespace:X},data:b,EmptyMsg:()=>a?n.createElement(k.h,{title:t("olm~No provided APIs defined")},t("olm~This application was not properly installed or configured.")):n.createElement(k.h,{title:t("olm~No operands found")},t("olm~Operands are declarative components used to define the behavior of the application.")),"aria-label":"Operands",Header:s?()=>[l,c,o,i,d,m,p]:()=>[l,c,i,d,m,p],Row:e=>n.createElement(Q,Object.assign({},e,{showNamespace:s})),virtualize:!0}))},ee=e=>{var t;const{t:a}=Object(u.useTranslation)(),r=Object(p.useLocation)(),[s]=Object(C.ue)(),[l]=Object(W.a)(),{obj:c,showTitle:d=!0,hideLabelFilter:h=!1,hideNameLabelFilters:f=!1,hideColumnManagement:g=!1}=e,[E,k]=Object(D.a)(),x=Object(p.useNavigate)(),P=Object(m.useDispatch)(),[M,R]=n.useState(!1),T=Object(I.j)(c),$=n.useCallback(e=>o.a(e,e=>i.a(e.data,e=>e)).filter(({kind:e,metadata:t},a,n)=>{return T.filter(t=>t.kind===e).length>0||(r=t.ownerReferences||[],s=n,r.filter(({uid:e})=>s.filter(({metadata:t})=>t.uid===e).length>0)).length>0;var r,s}),[T]),F=T.some(e=>{const t=Object(I.l)(e),a=E[t];return null==a?void 0:a.namespaced})&&H(c),_=F&&l,L=((e,t,a)=>t.reduce((t,n)=>{const r=Object(I.l)(n),s=null==e?void 0:e[r];if(!s)return t;const{apiGroup:l,apiVersion:c,kind:o,namespaced:i}=s;return Object.assign(Object.assign({},t),{[n.kind]:Object.assign({groupVersionKind:{group:l,version:c,kind:o},isList:!0,namespaced:i},i&&a?{namespace:a}:{})})},{}))(E,T,_?null:s),A=Object(S.b)(L),V=!k&&Object.keys(L).length<T.length;n.useEffect(()=>{!M&&V&&(P(Object(v.a)()),R(!0))},[V,M,P]);const U=T.length>1?T.reduce((e,t)=>Object.assign(Object.assign({},e),{[Object(I.l)(t)]:t.displayName||t.kind}),{}):{},G=n.useMemo(()=>$(A),[A,$]),K=Object.keys(L).length>1?[{filterGroupName:a("olm~Resource Kind"),type:"clusterserviceversion-resource-kind",reducer:({kind:e})=>e,items:Object.keys(L).map(e=>({id:Object(w.tb)(e),title:Object(w.tb)(e)})),filter:(e,t)=>!(e&&e.selected&&e.selected.length)||e.selected.includes(t.kind)}]:[],[B,z,J]=Object(j.useListPageFilter)(G,K),Y=Object.values(A).every(e=>e.loaded),Q=null===(t=Object.values(A).find(e=>e.loadError))||void 0===t?void 0:t.loadError;return k?null:n.createElement(n.Fragment,null,n.createElement(N.default,{title:d?a("olm~All Instances"):void 0},F&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(q.a,null)),n.createElement(y.ListPageCreateDropdown,{onClick:e=>x(r.pathname.replace("instances",e)+"/~new"),items:U},a("olm~Create new"))),n.createElement(b.n,null,n.createElement(O.default,{data:B,loaded:Y,rowFilters:K,onFilterChange:J,hideNameLabelFilters:f,hideLabelFilter:h,hideColumnManagement:g}),n.createElement(Z,{data:z,loaded:Y,loadError:Q,noAPIsFound:0===Object.keys(L).length,showNamespace:_})))},te=e=>{const{t:t}=Object(u.useTranslation)(),a=Object(p.useLocation)(),[r]=Object(W.a)(),{namespace:s,csv:l,showTitle:c=!0,hideLabelFilter:o=!1,hideNameLabelFilters:i=!1,hideColumnManagement:d=!1}=e,m=a.pathname+"/~new",{apiGroup:v,apiVersion:h,kind:f,namespaced:g,label:E,labelPlural:k}=e.k8sModel,x=g&&H(l),P=x&&r,[w,C,M]=Object(S.a)(Object.assign({groupVersionKind:{group:v,version:h,kind:f},isList:!0,namespaced:g},!P&&g&&s?{namespace:s}:{})),[R,D,T]=Object(j.useListPageFilter)(w);return n.createElement(n.Fragment,null,n.createElement(N.default,{title:c?""+k:void 0},x&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(q.a,null)),n.createElement(y.ListPageCreateLink,{to:m},t("public~Create {{label}}",{label:E}))),n.createElement(b.n,null,n.createElement(O.default,{data:R,loaded:C,onFilterChange:T,hideNameLabelFilters:i,hideLabelFilter:o,hideColumnManagement:d}),n.createElement(Z,{data:D,loaded:C,loadError:M,showNamespace:P})))},ae=e=>{const t=Object($.a)(e.kind),[a]=Object(C.ue)(),[r,s]=Object(R.a)(e.kind),[l,c]=n.useState(!1),o=Object(m.useDispatch)(),i=!s&&!r;if(n.useEffect(()=>{!l&&i&&(o(Object(v.a)()),c(!0))},[o,l,i]),s&&!r)return null;if(!r)return n.createElement(f.ErrorPage404,null);const{apiGroup:d,apiVersion:u,kind:p}=r;return t?n.createElement(k.c,Object.assign({},e,{name:null,model:{group:d,version:u,kind:p},kind:e.kind,namespace:a,loader:t})):n.createElement(te,Object.assign({},e,{namespace:a,k8sModel:r}))},ne=({kindObj:e,obj:t,podStatusDescriptors:a,schema:r})=>(null==a?void 0:a.length)>0?n.createElement("div",{className:"row"},a.map(a=>n.createElement(L.a,{className:"col-sm-6",key:a.path,type:V.b.status,descriptor:a,model:e,obj:t,schema:r}))):null,re=Object(x.a)(({crd:e,csv:t,kindObj:a,obj:r})=>{var s,l,c,o,i,m,p,b,v,f,g,E;const{t:j}=Object(u.useTranslation)(),{kind:y,status:O}=r,[N,S]=n.useState(null),{displayName:x,specDescriptors:P,statusDescriptors:C,version:R}=null!==(p=[...null!==(c=null===(l=null===(s=null==t?void 0:t.spec)||void 0===s?void 0:s.customresourcedefinitions)||void 0===l?void 0:l.owned)&&void 0!==c?c:[],...null!==(m=null===(i=null===(o=null==t?void 0:t.spec)||void 0===o?void 0:o.customresourcedefinitions)||void 0===i?void 0:i.required)&&void 0!==m?m:[]].find(t=>{var n;return t.name===(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)&&t.version===(null==a?void 0:a.apiVersion)}))&&void 0!==p?p:{},D=null!==(E=null===(g=null===(f=null===(v=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.versions)||void 0===v?void 0:v.find(e=>e.name===R))||void 0===f?void 0:f.schema)||void 0===g?void 0:g.openAPIV3Schema)&&void 0!==E?E:Object(w.r)(a),{podStatuses:T,mainStatusDescriptor:$,conditionsStatusDescriptors:F,otherStatusDescriptors:_}=(null!=C?C:[]).reduce((e,t)=>{var a,n,r,s,l;return Object(U.e)(t)?Object.assign(Object.assign({},e),{mainStatusDescriptor:t}):(null===(a=t["x-descriptors"])||void 0===a?void 0:a.includes(V.d.conditions))||"conditions"===t.path?Object.assign(Object.assign({},e),{conditionsStatusDescriptors:[...null!==(n=e.conditionsStatusDescriptors)&&void 0!==n?n:[],t]}):(null===(r=t["x-descriptors"])||void 0===r?void 0:r.includes(V.d.podStatuses))?Object.assign(Object.assign({},e),{podStatuses:[...null!==(s=e.podStatuses)&&void 0!==s?s:[],t]}):Object.assign(Object.assign({},e),{otherStatusDescriptors:[...null!==(l=e.otherStatusDescriptors)&&void 0!==l?l:[],t]})},{});return n.createElement("div",{className:"co-operand-details co-m-pane"},n.createElement("div",{className:"co-m-pane__body"},N&&n.createElement(M.a,{message:N}),n.createElement(k.ob,{text:j("olm~{{kind}} overview",{kind:x||y})}),n.createElement(ne,{kindObj:a,obj:r,schema:D,podStatusDescriptors:T}),n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:r})),$&&n.createElement(L.a,{key:$.path,className:"col-sm-6",descriptor:$,model:a,obj:r,schema:D,type:V.b.status}),(null==_?void 0:_.length)>0&&n.createElement(L.b,{descriptors:_,itemClassName:"col-sm-6",model:a,obj:r,schema:D,type:V.b.status})))),!d.a(P)&&n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement(L.b,{descriptors:P,itemClassName:"col-sm-6",model:a,obj:r,onError:e=>S(e.message),schema:D,type:V.b.spec})))),Array.isArray(null==O?void 0:O.conditions)&&(null!=F?F:[]).every(({path:e})=>"conditions"!==e)&&n.createElement("div",{className:"co-m-pane__body","data-test":"status.conditions"},n.createElement(k.ob,{"data-test":"operand-conditions-heading",text:j("public~Conditions")}),n.createElement(h.b,{conditions:O.conditions})),(null==F?void 0:F.length)>0&&F.map(e=>n.createElement(A.a,{key:e.path,descriptor:e,schema:D,obj:r})))}),se=({k8sModel:e})=>{const{t:t}=Object(u.useTranslation)(),a=Object(p.useParams)(),{appName:r,ns:s,name:l,plural:c}=a,o=Object(p.useLocation)(),[i]=Object(_.a)(r,s),d=n.useCallback((e,t)=>{const a={[Object(w.Hb)(e)]:t,"csv-actions":{resource:t}};return n.createElement(C.hb,{context:a,variant:C.i.DROPDOWN})},[]);return n.createElement(E.a,{name:l,kind:c,namespace:s,customData:i,resources:[{kind:P.CustomResourceDefinitionModel.kind,name:Object(w.xb)(e),isList:!1,prop:"crd"}],customActionMenu:d,createRedirect:!0,breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:`/k8s/ns/${a.ns}/${F.ClusterServiceVersionModel.plural}`},{name:a.appName,path:o.pathname.slice(0,o.pathname.lastIndexOf("/"))},{name:t("olm~{{item}} details",{item:Object(w.tb)(a.plural)}),path:""+o.pathname}],pages:[k.mc.details(e=>n.createElement(re,Object.assign({},e,{csv:i}))),k.mc.editYaml(),{nameKey:"olm~Resources",href:"resources",component:G.a},k.mc.events(g.ResourceEventStream)]})},le=e=>{const{plural:t,ns:a,name:r}=Object(p.useParams)(),s=Object(T.a)(t),[l,c]=Object(R.a)(t);if(c&&!l)return null;if(!l)return n.createElement(f.ErrorPage404,null);const{apiVersion:o,apiGroup:i,kind:d}=l;return s?n.createElement(k.c,Object.assign({},e,{model:{group:i,version:o,kind:d},namespace:a,kind:t,name:r,loader:s})):n.createElement(se,Object.assign({},e,{k8sModel:l}))};Z.displayName="OperandList",re.displayName="OperandDetails",ee.displayName="ProvidedAPIsPage",te.displayName="DefaultProvidedAPIPage",ae.displayName="ProvidedAPIPage",se.displayName="DefaultOperandDetailsPage",le.displayName="OperandDetailsPage",Q.displayName="OperandTableRow",ne.displayName="PodStatuses"},5409:function(e,t,a){"use strict";a.r(t),a.d(t,"getNumberOrPercent",(function(){return p})),a.d(t,"ConfigureUpdateStrategy",(function(){return b})),a.d(t,"ConfigureUpdateStrategyModal",(function(){return v})),a.d(t,"configureUpdateStrategyModal",(function(){return h}));var n=a(141),r=a(16),s=a(0),l=a(88),c=a(7),o=a(8),i=a(10),d=a(118),u=a(5),m=a(692);const p=e=>void 0===e?null:"string"==typeof e&&e.indexOf("%")>-1?e:n.a(e),b=e=>{const{showDescription:t=!0}=e,{t:a}=Object(c.useTranslation)();return s.createElement(s.Fragment,null,t&&s.createElement("div",{className:"co-m-form-row"},s.createElement("p",null,a("public~How should the pods be replaced when a new revision is created?"))),s.createElement("div",{className:"row co-m-form-row"},s.createElement("div",{className:"col-sm-12"},s.createElement(m.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"RollingUpdate",checked:"RollingUpdate"===e.strategyType,title:a("public~RollingUpdate"),subTitle:a("public~(default)"),autoFocus:"RollingUpdate"===e.strategyType},s.createElement("div",{className:"co-m-radio-desc"},s.createElement("p",{className:"text-muted modal-paragraph"},a("public~Execute a smooth roll out of the new revision, based on the settings below")),s.createElement("div",{className:"row co-m-form-row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{htmlFor:"input-max-unavailable",className:"control-label co-break-word"},a("public~Max unavailable"))),s.createElement("div",{className:"co-m-form-col col-sm-9"},s.createElement("div",{className:"form-inline"},s.createElement("div",{className:"pf-v5-c-input-group"},s.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-unavailable",value:e.maxUnavailable,onChange:t=>e.onChangeMaxUnavailable(t.target.value),"aria-describedby":"input-max-unavailable-help"}),e.replicas&&s.createElement("span",{className:"pf-v5-c-input-group__text"},s.createElement(l.a,{content:a("public~Current desired pod count")},s.createElement("span",null,a("public~of pod",{count:e.replicas})))))),s.createElement("p",{className:"help-block text-muted",id:"input-max-unavailable-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be unavailable during the update(optional)")))),s.createElement("div",{className:"row co-m-form-row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{htmlFor:"input-max-surge",className:"control-label co-break-word"},a("public~Max surge"))),s.createElement("div",{className:"co-m-form-col col-sm-9"},s.createElement("div",{className:"form-inline"},s.createElement("div",{className:"pf-v5-c-input-group"},s.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-surge",value:e.maxSurge,onChange:t=>e.onChangeMaxSurge(t.target.value),"aria-describedby":"input-max-surge-help"}),s.createElement("span",{className:"pf-v5-c-input-group__text"},s.createElement(l.a,{content:a("public~Current desired pod count")},s.createElement("span",null,a("public~greater than pod",{count:e.replicas})))))),s.createElement("p",{className:"help-block text-muted",id:"input-max-surge-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be scheduled above the original number of pods(optional)"))))))),s.createElement("div",{className:"col-sm-12"},s.createElement(m.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"Recreate",checked:"Recreate"===e.strategyType,title:a("public~Recreate"),desc:a("public~Shut down all existing pods before creating new ones"),autoFocus:"Recreate"===e.strategyType}))))},v=Object(u.Oc)(e=>{const[t,a]=s.useState(r.a(e.deployment.spec,"strategy.type")),[n,l]=s.useState(r.a(e.deployment.spec,"strategy.rollingUpdate.maxUnavailable","25%")),[u,m]=s.useState(r.a(e.deployment.spec,"strategy.rollingUpdate.maxSurge","25%")),{t:v}=Object(c.useTranslation)();return s.createElement("form",{onSubmit:a=>{a.preventDefault();const r={path:"/spec/strategy/rollingUpdate",op:"remove"};"RollingUpdate"===t&&(r.value={maxUnavailable:p(n||"25%"),maxSurge:p(u||"25%")},r.op="add");const s=Object(o.pb)(i.DeploymentModel,e.deployment,[r,{path:"/spec/strategy/type",value:t,op:"replace"}]);e.handlePromise(s,e.close)},name:"form",className:"modal-content"},s.createElement(d.d,null,v("public~Edit update strategy")),s.createElement(d.a,null,s.createElement(b,{strategyType:t,maxUnavailable:n,maxSurge:u,onChangeStrategyType:a,onChangeMaxUnavailable:l,onChangeMaxSurge:m,replicas:e.deployment.spec.replicas})),s.createElement(d.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:v("public~Save"),cancel:e.cancel}))}),h=Object(d.f)(v);b.displayName="ConfigureUpdateStrategy"},5759:function(e,t,a){"use strict";var n,r,s,l;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l})),function(e){e.spec="spec",e.status="status"}(n||(n={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.endpointList="urn:alm:descriptor:com.tectonic.ui:endpointList",e.label="urn:alm:descriptor:com.tectonic.ui:label",e.resourceRequirements="urn:alm:descriptor:com.tectonic.ui:resourceRequirements",e.selector="urn:alm:descriptor:com.tectonic.ui:selector:",e.namespaceSelector="urn:alm:descriptor:com.tectonic.ui:namespaceSelector",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.booleanSwitch="urn:alm:descriptor:com.tectonic.ui:booleanSwitch",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.checkbox="urn:alm:descriptor:com.tectonic.ui:checkbox",e.imagePullPolicy="urn:alm:descriptor:com.tectonic.ui:imagePullPolicy",e.updateStrategy="urn:alm:descriptor:com.tectonic.ui:updateStrategy",e.text="urn:alm:descriptor:com.tectonic.ui:text",e.number="urn:alm:descriptor:com.tectonic.ui:number",e.nodeAffinity="urn:alm:descriptor:com.tectonic.ui:nodeAffinity",e.podAffinity="urn:alm:descriptor:com.tectonic.ui:podAffinity",e.podAntiAffinity="urn:alm:descriptor:com.tectonic.ui:podAntiAffinity",e.fieldGroup="urn:alm:descriptor:com.tectonic.ui:fieldGroup:",e.arrayFieldGroup="urn:alm:descriptor:com.tectonic.ui:arrayFieldGroup:",e.select="urn:alm:descriptor:com.tectonic.ui:select:",e.advanced="urn:alm:descriptor:com.tectonic.ui:advanced",e.fieldDependency="urn:alm:descriptor:com.tectonic.ui:fieldDependency:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(r||(r={})),function(e){e.podStatuses="urn:alm:descriptor:com.tectonic.ui:podStatuses",e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.w3Link="urn:alm:descriptor:org.w3:link",e.conditions="urn:alm:descriptor:io.kubernetes.conditions",e.text="urn:alm:descriptor:text",e.prometheusEndpoint="urn:alm:descriptor:prometheusEndpoint",e.k8sPhase="urn:alm:descriptor:io.kubernetes.phase",e.k8sPhaseReason="urn:alm:descriptor:io.kubernetes.phase:reason",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(s||(s={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden",e.password="urn:alm:descriptor:com.tectonic.ui:password"}(l||(l={}))},5796:function(e,t,a){"use strict";a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return j}));var n=a(5764),r=a(1031),s=a(663),l=a(384),c=a(16),o=a(373),i=a(70),d=a(113),u=a(15),m=a(6015),p=a(5759);const b=(e,t,a,n)=>{const o=Object(u.Gd)(a,`${e}.${t.path}`),i=[e,...r.a(t.path)],d=t.displayName||(null==o?void 0:o.title)||s.a(l.a(i));return{description:(null==t?void 0:t.description)||(null==o?void 0:o.description)||"",displayName:d,fullPath:i,propertySchema:o,value:c.a(n,i,t.value)}},v=e=>e.reduce((e,t)=>{var a,n,r,s,l,c,o,i;if(m.k.test(t.path)||(null===(a=null==t?void 0:t["x-descriptors"])||void 0===a?void 0:a.includes(p.a.hidden)))return e;if(m.g.test(t.path))return(()=>{var a,n,r,s,l,c,o,i,d,u,p,b,v,h,f;const[,g,E]=null!==(a=t.path.match(m.g))&&void 0!==a?a:[],[,j,y]=null!==(n=null==g?void 0:g.match(m.h))&&void 0!==n?n:[];return y?Object.assign(Object.assign({},e),{[j]:Object.assign(Object.assign({},null!==(r=null==e?void 0:e[j])&&void 0!==r?r:{}),{nested:Object.assign(Object.assign({},null!==(l=null===(s=null==e?void 0:e[j])||void 0===s?void 0:s.nested)&&void 0!==l?l:{}),{[y]:Object.assign(Object.assign(Object.assign({},null!==(i=null===(o=null===(c=null==e?void 0:e[j])||void 0===c?void 0:c.nested)||void 0===o?void 0:o[y])&&void 0!==i?i:{}),{arrayGroupPath:g,isArrayGroup:!0}),E?{nested:Object.assign(Object.assign({},null!==(b=null===(p=null===(u=null===(d=null==e?void 0:e[j])||void 0===d?void 0:d.nested)||void 0===u?void 0:u[y])||void 0===p?void 0:p.nested)&&void 0!==b?b:{}),{[E]:t})}:{elementDescriptor:t})})})}):Object.assign(Object.assign({},e),{[j]:Object.assign(Object.assign(Object.assign({},null!==(v=null==e?void 0:e[j])&&void 0!==v?v:{}),{arrayGroupPath:g,isArrayGroup:!0}),E?{nested:Object.assign(Object.assign({},null!==(f=null===(h=null==e?void 0:e[j])||void 0===h?void 0:h.nested)&&void 0!==f?f:{}),{[E]:t})}:{elementDescriptor:t})})})();const[,d,u]=null!==(n=t.path.match(m.h))&&void 0!==n?n:[];return d?Object.assign(Object.assign({},e),{[d]:Object.assign(Object.assign({},null!==(r=null==e?void 0:e[d])&&void 0!==r?r:{}),u?{nested:Object.assign(Object.assign({},null!==(l=null===(s=null==e?void 0:e[d])||void 0===s?void 0:s.nested)&&void 0!==l?l:{}),{[u]:Object.assign(Object.assign({},null!==(i=null===(o=null===(c=null==e?void 0:e[d])||void 0===c?void 0:c.nested)||void 0===o?void 0:o[u])&&void 0!==i?i:{}),{descriptor:t})})}:{descriptor:t})}):e},{}),h=e=>r.a(e.path).join("/");function f(e,t){var a;const n=(e=>{switch(e){case"object":return[...m.c,...m.e];case"array":return[...m.c,...m.a];default:return[...m.c,...m.f]}})(t);return(null!==(a=null==e?void 0:e["x-descriptors"])&&void 0!==a?a:[]).filter(a=>{const r="any"===t||n.some(e=>a.startsWith(e));return m.d.some(e=>a.startsWith(e))&&console.warn(`[Deprecated x-descriptor] "${a}" is deprecated and support will be removed in a future release.`,e),!!r||(console.warn(`[Invalid x-descriptor] "${a}" is incompatible with ${t} values and will have no effect`,e),!1)}).sort((e,t)=>{const a=m.b.findIndex(t=>e.startsWith(t)),n=m.b.findIndex(e=>t.startsWith(e));return a<0||n<0?n-a:a-n})}function g(e,t){return f(e,(e=>o.a(e)?"any":i.a(e)?"array":d.a(e)?"object":"primitive")(t))}function E(e,t){return f(e,Object(n.getSchemaType)(t))}const j=e=>"status"===e.path||"Status"===e.displayName},5942:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return d}));var n=a(0),r=a(18),s=a(14),l=a(5),c=a(8),o=a(125);const i=()=>window.location.pathname.split("/").find((e,t,a)=>a[t-1]===Object(c.Hb)(o.ClusterServiceVersionModel)||a[t-1]===o.ClusterServiceVersionModel.plural),d=e=>{const{namespace:t,name:a}=e.obj.metadata,d=e.csvName||i(),u=Object(c.Db)(e.obj),m=t?`/k8s/ns/${t}/${o.ClusterServiceVersionModel.plural}/${d}/${u}/${a}`:`/k8s/cluster/${u}/${a}`,p=r("co-resource-item",{"co-resource-item--inline":e.inline});return n.createElement("span",{className:p},n.createElement(l.fb,{kind:Object(c.Db)(e.obj)}),n.createElement(s.Link,{to:m,className:"co-resource-item__resource-name",onClick:e.onClick,"data-test-operand-link":a,"data-test":a},a))};d.displayName="OperandLink"},6015:function(e,t,a){"use strict";a.d(t,"j",(function(){return o})),a.d(t,"l",(function(){return i})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"k",(function(){return m})),a.d(t,"h",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"e",(function(){return h})),a.d(t,"a",(function(){return f})),a.d(t,"f",(function(){return g})),a.d(t,"b",(function(){return E}));var n=a(2323),r=a(5759);const s=n.a(r.c.k8sResourcePrefix),l=n.a(r.c.fieldDependency),c=n.a(r.c.select),o=new RegExp(`^${s}(?:core[:~]v1[:~])?([^?]*)[?]?(.*)$`),i=new RegExp(c+"(.*)$"),d=new RegExp(`^${l}([^:]*):(.*)$`),u=/^(.*)\[\d+\]\.?(.*)$/,m=/^.*\[\d+\]\.?.*\[\d+\]\.?.*$/,p=/^([^.]*)\.?(.*)$/,b=[r.c.arrayFieldGroup,r.c.fieldGroup,r.c.namespaceSelector,r.c.label],v=[r.c.advanced,r.c.fieldDependency,r.c.hidden,r.c.arrayFieldGroup,r.c.fieldGroup],h=[r.d.podStatuses,r.c.updateStrategy,r.c.nodeAffinity,r.c.podAffinity,r.c.podAntiAffinity,r.c.resourceRequirements,r.c.selector,r.c.label,r.c.namespaceSelector],f=[r.c.endpointList,r.d.conditions],g=[r.d.k8sPhase,r.d.k8sPhaseReason,r.c.k8sResourcePrefix,r.c.imagePullPolicy,r.c.podCount,r.c.select,r.d.w3Link,r.c.booleanSwitch,r.c.checkbox,r.c.password,r.c.text,r.d.text,r.c.number,r.c.label],E=[r.c.hidden,r.c.endpointList,r.d.conditions,r.c.resourceRequirements,r.c.updateStrategy,r.d.podStatuses,r.c.selector,r.c.k8sResourcePrefix,r.c.podCount,r.c.password,r.d.k8sPhaseReason,r.c.booleanSwitch,r.c.checkbox,r.d.w3Link,r.c.select,r.c.imagePullPolicy,r.d.k8sPhase,r.c.text,r.d.text,r.c.number,r.c.podAntiAffinity,r.c.podAffinity,r.c.nodeAffinity,r.c.advanced,r.c.fieldDependency,...b]},6055:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return f}));var n=a(0),r=a(19),s=a(615),l=a(16),c=a(667),o=a(640),i=a(4397),d=a(7),u=a(31),m=a(118),p=a(5),b=a(8);const v=e=>{const{t:t}=Object(d.useTranslation)(),{cpu:a,memory:r,storage:s,onChangeCPU:l,onChangeMemory:c,onChangeStorage:o,path:i=""}=e;return n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".cpu"},t("olm~CPU cores")),n.createElement("input",{value:a,onChange:e=>l(e.target.value),id:i+".cpu",name:"cpu",type:"text",className:"pf-v5-c-form-control",placeholder:"500m"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".memory"},t("olm~Memory")),n.createElement("input",{value:r,onChange:e=>c(e.target.value),id:i+".memory",name:"memory",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".ephemeral-storage"},t("olm~Storage")),n.createElement("input",{value:s,onChange:e=>o(e.target.value),id:i+".ephemeral-storage",name:"ephemeral-storage",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})))},h=Object(p.Oc)(e=>{const{t:t}=Object(d.useTranslation)(),{obj:a,path:r,type:s,model:i,close:u,handlePromise:p}=e,[h,f]=n.useState(l.a(a.spec,`${r}.${s}.cpu`,"")),[g,E]=n.useState(l.a(a.spec,`${r}.${s}.memory`,"")),[j,y]=n.useState(l.a(a.spec,`${r}.${s}.ephemeral-storage`,""));return n.createElement("form",{onSubmit:e=>(e=>{e.preventDefault();const t=c.a(o.a(a),`spec.${r}.${s}`,Object.assign(Object.assign(Object.assign({},h&&{cpu:h}),g&&{memory:g}),j&&{"ephemeral-storage":j}));return p(Object(b.rb)(i,t),u)})(e),className:"modal-content"},n.createElement(m.d,null,e.title),n.createElement(m.a,null,n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-sm-12"},e.description)),n.createElement(v,{cpu:h,memory:g,storage:j,onChangeCPU:f,onChangeMemory:E,onChangeStorage:y,path:r})),n.createElement(m.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:t("public~Save"),cancel:e.cancel}))}),f=Object(u.connect)(({k8s:e},{obj:t})=>({model:e.getIn(["RESOURCES","models",Object(b.Db)(t)])}))(e=>{const{obj:t,type:a,path:c,model:o}=e,{t:u}=Object(d.useTranslation)(),p=u("public~None"),{cpu:b,memory:v,"ephemeral-storage":f}=l.a(t.spec,`${c}.${a}`,{});return n.createElement(r.a,{type:"button",isInline:!0,"data-test-id":"configure-modal-btn",onClick:()=>{const e=Object(m.f)(h),n=u("olm~Define the resource {{type}} for this {{kind}} instance.",{type:a,kind:t.kind});return e({title:u("olm~{{kind}} Resource {{type}}",{kind:t.kind,type:i.a(a)}),description:n,obj:t,model:o,type:a,path:c})},variant:"link"},u("olm~CPU: {{cpu}}, Memory: {{memory}}, Storage: {{storage}}",{cpu:b||p,memory:v||p,storage:f||p}),n.createElement(s.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))});v.displayName="ResourceRequirements",f.displayName="ResourceRequirementsModalLink",h.displayName="ResourceRequirementsModal"},6084:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d}));var n=a(8),r=a(59),s=a(474),l=a(125),c=a(146);const o=e=>Boolean(e)&&Object(n.Db)(e)===Object(n.Hb)(l.ClusterServiceVersionModel),i=e=>{var t,a,n;return o(e)&&("Copied"===(null===(t=e.status)||void 0===t?void 0:t.reason)||Boolean(null===(n=null===(a=e.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n["olm.copiedFrom"]))},d=e=>{var t,a;return o(e)&&((null===(t=e.metadata.annotations)||void 0===t?void 0:t[r.d.OperatorType])!==s.g||(null===(a=e.status)||void 0===a?void 0:a.phase)===c.b.CSVPhaseFailed)}},6085:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a(83),s=a(474),l=a(125),c=a(6084);const o={group:l.ClusterServiceVersionModel.apiGroup,version:l.ClusterServiceVersionModel.apiVersion,kind:l.ClusterServiceVersionModel.kind},{copiedCSVsDisabled:i}=window.SERVER_FLAGS,d=(e,t)=>{const[a,l,d]=Object(r.useK8sWatchResource)({groupVersionKind:o,name:e,namespace:t,optional:i}),[u,m,p]=Object(r.useK8sWatchResource)(i?{groupVersionKind:o,name:e,namespace:s.e,optional:i}:null);return n.useMemo(()=>i&&Boolean(d)?[Object(c.a)(u)?u:null,m,p]:[a,l,d],[u,p,m,a,d,l])}},6243:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return j}));var n=a(0),r=a(19),s=a(1434),l=a(1433),c=a(22),o=a(745),i=a(7110),d=a(148),u=a(447),m=a(7),p=a(1428),b=a(5),v=a(15),h=a(6015);const f=({path:e})=>n.createElement("span",{className:"text-muted olm-descriptors__invalid-pod-descriptor"},n.createElement(v.tc,null),"  ",n.createElement(m.Trans,{ns:"olm"},"The field ",n.createElement("code",{className:"co-code"},{path:e})," is invalid.")),g=({description:e,label:t,obj:a,fullPath:r,value:s})=>{const{t:l}=Object(m.useTranslation)(),u=n.useMemo(()=>!c.a(s)||o.a(s)||i.a(s)?d.a(s):n.createElement("span",{className:"text-muted"},l("public~None")),[l,s]);return n.createElement(b.r,{description:e,label:t,obj:a,path:r},u)},E=({capability:e,description:t,descriptor:a,fullPath:r,label:s,obj:l,value:c})=>{const{t:o}=Object(m.useTranslation)(),i=n.useMemo(()=>{var t;if(!c)return n.createElement("span",{className:"text-muted"},o("public~None"));const[,r]=null!==(t=e.match(h.j))&&void 0!==t?t:[],s=null==r?void 0:r.replace(/:/g,"~");return u.a(c)?n.createElement(b.hb,{kind:s,name:c,namespace:l.metadata.namespace}):(console.warn(`[Invalid descriptor] descriptor is incompatible with property ${a.path} and will have no effect`,a),null)},[c,e,l.metadata.namespace,o,a]);return n.createElement(b.r,{description:t,label:s,obj:l,path:r},i)},j=({description:e,label:t,obj:a,fullPath:c,value:o})=>{const{t:i}=Object(m.useTranslation)(),[d,u]=n.useState(!1);return n.createElement(b.r,{description:e,label:t,obj:a,path:c},n.createElement("div",{className:"co-toggle-reveal-value"},n.createElement(r.a,{type:"button",variant:"link",isInline:!0,className:"pf-m-link--align-right co-toggle-reveal-value__btn",onClick:()=>u(!d)},d?n.createElement(n.Fragment,null,n.createElement(l.a,{className:"co-icon-space-r"}),i("olm~Hide values")):n.createElement(n.Fragment,null,n.createElement(s.a,{className:"co-icon-space-r"}),i("olm~Reveal values"))),n.createElement(p.e,{value:o,encoded:!1,reveal:d})))};f.displayName="Invalid",g.displayName="DefaultCapability",E.displayName="K8sResourceLinkCapability",j.displayName="SecretCapability"},6244:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a(31),s=a(53);const l=()=>{const e=Object(r.useDispatch)();return[Object(r.useSelector)(e=>e.UI.get("showOperandsInAllNamespaces")),n.useCallback(t=>e(s.v(t)),[e])]}},6274:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(13),s=a(986),l=a(69);const c=()=>{const e=Object(l.z)(l.v),t=Object(l.z)(r.Nb);return n.useMemo(()=>Object(s.b)(e,t),[e,t])}},6354:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return O}));var n=a(0),r=a(54),s=a(460),l=a(50),c=a(7),o=a(14),i=a(40),d=a(5),u=a(10),m=a(8),p=a(15),b=a(5942),v=a(1405);const h=[{kind:u.DeploymentModel.kind,version:u.DeploymentModel.apiVersion},{kind:u.ServiceModel.kind,version:u.ServiceModel.apiVersion},{kind:u.ReplicaSetModel.kind,version:u.ReplicaSetModel.apiVersion},{kind:u.PodModel.kind,version:u.PodModel.apiVersion},{kind:u.SecretModel.kind,version:u.SecretModel.apiVersion},{kind:u.ConfigMapModel.kind,version:u.ConfigMapModel.apiVersion},{kind:u.JobModel.kind,version:u.JobModel.apiVersion}],f=["","pf-v5-u-w-16-on-md","pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-lg","pf-m-hidden pf-m-visible-on-sm"],g=({obj:e,customData:{linkFor:t,providedAPI:a}})=>{var r,s;return n.createElement(n.Fragment,null,n.createElement(i.k,{className:f[0]},t(e,a)),n.createElement(i.k,{className:f[1]},e.kind),n.createElement(i.k,{className:f[2]},n.createElement(p.cc,{status:null!==(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.phase)&&void 0!==s?s:"Created"})),n.createElement(i.k,{className:f[3]},n.createElement(d.xb,{timestamp:e.metadata.creationTimestamp})))},E=e=>{const{t:t}=Object(c.useTranslation)();return n.createElement(i.j,Object.assign({},e,{"aria-label":t("olm~Operand Resources"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:f[0]}},{title:t("olm~Kind"),sortField:"kind",transforms:[r.a],props:{className:f[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[r.a],props:{className:f[2]}},{title:t("olm~Created"),sortField:"metadata.creationTimestamp",transforms:[r.a],props:{className:f[3]}}],Row:g,EmptyMsg:()=>n.createElement(d.h,{title:t("olm~No resources found")},t("olm~There are no Kubernetes resources used by this operand.")),virtualize:!0}))},j=e=>t=>s.a(t,(e,t)=>l.a(e.data,e=>Object.assign(Object.assign({},e),{kind:t}))).reduce((t,a)=>(a.metadata.ownerReferences||[]).some(a=>a.uid===e.metadata.uid||t.some(({metadata:e})=>e.uid===a.uid))?t.concat([a]):t,[]),y=(e,t,a)=>{var r;return e.metadata.namespace&&(null!==(r=null==t?void 0:t.resources)&&void 0!==r?r:[]).some(({kind:t,name:a})=>a&&t===e.kind)?n.createElement(b.a,{obj:e,csvName:a}):n.createElement(d.hb,{kind:e.kind,name:e.metadata.name,namespace:e.metadata.namespace})},O=e=>{var t;const{t:a}=Object(c.useTranslation)(),{plural:r}=Object(o.useParams)(),s=Object(v.i)(e.customData,r),l=(null!==(t=null==s?void 0:s.resources)&&void 0!==t?t:h).map(({name:e,kind:t,version:a})=>{const n=e?e.substring(e.indexOf(".")+1):"",r=n?Object(m.Gb)(n)(a)(t):t,s=Object(m.vb)(r);return{kind:s&&!s.crd?t:r,namespaced:!s||s.namespaced,prop:t}}),d=n.useMemo(()=>({linkFor:y,providedAPI:s}),[s]);return n.createElement(i.i,{filterLabel:a("olm~Resources by name"),resources:l,rowFilters:[{type:"clusterserviceversion-resource-kind",filterGroupName:a("olm~Kind"),reducer:({kind:e})=>Object(m.tb)(e),items:l.map(({kind:e})=>({id:Object(m.tb)(e),title:Object(m.tb)(e)}))}],flatten:j(e.obj),namespace:e.obj.metadata.namespace,ListComponent:E,customData:d})};E.displayName="ResourceTable",O.displayName="Resources"},6610:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(6611);const s=e=>{const t=Object(r.a)();return n.useMemo(()=>t.get(e),[t,e])}},6611:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(13),s=a(986),l=a(69);const c=()=>{const e=Object(l.z)(l.u),t=Object(l.z)(r.Mb);return n.useMemo(()=>Object(s.a)(e,t),[e,t])}},6612:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(6274);const s=e=>{const t=Object(r.a)();return Object(n.useMemo)(()=>t.get(e),[t,e])}},6613:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return k}));var n=a(0),r=a(663),s=a(384),l=a(16),c=a(1031),o=a(7184),i=a(50),d=a(1451),u=a(7134),m=a(22),p=a(7),b=a(5),v=a(15),h=a(198),f=a(6614),g=a(6619),E=a(5759),j=a(5796);const y=Object(h.e)(({className:e,descriptor:t,model:a,obj:r,onError:s,schema:l,type:c})=>{const{displayName:o,description:i,value:d,fullPath:u}=Object(j.f)(c,t,l,r),m={className:e,description:i,descriptor:t,fullPath:u,label:o,model:a,obj:r,onError:s,value:d};switch(c){case E.b.spec:return n.createElement(f.a,Object.assign({},m));case E.b.status:return n.createElement(g.a,Object.assign({},m));default:return null}}),O=({className:e,group:t,groupPath:a,model:d,obj:u,onError:m,schema:h,type:f})=>{const{t:g}=Object(p.useTranslation)(),{arrayGroupPath:E,elementDescriptor:j,descriptor:O,nested:N}=t,k=Object(v.Gd)(h,`${f}.${E}`),S=(null==O?void 0:O.description)||(null==k?void 0:k.description),x=(null==O?void 0:O.displayName)||(null==k?void 0:k.title)||r.a(s.a(E.split("."))),P=null!=N?N:[j],w=l.a(u,[f,...c.a(E)],[]);return n.createElement("div",{className:e},n.createElement(b.r,{description:S,label:x,obj:u,path:`${f}.${a}`},n.createElement("div",{className:"details-item__array"},(null==w?void 0:w.length)?o.a(w.length,e=>n.createElement("div",{className:"details-item__value--group"},n.createElement("dl",null,i.a(P,t=>{const a=t.path.replace(/\d+/,String(e));return n.createElement(y,{descriptor:Object.assign(Object.assign({},t),{path:a}),key:`${f}.${a}`,model:d,obj:u,onError:m,schema:Object(v.Gd)(h,a),type:f})})))):n.createElement("span",{className:"text-muted"},g("public~None")))))},N=({group:e,groupPath:t,model:a,obj:s,onError:l,schema:c,type:o})=>{const{descriptor:p,nested:h}=e,f=Object(v.Gd)(c,`${o}.${t}`),g=(null==p?void 0:p.description)||(null==f?void 0:f.description),E=(null==p?void 0:p.displayName)||(null==f?void 0:f.title)||r.a(t),j=d.a(h,"isArrayGroup"),N=u.a(h,"isArrayGroup"),k=m.a(j)||m.a(N)?"col-sm-6":"col-sm-12";return n.createElement("div",{className:k},n.createElement(b.r,{description:g,label:E,obj:s,path:`${o}.${t}`},n.createElement("dl",{className:"details-item__value--group olm-descriptors__group"},!m.a(N)&&n.createElement("div",null,i.a(N,({descriptor:e})=>n.createElement(y,{descriptor:e,key:`${o}.${e.path}`,model:a,obj:s,onError:l,schema:c,type:o}))),!m.a(j)&&n.createElement("div",null,i.a(j,e=>n.createElement(O,{group:e,groupPath:e.arrayGroupPath,key:`${o}.${t}.${e.arrayGroupPath}`,model:a,obj:s,onError:l,schema:c,type:o}))))))},k=({descriptors:e,model:t,obj:a,onError:r,schema:s,type:l,itemClassName:c})=>{const o=n.useMemo(()=>Object(j.d)(e),[e]);return n.createElement("dl",{className:"olm-descriptors olm-descriptors--"+l},i.a(o,(e,o)=>{const i={group:e,groupPath:o},d={model:t,obj:a,onError:r,schema:s,type:l},{isArrayGroup:u,descriptor:p,nested:b}=e;return u?n.createElement(O,Object.assign({},i,d,{className:c})):m.a(b)?n.createElement(y,Object.assign({key:`${l}.${o}`,className:c,descriptor:p},d)):n.createElement(N,Object.assign({key:`${l}.${o}`},i,d))}))};y.displayName="DescriptorDetailsItem",N.displayName="DescriptorDetailsItemGroup",k.displayName="DescriptorDetailsItemList"},6614:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(0),r=a(2216),s=a(19),l=a(472),c=a(373),o=a(113),i=a(225),d=a(640),u=a(667),m=a(7),p=a(5),b=a(8),v=a(15),h=a(6243),f=a(5759),g=a(5796),E=a(6615),j=a(6616),y=a(6618),O=a(6055),N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const k=({description:e,descriptor:t,label:a,model:r,obj:s,fullPath:l,value:o})=>n.createElement(p.r,{description:e,label:a,obj:s,path:l,onEdit:()=>Object(E.a)({kindObj:r,resource:s,specDescriptor:t,specValue:o})},c.a(o)?"-":o+" pods"),S=({description:e,label:t,obj:a,fullPath:r,value:s})=>n.createElement(p.r,{description:e,label:t,obj:a,path:r},n.createElement(y.a,{endpoints:s})),x=({description:e,label:t,model:a,obj:r,fullPath:s,value:l})=>n.createElement(p.r,{description:e,label:t,obj:r,path:s},o.a(l)?n.createElement(p.L,{kind:a.kind,labels:l}):n.createElement("span",null,l||"-")),P=({description:e,label:t,obj:a,fullPath:r,value:s})=>{var l;const{t:c}=Object(m.useTranslation)();return n.createElement(p.r,{description:e,label:t,obj:a,path:r},(null===(l=null==s?void 0:s.matchNames)||void 0===l?void 0:l[0])?n.createElement(p.hb,{kind:"Namespace",name:s.matchNames[0],title:s.matchNames[0]}):n.createElement("span",{className:"text-muted"},c("public~None")))},w=({description:e,descriptor:t,label:a,obj:r,fullPath:s})=>{const{t:l}=Object(m.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:r,path:s},n.createElement("dl",{className:"co-spec-descriptor--resource-requirements"},n.createElement("dt",null,l("olm~Resource limits")),n.createElement("dd",null,n.createElement(O.b,{type:"limits",obj:r,path:t.path})),n.createElement("dt",null,l("olm~Resource requests")),n.createElement("dd",null,n.createElement(O.b,{type:"requests",obj:r,path:t.path}))))},C=({capability:e,description:t,label:a,obj:r,fullPath:s,value:l})=>{const[,c]=e.split(f.c.selector);return n.createElement(p.r,{description:t,label:a,obj:r,path:s},n.createElement(p.pb,{selector:l,kind:null==c?void 0:c.replace(/:/g,"~")}))},M=({model:e,obj:t,description:a,descriptor:l,label:c,onError:o,fullPath:h,value:f})=>{const{t:E}=Object(m.useTranslation)(),[j,y]=n.useState(Boolean(f)),[O,N]=n.useState(!1),[k,S]=n.useState(null),x=e=>{N(!1),y(Boolean(f)),S(e.message),o(e)};return n.createElement(p.r,{description:a,label:c,obj:t,path:h},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(r.a,{id:l.path,isChecked:j,onChange:(e,t)=>{y(t),N(!1),S(null)},label:E("public~True"),labelOff:E("public~False")}),"  ",j!==Boolean(f)&&O&&n.createElement(p.T,null),j!==Boolean(f)&&!O&&n.createElement(n.Fragment,null,"  ",n.createElement(s.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{if(N(!0),S(null),i.a(t,"spec."+l.path)){const a=e=>[{op:"add",path:"/spec/"+Object(g.a)(l),value:e}];return Object(b.pb)(e,t,a(j)).catch(e=>x(e))}const a=d.a(t);return u.a(a,"spec."+l.path,j),Object(b.rb)(e,a).catch(e=>x(e))}},n.createElement(v.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),E("olm~Confirm change")))),k&&n.createElement("div",{className:"cos-error-title co-break-word"},k||E("olm~An error occurred")))},R=({description:e,descriptor:t,label:a,model:r,obj:c,fullPath:o,value:i})=>{const{t:d}=Object(m.useTranslation)(),[u,h]=n.useState(Boolean(i)),[f,E]=n.useState(!1);return n.createElement(p.r,{description:e,label:a,obj:c,path:o},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(l.a,{id:t.path,style:{marginLeft:"10px"},isChecked:u,"data-checked-state":u,label:a,onChange:(e,t)=>{h(t),E(!1)}}),"  ",u!==Boolean(i)&&f&&n.createElement(p.T,null),u!==Boolean(i)&&!f&&n.createElement(n.Fragment,null,"  ",n.createElement(s.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{return E(!0),Object(b.pb)(r,c,(e=u,[{op:"add",path:"/spec/"+Object(g.a)(t),value:e}]));var e}},n.createElement(v.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),d("olm~Confirm change")))))},D=({description:e,descriptor:t,label:a,model:r,obj:s,fullPath:l,value:c})=>{var o;const{t:i}=Object(m.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:s,onEdit:()=>Object(j.a)({kindObj:r,resource:s,specDescriptor:t,specValue:c}),path:l},null!==(o=null==c?void 0:c.type)&&void 0!==o?o:i("public~None"))},T=e=>{var t,{className:a}=e,r=N(e,["className"]);const[s]=null!==(t=Object(g.c)(r.descriptor,r.value))&&void 0!==t?t:[],l=n.useMemo(()=>{if(null==s?void 0:s.startsWith(f.c.k8sResourcePrefix))return h.c;if(null==s?void 0:s.startsWith(f.c.selector))return C;switch(s){case f.c.podCount:return k;case f.c.endpointList:return S;case f.c.label:return x;case f.c.namespaceSelector:return P;case f.c.resourceRequirements:return w;case f.c.booleanSwitch:return M;case f.c.password:return h.d;case f.c.updateStrategy:return D;case f.c.checkbox:return R;case f.c.hidden:return null;default:return o.a(r.value)?(console.warn(`[Invalid SpecDescriptor] Cannot render 'spec.${r.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):h.a}},[r.descriptor,r.value,s]);return l?n.createElement("div",{className:a},n.createElement(l,Object.assign({},r,{capability:s}))):null};k.displayName="PodCount",S.displayName="Endpoints",x.displayName="Label",P.displayName="NamespaceSelector",w.displayName="ResourceRequirements",C.displayName="BasicSelector",M.displayName="BooleanSwitch",R.displayName="CheckboxUIComponent",D.displayName="UpdateStrategy",T.displayName="SpecDescriptorDetailsItem"},6615:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(131),r=a(5796);const s=({kindObj:e,resource:t,specDescriptor:a,specValue:s})=>Object(n.h)({resourceKind:e,resource:t,defaultValue:s||0,titleKey:"olm~Modify {{item}}",titleVariables:{item:a.displayName},message:a.description,path:"/spec/"+Object(r.a)(a),buttonTextKey:"olm~Update {{item}}",buttonTextVariables:{item:a.displayName}})},6616:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(359),r=a(6617),s=a(5796);const l=({kindObj:e,resource:t,specDescriptor:a,specValue:l})=>Object(r.a)({resourceKind:e,resource:t,defaultValue:l,title:n.a.t("olm~Edit {{item}}",{item:a.displayName}),path:"/spec/"+Object(s.a)(a)})},6617:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(16),s=a(7),l=a(118),c=a(5409),o=a(8),i=a(2234);const d=({cancel:e,close:t,path:a,defaultValue:d,resource:u,resourceKind:m,title:p})=>{const{t:b}=Object(s.useTranslation)(),v=a.substring(1).replace("/","."),[h,f,g]=Object(i.a)(),[E,j]=n.useState(r.a(u,v+".type")||d),[y,O]=n.useState(r.a(u,v+".rollingUpdate.maxUnavailable","25%")),[N,k]=n.useState(r.a(u,v+".rollingUpdate.maxSurge","25%")),S=n.useCallback(e=>{e.preventDefault();const n={path:a+"/rollingUpdate",op:"remove"};"RollingUpdate"===E&&(n.value={maxUnavailable:Object(c.getNumberOrPercent)(y||"25%"),maxSurge:Object(c.getNumberOrPercent)(N||"25%")},n.op="add"),h(Object(o.pb)(m,u,[n,{path:a+"/type",value:E,op:"replace"}])).then(t).catch(()=>{})},[t,h,N,y,a,u,m,E]);return n.createElement("form",{onSubmit:S,name:"form",className:"modal-content"},n.createElement(l.d,null,p),n.createElement(l.a,null,n.createElement(c.ConfigureUpdateStrategy,{strategyType:E,maxUnavailable:y,maxSurge:N,onChangeStrategyType:j,onChangeMaxUnavailable:O,onChangeMaxSurge:k})),n.createElement(l.c,{errorMessage:g,inProgress:f,submitText:b("public~Save"),cancel:e}))},u=Object(l.f)(d);d.displayName="UpdateStrategyModal"},6618:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(7),s=a(5);const l=({endpoint:e})=>{const t=["scheme","honorLabels","targetPort"].reduce((t,a)=>(null==e?void 0:e[a])?n.createElement("span",null,n.createElement("span",{className:"text-muted"},a,":"),e[a]):t,n.createElement("span",{className:"text-muted"},"--"));return n.createElement("div",{className:"co-ip-row"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement("p",null,n.createElement(s.fb,{kind:"Service"}),e.port||"--")),n.createElement("div",{className:"col-xs-2"},n.createElement("p",null,e.interval||"--")),n.createElement("div",{className:"col-xs-4"},t)))},c=e=>{const{t:t}=Object(r.useTranslation)();return n.createElement("div",{className:"service-ips"},n.createElement("div",{className:"row co-ip-header"},n.createElement("div",{className:"col-xs-6"},t("olm~Port")),n.createElement("div",{className:"col-xs-2"},t("olm~Interval")),n.createElement("div",{className:"col-xs-4"})),n.createElement("div",{className:"rows"},e.endpoints?e.endpoints.map(e=>n.createElement(l,{endpoint:e,key:e.port})):n.createElement("span",{className:"text-muted"},t("olm~No endpoints"))))}},6619:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),r=a(113),s=a(313),l=a(70),c=a(400),o=a(373),i=a(22),d=a(7),u=a(5),m=a(15),p=a(6243),b=a(5759),v=a(5796),h=a(6620),f=a(6621),g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const E=({description:e,descriptor:t,fullPath:a,label:o,obj:i,value:m})=>{const{t:b}=Object(d.useTranslation)(),v=n.useMemo(()=>!r.a(m)||s.a(m,e=>!l.a(e))?n.createElement(p.b,{path:t.path}):c.a(m,e=>l.a(e)&&0===e.length)?n.createElement("span",{className:"text-muted"},b("olm~No members")):n.createElement(f.a,{statuses:m,subTitle:t.path}),[t.path,b,m]);return n.createElement("div",{className:"co-operand-details__section--info"},n.createElement(u.r,{description:e,label:o,obj:i,path:a},v))},j=({description:e,fullPath:t,label:a,obj:r,value:s})=>{const{t:l}=Object(d.useTranslation)();return n.createElement(u.r,{description:e,label:a,obj:r,path:t},o.a(s)?n.createElement("span",{className:"text-muted"},l("public~None")):n.createElement("a",{href:s},s.replace(/https?:\/\//,"")))},y=({description:e,fullPath:t,label:a,obj:r,value:s})=>n.createElement(u.r,{description:e,label:a,obj:r,path:t},n.createElement(h.a,{status:s})),O=({description:e,fullPath:t,label:a,obj:r,value:s})=>{const{t:l}=Object(d.useTranslation)();return n.createElement(u.r,{description:e,label:a,obj:r,path:t},i.a(s)?n.createElement("span",{className:"text-muted"},l("public~None")):n.createElement("pre",{className:"co-pre",style:{width:"max-content"}},s))},N=({description:e,fullPath:t,label:a,obj:r,value:s})=>n.createElement(u.r,{description:e,label:a,obj:r,path:t},"Running"===s?n.createElement(m.dc,{title:s}):n.createElement(m.cc,{status:s})),k=e=>{var t,{className:a}=e,s=g(e,["className"]);const[l]=null!==(t=Object(v.c)(s.descriptor,s.value))&&void 0!==t?t:[],c=n.useMemo(()=>{if(null==l?void 0:l.startsWith(b.d.k8sResourcePrefix))return p.c;switch(l){case b.d.podStatuses:return E;case b.d.w3Link:return j;case b.d.k8sPhase:return y;case b.d.k8sPhaseReason:return O;case b.d.password:return p.d;case b.d.hidden:return null;default:return r.a(s.value)?(console.warn(`[Invalid StatusDescriptor] Cannot render a descriptor detail item for 'status.${s.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):Object(v.e)(s.descriptor)?N:p.a}},[l,s.value,s.descriptor]);return c?n.createElement("div",{className:a},n.createElement(c,Object.assign({},s,{capability:l}))):null};h.a.displayName="Phase",E.displayName="PodStatuses",j.displayName="Link",y.displayName="K8sPhase",O.displayName="K8sPhaseReason",N.displayName="MainStatus",k.displayName="StatusDescriptorDetailsItem"},6620:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(1210);const s=({status:e})=>n.createElement("span",{className:"Failed"===e?"co-error":""},"Failed"===e&&n.createElement(r.a,{"data-test-id":"ban-icon"})," ",e);s.displayName="Phase"},6621:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a(2232),s=a(5692),l=a(6431),c=a(5691),o=a(50),i=a(5),d=a(15);const u=[c.chart_color_blue_300.value,l.chart_color_blue_200.value,s.chart_color_blue_100.value],m=({statuses:e,subTitle:t})=>{const[a,s]=Object(i.Ic)(),l=o.a(e,(e,t)=>{const a=t,n=e.length;return{label:`${n} ${a}`,x:a,y:n}}),c=l.reduce((e,t)=>e+t.y,0),{podStatusInnerRadius:m,podStatusOuterRadius:p}=Object(d.vc)(130);return n.createElement("div",{ref:a,className:"graph-wrapper--gauge"},n.createElement(r.a,{colorScale:u,constrainToVisibleArea:!0,data:l,height:s,title:c.toString(),width:s,innerRadius:m,radius:p}),n.createElement("div",{className:"graph-donut-subtitle","data-test-id":"chart-donut-subtitle"},t))};m.displayName="PodStatusChart"},6622:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(70),s=a(972),l=a(5),c=a(5759),o=a(5796);const i=({descriptor:e,obj:t,schema:a})=>{const{displayName:i,value:d}=Object(o.f)(c.b.status,e,a,t);return((e,t)=>!!r.a(t)||(console.warn(`[Invalid x-descriptor] 'urn:alm:descriptor:io.kubernetes.conditions' is incompatible with ${e.path} and will have no effect`,e),!1))(e,d)?n.createElement("div",{className:"co-m-pane__body"},n.createElement(l.ob,{text:i}),n.createElement(s.b,{conditions:d})):null};i.displayName="DescriptorConditions"},6623:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(7),s=a(692),l=a(6244);const c=()=>{const{t:e}=Object(r.useTranslation)(),[t,a]=Object(l.a)();return n.createElement(s.a,{label:e("olm~Show operands in:"),currentValue:t?"true":"false",inline:!0,items:[{value:"true",title:e("olm~All namespaces")},{value:"false",title:e("olm~Current namespace only")}],onChange:({currentTarget:e})=>a("true"===e.value)})}}}]);
//# sourceMappingURL=clusterserviceversion~operand~operator-hub-subscribe-chunk-11f9f202d17146696b53.min.js.map