(window.webpackJsonp=window.webpackJsonp||[]).push([[225,42,119,181],{4384:function(e,t,a){"use strict";a.r(t),a.d(t,"InstallPlanTableRow",(function(){return M})),a.d(t,"InstallPlansList",(function(){return _})),a.d(t,"InstallPlansPage",(function(){return T})),a.d(t,"NeedInstallPlanPermissions",(function(){return A})),a.d(t,"InstallPlanDetails",(function(){return D})),a.d(t,"InstallPlanPreview",(function(){return V})),a.d(t,"InstallPlanDetailsPage",(function(){return R}));var n=a(0),l=a(80),r=a(19),o=a(54),s=a(18),c=a(61),i=a(255),d=a(16),m=a(7),u=a(31),p=a(14),v=a(13),b=a(972),g=a(40),h=a(131),E=a(5),f=a(773),O=a(8),N=a(15),j=a(125),y=a(146),k=a(6086),S=a(2235),C=a(1405);const w=["pf-v5-c-table__td","pf-v5-c-table__td",s("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-xl","pf-v5-c-table__td"),E.F.columnClass],P=["pf-v5-c-table__td","pf-v5-c-table__td",s("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td")],M=({obj:e})=>{var t,a;const{t:l}=Object(m.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(g.k,{className:w[0]},n.createElement(E.hb,{kind:Object(O.Hb)(j.InstallPlanModel),namespace:e.metadata.namespace,name:e.metadata.name})),n.createElement(g.k,{className:w[1]},n.createElement(E.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(g.k,{className:w[2]},(r=null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:"Unknown",n.createElement(N.cc,{status:r}))),n.createElement(g.k,{className:w[3]},n.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},e.spec.clusterServiceVersionNames.map(t=>{var a;return n.createElement("li",{key:t},"Complete"===(null===(a=e.status)||void 0===a?void 0:a.phase)?n.createElement(E.hb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(E.fb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel)}),t))}))),n.createElement(g.k,{className:w[4]},(e.metadata.ownerReferences||[]).filter(e=>Object(O.Ib)(e)===Object(O.Hb)(j.SubscriptionModel)).map(t=>n.createElement("ul",{key:t.uid,className:"pf-v5-c-list pf-m-plain"},n.createElement("li",null,n.createElement(E.hb,{kind:Object(O.Hb)(j.SubscriptionModel),name:t.name,namespace:e.metadata.namespace,title:t.uid}))))||n.createElement("span",{className:"text-muted"},l("olm~None"))),n.createElement(g.k,{className:w[5]},n.createElement(E.gb,{actions:E.F.factory.common,kind:Object(O.Hb)(j.InstallPlanModel),resource:e})));var r},I=()=>{const{t:e}=Object(m.useTranslation)();return n.createElement(E.h,{title:e("olm~No InstallPlans found")},e("olm~InstallPlans are created automatically by subscriptions or manually using the CLI."))},_=Object(S.f)(e=>{const{t:t}=Object(m.useTranslation)();return n.createElement(g.j,Object.assign({},e,{"aria-label":t("olm~InstallPlans"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[o.a],props:{className:w[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[o.a],props:{className:w[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[o.a],props:{className:w[2]}},{title:t("olm~Components"),props:{className:w[3]}},{title:t("olm~Subscriptions"),props:{className:w[4]}},{title:"",props:{className:w[5]}}],Row:M,EmptyMsg:I}))}),T=e=>{const{t:t}=Object(m.useTranslation)(),a=Object(p.useParams)(),l=e.namespace||(null==a?void 0:a.ns);return n.createElement(g.i,Object.assign({},e,{namespace:l,resources:[{kind:Object(O.Hb)(j.InstallPlanModel),namespace:l,namespaced:!0,prop:"installPlan"},{kind:Object(O.Hb)(j.OperatorGroupModel),namespace:l,namespaced:!0,prop:"operatorGroup"}],flatten:e=>d.a(e.installPlan,"data",[]),title:t("olm~InstallPlans"),showTitle:!1,ListComponent:_}))},x=(e,t)=>e?null==t?void 0:t.username:f.b.name(),A=({installPlan:e})=>{const t=Object(N.Fe)(N.O.OPENSHIFT),a=Object(u.useSelector)(v.J),[r,o]=n.useState(x(t,a));n.useEffect(()=>{o(x(t,a))},[t,a]);const{t:s}=Object(m.useTranslation)(),c=Object(O.l)(Object(O.Db)(e));return n.createElement(l.a,{variant:"info",isInline:!0,title:s("olm~Missing sufficient privileges for manual InstallPlan approval")},r?s('olm~User "{{user}}" does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{user:r,apiGroup:c,namespace:e.metadata.namespace}):s('olm~User does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{apiGroup:c,namespace:e.metadata.namespace}))},D=({obj:e})=>{var t,a,l;const{t:o}=Object(m.useTranslation)(),s=e.spec.approval===y.e.Manual&&!1===e.spec.approved,d=Object(E.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return n.createElement(n.Fragment,null,s&&d&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(E.D,{title:o("olm~Review manual InstallPlan")},n.createElement("p",null,o("olm~Inspect the requirements for the components specified in this InstallPlan before approving.")),n.createElement(p.Link,{to:`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(j.InstallPlanModel)}/${e.metadata.name}/components`},n.createElement(r.a,{variant:"primary"},o("olm~Preview InstallPlan"))))),s&&!d&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(A,{installPlan:e})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(E.ob,{text:o("olm~InstallPlan details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(E.lb,{resource:e,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,o("olm~Status")),n.createElement("dd",null,n.createElement(N.cc,{status:null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:o("olm~Unknown")})),n.createElement("dt",null,o("olm~Components")),(e.spec.clusterServiceVersionNames||[]).map(t=>n.createElement("dd",{key:t},"Complete"===e.status.phase?n.createElement(E.hb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(E.fb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel)}),t))),n.createElement("dt",null,o("olm~CatalogSources")),(e=>{var t;return i.a((null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.plan)||[],(e,{resource:{sourceName:t,sourceNamespace:a}})=>e.add(Object(c.fromJS)({sourceName:t,sourceNamespace:a})),Object(c.Set)()).toJS()})(e).map(({sourceName:e,sourceNamespace:t})=>n.createElement("dd",{key:`${t}-${e}`},n.createElement(E.hb,{kind:Object(O.Hb)(j.CatalogSourceModel),name:e,namespace:t,title:e})))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(E.ob,{text:o("olm~Conditions")}),n.createElement(b.b,{conditions:null===(l=e.status)||void 0===l?void 0:l.conditions})))},V=({obj:e,hideApprovalBlock:t})=>{var a,l;const{t:o}=Object(m.useTranslation)(),[s,i]=n.useState(e.spec.approval===y.e.Manual&&!1===e.spec.approved),d=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.ownerReferences.find(e=>Object(O.Ib)(e)===Object(O.Hb)(j.SubscriptionModel)),u=(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.plan)||[],p=u.reduce((e,t)=>e.update(t.resolving,[],e=>e.concat([t])),Object(c.Map)()).toArray(),v=Object(E.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return u.length>0?n.createElement(n.Fragment,null,s&&!t&&!v&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(A,{installPlan:e})),s&&!t&&v&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(E.D,{title:o("olm~Review manual InstallPlan")},n.createElement(C.a,{installPlan:e}),n.createElement("div",{className:"pf-v5-c-form"},n.createElement("div",{className:"pf-v5-c-form__actions"},n.createElement(r.a,{variant:"primary",isDisabled:!s,onClick:()=>Object(O.pb)(j.InstallPlanModel,e,[{op:"replace",path:"/spec/approved",value:!0}]).then(()=>i(!1)).catch(e=>Object(h.s)({error:e.toString()}))},o(s?"olm~Approve":"olm~Approved")),n.createElement(r.a,{variant:"secondary",isDisabled:!1,onClick:()=>E.Vb.push(`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(j.SubscriptionModel)}/${d.name}?showDelete=true`)},o("olm~Deny")))))),p.map(t=>n.createElement("div",{key:t[0].resolving,className:"co-m-pane__body"},n.createElement(E.ob,{text:t[0].resolving}),n.createElement("div",{className:"co-table-container"},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr"},n.createElement("th",{className:P[0]},o("olm~Name")),n.createElement("th",{className:P[1]},o("olm~Kind")),n.createElement("th",{className:P[2]},o("olm~Status")),n.createElement("th",{className:P[3]},o("olm~API version")))),n.createElement("tbody",{className:"pf-v5-c-table__tbody"},t.map(t=>{return n.createElement("tr",{key:`${Object(C.m)(t.resource)}-${t.resource.name}`,className:"pf-v5-c-table__tr"},n.createElement("td",{className:P[0]},["Present","Created"].includes(t.status)?n.createElement(E.hb,{kind:Object(C.m)(t.resource),namespace:e.metadata.namespace,name:t.resource.name,title:t.resource.name}):n.createElement(n.Fragment,null,n.createElement(E.fb,{kind:Object(C.m)(t.resource)}),n.createElement(r.a,{type:"button",onClick:()=>Object(k.a)({stepResource:t.resource}),variant:"link"},t.resource.name))),n.createElement("td",{className:P[1]},t.resource.kind),n.createElement("td",{className:P[2]},(a=t.status,n.createElement(n.Fragment,null,"Present"===a&&n.createElement(N.X,{className:"co-icon-space-r"}),"Created"===a&&n.createElement(N.X,{className:"co-icon-space-r"}),a))),n.createElement("td",{className:P[3]},Object(O.o)(Object(C.m)(t.resource))));var a}))))))):n.createElement("div",{className:"co-m-pane__body"},n.createElement(E.h,{title:o("olm~No components resolved")},o("olm~This InstallPlan has not been fully resolved yet.")))},R=e=>{const t=Object(p.useParams)();return n.createElement(g.a,Object.assign({},e,{namespace:t.ns,kind:Object(O.Hb)(j.InstallPlanModel),name:t.name,pages:[E.mc.details(D),E.mc.editYaml(),{href:"components",nameKey:"olm~Components",component:V}],menuActions:[...E.F.getExtensionsActionsForKind(j.InstallPlanModel),...E.F.factory.common]}))};T.displayName="InstallPlansPage"},4385:function(e,t,a){"use strict";a.r(t),a.d(t,"ClusterServiceVersionTableRow",(function(){return Oe})),a.d(t,"SubscriptionTableRow",(function(){return Ne})),a.d(t,"ClusterServiceVersionList",(function(){return Se})),a.d(t,"ClusterServiceVersionsPage",(function(){return Ce})),a.d(t,"MarkdownView",(function(){return we})),a.d(t,"CRDCard",(function(){return Pe})),a.d(t,"CRDCardRow",(function(){return Me})),a.d(t,"ClusterServiceVersionDetails",(function(){return _e})),a.d(t,"CSVSubscription",(function(){return Te})),a.d(t,"ClusterServiceVersionDetailsPage",(function(){return xe}));var n=a(0),l=a(353),r=a(19),o=a(192),s=a(295),c=a(296),i=a(4345),d=a(80),m=a(6023),u=a(615),p=a(54),v=a(8241),b=a(18),g=a(373),h=a(22),E=a(4440),f=a(16),O=a(2328),N=a(4387),j=a(137),y=a(7),k=a(14),S=a(13),C=a(83),w=a(972),P=a(409),M=a(40),I=a(5),_=a(987),T=a(108),x=a(10),A=a(8),D=a(15),V=a(198),R=a(2269),F=a(330),L=a(30),$=a(6352),G=a(473),U=a(197),H=a(474),z=a(125),q=a(1439),K=a(146),W=a(2241),B=a(6084),J=a(6085),Y=a(6353),X=a(5893),Q=a(5737),Z=a(6037),ee=a(4388),te=a(2235),ae=a(1947),ne=a(5411),le=a(4386),re=a(1405),oe=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const se=e=>Object(A.Db)(e)===Object(A.Hb)(z.ClusterServiceVersionModel),ce=b("pf-m-hidden","pf-m-visible-on-sm"),ie=b("pf-m-hidden","pf-m-visible-on-lg"),de=b("pf-m-hidden","pf-m-visible-on-2xl"),me=b("pf-m-hidden","pf-m-visible-on-xl"),ue=e=>g.a(e)?null:{labelKey:"olm~Edit Subscription",href:Object(I.uc)(z.SubscriptionModel,e.metadata.name,e.metadata.namespace)+"/yaml"},pe=(e,t)=>g.a(e)?null:{labelKey:"olm~Uninstall Operator",callback:()=>Object(Z.a)({k8sKill:A.lb,k8sGet:A.kb,k8sPatch:A.pb,subscription:e,csv:t,blocking:!0}),accessReview:{group:z.SubscriptionModel.apiGroup,resource:z.SubscriptionModel.plural,name:e.metadata.name,namespace:e.metadata.namespace,verb:"delete"}},ve=(e,t)=>h.a(t)?[I.F.factory.Delete]:[()=>ue(t),()=>pe(t,e)],be=({muted:e=!1,subscription:t})=>{const{t:a}=Object(y.useTranslation)();if(!t)return null;if(Object(W.b)(t))return n.createElement(le.UpgradeApprovalLink,{subscription:t});const l=Object(q.b)(t);return n.createElement("span",{className:e?"text-muted":"co-icon-and-text"},e?l.title:n.createElement(D.cc,{status:l.status||a("olm~Unknown")}))},ge=({obj:e,subscription:t})=>{var a;const l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.phase;return e.metadata.deletionTimestamp?n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:K.b.CSVPhaseDeleting})):l?n.createElement(n.Fragment,null,n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:l})),n.createElement(be,{muted:!0,subscription:t})):null},he=({obj:e})=>{var t;const{t:a}=Object(y.useTranslation)(),o=(null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))||[];if(Object(B.a)(e))return n.createElement(n.Fragment,null,n.createElement(I.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}),n.createElement("span",{className:"text-muted"},e.status.message));switch(o.length){case 0:return a("olm~All Namespaces");case 1:return o[0]?n.createElement(I.hb,{kind:"Namespace",title:o[0],name:o[0]}):a("olm~All Namespaces");default:return n.createElement(l.a,{headerContent:a("olm~Managed Namespaces"),bodyContent:o.map(e=>n.createElement(I.hb,{kind:"Namespace",title:e,name:e}))},n.createElement(r.a,{variant:"link",isInline:!0},a("olm~{{count}} Namespaces",{count:o.length})))}},Ee=({csvPlugins:e,trusted:t})=>{const a={kind:Object(A.Hb)(x.ConsoleOperatorConfigModel),isList:!1,name:L.p},[l]=Object(T.a)(a),{t:o}=Object(y.useTranslation)(),[s]=Object(S.hc)({group:x.ConsoleOperatorConfigModel.apiGroup,resource:x.ConsoleOperatorConfigModel.plural,verb:"patch",name:L.p}),c=e.length;return n.createElement(n.Fragment,null,l&&s&&n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,o("olm~Console plugin",{count:c})),e.map(e=>n.createElement("dd",{key:e,className:"co-clusterserviceversion-details__field-description"},c>1&&n.createElement("strong",{className:"text-muted"},o("olm~{{plugin}}:",{pluginName:e})," "),n.createElement(r.a,{"data-test":"edit-console-plugin",type:"button",isInline:!0,onClick:()=>Object(R.a)({consoleOperatorConfig:l,csvPluginsCount:c,pluginName:e,trusted:t}),variant:"link"},n.createElement(n.Fragment,null,Object(U.X)(l,e)?o("olm~Enabled"):o("olm~Disabled")," ",n.createElement(u.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})))))))},fe=({csv:e,csvPlugins:t})=>{var a,o;const s={kind:Object(A.Hb)(x.ConsoleOperatorConfigModel),isList:!1,name:L.p},[c]=Object(T.a)(s),{t:i}=Object(y.useTranslation)(),[d]=Object(S.hc)({group:x.ConsoleOperatorConfigModel.apiGroup,resource:x.ConsoleOperatorConfigModel.plural,verb:"patch",name:L.p}),m=!(null===(o=null===(a=null==c?void 0:c.spec)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.length)||t.some(e=>!Object(U.X)(c,e));return c&&d&&m&&n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Console plugin available")),bodyContent:n.createElement("div",null,n.createElement("p",null,i("olm~To let this operator provide a custom interface and run its own code in your console, enable its console plugin in the operator details.")),n.createElement(k.Link,{to:Object(I.sc)(e,Object(A.Db)(e))},i("olm~View operator details")))},n.createElement(r.a,{variant:"link",isInline:!0},i("olm~Plugin available")))},Oe=Object(V.e)(({activeNamespace:e,obj:t,subscription:a,catalogSourceMissing:l})=>{var r,o,s,c;const{displayName:i,provider:d,version:m}=null!==(r=t.spec)&&void 0!==r?r:{},{t:u}=Object(y.useTranslation)(),p=null!==(o=Object(te.d)(t))&&void 0!==o?o:"",[v]=null!==(s=t.spec.icon)&&void 0!==s?s:[],b=Object(Y.a)(t),g=Object(re.j)(t),f=Object(ae.b)(null===(c=null==t?void 0:t.metadata)||void 0===c?void 0:c.annotations),{deprecatedPackage:O}=Object(Q.d)(a);return n.createElement(n.Fragment,null,n.createElement(M.k,{className:""},n.createElement(k.Link,{to:b,className:"co-clusterserviceversion-link","data-test-operator-row":i},n.createElement(X.a,{icon:v,displayName:i,version:m,provider:d}))),e===D.c?n.createElement(M.k,{className:""},n.createElement(I.hb,{kind:"Namespace",title:p,name:p})):null,n.createElement(M.k,{className:ce},n.createElement(he,{obj:t})),n.createElement(M.k,{className:ie},n.createElement("div",{className:"co-clusterserviceversion-row__status"},l?n.createElement(le.SourceMissingStatus,null):n.createElement(ge,{obj:t,subscription:a})),f.length>0&&n.createElement(fe,{csv:t,csvPlugins:f}),O.deprecation&&n.createElement(Q.b,{className:"pf-v5-u-mt-xs",deprecation:O.deprecation})),n.createElement(M.k,{className:de},null==t.status?"-":n.createElement(I.xb,{timestamp:t.status.lastUpdateTime})),n.createElement(M.k,{className:me},h.a(g)?"-":E.a(g,4).map(e=>n.createElement("div",{key:Object(re.l)(e)},n.createElement(k.Link,{to:`${b}/${Object(re.l)(e)}`,title:e.name},e.displayName||e.kind))),g.length>4&&n.createElement(k.Link,{to:b,title:u("olm~View {{numAPIs}} more...",{numAPIs:g.length-4})},u("olm~View {{numAPIs}} more...",{numAPIs:g.length-4}))),n.createElement(M.k,{className:I.F.columnClass},n.createElement(I.gb,{resource:t,kind:Object(A.Db)(t),actions:ve(t,a)})))}),Ne=({activeNamespace:e,catalogSourceMissing:t,obj:a})=>{var l;const{t:r}=Object(y.useTranslation)(),o=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.name,s=[I.F.factory.Edit,()=>pe(a)],c=Object(D.ed)(a),i=Object(I.sc)(a,Object(A.Hb)(z.SubscriptionModel));return n.createElement(n.Fragment,null,n.createElement(M.k,{className:""},n.createElement(k.Link,{to:i},n.createElement(X.a,{icon:null,displayName:o,version:null,provider:null}))),e===D.c?n.createElement(M.k,{className:""},n.createElement(I.hb,{kind:"Namespace",title:c,name:c})):null,n.createElement(M.k,{className:ce},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(M.k,{className:ie},t?n.createElement(le.SourceMissingStatus,null):n.createElement(be,{subscription:a})),n.createElement(M.k,{className:de},null==a.status?"-":n.createElement(I.xb,{timestamp:a.status.lastUpdated})),n.createElement(M.k,{className:me},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(M.k,{className:I.F.columnClass},n.createElement(I.gb,{resource:a,kind:Object(A.Db)(a),actions:s})))},je=({obj:e,customData:t})=>{const{catalogSources:a,subscriptions:l,activeNamespace:r}=t,o=se(e)?Object(q.c)(l,e):e,s=!h.a(a)&&!Object(le.catalogSourceForSubscription)(a,o)&&!(e=>"packageserver"===e.metadata.name&&"openshift-operator-lifecycle-manager"===e.metadata.namespace)(e);return se(e)?n.createElement(Oe,{activeNamespace:r,catalogSourceMissing:s,obj:e,subscription:o}):n.createElement(Ne,{activeNamespace:r,catalogSourceMissing:s,obj:o})},ye=()=>{const{t:e}=Object(y.useTranslation)();return n.createElement(I.h,{title:e("olm~No Operators found")})},ke=()=>{const{t:e}=Object(y.useTranslation)(),t=Object($.a)(),a=e("olm~No Operators are available for project {{project}}.",{project:t}),l=e("olm~No Operators are available."),r=n.createElement(n.Fragment,null,n.createElement("div",null,t===D.c?l:a),n.createElement("div",null,n.createElement(y.Trans,{ns:"olm"},"Discover and install Operators from the ",n.createElement("a",{href:"/operatorhub"},"OperatorHub"),".")));return n.createElement(I.h,{title:e("olm~No Operators found")},r)},Se=e=>{var{subscriptions:t,catalogSources:a,data:l}=e,r=oe(e,["subscriptions","catalogSources","data"]);const{t:o}=Object(y.useTranslation)(),s=Object($.a)(),c={title:o("olm~Name"),sortField:"metadata.name",transforms:[p.a],props:{className:""}},i={title:o("olm~Namespace"),sortFunc:"getOperatorNamespace",transforms:[p.a],props:{className:""}},d={title:o("olm~Managed Namespaces"),sortFunc:"formatTargetNamespaces",transforms:[p.a,v.a],props:{className:ce}},m={title:o("olm~Status"),props:{className:ie}},u={title:o("olm~Last updated"),props:{className:de}},b={title:o("olm~Provided APIs"),props:{className:me}},g={title:"",props:{className:I.F.columnClass}},h=s===D.c,E=n.useMemo(()=>{var e,n;return{catalogoperators:null!==(e=null==a?void 0:a.data)&&void 0!==e?e:[],subscriptions:null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[],activeNamespace:s}},[s,a,t]);return n.createElement("div",{className:"co-installed-operators"},n.createElement(M.j,Object.assign({data:((e,t)=>e.filter(e=>{return a=e,Object(A.Db)(a)===Object(A.Hb)(z.SubscriptionModel)||(t?!Object(B.a)(e)&&Object(B.b)(e):window.SERVER_FLAGS.copiedCSVsDisabled&&e.metadata.namespace===H.e&&s!==H.e?Object(B.a)(e)&&Object(B.b)(e):Object(B.b)(e));var a}))(l,h)},r,{"aria-label":o("olm~Installed Operators"),Header:h?()=>[c,i,d,m,u,b,g]:()=>[c,d,m,u,b,g],Row:je,EmptyMsg:ye,NoDataEmptyMsg:ke,virtualize:!0,customData:E,customSorts:{formatTargetNamespaces:e=>{var t,a;if("Subscription"===e.kind)return o("olm~None");if(Object(B.a)(e))return e.metadata.namespace;const n=null!==(a=null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))&&void 0!==a?a:[];switch(n.length){case 0:return o("olm~All Namespaces");case 1:return n[0];default:return o("olm~{{count}} Namespaces",{count:n.length})}},getOperatorNamespace:e=>{const t=Object(te.d)(e);return null!=t?t:Object(D.ed)(e)}}})))},Ce=e=>{const{t:t}=Object(y.useTranslation)(),[a]=Object(S.hc)({group:z.SubscriptionModel.apiGroup,resource:z.SubscriptionModel.plural,verb:"list"}),l=t("olm~Installed Operators"),r=Object(I.Qb)(I.Lb.operators),o=n.createElement(n.Fragment,null,t("olm~Installed Operators are represented by ClusterServiceVersions within this Namespace."),!Object(I.hc)()&&n.createElement(y.Trans,{ns:"olm"}," ","For more information, see the"," ",n.createElement(I.z,{href:r},"Understanding Operators documentation"),". Or create an Operator and ClusterServiceVersion using the"," ",n.createElement(I.z,{href:I.n},"Operator SDK"),"."));return n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement("title",null,l)),n.createElement(M.i,Object.assign({},e,{resources:[...!H.f.includes(e.namespace)&&window.SERVER_FLAGS.copiedCSVsDisabled?[{kind:Object(A.Hb)(z.ClusterServiceVersionModel),namespace:H.e,prop:"globalClusterServiceVersions"}]:[],{kind:Object(A.Hb)(z.ClusterServiceVersionModel),namespace:e.namespace,prop:"clusterServiceVersions"},{kind:Object(A.Hb)(z.SubscriptionModel),prop:"subscriptions",namespace:a?void 0:e.namespace,optional:!0},{kind:Object(A.Hb)(z.CatalogSourceModel),prop:"catalogSources",optional:!0}],title:l,flatten:({globalClusterServiceVersions:t,clusterServiceVersions:a,subscriptions:n})=>{var l,r,o;return[...null!==(l=null==t?void 0:t.data)&&void 0!==l?l:[],...null!==(r=null==a?void 0:a.data)&&void 0!==r?r:[],...(null!==(o=null==n?void 0:n.data)&&void 0!==o?o:[]).filter(t=>["",t.metadata.namespace].includes(e.namespace||"")&&g.a(f.a(t,"status.installedCSV")))].filter((e,t,a)=>se(e)||O.a(a.find(({metadata:t})=>{var a,n;return[null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.currentCSV,null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.startingCSV].includes(null==t?void 0:t.name)})))},namespace:e.namespace,ListComponent:Se,helpText:o,textFilter:"cluster-service-version"})))},we=e=>n.createElement(I.c,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2237)).then(e=>e.SyncMarkdownView)},e)),Pe=e=>{var t,a,l,{csv:r,crd:d,required:u}=e,p=oe(e,["csv","crd","required"]);const{t:v}=Object(y.useTranslation)(),b=Object(re.l)(d),[g]=Object(G.a)(b),h=null!==(t=p.canCreate)&&void 0!==t?t:null===(l=null===(a=null==g?void 0:g.verbs)||void 0===a?void 0:a.includes)||void 0===l?void 0:l.call(a,"create"),E=n.useMemo(()=>r?`/k8s/ns/${r.metadata.namespace}/${z.ClusterServiceVersionModel.plural}/${r.metadata.name}/${b}/~new`:null,[r,b]);return n.createElement(o.a,null,n.createElement(s.a,null,n.createElement("span",{className:"co-resource-item"},n.createElement(I.hb,{kind:Object(re.l)(d),title:d.name,linkTo:!1,displayName:d.displayName||d.kind}),u&&n.createElement(S.v,{badgeAlt:!0},n.createElement(S.A,{icon:n.createElement(F.f,null),title:v("olm~Required")})))),n.createElement(c.a,null,n.createElement(we,{content:d.description,truncateContent:!0})),h&&E&&n.createElement(I.eb,{model:g,namespace:r.metadata.namespace},n.createElement(i.a,null,n.createElement(k.Link,{to:E},n.createElement(m.a,{className:"co-icon-space-r"}),v("olm~Create instance")))))},Me=({csv:e,providedAPIs:t})=>{const{t:a}=Object(y.useTranslation)();return n.createElement("div",{className:"co-crd-card-row"},t.length?t.map(t=>n.createElement(Pe,{key:Object(re.l)(t),crd:t,csv:e})):n.createElement("span",{className:"text-muted"},a("olm~No Kubernetes APIs are being provided by this Operator.")))},Ie=e=>{const{t:t}=Object(y.useTranslation)(),{initializationResource:a,csv:l}=e,r=null==a?void 0:a.kind,o=Object(A.Db)(a),[s]=Object(G.a)(o),[c,i]=Object(T.a)({kind:o,namespaced:!0,isList:!0}),m=Object(S.ic)({group:null==s?void 0:s.apiGroup,resource:null==s?void 0:s.plural,namespace:(null==s?void 0:s.namespaced)?(null==a?void 0:a.metadata.namespace)||l.metadata.namespace:null,verb:"create"});return i&&0===c.length&&m?n.createElement(d.a,{isInline:!0,className:"co-alert",variant:"warning",title:t("olm~{{initializationResourceKind}} required",{initializationResourceKind:r})},n.createElement("p",null,t("olm~Create a {{initializationResourceKind}} instance to use this Operator.",{initializationResourceKind:r})),n.createElement(ne.CreateInitializationResourceButton,{obj:e.csv,initializationResource:a})):null},_e=e=>{var t,a,o,s,c;const{t:i}=Object(y.useTranslation)(),{spec:m,metadata:u,status:p}=e.obj,{subscription:v}=e.customData,b=Object(re.j)(e.obj),{"marketplace.openshift.io/support-workflow":g,"operatorframework.io/initialization-resource":E}=u.annotations||{},f=n.useMemo(()=>{if(E)try{return JSON.parse(E)}catch(e){console.error("Error while parseing CSV initialization resource JSON",e.message)}return null},[E]),O=n.useMemo(()=>{if(g)try{const e=new URL(g);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to support workflow URL",e.message)}return null},[g]),j=Object(ae.b)(null==u?void 0:u.annotations),k=N.a(null===(a=null===(t=null==m?void 0:m.install)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.permissions,"serviceAccountName"),{deprecatedPackage:S,deprecatedChannel:C,deprecatedVersion:P}=Object(Q.d)(v);return n.createElement(n.Fragment,null,n.createElement(I.nb,null),n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-9"},p&&p.phase===K.b.CSVPhaseFailed&&n.createElement(d.a,{isInline:!0,className:"co-alert",variant:"danger",title:i("olm~Operator failed")},p.reason===K.a.CSVReasonCopied?n.createElement(n.Fragment,null,n.createElement(y.Trans,{t:i,ns:"olm"},"This Operator was copied from another namespace. For the reason it failed, see"," ",n.createElement(I.hb,{name:u.name,kind:Object(A.Hb)(z.ClusterServiceVersionModel),namespace:Object(te.d)(e.obj),hideIcon:!0,inline:!0}))):p.message),f&&n.createElement(Ie,{initializationResource:f,csv:e.obj}),(S.deprecation||C.deprecation||P.deprecation)&&n.createElement(Q.a,{deprecatedPackage:S,deprecatedChannel:C,deprecatedVersion:P,dismissible:!0}),n.createElement(I.ob,{text:i("olm~Provided APIs")}),n.createElement(Me,{csv:e.obj,providedAPIs:b}),n.createElement(I.ob,{text:i("olm~Description")}),n.createElement(we,{content:m.description||i("olm~Not available")})),n.createElement("div",{className:"col-sm-3"},n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Provider")),n.createElement("dd",null,m.provider&&m.provider.name?m.provider.name:i("olm~Not available")),O&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Support")),n.createElement("dd",null,n.createElement(I.z,{href:O,text:i("olm~Get support")}))),n.createElement("dt",null,i("olm~Created at")),n.createElement("dd",null,n.createElement(I.xb,{timestamp:u.creationTimestamp}))),j.length>0&&v&&n.createElement(Ee,{csvPlugins:j,trusted:Object(W.a)(null===(o=null==v?void 0:v.spec)||void 0===o?void 0:o.source)}),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Links")),m.links&&m.links.length>0?m.links.map(e=>n.createElement("dd",{key:e.url,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement(I.z,{href:e.url,text:e.url||"-",additionalClassName:"co-break-all"}))):n.createElement("dd",null,i("olm~Not available"))),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Maintainers")),m.maintainers&&m.maintainers.length>0?m.maintainers.map(e=>n.createElement("dd",{key:e.email,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement("a",{href:"mailto:"+e.email,className:"co-break-all"},e.email||"-"))):n.createElement("dd",null,i("olm~Not available"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(I.ob,{text:i("olm~ClusterServiceVersion details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(I.lb,{resource:e.obj},n.createElement("dt",null,n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Managed Namespaces")),bodyContent:n.createElement("div",null,i("olm~Operands in this Namespace are managed by the Operator.")),maxWidth:"30rem"},n.createElement(r.a,{variant:"plain",className:"details-item__popover-button"},i("olm~Managed Namespaces")))),n.createElement("dd",null,n.createElement(he,{obj:e.obj})))),n.createElement("div",{className:"col-sm-6"},n.createElement("dt",null,i("olm~Status")),n.createElement("dd",null,n.createElement(D.cc,{status:p?p.phase:i("olm~Unknown")})),n.createElement("dt",null,i("olm~Status reason")),n.createElement("dd",null,p?p.message:i("olm~Unknown")),!h.a(null===(s=m.install.spec)||void 0===s?void 0:s.deployments)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator Deployments")),m.install.spec.deployments.map(({name:t})=>n.createElement("dd",{key:t},n.createElement(I.hb,{name:t,kind:"Deployment",namespace:Object(te.d)(e.obj)})))),!h.a(k)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator ServiceAccounts")),k.map(({serviceAccountName:t})=>n.createElement("dd",{key:t,"data-service-account-name":t},n.createElement(I.hb,{name:t,kind:"ServiceAccount",namespace:Object(te.d)(e.obj)})))),n.createElement("dt",null,i("olm~OperatorGroup")),n.createElement("dd",null,Object(te.c)(e.obj)?n.createElement(I.hb,{name:Object(te.c)(e.obj),namespace:Object(te.d)(e.obj),kind:Object(A.Hb)(z.OperatorGroupModel)}):"-"))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(I.ob,{text:i("olm~Conditions")}),n.createElement(w.b,{conditions:(null!==(c=null==p?void 0:p.conditions)&&void 0!==c?c:[]).map(e=>Object.assign(Object.assign({},e),{type:e.phase,status:"True"})),type:w.a.ClusterServiceVersion})))},Te=e=>{var{obj:t,customData:a}=e,l=oe(e,["obj","customData"]);const{t:r}=Object(y.useTranslation)(),{subscription:o,subscriptions:s,subscriptionsLoaded:c,subscriptionsLoadError:i}=null!=a?a:{};return n.createElement(I.wb,{EmptyMsg:()=>n.createElement(I.h,{title:r("olm~No Operator Subscription")},r("olm~This Operator will not receive updates.")),loaded:c,loadError:i,data:o},n.createElement(le.SubscriptionDetails,Object.assign({},l,{obj:o,clusterServiceVersions:[t],subscriptions:s})))},xe=e=>{const{t:t}=Object(y.useTranslation)(),a=Object(k.useParams)(),l=Object(k.useLocation)(),[r,o,s]=Object(J.a)(a.name,a.ns),c=Object(te.d)(r),[i,d,m]=Object(T.a)(c?{isList:!0,groupVersionKind:Object(C.getGroupVersionKindForModel)(z.SubscriptionModel),namespace:c,optional:!0}:null),[u]=Object(S.hc)({group:null===z.InstallPlanModel||void 0===z.InstallPlanModel?void 0:z.InstallPlanModel.apiGroup,resource:null===z.InstallPlanModel||void 0===z.InstallPlanModel?void 0:z.InstallPlanModel.plural,verb:"list"}),p=n.useMemo(()=>(null!=i?i:[]).find(e=>{var t;return e.status.installedCSV===(null===(t=null==r?void 0:r.metadata)||void 0===t?void 0:t.name)}),[r,i]),v=n.useCallback(p?()=>[ue(p),pe(p,r)]:()=>[I.F.factory.Delete(z.ClusterServiceVersionModel,r)],[p]),{deprecatedPackage:b}=Object(Q.d)(p),g=n.useCallback(e=>{const t=Object(re.j)(e);return[I.mc.details(_e),I.mc.editYaml(),{href:"subscription",nameKey:"olm~Subscription",component:Te},I.mc.events(P.ResourceEventStream),...t.length>1?[{href:"instances",nameKey:"olm~All instances",component:ee.ProvidedAPIsPage}]:[],...t.map(t=>({href:Object(re.l)(t),name:["Details","YAML","Subscription","Events"].includes(t.displayName)?t.displayName+" Operand":t.displayName||t.kind,component:ee.ProvidedAPIPage,pageData:{csv:e,kind:Object(re.l)(t)}}))]},[]);return n.createElement(M.a,Object.assign({},e,{obj:{data:r,loaded:o,loadError:s},customData:{subscriptions:i,subscription:p,subscriptionsLoaded:d,subscriptionsLoadError:m},breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:Object(_.b)(a)},{name:t("olm~Operator details"),path:l.pathname}],resources:[{kind:Object(A.Hb)(z.PackageManifestModel),isList:!0,prop:"packageManifests"},Object.assign({kind:Object(A.Hb)(z.InstallPlanModel),isList:!0,prop:"installPlans"},u?{}:{namespace:c})],icon:({obj:e})=>{var t,a,l,r,o;return n.createElement(X.a,{displayName:null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.displayName,icon:null===(l=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.icon)||void 0===l?void 0:l[0],provider:null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.provider,version:null===(o=null==e?void 0:e.spec)||void 0===o?void 0:o.version,deprecation:b.deprecation})},namespace:a.ns,kind:Object(A.Hb)(z.ClusterServiceVersionModel),name:a.name,pagesFor:g,menuActions:v,createRedirect:!0}))};Se.displayName="ClusterServiceVersionList",Ce.displayName="ClusterServiceVersionsPage",Oe.displayName="ClusterServiceVersionTableRow",Pe.displayName="CRDCard",xe.displayName="ClusterServiceVersionsDetailsPage",_e.displayName="ClusterServiceVersionDetails",Te.displayName="CSVSubscription"},4386:function(e,t,a){"use strict";a.r(t),a.d(t,"catalogSourceForSubscription",(function(){return x})),a.d(t,"installedCSVForSubscription",(function(){return A})),a.d(t,"packageForSubscription",(function(){return D})),a.d(t,"installPlanForSubscription",(function(){return V})),a.d(t,"SourceMissingStatus",(function(){return R})),a.d(t,"SourceUnhealthyStatus",(function(){return F})),a.d(t,"UpgradeApprovalLink",(function(){return $})),a.d(t,"SubscriptionStatus",(function(){return G})),a.d(t,"SubscriptionTableRow",(function(){return H})),a.d(t,"SubscriptionsList",(function(){return z})),a.d(t,"SubscriptionsPage",(function(){return q})),a.d(t,"SubscriptionDetails",(function(){return J})),a.d(t,"SubscriptionUpdates",(function(){return X})),a.d(t,"SubscriptionDetailsPage",(function(){return Q}));var n=a(0),l=a(80),r=a(19),o=a(353),s=a(874),c=a(615),i=a(54),d=a(18),m=a(22),u=a(16),p=a(489),v=a(7),b=a(14),g=a(13),h=a(83),E=a(972),f=a(40),O=a(5),N=a(983),j=a(8),y=a(15),k=a(125),S=a(146),C=a(2241),w=a(5737),P=a(6177),M=a(6178),I=a(6037),_=a(2235),T=a(1405);const x=(e=[],t)=>e.find(e=>{var a,n,l,r;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.source)&&(null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.namespace)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.sourceNamespace)}),A=(e=[],t)=>e.find(e=>{var a,n;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installedCSV)}),D=(e=[],t)=>e.find(e=>{var a,n,l,r,o,s,c,i;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.name)&&(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.packageName)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.name)&&(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.catalogSource)===(null===(s=null==t?void 0:t.spec)||void 0===s?void 0:s.source)&&(null===(c=null==e?void 0:e.status)||void 0===c?void 0:c.catalogSourceNamespace)===(null===(i=null==t?void 0:t.spec)||void 0===i?void 0:i.sourceNamespace)}),V=(e=[],t)=>e.find(e=>{var a,n,l;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(l=null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installPlanRef)||void 0===l?void 0:l.name)}),R=()=>{const{t:e}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(y.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource not found")))},F=()=>{const{t:e}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(y.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource unhealthy")))},L=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",O.F.columnClass],$=({subscription:e})=>{const{t:t}=Object(v.useTranslation)(),a=Object(O.uc)(k.InstallPlanModel,e.status.installPlanRef.name,e.metadata.namespace);return n.createElement("span",{className:"co-icon-and-text"},n.createElement(b.Link,{to:a},n.createElement(y.n,null)," ",t("olm~Upgrade available")))},G=({subscription:e})=>{var t;const{t:a}=Object(v.useTranslation)();switch(null===(t=e.status)||void 0===t?void 0:t.state){case S.g.SubscriptionStateUpgradeAvailable:return n.createElement("span",null,n.createElement(y.tc,null)," ",a("olm~Upgrade available"));case S.g.SubscriptionStateUpgradePending:return Object(C.b)(e)&&e.status.installPlanRef?n.createElement($,{subscription:e}):n.createElement("span",null,n.createElement(s.a,{className:"text-primary"})," ",a("olm~Upgrading"));case S.g.SubscriptionStateAtLatest:return n.createElement("span",null,n.createElement(y.X,null)," ",a("olm~Up to date"));default:return n.createElement("span",{className:m.a(e.status.state)?"text-muted":""},e.status.state||a("olm~Unknown failure"))}},U=[O.F.factory.Edit,(e,t)=>({labelKey:"olm~Remove Subscription",callback:()=>Object(I.a)({k8sKill:j.lb,k8sGet:j.kb,k8sPatch:j.pb,subscription:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}),(e,t)=>{const a=u.a(t,"status.installedCSV");return{labelKey:"olm~View ClusterServiceVersion...",href:`/k8s/ns/${t.metadata.namespace}/${k.ClusterServiceVersionModel.plural}/${a}`,hidden:!a}}],H=({obj:e})=>{const{t:t}=Object(v.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(f.k,{className:L[0]},n.createElement(O.hb,{kind:Object(j.Hb)(k.SubscriptionModel),name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(f.k,{className:L[1]},n.createElement(O.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(f.k,{className:L[2]},n.createElement(G,{subscription:e})),n.createElement(f.k,{className:d(L[3],"co-truncate","co-select-to-copy")},e.spec.channel||"default"),n.createElement(f.k,{className:L[4]},e.spec.installPlanApproval||t("olm~Automatic")),n.createElement(f.k,{className:L[5]},n.createElement(O.gb,{actions:U,kind:Object(j.Hb)(k.SubscriptionModel),resource:e})))},z=Object(_.f)(e=>{const{t:t}=Object(v.useTranslation)();return n.createElement(f.j,Object.assign({},e,{"aria-label":t("olm~Operator Subscriptions"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:L[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:L[1]}},{title:t("olm~Status"),props:{className:L[2]}},{title:t("olm~Update channel"),props:{className:L[3]}},{title:t("olm~Update approval"),props:{className:L[4]}},{title:"",props:{className:L[5]}}],Row:H,EmptyMsg:()=>n.createElement(O.h,{title:t("olm~No Subscriptions found")},t("olm~Each Namespace can subscribe to a single channel of a package for automatic updates.")),virtualize:!0}))}),q=e=>{const{t:t}=Object(v.useTranslation)();return n.createElement(f.i,Object.assign({},e,{resources:[{kind:Object(j.Hb)(k.SubscriptionModel),namespace:e.namespace,namespaced:!0,prop:"subscription"},{kind:Object(j.Hb)(k.OperatorGroupModel),namespace:e.namespace,namespaced:!0,prop:"operatorGroup"}],flatten:e=>u.a(e.subscription,"data",[]),title:t("olm~Subscriptions"),canCreate:!0,createProps:{to:"/operatorhub"},createButtonText:t("olm~Create Subscription"),ListComponent:z,filterLabel:t("olm~Subscriptions by package")}))},K=({health:e,source:t,sourceNamespace:a})=>{const{t:r}=Object(v.useTranslation)();return e?e.healthy?null:n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource unhealthy")},r('olm~This operator cannot be updated. CatalogSource "{{source}}" is unhealthy.',{source:t}),n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(h.getGroupVersionKindForModel)(k.CatalogSourceModel),name:t,namespace:a,title:t})):n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource health unknown")},r('olm~This operator cannot be updated. The health of CatalogSource "{{source}}" is unknown. It may have been disabled or removed from the cluster.',{source:t}),t&&a&&n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(h.getGroupVersionKindForModel)(k.CatalogSourceModel),name:t,namespace:a,title:t}))},W=({installPlan:e})=>{var t,a,r;const{t:o}=Object(v.useTranslation)(),s=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.phase,c=null===(r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===r?void 0:r.find(({type:e,status:t})=>"Installed"===e&&"False"===t),i=(null==c?void 0:c.message)||(null==c?void 0:c.reason)||o("olm~InstallPlan failed");return s===S.f.InstallPlanPhaseFailed?n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:"danger",title:s},i):null},B=({healthy:e})=>{const{t:t}=Object(v.useTranslation)();switch(e){case!0:return n.createElement(g.A,{icon:n.createElement(y.X,null),title:t("olm~Healthy")});case!1:return n.createElement(g.A,{icon:n.createElement(y.Mb,null),title:t("olm~Unhealthy")});default:return n.createElement(g.A,{icon:n.createElement(y.tc,null),title:t("olm~Health unknown")})}},J=({clusterServiceVersions:e=[],installPlans:t=[],obj:a,packageManifests:l=[],subscriptions:r=[]})=>{var o,s,c,i;const{t:d}=Object(v.useTranslation)(),{source:m,sourceNamespace:u}=null!==(o=null==a?void 0:a.spec)&&void 0!==o?o:{},b=null===(c=null===(s=null==a?void 0:a.status)||void 0===s?void 0:s.catalogHealth)||void 0===c?void 0:c.find(e=>e.catalogSourceRef.name===m),h=A(e,a),f=V(t,a),S=D(l,a);new URLSearchParams(window.location.search).has("showDelete")&&Object(I.a)({k8sKill:j.lb,k8sGet:j.kb,k8sPatch:j.pb,subscription:a}).result.then(()=>Object(N.c)("showDelete")).catch(p.a);const{deprecatedPackage:C,deprecatedChannel:P,deprecatedVersion:M}=Object(w.d)(a);return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(K,{health:b,source:m,sourceNamespace:u}),n.createElement(W,{installPlan:f}),(C.deprecation||P.deprecation||M.deprecation)&&n.createElement(w.a,{deprecatedPackage:C,deprecatedChannel:P,deprecatedVersion:M,dismissible:!0}),n.createElement(O.ob,{text:d("olm~Subscription details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement(X,{catalogHealth:b,pkg:S,obj:a,installedCSV:h,installPlan:f,subscriptions:r})),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(O.lb,{resource:a,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,d("olm~Installed version")),n.createElement("dd",null,h?n.createElement(O.hb,{kind:Object(j.Hb)(k.ClusterServiceVersionModel),name:Object(y.dd)(h),namespace:Object(y.ed)(h),title:Object(y.dd)(h)}):d("olm~None")),n.createElement("dt",null,d("olm~Starting version")),n.createElement("dd",null,a.spec.startingCSV||d("olm~None")),n.createElement("dt",null,d("olm~CatalogSource")),n.createElement("dd",null,m&&u?n.createElement(O.hb,{kind:Object(j.Hb)(k.CatalogSourceModel),name:m,namespace:u,title:m},n.createElement(g.v,{badgeAlt:!0},n.createElement(B,{healthy:null==b?void 0:b.healthy}))):d("olm~None")),n.createElement("dt",null,d("olm~InstallPlan")),n.createElement("dd",null,f?n.createElement(O.hb,{kind:Object(j.Hb)(k.InstallPlanModel),name:Object(y.dd)(f),namespace:Object(y.ed)(f),title:Object(y.dd)(f)}):d("olm~None"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(O.ob,{text:d("olm~Conditions")}),n.createElement(E.b,{conditions:null===(i=null==a?void 0:a.status)||void 0===i?void 0:i.conditions})))},Y=({catalogHealth:e,subscription:t})=>e?e.healthy?n.createElement(G,{subscription:t}):n.createElement(F,null):n.createElement(R,null),X=({catalogHealth:e,installedCSV:t,installPlan:a,obj:l,pkg:s,subscriptions:i})=>{var d,m,u,p,g;const{t:h}=Object(v.useTranslation)(),E=n.useRef(null===(d=null==l?void 0:l.spec)||void 0===d?void 0:d.installPlanApproval),f=n.useRef(null===(m=null==l?void 0:l.spec)||void 0===m?void 0:m.channel),[N,C]=n.useState(!1);n.useEffect(()=>{var e,t,a,n;N&&(null===(e=null==l?void 0:l.spec)||void 0===e?void 0:e.channel)===f.current&&(null===(t=null==l?void 0:l.spec)||void 0===t?void 0:t.installPlanApproval)===E.current||(C(!1),f.current=null===(a=null==l?void 0:l.spec)||void 0===a?void 0:a.channel,E.current=null===(n=null==l?void 0:l.spec)||void 0===n?void 0:n.installPlanApproval)},[l,N]);const I=(e,t)=>Object(j.rb)(e,t).then(()=>C(!0)),_=n.useMemo(()=>{var e;if(a)switch(null===(e=a.status)||void 0===e?void 0:e.phase){case S.f.InstallPlanPhaseRequiresApproval:return n.createElement("span",{"data-test":"operator-subscription-requires-approval"},h("olm~1 requires approval"));case S.f.InstallPlanPhaseFailed:return h("olm~1 failed");default:return h("olm~1 installing")}return null},[a,h]),x=Object(T.f)(i,l.metadata.namespace),{deprecatedChannel:A}=Object(w.d)(l);return n.createElement("div",{className:"co-detail-table"},n.createElement("div",{className:"co-detail-table__row row"},n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},h("olm~Update channel"),n.createElement(O.B,null,h("olm~The channel to track and receive the updates from."))),n.createElement("dd",null,N?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(M.a)({subscription:l,pkg:s,k8sUpdate:I}),variant:"link",isDisabled:!s,"data-test":"subscription-channel-update-button"},l.spec.channel||"default",s&&n.createElement(c.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})),A.deprecation&&n.createElement(w.c,{dataTest:"deprecated-operator-warning-subscription-update-icon",deprecation:A.deprecation}))))),n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},h("olm~Update approval"),n.createElement(O.B,null,h("olm~The strategy to determine either manual or automatic updates."))),n.createElement("dd",null,N?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(P.a)({obj:l,k8sUpdate:I}),variant:"link"},l.spec.installPlanApproval||"Automatic",n.createElement(c.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))),l.spec.installPlanApproval===S.e.Automatic&&(null==x?void 0:x.length)>0&&n.createElement("div",null,n.createElement(o.a,{headerContent:n.createElement(n.Fragment,null,h("olm~Functioning as manual approval strategy")),bodyContent:n.createElement(T.b,{subscriptions:x,namespace:l.metadata.namespace})},n.createElement(r.a,{type:"button",isInline:!0,variant:"link"},n.createElement(y.o,{className:"co-icon-space-r"}),h("olm~Functioning as manual")))))))),n.createElement("div",{className:"co-detail-table__section co-detail-table__section--last col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},h("olm~Upgrade status")),n.createElement("dd",null,n.createElement(Y,{catalogHealth:e,subscription:l}))),e&&e.healthy&&n.createElement(n.Fragment,null,n.createElement("div",{className:"co-detail-table__bracket"}),n.createElement("div",{className:"co-detail-table__breakdown"},(null===(u=null==l?void 0:l.status)||void 0===u?void 0:u.installedCSV)&&t?n.createElement(b.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(j.Hb)(k.ClusterServiceVersionModel)}/${l.status.installedCSV}`},h("olm~1 installed")):n.createElement("span",null,h("olm~0 installed")),(null===(p=null==l?void 0:l.status)||void 0===p?void 0:p.state)===S.g.SubscriptionStateUpgradePending&&(null===(g=null==l?void 0:l.status)||void 0===g?void 0:g.installPlanRef)&&a?n.createElement(b.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(j.Hb)(k.InstallPlanModel)}/${l.status.installPlanRef.name}`},n.createElement("span",null,_)):n.createElement("span",null,h("olm~0 installing")))))))},Q=e=>{const t=Object(b.useParams)();return n.createElement(f.a,Object.assign({},e,{namespace:t.ns,kind:Object(j.Hb)(k.SubscriptionModel),name:t.name,pages:[O.mc.details(J),O.mc.editYaml()],resources:[{kind:Object(j.Hb)(k.PackageManifestModel),isList:!0,namespace:e.namespace,prop:"packageManifests"},{kind:Object(j.Hb)(k.InstallPlanModel),isList:!0,namespace:e.namespace,prop:"installPlans"},{kind:Object(j.Hb)(k.ClusterServiceVersionModel),namespace:e.namespace,isList:!0,prop:"clusterServiceVersions"},{kind:Object(j.Hb)(k.SubscriptionModel),namespace:e.namespace,isList:!0,prop:"subscriptions"}],menuActions:U}))};q.displayName="SubscriptionsPage",J.displayName="SubscriptionDetails",Q.displayName="SubscriptionDetailsPage"},4388:function(e,t,a){"use strict";a.r(t),a.d(t,"OperandStatus",(function(){return J})),a.d(t,"OperandTableRow",(function(){return X})),a.d(t,"OperandList",(function(){return Z})),a.d(t,"ProvidedAPIsPage",(function(){return ee})),a.d(t,"ProvidedAPIPage",(function(){return ae})),a.d(t,"OperandDetails",(function(){return le})),a.d(t,"OperandDetailsPage",(function(){return oe}));var n=a(0),l=a(54),r=a(18),o=a(447),s=a(225),c=a(460),i=a(50),d=a(22),m=a(7),u=a(31),p=a(14),v=a(13),b=a(791),g=a(972),h=a(765),E=a(409),f=a(40),O=a(1204),N=a(770),j=a(1202),y=a(1203),k=a(5),S=a(108),C=a(567),w=a(10),P=a(8),M=a(15),I=a(2282),_=a(473),T=a(2311),x=a(6610),A=a(6612),D=a(125),V=a(6085),R=a(6613),F=a(6622),L=a(5759),$=a(5796),G=a(1405),U=a(6354),H=a(5942),z=a(6623),q=a(6244);const K=["","","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-xl"),r("pf-m-hidden","pf-m-visible-on-2xl"),k.F.columnClass],W=e=>{const{phase:t,status:a,state:n,conditions:l}=(null==e?void 0:e.status)||{};if(t&&o.a(t))return{type:"Phase",value:t};if(a&&o.a(a))return{type:"Status",value:a};if(n&&o.a(n))return{type:"State",value:n};const r="object"==typeof l&&!Array.isArray(l)&&null!==l?[l]:l,s=null==r?void 0:r.filter(e=>"True"===e.status);if(null==s?void 0:s.length){const e=s.map(e=>e.type);return{type:1===e.length?"Condition":"Conditions",value:e.join(", ")}}return null},B=e=>{var t,a,n;const l=null!==(n=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a["olm.targetNamespaces"])&&void 0!==n?n:"",r=(null==l?void 0:l.split(","))||[];return 1===r.length&&""===r[0]},J=({operand:e})=>{const t=W(e);if(!t)return n.createElement(n.Fragment,null,"-");const{type:a,value:l}=t;return n.createElement("span",{className:"co-icon-and-text"},a,n.createElement("span",{className:"pf-v5-u-pr-sm"},":")," ","Running"===l?n.createElement(M.dc,{title:l}):n.createElement(M.cc,{status:l}))},Y=e=>{const t=W(e);return t?`${t.type}: ${t.value}`:""},X=({obj:e,showNamespace:t})=>{const a={[Object(P.Db)(e)]:e,"csv-actions":{resource:e}};return n.createElement(n.Fragment,null,n.createElement(f.k,{className:K[0]},n.createElement(H.a,{obj:e})),n.createElement(f.k,{className:r(K[1],"co-break-word"),"data-test-operand-kind":e.kind},e.kind),t&&n.createElement(f.k,{className:K[2]},e.metadata.namespace?n.createElement(k.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}):"-"),n.createElement(f.k,{className:K[3]},n.createElement(J,{operand:e})),n.createElement(f.k,{className:K[4]},n.createElement(k.L,{kind:e.kind,labels:e.metadata.labels})),n.createElement(f.k,{className:K[5]},n.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(f.k,{className:K[6]},n.createElement(M.hb,{context:a,isDisabled:s.a(e.metadata,"deletionTimestamp")})))},Q=e=>Object(M.ed)(e),Z=e=>{const{t:t}=Object(m.useTranslation)(),{noAPIsFound:a,showNamespace:r}=e,o={title:t("public~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:K[0]}},s={title:t("public~Kind"),sortField:"kind",transforms:[l.a],props:{className:K[1]}},c={title:t("public~Namespace"),sortFunc:"getOperandNamespace",transforms:[l.a],props:{className:K[2]}},i={title:t("public~Status"),sortFunc:"operandStatus",transforms:[l.a],props:{className:K[3]}},d={title:t("public~Labels"),sortField:"metadata.labels",transforms:[l.a],props:{className:K[4]}},u={title:t("public~Last updated"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:K[5]}},p={title:"",props:{className:K[6]}},v=n.useMemo(()=>{var t,a,n;return null!==(n=null===(a=null===(t=e.data)||void 0===t?void 0:t.map)||void 0===a?void 0:a.call(t,t=>{if(t.apiVersion&&t.kind)return t;const a=e.kinds[0];return Object.assign({apiVersion:Object(P.o)(a),kind:Object(P.tb)(a)},t)}))&&void 0!==n?n:[]},[e.data,e.kinds]);return n.createElement(f.j,Object.assign({},e,{customSorts:{operandStatus:Y,getOperandNamespace:Q},data:v,EmptyMsg:()=>a?n.createElement(k.h,{title:t("olm~No provided APIs defined")},t("olm~This application was not properly installed or configured.")):n.createElement(k.h,{title:t("olm~No operands found")},t("olm~Operands are declarative components used to define the behavior of the application.")),"aria-label":"Operands",Header:r?()=>[o,s,c,i,d,u,p]:()=>[o,s,i,d,u,p],Row:e=>n.createElement(X,Object.assign({},e,{showNamespace:r})),virtualize:!0}))},ee=e=>{var t;const{t:a}=Object(m.useTranslation)(),l=Object(p.useLocation)(),[r]=Object(M.ue)(),[o]=Object(q.a)(),{obj:s,showTitle:d=!0,hideLabelFilter:g=!1,hideNameLabelFilters:h=!1,hideColumnManagement:E=!1}=e,[f,k]=Object(T.a)(),C=Object(p.useNavigate)(),w=Object(u.useDispatch)(),[I,_]=n.useState(!1),x=Object(G.j)(s),A=n.useCallback(e=>c.a(e,e=>i.a(e.data,e=>e)).filter(({kind:e,metadata:t},a,n)=>{return x.filter(t=>t.kind===e).length>0||(l=t.ownerReferences||[],r=n,l.filter(({uid:e})=>r.filter(({metadata:t})=>t.uid===e).length>0)).length>0;var l,r}),[x]),D=x.some(e=>{const t=Object(G.l)(e),a=f[t];return null==a?void 0:a.namespaced})&&B(s),V=D&&o,R=((e,t,a)=>t.reduce((t,n)=>{const l=Object(G.l)(n),r=null==e?void 0:e[l];if(!r)return t;const{apiGroup:o,apiVersion:s,kind:c,namespaced:i}=r;return Object.assign(Object.assign({},t),{[n.kind]:Object.assign({groupVersionKind:{group:o,version:s,kind:c},isList:!0,namespaced:i},i&&a?{namespace:a}:{})})},{}))(f,x,V?null:r),F=Object(S.b)(R),L=!k&&Object.keys(R).length<x.length;n.useEffect(()=>{!I&&L&&(w(Object(b.a)()),_(!0))},[L,I,w]);const $=x.length>1?x.reduce((e,t)=>Object.assign(Object.assign({},e),{[Object(G.l)(t)]:t.displayName||t.kind}),{}):{},U=n.useMemo(()=>A(F),[F,A]),H=Object.keys(R).length>1?[{filterGroupName:a("olm~Resource Kind"),type:"clusterserviceversion-resource-kind",reducer:({kind:e})=>e,items:Object.keys(R).map(e=>({id:Object(P.tb)(e),title:Object(P.tb)(e)})),filter:(e,t)=>!(e&&e.selected&&e.selected.length)||e.selected.includes(t.kind)}]:[],[K,W,J]=Object(O.useListPageFilter)(U,H),Y=Object.values(F).every(e=>e.loaded),X=null===(t=Object.values(F).find(e=>e.loadError))||void 0===t?void 0:t.loadError;return k?null:n.createElement(n.Fragment,null,n.createElement(y.default,{title:d?a("olm~All Instances"):void 0},D&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(z.a,null)),n.createElement(N.ListPageCreateDropdown,{onClick:e=>C(l.pathname.replace("instances",e)+"/~new"),items:$},a("olm~Create new"))),n.createElement(v.n,null,n.createElement(j.default,{data:K,loaded:Y,rowFilters:H,onFilterChange:J,hideNameLabelFilters:h,hideLabelFilter:g,hideColumnManagement:E}),n.createElement(Z,{data:W,loaded:Y,loadError:X,noAPIsFound:0===Object.keys(R).length,showNamespace:V})))},te=e=>{const{t:t}=Object(m.useTranslation)(),a=Object(p.useLocation)(),[l]=Object(q.a)(),{namespace:r,csv:o,showTitle:s=!0,hideLabelFilter:c=!1,hideNameLabelFilters:i=!1,hideColumnManagement:d=!1}=e,u=a.pathname+"/~new",{apiGroup:b,apiVersion:g,kind:h,namespaced:E,label:f,labelPlural:k}=e.k8sModel,C=E&&B(o),w=C&&l,[P,M,I]=Object(S.a)(Object.assign({groupVersionKind:{group:b,version:g,kind:h},isList:!0,namespaced:E},!w&&E&&r?{namespace:r}:{})),[_,T,x]=Object(O.useListPageFilter)(P);return n.createElement(n.Fragment,null,n.createElement(y.default,{title:s?""+k:void 0},C&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(z.a,null)),n.createElement(N.ListPageCreateLink,{to:u},t("public~Create {{label}}",{label:f}))),n.createElement(v.n,null,n.createElement(j.default,{data:_,loaded:M,onFilterChange:x,hideNameLabelFilters:i,hideLabelFilter:c,hideColumnManagement:d}),n.createElement(Z,{data:T,loaded:M,loadError:I,showNamespace:w})))},ae=e=>{const t=Object(A.a)(e.kind),[a]=Object(M.ue)(),[l,r]=Object(_.a)(e.kind),[o,s]=n.useState(!1),c=Object(u.useDispatch)(),i=!r&&!l;if(n.useEffect(()=>{!o&&i&&(c(Object(b.a)()),s(!0))},[c,o,i]),r&&!l)return null;if(!l)return n.createElement(h.ErrorPage404,null);const{apiGroup:d,apiVersion:m,kind:p}=l;return t?n.createElement(k.c,Object.assign({},e,{name:null,model:{group:d,version:m,kind:p},kind:e.kind,namespace:a,loader:t})):n.createElement(te,Object.assign({},e,{namespace:a,k8sModel:l}))},ne=({kindObj:e,obj:t,podStatusDescriptors:a,schema:l})=>(null==a?void 0:a.length)>0?n.createElement("div",{className:"row"},a.map(a=>n.createElement(R.a,{className:"col-sm-6",key:a.path,type:L.b.status,descriptor:a,model:e,obj:t,schema:l}))):null,le=Object(C.a)(({crd:e,csv:t,kindObj:a,obj:l})=>{var r,o,s,c,i,u,p,v,b,h,E,f;const{t:O}=Object(m.useTranslation)(),{kind:N,status:j}=l,[y,S]=n.useState(null),{displayName:C,specDescriptors:w,statusDescriptors:M,version:_}=null!==(p=[...null!==(s=null===(o=null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.customresourcedefinitions)||void 0===o?void 0:o.owned)&&void 0!==s?s:[],...null!==(u=null===(i=null===(c=null==t?void 0:t.spec)||void 0===c?void 0:c.customresourcedefinitions)||void 0===i?void 0:i.required)&&void 0!==u?u:[]].find(t=>{var n;return t.name===(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)&&t.version===(null==a?void 0:a.apiVersion)}))&&void 0!==p?p:{},T=null!==(f=null===(E=null===(h=null===(b=null===(v=null==e?void 0:e.spec)||void 0===v?void 0:v.versions)||void 0===b?void 0:b.find(e=>e.name===_))||void 0===h?void 0:h.schema)||void 0===E?void 0:E.openAPIV3Schema)&&void 0!==f?f:Object(P.r)(a),{podStatuses:x,mainStatusDescriptor:A,conditionsStatusDescriptors:D,otherStatusDescriptors:V}=(null!=M?M:[]).reduce((e,t)=>{var a,n,l,r,o;return Object($.e)(t)?Object.assign(Object.assign({},e),{mainStatusDescriptor:t}):(null===(a=t["x-descriptors"])||void 0===a?void 0:a.includes(L.d.conditions))||"conditions"===t.path?Object.assign(Object.assign({},e),{conditionsStatusDescriptors:[...null!==(n=e.conditionsStatusDescriptors)&&void 0!==n?n:[],t]}):(null===(l=t["x-descriptors"])||void 0===l?void 0:l.includes(L.d.podStatuses))?Object.assign(Object.assign({},e),{podStatuses:[...null!==(r=e.podStatuses)&&void 0!==r?r:[],t]}):Object.assign(Object.assign({},e),{otherStatusDescriptors:[...null!==(o=e.otherStatusDescriptors)&&void 0!==o?o:[],t]})},{});return n.createElement("div",{className:"co-operand-details co-m-pane"},n.createElement("div",{className:"co-m-pane__body"},y&&n.createElement(I.a,{message:y}),n.createElement(k.ob,{text:O("olm~{{kind}} overview",{kind:C||N})}),n.createElement(ne,{kindObj:a,obj:l,schema:T,podStatusDescriptors:x}),n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:l})),A&&n.createElement(R.a,{key:A.path,className:"col-sm-6",descriptor:A,model:a,obj:l,schema:T,type:L.b.status}),(null==V?void 0:V.length)>0&&n.createElement(R.b,{descriptors:V,itemClassName:"col-sm-6",model:a,obj:l,schema:T,type:L.b.status})))),!d.a(w)&&n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement(R.b,{descriptors:w,itemClassName:"col-sm-6",model:a,obj:l,onError:e=>S(e.message),schema:T,type:L.b.spec})))),Array.isArray(null==j?void 0:j.conditions)&&(null!=D?D:[]).every(({path:e})=>"conditions"!==e)&&n.createElement("div",{className:"co-m-pane__body","data-test":"status.conditions"},n.createElement(k.ob,{"data-test":"operand-conditions-heading",text:O("public~Conditions")}),n.createElement(g.b,{conditions:j.conditions})),(null==D?void 0:D.length)>0&&D.map(e=>n.createElement(F.a,{key:e.path,descriptor:e,schema:T,obj:l})))}),re=({k8sModel:e})=>{const{t:t}=Object(m.useTranslation)(),a=Object(p.useParams)(),{appName:l,ns:r,name:o,plural:s}=a,c=Object(p.useLocation)(),[i]=Object(V.a)(l,r),d=n.useCallback((e,t)=>{const a={[Object(P.Hb)(e)]:t,"csv-actions":{resource:t}};return n.createElement(M.hb,{context:a,variant:M.i.DROPDOWN})},[]);return n.createElement(f.a,{name:o,kind:s,namespace:r,customData:i,resources:[{kind:w.CustomResourceDefinitionModel.kind,name:Object(P.xb)(e),isList:!1,prop:"crd"}],customActionMenu:d,createRedirect:!0,breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:`/k8s/ns/${a.ns}/${D.ClusterServiceVersionModel.plural}`},{name:a.appName,path:c.pathname.slice(0,c.pathname.lastIndexOf("/"))},{name:t("olm~{{item}} details",{item:Object(P.tb)(a.plural)}),path:""+c.pathname}],pages:[k.mc.details(e=>n.createElement(le,Object.assign({},e,{csv:i}))),k.mc.editYaml(),{nameKey:"olm~Resources",href:"resources",component:U.a},k.mc.events(E.ResourceEventStream)]})},oe=e=>{const{plural:t,ns:a,name:l}=Object(p.useParams)(),r=Object(x.a)(t),[o,s]=Object(_.a)(t);if(s&&!o)return null;if(!o)return n.createElement(h.ErrorPage404,null);const{apiVersion:c,apiGroup:i,kind:d}=o;return r?n.createElement(k.c,Object.assign({},e,{model:{group:i,version:c,kind:d},namespace:a,kind:t,name:l,loader:r})):n.createElement(re,Object.assign({},e,{k8sModel:o}))};Z.displayName="OperandList",le.displayName="OperandDetails",ee.displayName="ProvidedAPIsPage",te.displayName="DefaultProvidedAPIPage",ae.displayName="ProvidedAPIPage",re.displayName="DefaultOperandDetailsPage",oe.displayName="OperandDetailsPage",X.displayName="OperandTableRow",ne.displayName="PodStatuses"},4488:function(e,t,a){"use strict";a.r(t),a.d(t,"OperatorHubList",(function(){return C})),a.d(t,"OperatorHubPage",(function(){return w}));var n=a(0),l=a(373),r=a(4387),o=a(137),s=a(7),c=a(14),i=a(761),d=a(5),m=a(8),u=a(994),p=a(15),v=a(442),b=a(198),g=a(1405),h=a(10),E=a(474),f=a(125),O=a(2235),N=a(7471),j=a(1947),y=a(59),k=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const S=()=>{const{t:e}=Object(s.useTranslation)("olm"),t=[n.createElement(d.z,{key:"more-info",href:"https://github.com/operator-framework/operator-marketplace",text:e("More info")})];return n.createElement(v.b,{title:e("No OperatorHub items found"),primaryActions:t},e("Check that the OperatorHub is running and that you have created a valid CatalogSource."))},C=e=>{var t,a,o,c,i,m,u,p,{loaded:v,loadError:b,namespace:h}=e,C=k(e,["loaded","loadError","namespace"]);const{t:w}=Object(s.useTranslation)(),P=n.useMemo(()=>{var e,t,a,n,r,o,s,c,i,d,m,u,p,N,k,S;if(!v||b)return[];const w=null!==(t=null===(e=C.operatorGroups)||void 0===e?void 0:e.data)&&void 0!==t?t:[],P=null!==(n=null===(a=C.subscriptions)||void 0===a?void 0:a.data)&&void 0!==n?n:[],M=null!==(o=null===(r=C.clusterServiceVersions)||void 0===r?void 0:r.data)&&void 0!==o?o:[],I=null!==(c=null===(s=C.cloudCredentials)||void 0===s?void 0:s.data)&&void 0!==c?c:null,_=null!==(d=null===(i=C.authentication)||void 0===i?void 0:i.data)&&void 0!==d?d:null,T=null!==(u=null===(m=C.infrastructure)||void 0===m?void 0:m.data)&&void 0!==u?u:null,x=null!==(N=null===(p=C.packageManifests)||void 0===p?void 0:p.data)&&void 0!==N?N:[],A=[...null!==(S=null===(k=C.marketplacePackageManifests)||void 0===k?void 0:k.data)&&void 0!==S?S:[],...x],D=Object(j.i)(I,T,_),V=Object(j.j)(I,T,_),R=Object(j.k)(I,T,_);return A.filter(e=>{var t,a;const{channels:n,defaultChannel:l}=null!==(t=e.status)&&void 0!==t?t:{};if(!l)return console.warn(`PackageManifest ${e.metadata.name} has no status.defaultChannel and has been excluded`),!1;const{currentCSVDesc:r}=n.find(e=>e.name===l);return!((null===(a=r.annotations)||void 0===a?void 0:a[y.d.OperatorType])===E.g)}).map(e=>{var t,a,n,r,o,s,c,i,d,m,u,p;const b=v&&Object(O.g)(P)(w)(e)(h),E=v&&((e,t)=>null==e?void 0:e.find(e=>e.metadata.name===t))(M,null===(t=null==b?void 0:b.status)||void 0===t?void 0:t.installedCSV),{channels:N,defaultChannel:k}=null!==(a=e.status)&&void 0!==a?a:{},{currentCSVDesc:S}=(N||[]).find(({name:e})=>e===k),C=null!==(n=null==S?void 0:S.annotations)&&void 0!==n?n:{},x=Object(j.c)(C,{clusterIsAWSSTS:D,clusterIsAzureWIF:V,clusterIsGCPWIF:R,onError:t=>((e,t)=>console.warn(`Error parsing infrastructure features from PackageManifest "${t.metadata.name}":`,e))(t,e)}),[A,F]=Object(j.h)(C,{onError:t=>((e,t)=>console.warn(`Error parsing valid subscription from PackageManifest "${t.metadata.name}":`,e))(t,e)}),{certifiedLevel:L,healthIndex:$,repository:G,containerImage:U,createdAt:H,support:z,capabilities:q,[y.d.ActionText]:K,[y.d.RemoteWorkflow]:W,[y.d.SupportWorkflow]:B}=C,J=v&&"Succeeded"===(null===(r=null==E?void 0:E.status)||void 0===r?void 0:r.phase);return{obj:e,kind:f.PackageManifestModel.kind,name:null!==(o=null==S?void 0:S.displayName)&&void 0!==o?o:e.metadata.name,uid:`${e.metadata.name}-${e.status.catalogSource}-${e.status.catalogSourceNamespace}`,installed:J,isInstalling:v&&!l.a(b)&&!l.a(null===(s=null==E?void 0:E.status)||void 0===s?void 0:s.phase)&&"Succeeded"!==(null===(c=null==E?void 0:E.status)||void 0===c?void 0:c.phase),subscription:b,installState:J?y.c.Installed:y.c.NotInstalled,imgUrl:Object(g.g)(e),description:C.description||S.description,longDescription:S.description||C.description,provider:null!==(d=null===(i=e.status.provider)||void 0===i?void 0:i.name)&&void 0!==d?d:null===(m=e.metadata.labels)||void 0===m?void 0:m.provider,tags:[],version:null==S?void 0:S.version,categories:(null!==(u=null==C?void 0:C.categories)&&void 0!==u?u:"").split(",").map(e=>e.trim()),catalogSource:e.status.catalogSource,source:Object(j.f)(e),catalogSourceNamespace:e.status.catalogSourceNamespace,certifiedLevel:L,healthIndex:$,repository:G,containerImage:U,createdAt:H,support:z,capabilityLevel:q,marketplaceActionText:K,marketplaceRemoteWorkflow:W,marketplaceSupportWorkflow:B,validSubscription:A,validSubscriptionFilters:F,infraFeatures:x,keywords:null!==(p=null==S?void 0:S.keywords)&&void 0!==p?p:[],cloudCredentials:I,infrastructure:T,authentication:_}})},[b,v,h,null===(t=C.authentication)||void 0===t?void 0:t.data,null===(a=C.cloudCredentials)||void 0===a?void 0:a.data,null===(o=C.clusterServiceVersions)||void 0===o?void 0:o.data,null===(c=C.infrastructure)||void 0===c?void 0:c.data,null===(i=C.marketplacePackageManifests)||void 0===i?void 0:i.data,null===(m=C.operatorGroups)||void 0===m?void 0:m.data,null===(u=C.packageManifests)||void 0===u?void 0:u.data,null===(p=C.subscriptions)||void 0===p?void 0:p.data]),M=r.a(P,"uid");return M.length!==P.length&&console.warn(P.length-M.length+" duplicate PackageManifests."),n.createElement(d.wb,{skeleton:d.yc,data:P,loaded:v,loadError:b,label:w("olm~Resources"),EmptyMsg:S},n.createElement(N.a,{items:M,namespace:h}))},w=Object(b.e)(e=>{const t=Object(c.useParams)(),a=Object(p.Je)(),l=Object(p.Nd)(i.p);return n.createElement(n.Fragment,null,n.createElement(o.a,null,n.createElement("title",null,"OperatorHub")),n.createElement("div",{className:"co-m-page__body"},n.createElement("div",{className:"co-catalog"},n.createElement(d.Z,{title:"OperatorHub"}),n.createElement("p",{className:"co-catalog-page__description"},a&&l?n.createElement(s.Trans,{ns:"olm"},"Discover Operators from the Kubernetes community and Red Hat partners, curated by Red Hat. You can purchase commercial software through"," ",n.createElement(d.z,{href:d.q},"Red Hat Marketplace"),". You can install Operators on your clusters to provide optional add-ons and shared services to your developers. After installation, the Operator capabilities will appear in the ",n.createElement(c.Link,{to:"/catalog"},"Developer Catalog")," providing a self-service experience."):n.createElement(s.Trans,{ns:"olm"},"Discover Operators from the Kubernetes community and Red Hat partners, curated by Red Hat. You can purchase commercial software through"," ",n.createElement(d.z,{href:d.q},"Red Hat Marketplace"),". You can install Operators on your clusters to provide optional add-ons and shared services to your developers. The Operator Backed Developer Catalog is currently disabled, thus Operator capabilities will not be exposed to developers.")),n.createElement("div",{className:"co-catalog__body"},n.createElement(d.C,{resources:[{isList:!0,kind:Object(m.Hb)(f.OperatorGroupModel),prop:"operatorGroups"},{isList:!0,kind:Object(m.Hb)(f.PackageManifestModel),namespace:t.ns,selector:{"openshift-marketplace":"true"},prop:"marketplacePackageManifests"},{isList:!0,kind:Object(m.Hb)(f.PackageManifestModel),namespace:t.ns,selector:Object(u.a)([{key:"opsrc-owner-name",operator:"DoesNotExist"},{key:"csc-owner-name",operator:"DoesNotExist"}]),prop:"packageManifests"},{isList:!0,kind:Object(m.Hb)(f.SubscriptionModel),prop:"subscriptions"},{kind:Object(m.Hb)(f.ClusterServiceVersionModel),namespaced:!0,isList:!0,namespace:t.ns,prop:"clusterServiceVersions"},{kind:Object(m.Hb)(h.CloudCredentialModel),prop:"cloudCredentials",name:"cluster"},{kind:Object(m.Hb)(h.InfrastructureModel),prop:"infrastructure",name:"cluster"},{kind:Object(m.Hb)(h.AuthenticationModel),prop:"authentication",name:"cluster"}]},n.createElement(C,Object.assign({},e,{namespace:t.ns})))))))},b.b);C.displayName="OperatorHubList",w.displayName="OperatorHubPage"},5409:function(e,t,a){"use strict";a.r(t),a.d(t,"getNumberOrPercent",(function(){return p})),a.d(t,"ConfigureUpdateStrategy",(function(){return v})),a.d(t,"ConfigureUpdateStrategyModal",(function(){return b})),a.d(t,"configureUpdateStrategyModal",(function(){return g}));var n=a(141),l=a(16),r=a(0),o=a(88),s=a(7),c=a(8),i=a(10),d=a(118),m=a(5),u=a(692);const p=e=>void 0===e?null:"string"==typeof e&&e.indexOf("%")>-1?e:n.a(e),v=e=>{const{showDescription:t=!0}=e,{t:a}=Object(s.useTranslation)();return r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"co-m-form-row"},r.createElement("p",null,a("public~How should the pods be replaced when a new revision is created?"))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-12"},r.createElement(u.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"RollingUpdate",checked:"RollingUpdate"===e.strategyType,title:a("public~RollingUpdate"),subTitle:a("public~(default)"),autoFocus:"RollingUpdate"===e.strategyType},r.createElement("div",{className:"co-m-radio-desc"},r.createElement("p",{className:"text-muted modal-paragraph"},a("public~Execute a smooth roll out of the new revision, based on the settings below")),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-unavailable",className:"control-label co-break-word"},a("public~Max unavailable"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-unavailable",value:e.maxUnavailable,onChange:t=>e.onChangeMaxUnavailable(t.target.value),"aria-describedby":"input-max-unavailable-help"}),e.replicas&&r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:a("public~Current desired pod count")},r.createElement("span",null,a("public~of pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-unavailable-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be unavailable during the update(optional)")))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-surge",className:"control-label co-break-word"},a("public~Max surge"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-surge",value:e.maxSurge,onChange:t=>e.onChangeMaxSurge(t.target.value),"aria-describedby":"input-max-surge-help"}),r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:a("public~Current desired pod count")},r.createElement("span",null,a("public~greater than pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-surge-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be scheduled above the original number of pods(optional)"))))))),r.createElement("div",{className:"col-sm-12"},r.createElement(u.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"Recreate",checked:"Recreate"===e.strategyType,title:a("public~Recreate"),desc:a("public~Shut down all existing pods before creating new ones"),autoFocus:"Recreate"===e.strategyType}))))},b=Object(m.Oc)(e=>{const[t,a]=r.useState(l.a(e.deployment.spec,"strategy.type")),[n,o]=r.useState(l.a(e.deployment.spec,"strategy.rollingUpdate.maxUnavailable","25%")),[m,u]=r.useState(l.a(e.deployment.spec,"strategy.rollingUpdate.maxSurge","25%")),{t:b}=Object(s.useTranslation)();return r.createElement("form",{onSubmit:a=>{a.preventDefault();const l={path:"/spec/strategy/rollingUpdate",op:"remove"};"RollingUpdate"===t&&(l.value={maxUnavailable:p(n||"25%"),maxSurge:p(m||"25%")},l.op="add");const r=Object(c.pb)(i.DeploymentModel,e.deployment,[l,{path:"/spec/strategy/type",value:t,op:"replace"}]);e.handlePromise(r,e.close)},name:"form",className:"modal-content"},r.createElement(d.d,null,b("public~Edit update strategy")),r.createElement(d.a,null,r.createElement(v,{strategyType:t,maxUnavailable:n,maxSurge:m,onChangeStrategyType:a,onChangeMaxUnavailable:o,onChangeMaxSurge:u,replicas:e.deployment.spec.replicas})),r.createElement(d.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:b("public~Save"),cancel:e.cancel}))}),g=Object(d.f)(b);v.displayName="ConfigureUpdateStrategy"},5411:function(e,t,a){"use strict";a.r(t),a.d(t,"CreateInitializationResourceButton",(function(){return _})),a.d(t,"OperatorInstallStatusPage",(function(){return R}));var n=a(0),l=a(966),r=a(19),o=a(1394),s=a(404),c=a(4341),i=a(80),d=a(192),m=a(296),u=a(137),p=a(7),v=a(14),b=a(13),g=a(976),h=a(2237),E=a(131),f=a(5),O=a(8),N=a(330),j=a(125),y=a(5893),k=a(4384),S=a(59),C=a(1947),w=a(1405);const P=({namespace:e})=>{const{t:t}=Object(p.useTranslation)(),a=t("olm~View installed Operators in Namespace {{namespace}}",{namespace:e}),l=t("olm~View installed Operators in all Namespaces");return n.createElement("div",{className:"co-operator-install-page__link"},n.createElement(v.Link,{"data-test":"view-installed-operators-btn",to:Object(f.uc)(j.ClusterServiceVersionModel,null,e)},e?a:l))},M=({namespace:e,csvName:t,obj:a})=>{var o,s;const{t:c}=Object(p.useTranslation)(),i=null===(s=null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations)||void 0===s?void 0:s[S.d.InitializationResource];return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},c("olm~Operator installation failed")),n.createElement("p",null,c("olm~The operator did not install successfully."),i&&n.createElement(n.Fragment,null," ",c("olm~The required custom resource can be created in the Operator's details view."))),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(v.Link,{to:Object(f.uc)(j.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},c("olm~View error"))),n.createElement(P,{namespace:e})))},I=({namespace:e,subscriptionObj:t,installObj:a,approve:o})=>{var s;const{t:c}=Object(p.useTranslation)(),i=Object(f.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e,verb:"patch"}),d="InstallPlan"===a.kind;return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},c("olm~Manual approval required")),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(w.a,{installPlan:a}),(d&&i||!d)&&n.createElement(n.Fragment,null,n.createElement(r.a,{variant:"primary",onClick:o},c("olm~Approve")),n.createElement(v.Link,{to:Object(f.uc)(j.SubscriptionModel,null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.name,e)+"?showDelete=true"},n.createElement(r.a,{className:"co-clusterserviceversion__button",variant:"secondary"},c("olm~Deny")))),!i&&d&&n.createElement(k.NeedInstallPlanPermissions,{installPlan:a}),n.createElement(P,{namespace:e})))},_=({disabled:e,initializationResource:t,obj:a})=>{const{t:l}=Object(p.useTranslation)(),o=Object(O.Db)(t),s=null==t?void 0:t.kind,c=n.createElement(r.a,{"aria-disabled":e,isDisabled:e,variant:"primary"},l("olm~Create {{item}}",{item:s}));return e?c:n.createElement(v.Link,{to:`${Object(f.uc)(j.ClusterServiceVersionModel,a.metadata.name,a.metadata.namespace)}/${o}/~new?useInitializationResource`},c)},T=({initializationResource:e,obj:t})=>{var a,l,r;const{t:o}=Object(p.useTranslation)(),s=null==e?void 0:e.kind,c=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.namespace,i=null===(r=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.annotations)||void 0===r?void 0:r.description;return n.createElement("div",{className:"co-clusterserviceversion__box"},n.createElement("span",{className:"co-resource-item"},n.createElement(f.hb,{kind:s,name:s,namespace:c}),n.createElement(b.v,{badgeAlt:!0},n.createElement(b.A,{icon:n.createElement(N.f,null),title:o("olm~Required")}))),n.createElement(h.SyncMarkdownView,{content:i}))},x=({namespace:e,csvName:t,obj:a})=>{var o;const{t:s}=Object(p.useTranslation)(),c=Object(C.d)(null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations,{onError:e=>Object(E.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},s("olm~Installed operator"),":  ",s(c?"olm~custom resource required":"olm~ready for use")),c&&n.createElement(n.Fragment,null,n.createElement("span",null,s("olm~The Operator has installed successfully. Create the required custom resource to be able to use this Operator.")),n.createElement(T,{initializationResource:c,obj:a})),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},c?n.createElement(_,{initializationResource:c,obj:a}):n.createElement(v.Link,{to:Object(f.uc)(j.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},s("olm~View Operator"))),n.createElement(P,{namespace:e})))},A=({namespace:e,obj:t})=>{var a,r,o,s,c;const{t:i}=Object(p.useTranslation)(),d=(null===(r=null===(a=t)||void 0===a?void 0:a.status)||void 0===r?void 0:r.reason)||"",m=(null===(s=null===(o=t)||void 0===o?void 0:o.status)||void 0===s?void 0:s.message)||"",u=Object(C.d)(null===(c=null==t?void 0:t.metadata)||void 0===c?void 0:c.annotations,{onError:e=>Object(E.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},i("olm~Installing Operator")),d&&n.createElement("p",{className:"text-muted"},d,": ",m),n.createElement("p",null,i("olm~The Operator is being installed. This may take a few minutes."),u&&n.createElement(n.Fragment,null," ",i("olm~Once the Operator is installed the required custom resource will be available for creation."))),u&&n.createElement(T,{initializationResource:u,obj:t}),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},u&&n.createElement(_,{disabled:!0,initializationResource:u,obj:t}),n.createElement(P,{namespace:e})))},D=({subscription:e})=>{var t,a,l,r,o;const{t:s}=Object(p.useTranslation)(),c=s("olm~Not found"),{currentCSV:i,catalogNamespace:d,pkg:m}=Object(v.useParams)(),[u,b,h]=Object(g.xb)({groupVersionKind:{group:j.PackageManifestModel.apiGroup,version:j.PackageManifestModel.apiVersion,kind:j.PackageManifestModel.kind},selector:{matchLabels:{"catalog-namespace":d}},fieldSelector:"metadata.name="+m,isList:!0}),E=null==u?void 0:u[0];if(!b)return n.createElement(f.T,null);if(h||!E)return n.createElement(y.a,{icon:null,displayName:h?s("olm~Error: {{loadError}}",{loadError:h}):c});const O=(null===(t=null==E?void 0:E.status)||void 0===t?void 0:t.channels)||[],N=O.find(e=>e.currentCSV===i)||O[0],k=(null===(a=null==N?void 0:N.currentCSVDesc)||void 0===a?void 0:a.displayName)||c,S=(null===(r=null===(l=null==E?void 0:E.status)||void 0===l?void 0:l.provider)||void 0===r?void 0:r.name)||"",C=null===(o=null==e?void 0:e.spec)||void 0===o?void 0:o.startingCSV;return n.createElement(y.a,{displayName:k,icon:Object(w.g)(E),provider:S,version:C})},V=({resources:e})=>{var t,a,l,r,b,g,h,f,y,S,C,w;const{t:P}=Object(p.useTranslation)(),{currentCSV:_,targetNamespace:T}=Object(v.useParams)();let V=!0,R="",F=null===(t=null==e?void 0:e.clusterServiceVersion)||void 0===t?void 0:t.data;const L=null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.data;if(R=null===(l=null==F?void 0:F.status)||void 0===l?void 0:l.phase,F&&R)V=!1;else if(L){V=!1,R=(null===(r=null==L?void 0:L.status)||void 0===r?void 0:r.state)||null;const t=(null===(g=null===(b=null==L?void 0:L.status)||void 0===b?void 0:b.installPlanRef)||void 0===g?void 0:g.name)||"",a=null===(f=null===(h=null==e?void 0:e.installPlans)||void 0===h?void 0:h.data)||void 0===f?void 0:f.find(e=>e.metadata.name===t);a&&(F=a)}const $="Succeeded"===R,G="Failed"===R,U="Manual"===(null===(y=null==F?void 0:F.spec)||void 0===y?void 0:y.approval)&&!1===(null===(S=null==F?void 0:F.spec)||void 0===S?void 0:S.approved),H=()=>{Object(O.pb)(j.InstallPlanModel,F,[{op:"replace",path:"/spec/approved",value:!0}]).catch(e=>{Object(E.s)({error:e.toString()})})};let z=n.createElement(o.a,{size:"lg"});G&&(z=n.createElement(s.a,{size:"lg"},n.createElement(N.f,null))),U&&(z=n.createElement(s.a,{size:"lg"},n.createElement(N.h,null))),$&&(z=n.createElement(s.a,{size:"lg"},n.createElement(N.e,null)));let q=n.createElement(A,{namespace:T,obj:F});return G?q=n.createElement(M,{namespace:T,obj:F,csvName:_}):U?q=n.createElement(I,{namespace:T,subscriptionObj:L,installObj:F,approve:H}):$&&(q=n.createElement(x,{namespace:T,csvName:_,obj:F})),n.createElement(n.Fragment,null,n.createElement("div",{className:"co-operator-install-page__main"},n.createElement(u.a,null,n.createElement("title",null,P("olm~Installing Operator"))),n.createElement(c.a,null,n.createElement("div",{id:"operator-install-page"},V&&n.createElement("div",{className:"co-operator-install-page__indicator"},P("olm~Installing...")," ",n.createElement(o.a,{size:"lg"})),!V&&G&&n.createElement(i.a,{variant:"danger",isInline:!0,title:"Installation Failed"},R,": ",(null===(w=null===(C=F)||void 0===C?void 0:C.status)||void 0===w?void 0:w.message)||""),!V&&n.createElement(d.a,null,n.createElement(m.a,null,n.createElement("div",{className:"co-operator-install-page__pkg-indicator"},n.createElement("div",null,n.createElement(D,{subscription:e.subscription.data})),n.createElement("div",null,z)))),!V&&n.createElement(d.a,null,n.createElement(m.a,null,q))))),!V&&U&&n.createElement(k.InstallPlanPreview,{obj:F,hideApprovalBlock:!0}))},R=()=>{const{pkg:e,currentCSV:t,targetNamespace:a}=Object(v.useParams)(),l=[{kind:Object(O.Hb)(j.ClusterServiceVersionModel),namespaced:!0,isList:!1,name:t,namespace:a,prop:"clusterServiceVersion"},{kind:Object(O.Hb)(j.SubscriptionModel),namespaced:!0,isList:!1,name:e,namespace:a,optional:!0,prop:"subscription"},{kind:Object(O.Hb)(j.InstallPlanModel),prop:"installPlans",namespaced:!0,namespace:a,isList:!0,optional:!0}];return n.createElement(f.C,{resources:l},n.createElement(V,null))}},5417:function(e,t,a){"use strict";a.r(t),a.d(t,"CloudServiceTokenWarningAlert",(function(){return U})),a.d(t,"OperatorHubSubscribeForm",(function(){return z})),a.d(t,"OperatorHubSubscribePage",(function(){return K}));var n=a(0),l=a(80),r=a(1939),o=a(281),s=a(472),c=a(966),i=a(19),d=a(501),m=a(22),u=a(460),p=a(1120),v=a(838),b=a(107),g=a(373),h=a(2015),E=a(137),f=a(7),O=a(14),N=a(692),j=a(5),y=a(108),k=a(175),S=a(10),C=a(8),w=a(994),P=a(30),M=a(125),I=a(146),_=a(2241),T=a(6624),x=a(5893),A=a(4385),D=a(5737),V=a(6120),R=a(1405),F=a(2235),L=a(6355),$=a(1947),G=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};const U=({title:e,message:t,onClose:a})=>n.createElement(l.a,{isInline:!0,variant:"warning",title:e,actionClose:n.createElement(r.a,{onClose:()=>a(!1)}),className:"pf-u-mb-lg"},n.createElement("p",null,t)),H=({label:e,helpText:t,placeholder:a,ariaLabel:l,value:r,setValue:s})=>n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},e),n.createElement(j.B,null,t),n.createElement("div",{className:"co-toolbar__item"},n.createElement(o.a,{autoFocus:!0,placeholder:a,"aria-label":l,type:"text",value:r,onChange:(e,t)=>{s(t)}})))),z=e=>{var t,a,r,o,z,q,K,W,B,J,Y,X,Q,Z,ee,te,ae,ne,le,re,oe,se,ce;const ie=null===(a=null===(t=e.packageManifest)||void 0===t?void 0:t.data)||void 0===a?void 0:a[0],{name:de}=null!==(r=null==ie?void 0:ie.metadata)&&void 0!==r?r:{},{provider:me,channels:ue=[],packageName:pe,catalogSource:ve,catalogSourceNamespace:be}=null!==(o=null==ie?void 0:ie.status)&&void 0!==o?o:{},{pathname:ge}=Object(O.useLocation)(),[he,Ee]=n.useState(""),[fe,Oe]=n.useState(""),[Ne,je]=n.useState(""),[ye,ke]=n.useState(""),[Se,Ce]=n.useState(""),[we,Pe]=n.useState(""),[Me,Ie]=n.useState(""),[_e,Te]=n.useState(""),[xe,Ae]=n.useState(null),[De,Ve]=n.useState(null),{catalogNamespace:Re,channel:Fe,pkg:Le,tokenizedAuth:$e,version:Ge}=Object(j.Ub)(),Ue=Object(R.d)(ie),[He,ze]=n.useState(Fe||Ue),{currentCSVDesc:qe}=null!==(z=ue.find(e=>e.name===He))&&void 0!==z?z:{},{installModes:Ke=[],version:We}=null!=qe?qe:{},[Be,Je]=n.useState(Ge||We),[Ye,Xe]=n.useState(!0),[Qe,Ze]=n.useState(Be!==We?I.e.Manual:I.e.Automatic),[et,tt]=n.useState(!1),[at,nt]=n.useState(!1),[lt,rt]=n.useState(!0),[ot,st]=n.useState(!0),ct=(null===(W=null===(K=null===(q=null==ie?void 0:ie.metadata)||void 0===q?void 0:q.labels)||void 0===K?void 0:K.provider)||void 0===W?void 0:W.includes("Red Hat"))&&"true"===(null===(B=qe.annotations)||void 0===B?void 0:B["console.openshift.io/operator-monitoring-default"]),[it,dt]=n.useState(ct),[mt,ut]=n.useState(""),[pt]=Object(y.a)({kind:Object(C.Hb)(S.ConsoleOperatorConfigModel),isList:!1,name:P.p}),[vt,bt]=n.useState([]),{t:gt}=Object(f.useTranslation)(),{deprecatedPackage:ht,deprecatedChannel:Et,deprecatedVersion:ft,setDeprecatedPackage:Ot}=Object(V.a)(),Nt=(null==ht?void 0:ht.deprecation)||(null==Et?void 0:Et.deprecation)||(null==ft?void 0:ft.deprecation);n.useEffect(()=>{Ot(d.a(null==ie?void 0:ie.status,"deprecation"))},[null==ie?void 0:ie.status,Ot]);const jt=new URLSearchParams({"details-item":`${new URLSearchParams(window.location.search).get("pkg")}-${new URLSearchParams(window.location.search).get("catalogNamespace")}`}),yt=De||Object(R.n)(e.packageManifest.data[0])(He).reduce((e,t)=>t.type===I.d.InstallModeTypeAllNamespaces?I.d.InstallModeTypeAllNamespaces:e,I.d.InstallModeTypeOwnNamespace),kt=null===(J=qe.annotations)||void 0===J?void 0:J["operatorframework.io/suggested-namespace"],St=null!==(Y=Object($.g)(qe.annotations,{onError:()=>console.error("Could not parse JSON annotation.")}))&&void 0!==Y?Y:{},Ct=null===(X=null==St?void 0:St.metadata)||void 0===X?void 0:X.name,wt="true"===(null===(Q=qe.annotations)||void 0===Q?void 0:Q["operatorframework.io/cluster-monitoring"]),Pt=Object($.d)(qe.annotations,{onError:()=>console.error("Operator Hub Subscribe: Could not get initialization resource.")}),Mt=Object(k.d)({group:S.ConsoleOperatorConfigModel.apiGroup,resource:S.ConsoleOperatorConfigModel.plural,verb:"patch",name:P.p}),It=Object($.b)(null==qe?void 0:qe.annotations),_t=n.useMemo(()=>Pt?Object(C.Db)(Pt):null,[Pt]),Tt=(null===(te=null===(ee=((null===(Z=e.operatorGroup)||void 0===Z?void 0:Z.data)||[]).find(e=>"global-operators"===e.metadata.name))||void 0===ee?void 0:ee.metadata)||void 0===te?void 0:te.namespace)||"openshift-operators";let xt=xe||e.targetNamespace;const At=Ct||kt;yt===I.d.InstallModeTypeAllNamespaces&&(xt=At?xe||At:xe||Tt),yt===I.d.InstallModeTypeOwnNamespace&&e.targetNamespace===Tt&&(xt=xe||"");const Dt=At&&At===xt,Vt=!lt&&Dt;n.useEffect(()=>{At?(Ae(At),Object(C.kb)(S.NamespaceModel,At).then(()=>{nt(!0),rt(!1)}).catch(()=>{nt(!1),rt(!1)})):rt(!1)},[At]),n.useEffect(()=>{Object(C.ob)(M.PackageManifestModel,{ns:xt,fieldSelector:"metadata.name="+de,labelSelector:Object(w.a)([{key:"catalog",operator:"Equals",values:[ve]},{key:"catalog-namespace",operator:"Equals",values:[be]}])}).then(e=>tt(m.a(e))).catch(()=>tt(!0))},[ve,be,de,e.packageManifest.data,xt]),n.useEffect(()=>{bt(Object(_.a)(ve)?It:[])},[ve,null===(ae=null==qe?void 0:qe.annotations)||void 0===ae?void 0:ae["console.openshift.io/plugins"]]);const Rt=Object(R.f)(e.subscription.data,xt);n.useEffect(()=>{Ge!==We||(null==Rt?void 0:Rt.length)>0||"AWS"===$e||"Azure"===$e||"GCP"===$e?Ze(I.e.Manual):Ze(I.e.Automatic)},[Ge,We,null==Rt?void 0:Rt.length,$e]);const Ft=Ke.find(e=>e.type===I.d.InstallModeTypeOwnNamespace),Lt=Ft&&Ft.supported,$t=Ke.find(e=>e.type===I.d.InstallModeTypeAllNamespaces),Gt=$t&&$t.supported,Ut=n.useCallback(e=>{j.Vb.push(`/operatorhub/install/${Re}/${Le}/${e}/to/${xt}`)},[Re,Le,xt]);if(!Lt&&!Gt)return n.createElement(j.h,{title:gt("olm~{{item}} can't be installed",{item:null===(le=null===(ne=null==ue?void 0:ue[0])||void 0===ne?void 0:ne.currentCSVDesc)||void 0===le?void 0:le.displayName})},gt("olm~The Operator does not support to be made available in a single namespace (OwnNamespace installMode) or global installation (AllNamespaces installMode).  Use the CLI to install this Operator instead."));const Ht=e=>e===I.d.InstallModeTypeAllNamespaces&&Gt?gt("olm~Operator will be available in all Namespaces."):e===I.d.InstallModeTypeOwnNamespace&&Lt?gt("olm~Operator will be available in a single Namespace only."):gt("olm~This mode is not supported by this Operator"),zt=t=>Object(F.a)(e.subscription.data)(e.operatorGroup.data)(e.packageManifest.data[0])(t),qt=t=>a=>{const n=e.operatorGroup.data.find(e=>e.metadata.namespace===t);return!n||!t||Object(F.h)([{type:a,supported:!0}])(n)},Kt=t=>{const a=e.operatorGroup.data.filter(e=>{var a,n;return(null===(n=null===(a=e.status)||void 0===a?void 0:a.namespaces)||void 0===n?void 0:n.includes(t))||Object(F.b)(e)});if(m.a(a))return[];const n=u.a(a,F.e),l=Object(R.k)(e.packageManifest.data[0])(He).map(e=>Object(R.l)(e));return p.a(n,l)},Wt=wt&&h.a(xt,"openshift-"),Bt=Object(j.Qb)(j.Lb.configuringMonitoring),Jt=Vt&&n.createElement(n.Fragment,null,n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:at?"warning":"info",title:gt(at?"olm~Namespace already exists":"olm~Namespace creation")},at?n.createElement(f.Trans,{ns:"olm"},"Namespace ",n.createElement("b",null,{operatorSuggestedNamespace:At})," already exists and will be used. Other users can already have access to this namespace."):n.createElement(f.Trans,{ns:"olm"},"Namespace ",n.createElement("b",null,{operatorSuggestedNamespace:At})," does not exist and will be created.")),Wt&&!at&&n.createElement("div",{className:"co-form-subsection"},n.createElement(s.a,{id:"enable-monitoring-checkbox","data-test":"enable-monitoring",label:gt("olm~Enable Operator recommended cluster monitoring on this Namespace"),onChange:(e,t)=>dt(t),isChecked:it,"data-checked-state":it}),!(null===(re=e.packageManifest.data[0].metadata.labels.provider)||void 0===re?void 0:re.includes("Red Hat"))&&n.createElement(l.a,{isInline:!0,className:"co-alert pf-v5-c-alert--top-margin",variant:"warning",title:gt("olm~Namespace monitoring")},n.createElement(n.Fragment,null,gt("olm~Please note that installing non-Red Hat operators into OpenShift namespaces and enabling monitoring voids user support. Enabling cluster monitoring for non-Red Hat operators can lead to malicious metrics data overriding existing cluster metrics."),!Object(j.hc)()&&n.createElement(f.Trans,{ns:"olm"}," ","For more information, see the"," ",n.createElement(j.z,{href:Bt},"cluster monitoring documentation"),"."))))),Yt=n.createElement("div",{className:"form-group"},n.createElement(N.b,{onChange:()=>{st(!0),Ae(At)},value:At,checked:ot,title:gt("olm~Operator recommended Namespace:")}," ",n.createElement(j.fb,{kind:"Project"}),n.createElement("b",null,At)),n.createElement(N.b,{onChange:()=>{st(!1),Ae(null)},value:At,checked:!ot,title:gt("olm~Select a Namespace")}),!ot&&n.createElement(n.Fragment,null,n.createElement(j.W,{id:"dropdown-selectbox",selectedKey:xt,onChange:e=>Ae(e),dataTest:"dropdown-selectbox"}),n.createElement(l.a,{isInline:!0,className:"co-alert pf-v5-c-alert--top-margin",variant:"warning",title:gt("olm~Not installing the Operator into the recommended namespace can cause unexpected behavior.")}))),Xt=n.createElement("div",{className:"form-group"},n.createElement(j.W,{id:"dropdown-selectbox",selectedKey:xt,onChange:e=>Ae(e),dataTest:"dropdown-selectbox"})),Qt=n.createElement(n.Fragment,null,At?n.createElement(n.Fragment,null,Yt):n.createElement(n.Fragment,null,Xt),ot&&Jt),Zt=kt?n.createElement(n.Fragment,null,Yt,ot&&Jt):n.createElement(n.Fragment,null,Xt),ea=Object(R.k)(e.packageManifest.data[0])(He),ta=Ge!==We||(null==Rt?void 0:Rt.length)>0;return n.createElement(n.Fragment,null,n.createElement(E.a,null,n.createElement("title",null,"Operator Installation")),n.createElement(j.Z,{title:gt("olm~Install Operator"),breadcrumbs:[{name:gt("olm~OperatorHub"),path:"/operatorhub?"+jt.toString()},{name:gt("olm~Operator Installation"),path:ge}],helpText:gt("olm~Install your Operator by subscribing to one of the update channels to keep the Operator up to date. The strategy determines either manual or automatic updates.")}),n.createElement("div",{className:"co-m-pane__body"},"AWS"===$e&&Ye&&n.createElement(U,{title:gt("olm~Cluster in STS Mode"),message:gt("olm~This cluster is using AWS Security Token Service to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, you will need to provide a role ARN (with an attached policy) during installation. Manual subscriptions are highly recommended as steps should be taken prior to upgrade to ensure that the permissions required by the next version are properly accounted for in the role. Please see the operator description for more details."),onClose:()=>Xe(!1)}),"Azure"===$e&&Ye&&n.createElement(U,{title:gt("olm~Cluster in Azure Workload Identity / Federated Identity Mode"),message:gt("olm~This cluster is using Azure Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Client ID, Tenant ID, and Subscription ID during installation. Manual subscriptions are highly recommended as steps should be taken before upgrade to ensure that the permissions required by the next version are properly accounted for in the role. See the operator description for more details."),onClose:()=>Xe(!1)})," ","GCP"===$e&&Ye&&n.createElement(U,{title:gt("olm~Cluster in GCP Workload Identity / Federated Identity Mode"),message:gt("olm~This cluster is using GCP Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Pool ID, Provider ID, and Service Account Email during installation. Manual subscriptions are highly recommended as steps should be taken before upgrade to ensure that the permissions required by the next version are properly accounted for in the role. See the operator description for more details."),onClose:()=>Xe(!1)}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement(n.Fragment,null,"AWS"===$e&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~role ARN"),helpText:gt("olm~The role ARN required for the operator to access the cloud API."),placeholder:gt("olm~role ARN"),ariaLabel:gt("olm~role ARN"),value:he,setValue:Ee})),"Azure"===$e&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~Azure Client ID"),helpText:gt("olm~The Azure Client ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Client ID"),ariaLabel:gt("olm~Azure Client ID"),value:Ne,setValue:je}),n.createElement(H,{label:gt("olm~Azure Tenant ID"),helpText:gt("olm~The Azure Tenant ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Tenant ID"),ariaLabel:gt("olm~Azure Tenant ID"),value:fe,setValue:Oe}),n.createElement(H,{label:gt("olm~Azure Subscription ID"),helpText:gt("olm~The Azure Subscription ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Subscription ID"),ariaLabel:gt("olm~Azure Subscription ID"),value:ye,setValue:ke})),"GCP"===$e&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~GCP Project Number"),helpText:gt("olm~The GCP Project Number required for the operator to access the cloud API."),placeholder:gt("olm~GCP Project Number"),ariaLabel:gt("olm~GCP Project Number"),value:Se,setValue:Ce}),n.createElement(H,{label:gt("olm~GCP Pool ID"),helpText:gt("olm~The GCP Pool ID required for the operator to access the cloud API."),placeholder:gt("olm~GCP Pool ID"),ariaLabel:gt("olm~GCP Pool ID"),value:we,setValue:Pe}),n.createElement(H,{label:gt("olm~GCP Provider ID"),helpText:gt("olm~The GCP Provider ID required for the operator to access the cloud API."),placeholder:gt("olm~GCP Provider ID"),ariaLabel:gt("olm~GCP Provider ID"),value:Me,setValue:Ie}),n.createElement(H,{label:gt("olm~Service Account Email"),helpText:gt("olm~The GCP Service Account Email required for the operator to access the cloud API."),placeholder:gt("olm~GCP Service Account Email"),ariaLabel:gt("olm~GCP Service Account Email"),value:_e,setValue:Te})),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Update channel")),n.createElement(j.B,null,gt("olm~The channel to track and receive the updates from.")),n.createElement(L.a,{packageManifest:e.packageManifest.data[0],selectedUpdateChannel:He,setUpdateChannel:ze,setUpdateVersion:Je}))),n.createElement("div",{className:"form-group form-group--doubled-bottom-margin"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Version")),n.createElement(L.b,{packageManifest:e.packageManifest.data[0],selectedUpdateChannel:He,updateVersion:Be,setUpdateVersion:Je,showVersionAlert:!0}))),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Installation mode")),n.createElement(N.b,{onChange:e=>{Ve(e.target.value),Ae(null),tt(!1)},value:I.d.InstallModeTypeAllNamespaces,checked:yt===I.d.InstallModeTypeAllNamespaces,disabled:!Gt,title:gt("olm~All namespaces on the cluster"),subTitle:gt("olm~(default)")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},Ht(I.d.InstallModeTypeAllNamespaces)))),n.createElement(N.b,{onChange:e=>{Ve(e.target.value),Ae(ot?At:null),tt(!1)},value:I.d.InstallModeTypeOwnNamespace,checked:yt===I.d.InstallModeTypeOwnNamespace,disabled:!Lt,title:gt("olm~A specific namespace on the cluster")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},Ht(I.d.InstallModeTypeOwnNamespace)))))),n.createElement("div",{className:"form-group form-group--doubled-bottom-margin"},n.createElement("label",{className:"co-required",htmlFor:"dropdown-selectbox"},gt("olm~Installed Namespace")),yt===I.d.InstallModeTypeAllNamespaces&&Qt,yt===I.d.InstallModeTypeOwnNamespace&&Zt),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Update approval")),n.createElement(j.B,null,gt("olm~The strategy to determine either manual or automatic updates.")),n.createElement(N.a,{currentValue:Qe,items:[{value:I.e.Automatic,title:gt("olm~Automatic"),disabled:ta},{value:I.e.Manual,title:gt("olm~Manual")}],onChange:e=>{const{value:t}=e.currentTarget;Ze(t),t===I.e.Automatic&&Je(We)}}),Qe===I.e.Automatic&&(null==Rt?void 0:Rt.length)>0&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--margin-top",variant:"info",title:gt("olm~Will function as manual approval strategy")},n.createElement(R.b,{subscriptions:Rt,namespace:xt})),Qe===I.e.Manual&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--margin-top",variant:"info",title:gt("olm~Manual approval applies to all operators in a namespace")},n.createElement(f.Trans,{ns:"olm"},"Installing an operator with manual approval causes all operators installed in namespace ",n.createElement("strong",null,{selectedTargetNamespace:xt})," to function as manual approval strategy and will be updated altogether. Install operators into separate namespaces for handling their updates independently. To allow automatic approval, all operators installed in the namespace must use automatic approval strategy.")))),It.length>0&&pt&&Mt&&n.createElement(T.a,{catalogSource:ve,csvPlugins:It,enabledPlugins:vt,setPluginEnabled:(e,t)=>{bt(t?[...vt,e]:vt.filter(t=>t!==e))}})),Nt&&n.createElement(D.a,{deprecatedPackage:ht,deprecatedChannel:Et,deprecatedVersion:ft}),n.createElement("div",{className:"co-form-section__separator"}),mt&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:"danger",title:gt("olm~An error occurred")},n.createElement("div",{className:"co-pre-line"},mt))||!qt(xt)(yt)&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Namespace does not support installation mode")},yt===I.d.InstallModeTypeOwnNamespace&&xt===Tt?n.createElement(n.Fragment,null,gt("olm~The {{namespace}} Namespace is reserved for global Operators that watch all Namespaces. To install an Operator in a single Namespace, select a different Namespace where the operand should run.",{namespace:xt})):n.createElement(n.Fragment,null,gt("olm~The OperatorGroup in the {{namespace}} Namespace does not support the {{mode}} installation mode. Select a different installation Namespace that supports this mode.",{namespace:xt,mode:yt===I.d.InstallModeTypeAllNamespaces?" global ":" single-Namespace "})))||zt(xt)&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt('olm~A Subscription for this Operator already exists in Namespace "{{namespace}}"',{namespace:xt})},n.createElement("p",null,n.createElement(f.Trans,{t:gt,ns:"olm"},"Remove the"," ",n.createElement(O.Link,{to:Object(j.uc)(M.SubscriptionModel,pe,xt)},"existing Subscription")," ","in order to install this Operator in Namespace ",'"',{selectedTargetNamespace:xt},'"')))||!m.a(Kt(xt))&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Operator conflicts exist")},gt("olm~Installing this Operator in the selected Namespace would cause conflicts with another Operator providing these APIs:"),n.createElement("ul",null,Kt(xt).map(e=>n.createElement("li",{key:e},n.createElement("strong",null,Object(C.tb)(e))," ",n.createElement("i",null,"(",Object(C.o)(e),")")))))||xt&&et&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Operator not available for selected Namespaces")}),n.createElement(c.a,{className:"pf-v5-c-form"},n.createElement(i.a,{"data-test":"install-operator",onClick:()=>G(void 0,void 0,void 0,(function*(){var t,a,n,l,r;ut("");const o={metadata:{name:xt,labels:wt&&it?{"openshift.io/cluster-monitoring":"true"}:{}}},s=v.a({},o,St),c=xt+"-prometheus",i=null===(a=null===(t=null==ie?void 0:ie.status)||void 0===t?void 0:t.channels)||void 0===a?void 0:a.find(e=>e.name===He),d=null===(l=null===(n=null==i?void 0:i.entries)||void 0===n?void 0:n.find(e=>e.version===Be))||void 0===l?void 0:l.name,m={kind:S.RoleModel.kind,apiVersion:`${S.RoleModel.apiGroup}/${S.RoleModel.apiVersion}`,metadata:{name:c,namespace:xt},rules:[{apiGroups:[""],resources:["services","endpoints","pods"],verbs:["get","list","watch"]}]},u={kind:S.RoleBindingModel.kind,apiVersion:`${S.RoleBindingModel.apiGroup}/${S.RoleBindingModel.apiVersion}`,metadata:{name:c,namespace:xt},roleRef:{kind:"Role",name:c,apiGroup:S.RoleBindingModel.apiGroup},subjects:[{kind:"ServiceAccount",name:"prometheus-k8s",namespace:"openshift-monitoring"}]},p=Object.assign({apiVersion:Object(C.n)(M.OperatorGroupModel),kind:"OperatorGroup",metadata:{generateName:xt+"-",namespace:xt}},yt===I.d.InstallModeTypeAllNamespaces?{}:{spec:{targetNamespaces:[xt]}}),g={apiVersion:Object(C.n)(M.SubscriptionModel),kind:"Subscription",metadata:{name:pe,namespace:xt},spec:{source:ve,sourceNamespace:be,name:pe,startingCSV:d,channel:He,installPlanApproval:Qe}};switch($e){case"AWS":g.spec.config={env:[{name:"ROLEARN",value:he}]};break;case"Azure":g.spec.config={env:[{name:"CLIENTID",value:Ne},{name:"TENANTID",value:fe},{name:"SUBSCRIPTIONID",value:ye}]};break;case"GCP":g.spec.config={env:[{name:"PROJECT_NUMBER",value:Se},{name:"POOL_ID",value:we},{name:"PROVIDER_ID",value:Me},{name:"SERVICE_ACCOUNT_EMAIL",value:_e}]}}try{Dt&&!at&&(yield Object(C.jb)(S.NamespaceModel,s),wt&&it&&(yield Object(C.jb)(S.RoleModel,m),yield Object(C.jb)(S.RoleBindingModel,u))),e.operatorGroup.data.some(e=>e.metadata.namespace===xt)||(yield Object(C.jb)(M.OperatorGroupModel,p)),yield Object(C.jb)(M.SubscriptionModel,g);const t=(null===(r=null==pt?void 0:pt.spec)||void 0===r?void 0:r.plugins)||[],a=[...t.filter(e=>!It.includes(e)),...vt];!b.a(t.sort(),a.sort())&&Mt&&(yield Object(C.pb)(S.ConsoleOperatorConfigModel,pt,[{path:"/spec/plugins",value:a,op:"add"}])),Ut(d)}catch(e){ut(e.message||gt("olm~Could not create Operator Subscription."))}})),isDisabled:[He,yt,xt,Qe].some(e=>g.a(e)||m.a(e))||zt(xt)||!qt(xt)(yt)||xt&&et||!m.a(Kt(xt))||"AWS"===$e&&m.a(he)||"Azure"===$e&&[Ne,fe,ye].some(e=>m.a(e))||"GCP"===$e&&[Se,we,Me,_e].some(e=>m.a(e)),variant:"primary"},gt("olm~Install")),n.createElement(i.a,{variant:"secondary",onClick:()=>j.Vb.push("/operatorhub")},gt("public~Cancel")))),n.createElement("div",{className:"col-xs-6"},n.createElement(x.a,{displayName:(null==qe?void 0:qe.displayName)||(null===(se=null===(oe=null==ue?void 0:ue[0])||void 0===oe?void 0:oe.currentCSVDesc)||void 0===se?void 0:se.displayName),icon:Object(R.g)(e.packageManifest.data[0]),provider:me,deprecation:null===(ce=null==ie?void 0:ie.status)||void 0===ce?void 0:ce.deprecation}),n.createElement("h4",null,gt("olm~Provided APIs")),n.createElement("div",{className:"co-crd-card-row"},ea.length?ea.map(e=>n.createElement(A.CRDCard,{key:Object(R.l)(e),canCreate:!1,crd:e,csv:null,required:Object(R.l)(e)===_t})):n.createElement("span",{className:"text-muted"},gt("olm~No Kubernetes APIs are provided by this Operator.")))))))},q=e=>n.createElement(j.wb,{data:e.packageManifest.data[0],loaded:e.loaded,loadError:e.loadError},n.createElement(z,Object.assign({},e))),K=e=>n.createElement(j.C,{resources:[{isList:!0,kind:Object(C.Hb)(M.OperatorGroupModel),prop:"operatorGroup"},{isList:!0,kind:Object(C.Hb)(M.PackageManifestModel),namespace:new URLSearchParams(window.location.search).get("catalogNamespace"),fieldSelector:"metadata.name="+new URLSearchParams(window.location.search).get("pkg"),selector:{matchLabels:{catalog:new URLSearchParams(window.location.search).get("catalog")}},prop:"packageManifest"},{isList:!0,kind:Object(C.Hb)(M.SubscriptionModel),prop:"subscription"}]},n.createElement(q,Object.assign({},e,{targetNamespace:new URLSearchParams(window.location.search).get("targetNamespace")||null})));q.displayName="OperatorHubSubscribe",z.displayName="OperatorHubSubscribeForm",K.displayName="OperatorHubSubscribePage"},5737:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return g}));var n,l=a(0),r=a(88),o=a(351),s=a(6351),c=a(80),i=a(1939),d=a(7),m=a(976);!function(e){e.PackageDeprecated="PackageDeprecated",e.ChannelDeprecated="ChannelDeprecated",e.VersionDeprecated="BundleDeprecated"}(n||(n={}));const u=(e,t)=>{var a,n;return{deprecation:null===(n=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===n?void 0:n.find(e=>e.type===t)}},p=e=>({deprecatedPackage:u(e,n.PackageDeprecated),deprecatedChannel:u(e,n.ChannelDeprecated),deprecatedVersion:u(e,n.VersionDeprecated)}),v=({deprecation:e,className:t})=>{const{t:a}=Object(d.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(o.a,{"data-test":"deprecated-operator-warning-badge",color:"orange",className:t,icon:l.createElement(m.Y,null)},a("olm~Deprecated")))},b=({deprecation:e,dataTest:t})=>{const{t:a}=Object(d.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(m.Y,{dataTest:t,className:"pf-v5-u-ml-xs"}))},g=({deprecatedPackage:e,deprecatedChannel:t,deprecatedVersion:a,dismissible:n})=>{var r,o,m;const{t:u}=Object(d.useTranslation)(),[p,v]=l.useState(!0);return p&&l.createElement(s.a,{className:"pf-v5-u-my-md"},l.createElement(c.a,{variant:"warning",title:u("olm~Deprecated warnings"),"aria-live":"polite",isInline:!0,actionClose:n&&l.createElement(i.a,{onClose:()=>v(!1)})},l.createElement("div",{"data-test":"deprecated-operator-warning-package"},null===(r=null==e?void 0:e.deprecation)||void 0===r?void 0:r.message),l.createElement("div",{"data-test":"deprecated-operator-warning-channel"},null===(o=null==t?void 0:t.deprecation)||void 0===o?void 0:o.message),l.createElement("div",{"data-test":"deprecated-operator-warning-version"},null===(m=null==a?void 0:a.deprecation)||void 0===m?void 0:m.message)))}},5759:function(e,t,a){"use strict";var n,l,r,o;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return o})),function(e){e.spec="spec",e.status="status"}(n||(n={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.endpointList="urn:alm:descriptor:com.tectonic.ui:endpointList",e.label="urn:alm:descriptor:com.tectonic.ui:label",e.resourceRequirements="urn:alm:descriptor:com.tectonic.ui:resourceRequirements",e.selector="urn:alm:descriptor:com.tectonic.ui:selector:",e.namespaceSelector="urn:alm:descriptor:com.tectonic.ui:namespaceSelector",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.booleanSwitch="urn:alm:descriptor:com.tectonic.ui:booleanSwitch",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.checkbox="urn:alm:descriptor:com.tectonic.ui:checkbox",e.imagePullPolicy="urn:alm:descriptor:com.tectonic.ui:imagePullPolicy",e.updateStrategy="urn:alm:descriptor:com.tectonic.ui:updateStrategy",e.text="urn:alm:descriptor:com.tectonic.ui:text",e.number="urn:alm:descriptor:com.tectonic.ui:number",e.nodeAffinity="urn:alm:descriptor:com.tectonic.ui:nodeAffinity",e.podAffinity="urn:alm:descriptor:com.tectonic.ui:podAffinity",e.podAntiAffinity="urn:alm:descriptor:com.tectonic.ui:podAntiAffinity",e.fieldGroup="urn:alm:descriptor:com.tectonic.ui:fieldGroup:",e.arrayFieldGroup="urn:alm:descriptor:com.tectonic.ui:arrayFieldGroup:",e.select="urn:alm:descriptor:com.tectonic.ui:select:",e.advanced="urn:alm:descriptor:com.tectonic.ui:advanced",e.fieldDependency="urn:alm:descriptor:com.tectonic.ui:fieldDependency:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(l||(l={})),function(e){e.podStatuses="urn:alm:descriptor:com.tectonic.ui:podStatuses",e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.w3Link="urn:alm:descriptor:org.w3:link",e.conditions="urn:alm:descriptor:io.kubernetes.conditions",e.text="urn:alm:descriptor:text",e.prometheusEndpoint="urn:alm:descriptor:prometheusEndpoint",e.k8sPhase="urn:alm:descriptor:io.kubernetes.phase",e.k8sPhaseReason="urn:alm:descriptor:io.kubernetes.phase:reason",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(r||(r={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden",e.password="urn:alm:descriptor:com.tectonic.ui:password"}(o||(o={}))},5796:function(e,t,a){"use strict";a.d(t,"f",(function(){return v})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return E})),a.d(t,"b",(function(){return f})),a.d(t,"e",(function(){return O}));var n=a(5764),l=a(1031),r=a(663),o=a(384),s=a(16),c=a(373),i=a(70),d=a(113),m=a(15),u=a(6015),p=a(5759);const v=(e,t,a,n)=>{const c=Object(m.Gd)(a,`${e}.${t.path}`),i=[e,...l.a(t.path)],d=t.displayName||(null==c?void 0:c.title)||r.a(o.a(i));return{description:(null==t?void 0:t.description)||(null==c?void 0:c.description)||"",displayName:d,fullPath:i,propertySchema:c,value:s.a(n,i,t.value)}},b=e=>e.reduce((e,t)=>{var a,n,l,r,o,s,c,i;if(u.k.test(t.path)||(null===(a=null==t?void 0:t["x-descriptors"])||void 0===a?void 0:a.includes(p.a.hidden)))return e;if(u.g.test(t.path))return(()=>{var a,n,l,r,o,s,c,i,d,m,p,v,b,g,h;const[,E,f]=null!==(a=t.path.match(u.g))&&void 0!==a?a:[],[,O,N]=null!==(n=null==E?void 0:E.match(u.h))&&void 0!==n?n:[];return N?Object.assign(Object.assign({},e),{[O]:Object.assign(Object.assign({},null!==(l=null==e?void 0:e[O])&&void 0!==l?l:{}),{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[O])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[N]:Object.assign(Object.assign(Object.assign({},null!==(i=null===(c=null===(s=null==e?void 0:e[O])||void 0===s?void 0:s.nested)||void 0===c?void 0:c[N])&&void 0!==i?i:{}),{arrayGroupPath:E,isArrayGroup:!0}),f?{nested:Object.assign(Object.assign({},null!==(v=null===(p=null===(m=null===(d=null==e?void 0:e[O])||void 0===d?void 0:d.nested)||void 0===m?void 0:m[N])||void 0===p?void 0:p.nested)&&void 0!==v?v:{}),{[f]:t})}:{elementDescriptor:t})})})}):Object.assign(Object.assign({},e),{[O]:Object.assign(Object.assign(Object.assign({},null!==(b=null==e?void 0:e[O])&&void 0!==b?b:{}),{arrayGroupPath:E,isArrayGroup:!0}),f?{nested:Object.assign(Object.assign({},null!==(h=null===(g=null==e?void 0:e[O])||void 0===g?void 0:g.nested)&&void 0!==h?h:{}),{[f]:t})}:{elementDescriptor:t})})})();const[,d,m]=null!==(n=t.path.match(u.h))&&void 0!==n?n:[];return d?Object.assign(Object.assign({},e),{[d]:Object.assign(Object.assign({},null!==(l=null==e?void 0:e[d])&&void 0!==l?l:{}),m?{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[d])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[m]:Object.assign(Object.assign({},null!==(i=null===(c=null===(s=null==e?void 0:e[d])||void 0===s?void 0:s.nested)||void 0===c?void 0:c[m])&&void 0!==i?i:{}),{descriptor:t})})}:{descriptor:t})}):e},{}),g=e=>l.a(e.path).join("/");function h(e,t){var a;const n=(e=>{switch(e){case"object":return[...u.c,...u.e];case"array":return[...u.c,...u.a];default:return[...u.c,...u.f]}})(t);return(null!==(a=null==e?void 0:e["x-descriptors"])&&void 0!==a?a:[]).filter(a=>{const l="any"===t||n.some(e=>a.startsWith(e));return u.d.some(e=>a.startsWith(e))&&console.warn(`[Deprecated x-descriptor] "${a}" is deprecated and support will be removed in a future release.`,e),!!l||(console.warn(`[Invalid x-descriptor] "${a}" is incompatible with ${t} values and will have no effect`,e),!1)}).sort((e,t)=>{const a=u.b.findIndex(t=>e.startsWith(t)),n=u.b.findIndex(e=>t.startsWith(e));return a<0||n<0?n-a:a-n})}function E(e,t){return h(e,(e=>c.a(e)?"any":i.a(e)?"array":d.a(e)?"object":"primitive")(t))}function f(e,t){return h(e,Object(n.getSchemaType)(t))}const O=e=>"status"===e.path||"Status"===e.displayName},5893:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a(447),r=a(22),o=a(16),s=a(7),c=a(6003),i=a.n(c),d=a(5737);const m=e=>{const{icon:t,displayName:a,provider:c,version:m,deprecation:u}=e,{t:p}=Object(s.useTranslation)(),v=l.a(t)?t:r.a(t)?i.a:`data:${t.mediatype};base64,${t.base64data}`;return n.createElement("div",{className:"co-clusterserviceversion-logo"},n.createElement("div",{className:"co-clusterserviceversion-logo__icon"},n.createElement("span",{className:"co-catalog-item-icon__bg"},n.createElement("img",{className:"co-catalog-item-icon__img co-catalog-item-icon__img--large",src:v,alt:a,"aria-hidden":!0}))),n.createElement("div",{className:"co-clusterserviceversion-logo__name"},n.createElement("h1",{className:"co-clusterserviceversion-logo__name__clusterserviceversion"},a," ",u&&n.createElement(d.b,{className:"pf-v5-u-ml-sm",deprecation:u})),c&&n.createElement("span",{className:"co-clusterserviceversion-logo__name__provider text-muted"},p("olm~{{version}} provided by {{provider}}",{version:m||"",provider:o.a(c,"name",c)}))))}},5942:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return d}));var n=a(0),l=a(18),r=a(14),o=a(5),s=a(8),c=a(125);const i=()=>window.location.pathname.split("/").find((e,t,a)=>a[t-1]===Object(s.Hb)(c.ClusterServiceVersionModel)||a[t-1]===c.ClusterServiceVersionModel.plural),d=e=>{const{namespace:t,name:a}=e.obj.metadata,d=e.csvName||i(),m=Object(s.Db)(e.obj),u=t?`/k8s/ns/${t}/${c.ClusterServiceVersionModel.plural}/${d}/${m}/${a}`:`/k8s/cluster/${m}/${a}`,p=l("co-resource-item",{"co-resource-item--inline":e.inline});return n.createElement("span",{className:p},n.createElement(o.fb,{kind:Object(s.Db)(e.obj)}),n.createElement(r.Link,{to:u,className:"co-resource-item__resource-name",onClick:e.onClick,"data-test-operand-link":a,"data-test":a},a))};d.displayName="OperandLink"},6003:function(e,t,a){e.exports=a.p+"assets/packages/operator-lifecycle-manager/src/operator.svg"},6015:function(e,t,a){"use strict";a.d(t,"j",(function(){return c})),a.d(t,"l",(function(){return i})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"k",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return g})),a.d(t,"a",(function(){return h})),a.d(t,"f",(function(){return E})),a.d(t,"b",(function(){return f}));var n=a(2323),l=a(5759);const r=n.a(l.c.k8sResourcePrefix),o=n.a(l.c.fieldDependency),s=n.a(l.c.select),c=new RegExp(`^${r}(?:core[:~]v1[:~])?([^?]*)[?]?(.*)$`),i=new RegExp(s+"(.*)$"),d=new RegExp(`^${o}([^:]*):(.*)$`),m=/^(.*)\[\d+\]\.?(.*)$/,u=/^.*\[\d+\]\.?.*\[\d+\]\.?.*$/,p=/^([^.]*)\.?(.*)$/,v=[l.c.arrayFieldGroup,l.c.fieldGroup,l.c.namespaceSelector,l.c.label],b=[l.c.advanced,l.c.fieldDependency,l.c.hidden,l.c.arrayFieldGroup,l.c.fieldGroup],g=[l.d.podStatuses,l.c.updateStrategy,l.c.nodeAffinity,l.c.podAffinity,l.c.podAntiAffinity,l.c.resourceRequirements,l.c.selector,l.c.label,l.c.namespaceSelector],h=[l.c.endpointList,l.d.conditions],E=[l.d.k8sPhase,l.d.k8sPhaseReason,l.c.k8sResourcePrefix,l.c.imagePullPolicy,l.c.podCount,l.c.select,l.d.w3Link,l.c.booleanSwitch,l.c.checkbox,l.c.password,l.c.text,l.d.text,l.c.number,l.c.label],f=[l.c.hidden,l.c.endpointList,l.d.conditions,l.c.resourceRequirements,l.c.updateStrategy,l.d.podStatuses,l.c.selector,l.c.k8sResourcePrefix,l.c.podCount,l.c.password,l.d.k8sPhaseReason,l.c.booleanSwitch,l.c.checkbox,l.d.w3Link,l.c.select,l.c.imagePullPolicy,l.d.k8sPhase,l.c.text,l.d.text,l.c.number,l.c.podAntiAffinity,l.c.podAffinity,l.c.nodeAffinity,l.c.advanced,l.c.fieldDependency,...v]},6017:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const l=({name:e,label:t,checked:a,onChange:l})=>n.createElement("div",{className:"form-group"},n.createElement("div",{className:"checkbox"},n.createElement("label",{className:"control-label"},n.createElement("input",{"data-test":t+"__checkbox",className:"form-checkbox",name:e,onChange:l,checked:a,"data-checked-state":a,type:"checkbox"}),t)))},6037:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var n=a(0),l=a(4357),r=a(80),o=a(50),s=a(7),c=a(77),i=a(697),d=a(53),m=a(109),u=a(6017),p=a(118),v=a(5),b=a(108),g=a(175),h=a(10),E=a(8),f=a(15),O=a(30),N=a(2234),j=a(6176),y=a(197),k=a(474),S=a(125),C=a(5942),w=a(59),P=a(1947),M=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};const I={kind:"DeleteOptions",apiVersion:"v1",propagationPolicy:"Foreground"},_=({cancel:e,close:t,csv:a,k8sKill:l,subscription:r})=>{var o,C,_,A,D,$,G,U,H,z;const{t:q}=Object(s.useTranslation)(),[K,W,B]=Object(N.a)(),[J,Y]=n.useState(!0),[X,Q]=n.useState(!1),[Z,ee]=n.useState(!1),[te,ae]=n.useState(!1),[ne,le]=n.useState(0),[re,oe]=n.useState(!1),[se,ce]=n.useState([]),[ie,de]=n.useState(!1),[me,ue]=n.useState(""),pe=Object(g.d)({group:h.ConsoleOperatorConfigModel.apiGroup,resource:h.ConsoleOperatorConfigModel.plural,verb:"patch",name:O.p}),ve=Object(P.b)(null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations),[be]=Object(b.a)(pe&&ve.length>0?{kind:Object(E.Hb)(h.ConsoleOperatorConfigModel),isList:!1,name:O.p}:null),ge=ve.filter(e=>Object(y.X)(be,e)),he=!!be&&pe&&ge.length>0,Ee=null===(C=null==r?void 0:r.spec)||void 0===C?void 0:C.name,fe=null===(_=null==r?void 0:r.metadata)||void 0===_?void 0:_.namespace,Oe=W||te,Ne=!Oe&&(!Z||re)&&X,je=se.length>0||""!==B,ye="true"===(null===(D=null===(A=null==a?void 0:a.metadata)||void 0===A?void 0:A.annotations)||void 0===D?void 0:D["console.openshift.io/disable-operand-delete"]),[ke,Se,Ce]=Object(j.a)(Ee,fe),we=n.useCallback(()=>M(void 0,void 0,void 0,(function*(){var e;const t=he?Object(y.x)(be,ge):null,a=[l(S.SubscriptionModel,r,{},I),...(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV)&&(yield M(void 0,void 0,void 0,(function*(){try{return yield Object(c.j)({model:S.ClusterServiceVersionModel,name:r.status.installedCSV,ns:r.metadata.namespace}),!0}catch(e){return 404!==e.response.status&&ue(e.message),!1}})))?[l(S.ClusterServiceVersionModel,{metadata:{name:r.status.installedCSV,namespace:r.metadata.namespace}},{},I)]:[],...he?[Object(E.pb)(h.ConsoleOperatorConfigModel,be,[t])]:[]];K(Promise.all(a)).then(()=>{Q(!0)}).catch(()=>{Q(!0)})})),[be,ge,K,l,he,r]),Pe=n.useCallback(e=>{ae(!1),oe(!0),e?we():(de(!0),Q(!0))},[we]),Me=n.useCallback(()=>{const e=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${Ee}&namespace=${fe}`,t=setInterval(()=>{Object(m.c)(e).then(e=>{le(e.items.length),0===e.items.length&&(clearInterval(t),setTimeout(()=>Pe(!0),1e3))}).catch(()=>{Pe(!1)})},2e3);return t},[Pe,Ee,fe]),Ie=n.useCallback(()=>{var e;t(),(window.location.pathname.split("/").includes(r.metadata.name)||window.location.pathname.split("/").includes(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV))&&v.Vb.push(Object(v.rc)(S.ClusterServiceVersionModel,Object(d.c)()))},[t,r]);n.useEffect(()=>{Ne&&!je&&Ie()},[Ie,je,Ne]),n.useEffect(()=>{let e;return te&&(e=Me()),()=>{e&&clearInterval(e)}},[te,Me]);const _e=(null===($=null==a?void 0:a.spec)||void 0===$?void 0:$.displayName)||(null===(G=null==r?void 0:r.spec)||void 0===G?void 0:G.name),Te=null===(U=null==a?void 0:a.metadata)||void 0===U?void 0:U.name,xe=r.metadata.namespace===k.a?"all-namespaces":r.metadata.namespace,Ae=null===(z=null===(H=null==a?void 0:a.metadata)||void 0===H?void 0:H.annotations)||void 0===z?void 0:z[w.d.UninstallMessage],De=!Se||ke.length>0,Ve=n.createElement(n.Fragment,null,n.createElement("p",null,De&&n.createElement(n.Fragment,null," ",q("olm~Select the checkbox below to also remove all Operands associated with this Operator."))," ",q("olm~If your Operator configured off-cluster resources, these will continue to run and require manual cleanup.")),he&&n.createElement("p",null,q("olm~The console plugin provided by this operator will be disabled and removed.",{count:ge.length}))),Re=Ce?n.createElement(x,{operandsLoadedErrorMessage:Ce}):De&&n.createElement(n.Fragment,null,n.createElement("span",{className:"co-operator-uninstall__operands-section"},n.createElement("h2",null,q("olm~Operand instances")),n.createElement(L,{operands:ke,loaded:Se,csvName:Te,cancel:e})),n.createElement(u.a,{onChange:({currentTarget:e})=>ee(e.checked),name:"delete-all-operands",label:q("olm~Delete all operand instances for this operator"),checked:Z})),Fe=se.length?n.createElement(V,{operandDeletionErrors:se,csvName:Te,cancel:e}):ie?n.createElement(x,{operandsLoadedErrorMessage:q("olm~Error listing operand to verify deletion")}):n.createElement(R,{name:_e,namespace:xe}),Le=n.createElement(n.Fragment,null,n.createElement(F,{errorMessage:me||B||(se.length?q("olm~Operator could not be uninstalled due to error deleting its Operands"):""),name:_e,namespace:xe}),Z&&Fe);return n.createElement("form",{onSubmit:e=>{if(e.preventDefault(),Ne)Ie();else if(Y(!1),Z){ae(!0),le(ke.length);const e=ke.map(e=>{const t=Object(E.vb)(Object(E.Db)(e));return l(t,e,{},I)});Object(i.a)(e).then(([,,e])=>{const t=e.reduce((e,t,a)=>"rejected"===t.status?e.concat({operand:ke[a],errorMessage:t.reason}):e,[]);t.length&&(ce(t),ae(!1),oe(!0),Q(!0))})}else oe(!0),we()},name:"form",className:"modal-content co-catalog-install-modal"},n.createElement(p.d,{className:"modal-header"},n.createElement(f.tc,{className:"co-icon-space-r"})," ",q("olm~Uninstall Operator?")),n.createElement(p.a,null,J&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(s.Trans,{t:q,ns:"olm"},"Operator ",n.createElement("strong",null,{name:_e})," will be removed from"," ",n.createElement("strong",null,{namespace:xe}),".")),!ye&&n.createElement(n.Fragment,null,Ve),Ae&&n.createElement(n.Fragment,null,n.createElement("h2",null,q("olm~Message from Operator developer")),n.createElement("p",null,Ae)),!ye&&n.createElement(n.Fragment,null,Re)),te&&n.createElement(T,{total:ke.length,remaining:ne}),W&&n.createElement("div",null,n.createElement("p",null,q("olm~Uninstalling the Operator..."))),Ne&&Le),n.createElement(p.c,{inProgress:Oe,cancel:e,submitDanger:!Ne,submitText:q(Ne?"olm~OK":"olm~Uninstall"),submitDisabled:Oe}))},T=({total:e,remaining:t})=>{const{t:a}=Object(s.useTranslation)(),r=a("olm~Remaining Operands: {{remaining}} of {{total}} ",{remaining:t,total:e});return n.createElement("div",null,n.createElement(l.a,{value:e-t,max:e,valueText:r,label:r,title:a("olm~Cleaning up operand instances..."),size:l.b.lg}),n.createElement("div",{className:"co-alert--margin-top"},n.createElement("p",null,a("olm~The operands have been marked for deletion and are being removed. Canceling this operation will leave the Operator installed though its operand instances will continue to be deleted."))))},x=({operandsLoadedErrorMessage:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"warning",className:"co-alert",title:t("olm~Cannot load Operands"),isInline:!0},n.createElement("p",null,t("olm~There was an error loading operands for this operator. Operands will need to be deleted manually.")),n.createElement("p",null,e))},A=({name:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully uninstalled Operator"),isInline:!0},n.createElement("p",null,n.createElement(s.Trans,{t:a,ns:"olm"},"Operator ",n.createElement("strong",null,{name:e})," successfully uninstalled from"," ",n.createElement("strong",null,{namespace:t}),".")))},D=({errorMessage:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:t("olm~Error uninstalling Operator"),isInline:!0},n.createElement("p",null,t("olm~There was an error uninstalling the operator."),n.createElement("br",null),e))},V=({operandDeletionErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:l("olm~Error deleting Operands"),isInline:!0},n.createElement("p",null,l("olm~There were errors deleting the following Operands, they will need to be deleted manually:")),n.createElement($,{operandErrors:e,csvName:t,cancel:a}))},R=({name:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully deleted all Operand Instances"),isInline:!0},n.createElement("p",null,n.createElement(s.Trans,{t:a,ns:"olm"},"All Operand instances for Operator ",n.createElement("strong",null,{name:e})," in"," ",n.createElement("strong",null,{namespace:t})," have been deleted.")))},F=({errorMessage:e,name:t,namespace:a})=>e?n.createElement(D,{errorMessage:e}):n.createElement(A,{name:t,namespace:a}),L=({operands:e,loaded:t,csvName:a,cancel:l})=>{const{t:r}=Object(s.useTranslation)();return n.createElement(v.wb,{skeleton:n.createElement("div",{className:"loading-skeleton--table"}),data:e,loaded:t},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr",key:"operand-table-header-row"},n.createElement("th",{className:"pf-m-width-35 pf-v5-c-table__th"},r("olm~Name")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Kind")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Namespace")))),n.createElement("tbody",null,e.sort((e,t)=>e.metadata.name.localeCompare(t.metadata.name)).map(e=>n.createElement("tr",{className:"pf-v5-c-table__tr",key:e.metadata.uid},n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(C.a,{obj:e,csvName:a,onClick:l})),n.createElement("td",{className:"pf-v5-c-table__td pf-m-break-word","data-test-operand-kind":e.kind},e.kind),n.createElement("td",{className:"pf-v5-c-table__td"},e.metadata.namespace?n.createElement(v.hb,{kind:"Namespace",name:e.metadata.namespace,onClick:l}):"-"))))))},$=({operandErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(s.useTranslation)();return n.createElement("ul",{className:"co-operator-uninstall-alert__list"},o.a(e,e=>n.createElement("li",{key:e.operand.metadata.uid,className:"pf-v5-c-list pf-m-plain co-operator-uninstall-alert__list-item"},n.createElement(C.a,{obj:e.operand,csvName:t,onClick:a})," ",e.operand.kind,"  ",l("olm~Error: {{error}}",{error:e.errorMessage}))))},G=Object(p.f)(_);_.displayName="UninstallOperatorModal"},6055:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a(0),l=a(19),r=a(615),o=a(16),s=a(667),c=a(640),i=a(4397),d=a(7),m=a(31),u=a(118),p=a(5),v=a(8);const b=e=>{const{t:t}=Object(d.useTranslation)(),{cpu:a,memory:l,storage:r,onChangeCPU:o,onChangeMemory:s,onChangeStorage:c,path:i=""}=e;return n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".cpu"},t("olm~CPU cores")),n.createElement("input",{value:a,onChange:e=>o(e.target.value),id:i+".cpu",name:"cpu",type:"text",className:"pf-v5-c-form-control",placeholder:"500m"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".memory"},t("olm~Memory")),n.createElement("input",{value:l,onChange:e=>s(e.target.value),id:i+".memory",name:"memory",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".ephemeral-storage"},t("olm~Storage")),n.createElement("input",{value:r,onChange:e=>c(e.target.value),id:i+".ephemeral-storage",name:"ephemeral-storage",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})))},g=Object(p.Oc)(e=>{const{t:t}=Object(d.useTranslation)(),{obj:a,path:l,type:r,model:i,close:m,handlePromise:p}=e,[g,h]=n.useState(o.a(a.spec,`${l}.${r}.cpu`,"")),[E,f]=n.useState(o.a(a.spec,`${l}.${r}.memory`,"")),[O,N]=n.useState(o.a(a.spec,`${l}.${r}.ephemeral-storage`,""));return n.createElement("form",{onSubmit:e=>(e=>{e.preventDefault();const t=s.a(c.a(a),`spec.${l}.${r}`,Object.assign(Object.assign(Object.assign({},g&&{cpu:g}),E&&{memory:E}),O&&{"ephemeral-storage":O}));return p(Object(v.rb)(i,t),m)})(e),className:"modal-content"},n.createElement(u.d,null,e.title),n.createElement(u.a,null,n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-sm-12"},e.description)),n.createElement(b,{cpu:g,memory:E,storage:O,onChangeCPU:h,onChangeMemory:f,onChangeStorage:N,path:l})),n.createElement(u.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:t("public~Save"),cancel:e.cancel}))}),h=Object(m.connect)(({k8s:e},{obj:t})=>({model:e.getIn(["RESOURCES","models",Object(v.Db)(t)])}))(e=>{const{obj:t,type:a,path:s,model:c}=e,{t:m}=Object(d.useTranslation)(),p=m("public~None"),{cpu:v,memory:b,"ephemeral-storage":h}=o.a(t.spec,`${s}.${a}`,{});return n.createElement(l.a,{type:"button",isInline:!0,"data-test-id":"configure-modal-btn",onClick:()=>{const e=Object(u.f)(g),n=m("olm~Define the resource {{type}} for this {{kind}} instance.",{type:a,kind:t.kind});return e({title:m("olm~{{kind}} Resource {{type}}",{kind:t.kind,type:i.a(a)}),description:n,obj:t,model:c,type:a,path:s})},variant:"link"},m("olm~CPU: {{cpu}}, Memory: {{memory}}, Storage: {{storage}}",{cpu:v||p,memory:b||p,storage:h||p}),n.createElement(r.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))});b.displayName="ResourceRequirements",h.displayName="ResourceRequirementsModalLink",g.displayName="ResourceRequirementsModal"},6084:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d}));var n=a(8),l=a(59),r=a(474),o=a(125),s=a(146);const c=e=>Boolean(e)&&Object(n.Db)(e)===Object(n.Hb)(o.ClusterServiceVersionModel),i=e=>{var t,a,n;return c(e)&&("Copied"===(null===(t=e.status)||void 0===t?void 0:t.reason)||Boolean(null===(n=null===(a=e.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n["olm.copiedFrom"]))},d=e=>{var t,a;return c(e)&&((null===(t=e.metadata.annotations)||void 0===t?void 0:t[l.d.OperatorType])!==r.g||(null===(a=e.status)||void 0===a?void 0:a.phase)===s.b.CSVPhaseFailed)}},6085:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a(83),r=a(474),o=a(125),s=a(6084);const c={group:o.ClusterServiceVersionModel.apiGroup,version:o.ClusterServiceVersionModel.apiVersion,kind:o.ClusterServiceVersionModel.kind},{copiedCSVsDisabled:i}=window.SERVER_FLAGS,d=(e,t)=>{const[a,o,d]=Object(l.useK8sWatchResource)({groupVersionKind:c,name:e,namespace:t,optional:i}),[m,u,p]=Object(l.useK8sWatchResource)(i?{groupVersionKind:c,name:e,namespace:r.e,optional:i}:null);return n.useMemo(()=>i&&Boolean(d)?[Object(s.a)(m)?m:null,u,p]:[a,o,d],[m,p,u,a,d,o])}},6086:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(966),r=a(19),o=a(380),s=a(7),c=a(118),i=a(5),d=a(1405);const m=({cancel:e,stepResource:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement("div",{className:"modal-content"},n.createElement(c.d,null,a("olm~InstallPlan Preview")," ",n.createElement(i.hb,{linkTo:!1,name:t.name,kind:Object(d.m)(t)})),n.createElement(c.a,null,n.createElement(i.l,{value:Object(o.safeDump)(JSON.parse(t.manifest))})),n.createElement(c.b,{inProgress:!1},n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__actions--right pf-v5-c-form__group--no-top-margin"},n.createElement(r.a,{type:"button",variant:"secondary",onClick:()=>e()},a("public~OK")))))},u=Object(c.f)(m);m.displayName="InstallPlanPreview"},6120:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a(31),r=a(53);const o=()=>{const e=Object(l.useDispatch)(),t=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","package"])),a=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","channel"])),o=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","version"]));return{deprecatedPackage:t,setDeprecatedPackage:Object(n.useCallback)(t=>e(r.o(t)),[e]),deprecatedChannel:a,setDeprecatedChannel:Object(n.useCallback)(t=>e(r.n(t)),[e]),deprecatedVersion:o,setDeprecatedVersion:Object(n.useCallback)(t=>e(r.p(t)),[e])}}},6176:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(182);const r=(e,t)=>{const[a,r]=n.useState([]),[o,s]=n.useState(!1),[c,i]=n.useState("");return n.useEffect(()=>{const a=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${e}&namespace=${t}`;Object(l.b)(a).then(e=>{var t;r(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]),s(!0),i("")}).catch(a=>{r([]),s(!0),i(`Error loading Operands for ${e} in ${t}: ${a}`)})},[e,t]),[a,o,c]}},6177:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),l=a(640),r=a(489),o=a(7),s=a(118),c=a(692),i=a(8),d=a(2234),m=a(125),u=a(146);const p=e=>{var t,a,n,l,r,o;return null!==(o=null!==(n=null===(a=null===(t=e)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.installPlanApproval)&&void 0!==n?n:null===(r=null===(l=e)||void 0===l?void 0:l.spec)||void 0===r?void 0:r.approval)&&void 0!==o?o:u.e.Automatic},v=Object(s.f)(({cancel:e,close:t,k8sUpdate:a,obj:v})=>{const{t:b}=Object(o.useTranslation)(),[g,h,E]=Object(d.a)(),[f,O]=n.useState(p(v)),N=n.useCallback(e=>{e.preventDefault();const n=l.a(v);Object(i.Db)(n)===Object(i.Hb)(m.SubscriptionModel)?n.spec.installPlanApproval=f:Object(i.Db)(n)===Object(i.Hb)(m.InstallPlanModel)&&(n.spec.approval=f),g(a(Object(i.vb)(Object(i.Db)(v)),n)).then(()=>null==t?void 0:t()).catch(r.a)},[t,g,a,v,f]);return n.createElement("form",{onSubmit:N,name:"form",className:"modal-content"},n.createElement(s.d,{className:"modal-header"},b("olm~Change update approval strategy")),n.createElement(s.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,b("olm~What strategy is used for approving updates?"))),n.createElement("div",{className:"co-m-form-row row"},n.createElement("div",{className:"col-sm-12"},n.createElement(c.b,{onChange:e=>O(e.target.value),value:u.e.Automatic,checked:f===u.e.Automatic,title:b("olm~Automatic"),subTitle:`(${b("public~default")})`},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},b("olm~New updates will be installed as soon as they become available."))))),n.createElement("div",{className:"col-sm-12"},n.createElement(c.b,{onChange:e=>O(e.target.value),value:u.e.Manual,checked:f===u.e.Manual,title:b("olm~Manual")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},b("olm~New updates need to be manually approved before installation begins."))))))),n.createElement(s.c,{inProgress:h,errorMessage:E,cancel:e,submitText:b("public~Save"),submitDisabled:p(v)===f}))})},6178:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(7),r=a(118),o=a(692),s=a(5),c=a(8),i=a(2234),d=a(125),m=a(5737);const u=Object(r.f)(({cancel:e,close:t,k8sUpdate:a,pkg:u,subscription:p})=>{var v,b,g,h,E,f,O,N;const{t:j}=Object(l.useTranslation)(),y=null!==(b=null===(v=null==p?void 0:p.spec)||void 0===v?void 0:v.channel)&&void 0!==b?b:null===(E=null===(h=null===(g=null==u?void 0:u.status)||void 0===g?void 0:g.channels)||void 0===h?void 0:h[0])||void 0===E?void 0:E.name,[k,S,C]=Object(i.a)(),[w,P]=n.useState(y),M=n.useCallback(e=>{e.preventDefault(),k(a(d.SubscriptionModel,Object.assign(Object.assign({},p),{spec:Object.assign(Object.assign({},p.spec),{channel:w})}))).then(()=>null==t?void 0:t()).catch(()=>{})},[t,k,a,w,p]);return n.createElement("form",{onSubmit:M,name:"form",className:"modal-content"},n.createElement(r.d,{className:"modal-header"},j("olm~Change Subscription update channel")),n.createElement(r.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,j("olm~Which channel is used to receive updates?"))),n.createElement("div",{className:"co-m-form-row row"},null===(N=null===(O=null===(f=null==u?void 0:u.status)||void 0===f?void 0:f.channels)||void 0===O?void 0:O.map)||void 0===N?void 0:N.call(O,e=>n.createElement("div",{key:e.name,className:"col-sm-12"},n.createElement(o.b,{onChange:e=>P(e.target.value),value:e.name,checked:w===e.name,title:e.name,subTitle:n.createElement(s.hb,{linkTo:!1,name:e.currentCSV,title:e.currentCSV,kind:Object(c.Hb)(d.ClusterServiceVersionModel)},(null==e?void 0:e.deprecation)?n.createElement(m.c,{deprecation:null==e?void 0:e.deprecation}):null)}))))),n.createElement(r.c,{inProgress:S,errorMessage:C,cancel:e,submitText:j("public~Save"),submitDisabled:w===y}))})},6243:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return O}));var n=a(0),l=a(19),r=a(1434),o=a(1433),s=a(22),c=a(745),i=a(7110),d=a(148),m=a(447),u=a(7),p=a(1428),v=a(5),b=a(15),g=a(6015);const h=({path:e})=>n.createElement("span",{className:"text-muted olm-descriptors__invalid-pod-descriptor"},n.createElement(b.tc,null),"  ",n.createElement(u.Trans,{ns:"olm"},"The field ",n.createElement("code",{className:"co-code"},{path:e})," is invalid.")),E=({description:e,label:t,obj:a,fullPath:l,value:r})=>{const{t:o}=Object(u.useTranslation)(),m=n.useMemo(()=>!s.a(r)||c.a(r)||i.a(r)?d.a(r):n.createElement("span",{className:"text-muted"},o("public~None")),[o,r]);return n.createElement(v.r,{description:e,label:t,obj:a,path:l},m)},f=({capability:e,description:t,descriptor:a,fullPath:l,label:r,obj:o,value:s})=>{const{t:c}=Object(u.useTranslation)(),i=n.useMemo(()=>{var t;if(!s)return n.createElement("span",{className:"text-muted"},c("public~None"));const[,l]=null!==(t=e.match(g.j))&&void 0!==t?t:[],r=null==l?void 0:l.replace(/:/g,"~");return m.a(s)?n.createElement(v.hb,{kind:r,name:s,namespace:o.metadata.namespace}):(console.warn(`[Invalid descriptor] descriptor is incompatible with property ${a.path} and will have no effect`,a),null)},[s,e,o.metadata.namespace,c,a]);return n.createElement(v.r,{description:t,label:r,obj:o,path:l},i)},O=({description:e,label:t,obj:a,fullPath:s,value:c})=>{const{t:i}=Object(u.useTranslation)(),[d,m]=n.useState(!1);return n.createElement(v.r,{description:e,label:t,obj:a,path:s},n.createElement("div",{className:"co-toggle-reveal-value"},n.createElement(l.a,{type:"button",variant:"link",isInline:!0,className:"pf-m-link--align-right co-toggle-reveal-value__btn",onClick:()=>m(!d)},d?n.createElement(n.Fragment,null,n.createElement(o.a,{className:"co-icon-space-r"}),i("olm~Hide values")):n.createElement(n.Fragment,null,n.createElement(r.a,{className:"co-icon-space-r"}),i("olm~Reveal values"))),n.createElement(p.e,{value:c,encoded:!1,reveal:d})))};h.displayName="Invalid",E.displayName="DefaultCapability",f.displayName="K8sResourceLinkCapability",O.displayName="SecretCapability"},6244:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a(31),r=a(53);const o=()=>{const e=Object(l.useDispatch)();return[Object(l.useSelector)(e=>e.UI.get("showOperandsInAllNamespaces")),n.useCallback(t=>e(r.v(t)),[e])]}},6274:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(13),r=a(986),o=a(69);const s=()=>{const e=Object(o.z)(o.v),t=Object(o.z)(l.Nb);return n.useMemo(()=>Object(r.b)(e,t),[e,t])}},6352:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(31);const l=()=>Object(n.useSelector)(({UI:e})=>e.get("activeNamespace"))},6353:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(77),l=a(5),r=a(15),o=a(125);const s=e=>{const[t]=Object(r.ue)(),a=Object(n.e)(o.ClusterServiceVersionModel);return window.SERVER_FLAGS.copiedCSVsDisabled&&"openshift"===e.metadata.namespace&&t!==r.c?Object(l.tc)(a,e.metadata.name,t):Object(l.sc)(e,a)}},6354:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return N})),a.d(t,"a",(function(){return j}));var n=a(0),l=a(54),r=a(460),o=a(50),s=a(7),c=a(14),i=a(40),d=a(5),m=a(10),u=a(8),p=a(15),v=a(5942),b=a(1405);const g=[{kind:m.DeploymentModel.kind,version:m.DeploymentModel.apiVersion},{kind:m.ServiceModel.kind,version:m.ServiceModel.apiVersion},{kind:m.ReplicaSetModel.kind,version:m.ReplicaSetModel.apiVersion},{kind:m.PodModel.kind,version:m.PodModel.apiVersion},{kind:m.SecretModel.kind,version:m.SecretModel.apiVersion},{kind:m.ConfigMapModel.kind,version:m.ConfigMapModel.apiVersion},{kind:m.JobModel.kind,version:m.JobModel.apiVersion}],h=["","pf-v5-u-w-16-on-md","pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-lg","pf-m-hidden pf-m-visible-on-sm"],E=({obj:e,customData:{linkFor:t,providedAPI:a}})=>{var l,r;return n.createElement(n.Fragment,null,n.createElement(i.k,{className:h[0]},t(e,a)),n.createElement(i.k,{className:h[1]},e.kind),n.createElement(i.k,{className:h[2]},n.createElement(p.cc,{status:null!==(r=null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.phase)&&void 0!==r?r:"Created"})),n.createElement(i.k,{className:h[3]},n.createElement(d.xb,{timestamp:e.metadata.creationTimestamp})))},f=e=>{const{t:t}=Object(s.useTranslation)();return n.createElement(i.j,Object.assign({},e,{"aria-label":t("olm~Operand Resources"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:h[0]}},{title:t("olm~Kind"),sortField:"kind",transforms:[l.a],props:{className:h[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[l.a],props:{className:h[2]}},{title:t("olm~Created"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:h[3]}}],Row:E,EmptyMsg:()=>n.createElement(d.h,{title:t("olm~No resources found")},t("olm~There are no Kubernetes resources used by this operand.")),virtualize:!0}))},O=e=>t=>r.a(t,(e,t)=>o.a(e.data,e=>Object.assign(Object.assign({},e),{kind:t}))).reduce((t,a)=>(a.metadata.ownerReferences||[]).some(a=>a.uid===e.metadata.uid||t.some(({metadata:e})=>e.uid===a.uid))?t.concat([a]):t,[]),N=(e,t,a)=>{var l;return e.metadata.namespace&&(null!==(l=null==t?void 0:t.resources)&&void 0!==l?l:[]).some(({kind:t,name:a})=>a&&t===e.kind)?n.createElement(v.a,{obj:e,csvName:a}):n.createElement(d.hb,{kind:e.kind,name:e.metadata.name,namespace:e.metadata.namespace})},j=e=>{var t;const{t:a}=Object(s.useTranslation)(),{plural:l}=Object(c.useParams)(),r=Object(b.i)(e.customData,l),o=(null!==(t=null==r?void 0:r.resources)&&void 0!==t?t:g).map(({name:e,kind:t,version:a})=>{const n=e?e.substring(e.indexOf(".")+1):"",l=n?Object(u.Gb)(n)(a)(t):t,r=Object(u.vb)(l);return{kind:r&&!r.crd?t:l,namespaced:!r||r.namespaced,prop:t}}),d=n.useMemo(()=>({linkFor:N,providedAPI:r}),[r]);return n.createElement(i.i,{filterLabel:a("olm~Resources by name"),resources:o,rowFilters:[{type:"clusterserviceversion-resource-kind",filterGroupName:a("olm~Kind"),reducer:({kind:e})=>Object(u.tb)(e),items:o.map(({kind:e})=>({id:Object(u.tb)(e),title:Object(u.tb)(e)}))}],flatten:O(e.obj),namespace:e.obj.metadata.namespace,ListComponent:f,customData:d})};f.displayName="ResourceTable",j.displayName="Resources"},6355:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return g}));var n=a(0),l=a(205),r=a(354),o=a(165),s=a(294),c=a(80),i=a(501),d=a(7),m=a(5),u=a(15),p=a(5737),v=a(6120);const b=({packageManifest:e,selectedUpdateChannel:t,setUpdateChannel:a,setUpdateVersion:c})=>{const{t:b}=Object(d.useTranslation)(),g=n.useMemo(()=>{var t;return null!==(t=null==e?void 0:e.status.channels)&&void 0!==t?t:[]},[e]),[h,E]=n.useState(!1),{setDeprecatedChannel:f}=Object(v.a)();g.sort((e,t)=>-Object(u.uc)(e.name,t.name));const O=e=>n.createElement(n.Fragment,null,e.name," ",(null==e?void 0:e.deprecation)&&n.createElement(p.c,{deprecation:null==e?void 0:e.deprecation,dataTest:"deprecated-operator-warning-channel-icon"})),N=g.map(e=>n.createElement(l.a,{key:e.name,id:e.name,value:e.name,"data-test":"channel-option-"+e.name},O(e)));return n.useEffect(()=>{Object(m.wc)("channel",t),f(i.a(g.find(e=>e.deprecation&&e.name===t),"deprecation"))},[t,g,f]),n.createElement(n.Fragment,null,n.createElement(r.a,{toggle:a=>n.createElement(o.a,{ref:a,onClick:e=>E(e),isExpanded:h,isDisabled:!e,isFullWidth:!0,"aria-label":b("olm~Select a channel"),className:"co-operator-channel__select","data-test":"operator-channel-select-toggle"},O(g.find(e=>e.name===t))),onSelect:(e,t)=>{a(t),E(!1),c("")},selected:t||"-",onOpenChange:e=>E(e),isOpen:h},n.createElement(s.a,null,N)))},g=({packageManifest:e,selectedUpdateChannel:t,updateVersion:a,setUpdateVersion:u,showVersionAlert:b=!1})=>{var g;const{t:h}=Object(d.useTranslation)(),{setDeprecatedVersion:E}=Object(v.a)(),[f,O]=n.useState(!1),[N,j]=n.useState(""),{channels:y=[]}=null!==(g=null==e?void 0:e.status)&&void 0!==g?g:{};n.useEffect(()=>{var e,a,n;j(null!==(n=null===(a=null===(e=y.find(e=>e.name===t))||void 0===e?void 0:e.currentCSVDesc)||void 0===a?void 0:a.version)&&void 0!==n?n:"-")},[y,t]);const k=a||N,S=n.useMemo(()=>{var e,a;return null!==(a=null===(e=y.find(e=>e.name===t))||void 0===e?void 0:e.entries)&&void 0!==a?a:[]},[y,t]),C=e=>n.createElement(n.Fragment,null,null==e?void 0:e.version," ",(null==e?void 0:e.deprecation)&&n.createElement(p.c,{deprecation:null==e?void 0:e.deprecation,dataTest:"deprecated-operator-warning-version-icon"})),w=S.map(e=>n.createElement(l.a,{key:e.version,id:e.version,value:e.version,"data-test":"version-option-"+e.name},C(e)));return n.useEffect(()=>{Object(m.wc)("version",k),E(i.a(S.find(e=>e.deprecation&&e.version===k),"deprecation"))},[k,S,E]),n.createElement(n.Fragment,null,n.createElement(r.a,{toggle:t=>n.createElement(o.a,{ref:t,onClick:e=>O(e),isExpanded:f,isDisabled:!e,isFullWidth:!0,"aria-label":h("olm~Select a version"),className:"co-operator-version__select","data-test":"operator-version-select-toggle"},C(S.find(e=>e.version===k))),onSelect:(e,t)=>{u(t),O(!1)},selected:k,onOpenChange:e=>O(e),isOpen:f},n.createElement(s.a,null,w)),b&&k!==N&&n.createElement(c.a,{variant:"info",isInline:!0,className:"co-alert co-alert--margin-top co-alert__update-approval",title:h("olm~Manual update approval is required when not installing the latest version for the selected channel.")}))}},6610:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(6611);const r=e=>{const t=Object(l.a)();return n.useMemo(()=>t.get(e),[t,e])}},6611:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(13),r=a(986),o=a(69);const s=()=>{const e=Object(o.z)(o.u),t=Object(o.z)(l.Mb);return n.useMemo(()=>Object(r.a)(e,t),[e,t])}},6612:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(6274);const r=e=>{const t=Object(l.a)();return Object(n.useMemo)(()=>t.get(e),[t,e])}},6613:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return k}));var n=a(0),l=a(663),r=a(384),o=a(16),s=a(1031),c=a(7184),i=a(50),d=a(1451),m=a(7134),u=a(22),p=a(7),v=a(5),b=a(15),g=a(198),h=a(6614),E=a(6619),f=a(5759),O=a(5796);const N=Object(g.e)(({className:e,descriptor:t,model:a,obj:l,onError:r,schema:o,type:s})=>{const{displayName:c,description:i,value:d,fullPath:m}=Object(O.f)(s,t,o,l),u={className:e,description:i,descriptor:t,fullPath:m,label:c,model:a,obj:l,onError:r,value:d};switch(s){case f.b.spec:return n.createElement(h.a,Object.assign({},u));case f.b.status:return n.createElement(E.a,Object.assign({},u));default:return null}}),j=({className:e,group:t,groupPath:a,model:d,obj:m,onError:u,schema:g,type:h})=>{const{t:E}=Object(p.useTranslation)(),{arrayGroupPath:f,elementDescriptor:O,descriptor:j,nested:y}=t,k=Object(b.Gd)(g,`${h}.${f}`),S=(null==j?void 0:j.description)||(null==k?void 0:k.description),C=(null==j?void 0:j.displayName)||(null==k?void 0:k.title)||l.a(r.a(f.split("."))),w=null!=y?y:[O],P=o.a(m,[h,...s.a(f)],[]);return n.createElement("div",{className:e},n.createElement(v.r,{description:S,label:C,obj:m,path:`${h}.${a}`},n.createElement("div",{className:"details-item__array"},(null==P?void 0:P.length)?c.a(P.length,e=>n.createElement("div",{className:"details-item__value--group"},n.createElement("dl",null,i.a(w,t=>{const a=t.path.replace(/\d+/,String(e));return n.createElement(N,{descriptor:Object.assign(Object.assign({},t),{path:a}),key:`${h}.${a}`,model:d,obj:m,onError:u,schema:Object(b.Gd)(g,a),type:h})})))):n.createElement("span",{className:"text-muted"},E("public~None")))))},y=({group:e,groupPath:t,model:a,obj:r,onError:o,schema:s,type:c})=>{const{descriptor:p,nested:g}=e,h=Object(b.Gd)(s,`${c}.${t}`),E=(null==p?void 0:p.description)||(null==h?void 0:h.description),f=(null==p?void 0:p.displayName)||(null==h?void 0:h.title)||l.a(t),O=d.a(g,"isArrayGroup"),y=m.a(g,"isArrayGroup"),k=u.a(O)||u.a(y)?"col-sm-6":"col-sm-12";return n.createElement("div",{className:k},n.createElement(v.r,{description:E,label:f,obj:r,path:`${c}.${t}`},n.createElement("dl",{className:"details-item__value--group olm-descriptors__group"},!u.a(y)&&n.createElement("div",null,i.a(y,({descriptor:e})=>n.createElement(N,{descriptor:e,key:`${c}.${e.path}`,model:a,obj:r,onError:o,schema:s,type:c}))),!u.a(O)&&n.createElement("div",null,i.a(O,e=>n.createElement(j,{group:e,groupPath:e.arrayGroupPath,key:`${c}.${t}.${e.arrayGroupPath}`,model:a,obj:r,onError:o,schema:s,type:c}))))))},k=({descriptors:e,model:t,obj:a,onError:l,schema:r,type:o,itemClassName:s})=>{const c=n.useMemo(()=>Object(O.d)(e),[e]);return n.createElement("dl",{className:"olm-descriptors olm-descriptors--"+o},i.a(c,(e,c)=>{const i={group:e,groupPath:c},d={model:t,obj:a,onError:l,schema:r,type:o},{isArrayGroup:m,descriptor:p,nested:v}=e;return m?n.createElement(j,Object.assign({},i,d,{className:s})):u.a(v)?n.createElement(N,Object.assign({key:`${o}.${c}`,className:s,descriptor:p},d)):n.createElement(y,Object.assign({key:`${o}.${c}`},i,d))}))};N.displayName="DescriptorDetailsItem",y.displayName="DescriptorDetailsItemGroup",k.displayName="DescriptorDetailsItemList"},6614:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(0),l=a(2216),r=a(19),o=a(472),s=a(373),c=a(113),i=a(225),d=a(640),m=a(667),u=a(7),p=a(5),v=a(8),b=a(15),g=a(6243),h=a(5759),E=a(5796),f=a(6615),O=a(6616),N=a(6618),j=a(6055),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const k=({description:e,descriptor:t,label:a,model:l,obj:r,fullPath:o,value:c})=>n.createElement(p.r,{description:e,label:a,obj:r,path:o,onEdit:()=>Object(f.a)({kindObj:l,resource:r,specDescriptor:t,specValue:c})},s.a(c)?"-":c+" pods"),S=({description:e,label:t,obj:a,fullPath:l,value:r})=>n.createElement(p.r,{description:e,label:t,obj:a,path:l},n.createElement(N.a,{endpoints:r})),C=({description:e,label:t,model:a,obj:l,fullPath:r,value:o})=>n.createElement(p.r,{description:e,label:t,obj:l,path:r},c.a(o)?n.createElement(p.L,{kind:a.kind,labels:o}):n.createElement("span",null,o||"-")),w=({description:e,label:t,obj:a,fullPath:l,value:r})=>{var o;const{t:s}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:t,obj:a,path:l},(null===(o=null==r?void 0:r.matchNames)||void 0===o?void 0:o[0])?n.createElement(p.hb,{kind:"Namespace",name:r.matchNames[0],title:r.matchNames[0]}):n.createElement("span",{className:"text-muted"},s("public~None")))},P=({description:e,descriptor:t,label:a,obj:l,fullPath:r})=>{const{t:o}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:l,path:r},n.createElement("dl",{className:"co-spec-descriptor--resource-requirements"},n.createElement("dt",null,o("olm~Resource limits")),n.createElement("dd",null,n.createElement(j.b,{type:"limits",obj:l,path:t.path})),n.createElement("dt",null,o("olm~Resource requests")),n.createElement("dd",null,n.createElement(j.b,{type:"requests",obj:l,path:t.path}))))},M=({capability:e,description:t,label:a,obj:l,fullPath:r,value:o})=>{const[,s]=e.split(h.c.selector);return n.createElement(p.r,{description:t,label:a,obj:l,path:r},n.createElement(p.pb,{selector:o,kind:null==s?void 0:s.replace(/:/g,"~")}))},I=({model:e,obj:t,description:a,descriptor:o,label:s,onError:c,fullPath:g,value:h})=>{const{t:f}=Object(u.useTranslation)(),[O,N]=n.useState(Boolean(h)),[j,y]=n.useState(!1),[k,S]=n.useState(null),C=e=>{y(!1),N(Boolean(h)),S(e.message),c(e)};return n.createElement(p.r,{description:a,label:s,obj:t,path:g},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(l.a,{id:o.path,isChecked:O,onChange:(e,t)=>{N(t),y(!1),S(null)},label:f("public~True"),labelOff:f("public~False")}),"  ",O!==Boolean(h)&&j&&n.createElement(p.T,null),O!==Boolean(h)&&!j&&n.createElement(n.Fragment,null,"  ",n.createElement(r.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{if(y(!0),S(null),i.a(t,"spec."+o.path)){const a=e=>[{op:"add",path:"/spec/"+Object(E.a)(o),value:e}];return Object(v.pb)(e,t,a(O)).catch(e=>C(e))}const a=d.a(t);return m.a(a,"spec."+o.path,O),Object(v.rb)(e,a).catch(e=>C(e))}},n.createElement(b.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),f("olm~Confirm change")))),k&&n.createElement("div",{className:"cos-error-title co-break-word"},k||f("olm~An error occurred")))},_=({description:e,descriptor:t,label:a,model:l,obj:s,fullPath:c,value:i})=>{const{t:d}=Object(u.useTranslation)(),[m,g]=n.useState(Boolean(i)),[h,f]=n.useState(!1);return n.createElement(p.r,{description:e,label:a,obj:s,path:c},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(o.a,{id:t.path,style:{marginLeft:"10px"},isChecked:m,"data-checked-state":m,label:a,onChange:(e,t)=>{g(t),f(!1)}}),"  ",m!==Boolean(i)&&h&&n.createElement(p.T,null),m!==Boolean(i)&&!h&&n.createElement(n.Fragment,null,"  ",n.createElement(r.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{return f(!0),Object(v.pb)(l,s,(e=m,[{op:"add",path:"/spec/"+Object(E.a)(t),value:e}]));var e}},n.createElement(b.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),d("olm~Confirm change")))))},T=({description:e,descriptor:t,label:a,model:l,obj:r,fullPath:o,value:s})=>{var c;const{t:i}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:r,onEdit:()=>Object(O.a)({kindObj:l,resource:r,specDescriptor:t,specValue:s}),path:o},null!==(c=null==s?void 0:s.type)&&void 0!==c?c:i("public~None"))},x=e=>{var t,{className:a}=e,l=y(e,["className"]);const[r]=null!==(t=Object(E.c)(l.descriptor,l.value))&&void 0!==t?t:[],o=n.useMemo(()=>{if(null==r?void 0:r.startsWith(h.c.k8sResourcePrefix))return g.c;if(null==r?void 0:r.startsWith(h.c.selector))return M;switch(r){case h.c.podCount:return k;case h.c.endpointList:return S;case h.c.label:return C;case h.c.namespaceSelector:return w;case h.c.resourceRequirements:return P;case h.c.booleanSwitch:return I;case h.c.password:return g.d;case h.c.updateStrategy:return T;case h.c.checkbox:return _;case h.c.hidden:return null;default:return c.a(l.value)?(console.warn(`[Invalid SpecDescriptor] Cannot render 'spec.${l.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):g.a}},[l.descriptor,l.value,r]);return o?n.createElement("div",{className:a},n.createElement(o,Object.assign({},l,{capability:r}))):null};k.displayName="PodCount",S.displayName="Endpoints",C.displayName="Label",w.displayName="NamespaceSelector",P.displayName="ResourceRequirements",M.displayName="BasicSelector",I.displayName="BooleanSwitch",_.displayName="CheckboxUIComponent",T.displayName="UpdateStrategy",x.displayName="SpecDescriptorDetailsItem"},6615:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(131),l=a(5796);const r=({kindObj:e,resource:t,specDescriptor:a,specValue:r})=>Object(n.h)({resourceKind:e,resource:t,defaultValue:r||0,titleKey:"olm~Modify {{item}}",titleVariables:{item:a.displayName},message:a.description,path:"/spec/"+Object(l.a)(a),buttonTextKey:"olm~Update {{item}}",buttonTextVariables:{item:a.displayName}})},6616:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(359),l=a(6617),r=a(5796);const o=({kindObj:e,resource:t,specDescriptor:a,specValue:o})=>Object(l.a)({resourceKind:e,resource:t,defaultValue:o,title:n.a.t("olm~Edit {{item}}",{item:a.displayName}),path:"/spec/"+Object(r.a)(a)})},6617:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a(16),r=a(7),o=a(118),s=a(5409),c=a(8),i=a(2234);const d=({cancel:e,close:t,path:a,defaultValue:d,resource:m,resourceKind:u,title:p})=>{const{t:v}=Object(r.useTranslation)(),b=a.substring(1).replace("/","."),[g,h,E]=Object(i.a)(),[f,O]=n.useState(l.a(m,b+".type")||d),[N,j]=n.useState(l.a(m,b+".rollingUpdate.maxUnavailable","25%")),[y,k]=n.useState(l.a(m,b+".rollingUpdate.maxSurge","25%")),S=n.useCallback(e=>{e.preventDefault();const n={path:a+"/rollingUpdate",op:"remove"};"RollingUpdate"===f&&(n.value={maxUnavailable:Object(s.getNumberOrPercent)(N||"25%"),maxSurge:Object(s.getNumberOrPercent)(y||"25%")},n.op="add"),g(Object(c.pb)(u,m,[n,{path:a+"/type",value:f,op:"replace"}])).then(t).catch(()=>{})},[t,g,y,N,a,m,u,f]);return n.createElement("form",{onSubmit:S,name:"form",className:"modal-content"},n.createElement(o.d,null,p),n.createElement(o.a,null,n.createElement(s.ConfigureUpdateStrategy,{strategyType:f,maxUnavailable:N,maxSurge:y,onChangeStrategyType:O,onChangeMaxUnavailable:j,onChangeMaxSurge:k})),n.createElement(o.c,{errorMessage:E,inProgress:h,submitText:v("public~Save"),cancel:e}))},m=Object(o.f)(d);d.displayName="UpdateStrategyModal"},6618:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(7),r=a(5);const o=({endpoint:e})=>{const t=["scheme","honorLabels","targetPort"].reduce((t,a)=>(null==e?void 0:e[a])?n.createElement("span",null,n.createElement("span",{className:"text-muted"},a,":"),e[a]):t,n.createElement("span",{className:"text-muted"},"--"));return n.createElement("div",{className:"co-ip-row"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement("p",null,n.createElement(r.fb,{kind:"Service"}),e.port||"--")),n.createElement("div",{className:"col-xs-2"},n.createElement("p",null,e.interval||"--")),n.createElement("div",{className:"col-xs-4"},t)))},s=e=>{const{t:t}=Object(l.useTranslation)();return n.createElement("div",{className:"service-ips"},n.createElement("div",{className:"row co-ip-header"},n.createElement("div",{className:"col-xs-6"},t("olm~Port")),n.createElement("div",{className:"col-xs-2"},t("olm~Interval")),n.createElement("div",{className:"col-xs-4"})),n.createElement("div",{className:"rows"},e.endpoints?e.endpoints.map(e=>n.createElement(o,{endpoint:e,key:e.port})):n.createElement("span",{className:"text-muted"},t("olm~No endpoints"))))}},6619:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),l=a(113),r=a(313),o=a(70),s=a(400),c=a(373),i=a(22),d=a(7),m=a(5),u=a(15),p=a(6243),v=a(5759),b=a(5796),g=a(6620),h=a(6621),E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const f=({description:e,descriptor:t,fullPath:a,label:c,obj:i,value:u})=>{const{t:v}=Object(d.useTranslation)(),b=n.useMemo(()=>!l.a(u)||r.a(u,e=>!o.a(e))?n.createElement(p.b,{path:t.path}):s.a(u,e=>o.a(e)&&0===e.length)?n.createElement("span",{className:"text-muted"},v("olm~No members")):n.createElement(h.a,{statuses:u,subTitle:t.path}),[t.path,v,u]);return n.createElement("div",{className:"co-operand-details__section--info"},n.createElement(m.r,{description:e,label:c,obj:i,path:a},b))},O=({description:e,fullPath:t,label:a,obj:l,value:r})=>{const{t:o}=Object(d.useTranslation)();return n.createElement(m.r,{description:e,label:a,obj:l,path:t},c.a(r)?n.createElement("span",{className:"text-muted"},o("public~None")):n.createElement("a",{href:r},r.replace(/https?:\/\//,"")))},N=({description:e,fullPath:t,label:a,obj:l,value:r})=>n.createElement(m.r,{description:e,label:a,obj:l,path:t},n.createElement(g.a,{status:r})),j=({description:e,fullPath:t,label:a,obj:l,value:r})=>{const{t:o}=Object(d.useTranslation)();return n.createElement(m.r,{description:e,label:a,obj:l,path:t},i.a(r)?n.createElement("span",{className:"text-muted"},o("public~None")):n.createElement("pre",{className:"co-pre",style:{width:"max-content"}},r))},y=({description:e,fullPath:t,label:a,obj:l,value:r})=>n.createElement(m.r,{description:e,label:a,obj:l,path:t},"Running"===r?n.createElement(u.dc,{title:r}):n.createElement(u.cc,{status:r})),k=e=>{var t,{className:a}=e,r=E(e,["className"]);const[o]=null!==(t=Object(b.c)(r.descriptor,r.value))&&void 0!==t?t:[],s=n.useMemo(()=>{if(null==o?void 0:o.startsWith(v.d.k8sResourcePrefix))return p.c;switch(o){case v.d.podStatuses:return f;case v.d.w3Link:return O;case v.d.k8sPhase:return N;case v.d.k8sPhaseReason:return j;case v.d.password:return p.d;case v.d.hidden:return null;default:return l.a(r.value)?(console.warn(`[Invalid StatusDescriptor] Cannot render a descriptor detail item for 'status.${r.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):Object(b.e)(r.descriptor)?y:p.a}},[o,r.value,r.descriptor]);return s?n.createElement("div",{className:a},n.createElement(s,Object.assign({},r,{capability:o}))):null};g.a.displayName="Phase",f.displayName="PodStatuses",O.displayName="Link",N.displayName="K8sPhase",j.displayName="K8sPhaseReason",y.displayName="MainStatus",k.displayName="StatusDescriptorDetailsItem"},6620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(1210);const r=({status:e})=>n.createElement("span",{className:"Failed"===e?"co-error":""},"Failed"===e&&n.createElement(l.a,{"data-test-id":"ban-icon"})," ",e);r.displayName="Phase"},6621:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(2232),r=a(5692),o=a(6431),s=a(5691),c=a(50),i=a(5),d=a(15);const m=[s.chart_color_blue_300.value,o.chart_color_blue_200.value,r.chart_color_blue_100.value],u=({statuses:e,subTitle:t})=>{const[a,r]=Object(i.Ic)(),o=c.a(e,(e,t)=>{const a=t,n=e.length;return{label:`${n} ${a}`,x:a,y:n}}),s=o.reduce((e,t)=>e+t.y,0),{podStatusInnerRadius:u,podStatusOuterRadius:p}=Object(d.vc)(130);return n.createElement("div",{ref:a,className:"graph-wrapper--gauge"},n.createElement(l.a,{colorScale:m,constrainToVisibleArea:!0,data:o,height:r,title:s.toString(),width:r,innerRadius:u,radius:p}),n.createElement("div",{className:"graph-donut-subtitle","data-test-id":"chart-donut-subtitle"},t))};u.displayName="PodStatusChart"},6622:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),l=a(70),r=a(972),o=a(5),s=a(5759),c=a(5796);const i=({descriptor:e,obj:t,schema:a})=>{const{displayName:i,value:d}=Object(c.f)(s.b.status,e,a,t);return((e,t)=>!!l.a(t)||(console.warn(`[Invalid x-descriptor] 'urn:alm:descriptor:io.kubernetes.conditions' is incompatible with ${e.path} and will have no effect`,e),!1))(e,d)?n.createElement("div",{className:"co-m-pane__body"},n.createElement(o.ob,{text:i}),n.createElement(r.b,{conditions:d})):null};i.displayName="DescriptorConditions"},6623:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(7),r=a(692),o=a(6244);const s=()=>{const{t:e}=Object(l.useTranslation)(),[t,a]=Object(o.a)();return n.createElement(r.a,{label:e("olm~Show operands in:"),currentValue:t?"true":"false",inline:!0,items:[{value:"true",title:e("olm~All namespaces")},{value:"false",title:e("olm~Current namespace only")}],onChange:({currentTarget:e})=>a("true"===e.value)})}},6624:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a(7),r=a(5),o=a(2268),s=a(2241);const c=({catalogSource:e,csvPlugins:t,enabledPlugins:a,setPluginEnabled:c})=>{const{t:i}=Object(l.useTranslation)(),d=t.length;return n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},i("olm~Console plugin",{count:d})),n.createElement(r.B,null,i("olm~This operator includes a console plugin which provides a custom interface that can be included in the console. The console plugin will prompt for the console to be refreshed once it has been enabled. Make sure you trust this console plugin before enabling.")),t.map(e=>n.createElement("fieldset",{key:e},n.createElement("div",null,d>1&&n.createElement("legend",{className:"co-legend co-legend--nested text-muted"},e),n.createElement(o.a,{name:e,enabled:a.includes(e),onChange:t=>c(e,t)})))),n.createElement(o.b,{previouslyEnabled:!1,enabled:(null==a?void 0:a.length)>0,trusted:Object(s.a)(e)})))}},7471:function(e,t,a){"use strict";a.d(t,"a",(function(){return ce}));var n,l,r=a(0),o=a(248),s=a(12094),c=a(156),i=a(405),d=a(611),m=a(355),u=a(19),p=a(566),v=a(18),b=a(22),g=a(255),h=a(313),E=a(240),f=a(57),O=a(160),N=a(117),j=a(461),y=a(640),k=a(50),S=a(667),C=a(16),w=a(373),P=a(7),M=a(14),I=a(5),_=a(983),T=a(7472),x=a(359),A=a(15),D=a(900),V=a(197),R=a(474),F=a(125),L=a(5737),$=a(7473),G=a(7474),U=a(1947),H=a(59);const z=null!==(n=window.SERVER_FLAGS.nodeOperatingSystems)&&void 0!==n?n:[],q=z.map(e=>"operatorframework.io/os."+e),K=null!==(l=window.SERVER_FLAGS.nodeArchitectures)&&void 0!==l?l:[],W=K.map(e=>"operatorframework.io/arch."+e),B=({text:e})=>r.createElement("span",{key:e,className:"pf-v5-c-badge pf-m-read"},r.createElement(s.a,{className:"pf-v5-c-truncate--no-min-width",content:e})),J=["source","provider","installState","capabilityLevel","infraFeatures","validSubscriptionFilters"],Y=[", Inc.",", Inc"," Inc."," Inc",", LLC"," LLC"],X=e=>{const t={};f.a(e,e=>{f.a(e.categories,e=>{!t[e]&&e&&(t[e]={id:e,label:e,field:"categories",values:[e]})})});const a=O.a(t).sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()));return g.a(a,(e,a)=>(e[a]=t[a],e),{})},Q=e=>"red hat"===e.value.toLowerCase()?"":e.value,Z=e=>{switch(e.value){case R.i.RedHatOperators:return 0;case R.i.CertifiedOperators:return 1;case R.i.CommunityOperators:return 2;case R.i.RedHatMarketplace:return 3;default:return 4}},ee=e=>{switch(e.value){case H.c.Installed:return 0;case H.c.NotInstalled:return 1;default:return 3}},te=e=>{switch(e.value){case H.a.BasicInstall:return 0;case H.a.SeamlessUpgrades:return 1;case H.a.FullLifecycle:return 2;case H.a.DeepInsights:return 3;default:return 5}},ae=e=>{switch(e.value){case H.b.Disconnected:return 0;case H.b.ProxyAware:return 1;case H.b.FIPSMode:return 2;case H.b.TokenAuth:return 3;case H.b.TLSProfiles:return 4;default:return 5}},ne=e=>{switch(e.value){case H.e.OpenShiftKubernetesEngine:return 0;case H.e.OpenShiftContainerPlatform:return 1;case H.e.OpenShiftPlatformPlus:return 2;case H.e.RequiresSeparateSubscription:return 3;default:return 4}},le=(e,t,a)=>{const n=y.a(e);return f.a(a,e=>{const a=[];f.a(t,t=>{let n,l=t[e];"provider"===e&&(l=(e=>{if(!e)return e;const t=N.a(Y,t=>e.endsWith(t));return t?e.substring(0,e.indexOf(t)):e})(l),n=k.a(Y,e=>`${l}${e}`)),void 0===l||Array.isArray(l)||h.a(a,{value:l})||a.push({label:l,synonyms:n,value:l,active:!1}),Array.isArray(l)&&f.a(l,e=>{h.a(a,{v:e})||a.push({label:e,synonyms:n,value:e,active:!1})})}),f.a(((e,t)=>{let a=["value"];return"provider"===t&&(a=Q),"source"===t?j.a(e,[Z,"value"]):("installState"===t&&(a=ee),"capabilityLevel"===t&&(a=te),"infraFeatures"===t&&(a=ae),"validSubscriptionFilters"===t&&(a=ne),j.a(e,a))})(a,e),t=>S.a(n,[e,t.value],t))}),n.installState?(S.a(n,"installState.Installed.label",x.a.t("olm~Installed")),S.a(n,"installState.Not Installed.label",x.a.t("olm~Not Installed"))):n.installState={Installed:{label:x.a.t("olm~Installed"),value:"Installed",active:!1},"Not Installed":{label:x.a.t("olm~Not Installed"),value:"Not Installed",active:!1}},n},re=(e,t)=>{var a,n;if(!e)return!0;if(!t)return!1;const l=null!==(n=null===(a=t.keywords)||void 0===a?void 0:a.map(e=>e.toLowerCase()))&&void 0!==n?n:[];return t.name.toLowerCase().includes(e)||C.a(t,"obj.metadata.name","").toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)||t.tags&&t.tags.includes(e)||l.includes(e)},oe=e=>{const t=new URL(window.location.href),a=`?${e.toString()}${t.hash}`;_.b.replace(`${t.pathname}${a}`)},se=({item:e,onClick:t})=>{const{t:a}=Object(P.useTranslation)();if(!e)return null;const{uid:n,name:l,imgUrl:s,provider:c,description:i,installed:d}=e,m=c?a("olm~provided by {{provider}}",{provider:c}):null,u=(null==e?void 0:e.source)?[r.createElement(B,{text:e.source})]:[],p=r.createElement("img",{className:"co-catalog--logo",loading:"lazy",src:s,alt:""});return r.createElement(o.b,{className:"co-catalog-tile",key:n,id:n,title:l,badges:u,icon:p,vendor:(()=>{var t,a;return r.createElement(r.Fragment,null,m,(null===(a=null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.status)||void 0===a?void 0:a.deprecation)&&r.createElement("div",null,r.createElement(L.b,{className:"pf-v5-u-mt-xs",deprecation:e.obj.status.deprecation})))})(),description:i,onClick:a=>{Object(V.U)(a)||(a.preventDefault(),t(e))},href:Object(D.d)("details-item",e.uid),footer:d&&!e.isInstalling?r.createElement("span",null,r.createElement(A.X,null)," ",a("olm~Installed")):null,"data-test":n})},ce=e=>{const{t:t}=Object(P.useTranslation)(),[a,n]=r.useState(null),[l,s]=r.useState(!1),[f,O,y]=Object(A.ff)(A.t,A.s,!1),[k,S]=r.useState(""),[C,x]=r.useState(""),[D,V]=r.useState(null),B=Object(I.Tb)("version"),Y=(Q=e.items,b.a(K)&&b.a(z)?Q:Q.filter(e=>{var t,a,n;const l=g.a(null!==(n=null===(a=null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.metadata)||void 0===a?void 0:a.labels)&&void 0!==n?n:{},(e,t,a)=>(a.includes("operatorframework.io/arch.")&&"supported"===t&&e.arch.push(a),a.includes("operatorframework.io/os.")&&"supported"===t&&e.os.push(a),e),{arch:[],os:[]});return b.a(l.os)&&l.os.push("operatorframework.io/os.linux"),b.a(l.arch)&&l.arch.push("operatorframework.io/arch.amd64"),h.a(l.os,e=>E.a(q,e))&&h.a(l.arch,e=>E.a(W,e))}));var Q;r.useEffect(()=>{var e,t,a;const l=new URLSearchParams(window.location.search).get("details-item"),r=N.a(Y,{uid:l});n(r),s(!w.a(r)),r&&Object(U.i)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(e=r.infraFeatures)||void 0===e?void 0:e.find(e=>e===H.b.TokenAuth))&&V("AWS"),r&&Object(U.j)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(t=r.infraFeatures)||void 0===t?void 0:t.find(e=>e===H.b.TokenAuth))&&V("Azure"),r&&Object(U.k)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(a=r.infraFeatures)||void 0===a?void 0:a.find(e=>e===H.b.TokenAuthGCP))&&V("GCP")},[Y]);const Z=e=>{if(f||e.catalogSource!==R.c.CommunityOperators){const t=new URLSearchParams(window.location.search);t.set("details-item",e.uid),oe(t),n(e),s(!0)}else Object($.a)({showCommunityOperators:t=>(e=>(t=!1)=>{const a=new URLSearchParams(window.location.search);a.set("details-item",e.uid),oe(a),n(e),s(!0),y&&t&&O(!0)})(e)(t)})},ee=a&&a.obj&&`/operatorhub/subscribe?pkg=${a.obj.metadata.name}&catalog=${a.catalogSource}&catalogNamespace=${a.catalogSourceNamespace}&targetNamespace=${e.namespace}&channel=${k}&version=${C}&tokenizedAuth=${D}`,te=r.useMemo(()=>{if(null==a?void 0:a.marketplaceRemoteWorkflow)try{const e=new URL(null==a?void 0:a.marketplaceRemoteWorkflow);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to remote workflow URL",e.message)}return null},[a]);if(b.a(Y))return r.createElement(r.Fragment,null,r.createElement(c.a,{variant:c.b.full,className:"co-status-card__alerts-msg"},r.createElement(i.a,{titleText:r.createElement(r.Fragment,null,t("olm~No Operators available")),headingLevel:"h5"}),r.createElement(d.a,null,window.SERVER_FLAGS.GOOS&&window.SERVER_FLAGS.GOARCH&&r.createElement(m.a,null,t("olm~There are no Operators that match operating system {{os}} and architecture {{arch}}.",{os:window.SERVER_FLAGS.GOOS,arch:window.SERVER_FLAGS.GOARCH})))));const ae={source:t("olm~Source"),provider:t("olm~Provider"),installState:t("olm~Install state"),capabilityLevel:t("olm~Capability level"),infraFeatures:t("olm~Infrastructure features"),validSubscriptionFilters:t("olm~Valid subscription")};return r.createElement(r.Fragment,null,r.createElement(T.a,{items:Y,itemsSorter:e=>j.a(e,({name:e})=>e.toLowerCase()),getAvailableCategories:X,getAvailableFilters:le,filterGroups:J,filterGroupNameMap:ae,keywordCompare:re,renderTile:e=>r.createElement(se,{updateChannel:k,item:e,onClick:Z}),emptyStateTitle:t("olm~No Results Match the Filter Criteria"),emptyStateInfo:t("olm~No OperatorHub items are being shown due to the filters being applied.")}),a&&r.createElement(A.lb,{className:"co-catalog-page__overlay co-catalog-page__overlay--right","data-test-id":"operator-modal-box","aria-labelledby":"catalog-item-header",header:r.createElement(r.Fragment,null,r.createElement(o.a,{className:"co-catalog-page__overlay-header",iconClass:a.iconClass,iconImg:a.imgUrl,title:(()=>{var e,t;return r.createElement(r.Fragment,null,a.name,(null===(t=null===(e=null==a?void 0:a.obj)||void 0===e?void 0:e.status)||void 0===t?void 0:t.deprecation)&&r.createElement(L.b,{className:"pf-v5-u-ml-sm",deprecation:a.obj.status.deprecation}))})(),vendor:t("olm~{{version}} provided by {{provider}}",{version:C||B||a.version,provider:a.provider}),"data-test-id":"operator-modal-header",id:"catalog-item-header"}),r.createElement("div",{className:"co-catalog-page__overlay-actions"},te&&r.createElement(I.z,{additionalClassName:"pf-v5-c-button pf-m-primary co-catalog-page__overlay-action",href:te,text:r.createElement(r.Fragment,null,r.createElement("div",{className:"co-catalog-page__overlay-action-label"},a.marketplaceActionText||t("olm~Purchase")),r.createElement(p.a,{className:"co-catalog-page__overlay-action-icon"}))}),a.installed?r.createElement(u.a,{className:"co-catalog-page__overlay-action","data-test-id":"operator-uninstall-btn",isDisabled:!a.installed,onClick:()=>_.b.push(a&&a.subscription&&`/k8s/ns/${a.subscription.metadata.namespace}/${F.SubscriptionModel.plural}/${a.subscription.metadata.name}?showDelete=true`),variant:"secondary"},t("olm~Uninstall")):r.createElement(M.Link,{className:v("pf-v5-c-button",{"pf-m-secondary":te},{"pf-m-primary":!te},{"pf-m-disabled":!a.obj||a.isInstalling},"co-catalog-page__overlay-action"),"data-test-id":"operator-install-btn",to:ee},t("olm~Install")))),isOpen:!!a&&l,onClose:()=>{const e=new URLSearchParams(window.location.search);e.delete("details-item"),e.delete("channel"),e.delete("version"),oe(e),n(null),s(!1),S(""),x(""),V("")},title:a.name},r.createElement(G.a,{item:a,updateChannel:k,setUpdateChannel:S,updateVersion:C,setUpdateVersion:x})))};ce.displayName="OperatorHubTileView"},7472:function(e,t,a){"use strict";a.d(t,"a",(function(){return oe}));var n=a(0),l=a(16),r=a(22),o=a(4439),s=a(279),c=a(57),i=a(117),d=a(160),m=a(240),u=a(640),p=a(116),v=a(255),b=a(363),g=a(225),h=a(313),E=a(667),f=a(107),O=a(721),N=a(1033),j=a(50),y=a(2338),k=a(359),S=a(7),C=a(21),w=a(248),P=a(156),M=a(405),I=a(355),_=a(611),T=a(612),x=a(19),A=a(242),D=a(2209),V=a(15),R=a(14),F=a(197),L=a(131),$=a(5);const G="category",U="keyword",H=(e,t)=>{if(!e.subcategories){if(!e.values)return[];let a=l.a(t,e.field);Array.isArray(a)||(a=[a]);const n=[e.values,a].reduce((e,t)=>e.filter(e=>t.includes(e)));return r.a(n)?[]:[e]}const a=[];return o.a(e.subcategories,n=>{let o=l.a(t,e.field);Array.isArray(o)||(o=[o]);const s=[n.values,o].reduce((e,t)=>e.filter(e=>t.includes(e)));r.a(s)||a.push(n,...H(n,t))}),a},z=(e,t,a=null)=>{t.items?t.items.includes(e)||(t.items=t.items.concat(e)):t.items=[e],a&&(a.items?a.items.includes(e)||(a.items=a.items.concat(e)):a.items=[e])},q=e=>{e&&o.a(e,(t,a)=>{(({items:e})=>r.a(e))(t)?delete e[a]:q(t.subcategories)})},K=(e,t)=>{o.a(e.subcategories,a=>{a.items&&(a.numItems=s.a(a.items),a.items=t(a.items),K(a,t)),e.subcategories&&c.a(e.items,t=>{if(!i.a(d.a(e.subcategories),a=>m.a(e.subcategories[a].items,t))){let a=l.a(e.subcategories,"other");a||(a={id:e.id+"-other",label:"Other",items:[]},e.subcategories.other=a),a.items.push(t)}})})},W=(e,t)=>{o.a(e,e=>{e.items&&(e.numItems=s.a(e.items),e.items=t(e.items),K(e,t))})},B=(e,t)=>{c.a(e,e=>{let a=!1;c.a(t,t=>{const n=H(t,e);c.a(n,n=>{z(e,t,n),a=!0})}),a||z(e,t.other)}),t.all.numItems=s.a(e),t.all.items=e},J=(e,t,a)=>{const n={id:"all",label:k.a.t("public~All Items")},l={id:"other",label:k.a.t("public~Other")},r=Object.assign(Object.assign({all:n},u.a(a)),{other:l});return B(e,r),q(r),W(r,t),r},Y=e=>{o.a(e,e=>{e.numItems=0,e.items=[],Y(e.subcategories)})},X=(e,t,a)=>{const{keyword:n}=t;if(!n||!n.active)return e;const l=n.value.toLowerCase();return p.a(e,e=>a(l,e))},Q=(e,t,a)=>{if(r.a(t))return e;const n=X(e,t,a),o=((e,t)=>v.a(t,(t,a,n)=>{if(n===U)return t;const r=p.a(a,"active");if(r.length){const a=v.a(r,(e,t)=>(e.push(t.value,...l.a(t,"synonyms",[])),e),[]);t[n]=p.a(e,e=>Array.isArray(e[n])?e[n].some(e=>a.includes(e)):a.includes(e[n]))}return t},{}))(n,t);return[...b.a(o),n].reduce((e,t)=>e.filter(e=>t.includes(e)))},Z=(e,t,a,n,l)=>{const r=Q(e,a,n),o=u.a(l);return Y(o),B(r,o),W(o,t),o},ee=(e,t)=>g.a(t.subcategories,e),te=(e,t)=>!!g.a(t.subcategories,e)||h.a(t.subcategories,t=>te(e,t)),ae=(e,t)=>{let a=null;return o.a(t,t=>{a||(a=t.id===e?t:ae(e,t.subcategories))}),a},ne=(e,t,a,n,r,o,i)=>{const m=X(e,r,i),u=Z(m,t,[],i,o),v=ae(n,u),b=v?v.items:[],g={};return c.a(a,e=>{c.a(d.a(r[e]),t=>{const a=[l.a(r,[e,t,"value"]),...l.a(r,[e,t,"synonyms"],[])],n=p.a(b,t=>Array.isArray(t[e])?t[e].some(e=>a.includes(e)):a.includes(t[e]));E.a(g,[e,t],s.a(n))})}),g},le=(e,t,a)=>{const n=new URLSearchParams(window.location.search),l=n.get(G),r=n.get(U),s=l||"all";let i="";a&&(i=n.get("groupBy")||a.None);const m={};c.a(t,e=>{const t=n.get(e);if(t)try{E.a(m,e,JSON.parse(t))}catch(e){console.warn("could not update filters from url params: could not parse search params",e)}});return{selectedCategoryId:s,activeFilters:((e,t,a,n=null)=>(a.keyword.value=e||"",a.keyword.active=!!e,n&&c.a(d.a(a.kind),e=>E.a(a,["kind",e,"active"],!1)),o.a(t,(e,t)=>{c.a(d.a(a[t]),e=>E.a(a,[t,e,"active"],!1)),c.a(e,e=>{E.a(a,[t,e,"active"],!0)})}),a))(r,m,e,l),groupBy:i}},re={keyword:{value:"",active:!1}},oe=e=>{const{items:t,itemsSorter:a,keywordCompare:o,filterGroups:i,filterGroupNameMap:m,getAvailableCategories:p,getAvailableFilters:b,groupByTypes:h,emptyStateTitle:C,emptyStateInfo:H,renderTile:z,groupItems:q}=e,{t:K}=Object(S.useTranslation)(),[,W]=Object(R.useSearchParams)(),B=n.useRef(),[Y,X]=n.useState(e),[Q,oe]=n.useState(J(t,a,p(t))),[se,ce]=n.useState("all"),[ie,de]=n.useState(re),[me,ue]=n.useState(null),[pe,ve]=n.useState({}),[be,ge]=n.useState(h?h.None:""),he=(e,t)=>{const a=new URLSearchParams(window.location.search);t?a.set(e,Array.isArray(t)?JSON.stringify(t):t):a.delete(e),W(a)},Ee=n.useCallback((e,n,l)=>{if(!t)return;const r=Z(t,a,l,o,e);return{activeFilters:l,selectedCategoryId:n,categories:r,filterCounts:ne(t,a,i,n,l,r,o)}},[]);n.useEffect(()=>{const e=b(re,t,i),a=le(e,i,h),n=Ee(Q,a.selectedCategoryId,a.activeFilters);oe(n.categories),ce(n.selectedCategoryId),de(n.activeFilters),ue(n.filterCounts),ge(null==a?void 0:a.groupBy),B.current.focus({preventScroll:!0})},[]),n.useEffect(()=>{if(!f.a(t,null==Y?void 0:Y.items)){const e=b(re,t,i),n=p(t),r=J(t,a,n),o=v.a(e,(e,t,a)=>a===U?(e.keyword=ie.keyword,e):(c.a(t,(t,n)=>{e[a][n].active=l.a(ie,[a,n,"active"],!1)}),e),e),s=Ee(r,se,o);oe(s.categories),ce(s.selectedCategoryId),de(s.activeFilters),ue(s.filterCounts)}X(e)},[e,i,b,Ee,h,t,ie,p,a,se,null==Y?void 0:Y.items]);const fe=()=>{(()=>{const e=new URLSearchParams;se&&e.set(G,se),W(e)})();const e=((e,t)=>(E.a(e,"keyword.value",""),E.a(e,"keyword.active",!1),c.a(t,t=>{c.a(d.a(e[t]),a=>E.a(e,[t,a,"active"],!1))}),e))(ie,i),t=Ee(Q,se,e);oe(t.categories),ce(t.selectedCategoryId),de(t.activeFilters),ue(t.filterCounts),Object(L.u)()||B.current.focus({preventScroll:!0})},Oe=(e,t,a)=>{if(e===U){O.a(()=>he(U,""+a),500)()}else{const n=u.a(ie[e]);E.a(n,[t,"active"],a),he(e,(e=>{const t=v.a(d.a(e),(t,a)=>e[a].active?t.concat(a):t,[]);return r.a(t)?"":JSON.stringify(t)})(n))}const n=((e,t,a,n)=>(t===U?(E.a(e,"keyword.value",n),E.a(e,"keyword.active",!!n)):E.a(e,[t,a,"active"],n),e))(ie,e,t,a),l=Ee(Q,se,n);oe(l.categories),ce(l.selectedCategoryId),de(l.activeFilters),ue(l.filterCounts)},Ne=Object(V.Ce)(e=>{Oe("keyword",null,e)}),je=(e,t)=>{const{id:a,label:l,subcategories:r,numItems:o}=e,s=a===t,c="all"===a,i="text-capitalize"+(o?"":" co-catalog-tab__empty");return n.createElement(w.j,{key:a,active:s,className:i,hasActiveDescendant:te(t,e),shown:c,"data-test":a,component:()=>n.createElement(R.Link,{to:Object(V.Kd)(G,a),onClick:e=>{Object(F.U)(e)||(e.preventDefault(),(e=>{he(G,e);const t=Ee(Q,e,ie);oe(t.categories),ce(t.selectedCategoryId),de(t.activeFilters),ue(t.filterCounts)})(a))}},l)},r&&n.createElement(w.i,{restrictTabs:!0,activeTab:ee(t,e)},j.a(r,e=>je(e,t))))},ye=(e,t)=>{const a=K("public~Show {{numRemaining}} more",{numRemaining:Object.keys(e).length-5});return n.createElement(w.e,{key:t,title:m[t]||t,onShowAllToggle:()=>(e=>{const t=N.a(pe);E.a(t,e,!l.a(pe,e,!1)),ve(t)})(t),showAll:l.a(pe,t,!1),"data-test-group-name":t,maxShowCount:5,showText:a,hideText:K("public~Show less")},j.a(e,(e,a)=>{const{label:r,active:o}=e;return n.createElement(w.f,{key:a,count:l.a(me,[t,a],0),checked:o,onClick:e=>Oe(t,a,e.target.checked),title:r,"data-test":`${t}-${y.a(a)}`},r)}))};let ke=ae(se,Q);ke||(ke=ae("all",Q));const Se=K("public~{{totalItems}} items",{totalItems:ke.numItems});return n.createElement("div",{className:"co-catalog-page co-catalog-page--with-sidebar"},n.createElement("div",{className:"co-catalog-page__tabs"},(e=>{const t=g.a(Q,e);return n.createElement(w.i,{restrictTabs:!0,activeTab:t,shown:"true"},j.a(Q,t=>je(t,e)))})(ke.id),n.createElement(w.d,null,j.a(ie,(e,t)=>{if(t!==U)return ye(e,t)}))),n.createElement("div",{className:"co-catalog-page__content"},n.createElement("div",{className:"co-catalog-page__header"},n.createElement("div",{className:"co-catalog-page__heading text-capitalize"},ke.label),n.createElement("div",{className:"co-catalog-page__filter"},n.createElement("div",null,n.createElement(D.a,{className:"co-catalog-page__input","data-test":"search-operatorhub",ref:B,placeholder:K("public~Filter by keyword..."),value:ie.keyword.value,onChange:(e,t)=>Ne(t),onClear:()=>Ne(""),"aria-label":K("public~Filter by keyword...")}),q&&n.createElement($.t,{className:"co-catalog-page__btn-group__group-by",menuClassName:"dropdown-menu--text-wrap",items:h,onChange:e=>{return he("groupBy",(t=e)===h.None?"":""+t),void ge(t);var t},titlePrefix:"Group By",title:be})),n.createElement("div",{className:"co-catalog-page__num-items"},Se))),ke.numItems>0&&n.createElement("div",{className:"co-catalog-page__grid"},q&&be!==h.None?(e=>{const t=q(e,be);return n.createElement(V.pc,{items:t,renderCell:z,renderHeader:e=>n.createElement(A.a,{className:"co-catalog-page__group-title",headingLevel:"h2",size:"lg"},e," (",s.a(t[e]),")"),isItemsGrouped:!0})})(ke.items):n.createElement(V.pc,{items:ke.items,renderCell:z})),0===ke.numItems&&n.createElement(P.a,{variant:P.b.full},n.createElement(M.a,{titleText:n.createElement(n.Fragment,null,C),headingLevel:"h2"}),n.createElement(I.a,null,H),n.createElement(_.a,null,n.createElement(T.a,null,n.createElement(x.a,{variant:"link",onClick:()=>fe(),"data-test-id":"catalog-clear-filters"},k.a.t("public~Clear All Filters")))))))};oe.displayName="TileViewPage",oe.propTypes={items:C.array,itemsSorter:C.func.isRequired,getAvailableCategories:C.func.isRequired,getAvailableFilters:C.func,filterGroups:C.array.isRequired,filterGroupNameMap:C.object,renderFilterGroup:C.func,keywordCompare:C.func.isRequired,renderTile:C.func.isRequired,emptyStateTitle:C.string,emptyStateInfo:C.string,groupItems:C.func,groupByTypes:C.object},oe.defaultProps={items:null,getAvailableFilters:(e,t,a)=>{const n=u.a(e);return c.a(a,e=>{c.a(t,t=>{const a=t[e];a&&E.a(n,[e,a],{label:a,value:a,active:!1})})}),n},filterGroupNameMap:{},renderFilterGroup:null,emptyStateTitle:"No Results Match the Filter Criteria",emptyStateInfo:"No items are being shown due to the filters being applied."}},7473:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a(472),r=a(873),o=a(7),s=a(118),c=a(5),i=a(15);const d=Object(s.f)(({close:e,showCommunityOperators:t})=>{const{t:a}=Object(o.useTranslation)(),[d,m]=n.useState(!1),u=n.useCallback(a=>{a.preventDefault(),e(),t(d)},[e,d,t]);return n.createElement("form",{onSubmit:u,className:"modal-content co-modal-ignore-warning"},n.createElement(s.d,null,a("olm~Show community Operator")),n.createElement(s.a,null,n.createElement("div",{className:"co-modal-ignore-warning__content"},n.createElement("div",{className:"co-modal-ignore-warning__icon"},n.createElement(r.a,null)),n.createElement("div",null,n.createElement("p",null,a("olm~Community Operators are Operators which have not been vetted or verified by Red Hat. Community Operators should be used with caution because their stability is unknown. Red Hat provides no support for community Operators."),i.Jb&&n.createElement("span",{className:"co-modal-ignore-warning__link"},n.createElement(c.z,{href:i.Jb,text:a("olm~Learn more about Red Hat’s third party software support policy")}))),n.createElement(l.a,{className:"co-modal-ignore-warning__checkbox",onChange:(e,t)=>m(t),isChecked:d,"data-checked-state":d,id:"do-not-show-warning",label:a("olm~Do not show this warning again")})))),n.createElement(s.c,{submitText:a("olm~Continue"),inProgress:!1,errorMessage:"",cancel:e}))})},7474:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(0),l=a(248),r=a(9585),o=a(9586),s=a(9587),c=a(9588),i=a(476),d=a(18),m=a(501),u=a(7),p=a(14),v=a(5),b=a(108),g=a(8),h=a(15),E=a(474),f=a(125),O=a(4385),N=a(5737),j=a(6120),y=a(1405),k=a(6355),S=a(5417),C=a(1947),w=a(59);const P=["Basic Install","Seamless Upgrades","Full Lifecycle","Deep Insights","Auto Pilot"],M=({selectedChannelCapabilityLevel:e})=>{const{t:t}=Object(u.useTranslation)(),a=P.indexOf(e);return n.createElement("ul",{className:"properties-side-panel-pf-property-value__capability-levels"},P.map((e,l)=>{const r=a>=l;return n.createElement("li",{className:d("properties-side-panel-pf-property-value__capability-level",{"properties-side-panel-pf-property-value__capability-level--active":r}),key:e},r&&n.createElement(i.a,{color:"var(--pf-v5-global--primary-color--100)",className:"properties-side-panel-pf-property-value__capability-level-icon",title:t("olm~Checked")}),t("olm~"+e))}))},I=({latestVersion:e,subscription:t,installedChannel:a})=>{var l,i,d,m,h,E;const{t:O}=Object(u.useTranslation)(),[N]=Object(b.a)({kind:Object(g.Hb)(f.ClusterServiceVersionModel),name:null===(l=null==t?void 0:t.status)||void 0===l?void 0:l.installedCSV,namespace:null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.namespace,isList:!1,namespaced:!0}),j="/k8s/ns/"+t.metadata.namespace,y=N?`${j}/clusterserviceversions/${null!==(m=null===(d=null==N?void 0:N.metadata)||void 0===d?void 0:d.name)&&void 0!==m?m:""}`:`${j}/subscriptions/${null!==(h=t.metadata.name)&&void 0!==h?h:""}`,k=null===(E=null==N?void 0:N.spec)||void 0===E?void 0:E.version;return n.createElement(v.D,{className:"co-catalog-page__hint",title:O("olm~Installed Operator")},n.createElement("p",null,O("olm~This Operator has been installed on the cluster.")," ",n.createElement(p.Link,{to:y},O("olm~View it here."))),k!==e?n.createElement(n.Fragment,null,n.createElement(r.a,{columnModifier:{default:"2Col"}},n.createElement(o.a,null,n.createElement(s.a,null,O("olm~Installed Channel")),n.createElement(c.a,null,a)),n.createElement(o.a,null,n.createElement(s.a,null,O("olm~Installed Version")),n.createElement(c.a,null,k)))):null)},_=({subscription:e})=>{var t,a,l,r,o;const{t:s}=Object(u.useTranslation)(),[c]=Object(b.a)((null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.installedCSV)?{kind:Object(g.Hb)(f.ClusterServiceVersionModel),name:null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.installedCSV,namespace:null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.namespace,isList:!1,namespaced:!0}:null),i="/k8s/ns/"+e.metadata.namespace,d=c?`${i}/clusterserviceversions/${null===(r=null==c?void 0:c.metadata)||void 0===r?void 0:r.name}/subscription`:`${i}/subscriptions/${null!==(o=e.metadata.name)&&void 0!==o?o:""}`;return n.createElement(v.D,{className:"co-catalog-page__hint",title:s("olm~Installing Operator")},n.createElement("p",null,n.createElement("span",null,n.createElement(u.Trans,{ns:"olm"},"This Operator is being installed on the cluster."))," ",n.createElement(p.Link,{to:d},s("olm~View it here."))))},T=e=>{const{t:t}=Object(u.useTranslation)(),{installed:a,isInstalling:l,catalogSource:r}=e;return l?n.createElement(_,Object.assign({},e)):a?n.createElement(I,Object.assign({},e)):r===E.c.CommunityOperators?n.createElement(v.D,{className:"co-catalog-page__hint",title:t("olm~Community Operator")},n.createElement("p",null,t("olm~This is a community provided Operator. These are Operators which have not been vetted or verified by Red Hat. Community Operators should be used with caution because their stability is unknown. Red Hat provides no support for community Operators.")),h.Jb&&n.createElement("span",{className:"co-modal-ignore-warning__link"},n.createElement(v.z,{href:h.Jb,text:t("olm~Learn more about Red Hat’s third party software support policy")}))):r===E.c.RedHatMarketPlace?n.createElement(v.D,{title:t("olm~Marketplace Operator")},n.createElement("p",null,t("olm~This Operator is purchased through Red Hat Marketplace. After completing the purchase process, you can install the Operator on this or other OpenShift clusters. Visit Red Hat Marketplace for more details and to track your usage of this application.")),n.createElement("p",null,n.createElement(v.z,{href:"https://marketplace.redhat.com/en-us?utm_source=openshift_console",text:t("olm~Learn more about the Red Hat Marketplace")}))):null},x=({item:e,updateChannel:t,setUpdateChannel:a,updateVersion:r,setUpdateVersion:o})=>{var s,c,i,d;const{t:p}=Object(u.useTranslation)(),{catalogSource:b,source:g,description:h,infraFeatures:E,installed:f,isInstalling:P,longDescription:I,marketplaceSupportWorkflow:_,obj:x,provider:A,repository:D,subscription:V,support:R,validSubscription:F,version:L,cloudCredentials:$,infrastructure:G,authentication:U}=e,H=Object(v.Tb)("channel"),{deprecatedPackage:z,deprecatedChannel:q,deprecatedVersion:K,setDeprecatedPackage:W}=Object(j.a)(),B=(null==z?void 0:z.deprecation)||(null==q?void 0:q.deprecation)||(null==K?void 0:K.deprecation);n.useEffect(()=>{var t;W(m.a(null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.status,"deprecation"))},[null===(s=null==e?void 0:e.obj)||void 0===s?void 0:s.status,W]);const J=null==x?void 0:x.status.channels.find(e=>e.name===H),Y=null==J?void 0:J.currentCSVDesc.annotations.containerImage,X=(null==J?void 0:J.currentCSVDesc.description)||I,Q=null==J?void 0:J.currentCSVDesc.annotations.createdAt,Z=null!==(c=null==J?void 0:J.currentCSVDesc.annotations.capabilities)&&void 0!==c?c:e.capabilityLevel,ee=null===(d=null===(i=null==e?void 0:e.subscription)||void 0===i?void 0:i.spec)||void 0===d?void 0:d.channel,te=n.createElement("span",{className:"properties-side-panel-pf-property-label"},p("olm~N/A")),ae=Date.parse(Q)?n.createElement(v.xb,{timestamp:Q}):Q,[ne,le]=n.useState(!0),re=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.call(e,e=>n.createElement("div",{key:e},e)))&&void 0!==a?a:te},oe=re(E),se=re(F),ce=n.useMemo(()=>{if(_)try{const e=new URL(_);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to support workflow URL",e.message)}return null},[_]),ie=t||Object(y.d)(x);return e?n.createElement("div",{className:"modal-body modal-body-border"},n.createElement("div",{className:"modal-body-content"},n.createElement("div",{className:"modal-body-inner-shadow-covers"},n.createElement("div",{className:"co-catalog-page__overlay-body"},n.createElement(l.g,null,n.createElement(l.h,{label:p("olm~Channel"),value:n.createElement(k.a,{packageManifest:x,selectedUpdateChannel:ie,setUpdateChannel:a,setUpdateVersion:o})}),n.createElement(l.h,{label:p("olm~Version"),value:n.createElement(k.b,{packageManifest:x,selectedUpdateChannel:ie,updateVersion:r,setUpdateVersion:o})}),n.createElement(l.h,{label:p("olm~Capability level"),value:Z?n.createElement(M,{selectedChannelCapabilityLevel:Z}):te}),n.createElement(l.h,{label:p("olm~Source"),value:g||te}),n.createElement(l.h,{label:p("olm~Provider"),value:A||te}),(null==E?void 0:E.length)>0&&n.createElement(l.h,{label:p("olm~Infrastructure features"),value:oe}),(null==F?void 0:F.length)>0&&n.createElement(l.h,{label:p("olm~Valid Subscriptions"),value:se}),n.createElement(l.h,{label:p("olm~Repository"),value:D?n.createElement(v.z,{href:D,text:D}):te}),n.createElement(l.h,{label:p("olm~Container image"),value:Y?n.createElement("div",{className:"co-break-all co-select-to-copy"},Y):te}),n.createElement(l.h,{label:p("olm~Created at"),value:ae||te}),n.createElement(l.h,{label:p("olm~Support"),value:ce?n.createElement(v.z,{href:ce,text:p("olm~Get support")}):R||te})),n.createElement("div",{className:"co-catalog-page__overlay-description"},Object(C.i)($,G,U)&&ne&&(null==E?void 0:E.find(e=>e===w.b.TokenAuth))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in STS Mode"),message:p("olm~This cluster is using AWS Security Token Service to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, you must provide a role ARN (with an attached policy) during installation. Please see the operator description for more details."),onClose:()=>le(!1)}),Object(C.j)($,G,U)&&ne&&(null==E?void 0:E.find(e=>e===w.b.TokenAuth))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in Azure Workload Identity / Federated Identity Mode"),message:p("olm~This cluster is using Azure Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Client ID, Tenant ID, and Subscription ID during installation. See the operator description for more details."),onClose:()=>le(!1)}),Object(C.k)($,G,U)&&ne&&(null==E?void 0:E.find(e=>e===w.b.TokenAuthGCP))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in GCP Workload Identity / Federated Identity Mode"),message:p("olm~This cluster is using GCP Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Pool ID, Provider ID, and Service Account Email during installation. See the operator description for more details."),onClose:()=>le(!1)}),B&&n.createElement(N.a,{deprecatedPackage:z,deprecatedChannel:q,deprecatedVersion:K}),n.createElement(T,{installed:f,isInstalling:P,latestVersion:L,catalogSource:b,subscription:V,installedChannel:ee,cloudCredentials:$,authentication:U,infrastructure:G}),X?n.createElement(O.MarkdownView,{content:X}):h))))):null};x.defaultProps={item:null},x.displayName="OperatorHubItemDetails"}}]);
//# sourceMappingURL=operator-hub-chunk-69a4390c5c5950f87976.min.js.map