(window.webpackJsonp=window.webpackJsonp||[]).push([[246,20,35,44,57,120,126,283],{11335:function(e,t,a){"use strict";var n=a(0),i=a(469),s=a(7),r=a(40),l=a(5586),o=a(11336),c=a(11337);t.a=e=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.j,Object.assign({},e,{defaultSortField:"latestRun.status.startTime",defaultSortOrder:i.a.desc,"aria-label":t(l.PipelineModel.labelPluralKey),Header:o.a,Row:c.a,virtualize:!0}))}},11336:function(e,t,a){"use strict";var n=a(54),i=a(29),s=a(8259);t.a=()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[n.a],props:{className:s.a[0]}},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[n.a],props:{className:s.a[1]},id:"namespace"},{title:i.a.t("pipelines-plugin~Last run"),sortField:"latestRun.metadata.name",transforms:[n.a],props:{className:s.a[2]}},{title:i.a.t("pipelines-plugin~Task status"),sortField:"latestRun.status.succeededCondition",transforms:[n.a],props:{className:s.a[3]}},{title:i.a.t("pipelines-plugin~Last run status"),sortField:"latestRun.status.succeededCondition",transforms:[n.a],props:{className:s.a[4]}},{title:i.a.t("pipelines-plugin~Last run time"),sortField:"latestRun.status.completionTime",transforms:[n.a],props:{className:s.a[5]}},{title:"",props:{className:s.a[6]}}]},11337:function(e,t,a){"use strict";var n=a(0),i=a(40),s=a(5),r=a(8),l=a(5586),o=a(5595),c=a(5617),u=a(5623),d=a(6039),p=a(6432),m=a(6852),b=a(8259),v=a(11338);const g=Object(r.Hb)(l.PipelineModel),f=Object(r.Hb)(l.PipelineRunModel),h={},E={},O=({obj:e})=>n.createElement(m.a,{status:Object(c.b)(e),title:Object(c.h)(e),pipelineRun:e.latestRun}),y=({obj:e,PLRTaskRuns:t,taskRunsLoaded:a,taskRunStatusObj:r})=>{var l,o;return n.createElement(n.Fragment,null,n.createElement(i.k,{className:b.a[0]},n.createElement(s.hb,{kind:g,name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(i.k,{className:b.a[1],columnID:"namespace"},n.createElement(s.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(i.k,{className:b.a[2]},e.latestRun&&e.latestRun.metadata&&e.latestRun.metadata.name?n.createElement(s.hb,{kind:f,name:e.latestRun.metadata.name,namespace:e.latestRun.metadata.namespace}):"-"),n.createElement(i.k,{className:b.a[3]},e.latestRun?n.createElement(p.a,{pipelineRun:e.latestRun,taskRuns:t,taskRunsLoaded:a,taskRunStatusObj:r}):"-"),n.createElement(i.k,{className:b.a[4]},n.createElement(O,{obj:e})),n.createElement(i.k,{className:b.a[5]},(null===(o=null===(l=e.latestRun)||void 0===l?void 0:l.status)||void 0===o?void 0:o.startTime)&&n.createElement(s.xb,{timestamp:e.latestRun.status.startTime})||"-"),n.createElement(i.k,{className:b.a[6]},n.createElement(v.a,{pipeline:e})))},k=n.memo(({obj:e,taskRunStatusObj:t})=>n.createElement(y,{obj:e,PLRTaskRuns:[],taskRunsLoaded:!0,taskRunStatusObj:t})),j=n.memo(({obj:e})=>{const t=`${e.latestRun.metadata.namespace}-${e.latestRun.metadata.name}`,[a,i]=Object(d.a)(e.latestRun.metadata.namespace,e.latestRun.metadata.name,void 0,`${e.latestRun.metadata.namespace}-${e.latestRun.metadata.name}`);return E[t]=!1,i&&(h[t]=a),n.createElement(y,{obj:e,PLRTaskRuns:a,taskRunsLoaded:i,taskRunStatusObj:void 0})}),T=n.memo(({obj:e})=>{let t,a;const i=`${e.latestRun.metadata.namespace}-${e.latestRun.metadata.name}`,s=h[i];if(s)t=s,a=!0;else{if(!E[i])return n.createElement(j,{obj:e});t=[],a=!0,E[i]=!0}return n.createElement(y,{obj:e,PLRTaskRuns:t,taskRunsLoaded:a,taskRunStatusObj:void 0})});t.a=({obj:e})=>{var t,a,i;if(Object(c.d)(e.latestRun)===o.a.Cancelled&&(null!==(i=null===(a=null===(t=null==e?void 0:e.latestRun)||void 0===t?void 0:t.status)||void 0===a?void 0:a.childReferences)&&void 0!==i?i:[]).length>0)return n.createElement(T,{obj:e});const s=Object(u.n)(e.latestRun);return n.createElement(k,{obj:e,taskRunStatusObj:s})}},11338:function(e,t,a){"use strict";var n=a(0),i=a(8),s=a(5586),r=a(6087),l=a(6057),o=a(6056);const c=Object(i.Hb)(s.PipelineModel);t.a=({pipeline:e})=>{const{metadata:{name:t,namespace:a}}=e,i=Object(o.d)(t,a)||[];return n.createElement(l.a,{actions:Object(r.a)(e.latestRun,i.length>0),kind:c,resource:e})}},11339:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(11340),l=a(11342);t.a=({obj:e})=>{var t;const{t:a}=Object(i.useTranslation)(),o=(null===(t=e.spec.triggers)||void 0===t?void 0:t.filter(e=>{var t,a;return(null===(t=e.template)||void 0===t?void 0:t.ref)||(null===(a=e.template)||void 0===a?void 0:a.name)}))||[];return n.createElement("div",{className:"co-m-pane__body"},n.createElement(s.ob,{text:a("pipelines-plugin~EventListener details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(s.lb,{resource:e})),n.createElement("div",{className:"col-sm-6"},n.createElement(l.a,{eventListener:e,namespace:e.metadata.namespace}),o.length>0&&n.createElement(r.a,{namespace:e.metadata.namespace,triggers:o}))))}},11340:function(e,t,a){"use strict";var n=a(0),i=a(22),s=a(7),r=a(5),l=a(8),o=a(5586),c=a(6850),u=a(6056);a(11341);t.a=({namespace:e,triggers:t})=>{const{t:a}=Object(s.useTranslation)(),d=t.filter(e=>{var t,a;return(null===(t=e.template)||void 0===t?void 0:t.ref)||(null===(a=e.template)||void 0===a?void 0:a.name)});return 0===d.length?null:n.createElement("dl",null,n.createElement("dt",null,a("pipelines-plugin~Triggers")),n.createElement("dd",null,d.map(t=>{var a,s;const d=Object(l.Hb)(o.TriggerTemplateModel),p=(null===(a=t.template)||void 0===a?void 0:a.ref)||(null===(s=t.template)||void 0===s?void 0:s.name),m=Object(u.a)(t.bindings);return n.createElement("div",{key:`${d}/${p}`},n.createElement(r.hb,{kind:d,name:p,displayName:p,namespace:e,title:p,inline:!0}),!i.a(m)&&n.createElement("div",{className:"odc-event-listener-triggers__bindings"},n.createElement(c.a,{links:m,namespace:e,removeSpaceBelow:!0})))})))}},11341:function(e,t,a){},11342:function(e,t,a){"use strict";var n=a(0),i=a(6139),s=a(7),r=a(6056);a(11343);t.a=({eventListener:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)(),l=Object(r.c)(e,t);return l&&n.createElement("div",{className:"odc-event-listener-url"},n.createElement("dl",null,n.createElement("dt",null,a("pipelines-plugin~URL")),n.createElement("dd",null,n.createElement(i.a,{variant:i.b.inlineCompact},l))))}},11343:function(e,t,a){},11344:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(5586),l=a(8262),o=a(6056);t.a=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),a=Object(o.f)(e),c=Object(o.b)(e);return n.createElement("div",{className:"co-m-pane__body"},n.createElement(s.ob,{text:t("pipelines-plugin~TriggerTemplate details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(s.lb,{resource:e})),n.createElement("div",{className:"col-sm-6"},n.createElement(l.a,{namespace:e.metadata.namespace,model:r.PipelineModel,links:[c]}),n.createElement(l.a,{namespace:e.metadata.namespace,model:r.EventListenerModel,links:a}))))}},11345:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(5586),l=a(5635),o=a(8262),c=a(6056);t.a=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),a=Object(c.e)(e);return n.createElement("div",{className:"co-m-pane__body"},n.createElement(s.ob,{text:t("pipelines-plugin~{{triggerBindingLabel}} details",{triggerBindingLabel:t(Object(l.e)(e.kind).labelKey)})}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(s.lb,{resource:e})),n.createElement("div",{className:"col-sm-6"},n.createElement(o.a,{namespace:e.metadata.namespace,model:r.EventListenerModel,links:a}))))}},11346:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(29),i=a(689),s=a(15),r=a(7493);const l=()=>i.array().of(i.object({name:i.string().required(),resource:i.string()})),o=(e,t)=>i.array().of(i.string().test("tasks-matches-runAfters",n.a.t("pipelines-plugin~Invalid runAfter"),(function(a){return Object(r.a)(e,[a],t.name)}))),c=e=>i.array().of(i.lazy(t=>i.object({name:Object(s.Zd)(e=>n.a.t(e)),taskRef:i.object({name:i.string(),kind:i.string()}).default(void 0),taskSpec:i.object(),runAfter:o(e,t),params:i.array().of(i.object({name:i.string().required(),value:i.lazy(e=>Array.isArray(e)?i.array().of(i.string()):i.string())})),resources:i.object({inputs:l(),outputs:l()}),when:i.array().of(i.object({input:i.string(),operator:i.string(),values:i.array().of(i.string())})),workspaces:i.array().of(i.object({name:i.string().required(),workspace:i.string()}))}).test("taskRef-or-taskSpec",n.a.t("pipelines-plugin~TaskSpec or TaskRef must be provided."),(function(e){return!!e.taskRef||!!e.taskSpec})))),u=e=>i.object({metadata:i.object({name:i.string()}),spec:i.object({params:i.array().of(i.object({name:i.string(),description:i.string(),default:i.lazy(e=>Array.isArray(e)?i.array():i.string())})),resources:i.array().of(i.object({name:i.string(),type:i.string()})),workspaces:i.array().of(i.object({name:i.string()})),tasks:c(e),finally:c(e)})})},11347:function(e,t,a){"use strict";var n=a(0),i=a(465),s=a(1933),r=a(2218),l=a(22),o=a(7),c=a(15),u=a(614),d=a(206),p=a(5586),m=a(11348),b=a(5588),v=a(6038),g=a(8267),f=a(7494),h=a(11355),E=a(11358),O=a(11360),y=a(11362),k=a(11375);a(8268);t.a=e=>{var t;const{t:a}=Object(o.useTranslation)(),j=Object(d.a)(b.e),[T,R]=n.useState(null),_=n.useRef(null);_.current=T;const S=n.useRef(null),{existingPipeline:N,status:P,isSubmitting:w,dirty:C,handleReset:x,handleSubmit:I,errors:L,namespace:A,setFieldValue:D,values:{editorType:M,formData:F,taskResources:U},validateForm:B}=e;Object(f.c)(A,B,j),Object(f.b)();const q=n.useRef(P),[$,K]=n.useState(!1),G=n.useRef(()=>{});q.current=P;const V=()=>{R(null),_.current=null},W=e=>{const{tasks:t,listTasks:a,finallyTasks:n,finallyListTasks:i,loadingTasks:s}=e;D("formData",Object.assign(Object.assign({},F),{tasks:t,listTasks:a,loadingTasks:s,finallyTasks:n,finallyListTasks:i}))},H=(null==T?void 0:T.isFinallyTask)?"finallyTasks":"tasks",Y=null===(t=F[H][null==T?void 0:T.taskIndex])||void 0===t?void 0:t.name,z=Y?[Y]:[],Q={tasks:F.tasks,listTasks:F.listTasks,loadingTasks:F.loadingTasks,highlightedIds:z,finallyTasks:F.finallyTasks,finallyListTasks:F.finallyListTasks},J=(e,t)=>{W(Object(k.a)(e,t))},Z=n.useCallback(()=>{V(),x()},[x]),X=n.createElement(E.a,{hasExistingPipeline:!!N,taskGroup:Q,taskResources:U,onTaskSelection:(e,t,a)=>{const n=a?F.finallyTasks:F.tasks;R({isFinallyTask:a,taskIndex:n.findIndex(({name:t})=>t===e.name),resource:t})},onTaskSearch:e=>{K(!0),V(),G.current=e},onUpdateTasks:J}),ee=n.createElement(c.C,{name:"yamlData",model:p.PipelineModel,showSamples:!N,onSave:I}),te=n.useCallback(()=>{if(S.current&&T){const e=_.current;setTimeout(()=>{var t,a;(null==e?void 0:e.taskIndex)===(null===(t=_.current)||void 0===t?void 0:t.taskIndex)&&(null==e?void 0:e.isFinallyTask)===(null===(a=_.current)||void 0===a?void 0:a.isFinallyTask)&&R(null)},0)}},[T]);return n.createElement(i.a,{isExpanded:!!T,position:"right"},n.createElement(s.a,{panelContent:T?n.createElement(y.a,{key:null==T?void 0:T.taskIndex,onClose:()=>R(null),resourceList:F.resources||[],workspaceList:F.workspaces||[],errorMap:(null==P?void 0:P.tasks)||{},onRenameTask:e=>{W(Object(k.a)(Q,{type:v.d.RENAME_TASK,data:e}))},onRemoveTask:e=>{Object(h.a)(e,()=>{R(null),W(Object(k.a)(Q,{type:v.d.REMOVE_TASK,data:{taskName:e}}))})},selectedData:T}):null},n.createElement(r.a,{onClick:te},n.createElement("div",{className:"opp-pipeline-builder  ocs-quick-search-modal__no-backdrop",ref:S},n.createElement(O.a,{namespace:A}),n.createElement(c.P,{className:"opp-pipeline-builder-form",onSubmit:I},n.createElement("div",{className:"opp-pipeline-builder-form__content"},n.createElement(c.Q,{flexLayout:!0,disablePaneBody:!0,className:"co-m-pane__body co-m-pane__body--no-top-margin"},n.createElement(m.a,{namespace:A,viewContainer:S.current,isOpen:$,callback:G.current,setIsOpen:e=>K(e),onUpdateTasks:J,taskGroup:Q}),n.createElement(c.fc,{noMargin:!0,name:"editorType",formContext:{name:"formData",editor:X,label:a("pipelines-plugin~Pipeline builder"),sanitizeTo:e=>Object(g.a)(F,e)},yamlContext:{name:"yamlData",editor:ee,sanitizeTo:()=>Object(g.b)(F,A,N)},lastViewUserSettingKey:"pipeline.pipelineBuilderForm.editor.lastView"}))),n.createElement(c.R,{handleReset:Z,errorMessage:null==P?void 0:P.submitError,isSubmitting:w,submitLabel:a(N?"pipelines-plugin~Save":"pipelines-plugin~Create"),disableSubmit:M===u.b.YAML?!C:!C||!l.a(L)||!l.a(null==P?void 0:P.tasks)||!l.a(null==P?void 0:P[v.a])||0===F.tasks.length||F.loadingTasks.length>0,resetLabel:a("pipelines-plugin~Cancel"),sticky:!0}))))))}},11348:function(e,t,a){"use strict";var n=a(0),i=a(407),s=a(7),r=a(15),l=a(6854),o=a(5588),c=a(7494),u=a(7495),d=a(11349);const p=({catalogService:e,namespace:t,viewContainer:a,isOpen:p,setIsOpen:m,callback:b,onUpdateTasks:v,taskGroup:g})=>{const{t:f}=Object(s.useTranslation)(),h=n.useRef(null);h.current=b;const[E,O]=n.useState([]);Object(c.d)(v,g),Object(c.a)(E,v,g);const y=[{catalogType:"pipelinesTaskCatalog",items:e.items.reduce((a,n)=>{var i,s,r;const c=Object(u.b)(e.items,n);return n.provider!==o.t.artifactHub&&n.provider!==o.t.tektonHub||n.type===o.t.redhat||(n.attributes.installed="",c&&(n.attributes.installed=null===(r=null===(s=null===(i=c.attributes)||void 0===i?void 0:i.versions[0])||void 0===s?void 0:s.version)||void 0===r?void 0:r.toString())),n.cta.callback=({selectedVersion:e})=>new Promise(a=>{if(!Object(u.f)(n))if(n.provider===o.t.tektonHub){const i=Object(u.d)(n,e);c?e===n.attributes.installed?a(h.current(c.data)):(a(h.current({metadata:{name:n.data.name}})),Object(u.l)(i,c,t,n.data.name).catch(()=>O([...E,n.data.name]))):(a(h.current({metadata:{name:n.data.name}})),Object(u.a)(i,t).catch(()=>O([...E,n.data.name])))}else a(h.current(n.data));if(n.provider===o.t.artifactHub&&Object(u.f)(n)){const i=Object(u.d)(n,e);c?e===n.attributes.installed?a(h.current(c.data)):(a(h.current({metadata:{name:n.data.task.name}})),Object(l.c)(i,c,t,n.data.task.name,e).catch(()=>O([...E,n.data.task.name]))):(a(h.current({metadata:{name:n.data.task.name}})),Object(l.a)(i,t,e).catch(()=>O([...E,n.data.task.name])))}}),Object(u.i)(e.items,n)&&a.push(n),a},[]),loaded:e.loaded,getCatalogURL:(e,t)=>`/search/ns/${t}?keyword=${e}`,catalogLinkLabel:"pipelines-plugin~View all tekton tasks ({{itemCount, number}})",extensions:e.catalogExtensions}];return n.createElement(r.Gb,{quickSearchProviders:y,allItemsLoaded:e.loaded,searchPlaceholder:f("pipelines-plugin~Add task")+"...",namespace:t,viewContainer:a,isOpen:p,setIsOpen:m,disableKeyboardOpen:!0,icon:n.createElement(i.a,{width:"1.5em",height:"1.5em"}),detailsRenderer:e=>n.createElement(d.a,Object.assign({},e))})};t.a=n.memo(({namespace:e,viewContainer:t,isOpen:a,setIsOpen:i,callback:s,onUpdateTasks:l,taskGroup:o})=>n.createElement(r.z,{namespace:e,catalogId:"pipelines-task-catalog"},r=>n.createElement(p,Object.assign({},{namespace:e,viewContainer:t,isOpen:a,setIsOpen:i,catalogService:r,callback:s,onUpdateTasks:l,taskGroup:o}))))},11349:function(e,t,a){"use strict";var n=a(0),i=a(11353),s=a(11354),r=a(242),l=a(351),o=a(516),c=a(164),u=a(19),d=a(563),p=a(967),m=a(406),b=a(2208),v=a(476),g=a(721),f=a(7),h=a(5),E=a(15),O=a(172),y=a(6854),k=a(6855),j=a(7495),T=a(11350),R=a(11351),_=(a(11352),function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))});t.a=({selectedItem:e,closeModal:t})=>{var a,S,N,P,w,C;const{t:x}=Object(f.useTranslation)(),I=Object(O.a)(),[L,A]=n.useState(),[D,M]=n.useState(null!==(S=null===(a=null==e?void 0:e.attributes)||void 0===a?void 0:a.versions)&&void 0!==S?S:[]),[F,U]=n.useState(Object(j.g)(e)),B=n.useCallback(()=>{var t,a,n,i;M(null!==(a=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.versions)&&void 0!==a?a:[]),A(null!==(i=null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.installed)&&void 0!==i?i:""),U(Object(j.g)(e))},[e]),[q,$]=n.useState(!1),K=n.useCallback(t=>{A(t),Object(j.f)(e)&&Object(y.b)(e,t).then(t=>{e.attributes.versions=t.available_versions,e.attributes.selectedVersionContentUrl=t.content_url,e.tags=t.keywords,M([...t.available_versions]),U(Object(j.g)(e))}).catch(e=>{console.warn("Error while getting ArtifactHub Task details:",e),B()})},[B,e]);n.useEffect(()=>{B();let t=!0;if(Object(j.k)(e)&&!Object(j.f)(e)){Object(g.a)(()=>_(void 0,void 0,void 0,(function*(){var a,n;if(t)try{const i=yield Object(k.c)(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.id,null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.apiURL);e.attributes.versions=i,t&&(M([...i]),U(Object(j.g)(e)))}catch(e){t&&B(),console.log("failed to fetch versions:",e)}})),10)()}if(Object(j.f)(e)){Object(g.a)(()=>_(void 0,void 0,void 0,(function*(){if(t){$(!1);try{const a=yield Object(y.b)(e);e.attributes.versions=a.available_versions,e.attributes.selectedVersionContentUrl=a.content_url,e.tags=a.keywords,t&&(M([...a.available_versions]),U(Object(j.g)(e)))}catch(e){t&&B()}finally{$(!0)}}})),10)()}return()=>t=!1},[B,e]),n.useEffect(()=>{var t,a,n,i,s,r;Object(j.j)(e)?A(e.attributes.installed):A((null===(n=null===(a=null===(t=e.data)||void 0===t?void 0:t.latestVersion)||void 0===a?void 0:a.version)||void 0===n?void 0:n.toString())||(null===(r=null===(s=null===(i=e.data)||void 0===i?void 0:i.task)||void 0===s?void 0:s.version)||void 0===r?void 0:r.toString()))},[e]);const G=n.useMemo(()=>null==D?void 0:D.find(e=>{var t;return(null===(t=e.version)||void 0===t?void 0:t.toString())===L}),[L,D]),V=Object(k.b)(null==G?void 0:G.hubURLPath,e.attributes.uiURL);return n.createElement("div",{className:"opp-quick-search-details"},n.createElement(i.a,{hasGutter:!0},n.createElement(s.a,null,n.createElement(r.a,{"data-test":"task-name",headingLevel:"h4"},e.name)),n.createElement(s.a,null,n.createElement(l.a,{"data-test":"task-provider"},e.provider))),n.createElement(i.a,{hasGutter:!0},n.createElement(s.a,null,n.createElement(o.a,{hasGutter:!0},n.createElement(c.a,null,n.createElement(u.a,{isDisabled:Object(j.k)(e)||Object(j.f)(e)&&!q,"data-test":"task-cta",variant:u.d.primary,className:"opp-quick-search-details__form-button",onClick:a=>{Object(E.Md)(a,e,t,I,{selectedVersion:L})}},Object(j.c)(e,L))),D.length>0&&n.createElement(c.a,{"data-test":"task-version-dropdown"},n.createElement(R.a,{key:e.uid,versions:D,item:e,selectedVersion:L,onChange:K})))),F&&n.createElement(s.a,null,n.createElement(l.a,{color:"green",icon:n.createElement(v.a,null),"data-test":"task-installed-badge"},x("pipelines-plugin~Installed")))),n.createElement(T.a,{ctaType:Object(j.e)(e,L)}),n.createElement(d.a,{className:"opp-quick-search-details__description","data-test":"task-description"},e.description,V&&n.createElement(h.z,{additionalClassName:"opp-quick-search-details__hublink",dataTestID:"task-hub-link",href:V,text:x("pipelines-plugin~Read more")})),n.createElement(p.a,{className:"opp-quick-search-details__badges-section",hasGutter:!0},(null===(P=null===(N=null==e?void 0:e.attributes)||void 0===N?void 0:N.categories)||void 0===P?void 0:P.length)>0&&n.createElement(m.a,null,n.createElement(b.a,{categoryName:x("pipelines-plugin~Categories"),"data-test":"task-category-list"},null===(w=null==e?void 0:e.attributes)||void 0===w?void 0:w.categories.map(e=>n.createElement(l.a,{color:"blue",key:e,"data-test":"task-category-list-item"},e)))),(null===(C=null==e?void 0:e.tags)||void 0===C?void 0:C.length)>0&&n.createElement(m.a,null,n.createElement(b.a,{categoryName:x("pipelines-plugin~Tags"),"data-test":"task-tag-list"},e.tags.map(e=>n.createElement(l.a,{color:"blue",key:e,"data-test":"task-tag-list-item"},e))))))}},11350:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(7),r=a(6364);t.a=({ctaType:e})=>{const{t:t}=Object(s.useTranslation)();switch(e){case r.b.Install:return n.createElement(i.a,{className:"co-alert",variant:"info",title:t("pipelines-plugin~This task is not installed"),isInline:!0},n.createElement("p",null,t("pipelines-plugin~Adding this task may take a few moments.")));case r.b.Update:return n.createElement(i.a,{className:"co-alert",title:t("pipelines-plugin~Task version will be updated across all instances"),variant:"warning",isInline:!0},n.createElement("p",null,t("pipelines-plugin~Only update this task's version if you'd like to replace all of its references in the namespace.")));default:return null}}},11351:function(e,t,a){"use strict";var n=a(0),i=a(165),s=a(354),r=a(294),l=a(205),o=a(476),c=a(3889),u=a(29),d=a(7495);t.a=({item:e,versions:t,onChange:a,selectedVersion:p})=>{const[m,b]=n.useState(!1),v=n.useCallback(()=>b(e=>!e),[]);if(!t||!t.length)return null;const g=t.reduce((t,{version:a})=>{var n,i;return a&&(t[a.toString()]=a===(null===(i=null===(n=e.data)||void 0===n?void 0:n.latestVersion)||void 0===i?void 0:i.version)?u.a.t("pipelines-plugin~{{version}} (latest)",{version:a}):a),t},{});return n.createElement(s.a,{className:"opp-quick-search-details__version-dropdown",isOpen:m,onSelect:(e,t)=>{t&&a(t),b(!1)},toggle:e=>n.createElement(i.a,{className:"opp-quick-search-details__version-dropdown",onClick:v,isExpanded:m,ref:e,isDisabled:1===t.length,"data-test":"task-version"},g[p]),onOpenChange:e=>b(e)},n.createElement(r.a,null,Object.keys(g).map(t=>n.createElement(l.a,{key:t,label:g[t],value:t},n.createElement("div",{className:"opp-quick-search-details__version-dropdown-item"},g[t],Object(d.h)(e,t)&&n.createElement(o.a,{color:c.b.value}))))))}},11352:function(e,t,a){},11355:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),i=a(404),s=a(287),r=a(996),l=a(29),o=a(5410),c=a(11356);const u=(e,t)=>{Object(o.confirmModal)({title:l.a.t("pipelines-plugin~Remove task"),message:n.createElement(c.a,{icon:n.createElement(i.a,{size:"lg"},n.createElement(s.a,{color:r.global_warning_color_100.value})),title:l.a.t("pipelines-plugin~Remove {{taskName}}?",{taskName:e}),message:l.a.t("pipelines-plugin~Are you sure you want to remove {{taskName}}?",{taskName:e})}),buttonText:l.a.t("pipelines-plugin~Remove"),executeFn:()=>(t(),Promise.resolve()),submitDanger:!0})}},11356:function(e,t,a){"use strict";var n=a(0),i=a(516),s=a(164);a(11357);t.a=({icon:e,message:t,title:a})=>n.createElement(i.a,{className:"odc-modal-content",hasGutter:!0},e&&n.createElement(s.a,null,e),n.createElement(s.a,{isFilled:!0},n.createElement("h2",{className:"co-break-word odc-modal-content__confirm-title"},a),n.createElement("p",{className:"co-break-word"},t)))},11357:function(e,t,a){},11358:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15),l=a(7479),o=a(6851),c=a(11359);a(8268);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{hasExistingPipeline:a,taskGroup:u,taskResources:d,onTaskSelection:p,onUpdateTasks:m,onTaskSearch:b}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"opp-pipeline-builder-form__short-section"},n.createElement(r.ab,{label:t("pipelines-plugin~Name"),name:"formData.name",type:i.b.text,isDisabled:a,required:!0})),n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Tasks"),n.createElement("span",{className:"pf-v5-c-form__label-required"},"*")),n.createElement(c.a,{onTaskSelection:p,onUpdateTasks:m,onTaskSearch:b,taskGroup:u,taskResources:d})),n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Parameters")),n.createElement(o.a,{fieldName:"formData.params",addLabel:t("pipelines-plugin~Add parameter"),nameLabel:t("pipelines-plugin~Name"),nameFieldName:"name",descriptionLabel:t("pipelines-plugin~Description"),descriptionFieldName:"description",valueLabel:t("pipelines-plugin~Default value"),valueFieldName:"default",emptyMessage:t("pipelines-plugin~No parameters are associated with this Pipeline."),emptyValues:{name:"",description:"",default:""}})),n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Workspaces")),n.createElement(l.e,{addLabel:t("pipelines-plugin~Add workspace"),fieldName:"formData.workspaces"})))}},11359:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(5585),r=a(55),l=a(7),o=a(5),c=a(5676),u=a(6049),d=a(6212),p=a(5834),m=a(7494),b=a(6091);t.a=({onTaskSelection:e,onUpdateTasks:t,onTaskSearch:a,taskGroup:v,taskResources:g})=>{const{t:f}=Object(l.useTranslation)(),{errors:h,status:E}=Object(r.f)(),O=Object(m.e)(e,t,a,v,g,Object(b.g)(null==h?void 0:h.formData,E)),y=Object(p.n)(O);if(null==E?void 0:E.taskLoadingError)return n.createElement(i.a,{variant:"danger",isInline:!0,title:f("pipelines-plugin~Error loading the tasks.")},E.taskLoadingError);if(!g.tasksLoaded)return n.createElement(o.S,null);const k={graph:{id:"pipeline-builder",type:s.ModelKind.graph,layout:y?c.z.DAGRE_BUILDER_SPACED:c.z.DAGRE_BUILDER},nodes:O,edges:Object(p.e)(O)};return n.createElement(d.a,{key:`${O.map(e=>e.id).join("-")}${y?"-spaced":""}`,"data-test":"pipeline-builder",builder:!0,model:k,componentFactory:u.a})}},11360:function(e,t,a){"use strict";var n=a(0),i=a(241),s=a(130),r=a(7),l=a(15),o=a(5788);a(11361);t.a=({namespace:e})=>{const{t:t}=Object(r.useTranslation)(),a=Object(o.a)(e);return n.createElement("div",{className:"odc-pipeline-builder-header"},n.createElement(i.a,{className:"odc-pipeline-builder-header__content"},n.createElement(s.a,{grow:{default:"grow"}},n.createElement("div",{className:"co-m-nav-title"},n.createElement("h1",{className:"co-m-pane__heading odc-pipeline-builder-header__title"},t("pipelines-plugin~Pipeline builder")))),a&&n.createElement(s.a,null,n.createElement(l.jc,null))))}},11361:function(e,t,a){},11362:function(e,t,a){"use strict";var n=a(0),i=a(967),s=a(406),r=a(55),l=a(7),o=a(997),c=a(6360),u=a(11363),d=a(11366),p=a(11367),m=a(11369),b=a(11370),v=a(11373);a(11374);function g(e,t){const a=e.findIndex(t);return-1===a?e.length:a}t.a=e=>{const{t:t}=Object(l.useTranslation)(),{onRemoveTask:a,onRenameTask:f,resourceList:h,workspaceList:E,selectedData:O,onClose:y}=e,{isFinallyTask:k,taskIndex:j,resource:T}=O,R=`formData.${k?"finallyTasks":"tasks"}.${j}`,[{value:_}]=Object(r.e)(R),S=Object(c.a)(T)||[],N=Object(c.b)(T),P=N.inputs||[],w=N.outputs||[],C=T.spec.workspaces||[],x=e=>t=>{var a;const i=(null===(a=_.resources)||void 0===a?void 0:a[e])||[],s=g(i,e=>e.name===t.name);return n.createElement("div",{key:t.name,className:"odc-task-sidebar__resource"},n.createElement(m.a,{availableResources:h,hasResource:!!i[s],name:`${R}.resources.${e}.${s}`,resource:t}))};return n.createElement(i.a,{className:"opp-task-sidebar"},n.createElement(s.a,{className:"co-sidebar-dismiss  clearfix"},n.createElement(o.a,{onClick:y,dataTestID:"sidebar-close-button",additionalClassName:"co-sidebar-dismiss__close-button"})),n.createElement(s.a,{className:"opp-task-sidebar__header"},n.createElement(u.a,{taskResource:T,removeThisTask:()=>a(_.name)})),n.createElement(s.a,{className:"opp-task-sidebar__content pf-v5-c-form"},n.createElement(d.a,{name:R+".name",taskName:T.metadata.name,onChange:e=>f({preChangePipelineTask:_,newName:e})}),S.length>0&&n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Parameters")),n.createElement("p",{className:"co-help-text opp-task-sidebar__paragraph"},n.createElement(l.Trans,{ns:"pipelines-plugin"},"Use this format when you reference variables in this form:"," ",n.createElement("code",{className:"co-code"},"$("))),S.map(e=>{const t=_.params||[],a=g(t,t=>t.name===e.name);return n.createElement("div",{key:e.name,className:"opp-task-sidebar__param"},n.createElement(p.a,{hasParam:!!t[a],name:`${R}.params.${a}`,resourceParam:e,selectedData:O}))})),C.length>0&&n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Workspaces")),C.map(e=>{const t=_.workspaces||[],a=g(t,t=>t.name===e.name);return n.createElement("div",{key:e.name,className:"opp-task-sidebar__workspace"},n.createElement(v.a,{availableWorkspaces:E,hasWorkspace:!!t[a],name:`${R}.workspaces.${a}`,resourceWorkspace:e}))})),P.length>0&&n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Input resources")),P.map(x("inputs"))),w.length>0&&n.createElement("div",null,n.createElement("h2",null,t("pipelines-plugin~Output resources")),w.map(x("outputs"))),n.createElement("div",{className:"opp-task-sidebar__when-expressions"},n.createElement(b.a,{hasParam:!1,name:R+".when",selectedData:O}))))}},11363:function(e,t,a){"use strict";var n=a(0),i=a(155),s=a(7),r=a(5),l=a(7480),o=a(11364);a(11365);t.a=({removeThisTask:e,taskResource:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement("div",{className:"opp-task-sidebar-header"},n.createElement("div",{className:"opp-task-sidebar-header__title"},n.createElement("h1",{className:"co-m-pane__heading"},n.createElement("div",{className:"co-m-pane__name co-resource-item"},n.createElement(l.a,{resourceKind:t.kind,resourceName:t.metadata.name,largeIcon:!0,disableLink:!0})),n.createElement("div",{className:"co-actions"},n.createElement(r.b,{actions:[{label:a("pipelines-plugin~Remove task"),callback:()=>e()}]})))),n.createElement("div",{className:"opp-task-sidebar-header__shortcuts clearfix"},n.createElement(o.a,null)),n.createElement(i.a,{className:"co-divider"}))}},11364:function(e,t,a){"use strict";var n=a(0),i=a(353),s=a(19),r=a(979),l=a(7),o=a(15);t.a=()=>{const{t:e}=Object(l.useTranslation)();return n.createElement(i.a,{"aria-label":e("pipelines-plugin~View shortcuts"),bodyContent:n.createElement(o.Yb,null,n.createElement(o.Xb,{ctrl:!0,keyName:"space"},e("pipelines-plugin~Activate auto complete"))),maxWidth:"25rem",distance:18},n.createElement(s.a,{type:"button",variant:"link",isInline:!0},n.createElement(r.a,{className:"co-icon-space-r co-p-has-sidebar__sidebar-link-icon"}),e("pipelines-plugin~View shortcuts")))}},11365:function(e,t,a){},11366:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(281),r=a(297),l=a(319),o=a(157),c=a(55),u=a(16),d=a(499),p=a(7),m=a(15),b=a(6038);t.a=e=>{const{t:t}=Object(p.useTranslation)(),{name:a,onChange:v,taskName:g}=e,{setStatus:f,status:h,values:E}=Object(c.f)(),{formData:{tasks:O,finallyTasks:y}}=E,k=u.a(E,a,g),j=[b.a,a],{nameError:T,errorMessage:R}=u.a(h,j,{}),[_,S]=n.useState(null!=T?T:k),[N,P]=n.useState(null),w=!R,C=[...O,...y].map(({name:e})=>e).filter(e=>e!==k),x=(e,t)=>{f(Object.assign(Object.assign({},h),{[b.a]:Object.assign(Object.assign({},(null==h?void 0:h[b.a])||{}),{[a]:{nameError:e,errorMessage:t}})}))};return n.createElement(i.a,{fieldId:"task-name",label:t("pipelines-plugin~Display name"),isRequired:!0},n.createElement(s.a,{"data-test":"task-name "+_,id:"task-name",validated:w?"default":"error",isRequired:!0,onChange:(e,n)=>{S(n),C.includes(n)?x(n,t("pipelines-plugin~This name is already in use.")):(P(!0),Object(m.Zd)(t,63).validate(n).then(()=>{f(Object.assign(Object.assign({},h),{[b.a]:d.a(null==h?void 0:h[b.a],a)})),P(!1)}).catch(e=>{x(n,(null==e?void 0:e.message)||t("pipelines-plugin~Required")),P(!1)}))},onBlur:()=>{!N&&w&&v(_)},placeholder:g,type:s.b.text,value:_}),!w&&n.createElement(r.a,null,n.createElement(l.a,null,n.createElement(o.a,{variant:"error",icon:n.createElement(m.Mb,null)},R))))}},11367:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(15),r=a(6121),l=a(6359),o=a(6361),c=(a(11368),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a});t.a=e=>{const{setFieldValue:t}=Object(i.f)(),{hasParam:a,name:u,resourceParam:d,selectedData:p}=e,m=Object(o.b)(p),b=Object(r.a)(d),v=d.name,g=u+".value",f=n.useCallback(e=>{a?t(g,e):t(u,{name:v,value:e})},[a,g,u,t,v]),h={rows:1,resizeOrientation:"vertical"};return n.createElement("div",{className:"opp-task-sidebar-param","data-test":"parameter "+v},"array"===d.type?n.createElement(s.lc,{name:g,label:d.name,required:b},(e,i)=>{var{name:r}=e,o=c(e,["name"]);return n.createElement(l.a,{autoCompleteValues:m,onAutoComplete:e=>{const a=i(e);t(u,{name:v,value:a})}},e=>n.createElement(s.kc,Object.assign({ref:e,"data-test":"value "+r,"aria-label":d.name,name:r},o,h,{onChange:e=>{const n=i(e);a||t(u,{name:v,value:n})}})))}):n.createElement(l.a,{autoCompleteValues:m,onAutoComplete:f},e=>n.createElement(s.kc,Object.assign({ref:e,"data-test":"value "+g,name:g,label:d.name,placeholder:d.default,helpText:d.description,required:b,onChange:e=>{a||f(e)}},h))))}},11368:function(e,t,a){},11369:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(15);t.a=e=>{var t;const{t:a}=Object(s.useTranslation)(),{getFieldMeta:l,setFieldValue:o}=Object(i.f)(),{availableResources:c,hasResource:u,name:d,resource:{name:p,type:m,optional:b=!1}}=e,v=c.filter(e=>{var t;return m===e.type&&!!(null===(t=e.name)||void 0===t?void 0:t.trim())}),g=null===(t=l(d).value)||void 0===t?void 0:t.resource,f=g&&v.some(e=>e.name===g),h=[{label:a(b?"pipelines-plugin~No {{resourceType}} resource":"pipelines-plugin~Select {{resourceType}} resource...",{resourceType:m}),value:"",isPlaceholder:!0,isDisabled:!b}];return g&&!f&&h.push({label:g,value:g,isDisabled:!0}),h.push(...v.map(e=>({label:e.name,value:e.name}))),n.createElement(r.T,{name:d+".resource",label:p,helpText:a("pipelines-plugin~Only showing resources for this type ({{resourceType}}).",{resourceType:m}),options:h,isDisabled:1===h.length,onChange:e=>{u||o(d,{name:p,resource:e})},required:!b})}},11370:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(19),r=a(408),l=a(55),o=a(7),c=a(15),u=a(6361),d=a(11371);a(11372);t.a=e=>{var t;const{name:a,selectedData:p}=e,[m]=Object(l.e)(a),{t:b}=Object(o.useTranslation)(),v=b("pipelines-plugin~Remove when expression"),g=Object(u.b)(p);return n.createElement("div",{className:"opp-task-sidebar-when-expression"},n.createElement("h2",null,b("pipelines-plugin~When expressions")),n.createElement("p",{className:"co-help-text opp-task-sidebar__paragraph"},(null===(t=m.value)||void 0===t?void 0:t.length)>0?n.createElement(o.Trans,{ns:"pipelines-plugin"},"Use this format when you reference variables in this form:"," ",n.createElement("code",{className:"co-code"},"$(")):b("pipelines-plugin~No when expressions are associated with this task.")),n.createElement(c.mb,{"data-test":"when-expression",name:a,addLabel:b("pipelines-plugin~Add when expression"),headers:[],emptyValues:{input:"",operator:"",values:[""]},rowRenderer:({onDelete:e,fieldName:t})=>n.createElement("div",{className:"opp-task-sidebar-when-expression__section","data-test":"row "+t},n.createElement(d.a,{autoCompleteValues:g,namePrefix:t}),n.createElement("div",{className:"opp-task-sidebar-when-expression__control-button-wrapper"},n.createElement(i.a,{content:v},n.createElement(s.a,{onClick:e,"data-test":"remove-when-expression",className:"opp-task-sidebar-when-expression__control-button","aria-label":v,variant:s.d.plain,type:s.c.button},n.createElement(r.a,null),n.createElement("span",{className:"opp-task-sidebar-when-expression__control-label"},v)))))}))}},11371:function(e,t,a){"use strict";var n=a(0),i=a(379),s=a(184),r=a(281),l=a(55),o=a(7),c=a(15),u=a(6359),d=a(6038),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=({namePrefix:e,autoCompleteValues:t})=>{const{setFieldValue:a}=Object(l.f)(),{t:m}=Object(o.useTranslation)();return n.createElement(i.a,{hasGutter:!0},n.createElement(s.a,{span:6},n.createElement(u.a,{autoCompleteValues:t,onAutoComplete:t=>a(e+".input",t)},t=>n.createElement(c.ab,{ref:t,"data-test":"input",type:r.b.text,name:e+".input",label:m("pipelines-plugin~Input"),autoComplete:"off"}))),n.createElement(s.a,{span:6},n.createElement(c.I,{dataTest:"operator",name:e+".operator",label:m("pipelines-plugin~Operator"),items:d.e,title:m("pipelines-plugin~Select operator"),onChange:t=>a(e+".operator",t),fullWidth:!0})),n.createElement(s.a,null,n.createElement(c.lc,{"data-test":"values",name:e+".values",label:m("pipelines-plugin~Values")},e=>{var{name:i}=e,s=p(e,["name"]);return n.createElement(u.a,{autoCompleteValues:t,onAutoComplete:e=>{a(i,e)}},e=>n.createElement(c.ab,Object.assign({"data-test":i+" value",ref:e,name:i},s,{autoComplete:"off"})))})))}},11372:function(e,t,a){},11373:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(15);t.a=e=>{var t;const{availableWorkspaces:a,hasWorkspace:l,name:o,resourceWorkspace:{name:c,optional:u=!1}}=e,{t:d}=Object(s.useTranslation)(),{getFieldMeta:p,setFieldValue:m}=Object(i.f)(),b=a.filter(e=>{var t;return!!(null===(t=e.name)||void 0===t?void 0:t.trim())}),v=null===(t=p(o).value)||void 0===t?void 0:t.workspace,g=v&&b.some(e=>e.name===v),f=[{label:d(u?"pipelines-plugin~No workspace":"pipelines-plugin~Select workspace..."),value:"",isPlaceholder:!0,isDisabled:!u}];return v&&!g&&f.push({label:v,value:v,isDisabled:!0}),f.push(...b.map(e=>({value:e.name,label:e.name}))),n.createElement(r.T,{"data-test":"workspaces "+c,name:o+".workspace",label:c,isDisabled:1===f.length,options:f,onChange:e=>{l||m(o,{name:c,workspace:e})},required:!u})}},11374:function(e,t,a){},11375:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(15),i=a(5676),s=a(6038),r=a(6091);const l=e=>e.map(e=>e.name),o=(e,t,a)=>{const n=t.find(t=>t.name===e);return n?{updateOnlyTasks:a.map(e=>Object(r.l)(n,e)),updateAndRemoveTasks:t.filter(t=>t.name!==e).map(e=>Object(r.l)(n,e))}:{updateAndRemoveTasks:t,updateOnlyTasks:a}},c=(e,t)=>{const{type:a,data:c}=t,{tasks:u,listTasks:d,finallyTasks:p,finallyListTasks:m,loadingTasks:b}=e,v={tasks:u,listTasks:d,loadingTasks:b,finallyTasks:p,finallyListTasks:m};switch(a){case s.d.ADD_LIST_TASK:return((e,t)=>{const{direction:a,relatedTask:s}=t,l=`${a}-${Object(n.wd)(6)}`,o=s.name,{tasks:c,listTasks:u}=e;switch(a){case i.a.BEFORE:return Object.assign(Object.assign({},e),{tasks:c.map(e=>Object(r.j)(l,o,e)),listTasks:[...u.map(e=>Object(r.j)(l,o,e)),{name:l,runAfter:s.runAfter}]});case i.a.AFTER:return Object.assign(Object.assign({},e),{tasks:c.map(e=>Object(r.k)(l,o,e)),listTasks:[...u.map(e=>Object(r.k)(l,o,e)),{name:l,runAfter:[o]}]});case i.a.PARALLEL:return Object.assign(Object.assign({},e),{tasks:c.map(e=>Object(r.i)(l,o,e)),listTasks:[...u.map(e=>Object(r.i)(l,o,e)),{name:l,runAfter:s.runAfter}]});default:throw new Error("Invalid direction "+a)}})(v,c);case s.d.CONVERT_LIST_TO_TASK:return((e,t)=>{const{name:a,resource:n,runAfter:i}=t,{tasks:s,listTasks:o,finallyTasks:c}=e,u=l([...s,...c]),d=Object(r.d)(u,n,i);return Object.assign(Object.assign({},e),{tasks:[...s.map(e=>Object(r.k)(d.name,a,e)),d],listTasks:o.filter(e=>e.name!==a).map(e=>Object(r.k)(d.name,a,e))})})(v,c);case s.d.CONVERT_LIST_TO_FINALLY_TASK:return((e,t)=>{const{name:a,resource:n}=t,{tasks:i,finallyTasks:s,finallyListTasks:o}=e,c=l([...i,...s]),u=Object(r.d)(c,n);return Object.assign(Object.assign({},e),{finallyTasks:[...s.map(e=>Object(r.k)(u.name,a,e)),u],finallyListTasks:o.filter(e=>e.name!==a).map(e=>Object(r.k)(u.name,a,e))})})(v,c);case s.d.DELETE_LIST_TASK:return((e,t)=>{const{listTaskName:a}=t,{tasks:n,listTasks:i,finallyTasks:s,finallyListTasks:r}=e,{updateOnlyTasks:l,updateAndRemoveTasks:c}=o(a,i,n),{updateOnlyTasks:u,updateAndRemoveTasks:d}=o(a,r,s);return Object.assign(Object.assign({},e),{tasks:l,listTasks:c,finallyTasks:u,finallyListTasks:d})})(v,c);case s.d.REMOVE_TASK:return((e,t)=>{const{taskName:a}=t,{tasks:n,listTasks:i,finallyTasks:s,finallyListTasks:r}=e,{updateOnlyTasks:l,updateAndRemoveTasks:c}=o(a,n,i),{updateAndRemoveTasks:u}=o(a,s,r);return Object.assign(Object.assign({},e),{tasks:c,listTasks:l,finallyTasks:u})})(v,c);case s.d.RENAME_TASK:return((e,t)=>{const{preChangePipelineTask:a,newName:n}=t,{tasks:i,listTasks:s,finallyTasks:l}=e,o=e=>e.map(e=>e.name!==a.name?Object(r.k)(n,a.name,e):Object.assign(Object.assign({},e),{name:n})),c=o(i),u=o(l);return Object.assign(Object.assign({},e),{tasks:c,listTasks:s.map(e=>Object(r.k)(n,a.name,e)),finallyTasks:u})})(v,c);case s.d.FIX_INVALID_LIST_TASK:return((e,t)=>{const{existingName:a,resource:n,runAfter:i}=t,{tasks:s,listTasks:o}=e,c=l(s),u=Object(r.d)(c,n,i);return Object.assign(Object.assign({},e),{tasks:[...s.filter(e=>e.name!==a).map(e=>Object(r.k)(u.name,a,e)),u],listTasks:o})})(v,c);case s.d.FIX_INVALID_FINALLY_LIST_TASK:return((e,t)=>{const{existingName:a,resource:n,runAfter:i}=t,{tasks:s,finallyTasks:o,finallyListTasks:c}=e,u=l([...o,...s]),d=Object(r.d)(u,n,i);return Object.assign(Object.assign({},e),{finallyTasks:[...o.filter(e=>e.name!==a).map(e=>Object(r.k)(d.name,a,e)),d],finallyListTasks:c})})(v,c);case s.d.ADD_FINALLY_LIST_TASK:return((e,t)=>{const{finallyListTasks:a}=e;return Object.assign(Object.assign({},e),{finallyListTasks:[...a,{name:t.listTaskName}]})})(v,c);case s.d.ADD_LOADING_TASK:return((e,t)=>{const{name:a,resource:n,runAfter:i,isFinallyTask:s}=t,{tasks:o,listTasks:c,finallyTasks:u,finallyListTasks:d,loadingTasks:p}=e,m=l([...o,...u]),b=Object(r.c)(m,n,s,i);return Object.assign(Object.assign({},e),{loadingTasks:[...p,b],tasks:[...o.filter(e=>e.name!==a).map(e=>Object(r.k)(b.name,a,e))],finallyTasks:[...u.filter(e=>e.name!==a).map(e=>Object(r.k)(b.name,a,e))],listTasks:[...c.filter(e=>e.name!==a&&!s).map(e=>Object(r.k)(b.name,a,e))],finallyListTasks:d.filter(e=>e.name!==a&&s).map(e=>Object(r.k)(b.name,a,e))})})(v,c);case s.d.CONVERT_LOADING_TASK_TO_TASK:return((e,t)=>{const{name:a,resource:n,runAfter:i}=t,{tasks:s,loadingTasks:o,finallyTasks:c}=e,u=l([...s,...c]),d=Object(r.d)(u,n,i);return Object.assign(Object.assign({},e),{tasks:[...s.map(e=>Object(r.k)(d.name,a,e)),d],loadingTasks:o.filter(e=>e.name!==a).map(e=>Object(r.k)(d.name,a,e))})})(v,c);case s.d.CONVERT_LOADING_TASK_TO_FINALLY_TASK:return((e,t)=>{const{name:a,resource:n,runAfter:i}=t,{tasks:s,loadingTasks:o,finallyTasks:c}=e,u=l([...s,...c]),d=Object(r.d)(u,n,i);return Object.assign(Object.assign({},e),{finallyTasks:[...c.map(e=>Object(r.k)(d.name,a,e)),d],loadingTasks:o.filter(e=>e.name!==a).map(e=>Object(r.k)(d.name,a,e))})})(v,c);default:throw new Error("Invalid update operation "+a)}}},11376:function(e,t,a){},11377:function(e,t,a){},11378:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),i=a(11379);a(11385);const s=({obj:e})=>n.createElement("div",{className:"co-m-pane__body odc-pipeline-run-details"},n.createElement(i.a,{pipelineRun:e}))},11379:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(11380),l=a(11383);t.a=({pipelineRun:e})=>{const{t:t}=Object(i.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(s.ob,{text:t("pipelines-plugin~PipelineRun details")}),n.createElement(l.a,{pipelineRun:e}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(s.lb,{resource:e})),n.createElement("div",{className:"col-sm-6 odc-pipeline-run-details__customDetails"},n.createElement(r.a,{pipelineRun:e}))))}},11380:function(e,t,a){"use strict";var n=a(0),i=a(6139),s=a(7),r=a(764),l=a(5),o=a(8),c=a(15),u=a(5586),d=a(5617),p=a(5623),m=a(7479),b=a(6850),v=a(11381),g=a(7480),f=a(7501),h=a(6122),E=a(6254),O=a(7505),y=a(6670),k=a(11382);t.a=({pipelineRun:e})=>{var t,a,j,T,R,_;const{t:S}=Object(s.useTranslation)(),[N,P]=Object(h.b)(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),w=Object(m.g)(null===(T=null===(j=e.status)||void 0===j?void 0:j.pipelineSpec)||void 0===T?void 0:T.resources,e.spec.resources),C=P?Object(p.r)(N):null,x=Object(p.i)(e),I=Object(p.q)(C),L=Object(p.u)(C);return n.createElement(n.Fragment,null,n.createElement("dl",null,n.createElement("dt",null,S("pipelines-plugin~Status")),n.createElement("dd",null,n.createElement(c.cc,{status:Object(d.c)(e),title:Object(d.f)(e)}))),P&&n.createElement(O.a,{logDetails:Object(E.a)(e,N),namespace:e.metadata.namespace}),n.createElement("dl",null,n.createElement("dt",null,S("pipelines-plugin~Vulnerabilities")),n.createElement("dd",null,n.createElement(y.a,{pipelineRun:e}))),n.createElement("dl",null,n.createElement("dt",null,S("pipelines-plugin~Pipeline")),n.createElement("dd",null,n.createElement(g.a,Object.assign({},Object(m.f)(e)))),x&&C&&n.createElement(n.Fragment,null,n.createElement("dt",{"data-test":"download-sbom"},S("pipelines-plugin~Download SBOM")),n.createElement("dd",null,n.createElement(i.a,{isReadOnly:!0,hoverTip:S("pipelines-plugin~Copy"),clickTip:S("pipelines-plugin~Copied")},"cosign download sbom "+x),n.createElement(l.z,{href:"https://docs.sigstore.dev/cosign/installation"},S("pipelines-plugin~Install Cosign")))),C&&n.createElement(n.Fragment,null,n.createElement("dt",{"data-test":"view-sbom"},S("pipelines-plugin~SBOM")),n.createElement("dd",null,L&&I&&(I.startsWith("http://")||I.startsWith("https://"))?n.createElement(l.z,{href:I},S("pipelines-plugin~View SBOM")):n.createElement(r.Link,{to:`/k8s/ns/${C.metadata.namespace}/${Object(o.Hb)(u.TaskRunModel)}/${C.metadata.name}/logs`},S("pipelines-plugin~View SBOM"))))),n.createElement("dl",null,n.createElement("dt",null,S("pipelines-plugin~Start time")),n.createElement("dd",null,n.createElement(l.xb,{timestamp:null===(R=null==e?void 0:e.status)||void 0===R?void 0:R.startTime})),n.createElement("dt",null,S("pipelines-plugin~Completion time")),n.createElement("dd",null,n.createElement(l.xb,{timestamp:null===(_=null==e?void 0:e.status)||void 0===_?void 0:_.completionTime})),n.createElement("dt",null,S("pipelines-plugin~Duration")),n.createElement("dd",null,Object(p.v)(e))),n.createElement(k.a,{pipelineRun:e}),n.createElement(b.a,{links:w,title:S("pipelines-plugin~PipelineResources"),namespace:e.metadata.namespace}),n.createElement(v.a,{pipelineRun:e}),n.createElement(f.a,{workspaces:e.spec.workspaces,namespace:e.metadata.namespace,ownerResourceName:e.metadata.name}))}},11381:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5),l=a(8),o=a(5586),c=a(5648),u=a(7500);t.a=({pipelineRun:e})=>{const{t:t}=Object(i.useTranslation)(),a=e.metadata.labels,d=e.metadata.annotations,p=c.f[c.e.REPOSITORY],m=null==a?void 0:a[p],b=null==d?void 0:d[c.d[c.c.REPO_URL]],v=null==d?void 0:d[c.d[c.c.SHA_URL]],g=(null==a?void 0:a[c.d[c.c.BRANCH]])||(null==d?void 0:d[c.d[c.c.BRANCH]]);return m?n.createElement("dl",null,n.createElement("dt",null,t("pipelines-plugin~Repository")),n.createElement("dd",null,n.createElement("div",null,n.createElement(r.fb,{kind:Object(l.Hb)(o.RepositoryModel)}),n.createElement(s.Link,{"data-test":"pl-repository-link",to:Object(r.tc)(Object(l.Hb)(o.RepositoryModel),m,e.metadata.namespace)+"/Runs",className:"co-resource-item__resource-name"},m)),b&&n.createElement(r.z,{href:b},Object(u.a)(b)," ",b)),g&&n.createElement(n.Fragment,null,n.createElement("dt",null,t(Object(u.b)(g))),n.createElement("dd",{"data-test":"pl-repository-branch"},Object(u.c)(g))),(null==a?void 0:a[c.f[c.e.SHA]])&&n.createElement(n.Fragment,null,n.createElement("dt",null,t("pipelines-plugin~Commit id")),n.createElement("dd",null,v?n.createElement(r.z,{href:v,"data-test":"pl-sha-url"},Object(r.Bc)(a[c.f[c.e.SHA]],{length:7,truncateEnd:!0,omission:""})):n.createElement(r.l,{value:a[c.f[c.e.SHA]],"data-test":"pl-commit-id"}))),(null==a?void 0:a[c.f[c.e.EVENT_TYPE]])&&n.createElement(n.Fragment,null,n.createElement("dt",null,t("pipelines-plugin~Event type")),n.createElement("dd",{"data-test":"pl-event-type"},a[c.f[c.e.EVENT_TYPE]]))):null}},11382:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(8),l=a(5586),o=a(5588);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{pipelineRun:{metadata:{annotations:a,namespace:c,labels:u}}}=e,d=null==a?void 0:a[o.q.user],p=null==u?void 0:u[o.r.triggers];if(!d&&!p)return null;let m=null;if(d)m=d;else{if(!p)return null;m=n.createElement(s.hb,{kind:Object(r.Hb)(l.EventListenerModel),name:p,namespace:c})}return n.createElement("dl",null,n.createElement("dt",null,t("pipelines-plugin~Triggered by"),":"),n.createElement("dd",null,m))}},11383:function(e,t,a){"use strict";var n=a(0),i=a(5),s=a(6211),r=a(6433),l=a(6039);a(11384);t.a=({pipelineRun:e})=>{var t,a;const[o,c]=Object(l.a)(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),u=Object(r.a)(e);return u?c&&n.createElement(s.a,{pipeline:u,pipelineRun:e,taskRuns:o}):n.createElement("div",{className:"pipeline-plr-loader"},n.createElement(i.T,null))}},11384:function(e,t,a){},11385:function(e,t,a){},11386:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(0),i=a(749),s=a(5405),r=a(4353),l=a(16),o=a(7),c=a(14),u=a(5),d=a(5586),p=a(5595),m=a(5617),b=a(5623),v=a(5588),g=a(6050),f=a(6039),h=a(6436),E=a(6671),O=a(6254);a(11387);class y extends n.Component{constructor(e){super(e),this.getActiveTaskRun=(e,t)=>{const a=t?e.find(e=>e.metadata.name.includes(t)):e.find(e=>Object(b.A)(e)===p.a.Failed)||e[e.length-1];return null==a?void 0:a.metadata.name},this.getSortedTaskRun=(e,t)=>{const a=null==e?void 0:e.sort((e,t)=>{var a,n,i,s;return l.a(e,["status","completionTime"],!1)?(null===(a=t.status)||void 0===a?void 0:a.completionTime)&&new Date(e.status.completionTime)>new Date(t.status.completionTime)?1:-1:(null===(n=t.status)||void 0===n?void 0:n.completionTime)||new Date(null===(i=e.status)||void 0===i?void 0:i.startTime)>new Date(null===(s=t.status)||void 0===s?void 0:s.startTime)?1:-1}),n=null==t?void 0:t.map(e=>null==e?void 0:e.name);return(null==a?void 0:a.sort((e,t)=>{var a,i,s,r;return(null==n?void 0:n.indexOf(null===(i=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.labels)||void 0===i?void 0:i[v.u.pipelineTask]))-(null==n?void 0:n.indexOf(null===(r=null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.labels)||void 0===r?void 0:r[v.u.pipelineTask]))}))||[]},this.onNavSelect=(e,t)=>{this.setState({activeItem:t.itemId,navUntouched:!1})},this.state={activeItem:null,navUntouched:!0}}componentDidMount(){var e,t,a,n;const{activeTask:i,taskRuns:s,obj:r}=this.props,l=this.getSortedTaskRun(s,[...(null===(t=null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.pipelineSpec)||void 0===t?void 0:t.tasks)||[],...(null===(n=null===(a=null==r?void 0:r.status)||void 0===a?void 0:a.pipelineSpec)||void 0===n?void 0:n.finally)||[]]),o=this.getActiveTaskRun(l,i);this.setState({activeItem:o})}UNSAFE_componentWillReceiveProps(e){var t,a,n,i,s,r,l,o;if(this.props.obj!==e.obj||this.props.taskRuns!==e.taskRuns){const{activeTask:c,taskRuns:u}=e,d=this.getSortedTaskRun(u,[...(null===(i=null===(n=null===(a=null===(t=this.props)||void 0===t?void 0:t.obj)||void 0===a?void 0:a.status)||void 0===n?void 0:n.pipelineSpec)||void 0===i?void 0:i.tasks)||[],...(null===(o=null===(l=null===(r=null===(s=this.props)||void 0===s?void 0:s.obj)||void 0===r?void 0:r.status)||void 0===l?void 0:l.pipelineSpec)||void 0===o?void 0:o.finally)||[]]),p=this.getActiveTaskRun(d,c);this.state.navUntouched&&this.setState({activeItem:p})}}render(){var e,t,a,l,o,f,y,k,j,T;const{obj:R,t:_,taskRuns:S}=this.props,{activeItem:N}=this.state,P=null===(o=this.getSortedTaskRun(S,[...(null===(t=null===(e=null==R?void 0:R.status)||void 0===e?void 0:e.pipelineSpec)||void 0===t?void 0:t.tasks)||[],...(null===(l=null===(a=null==R?void 0:R.status)||void 0===a?void 0:a.pipelineSpec)||void 0===l?void 0:l.finally)||[]]))||void 0===o?void 0:o.map(e=>e.metadata.name),w=Object(O.a)(R,S),C=Object(m.d)(R),x=P.length,I=x>1?Object(h.a)(P,S,null===(f=R.metadata)||void 0===f?void 0:f.namespace,null===(y=R.metadata)||void 0===y?void 0:y.name):void 0,L=S.find(e=>e.metadata.name===N),A=null===(k=null==L?void 0:L.status)||void 0===k?void 0:k.podName,D=(null===(T=null===(j=null==L?void 0:L.metadata)||void 0===j?void 0:j.labels)||void 0===T?void 0:T[v.u.pipelineTask])||"-",M=C!==p.a.Running,F=x>0&&A&&{name:A,kind:"Pod",namespace:R.metadata.namespace,isList:!1},U=!(!N||F),B=e=>{(null==e?void 0:e.scrollIntoView)&&e.scrollIntoView({behavior:"smooth",block:"nearest"})},q=Object(u.uc)(d.PipelineRunModel,R.metadata.name,R.metadata.namespace)+"/logs";return n.createElement("div",{className:"odc-pipeline-run-logs"},n.createElement("div",{className:"odc-pipeline-run-logs__tasklist","data-test-id":"logs-tasklist"},x>0?n.createElement(i.a,{onSelect:this.onNavSelect,theme:"light"},n.createElement(s.a,{className:"odc-pipeline-run-logs__nav"},P.map(e=>{var t,a,i,s;const l=S.find(t=>t.metadata.name===e);return n.createElement(r.a,{key:e,itemId:e,isActive:N===e,className:"odc-pipeline-run-logs__navitem"},n.createElement(c.Link,{to:`${q}?taskName=${(null===(a=null===(t=null==l?void 0:l.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[v.u.pipelineTask])||"-"}`},n.createElement(g.a,{status:Object(b.A)(l)}),n.createElement("span",{className:"odc-pipeline-run-logs__namespan",ref:N===e?B:void 0},(null===(s=null===(i=null==l?void 0:l.metadata)||void 0===i?void 0:i.labels)||void 0===s?void 0:s[v.u.pipelineTask])||"-")))}))):n.createElement("div",{className:"odc-pipeline-run-logs__nav"},_("pipelines-plugin~No task runs found"))),n.createElement("div",{className:"odc-pipeline-run-logs__container"},N&&F?n.createElement(E.a,{key:D,resource:F,taskName:D,downloadAllLabel:_("pipelines-plugin~Download all task logs"),onDownloadAll:I,taskRun:L}):n.createElement("div",{className:"odc-pipeline-run-logs__log"},n.createElement("div",{className:"odc-pipeline-run-logs__logtext","data-test-id":"task-logs-error"},U&&!M&&`Waiting for ${D} task to start `,!F&&M&&!R.status&&_("pipelines-plugin~No logs found"),w&&n.createElement("div",{className:"odc-pipeline-run-logs__logsnippet"},w.staticMessage)))))}}const k=Object(o.withTranslation)()(y),j=({obj:e})=>{var t,a;const i=Object(c.useLocation)(),s=new URLSearchParams(i.search),r=null==s?void 0:s.get("taskName"),[l,o]=Object(f.a)(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name);return o&&n.createElement(k,{obj:e,activeTask:r,taskRuns:l})}},11387:function(e,t,a){},11388:function(e,t,a){"use strict";var n=a(0),i=a(14),s=a(409),r=a(7506);t.a=({obj:e})=>{const{ns:t}=Object(i.useParams)();return n.createElement(n.Fragment,null,n.createElement(s.ResourcesEventStream,{filters:Object(r.a)(t,e),namespace:t}))}},11389:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(16),r=a(7),l=a(11390);t.a=({obj:e})=>{const{t:t}=Object(r.useTranslation)(),a={parameters:s.a(e.spec,"params",[])};return n.createElement(n.Fragment,null,n.createElement(i.b,{initialValues:a,onSubmit:null},()=>n.createElement("div",{className:"co-m-pane__body"},n.createElement(l.a,{fieldName:"parameters",isReadOnly:!0,nameLabel:t("pipelines-plugin~Name"),nameFieldName:"name",valueLabel:t("pipelines-plugin~Value"),valueFieldName:"value",emptyMessage:t("pipelines-plugin~No parameters are associated with this PipelineRun."),emptyValues:{name:"",value:""}}))))}},11390:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(15);t.a=({addLabel:e,nameLabel:t,nameFieldName:a,valueLabel:r,valueFieldName:l,emptyMessage:o,fieldName:c,emptyValues:u,isReadOnly:d=!1})=>n.createElement("div",{className:"co-m-pane__form"},n.createElement(s.mb,{"data-test":"pipeline-parameters",name:c,addLabel:e,headers:[{name:t,required:!0},r],emptyValues:u,emptyMessage:o,isReadOnly:d},n.createElement(s.ab,{"data-test":a,name:a,type:i.b.text,placeholder:t,isDisabled:d,"aria-label":t}),n.createElement(s.ab,{"data-test":l,name:l,type:i.b.text,placeholder:r,isDisabled:d,"aria-label":r})))},11391:function(e,t,a){},11392:function(e,t,a){"use strict";var n=a(0),i=a(40),s=a(5586),r=a(6181),l=a(6039),o=a(8275),c=a(11393);t.a=e=>{const[t,a]=Object(l.a)(e.namespace),[u,d]=Object(r.b)(e.namespace);return n.createElement(i.j,Object.assign({},e,{"aria-label":s.RepositoryModel.labelPluralKey,Header:o.a,Row:c.a,customData:{taskRuns:a?t:[],pipelineRuns:d?u:[],taskRunsLoaded:a},virtualize:!0}))}},11393:function(e,t,a){"use strict";var n=a(0),i=a(14),s=a(40),r=a(5),l=a(8),o=a(5635),c=a(5586),u=a(5617),d=a(5623),p=a(6432),m=a(8276),b=a(6122),v=a(5648),g=a(8275);t.a=({obj:e,customData:t})=>{var a,f;const{metadata:{name:h,namespace:E}}=e,{taskRuns:O,pipelineRuns:y,taskRunsLoaded:k}=t,j=y.filter(t=>{var a,n;return(null===(n=null===(a=t.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n[v.f[v.e.REPOSITORY]])===e.metadata.name}),T=Object(o.b)(j,"creationTimestamp"),R=T&&(null===(a=null==T?void 0:T.metadata)||void 0===a?void 0:a.labels[v.f[v.e.EVENT_TYPE]]),_=Object(b.a)(O,null===(f=null==T?void 0:T.metadata)||void 0===f?void 0:f.name);return n.createElement(n.Fragment,null,n.createElement(s.k,{className:g.b[0]},n.createElement(r.fb,{kind:Object(l.Hb)(c.RepositoryModel)}),n.createElement(i.Link,{to:Object(r.tc)(Object(l.Hb)(c.RepositoryModel),h,E)+"/Runs",className:"co-resource-item__resource-name","data-test-id":h},h)),n.createElement(s.k,{className:g.b[1],columnID:"namespace"},n.createElement(r.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(s.k,{className:g.b[2]},R||"-"),n.createElement(s.k,{className:g.b[3]},T?n.createElement(r.hb,{kind:Object(l.Hb)(c.PipelineRunModel),name:null==T?void 0:T.metadata.name,namespace:E}):"-"),n.createElement(s.k,{className:g.b[4]},T?n.createElement(p.a,{pipelineRun:T,taskRuns:_,taskRunsLoaded:k}):"-"),n.createElement(s.k,{className:g.b[5]},n.createElement(m.a,{status:Object(u.c)(T),title:Object(u.f)(T),pipelineRun:T,taskRuns:_,taskRunsLoaded:k})),n.createElement(s.k,{className:g.b[6]},n.createElement(r.xb,{timestamp:null==T?void 0:T.status.startTime})),n.createElement(s.k,{className:g.b[7]},Object(d.v)(T)),n.createElement(s.k,{className:g.b[8]},n.createElement(r.gb,{actions:r.F.factory.common,kind:Object(l.Db)(e),resource:e})))}},11394:function(e,t,a){"use strict";var n=a(0),i=a(967),s=a(406),r=a(4341),l=a(156),o=a(405),c=a(564),u=a(355),d=a(1531),p=a(7);a(8279);t.a=()=>{const{t:e}=Object(p.useTranslation)();return n.createElement(i.a,{className:"pipeline-metrics-empty-state"},n.createElement(s.a,{isFilled:!0},n.createElement(r.a,null,n.createElement(l.a,{variant:l.b.full},n.createElement(o.a,{icon:n.createElement(c.a,{icon:d.a})}),n.createElement(u.a,null,e("pipelines-plugin~Start your pipeline to view pipeline metrics."))))))}},11395:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(11396);t.a=({interval:e,setInterval:t})=>{const{t:a}=Object(i.useTranslation)();return n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"pipeline-refresh-interval-dropdown"},a("pipelines-plugin~Refresh Interval")),n.createElement("div",null,n.createElement(s.a,{id:"pipeline-refresh-interval-dropdown",interval:e,setInterval:t})))}},11396:function(e,t,a){"use strict";var n=a(50),i=a(0),s=a(7),r=a(321),l=a(165),o=a(354),c=a(294),u=a(205),d=a(485);t.a=({id:e,interval:t,setInterval:a})=>{const[p,m,b,v]=Object(d.a)(!1),{t:g}=Object(s.useTranslation)(),f=i.useCallback(e=>a("OFF_KEY"===e?null:Object(r.b)(e)),[a]),h={OFF_KEY:g("public~Refresh off"),"15s":g("public~{{count}} second",{count:15}),"30s":g("public~{{count}} second",{count:30}),"1m":g("public~{{count}} minute",{count:1}),"5m":g("public~{{count}} minute",{count:5}),"15m":g("public~{{count}} minute",{count:15}),"30m":g("public~{{count}} minute",{count:30}),"1h":g("public~{{count}} hour",{count:1}),"2h":g("public~{{count}} hour",{count:2}),"1d":g("public~{{count}} day",{count:1})},E=null===t?"OFF_KEY":Object(r.a)(t);return i.createElement(o.a,{isOpen:p,onSelect:(e,t)=>{t&&f(t),v()},toggle:t=>i.createElement(l.a,{id:e+"-dropdown",onClick:m,isExpanded:p,ref:t,className:"monitoring-dashboards__dropdown-button"},h[E]),className:"monitoring-dashboards__variable-dropdown",onOpenChange:e=>e?b():v()},i.createElement(c.a,null,n.a(h,(e,t)=>i.createElement(u.a,{key:t,value:t,isSelected:t===E},e))))}},11397:function(e,t,a){"use strict";var n=a(0),i=a(321),s=a(165),r=a(354),l=a(294),o=a(205),c=a(50),u=a(7),d=a(5650);t.a=({timespan:e,setTimespan:t})=>{const[a,p]=n.useState(!1),m=n.useCallback(()=>p(e=>!e),[]),b=n.useCallback(()=>p(!1),[]),v=n.useCallback(e=>t(Object(i.b)(e)),[t]),{t:g}=Object(u.useTranslation)(),f=Object(d.b)();return n.createElement("div",{className:"form-group"},n.createElement("label",null,g("pipelines-plugin~Time Range")),n.createElement("div",null,n.createElement(r.a,{isOpen:a,toggle:t=>n.createElement(s.a,{onClick:m,isExpanded:a,ref:t},f[Object(i.a)(e)]),onSelect:(e,t)=>{t&&v(t),b()},selected:e,shouldFocusToggleOnSelect:!0,onOpenChange:e=>p(e)},n.createElement(l.a,null,Object(c.a)(f,(t,a)=>n.createElement(o.a,{key:a,value:a,isSelected:e===Object(i.b)(a)},t))))))}},11398:function(e,t,a){"use strict";var n=a(0),i=a(967),s=a(406),r=a(4341),l=a(156),o=a(405),c=a(564),u=a(355),d=a(1531),p=a(7),m=a(8280);t.a=({updatePermission:e,metricsLevel:t})=>{const{t:a}=Object(p.useTranslation)();return n.createElement(n.Fragment,null,e&&n.createElement(m.a,{metricsLevel:t}),n.createElement(i.a,{className:"pipeline-metrics-empty-state"},n.createElement(s.a,{isFilled:!0},n.createElement(r.a,null,n.createElement(l.a,{variant:l.b.full},n.createElement(o.a,{icon:n.createElement(c.a,{icon:d.a})}),n.createElement(u.a,null,a("pipelines-plugin~Pipeline metrics configuration is unsupported.")))))))}},11399:function(e,t,a){"use strict";var n=a(0),i=a(4330),s=a(50),r=a(1257),l=a(839),o=a(160),c=a(4426),u=a(7),d=a(2246),p=a(1207),m=a(5),b=a(5588),v=a(5846),g=a(8281),f=a(5650);a(6860);t.a=({pipeline:e,timespan:t,interval:a,loaded:h=!0,onLoad:E,queryPrefix:O,metricsLevel:y})=>{const{metadata:{name:k,namespace:j}}=e,{t:T}=Object(u.useTranslation)(),[R,_,S]=Object(v.e)({name:k,namespace:j,timespan:t,delay:a,queryPrefix:O,metricsLevel:y}),N=n.useMemo(()=>{var e,t;return null!==(t=null===(e=null==R?void 0:R.data)||void 0===e?void 0:e.result)&&void 0!==t?t:[]},[R]);if(n.useEffect(()=>{!h&&E&&E({chartName:"pipelineRunCount",hasData:!!N.length})},[h,E,N]),S)return n.createElement(m.T,null);if(!h&&N.length||_||0===N.length)return n.createElement(p.a,{height:b.a});const P=s.a(N,e=>Object(f.e)(e,b.c,t)),w=r.a(P[0],e=>Object(f.d)(e.x)),C=Object(f.i)(l.a(o.a(w).map(e=>c.a(w[e],"y"))));return n.createElement(d.a,{bounds:!0},({measureRef:e,contentRect:a})=>n.createElement("div",{ref:e,style:{height:b.a}},n.createElement(g.a,{ariaDesc:T("pipelines-plugin~Pipeline run count chart"),data:C,timespan:t,width:a.bounds.width,containerComponent:n.createElement(i.a,{constrainToVisibleArea:!0,labels:({datum:e})=>e.childName.includes("bar-")&&null!==e.y?`${Object(f.d)(e.x)}\n                    ${T("pipelines-plugin~Pipeline Runs")}: ${e.y}`:null})})))}},11407:function(e,t,a){"use strict";var n=a(0),i=a(321),s=a(515),r=a(4330),l=a(379),o=a(184),c=a(4341),u=a(241),d=a(130),p=a(7),m=a(2246),b=a(1207),v=a(5),g=a(5588),f=a(5846),h=a(8282),E=a(5650);a(6860);t.a=({pipeline:e,timespan:t,interval:a,loaded:O=!0,onLoad:y,queryPrefix:k,metricsLevel:j})=>{var T;const{metadata:{name:R,namespace:_}}=e,{t:S}=Object(p.useTranslation)(),[N,P,w]=Object(f.d)({name:R,namespace:_,timespan:t,delay:a,queryPrefix:k,metricsLevel:j}),C=n.useMemo(()=>{var e,t;return null!==(t=null===(e=null==N?void 0:N.data)||void 0===e?void 0:e.result)&&void 0!==t?t:[]},[N]),x=g.b;if(n.useEffect(()=>{!O&&y&&y({chartName:"pipelineRunDuration",hasData:!!C.length})},[O,y,C]),w)return n.createElement(v.T,null);if(!O&&C.length||P||0===C.length)return n.createElement(b.a,{height:x-30});const I=(null!==(T=Object(E.h)(N,e=>{var t;return Object(v.Bc)(null===(t=null==e?void 0:e.metric)||void 0===t?void 0:t.pipelinerun,{length:10})}))&&void 0!==T?T:[]).reduce((e,t)=>{if(!t)return e;const a=t[t.length-1];return e.totalDuration+=a.y,e.duration.push(Object.assign(Object.assign({},a),{time:Object(i.a)(1e3*a.y)})),e},{totalDuration:0,duration:[]}),L=I.totalDuration?Object(i.a)(1e3*I.totalDuration/I.duration.length):0;return n.createElement(l.a,{hasGutter:!0},n.createElement(o.a,{span:3},n.createElement(c.a,{className:"pipeline-run-average"},n.createElement(u.a,{className:"pipeline-run-average__body",spaceItems:{default:"spaceItemsNone"}},n.createElement(d.a,{className:"pipeline-run-average__duration"},""+L),n.createElement(d.a,{className:"pipeline-run-average__duration-desc"},S("pipelines-plugin~Average PipelineRun duration"))))),n.createElement(o.a,{span:9},n.createElement(m.a,{bounds:!0},({measureRef:e,contentRect:t})=>n.createElement("div",{ref:e},n.createElement(h.a,{ariaDesc:S("pipelines-plugin~Pipeline run duration chart"),data:[I.duration],themeColor:s.a.green,yTickFormatter:e=>Math.floor(e/60)+"m",width:t.bounds.width,height:x,containerComponent:n.createElement(r.a,{voronoiPadding:{bottom:75},constrainToVisibleArea:!0,activateData:!1,labels:({datum:e})=>{var t;return e.childName.includes("line-")&&null!==e.y?`${null===(t=null==e?void 0:e.metric)||void 0===t?void 0:t.pipelinerun}\n${null==e?void 0:e.time}`:null}})})))))}},11408:function(e,t,a){},11409:function(e,t,a){"use strict";var n=a(0),i=a(321),s=a(12098),r=a(1128),l=a(12099),o=a(50),c=a(363),u=a(22),d=a(7),p=a(2246),m=a(199),b=a(1207),v=a(5),g=a(5588),f=a(5846),h=a(8282),E=a(5650);a(6860);const O=({children:e})=>{var t,a,i,s,r,l,o,c;const u=null!==(s=null===(i=null===(a=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])||void 0===a?void 0:a.props)||void 0===i?void 0:i.width)&&void 0!==s?s:"100%",d=null!==(c=null===(o=null===(l=null===(r=null==e?void 0:e[0])||void 0===r?void 0:r[0])||void 0===l?void 0:l.props)||void 0===o?void 0:o.height)&&void 0!==c?c:"100%";return n.createElement("foreignObject",{height:48,width:"100%",y:g.a+55},n.createElement("div",{className:"pipeline-metrics__legend-wrap horizontal-scroll"},n.createElement("svg",{width:u,height:d},e)))};t.a=({pipeline:e,timespan:t,interval:a,loaded:y=!0,onLoad:k,queryPrefix:j,metricsLevel:T})=>{var R;const{metadata:{name:_,namespace:S}}=e,{t:N}=Object(d.useTranslation)(),[P,w]=n.useState(new Set),C=g.b,[x,I,L]=Object(f.f)({name:_,namespace:S,timespan:t,delay:a,queryPrefix:j,metricsLevel:T}),A=e.spec.tasks.filter(e=>!!e.taskRef).reduce((e,t)=>(e[t.taskRef.name]=t.name,e),{}),D=n.useMemo(()=>{var e,t;return null!==(t=null===(e=null==x?void 0:x.data)||void 0===e?void 0:e.result)&&void 0!==t?t:[]},[x]);if(n.useEffect(()=>{!y&&k&&k({chartName:"pipelineTaskRunDuration",hasData:!!D.length})},[y,k,D]),L)return n.createElement(v.T,null);if(!y&&D.length||I||0===D.length)return n.createElement(b.a,{height:C-30});const M=null!==(R=Object(E.h)(x,e=>Object(v.Bc)(e.metric.pipelinerun,{length:10})))&&void 0!==R?R:[],F=[],U=M.reduce((e,t)=>{var a;if(!t)return e;const n=t[t.length-1],i=(s=null===(a=null==n?void 0:n.metric)||void 0===a?void 0:a.task,A[s]?A[s]:s);var s;return i&&(e[i]||(e[i]=[]),F.push(Object(v.Bc)(n.metric.pipelinerun,{length:10})),e[i].push(n)),e},{}),B=()=>o.a(Object.keys(U),(e,t)=>Object.assign({childName:"line-"+t,name:e},Object(s.b)(P.has(t)))),q=e=>P.has(e),$=e=>{const t=new Set(P);t.delete(e.index)||t.add(e.index),w(t)};return n.createElement(p.a,{bounds:!0},({measureRef:e,contentRect:t})=>n.createElement("div",{ref:e},n.createElement(h.a,{ariaDesc:N("pipelines-plugin~Pipeline task run duration chart"),data:c.a(U),yTickFormatter:e=>Object(E.g)(e),events:Object(s.a)({chartNames:B().map((e,t)=>[e.childName,"scatter-"+t]),isHidden:q,legendName:"legend",onLegendClick:$}),hiddenSeries:P,tickValues:F,width:t.bounds.width,height:C,legendComponent:!u.a(B())&&n.createElement(r.a,{groupComponent:n.createElement(O,null),gutter:18,name:"legend",data:B(),style:{labels:{fontSize:11,fill:"var(--pf-v5-global--Color--100)"}}}),containerComponent:n.createElement(m.d,{constrainToVisibleArea:!0,mouseFollowTooltips:!0,voronoiDimension:"x",cursorDimension:"x",labels:({datum:e})=>""+(null!==e.y?Object(i.a)(1e3*(null==e?void 0:e.y)):null),labelComponent:n.createElement(l.a,{legendData:B(),title:({datum:e})=>{var t;return Object(v.Bc)(null===(t=null==e?void 0:e.metric)||void 0===t?void 0:t.pipelinerun)}}),activateData:!1,voronoiPadding:{bottom:75}})})))}},11412:function(e,t,a){"use strict";var n=a(0),i=a(515),s=a(4330),r=a(379),l=a(184),o=a(5912),c=a(2225),u=a(1273),d=a(117),p=a(461),m=a(7),b=a(2246),v=a(1207),g=a(5),f=a(5588),h=a(5846),E=a(11413),O=a(8281),y=a(5650);a(6860);const k={cancelled:o.global_Color_200.value,failed:c.global_danger_color_100.value,success:i.a.green};t.a=({pipeline:e,timespan:t,interval:a,loaded:i=!0,onLoad:o,queryPrefix:c,metricsLevel:j})=>{var T,R,_;const{metadata:{name:S,namespace:N}}=e,{t:P}=Object(m.useTranslation)(),[w,C,x]=Object(h.g)({name:S,namespace:N,timespan:t,delay:a,queryPrefix:c,metricsLevel:j}),I=n.useMemo(()=>{var e,t;return null!==(t=null===(e=null==w?void 0:w.data)||void 0===e?void 0:e.result)&&void 0!==t?t:[]},[w]);if(n.useEffect(()=>{!i&&o&&o({chartName:"pipelineSuccessRatio",hasData:!!I.length})},[i,o,I]),x)return n.createElement(g.T,null);if(!i&&I.length||C||0===I.length)return n.createElement(v.a,{height:f.a});const L=(null!==(T=Object(y.h)(w,e=>e.metric.status))&&void 0!==T?T:[]).reduce((e,t)=>{if(!t)return e;const a=t[t.length-1];return e.push(a),e},[]),A=u.a(L,"y"),D=L.map(e=>{const t=(100*e.y/A).toFixed(2),a="success"===e.x?1:2;return Object.assign(Object.assign({},e),{count:e.y,sortOrder:a,y:parseFloat(t),name:`${e.x}: ${t}%`,fill:k[e.x]})});let M=D.reduce((e,t)=>{if("success"!==t.x)return e;const a=Object(y.d)(new Date(1e3*t.time));return e[a]||(e[a]={y:0}),e[a]=Object.assign(Object.assign({},t),{x:new Date(1e3*t.time).setHours(0,0,0,0),y:e[a].y+t.y}),e},{});Object.keys(M).length||(M={emptyState:Object.assign(Object.assign({},D[0]),{x:(new Date).setHours(0,0,0,0),y:0})});const F=null!==(_=null===(R=d.a(D,{x:"success"}))||void 0===R?void 0:R.count)&&void 0!==_?_:0,U=p.a(D,"sortOrder");return n.createElement(r.a,{hasGutter:!0},n.createElement(l.a,{xl2:3,xl:3,lg:3,md:3,sm:3},n.createElement("div",{style:{height:f.a,marginTop:-20}},n.createElement(E.a,{data:U,successValue:F,ariaDesc:P("pipelines-plugin~Pipeline success ratio chart"),subTitle:U?P("pipelines-plugin~{{successValue}} of {{totalValue}} succeeded",{successValue:F,totalValue:A}):"",title:U.length?(100*F/A).toFixed(1)+"%":""}))),n.createElement(l.a,{xl2:9,xl:9,lg:9,md:9,sm:9},n.createElement(b.a,{bounds:!0},({measureRef:e,contentRect:a})=>{var i;return n.createElement("div",{ref:e,style:{height:f.a}},n.createElement(O.a,{ariaDesc:P("pipelines-plugin~Pipeline success chart"),data:null!==(i=Object.values(M))&&void 0!==i?i:[],bar:!1,domain:{y:[0,100]},yTickFormatter:e=>e+"%",timespan:t,width:a.bounds.width,containerComponent:n.createElement(s.a,{constrainToVisibleArea:!0,labels:({datum:e})=>e.childName.includes("line-")&&null!==e.y?`${Object(y.d)(e.x)}\n${null==e?void 0:e.y}%`:null})}))})))}},11413:function(e,t,a){"use strict";var n=a(0),i=a(2232),s=a(270),r=a(4397);t.a=({data:e,width:t,successValue:a=0,ariaDesc:l,ariaTitle:o,title:c,subTitle:u})=>n.createElement(i.a,{ariaDesc:l,ariaTitle:o,constrainToVisibleArea:!0,data:e,sortKey:a?["success","failed","cancelled"]:["failed","cancelled"],labels:({datum:e})=>`${r.a(e.x)}: ${e.y}%`,padding:{bottom:20,left:20,right:20,top:20},subTitle:u,subTitleComponent:n.createElement(s.a,{style:{fill:"var(--pf-v5-global--Color--400)",fontSize:14}}),title:c,titleComponent:n.createElement(s.a,{style:{fill:"var(--pf-v5-global--Color--100)",fontSize:24}}),width:t,style:{data:{fill:({datum:e})=>e.fill}}})},11414:function(e,t,a){"use strict";var n=a(0),i=a(6139),s=a(7),r=a(5),l=a(10),o=a(6105),c=a(7500);t.a=({obj:e})=>{var t,a,u,d,p,m,b,v,g,f,h,E;const{t:O}=Object(s.useTranslation)(),{spec:y}=e,[k,j]=Object(o.a)();return n.createElement("div",{className:"co-m-pane__body"},n.createElement(r.ob,{text:O("pipelines-plugin~Repository details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(r.lb,{resource:e})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",null,(null==y?void 0:y.url)&&n.createElement(r.r,{label:O("pipelines-plugin~Repository"),obj:e,path:"spec.url","data-test":"pl-repository-customdetails"},n.createElement(r.z,{href:null==y?void 0:y.url},Object(c.a)(null==y?void 0:y.url)," ",null==y?void 0:y.url)),(null===(t=null==y?void 0:y.git_provider)||void 0===t?void 0:t.user)&&n.createElement(r.r,{label:O("pipelines-plugin~Username"),obj:e,path:"spec.git_provider.user","data-test":"git-provider-username"},null===(a=null==y?void 0:y.git_provider)||void 0===a?void 0:a.user),(null===(d=null===(u=null==y?void 0:y.git_provider)||void 0===u?void 0:u.secret)||void 0===d?void 0:d.name)&&n.createElement(r.r,{label:O("pipelines-plugin~Git access token"),obj:e,path:"spec.git_provider.secret.name","data-test":"git-provider-secret-name"},n.createElement(r.hb,{kind:l.SecretModel.kind,name:null===(m=null===(p=null==y?void 0:y.git_provider)||void 0===p?void 0:p.secret)||void 0===m?void 0:m.name,namespace:e.metadata.namespace})),(null===(v=null===(b=null==y?void 0:y.git_provider)||void 0===b?void 0:b.webhook_secret)||void 0===v?void 0:v.name)&&k&&j&&n.createElement(r.r,{label:O("pipelines-plugin~Webhook URL"),obj:e,"data-test":"webhook-url"},n.createElement(i.a,{isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"}},k.data["controller-url"])),(null===(f=null===(g=null==y?void 0:y.git_provider)||void 0===g?void 0:g.webhook_secret)||void 0===f?void 0:f.name)&&n.createElement(r.r,{label:O("pipelines-plugin~Webhook Secret"),obj:e,path:"spec.git_provider.webhook_secret.name","data-test":"git-provider-webhook-secret-name"},n.createElement(r.hb,{kind:l.SecretModel.kind,name:null===(E=null===(h=null==y?void 0:y.git_provider)||void 0===h?void 0:h.webhook_secret)||void 0===E?void 0:E.name,namespace:e.metadata.namespace}))))))}},11415:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(8),r=a(5586),l=a(6362),o=a(6181),c=a(6253),u=a(5648),d=a(11416);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{obj:a}=e,p=n.useMemo(()=>({matchLabels:{[u.f[u.e.REPOSITORY]]:a.metadata.name}}),[a.metadata.name]),[m,b,v]=Object(o.b)(a.metadata.namespace,{selector:p}),g={[Object(s.Hb)(r.PipelineRunModel)]:{data:m,kind:Object(s.Hb)(r.PipelineRunModel),loadError:v,loaded:b}};return n.createElement(l.a,{showTitle:!1,canCreate:!1,kind:Object(s.Hb)(r.PipelineRunModel),namespace:a.metadata.namespace,selector:{matchLabels:{[u.f[u.e.REPOSITORY]]:a.metadata.name}},ListComponent:d.a,rowFilters:Object(c.b)(t),data:g})}},11416:function(e,t,a){"use strict";var n=a(0),i=a(469),s=a(7),r=a(40),l=a(5586),o=a(6039),c=a(5705),u=a(8289),d=a(11417);t.a=e=>{const{t:t}=Object(s.useTranslation)(),a=Object(c.h)(e.namespace),[p,m]=Object(o.a)(e.namespace);return n.createElement(r.j,Object.assign({},e,{"aria-label":t(l.PipelineRunModel.labelPluralKey),defaultSortField:"status.startTime",defaultSortOrder:i.a.desc,Header:u.a,Row:d.a,customData:{operatorVersion:a,taskRuns:m?p:[],taskRunsLoaded:m},virtualize:!0}))}},11417:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(11334),r=a(7),l=a(40),o=a(5),c=a(8),u=a(5669),d=a(6662),p=a.n(d),m=a(5586),b=a(6087),v=a(5617),g=a(5623),f=a(6432),h=a(8276),E=a(6670),O=a(6057),y=a(5588),k=a(6122),j=a(5648),T=a(7500),R=a(8289);const _=Object(c.Hb)(m.PipelineRunModel),S=({obj:e,taskRuns:t,taskRunsLoaded:a})=>n.createElement(h.a,{status:Object(v.c)(e),title:Object(v.f)(e),pipelineRun:e,taskRuns:t,taskRunsLoaded:a});t.a=({obj:e,customData:t})=>{var a,c,d,m,v,h,N,P;const{t:w}=Object(r.useTranslation)(),C=e.metadata.labels,x=e.metadata.annotations,{operatorVersion:I,taskRuns:L,taskRunsLoaded:A}=t,D=Object(k.a)(L,null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),M=(null==C?void 0:C[j.d[j.c.BRANCH]])||(null==x?void 0:x[j.d[j.c.BRANCH]]);return n.createElement(n.Fragment,null,n.createElement(l.k,{className:R.b[0]},n.createElement(o.hb,{kind:_,name:e.metadata.name,namespace:e.metadata.namespace,"data-test-id":e.metadata.name,nameSuffix:n.createElement(n.Fragment,null,"true"===(null===(d=null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations)||void 0===d?void 0:d[y.y])?n.createElement(i.a,{content:w("pipelines-plugin~Signed")},n.createElement("div",{className:"opp-pipeline-run-list__signed-indicator"},n.createElement("img",{src:p.a,alt:w("pipelines-plugin~Signed")}))):null,"true"===(null===(v=null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations)||void 0===v?void 0:v[u.c])||"true"===(null===(N=null===(h=null==e?void 0:e.metadata)||void 0===h?void 0:h.annotations)||void 0===N?void 0:N[u.l])?n.createElement(i.a,{content:w("pipelines-plugin~Archived in Tekton results")},n.createElement("div",{className:"opp-pipeline-run-list__results-indicator"},n.createElement(s.a,null))):null)})),n.createElement(l.k,{className:R.b[1],columnID:"sha"},n.createElement(i.a,{"data-test":"tooltip-msg",content:n.createElement(n.Fragment,null,null!==(P=null==x?void 0:x[j.d[j.c.SHA_MESSAGE]])&&void 0!==P?P:null==C?void 0:C[j.f[j.e.SHA]])},n.createElement(o.z,{href:null==x?void 0:x[j.d[j.c.SHA_URL]]},Object(o.Bc)(null==C?void 0:C[j.f[j.e.SHA]],{length:7,truncateEnd:!0,omission:""})))),n.createElement(l.k,{className:R.b[2],columnID:"namespace"},n.createElement(o.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(l.k,{className:R.b[3]},n.createElement(E.a,{pipelineRun:e,condensed:!0})),n.createElement(l.k,{className:R.b[3]},n.createElement(S,{obj:e,taskRuns:D,taskRunsLoaded:A})),n.createElement(l.k,{className:R.b[4]},n.createElement(f.a,{pipelineRun:e,taskRuns:D,taskRunsLoaded:A})),n.createElement(l.k,{className:R.b[5]},n.createElement(o.xb,{timestamp:e.status&&e.status.startTime})),n.createElement(l.k,{className:R.b[6]},Object(g.v)(e)),n.createElement(l.k,{className:R.b[7]},Object(T.c)(M)),n.createElement(l.k,{className:R.b[8]},n.createElement(O.a,{actions:Object(b.b)(I,D),kind:_,resource:e})))}},11418:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),i=a(22),s=a(7),r=a(5),l=a(8),o=a(15),c=a(5586),u=a(11419),d=a(11422);a(11429);const p=({values:e,status:t,isSubmitting:a,dirty:p,handleReset:m,handleSubmit:b,errors:v})=>{const{t:g}=Object(s.useTranslation)(),[f]=Object(o.ue)(),{showOverviewPage:h}=e;return n.createElement(o.P,{onSubmit:b,className:"opp-repository-form"},n.createElement(o.Q,{className:"opp-repository-form__body"},h?n.createElement(d.a,null):n.createElement(u.a,null)),n.createElement(o.R,{handleSubmit:h?()=>{r.Vb.push(`/k8s/ns/${f}/${Object(l.Hb)(c.RepositoryModel)}/${e.name}`)}:null,handleReset:h?null:m,errorMessage:null==t?void 0:t.submitError,isSubmitting:a,submitLabel:g(h?"pipelines-plugin~Close":"pipelines-plugin~Add"),disableSubmit:!h&&(!p||!i.a(v)||a),resetLabel:g("pipelines-plugin~Cancel"),sticky:!0}))}},11419:function(e,t,a){"use strict";var n=a(0),i=a(241),s=a(130),r=a(242),l=a(281),o=a(55),c=a(7),u=a(5618),d=a(5591),p=a(5633),m=a(15),b=a(5586),v=a(11420),g=a(5653),f=a(11421),h=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};t.a=()=>{const{t:e}=Object(c.useTranslation)(),t=n.useRef({}),{setFieldValue:a}=Object(o.f)(),[E]=Object(v.a)(),O=Object(m.Ce)(e=>h(void 0,void 0,void 0,(function*(){var n,i;if(!e)return;const s=Object(g.c)(e),r=Object(g.f)(e);r&&a("name",r),s&&a("gitProvider",s);const l=Object(d.e)(e,s),o=yield Object(p.a)(e,l);if(o.strategies.length>0){const e=null===(i=null===(n=o.strategies)||void 0===n?void 0:n.find(e=>e.type===d.c.S2I))||void 0===i?void 0:i.detectedCustomData,s=E&&(null==e?void 0:e.find(({type:e})=>e&&E.hasOwnProperty(e))),l=t.current[null==s?void 0:s.type]?t.current[null==s?void 0:s.type]:yield Object(g.d)(null==s?void 0:s.type,r);l&&(t.current[null==s?void 0:s.type]=l,a("yamlData",l))}}))),y=n.createElement(i.a,{className:"odc-pipeline-builder-header__content"},n.createElement(s.a,{grow:{default:"grow"}},n.createElement(r.a,{headingLevel:"h1"},e("pipelines-plugin~Add Git Repository"))),n.createElement(s.a,null,Object(m.Ec)(b.RepositoryModel.badge)));return n.createElement(n.Fragment,null,n.createElement(m.S,{title:y}),n.createElement(u.a,null,n.createElement(m.ab,{label:e("pipelines-plugin~Git Repo URL"),name:"gitUrl",type:l.b.text,required:!0,onBlur:e=>{const t=e.target.value.trim();e.target.value!==t&&O(t,"","")},onChange:e=>{O(e.target.value.trim(),"","")}}),n.createElement(m.ab,{label:e("pipelines-plugin~Name"),name:"name",type:l.b.text,required:!0}),n.createElement(f.a,null)))}},11420:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a(116),s=a(5673),r=a(83),l=a(4362);const o=()=>{const[e,t,a]=Object(r.useK8sWatchResource)({isList:!0,kind:"ImageStream",namespace:"openshift",prop:"imageStreams"}),o=n.useMemo(()=>i.a(e,l.isBuilder),[e]);return[n.useMemo(()=>Object(s.o)(o),[o]),t,a]}},11421:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(5591),r=a(5648),l=a(6105),o=a(6311),c=a(6075);t.a=()=>{const[e,t]=n.useState(!1),{values:a,setFieldValue:u}=Object(i.f)(),[d,p]=Object(l.a)();return n.useEffect(()=>{p&&d&&d.data["app-link"]?(t(!0),u("githubAppAvailable",!0),u("method",r.b.GITHUB)):u("method",r.b.WEBHOOK)},[d,p,u]),a.gitProvider&&n.createElement(n.Fragment,null,e&&a.gitProvider===s.b.GITHUB?n.createElement(o.a,{pac:d}):n.createElement(c.a,{pac:d}))}},11422:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(80),r=a(242),l=a(72),o=a(241),c=a(130),u=a(6139),d=a(55),p=a(7),m=a(6792),b=a(5618),v=a(5591),g=a(5),f=a(6678),h=a(11424);t.a=()=>{var e,t,a,E,O;const{t:y}=Object(p.useTranslation)(),{values:k}=Object(d.f)();return n.createElement(b.a,null,n.createElement(i.a,{fieldId:"alert-message"},n.createElement(s.a,{isInline:!0,variant:(null===(e=null==k?void 0:k.webhook)||void 0===e?void 0:e.autoAttach)?s.b.success:s.b.info,title:(null===(t=null==k?void 0:k.webhook)||void 0===t?void 0:t.autoAttach)?y("pipelines-plugin~Webhook attached to the Git Repository"):y("pipelines-plugin~Could not attach webhook to the Git Repository.")},!(null===(a=null==k?void 0:k.webhook)||void 0===a?void 0:a.autoAttach)&&y("pipelines-plugin~Please follow the instructions below to attach the webhook manually."))),n.createElement(i.a,{fieldId:"title"},n.createElement(r.a,{headingLevel:"h4",size:r.b.xl,"data-test":"repository-overview-title"},y("pipelines-plugin~Git repository added."))),n.createElement(i.a,{fieldId:"instructions"},n.createElement(l.a,null,n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},"Copy this code to ",n.createElement("code",{className:"co-code"},".tekton")," directory in your"," ",n.createElement("a",{href:k.gitUrl},"Git repository"),"."," ",n.createElement(g.z,{text:y("pipelines-plugin~Learn more"),href:"https://pipelinesascode.com/docs/guide/authoringprs/"}))),n.createElement(l.a,null,n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},"You can now add PipelineRuns to the ",n.createElement("code",{className:"co-code"},".tekton")," directory in your ",n.createElement("a",{href:k.gitUrl},"Git repository")," and execute them on Git events."))),n.createElement(i.a,{fieldId:"step-1"},n.createElement(r.a,{headingLevel:"h4",size:r.b.md},y("pipelines-plugin~Step 1")),n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},n.createElement(l.a,null,"In your repository, create the ",n.createElement("code",{className:"co-code"},".tekton")," directory to store you pipeline."))),n.createElement(i.a,{fieldId:"step-2"},n.createElement(r.a,{headingLevel:"h4",size:r.b.md},y("pipelines-plugin~Step 2")),n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},n.createElement(l.a,null,"In the ",n.createElement("code",{className:"co-code"},".tekton")," directory, create a new file called",n.createElement("code",{className:"co-code"},"push.yaml")," and add the following code:")),n.createElement(n.Fragment,null,n.createElement(f.a,{showShortcuts:!0,toolbarLinks:[]}),n.createElement(m.a,{name:"yamlData",height:200,language:"yaml",theme:"console",options:{lineHeight:20,readOnly:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1}}),n.createElement(o.a,{style:{marginTop:"16px"}},n.createElement(c.a,{align:{default:"alignRight"}}," ",n.createElement(h.a,{text:k.yamlData}))))),n.createElement(i.a,{fieldId:"step-3"},n.createElement(r.a,{headingLevel:"h4",size:r.b.md},y("pipelines-plugin~Step 3")),n.createElement(l.a,null,y("pipelines-plugin~Commit these changes and push them to your Git repository."))),!(k.gitProvider===v.b.GITHUB&&k.method===v.b.GITHUB&&!0===k.githubAppAvailable)&&(null===(E=null==k?void 0:k.webhook)||void 0===E?void 0:E.url)&&!(null===(O=null==k?void 0:k.webhook)||void 0===O?void 0:O.autoAttach)&&n.createElement(i.a,{fieldId:"step-4"},n.createElement(r.a,{headingLevel:"h4",size:r.b.md},y("pipelines-plugin~Step 4")),n.createElement(l.a,null,n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},"Webhook URL to configure the webhook in your Git repository:")),n.createElement(l.a,null,n.createElement(u.a,{isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"}},k.webhook.url))),n.createElement(i.a,{fieldId:"step-5"},n.createElement(l.a,null,n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},"You can install Tekton CLI from"," ",n.createElement(g.z,{text:y("pipelines-plugin~releases"),href:"https://github.com/openshift-pipelines/pipelines-as-code/releases"})," ","page and generate example pipelineruns using the"," ",n.createElement("code",{className:"co-code"},"tkn pac generate"))),n.createElement("br",null),n.createElement(p.Trans,{t:y,ns:"pipelines-plugin"},"Your Git repository is now configured to run ",n.createElement("code",{className:"co-code"},"push.yaml")," on every Git push event.")))}},11424:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(19),r=a(2443),l=a(11425),o=a(7);t.a=({text:e})=>{const[t,a]=n.useState(!1),{t:c}=Object(o.useTranslation)(),u=c(t?"pipelines-plugin~Copied to clipboard":"pipelines-plugin~Copy to clipboard"),d=[n.createElement("span",{className:"co-nowrap",key:"nowrap"},u)];return n.createElement("div",{"data-test":"pipelinerun-copy-btn"},n.createElement(i.a,{content:d,trigger:"click mouseenter focus",exitDelay:1250},n.createElement(l.CopyToClipboard,{text:e,onCopy:()=>a(!0)},n.createElement("span",{onMouseEnter:()=>a(!1)},n.createElement(s.a,{type:"button",variant:"secondary",className:"pf-v5-c-button--align-right hidden-sm hidden-xs"},n.createElement(r.a,null)," ",c("pipelines-plugin~Copy"))))))}},11429:function(e,t,a){},1407:function(e,t,a){"use strict";a.r(t),a.d(t,"getQuotaResourceTypes",(function(){return F})),a.d(t,"getACRQResourceUsage",(function(){return U})),a.d(t,"getResourceUsage",(function(){return B})),a.d(t,"UsageIcon",(function(){return K})),a.d(t,"ResourceUsageRow",(function(){return G})),a.d(t,"QuotaScopesInline",(function(){return V})),a.d(t,"QuotaScopesList",(function(){return W})),a.d(t,"hasComputeResources",(function(){return H})),a.d(t,"ResourceQuotasList",(function(){return J})),a.d(t,"AppliedClusterResourceQuotasList",(function(){return Z})),a.d(t,"quotaType",(function(){return X})),a.d(t,"flatten",(function(){return ee})),a.d(t,"ResourceQuotasPage",(function(){return te})),a.d(t,"AppliedClusterResourceQuotasPage",(function(){return ae})),a.d(t,"ResourceQuotasDetailsPage",(function(){return ne})),a.d(t,"AppliedClusterResourceQuotasDetailsPage",(function(){return ie}));var n=a(16),i=a(160),s=a(1120),r=a(460),l=a(839),o=a(0),c=a(18),u=a(14),d=a(54),p=a(5839),m=a(5840),b=a(2248),v=a(2247),g=a(1199),f=a(7),h=a(5747),E=a(5746),O=a(5868),y=a(15),k=a(40),j=a(5),T=a(243),R=a(207),_=a(139),S=a(8),N=a(10),P=a(5674);const{common:w}=j.F.factory,C=[...j.F.getExtensionsActionsForKind(N.ResourceQuotaModel),...w],x=[...j.F.getExtensionsActionsForKind(N.ClusterResourceQuotaModel),...w],I=e=>[...j.F.getExtensionsActionsForKind(N.ClusterResourceQuotaModel),j.F.factory.ModifyLabels,j.F.factory.ModifyAnnotations,(t,a)=>({labelKey:"public~Edit AppliedClusterResourceQuota",href:`/k8s/ns/${e}/${Object(S.Hb)(N.AppliedClusterResourceQuotaModel)}/${a.metadata.name}/yaml`,accessReview:{group:t.apiGroup,resource:t.plural,name:a.metadata.name,namespace:e,verb:"update"}}),j.F.factory.Delete],L=e=>!e.metadata.namespace,A=Object(S.Hb)(N.ClusterResourceQuotaModel),D=Object(S.Hb)(N.AppliedClusterResourceQuotaModel),M=(e,t)=>e.metadata.namespace?C:"ClusterResourceQuota"===e.kind?x:"AppliedClusterResourceQuota"===e.kind?I(t.namespace):void 0,F=e=>{const t=L(e)?n.a(e,"spec.quota.hard"):n.a(e,"spec.hard");return i.a(t).sort()},U=(e,t,a)=>{var n,i,s,r,l,o,c,u,d,p,m,b,v;let g;if(a){g={namespace:null===(s=null===(i=(null===(n=e.status)||void 0===n?void 0:n.namespaces).filter(e=>e.namespace===a)[0])||void 0===i?void 0:i.status)||void 0===s?void 0:s.used[t],cluster:null===(l=null===(r=e.status)||void 0===r?void 0:r.total)||void 0===l?void 0:l.used[t]}}else g={namespace:0,cluster:null===(c=null===(o=e.status)||void 0===o?void 0:o.total)||void 0===c?void 0:c.used[t]};const f=null===(d=null===(u=e.status)||void 0===u?void 0:u.total)||void 0===d?void 0:d.used[t],h=(null===(m=null===(p=e.status)||void 0===p?void 0:p.total)||void 0===m?void 0:m.hard[t])||(null===(v=null===(b=e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.hard[t]),E=h&&g.namespace?Object(j.Ib)(g.namespace)/Object(j.Ib)(h)*100:0,O=(h&&g.cluster?Object(j.Ib)(g.cluster)/Object(j.Ib)(h)*100:0)-E;return{used:g,totalUsed:f,max:h,percent:{namespace:E,otherNamespaces:O,unused:100-(E+O)}}},B=(e,t)=>{const a=L(e),i=a?["status","total","hard"]:["status","hard"],s=a?["spec","quota","hard"]:["spec","hard"],r=a?["status","total","used"]:["status","used"],l=n.a(e,[...i,t])||n.a(e,[...s,t]),o=n.a(e,[...r,t]);return{used:o,max:l,percent:l&&o?Object(j.Ib)(o)/Object(j.Ib)(l)*100:0}},q=["","","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",j.F.columnClass],$=["","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",j.F.columnClass],K=({percent:e})=>{let t=o.createElement(g.a,null);return 0===e?t=o.createElement(p.a,{className:"co-resource-quota-empty"}):e>0&&e<50?t=o.createElement(m.a,{className:"co-resource-quota-almost-empty"}):e>=50&&e<100?t=o.createElement(b.a,{className:"co-resource-quota-almost-full"}):100===e?t=o.createElement(v.a,{className:"co-resource-quota-full"}):e>100&&(t=o.createElement(y.tc,{className:"co-resource-quota-exceeded"})),t},G=({quota:e,resourceType:t,namespace:a})=>{if(Object(S.Db)(e)===D){const{used:n,totalUsed:i,max:s,percent:r}=U(e,t,a);return o.createElement("div",{className:"row co-m-row"},o.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),o.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},o.createElement(K,{percent:r.namespace})),o.createElement("div",{className:"col-sm-2 col-xs-2"},n.namespace),o.createElement("div",{className:"col-sm-2 col-xs-2"},i),o.createElement("div",{className:"col-sm-2 col-xs-2"},s))}const{used:n,max:i,percent:s}=B(e,t);return o.createElement("div",{className:"row co-m-row"},o.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),o.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},o.createElement(K,{percent:s})),o.createElement("div",{className:"col-sm-3 col-xs-3"},n),o.createElement("div",{className:"col-sm-3 col-xs-3"},i))},V=({scopes:e})=>o.createElement("span",null,"(",e.join(", "),")"),W=({scopes:e})=>{const{t:t}=Object(f.useTranslation)(),a={Terminating:{description:t("public~Affects pods that have an active deadline. These pods usually include builds, deployers, and jobs.")},NotTerminating:{description:t("public~Affects pods that do not have an active deadline. These pods usually include your applications.")},BestEffort:{description:t("public~Affects pods that do not have resource limits set. These pods have a best effort quality of service.")},NotBestEffort:{description:t("public~Affects pods that have at least one resource limit set. These pods do not have a best effort quality of service.")}};return e.map(e=>{const t=n.a(a,e);return t?o.createElement("dd",{key:e},o.createElement("div",{className:"co-resource-quota-scope__label"},e),o.createElement("div",{className:"co-resource-quota-scope__description"},t.description)):o.createElement("dd",{key:e,className:"co-resource-quota-scope__label"},e)})},H=e=>s.a(e,["requests.cpu","cpu","limits.cpu","requests.memory","memory","limits.memory"]).length>0,Y=({obj:e})=>{var t,a,n,i,s,r,l,d,p;const{t:m}=Object(f.useTranslation)(),b=Object(u.useParams)(),v=F(e),g=null!==(a=null===(t=e.spec)||void 0===t?void 0:t.scopes)&&void 0!==a?a:null===(i=null===(n=e.spec)||void 0===n?void 0:n.quota)||void 0===i?void 0:i.scopes,y=Object(S.Db)(e),k=y===D,T=null==b?void 0:b.ns;let R,_;switch(y){case D:R=m("public~AppliedClusterResourceQuota details"),_=o.createElement(h.a,{appliedClusterResourceQuota:e,namespace:T});break;case A:R=m("public~ClusterResourceQuota details"),_=o.createElement(O.a,{clusterResourceQuota:e});break;default:R=m("public~ResourceQuota details"),_=o.createElement(E.a,{resourceQuota:e})}const P=Object(j.Dc)({group:N.ClusterResourceQuotaModel.apiGroup,resource:N.ClusterResourceQuotaModel.plural,verb:"list"});return o.createElement(o.Fragment,null,o.createElement("div",{className:"co-m-pane__body"},o.createElement(j.ob,{text:R}),_,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-6"},o.createElement(j.lb,{resource:e},P&&o.createElement(j.r,{label:m("public~ClusterResourceQuota"),obj:e,path:"rq.metadata.name"},o.createElement(j.hb,{kind:A,name:e.metadata.name})),o.createElement(j.r,{label:m("public~Label selector"),obj:e,path:"spec.selector.labels.matchLabels"},o.createElement(j.L,{kind:D,labels:null===(l=null===(r=null===(s=e.spec)||void 0===s?void 0:s.selector)||void 0===r?void 0:r.labels)||void 0===l?void 0:l.matchLabels})),o.createElement(j.r,{label:m("public~Project annotations"),obj:e,path:"spec.selector.annotations"},o.createElement(j.pb,{selector:null===(p=null===(d=e.spec)||void 0===d?void 0:d.selector)||void 0===p?void 0:p.annotations,namespace:T})))),g&&o.createElement("div",{className:"col-sm-6"},o.createElement("dl",{className:"co-m-pane__details"},o.createElement("dt",null,m("public~Scopes")),o.createElement(W,{scopes:g}))))),o.createElement("div",{className:"co-m-pane__body"},o.createElement(j.ob,{text:R,style:{display:"block",marginBottom:"20px"}},o.createElement(j.B,null,o.createElement("p",null,m("public~Requests are the amount of resources you expect to use. These are used when establishing if the cluster can fulfill your Request.")),o.createElement("p",null,m("public~Limits are a maximum amount of a resource you can consume. Applications consuming more than the Limit may be terminated.")),o.createElement("p",null,m("public~A cluster administrator can establish limits on both the amount you can request and your limits with a ResourceQuota.")))),o.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},o.createElement("div",{className:"row co-m-table-grid__head"},o.createElement("div",{className:"col-sm-4 col-xs-6"},m("public~Resource type")),o.createElement("div",{className:"col-sm-2 hidden-xs"},m("public~Capacity")),o.createElement("div",{className:c({"col-sm-2 col-xs-2":k},{"col-sm-3 col-xs-3":!k})},m("public~Used")),k&&o.createElement("div",{className:"col-sm-2 col-xs-2"},m("public~Total used")),o.createElement("div",{className:c({"col-sm-2 col-xs-2":k},{"col-sm-3 col-xs-3":!k})},m("public~Max"))),o.createElement("div",{className:"co-m-table-grid__body"},v.map(t=>o.createElement(G,{key:t,quota:e,resourceType:t,namespace:T}))))))},z=({obj:e,customData:t})=>{var a,n,i,s,r,l,u,d;const{t:p}=Object(f.useTranslation)(),m=M(e,t);let b;return b=e.kind===N.ResourceQuotaModel.kind?Object.keys((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.hard)||{}).reduce((t,a)=>{var n,i,s;return Object(P.b)(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.hard[a],null===(s=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.used)||void 0===s?void 0:s[a])>=100?t+1:t},0):Object.keys((null===(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===i?void 0:i.hard)||{}).reduce((t,a)=>{var n,i,s,r,l;return Object(P.b)(null===(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===i?void 0:i.hard[a],null===(l=null===(r=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===r?void 0:r.used)||void 0===l?void 0:l[a])>=100?t+1:t},0),o.createElement(o.Fragment,null,o.createElement(k.k,{className:q[0]},o.createElement(j.hb,{kind:Object(S.Db)(e),name:e.metadata.name,namespace:Object(S.Db)(e)===D?t.namespace:e.metadata.namespace,className:"co-resource-item__resource-name",dataTest:"resource-quota-link"})),o.createElement(k.k,{className:c(q[1],"co-break-word"),columnID:"namespace"},e.metadata.namespace?o.createElement(j.hb,{kind:"Namespace",name:e.metadata.namespace}):p("public~None")),o.createElement(k.k,{className:c(q[2],"co-break-word")},o.createElement(j.L,{kind:D,labels:null===(l=null===(r=null===(s=e.spec)||void 0===s?void 0:s.selector)||void 0===r?void 0:r.labels)||void 0===l?void 0:l.matchLabels})),o.createElement(k.k,{className:c(q[3],"co-break-word")},o.createElement(j.pb,{selector:null===(d=null===(u=e.spec)||void 0===u?void 0:u.selector)||void 0===d?void 0:d.annotations,namespace:t.namespace})),o.createElement(k.k,{className:c(q[4],"co-break-word")},b>0?o.createElement(o.Fragment,null,o.createElement(y.tc,null)," ",p("public~{{count}} resource reached quota",{count:b})):p("public~none are at quota")),o.createElement(k.k,{className:q[5]},o.createElement(j.xb,{timestamp:e.metadata.creationTimestamp})),o.createElement(k.k,{className:q[6]},o.createElement(j.gb,{customData:t,actions:m,kind:Object(S.Db)(e),resource:e})))},Q=({obj:e,customData:t})=>{var a,n,i,s,r,l,u;const{t:d}=Object(f.useTranslation)(),p=M(e,t),m=Object.keys((null===(n=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===n?void 0:n.hard)||{}).reduce((t,a)=>{var n,i,s,r,l;return Object(P.b)(null===(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===i?void 0:i.hard[a],null===(l=null===(r=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===r?void 0:r.used)||void 0===l?void 0:l[a])>=100?t+1:t},0);return o.createElement(o.Fragment,null,o.createElement(k.k,{className:$[0]},o.createElement(j.hb,{kind:D,name:e.metadata.name,namespace:t.namespace,className:"co-resource-item__resource-name"})),o.createElement(k.k,{className:c($[1],"co-break-word")},o.createElement(j.L,{kind:D,labels:null===(r=null===(s=null===(i=e.spec)||void 0===i?void 0:i.selector)||void 0===s?void 0:s.labels)||void 0===r?void 0:r.matchLabels})),o.createElement(k.k,{className:c($[2],"co-break-word")},o.createElement(j.pb,{selector:null===(u=null===(l=e.spec)||void 0===l?void 0:l.selector)||void 0===u?void 0:u.annotations,namespace:t.namespace})),o.createElement(k.k,{className:c($[3],"co-break-word")},m>0?o.createElement(o.Fragment,null,o.createElement(y.tc,null)," ",d("public~{{count}} resource reached quota",{count:m})):d("public~none are at quota")),o.createElement(k.k,{className:$[4]},o.createElement(j.xb,{timestamp:e.metadata.creationTimestamp})),o.createElement(k.k,{className:$[5]},o.createElement(j.gb,{customData:t,actions:p,kind:D,resource:e})))},J=e=>{const{t:t}=Object(f.useTranslation)();return o.createElement(k.j,Object.assign({},e,{"aria-label":t("public~ResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:q[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:q[1]},id:"namespace"},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:q[2]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:q[3]}},{title:t("public~Status"),props:{className:q[4]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:q[5]}},{title:"",props:{className:q[6]}}],Row:z,virtualize:!0,customData:{namespace:e.namespace}}))},Z=e=>{const{t:t}=Object(f.useTranslation)();return o.createElement(k.j,Object.assign({},e,{"aria-label":t("public~AppliedClusterResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:$[0]}},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:$[1]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:$[2]}},{title:t("public~Status"),props:{className:$[3]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:$[4]}},{title:"",props:{className:$[5]}}],Row:Q,virtualize:!0,customData:{namespace:e.namespace}}))},X=e=>{if(e)return e.metadata.namespace?"namespace":"cluster"},ee=e=>r.a(e,e=>l.a(e.data)),te=Object(T.a)(y.O.OPENSHIFT)(({namespace:e,flags:t,mock:a,showTitle:n})=>{const{t:i}=Object(f.useTranslation)(),s=[{kind:"ResourceQuota",namespaced:!0}];let r=null;if(Object(R.c)(t[y.O.OPENSHIFT]))return o.createElement(_.f,null);t[y.O.OPENSHIFT]&&(e?s.push({kind:Object(S.Hb)(N.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}):s.push({kind:Object(S.Hb)(N.ClusterResourceQuotaModel),namespaced:!1,optional:!0}),r=[{filterGroupName:i("public~Role"),type:"role-kind",reducer:X,items:[{id:"cluster",title:i("public~Cluster-wide {{resource}}",{resource:i(N.ResourceQuotaModel.labelPluralKey)})},{id:"namespace",title:i("public~Namespace {{resource}}",{resource:i(N.ResourceQuotaModel.labelPluralKey)})}]}]);const l=e||"default",c={model:N.ResourceQuotaModel,namespace:l};return o.createElement(k.i,{canCreate:!0,createAccessReview:c,createButtonText:i("public~Create ResourceQuota"),createProps:{to:`/k8s/ns/${l}/resourcequotas/~new`},ListComponent:J,resources:s,label:i(N.ResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:i(N.ResourceQuotaModel.labelPluralKey),rowFilters:r,mock:a,showTitle:n})}),ae=({namespace:e,mock:t,showTitle:a})=>{const{t:n}=Object(f.useTranslation)(),i=[{kind:Object(S.Hb)(N.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}];return o.createElement(k.i,{ListComponent:Z,resources:i,label:n(N.AppliedClusterResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:n(N.AppliedClusterResourceQuotaModel.labelPluralKey),mock:t,showTitle:a})},ne=e=>o.createElement(k.a,Object.assign({},e,{menuActions:C,pages:[j.mc.details(Y),j.mc.editYaml()]})),ie=e=>{const t=Object(u.useParams)(),a=I(null==t?void 0:t.ns);return o.createElement(k.a,Object.assign({},e,{menuActions:a,pages:[j.mc.details(Y),j.mc.editYaml()]}))}},147:function(e,t,a){"use strict";a.r(t);var n=a(8249);a.d(t,"PipelineDetailsPage",(function(){return n.f})),a.d(t,"PipelinesPage",(function(){return n.k})),a.d(t,"EventListenerPage",(function(){return n.b})),a.d(t,"TriggerTemplatePage",(function(){return n.n})),a.d(t,"TriggerBindingPage",(function(){return n.m})),a.d(t,"ClusterTriggerBindingPage",(function(){return n.a})),a.d(t,"PipelinesResourceList",(function(){return n.l})),a.d(t,"PipelineResourceDetailsPage",(function(){return n.i})),a.d(t,"PipelineConditionDetailsPage",(function(){return n.e})),a.d(t,"PipelineBuilderPage",(function(){return n.d})),a.d(t,"PipelineBuilderEditPage",(function(){return n.c})),a.d(t,"PipelineTabbedPage",(function(){return n.j})),a.d(t,"PipelineParameters",(function(){return n.h})),a.d(t,"PipelineMetrics",(function(){return n.g}));var i=a(7499);a.d(t,"PipelineRunDetailsPage",(function(){return i.a})),a.d(t,"PipelineRunsResourceList",(function(){return i.d})),a.d(t,"PipelineRunsK8sResourceList",(function(){return i.b})),a.d(t,"PipelineRunsPage",(function(){return i.c})),a.d(t,"TaskRuns",(function(){return i.e}));var s=a(8283);a.d(t,"ConditionListPage",(function(){return s.a}));var r=a(8285);a.d(t,"PipelinesListsPage",(function(){return r.a}));var l=a(8287);a.d(t,"RepositoryDetailsPage",(function(){return l.b})),a.d(t,"RepositoryFormPage",(function(){return l.c})),a.d(t,"RepositoriesList",(function(){return l.a}));var o=a(5705);a.d(t,"useIsTektonV1VersionPresent",(function(){return o.f})),a.d(t,"useIsPipelineOperatorVersion_1_16_or_newer",(function(){return o.d})),a.d(t,"useIsPipelineOperatorVersion_1_17_or_newer",(function(){return o.e}));var c=a(8291);a.d(t,"LogURLRedirect",(function(){return c.a}))},1945:function(e,t,a){"use strict";a.r(t),a.d(t,"deleteModal",(function(){return Y})),a.d(t,"NamespacesList",(function(){return ie})),a.d(t,"NamespacesPage",(function(){return se})),a.d(t,"projectMenuActions",(function(){return re})),a.d(t,"ProjectsTable",(function(){return pe})),a.d(t,"ProjectList",(function(){return fe})),a.d(t,"ProjectsPage",(function(){return he})),a.d(t,"PullSecret",(function(){return Ee})),a.d(t,"NamespaceLineCharts",(function(){return Oe})),a.d(t,"TopPodsBarChart",(function(){return ye})),a.d(t,"NamespaceSummary",(function(){return je})),a.d(t,"NamespaceDetails",(function(){return Te})),a.d(t,"NamespacesDetailsPage",(function(){return _e})),a.d(t,"ProjectsDetailsPage",(function(){return Se}));var n=a(16),i=a(667),s=a(1256),r=a(501),l=a(22),o=a(50),c=a(461),u=a(0),d=a(137),p=a(18),m=a(54),b=a(88),v=a(80),g=a(19),f=a(2244),h=a.n(f),E=a(31),O=a(7),y=a(29),k=a(615),j=a(764),T=a(15),R=a(762),_=a(121),S=a(13),N=a(10),P=a(109),w=a(8),C=a(53),x=a(40),I=a(5),L=a(131),A=a(767),D=a(199),M=a(207),F=a(978),U=a(5852),B=a(5838),q=a(108),$=a(1418),K=a(2249),G=a(2250),V=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const W=e=>n.a(e,["metadata","annotations","openshift.io/display-name"]),H=()=>[{filterGroupName:y.a.t("public~Requester"),type:"requester",reducer:e=>{var t,a,n;const i=null===(t=e.metadata)||void 0===t?void 0:t.name,s=null===(n=null===(a=e.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/requester"];return Object($.b)(s)?T.Hb.ME:Object($.c)(s,i)?T.Hb.USER:Object($.d)({title:i})?T.Hb.SYSTEM:void 0},items:[{id:T.Hb.ME,title:y.a.t("public~Me")},{id:T.Hb.USER,title:y.a.t("public~User")},{id:T.Hb.SYSTEM,title:y.a.t("public~System"),hideIfEmpty:!0}]}],Y=(e,t)=>{var a;const{labelKey:n,labelKind:i,weight:s,accessReview:r}=I.F.factory.Delete(e,t);let l,o,c=void 0;return"default"===t.metadata.name?l=e.label+" default cannot be deleted":"Terminating"===(null===(a=t.status)||void 0===a?void 0:a.phase)?l=e.label+" is already terminating":c=()=>Object(L.r)({kind:e,resource:t}),l&&(o=u.createElement("div",{className:"dropdown__disabled"},u.createElement(b.a,{content:l},u.createElement("span",null,y.a.t(n,i))))),{label:o,labelKey:n,labelKind:i,weight:s,callback:c,accessReview:r}},z=[I.F.factory.ModifyLabels,I.F.factory.ModifyAnnotations,I.F.factory.Edit,Y],Q=()=>{const e=[{key:"memory",query:'sum by(namespace) (container_memory_working_set_bytes{container="",pod!=""})'},{key:"cpu",query:"namespace:container_cpu_usage:sum"}].map(({key:e,query:t})=>{const a=`${D.g}/api/v1/query?&query=${t}`;return Object(P.c)(a).then(({data:{result:t}})=>t.reduce((t,a)=>{const n=Number(a.value[1]);return i.a(t,[e,a.metric.namespace],n)},{}))});return Promise.all(e).then(e=>s.a({},...e)).catch(console.error)},J=Object.freeze({name:{classes:"",id:"name"},displayName:{classes:"co-break-word",id:"displayName"},status:{classes:"",id:"status"},requester:{classes:"",id:"requester"},memory:{classes:"",id:"memory"},cpu:{classes:"",id:"cpu"},created:{classes:"",id:"created"},description:{classes:"",id:"description"},labels:{classes:"",id:"labels"}}),Z=()=>[{title:y.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:y.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:y.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:y.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},{title:y.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:y.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}},{title:y.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:y.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:y.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},{title:"",props:{className:I.F.columnClass}}];Z.displayName="NamespacesTableHeader";const X=Object(w.Hb)(N.NamespaceModel),ee=()=>new Set(Z().reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])),te=({obj:e,customData:{tableColumns:t}})=>{var a,n,i;const{t:s}=Object(O.useTranslation)(),r=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),l=Object(T.dd)(e),o=Object(T.Bd)(e),c=null===(a=null==r?void 0:r.memory)||void 0===a?void 0:a[l],d=null===(n=null==r?void 0:r.cpu)||void 0===n?void 0:n[l],m=Object(T.Jc)(e),b=e.metadata.labels,v=(null==t?void 0:t.length)>0?new Set(t):ee();return u.createElement(u.Fragment,null,u.createElement(x.k,{className:J.name.classes},u.createElement(I.hb,{kind:"Namespace",name:e.metadata.name})),u.createElement(x.k,{className:J.displayName.classes,columns:v,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},W(e)||u.createElement("span",{className:"text-muted"},s("public~No display name")))),u.createElement(x.k,{className:p(J.status.classes,"co-break-word"),columns:v,columnID:J.status.id},u.createElement(T.cc,{status:null===(i=e.status)||void 0===i?void 0:i.phase})),u.createElement(x.k,{className:p(J.requester.classes,"co-break-word"),columns:v,columnID:J.requester.id},o||u.createElement("span",{className:"text-muted"},s("public~No requester"))),u.createElement(x.k,{className:J.memory.classes,columns:v,columnID:J.memory.id},c?Object(I.Ob)(c)+" MiB":"-"),u.createElement(x.k,{className:J.cpu.classes,columns:v,columnID:J.cpu.id},d?s("public~{{cores}} cores",{cores:Object(I.Pb)(d)}):"-"),u.createElement(x.k,{className:J.created.classes,columns:v,columnID:J.created.id},u.createElement(I.xb,{timestamp:e.metadata.creationTimestamp})),u.createElement(x.k,{className:J.description.classes,columns:v,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},m||u.createElement("span",{className:"text-muted"},s("public~No description")))),u.createElement(x.k,{className:J.labels.classes,columns:v,columnID:J.labels.id},u.createElement(I.L,{kind:"Namespace",labels:b})),u.createElement(x.k,{className:I.F.columnClass},u.createElement(I.gb,{actions:z,kind:"Namespace",resource:e})))},ae=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(I.h,{title:e("public~No Namespaces found"),Icon:h.a},e("public~No results were found for the requested Namespaces."))},ne=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(I.h,{title:e("public~No matching Namespaces"),Icon:h.a},e("public~No results match the filter criteria."))},ie=e=>{var t;const{t:a}=Object(O.useTranslation)(),n=Object(E.useDispatch)(),[i]=Object(T.ff)(T.q,T.r,void 0,!0);u.useEffect(()=>{const e=()=>Q().then(e=>n(C.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[n]);const s=(null===(t=null==i?void 0:i[X])||void 0===t?void 0:t.length)>0?new Set(i[X]):null,r=u.useMemo(()=>({tableColumns:null==i?void 0:i[X]}),[i]);return u.createElement(x.j,Object.assign({},e,{activeColumns:s,columnManagementID:X,"aria-label":a("public~Namespaces"),Header:Z,Row:te,customData:r,virtualize:!0,EmptyMsg:ne,NoDataEmptyMsg:ae}))},se=e=>{var t;const{t:a}=Object(O.useTranslation)(),n=Object(K.a)(),[i]=Object(T.ff)(T.q,T.r,void 0,!0),s=(null===(t=null==i?void 0:i[X])||void 0===t?void 0:t.length)>0?new Set(i[X]):ee();return u.createElement(x.c,Object.assign({},e,{rowFilters:H(),ListComponent:ie,canCreate:!0,createHandler:()=>n(),columnLayout:{columns:Z().map(e=>r.a(e,["title","additional","id"])),id:X,selectedColumns:s,type:a("public~Namespaces")}}))},re=[I.F.factory.Edit,Y],le=Object(w.Hb)(N.ProjectModel),oe=({showMetrics:e,showActions:t})=>[{title:y.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:y.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:y.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:y.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},...e?[{title:y.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:y.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}}]:[],{title:y.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:y.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:y.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},...t?[{title:"",props:{className:I.F.columnClass}}]:[]],ce=({project:e})=>{const t=Object(E.useDispatch)(),[,a]=Object(T.ff)(T.gb,T.fb),n=new URL(window.location.href),i=new URLSearchParams(n.search),s=n.pathname;i.has("project-name")&&i.delete("project-name");const r={search:"?"+i.toString(),hash:n.hash},l=C.b(e.metadata.name,s,r);return u.createElement("span",{className:"co-resource-item co-resource-item--truncate"},u.createElement(I.fb,{kind:"Project"}),u.createElement(j.Link,{to:l,className:"co-resource-item__resource-name",onClick:n=>{Object(T.Sd)(n)||(a(e.metadata.name),sessionStorage.setItem(T.fb,e.metadata.name),t(_.b(Object(w.Hb)(N.ProjectModel),"project-name","")))}},e.metadata.name))},ue=()=>oe({showMetrics:!1,showActions:!1}),de=({obj:e,customData:t={}})=>{var a,n,i;const{t:s}=Object(O.useTranslation)(),r=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),l=Object(T.dd)(e),o=Object(T.Bd)(e),{ProjectLinkComponent:c,actionsEnabled:d=!0,showMetrics:m,showActions:b,isColumnManagementEnabled:v=!0,tableColumns:g}=t,f=null===(a=null==r?void 0:r.memory)||void 0===a?void 0:a[l],h=null===(n=null==r?void 0:r.cpu)||void 0===n?void 0:n[l],y=Object(T.Jc)(e),k=e.metadata.labels,j=v?(null==g?void 0:g.length)>0?new Set(g):(({showMetrics:e,showActions:t})=>new Set(oe({showMetrics:e,showActions:t}).reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])))({showMetrics:m,showActions:b}):null;return u.createElement(u.Fragment,null,u.createElement(x.k,{className:J.name.classes},t&&c?u.createElement(c,{project:e}):u.createElement("span",{className:"co-resource-item"},u.createElement(I.hb,{kind:"Project",name:e.metadata.name}))),u.createElement(x.k,{className:J.displayName.classes,columns:j,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},W(e)||u.createElement("span",{className:"text-muted"},s("public~No display name")))),u.createElement(x.k,{className:J.status.classes,columns:j,columnID:J.status.id},u.createElement(T.cc,{status:null===(i=e.status)||void 0===i?void 0:i.phase})),u.createElement(x.k,{className:p(J.requester.classes,"co-break-word"),columns:j,columnID:J.requester.id},o||u.createElement("span",{className:"text-muted"},s("public~No requester"))),m&&u.createElement(u.Fragment,null,u.createElement(x.k,{className:J.memory.classes,columns:j,columnID:J.memory.id},f?Object(I.Ob)(f)+" MiB":"-"),u.createElement(x.k,{className:J.cpu.classes,columns:j,columnID:J.cpu.id},h?s("public~{{cores}} cores",{cores:Object(I.Pb)(h)}):"-")),u.createElement(x.k,{className:J.created.classes,columns:j,columnID:J.created.id},u.createElement(I.xb,{timestamp:e.metadata.creationTimestamp})),v&&u.createElement(u.Fragment,null,u.createElement(x.k,{className:J.description.classes,columns:j,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},y||u.createElement("span",{className:"text-muted"},s("public~No description")))),u.createElement(x.k,{className:J.labels.classes,columns:j,columnID:J.labels.id},u.createElement(I.L,{labels:k,kind:"Project"}))),d&&u.createElement(x.k,{className:I.F.columnClass},u.createElement(I.gb,{actions:re,kind:"Project",resource:e})))};de.displayName="ProjectTableRow";const pe=e=>{const{t:t}=Object(O.useTranslation)(),a=u.useMemo(()=>({ProjectLinkComponent:ce,actionsEnabled:!1,isColumnManagementEnabled:!1}),[]);return u.createElement(x.j,Object.assign({},e,{"aria-label":t("public~Projects"),Header:ue,Row:de,customData:a,virtualize:!0}))},me=()=>oe({showMetrics:!0,showActions:!0}),be=()=>oe({showMetrics:!1,showActions:!0}),ve=()=>{const{t:e}=Object(O.useTranslation)(),t=Object(T.Fe)(T.O.CAN_CREATE_NS),a=Object(T.Fe)(T.O.CAN_CREATE_PROJECT),n=t||a;return u.createElement(I.h,{title:e("public~Welcome to OpenShift")},u.createElement(F.a,{canCreate:n}))},ge=()=>{const{t:e}=Object(O.useTranslation)();return u.createElement(I.h,{title:e("public~No matching Projects"),icon:h.a},e("public~No results match the filter criteria."))},fe=e=>{var t,{data:a}=e,n=V(e,["data"]);const{t:i}=Object(O.useTranslation)(),s=Object(E.useDispatch)(),r=Object(T.Fe)(T.O.CAN_GET_NS),[l]=Object(T.ff)(T.q,T.r,void 0,!0),o=Object(T.Ue)()&&r&&window.screen.width>=1200,c=u.useMemo(()=>({showMetrics:o,tableColumns:null==l?void 0:l[le]}),[o,l]);u.useEffect(()=>{if(o){const e=()=>Q().then(e=>s(C.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)}},[s,o]);const d=(null===(t=null==l?void 0:l[le])||void 0===t?void 0:t.length)>0?new Set(l[le]):null;return Object(M.c)(r)?null:u.createElement(x.j,Object.assign({},n,{activeColumns:d,columnManagementID:le,"aria-label":i("public~Projects"),data:a,Header:o?me:be,Row:de,NoDataEmptyMsg:ve,EmptyMsg:ge,customData:c,virtualize:!0}))},he=e=>{var t;const{t:a}=Object(O.useTranslation)(),n=Object(G.a)(),i=Object(T.Fe)(T.O.CAN_GET_NS),s=Object(T.Fe)(T.O.CAN_CREATE_PROJECT),[l]=Object(T.ff)(T.q,T.r,void 0,!0),o=Object(T.Ue)()&&i&&window.screen.width>=1200,c=o;return u.createElement(x.c,Object.assign({},e,{rowFilters:H(),ListComponent:fe,canCreate:s,createHandler:()=>n(),filterLabel:a("public~by name or display name"),skipAccessReview:!0,textFilter:"project-name",kind:"Project",columnLayout:{columns:oe({showMetrics:o,showActions:c}).map(e=>r.a(e,["title","additional","id"])),id:le,selectedColumns:(null===(t=null==l?void 0:l[le])||void 0===t?void 0:t.length)>0?new Set(l[le]):null,type:a("public~Project")}}))},Ee=e=>{const[t,a]=u.useState(!0),[n,i]=u.useState([]),[s,r]=u.useState(!1),{t:l}=Object(O.useTranslation)(),{namespace:o,canViewSecrets:c}=e;u.useEffect(()=>{Object(w.kb)(N.ServiceAccountModel,"default",o.metadata.name,{}).then(e=>{var t;a(!1),i(null!==(t=e.imagePullSecrets)&&void 0!==t?t:[]),r(!1)}).catch(e=>{a(!1),i([]),r(!0),console.error("Error getting default ServiceAccount",e)})},[o.metadata.name]);const d=()=>Object(L.k)({namespace:o,pullSecret:void 0});return u.createElement(u.Fragment,null,u.createElement("dt",null,l("public~Default pull Secret",{count:n.length})),u.createElement("dd",null,t?u.createElement(I.T,null):s?u.createElement(v.a,{variant:"danger",isInline:!0,title:l("Error loading default pull Secrets")}):n.length>0?n.map(e=>u.createElement("div",{key:e.name},u.createElement(I.hb,{kind:"Secret",name:e.name,namespace:o.metadata.name,linkTo:c}))):u.createElement(g.a,{variant:"link",type:"button",isInline:!0,onClick:d},l("public~Not configured"),u.createElement(k.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))))},Oe=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(D.b,{title:t("public~CPU usage"),humanize:I.Yb,namespace:e.metadata.name,query:`namespace:container_cpu_usage:sum{namespace='${e.metadata.name}'}`})),u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(D.b,{title:t("public~Memory usage"),humanize:I.Wb,byteDataType:R.a.BinaryBytes,namespace:e.metadata.name,query:`sum by(namespace) (container_memory_working_set_bytes{namespace="${e.metadata.name}",container="",pod!=""})`})))},ye=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return u.createElement(D.c,{title:t("public~Memory usage by pod (top 10)"),namespace:e.metadata.name,query:`sort_desc(topk(10, sum by (pod)(container_memory_working_set_bytes{container="",pod!="",namespace="${e.metadata.name}"})))`,humanize:I.Wb,metric:"pod"})},ke=({ns:e})=>{const{t:t}=Object(O.useTranslation)();return Object(T.Ue)()?u.createElement("div",{className:"co-m-pane__body"},u.createElement(I.ob,{text:t("public~Resource usage")}),u.createElement(Oe,{ns:e}),u.createElement(ye,{ns:e})):null},je=({ns:e})=>{var t,a,n;const{t:i}=Object(O.useTranslation)(),s=W(e),r=Object(T.Jc)(e),l=Object(T.Bd)(e),o=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["maistra.io/member-of"],c=Object(I.Dc)({group:N.SecretModel.apiGroup,resource:N.SecretModel.plural,verb:"patch",namespace:e.metadata.name});return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement(I.lb,{resource:e,showLabelEditor:"Namespace"===e.kind},u.createElement("dt",null,i("public~Display name")),u.createElement("dd",{className:p({"text-muted":!s})},s||i("public~No display name")),u.createElement("dt",null,i("public~Description")),u.createElement("dd",null,u.createElement("p",{className:p({"text-muted":!r,"co-pre-wrap":r,"co-namespace-summary__description":r})},r||i("public~No description"))),l&&u.createElement("dt",null,"Requester"),l&&u.createElement("dd",null,l))),u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement("dl",{className:"co-m-pane__details"},u.createElement(I.r,{label:i("public~Status"),obj:e,path:"status.phase"},u.createElement(T.cc,{status:null===(n=e.status)||void 0===n?void 0:n.phase})),u.createElement(Ee,{namespace:e,canViewSecrets:c}),u.createElement("dt",null,i("public~NetworkPolicies")),u.createElement("dd",null,u.createElement(j.Link,{to:`/k8s/ns/${e.metadata.name}/networkpolicies`},i("public~NetworkPolicies"))),o&&u.createElement(u.Fragment,null,u.createElement("dt",null,i("public~Service mesh")),u.createElement("dd",null,u.createElement(T.X,null)," ",i("public~Service mesh enabled"))))))},Te=({obj:e,customData:t})=>{const{t:a}=Object(O.useTranslation)(),[n]=Object(S.jc)(),[i]=Object(q.a)({isList:!0,kind:Object(w.Hb)(N.ConsoleLinkModel),optional:!0}),s=Object(B.b)(e,i);return u.createElement("div",null,"dev"===n&&u.createElement(d.b,null,u.createElement("title",null,a("public~Project details"))),u.createElement("div",{className:"co-m-pane__body"},!(null==t?void 0:t.hideHeading)&&u.createElement(I.ob,{text:a("public~{{kind}} details",{kind:e.kind})}),u.createElement(je,{ns:e})),"Namespace"===e.kind&&u.createElement(ke,{ns:e}),!l.a(s)&&u.createElement("div",{className:"co-m-pane__body"},u.createElement(I.ob,{text:a("public~Launcher")}),u.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},o.a(c.a(s,"spec.text"),e=>u.createElement("li",{key:e.metadata.uid},u.createElement(I.z,{href:e.spec.href,text:e.spec.text}))))))},Re=({obj:{metadata:e}})=>u.createElement(A.RoleBindingsPage,{createPath:`/k8s/ns/${e.name}/rolebindings/~new`,namespace:e.name,showTitle:!1}),_e=e=>u.createElement(x.a,Object.assign({},e,{menuActions:z,pages:[I.mc.details(Te),I.mc.editYaml(),I.mc.roles(Re)]})),Se=e=>u.createElement(x.a,Object.assign({},e,{menuActions:re,pages:[{href:"",nameKey:"public~Overview",component:B.a},{href:"details",nameKey:"public~Details",component:Te},I.mc.editYaml(),I.mc.workloads(U.a),I.mc.roles(Re)]}))},2231:function(e,t,a){"use strict";a.r(t),a.d(t,"getStatusGroups",(function(){return p})),a.d(t,"getPodStatusGroups",(function(){return m})),a.d(t,"getNodeStatusGroups",(function(){return b})),a.d(t,"getPVCStatusGroups",(function(){return v})),a.d(t,"getPVStatusGroups",(function(){return g})),a.d(t,"getVSStatusGroups",(function(){return f}));var n=a(2233),i=a(2238),s=a(8),r=a(475);const l={[r.a.NOT_MAPPED]:["Running","Succeeded"],[r.a.ERROR]:["CrashLoopBackOff","Failed"],[r.a.PROGRESS]:["Terminating","Pending"],[r.a.WARN]:["Unknown"]},o={[r.a.NOT_MAPPED]:["Bound"],[r.a.ERROR]:["Lost"],[r.a.PROGRESS]:["Pending"]},c={[r.a.NOT_MAPPED]:["Available","Bound"],[r.a.PROGRESS]:["Released"],[r.a.ERROR]:["Failed"]},u={[r.a.NOT_MAPPED]:["Ready"],[r.a.PROGRESS]:["Not Ready"]},d={[r.a.NOT_MAPPED]:["Ready"],[r.a.PROGRESS]:["Pending"],[r.a.ERROR]:["Error"]},p=(e,t,a,n)=>{const i={[r.a.UNKNOWN]:{statusIDs:[],count:0}};return Object.keys(t).forEach(e=>{i[e]={statusIDs:[...t[e]],count:0,filterType:n}}),e.forEach(e=>{const n=a(e),s=Object.keys(t).find(e=>t[e].includes(n))||r.a.UNKNOWN;i[s].count++}),i},m=e=>p(e,l,s.Ab,"pod-status"),b=e=>p(e,u,n.a,"node-status"),v=e=>p(e,o,e=>e.status.phase,"pvc-status"),g=e=>p(e,c,e=>e.status.phase,"pv-status"),f=e=>p(e,d,i.b,"snapshot-status")},4359:function(e,t,a){"use strict";a.r(t);var n=a(5590);a.d(t,"toDefaultSecretType",(function(){return n.d})),a.d(t,"toTypeAbstraction",(function(){return n.e})),a.d(t,"generateSecret",(function(){return n.b})),a.d(t,"determineSecretType",(function(){return n.a})),a.d(t,"getImageSecretKey",(function(){return n.c})),a.d(t,"useSecretTitle",(function(){return n.g})),a.d(t,"useSecretDescription",(function(){return n.f}));var i=a(869);a.d(t,"SecretTypeAbstraction",(function(){return i.c})),a.d(t,"AUTHS_KEY",(function(){return i.a})),a.d(t,"SecretType",(function(){return i.b}));var s=a(5598);a.d(t,"SecretFormWrapper",(function(){return s.a}));var r=a(5604);a.d(t,"PullSecretForm",(function(){return r.a}));var l=a(5606);a.d(t,"PullSecretCredentialEntry",(function(){return l.a}));var o=a(5605);a.d(t,"CreateConfigSubform",(function(){return o.a}));var c=a(5607);a.d(t,"UploadConfigSubform",(function(){return c.a}));var u=a(5608);a.d(t,"WebHookSecretForm",(function(){return u.a}));var d=a(5601);a.d(t,"SourceSecretForm",(function(){return d.a}));var p=a(5602);a.d(t,"BasicAuthSubform",(function(){return p.a}));var m=a(5603);a.d(t,"SSHAuthSubform",(function(){return m.a}));var b=a(5609);a.d(t,"GenericSecretForm",(function(){return b.a}));var v=a(5610);a.d(t,"KeyValueEntryFormWithTranslation",(function(){return v.b})),a.d(t,"KeyValueEntryForm",(function(){return v.a}));var g=a(5636);a.d(t,"SecretLoadingWrapper",(function(){return g.b})),a.d(t,"EditSecret",(function(){return g.a}));var f=a(5637);a.d(t,"CreateSecret",(function(){return f.a}));var h=a(5593);a.d(t,"DroppableFileInput",(function(){return h.a}));var E=a(5600);a.d(t,"SecretSubForm",(function(){return E.a}));a(5638)},4362:function(e,t,a){"use strict";a.r(t),a.d(t,"getAnnotationTags",(function(){return M})),a.d(t,"getBuilderTags",(function(){return F})),a.d(t,"getBuilderTagsSortedByVersion",(function(){return U})),a.d(t,"getMostRecentBuilderTag",(function(){return B})),a.d(t,"isBuilder",(function(){return q})),a.d(t,"ExampleDockerCommandPopover",(function(){return V})),a.d(t,"ImageStreamsDetails",(function(){return W})),a.d(t,"ImageStreamsDetailsPage",(function(){return z})),a.d(t,"ImageStreamsList",(function(){return Z})),a.d(t,"buildPhase",(function(){return X})),a.d(t,"ImageStreamsPage",(function(){return ee}));var n=a(0),i=a(7),s=a(16),r=a(240),l=a(2050),o=a(116),c=a(1533),u=a(22),d=a(225),p=a(7187),m=a(117),b=a(50),v=a(283),g=a(18),f=a(54),h=a(353),E=a(19),O=a(80),y=a(979),k=a(10),j=a(40),T=a(5),R=a(1198),_=a(1414),S=a(173),N=a(981),P=a(284),w=a(1413),C=a(1948),x=a(99),I=a(1411),L=a(693),A=a(5781),D=a(15);const M=e=>s.a(e,"annotations.tags","").split(/\s*,\s*/),F=e=>{const t=(e=>{const t=s.a(e,"status.tags");return l.a(t,"tag")})(e);return o.a(e.spec.tags,e=>(e=>{const t=M(e);return r.a(t,"builder")&&!r.a(t,"hidden")})(e)&&t[e.name])},U=e=>F(e).sort(({name:e},{name:t})=>{const a=v.coerce(e),n=v.coerce(t);return a||n?a?n?v.rcompare(a,n):-1:1:e.localeCompare(t)}),B=e=>{const t=U(e);return c.a(t)},q=e=>!u.a(F(e)),{common:$}=N.a.factory,K=[...N.a.getExtensionsActionsForKind(k.ImageStreamModel),...$],G=({imageStream:e,specTag:t,statusTag:a})=>{const r=s.a(e,"status"),l=s.a(a,["items",0]),o=s.a(t,"from"),c="ImageStreamTag"===s.a(t,"from.kind"),u=s.a(l,"image"),p=s.a(l,"created"),m=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:b}=Object(i.useTranslation)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},n.createElement(x.ResourceLink,{kind:"ImageStreamTag",name:Object(A.b)(e.metadata.name,a.tag),namespace:e.metadata.namespace,title:a.tag,linkTo:!!u})),n.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},o&&c&&n.createElement(x.ResourceLink,{kind:"ImageStreamTag",name:o.name,namespace:e.metadata.namespace,title:o.name}),o&&!c&&n.createElement(n.Fragment,null,o.name),!o&&n.createElement("span",{className:"text-muted"},b("public~pushed image"))),n.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!r&&m&&n.createElement(n.Fragment,null,n.createElement(D.tc,null)," ",b("public~Unable to resolve")),!r&&!m&&!o&&n.createElement(n.Fragment,null,b("public~Not synced yet")),!r&&!m&&o&&n.createElement(n.Fragment,null,b("public~Unresolved")),r&&u&&n.createElement(n.Fragment,null,u),r&&!u&&n.createElement(n.Fragment,null,n.createElement(D.tc,null)," ",b("public~There is no image associated with this tag"))),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},p&&n.createElement(L.Timestamp,{timestamp:p}),!p&&"-"))},V=({imageStream:e,tag:t})=>{const a=s.a(e,"status.publicDockerImageRepository"),{t:r}=Object(i.useTranslation)();if(!a)return null;const l=`docker push ${a}:${t||"<tag>"}`,o=`docker pull ${a}:${t||"<tag>"}`;return n.createElement(h.a,{headerContent:n.createElement(n.Fragment,null,r("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:n.createElement("div",null,n.createElement("p",null,r("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),n.createElement("br",null),n.createElement("p",null,r("public~Authenticate to the internal registry")),n.createElement(R.a,{value:"oc registry login"}),n.createElement("br",null),n.createElement("p",null,r("public~Push an image to this ImageStream")),n.createElement(R.a,{value:l}),n.createElement("br",null),n.createElement("p",null,r("public~Pull an image from this ImageStream")),n.createElement(R.a,{value:o}),n.createElement("br",null),n.createElement("p",null,n.createElement(i.Trans,{t:r,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",n.createElement("strong",null,"podman")," ","commands."," "),n.createElement(S.a,{href:T.p,text:r("public~Learn more.")})))},n.createElement(E.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},n.createElement(y.a,{className:"co-icon-space-r"}),r("public~Do you need to work with this ImageStream outside of the web console?")))},W=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),a=s.a(e,"status.dockerImageRepository"),r=s.a(e,"status.publicDockerImageRepository"),o=s.a(e,"status.tags.length"),c=l.a(e.spec.tags,"name"),d=p.a(e.status.tags,(a,n)=>{const i=m.a(n.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);i&&a.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${n.tag}`,message:i.message}))});return n.createElement("div",null,n.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&n.createElement(_.a,{variant:O.b.warning,alerts:b.a(d,(e,t)=>n.createElement(n.Fragment,{key:t},e))}),n.createElement(P.c,{text:t("public~ImageStream details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement(I.b,{resource:e},a&&n.createElement("dt",null,t("public~Image repository")),a&&n.createElement("dd",null,a),r&&n.createElement("dt",null,t("public~Public image repository")),r&&n.createElement("dd",null,r),n.createElement("dt",null,t("public~Image count")),n.createElement("dd",null,o||0)),n.createElement(V,{imageStream:e})))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(P.c,{text:t("public~Tags")}),u.a(e.status.tags)?n.createElement("span",{className:"text-muted"},t("public~No tags")):n.createElement("div",{className:"row"},n.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},n.createElement("div",{className:"row co-m-table-grid__head"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),n.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),n.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),n.createElement("div",{className:"co-m-table-grid__body"},b.a(e.status.tags,t=>n.createElement(G,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},H=({obj:e})=>{const t=s.a(e,"status.tags");return n.createElement(A.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};H.displayName="ImageStreamHistory";const Y=[C.navFactory.details(W),C.navFactory.editYaml(),C.navFactory.history(H)],z=e=>n.createElement(j.a,Object.assign({},e,{kind:"ImageStream",menuActions:K,pages:Y}));z.displayName="ImageStreamsDetailsPage";const Q=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",N.a.columnClass],J=({obj:e})=>n.createElement(n.Fragment,null,n.createElement(j.k,{className:Q[0]},n.createElement(x.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(j.k,{className:g(Q[1],"co-break-word"),columnID:"namespace"},n.createElement(x.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(j.k,{className:Q[2]},n.createElement(w.a,{kind:"ImageStream",labels:e.metadata.labels})),n.createElement(j.k,{className:Q[3]},n.createElement(L.Timestamp,{timestamp:e.metadata.creationTimestamp})),n.createElement(j.k,{className:Q[4]},n.createElement(N.d,{actions:K,kind:"ImageStream",resource:e}))),Z=e=>{const{t:t}=Object(i.useTranslation)(),a=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[f.a],props:{className:Q[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[f.a],props:{className:Q[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[f.a],props:{className:Q[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[f.a],props:{className:Q[3]}},{title:"",props:{className:Q[4]}}];return a.displayName="ImageStreamsTableHeader",n.createElement(j.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:a,Row:J,virtualize:!0}))};Z.displayName="ImageStreamsList";const X=e=>e.status.phase,ee=e=>{const{t:t}=Object(i.useTranslation)();return n.createElement(j.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Z,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},4381:function(e,t,a){"use strict";a.r(t),a.d(t,"StorageClassReference",(function(){return p})),a.d(t,"isDefaultClass",(function(){return v})),a.d(t,"StorageClassList",(function(){return E})),a.d(t,"StorageClassPage",(function(){return O})),a.d(t,"StorageClassDetailsPage",(function(){return y}));var n=a(0),i=a(16),s=a(499),r=a(54),l=a(7),o=a(18),c=a(40),u=a(5),d=a(10);const p="StorageClass",{common:m}=u.F.factory,b=[...u.F.getExtensionsActionsForKind(d.StorageClassModel),...m],v=e=>{const t=i.a(e,"metadata.annotations")||{};return"true"===t["storageclass.kubernetes.io/is-default-class"]||"true"===t["storageclass.beta.kubernetes.io/is-default-class"]},g=["pf-v5-u-w-42-on-md","pf-v5-u-w-42-on-md","pf-m-hidden pf-m-visible-on-md pf-v5-u-w-16-on-md",u.F.columnClass],f=({obj:e})=>{const{t:t}=Object(l.useTranslation)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(u.ob,{text:t("public~StorageClass details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(u.lb,{resource:e},n.createElement(u.r,{label:t("public~Provisioner"),obj:e,path:"provisioner"}))),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement(u.r,{label:t("public~Reclaim policy"),obj:e,path:"reclaimPolicy"}),n.createElement("dt",null,t("public~Default class")),n.createElement("dd",null,v(e)?t("public~True"):t("public~False")),n.createElement(u.r,{label:t("public~Volume binding mode"),obj:e,path:"volumeBindingMode"}))))))},h=({obj:e})=>{const{t:t}=Object(l.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(c.k,{className:o(g[0],"co-break-word")},n.createElement(u.hb,{kind:p,name:e.metadata.name},v(e)&&n.createElement("span",{className:"small text-muted co-resource-item__help-text"},"– ",t("public~Default")))),n.createElement(c.k,{className:o(g[1],"co-break-word")},e.provisioner),n.createElement(c.k,{className:g[2]},e.reclaimPolicy||"-"),n.createElement(c.k,{className:g[3]},n.createElement(u.gb,{actions:b,kind:p,resource:e})))},E=e=>{const{t:t}=Object(l.useTranslation)();return n.createElement(c.j,Object.assign({},e,{"aria-label":t("public~StorageClasses"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:g[0]}},{title:t("public~Provisioner"),sortField:"provisioner",transforms:[r.a],props:{className:g[1]}},{title:t("public~Reclaim policy"),sortField:"reclaimPolicy",transforms:[r.a],props:{className:g[2]}},{title:"",props:{className:g[3]}}],Row:h,virtualize:!0}))};E.displayName="StorageClassList";const O=e=>{const{t:t}=Object(l.useTranslation)();return n.createElement(c.c,Object.assign({},s.a(e,"mock"),{title:t("public~StorageClasses"),kind:p,ListComponent:E,canCreate:!0,filterLabel:e.filterLabel,createProps:{to:"/k8s/cluster/storageclasses/~new/form"},createButtonText:t("public~Create StorageClass")}))},y=e=>{const t=[u.mc.details(Object(u.Kb)(f)),u.mc.editYaml()];return n.createElement(c.a,Object.assign({},e,{kind:p,menuActions:b,pages:t}))};y.displayName="StorageClassDetailsPage"},5410:function(e,t,a){"use strict";a.r(t),a.d(t,"confirmModal",(function(){return c}));var n=a(0),i=a(7),s=a(21),r=a(118),l=a(5);class o extends l.bb{constructor(e){super(e),this._submit=this._submit.bind(this),this._cancel=this.props.cancel.bind(this)}_submit(e){e.preventDefault(),this.handlePromise(this.props.executeFn(null,{supressNotifications:!0})).then(this.props.close)}render(){const{title:e,titleKey:t,message:a,messageKey:s,btnText:l,btnTextKey:o,cancelText:c,cancelTextKey:u,submitDanger:d}=this.props;return n.createElement(i.Translation,null,i=>n.createElement("form",{onSubmit:this._submit,name:"form",className:"modal-content"},n.createElement(r.d,null,t?i(t):e),n.createElement(r.a,null,s?i(s):a),n.createElement(r.c,{errorMessage:this.state.errorMessage,inProgress:this.state.inProgress,submitText:o?i(o):l||i("Confirm"),cancel:this._cancel,cancelText:u?i(u):c||i("Cancel"),submitDanger:d})))}}o.propTypes={btnText:s.node,btnTextKey:s.string,cancel:s.func.isRequired,cancelText:s.node,cancelTextKey:s.string,close:s.func.isRequired,executeFn:s.func.isRequired,message:s.node,messageKey:s.string,title:s.node,titleKey:s.string,submitDanger:s.bool};const c=Object(r.f)(o)},5586:function(e,t,a){"use strict";a.r(t);var n=a(5622);a.d(t,"PipelineModel",(function(){return n.f})),a.d(t,"PipelineModelV1Beta1",(function(){return n.g})),a.d(t,"PipelineRunModel",(function(){return n.i})),a.d(t,"PipelineRunModelV1Beta1",(function(){return n.j})),a.d(t,"TaskModel",(function(){return n.l})),a.d(t,"TaskModelV1Beta1",(function(){return n.m})),a.d(t,"TaskRunModel",(function(){return n.n})),a.d(t,"TaskRunModelV1Beta1",(function(){return n.o})),a.d(t,"CustomRunModelV1Beta1",(function(){return n.d})),a.d(t,"PipelineResourceModel",(function(){return n.h})),a.d(t,"ClusterTaskModel",(function(){return n.a})),a.d(t,"ConditionModel",(function(){return n.c})),a.d(t,"TriggerBindingModel",(function(){return n.s})),a.d(t,"ClusterTriggerBindingModel",(function(){return n.b})),a.d(t,"TriggerTemplateModel",(function(){return n.t})),a.d(t,"EventListenerModel",(function(){return n.e})),a.d(t,"RepositoryModel",(function(){return n.k})),a.d(t,"TektonConfigModel",(function(){return n.p})),a.d(t,"TektonHubModel",(function(){return n.q})),a.d(t,"TektonResultModel",(function(){return n.r}))},5587:function(e,t,a){"use strict";a(5639);var n=a(5640);a.d(t,"d",(function(){return n.a}));var i=a(5611);a.d(t,"b",(function(){return i.a})),a.d(t,"c",(function(){return i.b})),a.d(t,"e",(function(){return i.c}));var s=a(5641);a.d(t,"a",(function(){return s.a})),a.d(t,"f",(function(){return s.b}))},5588:function(e,t,a){"use strict";var n,i,s,r,l,o,c,u,d;a.d(t,"r",(function(){return n})),a.d(t,"q",(function(){return i})),a.d(t,"v",(function(){return s})),a.d(t,"t",(function(){return r})),a.d(t,"w",(function(){return l})),a.d(t,"u",(function(){return o})),a.d(t,"o",(function(){return c})),a.d(t,"x",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"s",(function(){return m})),a.d(t,"m",(function(){return b})),a.d(t,"l",(function(){return v})),a.d(t,"k",(function(){return g})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return E})),a.d(t,"z",(function(){return O})),a.d(t,"y",(function(){return y})),a.d(t,"j",(function(){return k})),a.d(t,"g",(function(){return j})),a.d(t,"h",(function(){return T})),a.d(t,"n",(function(){return R})),a.d(t,"f",(function(){return _})),a.d(t,"d",(function(){return S})),a.d(t,"e",(function(){return N})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(n||(n={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(s||(s={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(r||(r={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(l||(l={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(o||(o={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",b="1.5.2",v="pipeline",g="bridge/pipeline-run-auto-start-failed",f=275,h=375,E=60,O="pipeline.openshift.io/preferredName",y="chains.tekton.dev/signed",k="openshift-pipelines",j="openshift",T="config";var R;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(R||(R={}));const _="FLAG_TEKTON_V1_ENABLED",S="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",N="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"j",(function(){return h})),a.d(t,"d",(function(){return E})),a.d(t,"e",(function(){return O})),a.d(t,"f",(function(){return y})),a.d(t,"c",(function(){return k})),a.d(t,"i",(function(){return j})),a.d(t,"k",(function(){return T})),a.d(t,"g",(function(){return R})),a.d(t,"h",(function(){return _})),a.d(t,"m",(function(){return S})),a.d(t,"b",(function(){return N})),a.d(t,"l",(function(){return P}));var n=a(5596),i=a(29),s=a(117),r=a(16),l=a(22),o=a(279),c=a(57),u=a(2222),d=a(8),p=a(975),m=a(5652),b=a(5659),v=a(5625),g=a(1400);const f=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],h=({FLAGS:e})=>e.get(p.a),E=e=>{var t,a,n;const i=s.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==i?void 0:i.spec)||void 0===t?void 0:t.href,cheIconURL:null===(n=null===(a=null==i?void 0:i.spec)||void 0===a?void 0:a.applicationMenu)||void 0===n?void 0:n.imageURL}},O=(e,t,a,i)=>{if(!e)return null;const s=((e,t,a)=>{const n=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return n;const i=a?"/"+a.replace(/^\//,""):"";return e.resource.includes("github")?`${n}/tree/${t}${i}`:e.resource.includes("gitlab")?`${n}/-/tree/${t}${i}`:e.resource.includes("gitea")?`${n}/src/branch/${t}${i}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${n}/src/${t}${i}`:n})(n(e),t,i);return a?`${a}/f?url=${s}&policies.create=peruser`:s},y=(e,t)=>{var a,n;return(null===(n=null===(a=s.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===a?void 0:a.spec)||void 0===n?void 0:n.href)||""},k=(e,t)=>t?e.filter(e=>r.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,j=(e,t)=>t.length>0&&!l.a(t[0].spec)?Object(u.c)(t[0]):null,T=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},R=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||T(null==e?void 0:e.getData())},_=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(T(null==e?void 0:e.getData())),S=(e,t)=>{const a=null==e?void 0:e.getData(),n=R(e);if(!e||!n||!o.a(a.resources))return Promise.reject();const s=[],r=[];s.push(n),e.getType()===b.d&&c.a(a.groupResources,e=>{s.push(e.resource)});for(const e of s){const a=Object(d.vb)(Object(d.Db)(e));if(!a)return Promise.reject(new Error(i.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));r.push(Object(v.c)(a,e,t))}return Promise.all(r)},N=(e,t,a=null)=>e&&t&&e!==t?Object(g.a)(e,t,a):Promise.reject(new Error(i.a.t("topology~Can not create a connection from a node to itself."))),P=e=>{const t=R(e.getSource()),a=R(e.getTarget());return t&&a?Object(g.f)(t,a):Promise.reject()}},5590:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return v}));var n=a(279),i=a(160),s=a(107),r=a(1404),l=a(7),o=a(869);const c=e=>{switch(e){case o.c.source:return o.b.basicAuth;case o.c.image:return o.b.dockerconfigjson;default:return o.b.opaque}},u=e=>{const{data:t,type:a}=e;switch(a){case o.b.basicAuth:case o.b.sshAuth:return o.c.source;case o.b.dockerconfigjson:case o.b.dockercfg:return o.c.image;default:return(null==t?void 0:t[r.WebHookSecretKey])&&1===n.a(t)?o.c.webhook:o.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=i.a(e).sort();return s.a(t,["tls.crt","tls.key"])?o.b.tls:s.a(t,["ca.crt","namespace","service-ca.crt","token"])?o.b.serviceAccountToken:s.a(t,[".dockercfg"])?o.b.dockercfg:s.a(t,[".dockerconfigjson"])?o.b.dockerconfigjson:s.a(t,["password","username"])?o.b.basicAuth:s.a(t,["ssh-privatekey"])?o.b.sshAuth:o.b.opaque},m=e=>{switch(e){case o.b.dockercfg:return".dockercfg";case o.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:a}=Object(l.useTranslation)();switch(t){case o.c.generic:return a(e?"public~Create key/value secret":"public~Edit key/value secret");case o.c.image:return a(e?"public~Create image pull secret":"public~Edit image pull secret");default:return a(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},v=e=>{const{t:t}=Object(l.useTranslation)();switch(e){case o.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case o.c.source:return t("public~Source secrets let you authenticate against a Git server.");case o.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case o.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,a){"use strict";var n=a(5587);a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d}));var i=a(5642);a.d(t,"e",(function(){return i.a}));var s=a(5645);a.d(t,"a",(function(){return s.a}))},5592:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5643),i=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class s{constructor(e){this.gitsource=e}detectBuildTypes(){return i(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(n.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(n.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),i=a(282);const s=e=>n.createElement(i.a,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5595:function(e,t,a){"use strict";var n=a(5626);a.d(t,"b",(function(){return n.a})),a.d(t,"c",(function(){return n.b})),a.d(t,"d",(function(){return n.c}));a(5627);var i=a(5628);a.d(t,"e",(function(){return i.a}));a(5629),a(5630);var s=a(5631);a.d(t,"f",(function(){return s.a}));var r=a(5632);a.d(t,"a",(function(){return r.a}))},5597:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var n=a(380),i=a(83),s=a(437),r=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const l="/api/dev-console/proxy/internet",o=e=>Object.keys(e).reduce((t,a)=>(t[a]=[e[a]],t),{}),c=e=>r(void 0,void 0,void 0,(function*(){const t=yield i.consoleFetchJSON.post(l,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new s.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(n.safeLoad)(e.body))},5598:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(501),i=a(838),s=a(2324),r=a(16),l=a(640),o=a(1256),c=a(0),u=a(137),d=a(7),p=a(320),m=a(966),b=a(19),v=a(14),g=a(8),f=a(5),h=a(118),E=a(10),O=a(5590),y=a(5600);const k=e=>{const{isCreate:t,modal:a,onCancel:k}=e,{t:j}=Object(d.useTranslation)(),T=Object(v.useNavigate)(),R=Object(v.useParams)(),_=n.a(e.obj,["metadata","type"]),S=Object(O.d)(e.secretTypeAbstraction),N=i.a({},e.fixed,_,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:S}),[P]=c.useState(e.secretTypeAbstraction),[w,C]=c.useState(N),[x,I]=c.useState(!1),[L,A]=c.useState(),[D,M]=c.useState(s.a(r.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[F,U]=c.useState({}),[B,q]=c.useState(!1),$=Object(O.g)(t,P),K=Object(O.f)(P),G=()=>T(`/k8s/ns/${R.ns}/core~v1~Secret`),V=e=>{M(Object.assign({},null==e?void 0:e.stringData)),U(Object.assign({},null==e?void 0:e.base64StringData))},W=e=>{A(e),I(!1)},H=e=>{const t=e.target.value,a=l.a(w);a.metadata.name=t,C(a)},Y=a=>{a.preventDefault();const{metadata:n}=w;I(!0);const i=Object.assign(Object.assign({},s.a(D,e=>p.Base64.encode(e))),F),r=o.a({},w,{data:i},t?{type:Object(O.a)(D)}:{});(t?Object(g.jb)(E.SecretModel,r):Object(g.rb)(E.SecretModel,r,n.namespace,r.metadata.name)).then(t=>{I(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||T(Object(f.sc)(t,Object(g.Db)(t)))},e=>{A(e.message),I(!1)})},z=()=>{var a;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},j("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:H,value:null===(a=null==w?void 0:w.metadata)||void 0===a?void 0:a.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},j("public~Unique name of the new secret."))))),c.createElement(y.a,{typeAbstraction:e.secretTypeAbstraction,onChange:V,onError:W,onFormDisable:e=>q(e),stringData:D,secretType:w.type,isCreate:t}))};return a?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:Y},c.createElement(h.d,null,$),c.createElement(h.a,null,z()),c.createElement(h.c,{errorMessage:L||"",inProgress:x,submitText:j("public~Create"),cancel:k||G})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,$)),c.createElement(f.Z,{title:$,helpText:K}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:Y},z(),c.createElement(f.g,{errorMessage:L,inProgress:x},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:B,variant:"primary",id:"save-changes"},e.saveButtonText||j("public~Create")),c.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:k||G},j("public~Cancel")))))))}},5599:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"k",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"l",(function(){return m})),a.d(t,"n",(function(){return b})),a.d(t,"f",(function(){return v})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"g",(function(){return h}));var n,i=a(5591),s=a(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(n||(n={}));const r={[i.b.GITHUB]:"GitHub",[i.b.GITLAB]:"GitLab",[i.b.GITEA]:"Gitea",[i.b.BITBUCKET]:"Bitbucket",[i.b.UNSURE]:"Other"};var l,o,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(l||(l={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(o||(o={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[o.OpenShift]:s.DeploymentConfigModel.labelKey,[o.Kubernetes]:s.DeploymentModel.labelKey,[o.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[o.OpenShift]:s.DeploymentConfigModel.kind,[o.Kubernetes]:s.DeploymentModel.kind,[o.KnativeService]:"Service"};var b,v,g,f,h,E;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(v||(v={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(f||(f={})),function(e){e.Mi="Mi",e.Gi="Gi"}(h||(h={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(E||(E={}))},5600:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),i=a(869),s=a(5601),r=a(5604),l=a(5608),o=a(5609),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const u=e=>{var{typeAbstraction:t}=e,a=c(e,["typeAbstraction"]);switch(t){case i.c.source:return n.createElement(s.a,Object.assign({},a));case i.c.image:return n.createElement(r.a,Object.assign({},a));case i.c.webhook:return n.createElement(l.a,Object.assign({},a));default:return n.createElement(o.a,Object.assign({},a))}}},5601:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),i=a(7),s=a(5),r=a(869),l=a(5602),o=a(5603);class c extends n.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:r.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[r.b.basicAuth]:e("public~Basic authentication"),[r.b.sshAuth]:e("public~SSH key")};return n.createElement(n.Fragment,null,this.props.isCreate?n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),n.createElement("div",{className:"co-create-secret__dropdown"},n.createElement(s.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===r.b.basicAuth?n.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):n.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(i.withTranslation)()(c)},5602:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(7);class s extends n.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),n.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),n.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const r=Object(i.withTranslation)()(s)},5603:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(7),s=a(5593);const r=({onChange:e,stringData:t})=>{const{t:a}=Object(i.useTranslation)();return n.createElement(s.a,{onChange:t=>{const a=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":a})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:a("public~SSH private key"),inputFieldHelpText:a("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:a("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1240),i=a(0),s=a(7),r=a(5),l=a(5590),o=a(869),c=a(5605),u=a(5607);const d=({onChange:e,onError:t,onFormDisable:a,stringData:d,secretType:p,isCreate:m})=>{const[b,v]=i.useState("credentials"),{t:g}=Object(s.useTranslation)(),f=i.useMemo(()=>{var e;try{const t=Object(l.c)(p),a=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(a)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),h=i.useCallback(t=>{n.a(t)||a(!1);const i=t[o.a]?".dockerconfigjson":".dockercfg";e({stringData:{[i]:JSON.stringify(t)},base64StringData:{}})},[a,onchange]),E={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return i.createElement(i.Fragment,null,m&&i.createElement("div",{className:"form-group"},i.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),i.createElement("div",{className:"co-create-secret__dropdown"},i.createElement(r.t,{items:E,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:v}))),"credentials"===b?i.createElement(c.a,{onChange:h,stringData:f}):i.createElement(u.a,{onChange:h,stringData:f,onDisable:a}))}},5605:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(22),i=a(840),s=a(4434),r=a(57),l=a(16),o=a(4437),c=a(4436),u=a(501),d=a(50),p=a(279),m=a(0),b=a(7),v=a(320),g=a(19),f=a(408),h=a(407),E=a(869),O=a(5606);class y extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:n.a(this.props.stringData)||!!this.props.stringData[E.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[E.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:i.a()}}imageSecretObjectToArray(e){const t=[];return n.a(e)?s.a(t,this.newImageSecretEntry()):(r.a(e,(e,a)=>{const s=v.Base64.decode(l.a(e,"auth","")),r=n.a(s)?o.a(Array(2),""):c.a(s,":");t.push({entry:{address:a,username:l.a(e,"username",r[0]),password:l.a(e,"password",r[1]),email:l.a(e,"email",""),auth:l.a(e,"auth","")},uid:l.a(e,"uid",i.a())})}),t)}imageSecretArrayToObject(e){const t={};return r.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[E.a]:t}:t)}onDataChanged(e,t){this.setState(a=>{const n=[...a.secretEntriesArray],i={uid:n[t].uid,entry:e,auth:v.Base64.encode(`${e.username}:${e.password}`)};return n[t]=i,{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const a=[...t.secretEntriesArray];return a.splice(e,1),{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:s.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,a)=>{const{uid:n,entry:i}=null!=t?t:{},{address:s,email:r,password:l,username:o}=null!=i?i:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:n},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(g.a,{onClick:()=>this.removeEntry(a),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(O.a,{id:a,address:s,email:r,password:l,username:o,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(h.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const k=Object(b.withTranslation)()(y)},5606:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(7),s=a(320);const r=({id:e,address:t,email:a,password:r,username:l,onChange:o})=>{const{t:c}=Object(i.useTranslation)(),u=(n,i)=>{const c=l.trim(),u=r.trim(),d=l&&r?s.Base64.encode(`${c}:${u}`):"";o(Object.assign({address:t,username:l,password:r,email:a,[n]:i},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return n.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),n.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:l,onBlur:d,"data-test":"image-secret-username",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:r,onBlur:d,"data-test":"image-secret-password",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:a,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(22),i=a(1973),s=a(1240),r=a(0),l=a(7),o=a(5593);class c extends r.Component{constructor(e){super(e),this.state={configFile:n.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(i.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(i.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:s.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(o.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&r.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(l.withTranslation)()(c)},5608:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a(7),s=a(5590);class r extends n.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(s.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),n.createElement("div",{className:"pf-v5-c-input-group"},n.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),n.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),n.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const l=Object(i.withTranslation)()(r)},5609:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(840),i=a(22),s=a(50),r=a(255),l=a(1256),o=a(4434),c=a(279),u=a(0),d=a(7),p=a(320),m=a(19),b=a(408),v=a(407),g=a(973),f=a(5610);class h extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:n.a()}}genericSecretObjectToArray(e){return i.a(e)?[this.newGenericSecretEntry()]:s.a(e,(e,t)=>{const a=g.isBinary(null,e);return{uid:n.a(),entry:{key:t,value:a?p.Base64.encode(e):e,isBase64:a,isBinary:a}}})}genericSecretArrayToObject(e){return r.a(e,(e,t)=>{var a,n;return l.a(e,{[t.entry.key]:(null===(a=t.entry)||void 0===a?void 0:a.isBase64)||(null===(n=t.entry)||void 0===n?void 0:n.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const a=[...this.state.secretEntriesArray],n={uid:a[t].uid,entry:e};a[t]=n,this.setState({secretEntriesArray:a},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:o.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=s.a(this.state.secretEntriesArray,(t,a)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(a),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(f.a,{id:a,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const E=Object(d.withTranslation)()(h)},5610:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a(0),i=a(7),s=a(5593);class r extends n.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return n.createElement("div",{className:"co-create-generic-secret__form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("div",null,n.createElement(s.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const l=Object(i.withTranslation)()(r)},5611:function(e,t,a){"use strict";var n,i,s;a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(n||(n={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(i||(i={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(s||(s={}))},5612:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(5706),i=a(5596),s=a(320),r=a(83),l=a(5597),o=a(5587),c=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.PERSONAL_ACCESS_TOKEN:case o.e.BASIC_AUTH:case o.e.OAUTH:return{auth:s.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:a,source:n}=i(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return o.d.Reachable}catch(e){switch(e.status){case 403:return o.d.RateLimitExceeded;case 404:return o.d.PrivateRepo;case 422:return o.d.InvalidGitTypeSelected;default:return o.d.Unreachable}}return o.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let a=[];return 200===t.status&&Array.isArray(t.data)&&(a=t.data.map(e=>e.name)),{files:a}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const i={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},s={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:a?"0":"1",secret:n},events:["push","pull_request"]},o="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield r.consoleFetchJSON.post(l.a,{url:`${o}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:i,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const a=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===a.status?e.from(a.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const a=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new n(Object.assign(Object.assign({},a),{baseUrl:c}))}}}).call(this,a(265).Buffer)},5613:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(320),i=a(5707),s=(a(4360),a(83)),r=a(5597),l=a(5587),o=a(5592),c=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class u extends o.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+n.Base64.encode(`${n.Base64.decode(e)}:${n.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,a,n)=>c(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),s=Object.assign(Object.assign({Accept:"application/json"},i),a);if(this.isServer)return Object(r.c)(Object.assign({url:e,method:t||"GET",headers:Object(r.d)(s)},n&&{body:JSON.stringify(n)}));const l=yield fetch(e,Object.assign({method:t||"GET",headers:s},n&&{body:JSON.stringify(n)}));if(!l.ok)throw l;return"text/plain"===l.headers.get("Content-Type")?l.text():l.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,host:n}=i(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref||"HEAD",contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return l.d.Reachable}catch(e){switch(e.status){case 429:return l.d.RateLimitExceeded;case 403:return l.d.PrivateRepo;case 404:return l.d.ResourceNotFound;default:return l.d.InvalidGitTypeSelected}}return l.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let a="";return a=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,a},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const a=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(a);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a)=>c(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["Basic "+e]},i={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!a,active:!0},l=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(r.a,{url:l,method:"POST",headers:n,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(5596),i=a(5708),s=a(29),r=a(320),l=a(83),o=a(5597),c=a(5587),u=a(5592),d=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(s.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(s.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return r.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),a=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:a.reduce((t,a)=>(("blob"===a.type||(null==e?void 0:e.includeFolder)&&"tree"===a.type)&&t.push(a.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>d(this,void 0,void 0,(function*(){const i=yield this.getProjectId(),s={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},r={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:a,token:n};return 201===(yield l.consoleFetchJSON.post(o.a,{url:`${this.metadata.host}/api/v4/projects/${i}/hooks`,method:"POST",headers:s,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(a,e,n),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),i=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(a,i,n)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new i.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:a,full_name:i}=n(this.gitsource.url),s=(null==(r=this.gitsource.contextDir)?void 0:r.replace(/^\//,""))||"";var r;return{repoName:e,owner:t,host:"https://"+a,defaultBranch:this.gitsource.ref,fullName:i,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(5596),i=a(320),s=a(22),r=(a(4360),a(83)),l=a(5597),o=a(5587),c=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===o.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!s.a(e)){return{authorization:"Basic "+i.Base64.encode(`${i.Base64.decode(e)}:${i.Base64.decode(t)}`)}}return{Authorization:"token "+i.Base64.decode(t)}}return null},this.fetchJson=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),s=Object.assign(Object.assign({Accept:"application/json"},i),a);if(this.isServer)return Object(l.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(l.d)(s)},n&&{body:JSON.stringify(n)}));const r=yield fetch(e,Object.assign({method:t||"GET",headers:s},n&&{body:JSON.stringify(n)}));if(!r.ok)throw r;return"text/plain"===r.headers.get("Content-Type")?r.text():r.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,resource:i,full_name:s}=n(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:"https://"+i,defaultBranch:this.gitsource.ref,fullName:s,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return o.d.Reachable}catch(e){return o.d.GiteaRepoUnreachable}return o.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["token "+e]},n={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},i=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(l.a,{url:i,method:"POST",headers:a,body:JSON.stringify(n)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5643),i=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const s=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(n.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],r=e=>i(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(s.map(a=>i(void 0,void 0,void 0,(function*(){let n=t.filter(e=>a.expectedRegexp.test(e));return n.length>0&&a.customDetection&&(n=yield a.customDetection(e)),{name:a.name,type:a.type,language:a.language,priority:a.priority,detectedFiles:n}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"j",(function(){return f}));var n,i=a(29),s=a(16),r=a(240),l=a(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(n||(n={}));const o=e=>{var t;const a=s.a(e,["status","conditions"],[]);if(0===a.length)return null;const i=a.find(e=>"Succeeded"===e.type),r=a.find(e=>"Cancelled"===e.reason);if([n.PipelineRunStopped,n.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!r)return l.a.Cancelling;if(!i||!i.status)return null;const o="True"===i.status?l.a.Succeeded:"False"===i.status?l.a.Failed:l.a.Running;if(i.reason&&i.reason!==o)switch(i.reason){case n.PipelineRunCancelled:case n.TaskRunCancelled:case n.Cancelled:case n.PipelineRunStopped:return l.a.Cancelled;case n.PipelineRunStopping:case n.TaskRunStopping:return l.a.Failed;case n.CreateContainerConfigError:case n.ExceededNodeResources:case n.ExceededResourceQuota:case n.PipelineRunPending:return l.a.Pending;case n.ConditionCheckFailed:return l.a.Skipped;default:return o}return o},c=e=>{const t=o(e);if(!t)return"-";switch(t){case l.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case l.a.Failed:return i.a.t("pipelines-plugin~Failed");case l.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case l.a.Pending:return i.a.t("pipelines-plugin~Pending");case l.a.Running:return i.a.t("pipelines-plugin~Running");case l.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case l.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&o(e.latestRun)||l.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>o(e)||l.a.Other,b=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=u(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!r.a(e.all,n)},v=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=m(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!r.a(e.all,n)},g=e=>o(e)||l.a.Other,f=e=>c(e)||"-"},5618:function(e,t,a){"use strict";var n=a(0),i=a(297),s=a(18),r=a.n(s);a(5732);const l={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:a,children:s,flexLayout:o,extraMargin:c,dataTest:u,style:d})=>n.createElement("div",{className:r()("pf-v5-c-form",{"co-m-pane__form":!a,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},o?l:{}),d||{}),"data-test":u},e&&n.createElement("h2",{className:"odc-form-section__heading"},e),t&&n.createElement(i.a,null,t),s)},5620:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(n||(n={}))},5621:function(e,t,a){"use strict";a.d(t,"f",(function(){return m})),a.d(t,"l",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"m",(function(){return f})),a.d(t,"o",(function(){return h})),a.d(t,"n",(function(){return E})),a.d(t,"k",(function(){return O})),a.d(t,"h",(function(){return y})),a.d(t,"g",(function(){return k})),a.d(t,"e",(function(){return j})),a.d(t,"d",(function(){return T})),a.d(t,"b",(function(){return R})),a.d(t,"j",(function(){return _})),a.d(t,"i",(function(){return S}));var n=a(4413),i=a(689),s=a(5),r=a(5620),l=a(2221),o=a(5624),c=a(5599),u=a(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),v=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:l.b,then:i.string().required("Required")})}),g=e=>i.object().shape({replicas:i.number().transform(e=>n.a(e)?void 0:e).test(Object(o.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),f=i.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),h=e=>i.object().when("resources",{is:c.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>n.a(e)?void 0:e).test(Object(o.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>n.a(e)?void 0:e).test(Object(o.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>n.a(e)?void 0:e).test(Object(o.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>n.a(e)?void 0:e).test(Object(o.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>n.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,a=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return a>=6&&a<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),E=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),O=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(s.Ib)(`${e}${t}`)<=Object(s.Ib)(`${a}${n}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(s.Ib)(`${e}${n}`)>=Object(s.Ib)(`${t}${a}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(s.Ib)(`${e}${t}`)<=Object(s.Ib)(`${a}${n}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(s.Ib)(`${t}${a}`)<=Object(s.Ib)(`${e}${n}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),y=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),k=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),j=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(o.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),T=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),R=i.object().shape({strategy:i.string()}),_=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),S=i.object().when(["enabled","build.option","type"],{is:(e,t,a)=>(e||t===c.a.PIPELINES)&&a!==r.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return l})),a.d(t,"j",(function(){return o})),a.d(t,"l",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return d})),a.d(t,"o",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"s",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"t",(function(){return E})),a.d(t,"e",(function(){return O})),a.d(t,"k",(function(){return y})),a.d(t,"p",(function(){return k})),a.d(t,"q",(function(){return j})),a.d(t,"r",(function(){return T}));var n=a(5654);const i=n.chart_color_green_400.value,s={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},r={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},O={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},y={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},T={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,a){"use strict";a.d(t,"a",(function(){return k})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return R})),a.d(t,"p",(function(){return _})),a.d(t,"h",(function(){return S})),a.d(t,"f",(function(){return N})),a.d(t,"j",(function(){return P})),a.d(t,"m",(function(){return w})),a.d(t,"o",(function(){return C})),a.d(t,"e",(function(){return x})),a.d(t,"v",(function(){return I})),a.d(t,"B",(function(){return L})),a.d(t,"d",(function(){return A})),a.d(t,"s",(function(){return M})),a.d(t,"w",(function(){return F})),a.d(t,"k",(function(){return U})),a.d(t,"l",(function(){return B})),a.d(t,"t",(function(){return q})),a.d(t,"g",(function(){return $})),a.d(t,"x",(function(){return K})),a.d(t,"y",(function(){return G})),a.d(t,"z",(function(){return V})),a.d(t,"r",(function(){return z})),a.d(t,"u",(function(){return Q})),a.d(t,"q",(function(){return J})),a.d(t,"i",(function(){return Z})),a.d(t,"A",(function(){return X})),a.d(t,"n",(function(){return ee}));var n=a(321),i=a(29),s=a(1557),r=a(117),l=a(16),o=a(22),c=a(640),u=a(1942),d=a(5),p=a(10),m=a(8),b=a(5588),v=a(5650),g=a(5586),f=a(5595),h=a(5635),E=a(5617);const O=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,y=e=>e.runAfter&&e.runAfter.length>0;var k;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(k||(k={}));const j={[k.Running]:i.a.t("pipelines-plugin~Running"),[k.Failed]:i.a.t("pipelines-plugin~Failed"),[k.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[k.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[k.Other]:i.a.t("pipelines-plugin~Other")};var T;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(T||(T={}));T.Git,T.PullRequest,T.Image,T.Cluster,T.Storage,T.CloudEvent;const R=(e,t,a,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!a||0===a.length)return t.spec.status===E.a.PipelineRunCancelled?s.a(e,{status:{reason:f.a.Cancelled}}):t.spec.status===E.a.PipelineRunPending?s.a(e,{status:{reason:f.a.Idle}}):s.a(e,{status:{reason:f.a.Failed}});const o=r.a(a,t=>t.metadata.labels[b.u.pipelineTask]===e.name),c=null==o?void 0:o.status,u=s.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?l.a(r.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(n.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(E.d)(u)||f.a.Pending:u.status&&!u.status.reason&&(u.status.reason=f.a.Pending):u.status={reason:f.a.Pending},u}),_=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},a)=>{var n;const i=[];if(!(null===(n=e.spec)||void 0===n?void 0:n.tasks)||o.a(e.spec.tasks))return i;const s=R(e,t,a);return s.forEach(e=>{O(e)||y(e)||(0===i.length&&i.push([]),i[0].push(e))}),s.forEach(e=>{var t;if(!y(e)&&O(e)){let a=i.length-1;for(let n=0;n<i.length;n++)for(const s of i[n])(null===(t=s.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&s.name!==e.resources.inputs[0].from[0]||(a=n);const n=i[a+1]?i[a+1]:null;n&&n[0]&&n[0].resources&&n[0].resources.inputs&&n[0].resources.inputs[0]&&n[0].resources.inputs[0].from&&n[0].resources.inputs[0].from[0]&&n[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?n.push(e):i.splice(a+1,0,[e])}}),s.forEach(e=>{var t;if(y(e)){let a=i.length-1;for(let n=0;n<i.length;n++)for(const s of i[n])(null===(t=s.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&s.name!==e.runAfter[0]||(a=n);const n=i[a+1]?i[a+1]:null;n&&n[0].runAfter&&n[0].runAfter[0]&&n[0].runAfter[0]===e.runAfter[0]?n.push(e):i.splice(a+1,0,[e])}}),i},S=(e,t,a)=>R(e,t,a,!0),N=e=>{if(!e)return d.K;const{state:t,lastState:a}=e;return t.waiting&&!o.a(a)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},P=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};const t=Object(h.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};let a=Object(E.c)(t);return"-"===a&&(a=f.a.Pending),{latestPipelineRun:t,status:a}},w=e=>e&&e.map(e=>({name:e.name,value:e.default})),C=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),x=(e,t,a)=>{const n=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-n)/1e3;return Object(v.g)(i,a)},I=e=>{var t,a,n,i;const s=null!==(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==a?a:null,r=null!==(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.completionTime)&&void 0!==i?i:null;return!s||!r&&"Running"!==Object(E.d)(e)?"-":x(s,r,!0)},L=(e,t,a)=>{const n=c.a(t);return n.secrets=[...n.secrets,{name:e}],a&&(n.imagePullSecrets=[...n.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,n)},A=(e,t,a)=>{Object(m.kb)(p.ServiceAccountModel,b.l,t).then(t=>{void 0===r.a(t.secrets,t=>t.name===e.metadata.name)&&L(e.metadata.name,t,a)}).catch(e=>{Object(u.errorModal)({error:e.message})})},D=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,M=(e,t={})=>{let a=0,n=D(null==e?void 0:e.key,a);if(!n)return t;for(;t[n]&&t[n]!==(null==e?void 0:e.value);)n=D(null==e?void 0:e.key,++a);return Object.assign(Object.assign({},t),{[n]:null==e?void 0:e.value})},F=e=>{switch(e.kind){case g.PipelineModel.kind:case g.TaskModel.kind:case g.EventListenerModel.kind:return"";case g.PipelineRunModel.kind:return"pipeline-runs";case g.PipelineResourceModel.kind:return"pipeline-resources";case g.ConditionModel.kind:return"conditions";case g.TaskRunModel.kind:return"task-runs";case g.ClusterTaskModel.kind:return"cluster-tasks";case g.TriggerTemplateModel.kind:return"trigger-templates";case g.TriggerBindingModel.kind:return"trigger-bindings";case g.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case g.RepositoryModel.kind:return"repositories";default:return null}},U=(e,t,a)=>e.filter(e=>{const{ownerReferences:n=[]}=e.metadata;return n.some(e=>e.name===t&&e.kind===a)}),B=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),q=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var a;return(null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)===e.metadata.name})),$=(e,t)=>t.reduce((t,a)=>(a.spec.triggers.filter(t=>e.find(e=>{var a;return(null==e?void 0:e.metadata.name)===(null===(a=null==t?void 0:t.template)||void 0===a?void 0:a.ref)})).length>0&&t.push(a),t),[]),K=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineModelV1Beta1:g.PipelineModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineRunModelV1Beta1:g.PipelineRunModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?g.TaskModelV1Beta1:g.TaskModel;var W,H,Y;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(W||(W={})),function(e){e.EXTERNAL_LINK="external-link"}(H||(H={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(Y||(Y={}));const z=e=>null==e?void 0:e.find(e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[W.KEY])===Y.SBOM}),Q=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[W.TYPE])===H.EXTERNAL_LINK},J=e=>{var t,a,n,i;return null===(i=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.taskResults))||void 0===n?void 0:n.find(e=>e.name===Y.SBOM))||void 0===i?void 0:i.value},Z=e=>{var t,a,n,i;return null===(i=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.pipelineResults))||void 0===n?void 0:n.find(e=>e.name===Y.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},X=e=>{var t,a;if(!(null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.length))return f.a.Pending;return Object(E.d)(e)},ee=e=>{var t,a,n;const i=null===(n=null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===n?void 0:n.message,s=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),r={};null==s||s.forEach(e=>{const[t,a]=e.split(/(?::\s*|\s+)/);r[t.trim()]=Number(a.trim())});const l=((null==r?void 0:r.Completed)||0)-((null==r?void 0:r.Failed)||0)-((null==r?void 0:r.Cancelled)||0);return{Running:(null==r?void 0:r.Incomplete)||0,Succeeded:l||0,Cancelled:(null==r?void 0:r.Cancelled)||0,Failed:(null==r?void 0:r.Failed)||0,Skipped:(null==r?void 0:r.Skipped)||0,Completed:(null==r?void 0:r.Completed)||0,Cancelling:(null==r?void 0:r.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return k})),a.d(t,"a",(function(){return _}));var n=a(29),i=a(22),s=a(16),r=a(57),l=a(640),o=a(5649),c=a(5),u=a(10),d=a(8),p=a(76),m=a(870),b=a(5586),v=a(5623),g=a(15),f=a(2221),h=a(1400),E=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const O=(e,t=e)=>{switch(t){case f.z:case f.b:return"";default:return e}},y=(e,t,a)=>{const n=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":a||void 0});if(!e)return Promise.reject();const s=[{op:i.a(n)?"add":"replace",path:"/metadata/labels",value:n}];return Object(d.pb)(e,t,s)},k=(e,t,a)=>{if(!t)return Promise.reject(new Error(n.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(n.a.t("topology~Error: invalid resource kind provided for updating application.")));const i=s.a(t,["metadata","labels","app.kubernetes.io/instance"]),l=s.a(t,["metadata","labels","app.kubernetes.io/part-of"]),o=[y(e,t,a)];if(!i)return Promise.all(o);return l&&({"app.kubernetes.io/instance":i}["app.kubernetes.io/part-of"]=l),Object(h.e)(t.metadata.namespace,i,{"app.kubernetes.io/part-of":l}).then(e=>(r.a(e,e=>{r.a(e,e=>{!l&&s.a(e,["metadata","labels","app.kubernetes.io/part-of"])||o.push(y(Object(d.vb)(e.kind),e,a))})}),Promise.all(o)))},j=(e,t={},a)=>E(void 0,void 0,void 0,(function*(){var n,i;try{if(a){const a=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(n=null==a?void 0:a.status)||void 0===n?void 0:n.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),T=(e,t)=>E(void 0,void 0,void 0,(function*(){var a;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(n){if(404===(null===(a=null==n?void 0:n.response)||void 0===a?void 0:a.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,n),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,n),n}})),R=(e,t)=>E(void 0,void 0,void 0,(function*(){var a,n;const i=null!==(n=null===(a=e.metadata)||void 0===a?void 0:a.annotations)&&void 0!==n?n:{},s=Object(o.c)(i["app.openshift.io/vcs-uri"]),r=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let l;if((null==t?void 0:t.length)>0)l=null==t?void 0:t.reduce((t,a)=>{var n,i;return[...t,...(null!==(i=null===(n=a.spec)||void 0===n?void 0:n.triggers)&&void 0!==i?i:[]).reduce((t,a)=>{var n,i;let l;const o=a.generic?"generic":s,c=a.generic||a[s];if(c){const t=null!==(i=null===(n=c.secretReference)||void 0===n?void 0:n.name)&&void 0!==i?i:`${e.metadata.name}-${o}-webhook-secret`;l=r.find(e=>e.metadata.name===t)}return l?[...t,T(u.SecretModel,l)]:t},[])]},[]);else{const t=r.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),a=r.find(t=>t.metadata.name===`${e.metadata.name}-${s}-webhook-secret`);l=[T(u.SecretModel,t),T(u.SecretModel,a)]}return l})),_=e=>E(void 0,void 0,void 0,(function*(){const t=[],a=yield j(u.BuildConfigModel,{ns:e.metadata.namespace}),n=yield j(u.BuildModel,{ns:e.metadata.namespace}),s=yield j(b.PipelineModel,{ns:e.metadata.namespace},!0),r=yield j(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),o=yield j(b.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),f=Object(d.vb)(Object(d.Db)(e)),h={buildConfigs:{data:a,loaded:!0,loadError:null},builds:{data:n,loaded:!0,loadError:null}},E=Object(g.Gc)(e,h),O=!i.a(E),y=Object(v.l)(e,s);let k=[],_=[];const S=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],N=[p.p,u.ImageStreamModel];i.a(y)||(S.push(b.PipelineModel),N.push(b.PipelineModel),k=Object(v.t)(y,r),_=Object(v.g)(k,o));const P=l.a(e),w=(e,a)=>{const n=T(e,a);n&&t.push(n)};O&&E.forEach(e=>{w(u.BuildConfigModel,e)});const C=(e,t)=>{e.forEach(e=>w(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&w(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&w(f,e),k.length>0&&k.forEach(e=>w(b.TriggerTemplateModel,e)),_.length>0&&_.forEach(e=>w(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:w(f,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:w(f,e),C(S,e);break;case p.p.kind:C(N,P);break;case p.b.kind:case p.k.kind:w(f,e)}return O&&t.push(...yield R(e,E)),y&&t.push(...yield R(e)),Promise.all(t)}))},5626:function(e,t,a){"use strict";var n,i,s;a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(n||(n={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(s||(s={}))},5627:function(e,t,a){},5628:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,a){},5630:function(e,t,a){},5631:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,a){"use strict";var n,i;a.d(t,"a",(function(){return n})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(n||(n={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5633:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5587),i=a(5611),s=a(5616),r=a(5661),l=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const o=[{name:"Devfile",type:i.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:i.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:i.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:i.b.S2I,expectedRegexp:/^/,priority:0,customDetection:s.a}],c=(e,t,a=!1)=>l(void 0,void 0,void 0,(function*(){let e,s=[],c=!1,u=null;const d=t?yield t.isRepoReachable():n.d.GitTypeNotDetected;let p,m=[];if(d===n.d.Reachable)try{const{files:n}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(r.b)(a,t),s=yield Promise.all(o.map(e=>l(void 0,void 0,void 0,(function*(){return m=n.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(s=s.filter(e=>e.type!==i.b.SERVERLESS_FUNCTION)),s=s.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:s}}))},5634:function(e,t,a){"use strict";a.d(t,"i",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"m",(function(){return r})),a.d(t,"j",(function(){return l})),a.d(t,"k",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"l",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"p",(function(){return b})),a.d(t,"n",(function(){return v})),a.d(t,"q",(function(){return g})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return O})),a.d(t,"r",(function(){return y}));var n=a(2221);const i="event-source",s="event-sink",r="kafka-sink",l="event-source-kafka",o="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",b="revision-traffic",v="knative-revision",g="sink-uri",f=n.h,h=100,E=[n.c,n.c,n.c+10,n.c],O=6,y="URI"},5635:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"i",(function(){return E})),a.d(t,"h",(function(){return y})),a.d(t,"e",(function(){return k})),a.d(t,"g",(function(){return j})),a.d(t,"c",(function(){return T})),a.d(t,"l",(function(){return _})),a.d(t,"m",(function(){return S})),a.d(t,"j",(function(){return N})),a.d(t,"k",(function(){return P}));var n=a(5699),i=a(1403),s=a(5692),r=a(5691),l=a(5654),o=a(2225),c=a(29),u=a(8),d=a(5588),p=a(5586),m=a(5595),b=a(5617);const v=(e,t)=>{if(!(e&&e.length>0&&t))return null;let a=e[0];if("creationTimestamp"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].metadata&&e[n].metadata[t]&&new Date(e[n].metadata[t])>new Date(a.metadata[t])?e[n]:a;else if("startTime"===t||"completionTime"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].status&&e[n].status[t]&&new Date(e[n].status[t])>new Date(a.status[t])?e[n]:a;else a=e[e.length-1];return a.status||(a=Object.assign(Object.assign({},a),{status:{pipelineSpec:{tasks:[]}}})),a.status.succeededCondition||(a.status=Object.assign(Object.assign({},a.status),{succeededCondition:""})),a.status.succeededCondition=Object(b.c)(a),a},g=(e,t)=>e.map(e=>{const a=t.filter(t=>{var a;return(null===(a=t.metadata.labels)||void 0===a?void 0:a["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=v(a,"creationTimestamp"),e}),f=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:l.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:o.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:o.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:r.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:n.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:s.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:s.chart_color_blue_100}}},h=e=>{var t,a,n,i,s;const r=(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[d.u.pipeline])||(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name),l=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(s=null==e?void 0:e.spec)||void 0===s?void 0:s.pipelineSpec);return r&&l?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:r,namespace:e.metadata.namespace},spec:l}:null},E=(e,t,a)=>{var n,i,s,r,l;const o=(e=>{var t,a,n,i;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==a?a:0)+(null!==(i=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,a,n,i;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==a?a:0)+(null!==(i=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==i?i:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):a?null==a?void 0:a.map(e=>e.metadata.name):[]},u=c().length,d=((null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||a){c().forEach(t=>{const n=Object(b.c)((null==a?void 0:a.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===n?p[m.a.Succeeded]++:"Running"===n?p[m.a.Running]++:"Failed"===n?p[m.a.Failed]++:"Cancelled"===n?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,n=Object(b.c)(e)===m.a.Cancelled,i=o>=u?o-u-d:o;t||n?p[m.a.Cancelled]+=i:p[m.a.Pending]+=i}else"False"===(null===(l=null===(r=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.conditions)||void 0===r?void 0:r[0])||void 0===l?void 0:l.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?p[m.a.Cancelled]=o:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?p[m.a.Pending]+=o:p[m.a.PipelineNotStarted]++;return p},O=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,y=e=>(O(e)||p.TaskModel).kind,k=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,j=e=>(k(e)||p.TriggerBindingModel).kind,T=e=>{const t=O(e);return Object(u.Hb)(t)},R=(e,t)=>{const a=t&&E(e,void 0,t);return null==a?void 0:a.Running},_=(e,t)=>!(e&&(R(e,t)>0||Object(b.c)(e)===m.a.Running)),S=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===m.a.Running)),N=(e,t)=>!(e&&R(e,t)>0&&Object(b.c)(e)!==m.a.Cancelled),P=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==m.a.Cancelled)},5636:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a(22),i=a(0),s=a(7),r=a(14),l=a(5),o=a(869),c=a(5590),u=a(5598);const d=Object(s.withTranslation)()(class extends i.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:o.c.generic}}componentDidUpdate(){if(!n.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:a}=this.state;if(!a)return i.createElement(l.S,null);const n=null==t?void 0:t.reduce((t,a)=>{var n;return Object.assign(Object.assign({},t),{[a]:(null===(n=e.data)||void 0===n?void 0:n[a])||""})},{});return i.createElement(l.wb,Object.assign({},e),i.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:a,obj:e.data,fixed:n})))}}),p=({kind:e})=>{const t=Object(r.useParams)(),{t:a}=Object(s.useTranslation)();return i.createElement(l.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},i.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:a("public~Save")}))}},5637:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(14),s=a(5598);const r=()=>{const e=Object(i.useParams)(),t=e.type;return n.createElement(s.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,a){},5639:function(e,t,a){},5640:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(n||(n={}))},5641:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));const n={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},i={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},s={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},r={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},l={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},o={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},s,i,n,l,o,d,c,u,r],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,a){"use strict";a(5612),a(5613),a(5614),a(5615);var n=a(5644);a.d(t,"a",(function(){return n.a}));a(5592)},5643:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(5587);function i(e){return n.a.map(t=>{const a=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:a}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function s(e){try{const t=JSON.parse(e);return n.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4359),i=a(5587),s=a(5613),r=a(5615),l=a(5612),o=a(5614);function c(e,t,a,c,u,d,p){let m,b;switch(null==u?void 0:u.type){case n.SecretType.basicAuth:m=i.e.BASIC_AUTH,b=u.data;break;case n.SecretType.sshAuth:m=i.e.SSH,b=u["ssh-privatekey"];break;default:m=i.e.NO_AUTH}const v={url:e,ref:a,contextDir:c,secretType:m,secretContent:b,devfilePath:d,dockerfilePath:p};switch(t){case i.b.GITHUB:return new l.a(v);case i.b.BITBUCKET:return new s.a(v);case i.b.GITLAB:return new o.a(v);case i.b.GITEA:return new r.a(v);default:return null}}},5645:function(e,t,a){"use strict";a(5616);var n=a(5646);a.d(t,"a",(function(){return n.a}));a(5633)},5646:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5709);class i{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(n.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,a){"use strict";a.d(t,"e",(function(){return g})),a.d(t,"c",(function(){return f})),a.d(t,"h",(function(){return h})),a.d(t,"a",(function(){return E})),a.d(t,"f",(function(){return O})),a.d(t,"g",(function(){return y})),a.d(t,"j",(function(){return k})),a.d(t,"k",(function(){return j})),a.d(t,"b",(function(){return T})),a.d(t,"i",(function(){return R})),a.d(t,"d",(function(){return _}));var n=a(29),i=a(16),s=a(57),r=a(117),l=a(367),o=a(1401),c=a(10),u=a(8),d=a(5634),p=a(15),m=a(2221),b=a(1400),v=a(5589);const g=(e,t)=>{var a,n,i,s,r,l,o,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,a,n;return null!==(n=null===(a=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.contextDir)&&void 0!==n?n:null},d=null===(n=null===(a=null==e?void 0:e.builds)||void 0===a?void 0:a.data)||void 0===n?void 0:n.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(s=null===(i=null==e?void 0:e.buildConfigs)||void 0===i?void 0:i.data)||void 0===s?void 0:s.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(l=null===(r=null==e?void 0:e.pipelines)||void 0===r?void 0:r.data)||void 0===l?void 0:l.find(e=>e.metadata.name===t);if(m){const e=null===(c=null===(o=null==m?void 0:m.spec)||void 0===o?void 0:o.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},f=(e,t,a,n,s=!1,r)=>{const{monitoringAlerts:l=[]}=t,c=i.a(e,"metadata.uid"),m=i.a(e,"metadata.labels",{}),b=i.a(e,"metadata.annotations",{}),v=i.a(e,"metadata.name",""),f=g(r,v),h=Object(o.d)("icon-"+m["app.openshift.io/runtime"])||Object(o.d)("icon-"+m["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:a,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:s}),data:{monitoringAlerts:l,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:f,builderImage:h||n,isKnativeResource:!(!a||a!==d.i&&a!==d.n&&a!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},h=(e,t,a,n,i,s,r)=>{var l;const o=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(l=null==e?void 0:e.metadata.labels)||void 0===l?void 0:l["app.openshift.io/instance"],p=s||Object(u.Db)(e);return Object.assign(Object.assign({id:o,type:t,label:d||c,shape:r,resource:e,resourceKind:p,data:a},i&&i.length&&{children:i}),n||{})},E={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},O=(e,t)=>{const a=i.a(e,"metadata.annotations"),l=[];return s.a(Object(b.d)(a),a=>{const s=i.a(r.a(t,e=>{var t,n,i,s,r;let l;if("string"==typeof a)return l=null!==(i=null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["app.kubernetes.io/instance"])&&void 0!==i?i:null===(s=e.metadata)||void 0===s?void 0:s.name,l===a;l=null===(r=e.metadata)||void 0===r?void 0:r.name;const{apiVersion:o,kind:c,name:u}=a,{kind:d,apiVersion:p}=e;let m=l===u&&d===c;return p&&(m=m&&p===o),m}),["metadata","uid"]),o=i.a(e,["metadata","uid"]);s&&l.push({id:`${o}_${s}`,type:m.v,label:n.a.t("topology~Visual connector"),source:o,target:s})}),l},y=e=>{const t=i.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[i.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},k=(e,t)=>{var a;if(!e)return;e.children=null===(a=e.children)||void 0===a?void 0:a.filter(e=>!(null==t?void 0:t.find(t=>{var a;return null===(a=t.children)||void 0===a?void 0:a.includes(e)})));const n=t.find(t=>t.group&&t.id===e.id);n?e.children.forEach(t=>{n.children.includes(t)||n.children.push(t),((e,t)=>{var a,n,i,s;((null===(a=t.data)||void 0===a?void 0:a.groupResources)||(null===(n=e.data)||void 0===n?void 0:n.groupResources))&&((null===(i=t.data)||void 0===i?void 0:i.groupResources)||(t.data.groupResources=[]),(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,n)}):t.push(e)},j=(e,t)=>{e&&e.length&&e.forEach(e=>{k(e,t)})},T=(e,t,a=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(n=>{if(e.id===n.id)return!0;const{resource:i}=e;return!i||!!a.find(e=>e(i,t))}))),j(e.nodes.filter(e=>e.group),t.nodes))},R=(e,t,a=v.a)=>l.a(a.map(a=>e[a]?e[a].data.map(e=>{const n=e.kind||t[a];let i,s=n;return n&&Object(u.eb)(n)&&(s=Object(u.tb)(n),i=Object(u.o)(n)),Object.assign({kind:s,apiVersion:i},e)}):[])),_=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"j",(function(){return m}));var n,i,s,r=a(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(n||(n={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(s||(s={}));const l={[n.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[n.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[n.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[n.SHA]:"pipelinesascode.tekton.dev/sha",[n.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},o={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:r.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[r.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[r.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[r.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[r.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[r.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[r.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return b}));var n=a(2338),i=a(689),s=a(5591),r=a(5653),l=a(15),o=a(5655),c=a(5621);const u=e=>i.object().shape({name:Object(l.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(o.a)(e),pac:Object(r.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?s.b.GITHUB:d(e,"bitbucket.org")?s.b.BITBUCKET:d(e,"gitlab.com")?s.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?s.b.GITEA:s.b.UNSURE:s.b.INVALID,m=e=>{if(l.Yd.test(e))return e;const t=n.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"k",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return E})),a.d(t,"h",(function(){return O})),a.d(t,"j",(function(){return y})),a.d(t,"g",(function(){return k})),a.d(t,"b",(function(){return j})),a.d(t,"i",(function(){return T}));var n,i,s=a(321),r=a(29),l=a(550),o=a(50),c=a(16),u=a(384),d=a(4427),p=a(461),m=a(5),b=a(158),v=a(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(n||(n={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const g=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[v.n.PIPELINE_TASK_LEVEL]:{[n.PIPELINE_SUCCESS_RATIO]:l.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[n.NUMBER_OF_PIPELINE_RUNS]:l.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[v.n.PIPELINERUN_TASKRUN_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:l.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:l.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:l.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:l.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[v.n.UNSIMPLIFIED_METRICS_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:l.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:l.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:l.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:l.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),f=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),h=e=>b.b.format(e),E=(e,t,a)=>{const{metric:n,values:i}=e,s=o.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:n}}),r=Number(c.a(s,"[0].x")),l=Number(c.a(u.a(s),"x")),p=a/t;return d.a(r,l,p).forEach((e,t)=>{const a=new Date(e);c.a(s,[t,"x"])>a&&s.splice(t,0,{x:a,y:null,metric:n})}),s},O=(e,t,a)=>{var n;const i=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.result)||[];return null==i?void 0:i.map(e=>{var n;return null===(n=null==e?void 0:e.values)||void 0===n?void 0:n.map(([n,i])=>{var s,r;return{x:null!==(s=null==t?void 0:t(e))&&void 0!==s?s:new Date(1e3*n),y:null!==(r=null==a?void 0:a(i))&&void 0!==r?r:parseFloat(i),metric:null==e?void 0:e.metric,time:n}})})},y=e=>{const t=[];if(!e)return t;const a=Object(s.b)("1d"),n=Math.round(e/a),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<n;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,n)},k=(e,t)=>{if(0===e)return r.a.t("pipelines-plugin~less than a sec");let a=Math.round(e),n=0,i=0,s="";return a>=60&&(n=Math.floor(a/60),a%=60),n>=60&&(i=Math.floor(n/60),n%=60),i>0&&(s+=t?r.a.t("pipelines-plugin~{{count}} hour",{count:i}):r.a.t("pipelines-plugin~{{hr}}h",{hr:i}),s+=" "),n>0&&(s+=t?r.a.t("pipelines-plugin~{{count}} minute",{count:n}):r.a.t("pipelines-plugin~{{min}}m",{min:n}),s+=" "),a>0&&(s+=t?r.a.t("pipelines-plugin~{{count}} second",{count:a}):r.a.t("pipelines-plugin~{{sec}}s",{sec:a})),s.trim()},j=()=>({"1d":r.a.t("pipelines-plugin~1 day"),"3d":r.a.t("pipelines-plugin~3 days"),"1w":r.a.t("pipelines-plugin~1 week"),"2w":r.a.t("pipelines-plugin~2 weeks"),"3w":r.a.t("pipelines-plugin~3 weeks"),"4w":r.a.t("pipelines-plugin~4 weeks")}),T=e=>{let t=0;return p.a(e,"x").map(e=>{const a=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:a})})}},5651:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(8),i=a(1402);const s=e=>{const[t,a]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:a||"s",defaultAutoscalewindowUnit:a||"s"}},r=/ *\([^)]*\) */g,l=e=>e.replace(r,""),o=(e,t)=>{var a;if(!(null===(a=e.spec)||void 0===a?void 0:a.ref))return null;const{apiVersion:s,kind:r,name:l}=e.spec.ref;return Object(n.n)(i.l)===s&&r===i.l.kind&&l!==t?l:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(l(e)))).map(e=>l(e)))],u=e=>e.some(e=>new RegExp(r).test(e)),d=(e,t=[],a)=>e.filter(e=>u([e])).map(e=>{var n,i;const s=null==t?void 0:t.find(t=>t.metadata.name===l(e));return s&&(null===(i=null===(n=s.spec)||void 0===n?void 0:n.ref)||void 0===i?void 0:i.name)!==a?s:null}).filter(e=>!!e)},5652:function(e,t,a){"use strict";var n=a(5619),i=a(8),s=a(5663);class r extends s.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(n.p)(this,{resource:n.q.ref,resourceKind:n.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(i.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=r},5653:function(e,t,a){"use strict";a.d(t,"g",(function(){return y})),a.d(t,"e",(function(){return j})),a.d(t,"c",(function(){return R})),a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return S})),a.d(t,"f",(function(){return N})),a.d(t,"d",(function(){return P}));var n=a(5596),i=a(320),s=a(2338),r=a(689),l=a(5621),o=a(5624),c=a(77),u=a(5591),d=a(4359),p=a(10),m=a(15),b=a(5586),v=a(5620),g=a(5656),f=a(5588),h=a(5648),E=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const O={dryRun:"All"},y=e=>r.object().shape({name:r.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:r.string().matches(l.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:r.string(),webhook:r.object().when("gitProvider",{is:u.b.BITBUCKET,then:r.object().shape({user:r.string().matches(o.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:r.object().shape({token:r.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:r.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>r.object().shape({webhook:r.object().when("gitProvider",{is:u.b.BITBUCKET,then:r.object().shape({user:r.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:r.object().shape({token:r.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:r.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>r.object().shape({repository:r.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===v.a.PAC&&t,then:k(e)})}),T=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),R=e=>l.f.test(e)?T(e,"github.com")?u.b.GITHUB:T(e,"bitbucket.org")?u.b.BITBUCKET:T(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,_=(e,t,a={},s)=>E(void 0,void 0,void 0,(function*(){var r,l,o;const{name:m,gitUrl:v,webhook:{secretObj:g,method:f,token:y,secret:k,user:j}}=e,T=i.Base64.encode(k),_=R(v);let S;y&&"token"===f?S=yield((e,t,a,n,s,r,l)=>E(void 0,void 0,void 0,(function*(){const o={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:n},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":a},r&&{"webhook.secret":r}),s===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${a}`)})};return Object(c.g)({model:p.SecretModel,data:o,ns:n,queryParams:l?O:{}})})))(m,j,y,t,_,k,s):"secret"===f&&g&&(null===(r=null==g?void 0:g.data)||void 0===r?void 0:r["webhook.secret"])!==T&&(yield Object(c.p)({model:p.SecretModel,resource:g,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(k)}]}));const N=n(v).source,P=S||g,w={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},a||{}),spec:Object.assign({url:v},P||"github.com"!==N?{git_provider:Object.assign(Object.assign(Object.assign({},h.j.includes(N)?{}:{url:N}),"bitbucket.org"===N?{user:j}:{}),P?{secret:{name:null===(l=null==P?void 0:P.metadata)||void 0===l?void 0:l.name,key:"provider.token"},webhook_secret:{name:null===(o=null==P?void 0:P.metadata)||void 0===o?void 0:o.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:b.RepositoryModel,data:w,ns:t,queryParams:s?O:{}})})),S=(e,t,a)=>E(void 0,void 0,void 0,(function*(){var n,s,r;const{gitUrl:l,webhook:{method:o,token:c,secret:d,url:p,secretObj:m,user:b}}=e,v=R(l),g=Object(u.e)(l,v);let f,h=!0;a&&"false"===(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n["webhook-ssl-verification"])&&(h=!1),f=v===u.b.BITBUCKET?"token"===o?i.Base64.encode(`${b}:${c}`):i.Base64.decode(null===(s=null==m?void 0:m.data)||void 0===s?void 0:s["webhook.auth"]):"token"===o?c:i.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["provider.token"]);return yield g.createRepoWebhook(f,p,h,d)})),N=e=>{if(!l.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return a=t,m.Yd.test(a)?"git-"+a:"git-"+s.a(a);var a},P=(e,t)=>E(void 0,void 0,void 0,(function*(){var a;let n;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:f.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":h.g[e]||e}}}});n=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=n?n:yield(e=>E(void 0,void 0,void 0,(function*(){var t;let a=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:f.g,name:g.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(a=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return a})))(t)}))},5655:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(689);const i=/^\/.*$/,s=e=>n.object().shape({containerName:n.string(),showForm:n.boolean(),enabled:n.boolean(),modified:n.boolean(),data:n.object().when("showForm",{is:!0,then:n.object().shape({periodSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:n.string(),httpGet:n.object().when("requestType",{is:"httpGet",then:n.object({path:n.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:n.number().required(e("devconsole~Required"))})}),tcpSocket:n.object().when("requestType",{is:"tcpSocket",then:n.object({port:n.number().required(e("devconsole~Required"))})}),exec:n.object().when("requestType",{is:"command",then:n.object({command:n.array().of(n.string().required(e("devconsole~Required")))})})})})}),r=e=>n.object().shape({readinessProbe:s(e),livenessProbe:s(e),startupProbe:s(e)})},5656:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u}));const n="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",s="https://api.github.com/app-manifests",r="pipelines-as-code-interceptor",l="pipelines-as-code-secret",o="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return l}));const n=e=>"Topology/ComponentFactory"===e.type,i=e=>"Topology/DataModelFactory"===e.type,s=e=>"Topology/CreateConnector"===e.type,r=e=>"Topology/DisplayFilters"===e.type,l=e=>"Topology/Decorator"===e.type},5658:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);const i=n.createContext({})},5659:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(2221);const i="operator-backed-service",s=n.h,r=n.f,l=n.g},5661:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(447),i=a(1941),s=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const r=e=>s(void 0,void 0,void 0,(function*(){var t,a,s;if(!(yield e.isFuncYamlPresent()))return{values:{}};const r=yield e.getFuncYamlContent();try{const e=n.a(r)?Object(i.c)(r):r,l=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,o=null===(a=null==e?void 0:e.build)||void 0===a?void 0:a.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:l,runtime:c,builderEnvs:o,runtimeEnvs:null===(s=null==e?void 0:e.run)||void 0===s?void 0:s.envs}}}catch(e){return{values:{}}}})),l=(e,t)=>s(void 0,void 0,void 0,(function*(){var a,n;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),s=Object(i.c)(e);if(!(null===(a=null==s?void 0:s.build)||void 0===a?void 0:a.builder)||"s2i"===(null===(n=null==s?void 0:s.build)||void 0===n?void 0:n.builder))return!0}return!1}))},5662:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var n=a(0),i=a(5619),s=a(5589),r=a(5647),l=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class o{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const a=this.extensions[t].resources(this.namespace);Object.keys(a).forEach(t=>{e[t]||(e[t]=a[t])})}return e},Object(r.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,a=Object.keys(t).reduce((e,a)=>(e[a]=t[a].kind,e),{});return Object(r.i)(e,a,this.workloadKeys)},this.getExtensionModels=e=>l(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},a=this.dataModelGetters;if(!(null==a?void 0:a.length))return Promise.resolve(t);const n=this.dataModelDepicters,i=this.getWorkloadResources(e),s=a.map(t=>{try{return t(this.namespace,e,i)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(s).then(e=>{e.forEach(e=>{if(e)try{Object(r.b)(e,t,n)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(a=>{try{a(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(i.p)(this,{namespace:i.q,model:i.q.ref,loaded:i.q,loadError:i.q,extensionsLoaded:i.q,watchedResources:i.q.ref,isEmptyModel:i.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...s.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,a;return 0===(null!==(a=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==a?a:0)}}const c=Object(n.createContext)(null)},5663:function(e,t,a){"use strict";var n=a(5585),i=a(5619);const s=(e=n.AnchorEnd.both,t="")=>`${e}:${t}`;class r extends n.BaseElement{constructor(){super(),this.anchors={[s()]:new n.CenterAnchor(this)},this.dimensions=new n.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new n.Point,this.group=!1,this.collapsed=!1,this.labelPosition=n.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(i.p)(this,{anchors:i.q.shallow,dimensions:i.q.ref,dimensionsInitialized:i.q,position:i.q.ref,nodes:i.i,group:i.q,collapsed:i.q,labelPosition:i.q,shape:i.q,status:i.q,groupBounds:i.i,sourceEdges:i.i,targetEdges:i.i,setDimensions:i.f,setBounds:i.f,setPosition:i.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(n.isNode)}get groupBounds(){const e=this.getChildren().filter(n.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(n.isNode)(e)){const{padding:a}=e.getStyle(),n=e.getBounds();!e.isGroup()&&a&&n.padding(e.getStyle().padding),t?t.union(n):t=n.clone()}}),t||(t=new n.Rect);const{padding:a}=this.getStyle();return t.padding(a)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(n.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(n.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return n.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new n.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:a}=this.dimensions;e.width===t&&e.height===a||(this.dimensions=new n.Dimensions(e.width,e.height));const{x:i,y:s}=this.position;e.x===i&&e.y===s||this.setPosition(new n.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const a=e.x-t.x,i=e.y-t.y;this.getChildren().forEach(e=>{if(Object(n.isNode)(e)){const t=e,s=t.getPosition(),r=new n.Point(s.x+a,s.y+i);t.setPosition(r)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(n.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(n.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let a=this.anchors[s(e,t)];return!a&&t&&(a=this.anchors[s(e)]),a||e!==n.AnchorEnd.source&&e!==n.AnchorEnd.target||(a=this.anchors[s(n.AnchorEnd.both,t)],!a&&t&&(a=this.anchors[s(n.AnchorEnd.both)])),a}setAnchor(e,t,a){const n=s(t,a);e?this.anchors[n]=e:delete this.anchors[n]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(n.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?n.NodeShape.rect:n.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||n.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,a;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(a||(a=this.position.clone()),a.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(a||(a=this.position.clone()),a.y=e.y),a&&this.setPosition(a),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:a}=this.getPosition();e.translate(t,a)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:a}=this.getPosition();e.translate(-t,-a)}}}t.a=r},5669:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"l",(function(){return b}));const n="OPENSHIFT_PIPELINE",i="OPENSHIFT_PIPELINE_AS_CODE",s="OPENSHIFT_PIPELINE_CONDITION",r="openshift",l="pipeline.openshift.io/runtime",o="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",m="resource.deleted.in.k8s",b="resource.loaded.from.tektonResults"},5670:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),i=a(31),s=a(499),r=a(327),l=a(517),o=a(5);const c=e=>({watchURL:(t,a)=>e(Object(l.g)(t,a)),stopWatchURL:t=>e(Object(l.e)(t)),watchPrometheusQuery:(t,a,n)=>e(Object(l.f)(t,a,n)),stopWatchPrometheusQuery:(t,a)=>e(Object(l.d)(t,a))}),u=e=>({[r.a.URL]:e.dashboards.get(r.a.URL),[r.a.PROMETHEUS]:e.dashboards.get(r.a.PROMETHEUS),notificationAlerts:e.observe.get("notificationAlerts")}),d=e=>Object(i.connect)(u,c)(class extends n.Component{constructor(e){super(e),this.urls=[],this.queries=[],this.watchingAlerts=!1,this.watchURL=(e,t)=>{this.urls.push(e),this.props.watchURL(e,t)},this.watchPrometheus=(e,t,a)=>{this.queries.push(Object(l.c)(e,a)),this.props.watchPrometheusQuery(e,t,a)},this.stopWatchPrometheusQuery=(e,t)=>{const a=Object(l.c)(e,t);this.queries=this.queries.filter(e=>e!==a),this.props.stopWatchPrometheusQuery(e,t)},this.watchAlerts=()=>{this.watchingAlerts=!0},this.stopWatchAlerts=()=>{this.watchingAlerts=!1},this.watchK8sResource=e=>{this.setState(t=>({k8sResources:[...t.k8sResources,Object.assign(Object.assign({},e),{optional:!0})]}))},this.stopWatchK8sResource=e=>{this.setState(t=>({k8sResources:t.k8sResources.filter(t=>t.prop!==e.prop)}))},this.getExternalProps=e=>s.a(e,"watchURL","stopWatchURL","watchPrometheusQuery","stopWatchPrometheusQuery","watchAlerts","stopWatchAlerts",r.a.URL,r.a.PROMETHEUS,"notificationAlerts"),this.state={k8sResources:[]}}shouldComponentUpdate(e,t){var a,n,i,s,l,o;const c=this.urls.some(t=>this.props[r.a.URL].getIn([t,"data"])!==e[r.a.URL].getIn([t,"data"])||this.props[r.a.URL].getIn([t,"loadError"])!==e[r.a.URL].getIn([t,"loadError"])),u=this.queries.some(t=>this.props[r.a.PROMETHEUS].getIn([t,"data"])!==e[r.a.PROMETHEUS].getIn([t,"data"])||this.props[r.a.PROMETHEUS].getIn([t,"loadError"])!==e[r.a.PROMETHEUS].getIn([t,"loadError"])),d=(null===(n=null===(a=this.props)||void 0===a?void 0:a.notificationAlerts)||void 0===n?void 0:n.data)!==(null===(i=null==e?void 0:e.notificationAlerts)||void 0===i?void 0:i.data)||(null===(l=null===(s=this.props)||void 0===s?void 0:s.notificationAlerts)||void 0===l?void 0:l.loadError)!==(null===(o=null==e?void 0:e.notificationAlerts)||void 0===o?void 0:o.loadError),p=this.state.k8sResources!==t.k8sResources,m=this.getExternalProps(e),b=this.getExternalProps(this.props);return c||u||p||this.watchingAlerts&&d||Object.keys(m).length!==Object.keys(b).length||Object.keys(m).some(e=>m[e]!==b[e])}render(){return n.createElement(o.C,{resources:this.state.k8sResources},n.createElement(e,Object.assign({watchURL:this.watchURL,stopWatchURL:this.props.stopWatchURL,watchPrometheus:this.watchPrometheus,stopWatchPrometheusQuery:this.stopWatchPrometheusQuery,watchAlerts:this.watchAlerts,stopWatchAlerts:this.stopWatchAlerts,urlResults:this.props[r.a.URL],prometheusResults:this.props[r.a.PROMETHEUS],notificationAlerts:this.props.notificationAlerts,watchK8sResource:this.watchK8sResource,stopWatchK8sResource:this.stopWatchK8sResource},this.getExternalProps(this.props))))}})},5673:function(e,t,a){"use strict";a.d(t,"m",(function(){return b})),a.d(t,"i",(function(){return v})),a.d(t,"h",(function(){return g})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"n",(function(){return E})),a.d(t,"p",(function(){return O})),a.d(t,"o",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"j",(function(){return j})),a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return R})),a.d(t,"l",(function(){return _})),a.d(t,"d",(function(){return S})),a.d(t,"f",(function(){return N})),a.d(t,"c",(function(){return P}));var n=a(255),i=a(745),s=a(117),r=a(384),l=a(1533),o=a(70),c=a(22),u=a(283),d=a(1401),p=a(4362),m=a(10);const b=["app.kubernetes.io/name","app.openshift.io/runtime"],v=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==a?a:""},g=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==a?a:""},f=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==a?a:""},h=e=>{var t,a,s,r,l,o;return(e=>n.a(e,(e,t,a)=>{const n=a.split("/");1===n.length&&n.push("tcp");const s=parseInt(n[0],10);return i.a(s)?e.push({containerPort:s,protocol:n[1].toUpperCase()}):console.warn("Unrecognized image port format",a),e},[]))((null===(s=null===(a=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===a?void 0:a.Config)||void 0===s?void 0:s.ExposedPorts)||(null===(o=null===(l=null===(r=null==e?void 0:e.image)||void 0===r?void 0:r.dockerImageMetadata)||void 0===l?void 0:l.ContainerConfig)||void 0===o?void 0:o.ExposedPorts))},E=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),O=e=>e.replace(/(-|^)([^-]?)/g,(e,t,a)=>(t&&" ")+a.toUpperCase()),y=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(p.isBuilder)(e)).reduce((e,t)=>{var a,n,i;const s=Object(p.getBuilderTagsSortedByVersion)(t),r=Object(p.getMostRecentBuilderTag)(t),{name:l}=t.metadata,o=null===(n=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/display-name"],c=null===(i=null==r?void 0:r.annotations)||void 0===i?void 0:i.description,u=t.metadata.namespace,m=o&&o.length<14?o:O(l),b=Object(d.e)(r),v=Object(d.d)(b);return e[l]={obj:t,name:l,displayName:o,description:c,title:m,iconUrl:v,tags:s,recentTag:r,imageStreamNamespace:u},e},{}),k=(e,t,a)=>{var n,i;const r=s.a(e,{name:t});return[r,null!==(i=null===(n=null==r?void 0:r.annotations)||void 0===n?void 0:n["openshift.io/display-name"])&&void 0!==i?i:a]},j=e=>{if(!e)return;const t=r.a(e.split("/"));return l.a(t.split(/[^a-z0-9-]/))};var T,R;!function(e){e.External="external",e.Internal="internal"}(T||(T={})),function(e){e.Openshift="openshift"}(R||(R={}));const _=e=>({External:{value:T.External,label:e("devconsole~Image name from external registry")},Internal:{value:T.Internal,label:e("devconsole~Image stream tag from internal registry")}}),S=e=>(e&&!c.a(e)?(e=>o.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const a=u.coerce(e),n=u.coerce(t);return a||n?a?n?u.rcompare(a,n):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),N=()=>[{isList:!0,kind:m.ProjectModel.kind,prop:m.ProjectModel.id}],P=e=>{const t=[];return e&&t.push({isList:!0,kind:m.ImageStreamModel.kind,prop:m.ImageStreamModel.id,namespace:e}),t}},5674:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r}));var n=a(5);const i=["configmaps","persistentvolumeclaims","pods","replicationcontrollers","resourcequotas","services","services.loadbalancers","services.nodeports","secrets","openshift.io/imagestreams"],s=(e,t)=>{let a=Object(n.Ib)(t),i=Object(n.Ib)(e);return a&&i||(a=parseInt(a,10),i=parseInt(i,10)),a&&i?a/i*100:0},r=({resourceName:e,used:t,hard:a})=>{const r=e.startsWith("count/")||i.includes(e),l=s(a,t);return{label:r?`${t||0} of ${a}`:Object(n.ec)(l).string,percent:l}}},5676:function(e,t,a){"use strict";a.d(t,"w",(function(){return n})),a.d(t,"m",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"x",(function(){return o})),a.d(t,"u",(function(){return c})),a.d(t,"q",(function(){return u})),a.d(t,"r",(function(){return d})),a.d(t,"p",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"C",(function(){return b})),a.d(t,"B",(function(){return v})),a.d(t,"k",(function(){return g})),a.d(t,"v",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"i",(function(){return E})),a.d(t,"j",(function(){return O})),a.d(t,"A",(function(){return y})),a.d(t,"t",(function(){return k})),a.d(t,"s",(function(){return j})),a.d(t,"y",(function(){return T})),a.d(t,"n",(function(){return R})),a.d(t,"z",(function(){return _})),a.d(t,"a",(function(){return S})),a.d(t,"g",(function(){return P})),a.d(t,"h",(function(){return w})),a.d(t,"e",(function(){return C})),a.d(t,"f",(function(){return x}));const n=25,i=5,s=9,r=9,l=4,o=120,c=30,u=30,d=20,p=10,m=15,b=10,v=25,g=32,f=12,h=30,E=40,O=35,y=40,k=300,j=45;var T,R,_,S;!function(e){e.TASK_NODE="task",e.CUSTOM_TASK_NODE="custom-task",e.SPACER_NODE="spacer",e.LOADING_NODE="loading",e.TASK_LIST_NODE="task-list",e.BUILDER_NODE="builder",e.INVALID_TASK_LIST_NODE="invalid-task-list",e.FINALLY_NODE="finally-node",e.BUILDER_FINALLY_NODE="builder-finally-node",e.FINALLY_GROUP="finally-group",e.EDGE="edge"}(T||(T={})),function(e){e.INTEGRAL_SHAPE="integral-shape",e.STRAIGHT="line"}(R||(R={})),function(e){e.DAGRE_BUILDER="dagre-builder",e.DAGRE_BUILDER_SPACED="dagre-builder-spaced",e.DAGRE_VIEWER="dagre-viewer",e.DAGRE_VIEWER_SPACED="dagre-viewer-spaced"}(_||(_={})),function(e){e.BEFORE="in-run-after",e.AFTER="has-run-after",e.PARALLEL="shared-parallel"}(S||(S={}));const N={nodesep:20,ranksep:n,edgesep:50,ranker:"longest-path",rankdir:"LR",marginx:20,marginy:20},P=Object.assign({},N),w=Object.assign(Object.assign({},P),{ranksep:n+v}),C=Object.assign(Object.assign({},N),{ranksep:n+2*s,nodesep:20+s,marginx:N.marginx+2*s,marginy:N.marginy+2*s}),x=Object.assign(Object.assign({},C),{ranksep:n+v+2*s});var I;!function(e){e.CUSTOM_TASK="CustomTask"}(I||(I={}))},5684:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(8),s=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const r=(e,t,a,r)=>{const[l,o]=n.useState(),[c,u]=n.useState(!1),[d,p]=n.useState();return n.useEffect(()=>{s(void 0,void 0,void 0,(function*(){try{p(null),u(!1),o(null);const n=yield Object(i.kb)(e,t,a,r);o(n)}catch(e){p(e)}finally{u(!0)}}))},[e,t,a,r]),[l,c,d]}},5687:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return O})),a.d(t,"e",(function(){return y}));var n=a(225),i=a(16),s=a(499),r=a(1557),l=a(53),o=a(15),c=a(5669),u=a(5586),d=a(5623),p=a(5588),m=a(5725);const b=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},v=(e=null,t,a)=>{var m,v,g,f,h,E;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const O=((e,t)=>{var a,n,i;return e?e.metadata.name:t?null!==(n=null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)&&void 0!==n?n:(null===(i=t.metadata.annotations)||void 0===i?void 0:i[p.z])||t.metadata.name:null})(e,t),y=null==t?void 0:t.spec.workspaces,k=null==t?void 0:t.spec.params,j=null==e?void 0:e.spec.params,T=k||Object(d.m)(j),R=r.a({},null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations,null===(v=null==t?void 0:t.metadata)||void 0===v?void 0:v.annotations,{[p.q.user]:Object(l.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(g=null==t?void 0:t.metadata.annotations)||void 0===g?void 0:g[p.z])&&{[p.z]:O});delete R["kubectl.kubernetes.io/last-applied-configuration"],delete R["tekton.dev/v1beta1TaskRuns"],delete R["results.tekton.dev/log"],delete R["results.tekton.dev/record"],delete R["results.tekton.dev/result"],delete R[c.c],delete R[c.l];return(e=>{let t=e;if(n.a(t,"spec.serviceAccount")){const e=i.a(t,"spec.serviceAccount");t=s.a(t,["spec.serviceAccount"]),t=r.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==a?void 0:a.generateName)?{generateName:O+"-"}:{name:void 0!==(null===(f=null==t?void 0:t.metadata)||void 0===f?void 0:f.name)?`${b(t)}${Object(o.wd)()}`:`${O}-${Object(o.wd)()}`}),{annotations:R,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:r.a({},null===(h=null==e?void 0:e.metadata)||void 0===h?void 0:h.labels,null===(E=null==t?void 0:t.metadata)||void 0===E?void 0:E.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":O})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:O}}),T&&{params:T}),{workspaces:y,status:null})})},g=e=>({volumeClaimTemplate:{metadata:{labels:{[p.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),f=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[p.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),h=e=>t=>{let a={type:p.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(a={type:p.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(a={type:p.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),a)},E=(e,t=!1,a="")=>{const{metadata:{namespace:n},spec:{params:i,resources:s}}=e;return{namespace:n,parameters:(i||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(s||[]).map(e=>({name:e.name,selection:t?m.a:"",data:Object.assign(Object.assign({},m.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(h(a))}},O=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),y=(e,t,a,n,i)=>{const{parameters:s,workspaces:r}=t,l={metadata:{annotations:n,labels:a},spec:{pipelineRef:{name:e.metadata.name},params:s.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(r)}};return v(e,l,i)}},5695:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,i=a(0),s=a(18),r=a(1946),l=a(5727);a(5728);!function(e){e.light="light",e.default="default"}(n||(n={}));t.b=({children:e,disabled:t,onNamespaceChange:a,hideProjects:o=!1,hideApplications:c=!1,variant:u=n.default,toolbar:d})=>i.createElement("div",{className:"odc-namespaced-page"},i.createElement(r.NamespaceBar,{isDisabled:t,onNamespaceChange:a,hideProjects:o},!c&&i.createElement(l.a,{disabled:t}),d&&i.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),i.createElement("div",{className:s("odc-namespaced-page__content",{["is-"+u]:u!==n.default})},e))},5704:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(13),r=a(5),l=a(69),o=a(15),c=a(5710),u=a(5647),d=a(5720),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=e=>{var{namespace:t}=e,a=p(e,["namespace"]);const{t:m}=Object(i.useTranslation)(),b=Object(l.z)(d.a),v=Object(l.z)(s.Zb),g=n.useMemo(()=>Object(c.b)(v),[v]),f=n.useMemo(()=>{let e=Object(u.d)(t);return[...b,...g].forEach(a=>{var n,i;const s=null===(i=(n=a.properties).resources)||void 0===i?void 0:i.call(n,t);s&&(e=Object.assign(Object.assign({},s),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[g,b,t]);return n.createElement(r.C,{resources:f},n.createElement(o.Nb,Object.assign({},a,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5705:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return f})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return y}));var n=a(0),i=a(283),s=a(13),r=a(77),l=a(519),o=a(15),c=a(5586),u=a(5588),d=a(5650),p=a(5899),m=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const b=e=>m(void 0,void 0,void 0,(function*(){const t=(yield Object(r.l)(l.a,{ns:e})).filter(e=>{var t,a,n,i,s;return((null===(a=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===a?void 0:a.startsWith("openshift-pipelines-operator"))||(null===(i=null===(n=e.metadata)||void 0===n?void 0:n.name)||void 0===i?void 0:i.startsWith("redhat-openshift-pipelines")))&&(null===(s=e.status)||void 0===s?void 0:s.phase)===l.b.CSVPhaseSucceeded}).map(e=>Object(i.parse)(e.spec.version)).filter(Boolean);return t.sort(i.compare),t.length>0?t[t.length-1]:null})),v=e=>{const[t,a]=n.useState(null);return n.useEffect(()=>{b(e).then(a).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},g=e=>!!e&&Object(i.gte)(e.version,u.i),f=e=>!!e&&Object(i.gte)(e.version,u.s),h=e=>{const t=v(e),[a]=Object(p.b)(),[n]=Object(s.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var r;return{metricsLevel:!!(r=t)&&Object(i.gt)(r.version,u.m)?Object(p.a)(a):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!g(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:n}},E=e=>{const[t]=Object(o.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=11;e(u.f,n)},O=e=>{const[t]=Object(o.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=16;e(u.d,n)},y=e=>{const[t]=Object(o.ue)(),a=v(t),n=1===(null==a?void 0:a.major)&&(null==a?void 0:a.minor)>=17;e(u.e,n)}},5710:function(e,t,a){"use strict";a.d(t,"b",(function(){return d}));var n=a(0),i=a(13),s=a(8),r=a(69),l=a(5657),o=a(5714),c=a(5662),u=a(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((a,[n,i])=>{const r=((e,t,a,n,i={})=>{if(!n)return Object.assign({namespace:e},i);if(n.version){const t=Object(s.Fb)(n);return Object.assign({namespace:e,kind:t},i)}const r=Object(s.wb)(n.group,n.kind);if(!r)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${n.group}" and kind "${n.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${a}" will not be loaded and ignored in the topology view for now:`,t,a,n,i),null;const l=Object(s.Hb)(r);return Object.assign({namespace:e,kind:l},i)})(t,e,n,null==i?void 0:i.model,null==i?void 0:i.opts);return r&&(a[n]=r),a},{})})}));t.a=({namespace:e,children:t})=>{const[a,s]=n.useState(new c.a(e));n.useEffect(()=>{s(new c.a(e))},[e]);const p=Object(r.z)(l.c),m=Object(r.z)(i.Zb),b=n.useMemo(()=>d(m),[m]);return n.createElement(c.b.Provider,{value:a},e&&n.createElement(n.Fragment,null,[...b,...p].map(e=>n.createElement(o.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&n.createElement(u.a,null),t)}},5711:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return h}));var n=a(499),i=a(22),s=a(1557),r=a(655),l=a(255),o=a(15),c=a(2221),u=a(5599);const d=({name:e,applicationName:t,imageStreamName:a,runtimeIcon:n,selectedTag:i,namespace:s})=>{const r=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},a&&{"app.openshift.io/runtime":a});return n&&(r["app.openshift.io/runtime"]=n),t&&t.trim().length>0&&(r["app.kubernetes.io/part-of"]=t),i&&(r["app.openshift.io/runtime-version"]=i),s&&(r["app.openshift.io/runtime-namespace"]=s),r},p=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),m=()=>({[c.n]:"false"}),b=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),v=(e,t,a,n,i="latest")=>({[o.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${i}`,namespace:a},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!n}])}),g=(e,t)=>{const a=u.l[e];return a?{app:t,[a.toLowerCase()]:t}:{app:t}},f=(e,t)=>{var a,l,o,c,u,d,p,m,b,v,g,f,h,E,O,y,k,j,T,R,_,S,N,P,w,C,x,I,L;if(i.a(e))return t;const A=s.a({},e||{},t),D=null===(l=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.annotations)||void 0===l?void 0:l.isFromDevfile;var M;if(A.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),D?null===(o=null==e?void 0:e.metadata)||void 0===o?void 0:o.labels:{}),A.metadata.annotations&&(A.metadata.annotations=Object.assign(Object.assign({},D?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations:(M=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,n.a(M,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(m=null===(p=null===(d=A.spec)||void 0===d?void 0:d.template)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.labels)&&(A.spec.template.metadata.labels=null===(g=null===(v=null===(b=t.spec)||void 0===b?void 0:b.template)||void 0===v?void 0:v.metadata)||void 0===g?void 0:g.labels),!i.a(null===(E=null===(h=null===(f=e.spec)||void 0===f?void 0:f.template)||void 0===h?void 0:h.spec)||void 0===E?void 0:E.containers)){A.spec.template.spec.containers=e.spec.template.spec.containers;const a=r.a(e.spec.template.spec.containers,{name:e.metadata.name});a>=0?A.spec.template.spec.containers[a]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[a]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[a].volumeMounts}):A.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(O=null==A?void 0:A.spec)||void 0===O?void 0:O.hasOwnProperty("strategy"))&&(A.spec.strategy=null!==(k=null===(y=t.spec)||void 0===y?void 0:y.strategy)&&void 0!==k?k:null===(j=e.spec)||void 0===j?void 0:j.strategy),(null===(T=A.spec)||void 0===T?void 0:T.triggers)&&(A.spec.triggers=t.spec.triggers),(null===(_=null===(R=t.spec)||void 0===R?void 0:R.source)||void 0===_?void 0:_.sourceSecret)||null===(N=null===(S=null==A?void 0:A.spec)||void 0===S?void 0:S.source)||void 0===N||delete N.sourceSecret,(null===(C=null===(w=null===(P=A.spec)||void 0===P?void 0:P.template)||void 0===w?void 0:w.spec)||void 0===C?void 0:C.hasOwnProperty("volumes"))&&(A.spec.template.spec.volumes=null===(L=null===(I=null===(x=e.spec)||void 0===x?void 0:x.template)||void 0===I?void 0:I.spec)||void 0===L?void 0:L.volumes),A},h=e=>{var t,a,n;return l.a(null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.labels,(t,a,n)=>{var i,s;return(null===(s=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===s?void 0:s.hasOwnProperty(n))||(t[n]=a),t},{})}},5712:function(e,t,a){},5714:function(e,t,a){"use strict";var n=a(0),i=a(15),s=a(5662);t.a=({dataModelFactory:e})=>{const t=n.useContext(s.b),{id:a,priority:r,resources:l}=e,o=Object(i.De)(e.workloadKeys),c=n.useRef({priority:r,workloadKeys:o,resources:l});return n.useEffect(()=>{if(!t.getExtension(a)){c.current={priority:r,workloadKeys:o,resources:l},t.updateExtension(a,c.current);const{getDataModel:n,isResourceDepicted:i,getDataModelReconciler:s}=e;n?n().then(e=>{c.current.dataModelGetter=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(a,c.current)}):(c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(a,c.current)),i?i().then(e=>{c.current.dataModelDepicter=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelDepicter=()=>!1,t.updateExtension(a,c.current)}):(c.current.dataModelDepicter=()=>!1,t.updateExtension(a,c.current)),s?s().then(e=>{c.current.dataModelReconciler=e,t.updateExtension(a,c.current)}).catch(()=>{c.current.dataModelReconciler=()=>{},t.updateExtension(a,c.current)}):(c.current.dataModelReconciler=()=>{},t.updateExtension(a,c.current))}},[t,e,a,r,l,o]),null}},5715:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(22),r=a(108),l=a(15),o=a(5662),c=a(5716),u=a(5718);t.a=Object(i.observer)(({trafficData:e})=>{const t=n.useContext(o.b),{namespace:a,extensionsLoaded:i,watchedResources:d}=t,[p,m]=n.useState(),b=Object(u.a)(a),v=n.useMemo(()=>a&&i?d:{},[i,d,a]),g=Object(l.Ce)(m,250),f=Object(r.b)(v);return n.useEffect(()=>g(f),[g,f]),n.useEffect(()=>{t.model=null},[a]),n.useEffect(()=>{s.a(p)||Object(c.a)(t,p,e,b).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,b]),null})},5716:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5717);const i=(e,t,a,i)=>{const{extensionsLoaded:s,watchedResources:r}=e;if(!s||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const l=Object.keys(t).find(e=>(e=>t[e].loadError&&!r[e].optional?t[e].loadError:"")(e));if(l)return Promise.resolve({loaded:!1,loadError:t[l].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&r[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const o=e.getWorkloadResources(t),c=e.dataModelDepicters;return e.getExtensionModels(t).then(s=>{const r=Object(n.a)(s,e.namespace,t,o,c,a,i);return e.reconcileModel(r,t),Promise.resolve({loaded:!0,loadError:"",model:r})})}},5717:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1401),i=a(15),s=a(2221),r=a(5589),l=a(5647);const o=(e,t)=>{const a=e.nodes.filter(({data:e})=>e.nodeType===s.y);return e.edges.reduce((e,{data:n})=>{const{data:i}=a.find(e=>e.data.id===n.source),{data:r}=a.find(e=>e.data.id===n.target),l=t.find(e=>e.metadata.name===i[i.nodeType]),o=t.find(e=>e.metadata.name===r[r.nodeType]);return l&&o?[...e,{id:`${l.metadata.uid}_${o.metadata.uid}`,type:s.x,source:l.metadata.uid,target:o.metadata.uid,data:n.traffic}]:e},[])},c=(e,t,a,c,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return r.a.forEach(a=>{var r,o;if(null===(o=null===(r=null==e?void 0:e[a])||void 0===r?void 0:r.data)||void 0===o?void 0:o.length){const r={nodes:[],edges:[]};e[a].data.forEach(t=>{const o=Object(i.yc)(a,t,e);if(o){const a=Object(l.c)(t,o,s.y,Object(n.d)("icon-openshift"),void 0,e);r.nodes.push(Object(l.h)(t,s.y,a,l.a)),Object(l.j)(Object(l.g)(t),r.nodes)}}),Object(l.b)(r,t)}}),t})(Object.assign(Object.assign({},a),{monitoringAlerts:p}));return Object(l.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var a,n;t.type===s.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(n=null===(a=t.children)||void 0===a?void 0:a.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==n?n:[])}),e.nodes=e.nodes.filter(e=>e.type!==s.u||e.children.length>0)})(e),((e,t)=>{t.forEach(a=>{e.edges.push(...Object(l.f)(a,t))})})(e,c),((e,t,a)=>{a&&e.edges.push(...o(a,t))})(e,c,d),e}},5718:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a(5719),s=a(58),r=a(15);const l=e=>{const[t,a,l]=Object(i.a)({namespace:e}),o=n.useMemo(()=>{let e;return l||a||(e=Object(s.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!l,loadError:a}},[a,l,t]);return Object(r.De)(o)}},5719:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(763),i=a(436);const s=({delay:e,namespace:t})=>{const a=Object(i.b)({endpoint:i.a.RULES,namespace:t});return Object(n.useURLPoll)(a,e,t)}},5720:function(e,t,a){"use strict";var n=a(5657);a.d(t,"a",(function(){return n.c}))},5723:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(141),i=a(225),s=a(22),r=a(5599),l=a(5790),o=a(5724);const c=(e,t)=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.failureThreshold&&{failureThreshold:n.a(e.failureThreshold)}),e.successThreshold&&{successThreshold:n.a(e.successThreshold)}),e.requestType===o.b.ContainerCommand&&{exec:e.exec}),e.requestType===o.b.HTTPGET&&{httpGet:Object.assign(Object.assign({},e[e.requestType]),{scheme:(null===(a=e[e.requestType])||void 0===a?void 0:a.scheme)?e[e.requestType].scheme[0]:"HTTP",port:t===r.k.KnativeService?0:n.a(e.httpGet.port)})}),e.requestType===o.b.TCPSocket&&{tcpSocket:{port:t===r.k.KnativeService?0:n.a(e.tcpSocket.port)}}),e.initialDelaySeconds&&{initialDelaySeconds:n.a(e.initialDelaySeconds)}),e.periodSeconds&&{periodSeconds:n.a(e.periodSeconds)}),e.timeoutSeconds&&{timeoutSeconds:n.a(e.timeoutSeconds)})},u=e=>{var t,a,n,s,r,l,c,u;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{requestType:(u=e,i.a(u,o.b.HTTPGET)?o.b.HTTPGET:i.a(u,o.b.TCPSocket)?o.b.TCPSocket:i.a(u,"exec.command")?o.b.ContainerCommand:""),failureThreshold:(null===(t=e.failureThreshold)||void 0===t?void 0:t.toString())||"",successThreshold:(null===(a=e.successThreshold)||void 0===a?void 0:a.toString())||"",initialDelaySeconds:(null===(n=e.initialDelaySeconds)||void 0===n?void 0:n.toString())||"",periodSeconds:(null===(s=e.periodSeconds)||void 0===s?void 0:s.toString())||"",timeoutSeconds:(null===(r=e.timeoutSeconds)||void 0===r?void 0:r.toString())||""}),e.httpGet&&{httpGet:Object.assign(Object.assign({},e.httpGet),{port:(null===(l=e.httpGet.port)||void 0===l?void 0:l.toString())||"",scheme:"HTTP"===e.httpGet.scheme?void 0:["HTTPS"]})}),e.tcpSocket&&{tcpSocket:{port:(null===(c=e.tcpSocket.port)||void 0===c?void 0:c.toString())||""}})},d=(e,t=0)=>{var a,n,i,r,c,d,p,m,b,v;const g=null!==(r=null===(i=null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.template)||void 0===n?void 0:n.spec)||void 0===i?void 0:i.containers)&&void 0!==r?r:[],f=null!==(d=null===(c=null==g?void 0:g[t])||void 0===c?void 0:c[o.a.ReadinessProbe])&&void 0!==d?d:{},h=null!==(m=null===(p=null==g?void 0:g[t])||void 0===p?void 0:p[o.a.LivenessProbe])&&void 0!==m?m:{},E=null!==(v=null===(b=null==g?void 0:g[t])||void 0===b?void 0:b[o.a.StartupProbe])&&void 0!==v?v:{};return{readinessProbe:{showForm:!1,modified:!1,enabled:!s.a(f),data:s.a(f)?l.b.data:Object.assign({},u(f))},livenessProbe:{showForm:!1,modified:!1,enabled:!s.a(h),data:s.a(h)?l.b.data:Object.assign({},u(h))},startupProbe:{showForm:!1,modified:!1,enabled:!s.a(E),data:s.a(E)?l.b.data:Object.assign({},u(E))}}},p=(e,t)=>{const{readinessProbe:a,livenessProbe:n,startupProbe:i}=e;return Object.assign(Object.assign(Object.assign({},a.enabled?{readinessProbe:c(a.data,t)}:{}),n.enabled?{livenessProbe:c(n.data,t)}:{}),t!==r.k.KnativeService&&(null==i?void 0:i.enabled)?{startupProbe:c(i.data)}:{})}},5724:function(e,t,a){"use strict";var n,i;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),function(e){e.ReadinessProbe="readinessProbe",e.LivenessProbe="livenessProbe",e.StartupProbe="startupProbe"}(n||(n={})),function(e){e.HTTPGET="httpGet",e.ContainerCommand="command",e.TCPSocket="tcpSocket"}(i||(i={}))},5725:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(5588);const i="#CREATE_PIPELINE_RESOURCE#",s={[n.o.git]:{params:{url:"",revision:""}},[n.o.image]:{params:{url:""}},[n.o.storage]:{params:{type:"",location:"",dir:""}},[n.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5727:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(31),r=a(53),l=a(518),o=a(15),c=a(5704);t.a=Object(s.connect)(e=>({namespace:Object(l.d)(e),application:Object(l.c)(e)}),e=>({onChange:t=>{e(Object(r.k)(t))}}))(({namespace:e,application:t,onChange:a,disabled:s})=>{const{t:r}=Object(i.useTranslation)(),l=r("topology~All applications"),u=r("topology~No application group"),d=t===o.b?l:t===o.mc?u:t,[p,m]=n.useState(d);if(n.useEffect(()=>{s||m(d)},[s,d]),e===o.c)return null;return n.createElement(c.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&n.createElement("span",{className:"btn-link__title"},p),titlePrefix:r("topology~Application"),allSelectorItem:{allSelectorKey:o.b,allSelectorTitle:l},noneSelectorItem:{noneSelectorKey:o.mc,noneSelectorTitle:u},selectedKey:t||o.b,onChange:(e,t)=>{t===o.b?a(t):a(e)},userSettingsPrefix:o.f,storageKey:o.e,disabled:s})})},5728:function(e,t,a){},5729:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a(5731);const i={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:n.a,apiVersion:"v1alpha1",kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},s={id:"buildstrategy",plural:"buildstrategies",apiGroup:n.a,apiVersion:"v1alpha1",kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},r={id:"build",plural:"builds",apiGroup:n.a,apiVersion:"v1alpha1",kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},l={id:"buildrun",plural:"buildruns",apiGroup:n.a,apiVersion:"v1alpha1",kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"},o={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:n.a,apiVersion:n.b,kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},c={id:"buildstrategy",plural:"buildstrategies",apiGroup:n.a,apiVersion:n.b,kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},u={id:"build",plural:"builds",apiGroup:n.a,apiVersion:n.b,kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},d={id:"buildrun",plural:"buildruns",apiGroup:n.a,apiVersion:n.b,kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"}},5730:function(e,t,a){"use strict";var n=a(0),i=a(6024),s=a(5585);t.a=({id:e,dx:t=0,dy:a=1,stdDeviation:r=2,floodColor:l=i.global_palette_black_1000.value,floodOpacity:o=.2})=>window.navigator.userAgent.includes("Edge")?n.createElement(s.SVGDefs,{id:e},n.createElement("filter",{id:e,x:`-${12.5*r}%`,y:`-${12.5*r}%`,width:100+25*r+"%",height:100+25*r+"%"},n.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:r}),n.createElement("feOffset",{dx:t,dy:a,result:"offsetblur"}),n.createElement("feFlood",{floodColor:l,floodOpacity:o}),n.createElement("feComposite",{in2:"offsetblur",operator:"in"}),n.createElement("feMerge",null,n.createElement("feMergeNode",null),n.createElement("feMergeNode",{in:"SourceGraphic"})))):n.createElement(s.SVGDefs,{id:e},n.createElement("filter",{id:e,x:`-${12.5*r}%`,y:`-${12.5*r}%`,width:100+25*r+"%",height:100+25*r+"%"},n.createElement("feDropShadow",{dx:t,dy:a,stdDeviation:r,floodColor:l,floodOpacity:o})))},5731:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return o}));const n="shipwright.io",i="v1beta1",s="build.shipwright.io/name",r="app.kubernetes.io/instance",l="image-registry.openshift-image-registry.svc:5000",o="quay.io"},5732:function(e,t,a){},5734:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>Object.assign(Object.assign({},e),{prop:`${t}-${e.prop}`})},5735:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),i=a(353),s=a(19),r=a(7),l=a(14),o=a(13),c=a(517),u=a(5670),d=a(1406),p=a(5),m=a(980),b=a(108),v=a(8),g=a(15),f=a(30),h=a(119),E=a(2229);a(5828);const O=n.memo(({current:e,title:t,humanize:a,consumers:l,namespace:o,position:c=i.b.top,description:u,children:d})=>{const{t:p}=Object(r.useTranslation)(),[m,b]=n.useState(!1),v=n.useCallback(()=>b(!0),[]),g=n.useCallback(()=>b(!1),[]);return e?n.createElement(i.a,{position:c,headerContent:p("console-shared~{{title}} breakdown",{title:t}),bodyContent:n.createElement(j,{humanize:a,consumers:l,namespace:o,isOpen:m,description:u},d),enableFlip:!0,onShow:v,onHide:g,maxWidth:"21rem"},n.createElement(s.a,{variant:"link",isInline:!0},e)):null});t.b=O;const y=e=>{switch(e){case o.m.ERROR:return n.createElement(h.h,null);case o.m.WARN:return n.createElement(h.m,null);default:return null}},k=({limitState:e,requestedState:t,total:a,limit:i,current:s,available:l,requested:c})=>{const{t:u}=Object(r.useTranslation)();return(!!e&&e!==o.m.OK||!!t&&t!==o.m.OK)&&n.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},n.createElement(E.default,{value:a},u("console-shared~Total capacity")),n.createElement(E.default,{value:i,icon:y(e)},u("console-shared~Total limit")),n.createElement(E.default,{value:s},u("console-shared~Current utilization")),n.createElement(E.default,{value:l},u("console-shared~Current available capacity")),n.createElement(E.default,{value:c,icon:y(t)},u("console-shared~Total requested")))},j=Object(u.a)(n.memo(({humanize:e,consumers:t,namespace:a,watchPrometheus:i,stopWatchPrometheusQuery:s,prometheusResults:u,isOpen:h,description:E,children:O})=>{const{t:y}=Object(r.useTranslation)(),[k,j]=n.useState(t[0]),R=Object(o.jc)()[0],_=Object(g.Fe)(f.A.CAN_GET_NS)&&!!window.SERVER_FLAGS.prometheusBaseURL,{query:S,model:N,metric:P,fieldSelector:w}=k,C=n.useMemo(()=>h?((e,t,a)=>({isList:!0,kind:e.crd?Object(v.Hb)(e):e.kind,fieldSelector:a,namespace:t}))(N,a,w):null,[w,h,N,a]),[x,I,L]=Object(b.a)(C);n.useEffect(()=>h?(i(S,a),()=>{s(S)}):()=>{},[S,s,i,a,h]);const A=[],[D,M]=Object(c.b)(u,S),F=Object(d.a)(D,P);if(C&&I&&!L)for(const t of F){if(x.some(e=>Object(g.dd)(e)===t.metric[P]&&(!N.namespaced||Object(g.ed)(e)===t.metric.namespace))&&A.push(Object.assign(Object.assign({},t),{y:e(t.y).string})),5===A.length)break}const U=n.useMemo(()=>{const e=new URLSearchParams;return e.set("query0",k.query),e},[k.query]),B=n.useMemo(()=>t.reduce((e,t)=>(e[Object(v.Hb)(t.model)]=y("console-shared~By {{label}}",{label:t.model.labelKey?y(t.model.labelKey):t.model.label}),e),{}),[t,y]),q=n.useCallback(e=>j(t.find(t=>Object(v.Hb)(t.model)===e)),[t]),$=_&&"admin"===R?"/monitoring/query-browser?"+U.toString():`/dev-monitoring/ns/${a}/metrics?${U.toString()}`;let K;return K=M||L?n.createElement("div",{className:"text-secondary"},y("console-shared~Not available")):I&&D?n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-utilization-card-popover__consumer-list","aria-label":y("console-shared~Top consumer by {{label}}",{label:N.label})},A&&A.map(e=>{const t=String(e.x);return n.createElement(T,{key:t,value:e.y},n.createElement(l.Link,{className:"co-utilization-card-popover__consumer-name",to:Object(p.uc)(N,t,e.metric.namespace)},t))})),n.createElement(l.Link,{to:$},y("console-shared~View more"))):n.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"}),n.createElement("li",{className:"skeleton-consumer"})),n.createElement("div",{className:"co-utilization-card-popover__body"},E&&n.createElement("div",{className:"co-utilization-card-popover__description"},E),O,n.createElement("div",{className:"co-utilization-card-popover__title"},1===t.length?y("console-shared~Top {{label}} consumers",{label:k.model.label.toLowerCase()}):y("console-shared~Top consumers")),t.length>1&&n.createElement(m.b,{className:"co-utilization-card-popover__dropdown",id:"consumer-select",name:"selectConsumerType","aria-label":y("console-shared~Select consumer type"),items:B,onChange:q,selectedKey:Object(v.Hb)(N)}),K)})),T=({children:e,value:t})=>n.createElement("li",{className:"co-utilization-card-popover__consumer-item"},e,n.createElement("div",{className:"co-utilization-card-popover__consumer-value"},t))},5738:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return k}));var n=a(0),i=a(7),s=a(406),r=a(967),l=a(4377),o=a(5791),c=a(1409),u=a(52),d=a(5),p=a(108),m=a(5670),b=a(5734),v=a(517),g=a(5784);const f=({operatorStatus:e,isResolved:t,key:a,Component:i,LoadingComponent:s})=>{const r=i;return t?n.createElement(r,{key:a,operatorStatus:e}):n.createElement(d.c,{key:e.operators[0].metadata.uid,operatorStatus:e,loader:i,LoadingComponent:s})},h=({resources:e,operatorExtensions:t,dynamicOperatorSubsystems:a})=>{const{t:l}=Object(i.useTranslation)(),c=[...t.map((t,a)=>{const i=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop],t),{});return n.createElement(s.a,{key:t.title},n.createElement(o.a,{resources:i,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:f,Component:t.operatorRowLoader,isResolved:!1}))}),...a.map((t,a)=>{const i=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop],t),{});return n.createElement(s.a,{key:t.title},n.createElement(o.a,{resources:i,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:f,Component:t.operatorRowLoader,isResolved:!0}))})].reverse();return n.createElement(r.a,{hasGutter:!0},n.createElement(s.a,null,l("public~Operators create, configure, and manage applications by extending the Kubernetes API.")),c)},E=Object(m.a)(({resources:e,watchK8sResource:t,stopWatchK8sResource:a,operatorExtensions:s,dynamicOperatorSubsystems:r})=>{const{t:o}=Object(i.useTranslation)();n.useEffect(()=>(s.forEach((e,a)=>e.resources.forEach(e=>t(Object(b.a)(e,a)))),()=>{s.forEach((e,t)=>e.resources.forEach(e=>a(Object(b.a)(e,t))))}),[t,a,s]);const d=s.map((t,a)=>{const n=t.resources.reduce((t,n)=>(t[n.prop]=e[Object(b.a)(n,a).prop]||{},t),{});if(Object.keys(n).some(e=>n[e].loadError))return{health:u.a.NOT_AVAILABLE};if(Object.keys(n).some(e=>!n[e].loaded))return{health:u.a.LOADING};const i=t.getOperatorsWithStatuses(n);if(!i.length)return{health:u.a.OK};const s=Object(c.a)(i);return{health:s[0].status.health,count:s.length}}),p=Object(c.b)(d,o);return n.createElement(l.default,{title:o("public~Operators"),state:p.health,details:p.detailMessage,popupTitle:o("public~Operator status")},n.createElement(h,{resources:e,operatorExtensions:s,dynamicOperatorSubsystems:r}))}),O=Object(m.a)(({watchURL:e,stopWatchURL:t,urlResults:a,resources:i,watchK8sResource:s,stopWatchK8sResource:r,subsystem:o,models:c})=>{const u=o.additionalResource&&!!c.get(o.additionalResource.kind);n.useEffect(()=>(e(o.url,o.fetch?o.fetch:void 0),u&&s(o.additionalResource),()=>{t(o.url),u&&r(o.additionalResource)}),[e,t,s,r,o,u]);const p=a.getIn([o.url,"data"]),m=a.getIn([o.url,"loadError"]),b=o.additionalResource?i[o.additionalResource.prop]:null,v=o.healthHandler(p,m,b);return n.createElement(l.default,{title:o.title,state:v.state,details:v.message,popupTitle:o.popupTitle,popupBodyContent:o.popupComponent?e=>n.createElement(d.c,{loader:o.popupComponent,healthResult:p,healthResultError:m,k8sResult:b,hide:e}):void 0})}),y=Object(m.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,watchPrometheus:s,stopWatchPrometheusQuery:r,prometheusResults:o,subsystem:c,models:u})=>{const{t:p}=Object(i.useTranslation)(),{infrastructure:m}=n.useContext(g.a),b=c.additionalResource&&!!u.get(c.additionalResource.kind);n.useEffect(()=>(c.queries.forEach(e=>s(e)),b&&e(c.additionalResource),()=>{c.queries.forEach(e=>r(e)),b&&t(c.additionalResource)}),[e,t,s,r,c,b]);const f=n.useMemo(()=>c.queries.map(e=>{const[t,a]=Object(v.b)(o,e);return{response:t,error:a}}),[o,c.queries]),h=c.additionalResource?a[c.additionalResource.prop]:null,E=c.healthHandler(f,p,h,m);return n.createElement(l.default,{title:c.title,state:E.state,details:E.message,popupTitle:c.popupTitle,popupClassname:c.popupClassname,popupKeepOnOutsideClick:c.popupKeepOnOutsideClick,popupBodyContent:c.popupComponent?e=>n.createElement(d.c,{loader:c.popupComponent,responses:f,k8sResult:h,hide:e}):void 0})}),k=({subsystem:e,namespace:t})=>{const{t:a}=Object(i.useTranslation)(),{title:s,resources:r,healthHandler:o,popupComponent:c,popupTitle:u}=e,m=n.useMemo(()=>Object.assign(Object.assign({},r),r.imageManifestVuln&&{imageManifestVuln:Object.assign(Object.assign({},r.imageManifestVuln),{namespace:t})}),[r,t]),b=Object(p.b)(m),v=o(b,a);return n.createElement(l.default,{title:s,state:v.state,details:v.message,popupTitle:u},c&&b&&n.createElement(d.c,Object.assign({loader:c},b,{namespace:t})))}},5744:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c}));var n,i=a(550);!function(e){e.CPU_USAGE="CPU_USAGE",e.CPU_REQUESTS="CPU_REQUESTS",e.MEMORY_USAGE="MEMORY_USAGE",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.POD_COUNT="POD_COUNT",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_FILESYSTEM="PODS_BY_FILESYSTEM",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.FILESYSTEM_USAGE="FILESYSTEM_USAGE",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION"}(n||(n={}));const s={[n.CPU_USAGE]:i.a("namespace:container_cpu_usage:sum{namespace='<%= project %>'}"),[n.CPU_REQUESTS]:i.a('sum(kube_pod_resource_request{resource="cpu", namespace="<%= project %>"}) by (namespace)'),[n.MEMORY_USAGE]:i.a('sum(container_memory_working_set_bytes{namespace=\'<%= project %>\',container="",pod!=""}) BY (namespace)'),[n.MEMORY_REQUESTS]:i.a('sum(kube_pod_resource_request{resource="memory", namespace="<%= project %>"}) by (namespace)'),[n.POD_COUNT]:i.a("count(kube_running_pod_ready{namespace='<%= project %>'}) BY (namespace)"),[n.FILESYSTEM_USAGE]:i.a('sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (namespace)'),[n.NETWORK_IN_UTILIZATION]:i.a('sum(rate(container_network_receive_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)'),[n.NETWORK_OUT_UTILIZATION]:i.a('sum(rate(container_network_transmit_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)')},r={[n.PODS_BY_CPU]:i.a('topk(25, sort_desc(sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_MEMORY]:i.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[n.PODS_BY_FILESYSTEM]:i.a('topk(25, sort_desc(sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (pod, namespace)))'),[n.PODS_BY_NETWORK_IN]:i.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))'),[n.PODS_BY_NETWORK_OUT]:i.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))')},l=e=>({[n.NETWORK_UTILIZATION]:[{query:s[n.NETWORK_IN_UTILIZATION]({project:e}),desc:"in"},{query:s[n.NETWORK_OUT_UTILIZATION]({project:e}),desc:"out"}]}),o=e=>({[n.CPU_USAGE]:s[n.CPU_USAGE]({project:e}),[n.CPU_REQUESTS]:s[n.CPU_REQUESTS]({project:e}),[n.MEMORY_USAGE]:s[n.MEMORY_USAGE]({project:e}),[n.MEMORY_REQUESTS]:s[n.MEMORY_REQUESTS]({project:e}),[n.POD_COUNT]:s[n.POD_COUNT]({project:e}),[n.FILESYSTEM_USAGE]:s[n.FILESYSTEM_USAGE]({project:e})}),c=e=>({[n.PODS_BY_CPU]:r[n.PODS_BY_CPU]({project:e}),[n.PODS_BY_MEMORY]:r[n.PODS_BY_MEMORY]({project:e}),[n.PODS_BY_FILESYSTEM]:r[n.PODS_BY_FILESYSTEM]({project:e}),[n.PODS_BY_NETWORK_IN]:r[n.PODS_BY_NETWORK_IN]({project:e}),[n.PODS_BY_NETWORK_OUT]:r[n.PODS_BY_NETWORK_OUT]({project:e})})},5745:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c}));var n,i=a(550);!function(e){e.MEMORY_TOTAL="MEMORY_TOTAL",e.MEMORY_UTILIZATION="MEMORY_UTILIZATION",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.CPU_UTILIZATION="CPU_UTILIZATION",e.CPU_TOTAL="CPU_TOTAL",e.CPU_REQUESTS="CPU_REQUESTS",e.STORAGE_UTILIZATION="STORAGE_UTILIZATION",e.STORAGE_TOTAL="STORAGE_TOTAL",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_STORAGE="PODS_BY_STORAGE",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.NODES_BY_CPU="NODES_BY_CPU",e.NODES_BY_MEMORY="NODES_BY_MEMORY",e.NODES_BY_STORAGE="NODES_BY_STORAGE",e.NODES_BY_NETWORK_IN="NODES_BY_NETWORK_IN",e.NODES_BY_NETWORK_OUT="NODES_BY_NETWORK_OUT",e.NODES_BY_PODS="NODES_BY_PODS",e.PROJECTS_BY_CPU="PROJECTS_BY_CPU",e.PROJECTS_BY_MEMORY="PROJECTS_BY_MEMORY",e.PROJECTS_BY_STORAGE="PROJECTS_BY_STORAGE",e.PROJECTS_BY_NETWORK_IN="PROJECTS_BY_NETWORK_IN",e.PROJECTS_BY_NETWORK_OUT="PROJECTS_BY_NETWORK_OUT",e.PROJECTS_BY_PODS="PROJECTS_BY_PODS",e.POD_UTILIZATION="POD_UTILIZATION"}(n||(n={}));const s={[n.PODS_BY_CPU]:i.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_MEMORY]:i.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_STORAGE]:i.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_NETWORK_IN]:i.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.PODS_BY_NETWORK_OUT]:i.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.NODES_BY_CPU]:i.a('\n      topk(25, sort_desc(\n        avg_over_time(instance:node_cpu:rate:sum[5m])\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_MEMORY]:i.a('\n      topk(25, sort_desc(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_STORAGE]:i.a('\n      topk(25, sort_desc(\n        (\n          sum by (instance) (max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"}))\n          -\n          sum by (instance) (max by (device, instance) (node_filesystem_avail_bytes{device=~"/.*"}))\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_PODS]:i.a('\n      topk(25, sort_desc(\n        sum(avg_over_time(kubelet_running_pods[5m])) BY (node)\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[n.NODES_BY_NETWORK_IN]:i.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_receive_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.NODES_BY_NETWORK_OUT]:i.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_transmit_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[n.PROJECTS_BY_CPU]:i.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_MEMORY]:i.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_STORAGE]:i.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_PODS]:i.a('\n      topk(25, sort_desc(\n        count by (namespace) (\n            topk without(uid) (1, kube_running_pod_ready)\n            *\n            ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n          *\n          on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"})))\n        ))\n    '),[n.PROJECTS_BY_NETWORK_IN]:i.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[n.PROJECTS_BY_NETWORK_OUT]:i.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    ')},r={[n.MEMORY_TOTAL]:i.a('\n      sum(\n        node_memory_MemTotal_bytes\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.MEMORY_UTILIZATION]:i.a('\n      sum(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.MEMORY_REQUESTS]:i.a('\n      sum(\n        kube_pod_resource_request{resource="memory"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.NETWORK_UTILIZATION]:i.a('\n      sum(\n        (\n          instance:node_network_transmit_bytes_excluding_lo:rate1m\n          +\n          instance:node_network_receive_bytes_excluding_lo:rate1m\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.CPU_UTILIZATION]:i.a('\n      sum(\n        1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~"idle|iowait|steal"}[2m]))\n        *\n        on(instance) group_left() (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node","(.*)")\n        )\n      )\n    '),[n.CPU_TOTAL]:i.a('\n      sum(\n        kube_node_status_capacity{resource="cpu",unit="core"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.CPU_REQUESTS]:i.a('\n      sum(\n        kube_pod_resource_request{resource="cpu"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[n.STORAGE_UTILIZATION]:i.a('\n      sum(\n        (\n          max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n          -\n          max by (device, instance) (node_filesystem_free_bytes{device=~"/.*"})\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.STORAGE_TOTAL]:i.a('\n      sum(\n        max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.POD_UTILIZATION]:i.a('\n      count(\n        (\n          topk without(uid) (1, kube_running_pod_ready)\n          *\n          ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n        )\n        *\n        on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      )\n    '),[n.NETWORK_IN_UTILIZATION]:i.a('\n      sum(\n        instance:node_network_receive_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[n.NETWORK_OUT_UTILIZATION]:i.a('\n      sum(\n        instance:node_network_transmit_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    ')},l=e=>({[n.NETWORK_UTILIZATION]:[{query:r[n.NETWORK_IN_UTILIZATION]({nodeType:e}),desc:"in"},{query:r[n.NETWORK_OUT_UTILIZATION]({nodeType:e}),desc:"out"}]}),o=e=>({[n.PODS_BY_CPU]:s[n.PODS_BY_CPU]({nodeType:e}),[n.PODS_BY_MEMORY]:s[n.PODS_BY_MEMORY]({nodeType:e}),[n.PODS_BY_STORAGE]:s[n.PODS_BY_STORAGE]({nodeType:e}),[n.PODS_BY_NETWORK_IN]:s[n.PODS_BY_NETWORK_IN]({nodeType:e}),[n.PODS_BY_NETWORK_OUT]:s[n.PODS_BY_NETWORK_OUT]({nodeType:e}),[n.NODES_BY_CPU]:s[n.NODES_BY_CPU]({nodeType:e}),[n.NODES_BY_MEMORY]:s[n.NODES_BY_MEMORY]({nodeType:e}),[n.NODES_BY_STORAGE]:s[n.NODES_BY_STORAGE]({nodeType:e}),[n.NODES_BY_PODS]:s[n.NODES_BY_PODS]({nodeType:e}),[n.NODES_BY_NETWORK_IN]:s[n.NODES_BY_NETWORK_IN]({nodeType:e}),[n.NODES_BY_NETWORK_OUT]:s[n.NODES_BY_NETWORK_OUT]({nodeType:e}),[n.PROJECTS_BY_CPU]:s[n.PROJECTS_BY_CPU]({nodeType:e}),[n.PROJECTS_BY_MEMORY]:s[n.PROJECTS_BY_MEMORY]({nodeType:e}),[n.PROJECTS_BY_STORAGE]:s[n.PROJECTS_BY_STORAGE]({nodeType:e}),[n.PROJECTS_BY_PODS]:s[n.PROJECTS_BY_PODS]({nodeType:e}),[n.PROJECTS_BY_NETWORK_IN]:s[n.PROJECTS_BY_NETWORK_IN]({nodeType:e}),[n.PROJECTS_BY_NETWORK_OUT]:s[n.PROJECTS_BY_NETWORK_OUT]({nodeType:e})}),c=e=>({[n.CPU_UTILIZATION]:{utilization:r[n.CPU_UTILIZATION]({nodeType:e}),total:r[n.CPU_TOTAL]({nodeType:e}),requests:r[n.CPU_REQUESTS]({nodeType:e})},[n.MEMORY_UTILIZATION]:{utilization:r[n.MEMORY_UTILIZATION]({nodeType:e}),total:r[n.MEMORY_TOTAL]({nodeType:e}),requests:r[n.MEMORY_REQUESTS]({nodeType:e})},[n.STORAGE_UTILIZATION]:{utilization:r[n.STORAGE_UTILIZATION]({nodeType:e}),total:r[n.STORAGE_TOTAL]({nodeType:e})},[n.POD_UTILIZATION]:{utilization:r[n.POD_UTILIZATION]({nodeType:e})}})},5746:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5807),r=a(5674);a(5712);t.a=({resourceQuota:e})=>{var t,a;const{t:l}=Object(i.useTranslation)(),o=Object.keys(null!==(a=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==a?a:{}).map(t=>{var a;const i=e.status.hard[t],l=null===(a=e.status.used)||void 0===a?void 0:a[t],{label:o,percent:c}=Object(r.a)({resourceName:t,used:l,hard:i});return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(s.b,{data:{x:c+"%",y:c},thresholds:[{value:90},{value:101}],title:t,label:o}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},o.length?o:n.createElement(n.Fragment,null,l("console-app~No quota")))}},5747:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5748),r=a(5674);a(5712);t.a=({appliedClusterResourceQuota:e,namespace:t})=>{var a,l,o,c;const{t:u}=Object(i.useTranslation)(),d=null===(l=null===(a=e.status)||void 0===a?void 0:a.namespaces)||void 0===l?void 0:l.find(e=>e.namespace===t),p=Object.keys(null!==(c=null===(o=null==d?void 0:d.status)||void 0===o?void 0:o.hard)&&void 0!==c?c:{}).map(t=>{var a,i,l,o,c;const u=null===(i=null===(a=e.status.total)||void 0===a?void 0:a.hard)||void 0===i?void 0:i[t],p=null===(o=null===(l=e.status.total)||void 0===l?void 0:l.used)||void 0===o?void 0:o[t],m=null===(c=d.status.used)||void 0===c?void 0:c[t],b=Object(r.b)(u,p),v=100-b,{label:g,percent:f}=Object(r.a)({resourceName:t,used:m,hard:u}),h=b-f;return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(s.a,{data:[{x:"Namespace",y:f},{x:"Other namespaces",y:h},{x:"Unused",y:v}],title:t,label:g}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},p.length?p:n.createElement(n.Fragment,null,u("console-app~No quota")))}},5748:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),i=a(2232),s=a(6044),r=a(6045),l=a(6046),o=a(6047),c=a(6048),u=a(18),d=a.n(u),p=a(7),m=a(1943),b=a(5);const v=({data:e,query:t="",title:a,ariaChartLinkLabel:u,ariaChartTitle:v,ariaDescription:g,usedLabel:f,label:h,secondaryTitle:E,className:O})=>{var y;const{t:k}=Object(p.useTranslation)(),[j,T]=Object(b.Ic)(),R=f||k("public~used"),_=E||R,S=h||k("No data"),N=e.filter(e=>"Namespace"===e.x);return n.createElement(m.a,{className:d()("graph-wrapper--title-center graph-wrapper--gauge",O),ref:j,title:a},n.createElement(m.b,{query:t,ariaChartLinkLabel:u},n.createElement(i.a,{ariaTitle:v||a,ariaDesc:g,data:e,height:T,padding:0,labels:({datum:{x:e,y:t}})=>k("public~{{x}}: {{y}}%",{x:e,y:t}),width:T,subTitle:_,colorScale:100===(null===(y=N[0])||void 0===y?void 0:y.y)?[s.a.value,r.a.value,l.a.value]:[o.a.value,c.a.value,l.a.value],title:S})))}},5749:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5674),r=a(119);a(5869);t.a=({hard:e,used:t})=>{const{t:a}=Object(i.useTranslation)(),l=Object.keys(e||{}).reduce((a,n)=>Object(s.b)(e[n],null==t?void 0:t[n])>=100?a+1:a,0);return n.createElement("div",{className:"co-resource-quota__summary"},a("console-shared~{{count}} resource",{count:Object.keys(e||{}).length}),", ",l>0?n.createElement(n.Fragment,null,n.createElement(r.m,null)," ",a("console-shared~{{count}} resource reached quota",{count:l})):a("console-shared~none are at quota"))}},5760:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return b}));var n=a(7134),i=a(2328),s=a(7116),r=a(50),l=a(10),o=a(8),c=a(1415),u=a(5586),d=a(5687);const p=e=>n.a(e,e=>i.a(e)||s.a(e)||""===e),m=(e,t,a,n)=>{const i=`${t}-${Object(c.d)(6)}`,s={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:i,namespace:a},spec:Object.assign({type:t,params:Object(d.a)(p(e))},n&&{secrets:r.a(n.data,(e,t)=>({fieldName:t,secretKey:t,secretName:n.metadata.name}))})};return Object(o.jb)(u.PipelineResourceModel,s)},b=(e,t,a)=>{const n={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:a},stringData:p(e)};return Object(o.jb)(l.SecretModel,n)}},5774:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(1401),r=a(5730);const l="SvgTypedIconDropShadowFilterId";t.a=n.forwardRef(({className:e,x:t,y:a,width:o,height:c,iconClass:u,icon:d,padding:p=4},m)=>{const[b,v]=Object(i.useSize)([]);let g=0,f=0;return b&&({width:g,height:f}=b),n.createElement("g",{className:e},n.createElement(r.a,{id:l}),n.createElement("circle",{key:"circle-"+l,ref:m,filter:Object(i.createSvgIdUrl)(l),cx:t-g/2,cy:a+f/2,r:g/2+p}),d?n.createElement("g",{ref:v},n.createElement("foreignObject",{key:"image-"+l,x:t-g+4,y:a,width:o,height:c},d)):n.createElement("g",{ref:v},n.createElement("image",{key:"image-"+l,x:t-g,y:a,width:o,height:c,xlinkHref:Object(s.d)(u)||u,filter:Object(i.createSvgIdUrl)(l)})))})},5781:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return E}));var n=a(0),i=a(4436),s=a(655),r=a(313),l=a(367),o=a(50),c=a(599),u=a(5797),d=a(5804),p=a(7),m=a(99),b=a(693),v=a(139);const g=(e,t)=>`${e}:${t}`,f=({tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:s})=>{const r=i.a(e.dockerImageReference,"@");return n.createElement(n.Fragment,null,n.createElement("li",null,n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},n.createElement(u.a,null)),n.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},n.createElement(b.Timestamp,{timestamp:e.created,simple:!0}))),n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__line"}),n.createElement("div",{className:"co-images-stream-tag-timeline__info"},n.createElement(m.ResourceLink,{kind:"ImageStreamTag",name:g(t,e.tag),namespace:a,title:e.tag,linkTo:s}),n.createElement("div",{className:"co-break-all"},"from ",r[0]),n.createElement("div",{className:"co-break-all"},r[1])))))},h=(e,t,a)=>t===s.a(a,t=>t.tag===e),E=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:a})=>{const{t:i}=Object(p.useTranslation)();if(!r.a(e,"items"))return n.createElement(v.c,{label:i("public~Images")});const s=l.a(o.a(e,({tag:e,items:t})=>o.a(t,({created:t,dockerImageReference:a})=>({tag:e,created:t,dockerImageReference:a})))),u=c.a(s,["created"],["desc"]),m=o.a(u,(e,i)=>n.createElement(f,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:h(e.tag,i,u)}));return n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-images-stream-tag-timeline"},m,n.createElement("div",null,n.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},n.createElement(d.a,null)))))}},5784:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);const i=n.createContext({infrastructureLoaded:!0,infrastructureError:null})},5788:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(15),i=a(5705);const s=e=>e?null:Object(n.Ec)(n.m.TECH),r=e=>{const t=Object(i.h)(e);return t?s(Object(i.b)(t)):null},l=e=>{const t=Object(i.h)(e);return t?s(Object(i.c)(t)):null}},5790:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r}));var n=a(5724);const i=(e,t)=>{switch(e){case n.a.ReadinessProbe:return{formTitle:t("devconsole~Readiness probe"),formSubtitle:t("devconsole~A readiness probe checks if the Container is ready to handle requests. A failed readiness probe means that a Container should not receive any traffic from a proxy, even if it's running.")};case n.a.LivenessProbe:return{formTitle:t("devconsole~Liveness probe"),formSubtitle:t("devconsole~A liveness probe checks if the Container is still running. If the liveness probe fails the Container is killed.")};case n.a.StartupProbe:return{formTitle:t("devconsole~Startup probe"),formSubtitle:t("devconsole~A startup probe checks if the application within the Container is started. If the startup probe fails the Container is killed.")};default:return}},s={showForm:!1,enabled:!1,modified:!1,data:{failureThreshold:"3",requestType:n.b.HTTPGET,httpGet:{scheme:void 0,path:"/",port:"8080",httpHeaders:[]},tcpSocket:{port:"8080"},exec:{command:[""]},initialDelaySeconds:"0",periodSeconds:"10",timeoutSeconds:"1",successThreshold:"1"}},r={readinessProbe:s,livenessProbe:s,startupProbe:s}},5791:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),i=a(363),s=a(7),r=a(14),l=a(1409),o=a(52),c=a(2229);a(5792);const u=({resources:e,getOperatorsWithStatuses:t,title:a,linkTo:u,Row:d,Component:p,isResolved:m})=>{const{t:b}=Object(s.useTranslation)(),v=i.a(e).some(e=>e.loadError),g=t(e),f=Object(l.a)(g).sort((e,t)=>e.operators[0].metadata.name.localeCompare(t.operators[0].metadata.name)),h=f.every(e=>e.status.health===o.a.OK),E=n.useCallback(()=>n.createElement("div",{className:"co-status__operator-skeleton"}),[]);return g.length?n.createElement(c.StatusPopupSection,{firstColumn:n.createElement(n.Fragment,null,n.createElement("span",null,a),n.createElement("span",{className:"text-secondary co-status__operator-detail"}," ",b("console-shared~({{operatorStatusLength}} installed)",{operatorStatusLength:g.length}))),secondColumn:b("console-shared~Status")},v?n.createElement("div",{className:"text-secondary"},b("console-shared~Not available")):!h&&f.map(e=>n.createElement(d,{key:e.operators[0].metadata.uid,Component:p,operatorStatus:e,LoadingComponent:E,isResolved:m})),n.createElement(c.default,{value:b("console-shared~All {{status}}",{status:g[0].status.title.toLowerCase()}),icon:g[0].status.icon},n.createElement(r.Link,{to:u},b("console-shared~View all")))):null}},5792:function(e,t,a){},5793:function(e,t,a){"use strict";a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return N}));var n=a(0),i=a(22),s=a(31),r=a(14),l=a(7),o=a(69),c=a(13),u=a(192),d=a(434),p=a(295),m=a(5387),b=a(5388),v=a(15),g=a(4375),f=a(4364),h=a(4376),E=a(58),O=a(8),y=a(10),k=a(5738),j=a(108),T=a(206),R=a(1417);const _={kind:Object(O.Hb)(y.ClusterVersionModel),namespaced:!1,name:"version",isList:!1},S=({labelSelector:e})=>{const{t:t}=Object(l.useTranslation)(),a=Object(T.a)(v.O.CLUSTER_VERSION),[s,,o]=Object(R.a)(e),[c,u]=Object(j.a)(a?_:{}),d=Object(v.we)()&&a&&u&&Object(O.db)(c)&&!e;return n.createElement(g.default,{error:!i.a(o)},d&&n.createElement(h.StatusItem,{key:"clusterUpdate",Icon:v.n,message:t("public~A cluster version update is available")},n.createElement(r.Link,{to:"/settings/cluster?showVersions"},t("public~Update cluster"))),s.map(e=>n.createElement(h.default,{key:Object(E.h)(e,e.rule.id),alert:e})))},N=Object(s.connect)(e=>({k8sModels:e.k8s.getIn(["RESOURCES","models"])}))(({k8sModels:e})=>{const t=Object(o.z)(o.f),[a]=Object(c.kc)(c.gb),i=n.useMemo(()=>((e,t)=>e.filter(e=>{if(Object(o.g)(e)||Object(o.d)(e)||Object(c.hb)(e)||Object(c.fb)(e)){const a=e;return!(a.properties.additionalResource&&!a.properties.additionalResource.optional)||!!t.get(a.properties.additionalResource.kind)}return!0}))([...t,...a],e).map(e=>{if(Object(c.Kb)(e)||Object(c.Ib)(e)||Object(c.Jb)(e)){const t=e.properties.popupComponent?{popupComponent:()=>Promise.resolve(e.properties.popupComponent)}:{};return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),t)})}return e}),[t,a,e]),s=n.useMemo(()=>i.findIndex(e=>Object(o.c)(e)||Object(c.Hb)(e)),[i]),{t:v}=Object(l.useTranslation)(),g=[];if(i.forEach(t=>{if(Object(o.g)(t)||Object(c.Kb)(t))g.push({title:t.properties.title,Component:n.createElement(k.d,{subsystem:t.properties,models:e})});else if(Object(o.d)(t)||Object(c.Ib)(t)){const{disallowedControlPlaneTopology:a}=t.properties;if((null==a?void 0:a.length)&&a.includes(window.SERVER_FLAGS.controlPlaneTopology))return;g.push({title:t.properties.title,Component:n.createElement(k.b,{subsystem:t.properties,models:e})})}else(Object(o.e)(t)||Object(c.Jb)(t))&&g.push({title:t.properties.title,Component:n.createElement(k.c,{subsystem:t.properties})})}),-1!==s){const e=[],t=[];i.forEach(a=>{Object(c.Hb)(a)?t.push(a.properties):Object(o.c)(a)&&e.push(a.properties)}),g.splice(s,0,{title:"Operators",Component:n.createElement(k.a,{operatorExtensions:e,dynamicOperatorSubsystems:t})})}return n.createElement(u.a,{"data-test-id":"status-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(d.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(r.Link,{to:"/monitoring/alerts","data-test":"status-card-view-alerts"},v("public~View alerts"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(p.a,null,v("public~Status"))),n.createElement(f.default,null,n.createElement(m.a,{className:"co-overview-status__health",hasGutter:!0},g.map(e=>n.createElement(b.a,{key:e.title,"data-test":e.title},e.Component)))),n.createElement(S,null))})},5805:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),i=a(19),s=a(7),r=a(15),l=a(984),o=a(5851),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const u=({openProjectModal:e})=>{const{t:t}=Object(s.useTranslation)(),a=Object(r.Fe)(r.O.CAN_CREATE_NS);return Object(r.Fe)(r.O.CAN_CREATE_PROJECT)?n.createElement(s.Trans,{t:t,ns:"devconsole"}," or ",n.createElement(i.a,{isInline:!0,variant:"link",onClick:e},"create a Project")):a?n.createElement(s.Trans,{t:t,ns:"devconsole"}," or ",n.createElement(i.a,{isInline:!0,variant:"link",onClick:e},"create a Namespace")):null};t.b=e=>{var{onCreate:t,title:a,children:i}=e,s=c(e,["onCreate","title","children"]);const[,u]=Object(r.ue)(),d=Object(l.a)(),p=n.useCallback(()=>{d({onSubmit:e=>{var a;u(null===(a=e.metadata)||void 0===a?void 0:a.name),t&&t(e)}})},[t,u,d]);return n.createElement(o.a,Object.assign({},s,{title:a}),i(p))}},5806:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return I})),a.d(t,"c",(function(){return A}));var n=a(0),i=a(22),s=a(7),r=a(205),l=a(165),o=a(682),c=a(354),u=a(294),d=a(192),p=a(434),m=a(516),b=a(164),v=a(295),g=a(13),f=a(4382),h=a(4365),E=a(762),O=a(5670),y=a(982),k=a(1406),j=a(5745),T=a(10),R=a(517),_=a(108),S=a(8),N=a(4366),P=a(1200),w=a(5856);const C=[w.d,w.e],x=Object(O.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:a,utilizationQuery:i,totalQuery:s,title:r,TopConsumerPopover:l,humanizeValue:o,byteDataType:c,namespace:u,isDisabled:d=!1,limitQuery:p,requestQuery:m,setLimitReqState:b})=>{let v,g,h,E,O,y,j,T,_,S=!1;const{duration:N}=Object(P.useUtilizationDuration)();return n.useEffect(()=>{if(!d)return e(i,u,N),s&&e(s,u),p&&e(p,u,N),m&&e(m,u,N),()=>{t(i,N),s&&t(s),p&&t(p,N),m&&t(m,N)}},[e,t,N,i,s,u,d,p,m]),d||([v,g]=Object(R.b)(a,i,N),[h,E]=Object(R.b)(a,s),[y,j]=Object(R.b)(a,p,N),[T,_]=Object(R.b)(a,m,N),O=Object(k.a)(h),S=!v||s&&!h||p&&!y),n.createElement(f.default,{title:r,utilization:v,limit:y,requested:T,error:g||E||j||_,isLoading:S,humanizeValue:o,byteDataType:c,query:[i,p,m],max:O&&O.length?O[0].y:null,TopConsumerPopover:l,setLimitReqState:b})}),I=Object(O.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:a,queries:i,title:s,TopConsumerPopovers:r,humanizeValue:l,byteDataType:o,namespace:c,isDisabled:u=!1})=>{const{duration:d}=Object(P.useUtilizationDuration)();n.useEffect(()=>{if(!u)return i.forEach(t=>e(t.query,c,d)),()=>{i.forEach(e=>t(e.query,d))}},[e,t,d,i,c,u]);const p=[];let m=!1,b=!1;return u||i.forEach(e=>{var t;const[n,i]=Object(R.b)(a,e.query,d);return i?(m=!0,!1):n?void p.push((null===(t=Object(k.b)(n,e.desc,null,f.trimSecondsXMutator))||void 0===t?void 0:t[0])||[]):(b=!0,!1)}),n.createElement(f.MultilineUtilizationItem,{title:s,data:p,error:m,isLoading:b,humanizeValue:l,byteDataType:o,queries:i,TopConsumerPopovers:r})}),L=({machineConfigPools:e,onNodeSelect:t,selectedNodes:a})=>{const{t:i}=Object(s.useTranslation)(),[d,p]=n.useState(!1),m=e.sort((e,t)=>{const a=["worker","master"],n=a.indexOf(e.metadata.name),i=a.indexOf(t.metadata.name);return-1===n&&-1===i?e.metadata.name.localeCompare(t.metadata.name):-1===n?1:-1===i?-1:n-i}).map(e=>{const t="master"===e.metadata.name?"control plane":e.metadata.name;return n.createElement(r.a,{hasCheckbox:!0,key:e.metadata.name,value:t,isSelected:a.includes(e.metadata.name)},t)});return n.createElement(c.a,{role:"menu","aria-label":i("public~Filter by Node type"),onSelect:t,isOpen:d,selected:a,onOpenChange:e=>p(e),toggle:e=>n.createElement(l.a,{ref:e,onClick:e=>p(e),variant:"plainText"},i("public~Filter by Node type"),a.length>0&&n.createElement(o.a,{className:"pf-v5-u-ml-sm",isRead:!0},a.length))},n.createElement(u.a,null,m))},A=()=>{const{t:e}=Object(s.useTranslation)(),[t,a]=Object(_.a)({isList:!0,kind:Object(S.Hb)(T.MachineConfigPoolModel)}),[r,l]=n.useState([]),[o]=Object(g.kc)(g.Y),[c]=Object(g.kc)(g.X),u=i.a(r)?".+":r.join("|"),[f,O]=n.useMemo(()=>[Object(j.d)(u),Object(j.b)(u)],[u]);return a&&n.createElement(d.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},n.createElement(p.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(m.a,null,n.createElement(b.a,null,n.createElement(L,{machineConfigPools:t,onNodeSelect:(e,t)=>{const a="control plane"===t?"master":t;r.includes(a)?l(r.filter(e=>e!==a)):l([...r,a])},selectedNodes:r})),n.createElement(b.a,null,n.createElement(N.UtilizationDurationDropdown,null)))),hasNoOffset:!1,className:void 0}},n.createElement(v.a,{"data-test":"utilization-card__title"},e("public~Cluster utilization"))),n.createElement(h.default,null,n.createElement(w.b.Provider,{value:u},n.createElement(x,{title:e("public~CPU"),utilizationQuery:f[j.a.CPU_UTILIZATION].utilization,totalQuery:f[j.a.CPU_UTILIZATION].total,requestQuery:f[j.a.CPU_UTILIZATION].requests,TopConsumerPopover:w.a,humanizeValue:y.h}),n.createElement(x,{title:e("public~Memory"),utilizationQuery:f[j.a.MEMORY_UTILIZATION].utilization,totalQuery:f[j.a.MEMORY_UTILIZATION].total,requestQuery:f[j.a.MEMORY_UTILIZATION].requests,TopConsumerPopover:w.c,humanizeValue:y.f,byteDataType:E.a.BinaryBytes}),n.createElement(x,{title:e("public~Filesystem"),utilizationQuery:f[j.a.STORAGE_UTILIZATION].utilization,totalQuery:f[j.a.STORAGE_UTILIZATION].total,TopConsumerPopover:w.g,humanizeValue:y.f,byteDataType:E.a.BinaryBytes}),n.createElement(I,{title:e("public~Network transfer"),queries:O[j.a.NETWORK_UTILIZATION],humanizeValue:y.j,TopConsumerPopovers:C}),n.createElement(x,{title:e("public~Pod count"),utilizationQuery:f[j.a.POD_UTILIZATION].utilization,TopConsumerPopover:w.f,humanizeValue:y.k}),o.map(({uid:e,properties:t})=>{var a,i,s;return n.createElement(x,{key:e,title:t.title,utilizationQuery:t.getUtilizationQuery(r),totalQuery:null===(a=t.getTotalQuery)||void 0===a?void 0:a.call(t,r),humanizeValue:t.humanize,TopConsumerPopover:t.TopConsumerPopover,requestQuery:null===(i=t.getRequestQuery)||void 0===i?void 0:i.call(t,r),limitQuery:null===(s=t.getLimitQuery)||void 0===s?void 0:s.call(t,r)})}),c.map(({uid:e,properties:t})=>n.createElement(I,{key:e,title:t.title,queries:t.getUtilizationQueries(r),humanizeValue:t.humanize,TopConsumerPopovers:t.TopConsumerPopovers})))))}},5807:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return f}));var n=a(0),i=a(515),s=a(6028),r=a(6029),l=a(18),o=a.n(l),c=a(7),u=a(1943),d=a(1197),p=a(436),m=a(5),b=a(1406);const v=[{value:67},{value:92}],g=({data:e,error:t,humanize:a=m.ec,invert:l=!1,loading:d,query:p="",remainderLabel:b,themeColor:g=i.a.green,thresholds:f=v,title:h,ariaChartLinkLabel:E,ariaChartTitle:O,usedLabel:y,label:k,secondaryTitle:j,className:T})=>{const{t:R}=Object(c.useTranslation)(),[_,S]=Object(m.Ic)(),N=!t&&!d,P=d?R("Loading"):t,w=y||R("public~used"),C=j||w,x=k||(e?a(e.y).string:void 0)||R("No data");return n.createElement(u.a,{className:o()("graph-wrapper--title-center graph-wrapper--gauge",T),ref:_,title:h},n.createElement(u.b,{query:p,ariaChartLinkLabel:E},n.createElement(s.a,{ariaTitle:O||h,data:f,height:S,padding:0,width:S,y:"value"},n.createElement(r.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${w}`:`${t} ${b||R("available")}`,data:N?e:{y:0},invert:l,padding:0,subTitle:N?C:"",themeColor:g,thresholds:f,title:P||x}))))},f=({humanize:e=m.ec,invert:t,namespace:a,percent:i=0,query:s,remainderLabel:r,secondaryTitle:l,thresholds:o,title:u,usedLabel:v})=>{const{t:f}=Object(c.useTranslation)(),[h,E,O]=Object(d.usePrometheusPoll)({endpoint:p.a.QUERY,namespace:a,query:s}),[y]=h?Object(b.a)(h,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(i).string,y:i}];return n.createElement(g,{data:y,error:!!E&&f("No data"),invert:t,label:y.x,loading:O,query:s,remainderLabel:r,secondaryTitle:l,thresholds:o,title:u,usedLabel:v})}},5828:function(e,t,a){},5834:function(e,t,a){"use strict";a.d(t,"d",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return k})),a.d(t,"a",(function(){return j})),a.d(t,"m",(function(){return R})),a.d(t,"o",(function(){return _})),a.d(t,"e",(function(){return S})),a.d(t,"f",(function(){return N})),a.d(t,"g",(function(){return P})),a.d(t,"i",(function(){return w})),a.d(t,"h",(function(){return A})),a.d(t,"n",(function(){return M})),a.d(t,"j",(function(){return F})),a.d(t,"l",(function(){return U})),a.d(t,"k",(function(){return B}));var n=a(5654),i=a(5585),s=a(367),r=a(547),l=a(926),o=a(4425),c=a(359),u=a(5595),d=a(5635),p=a(5623),m=a(5676),b=a(6284);const v=(e,t,a)=>(n,i)=>Object.assign(Object.assign({id:n,label:(null==i?void 0:i.label)||n,runAfterTasks:(null==i?void 0:i.runAfterTasks)||[]},i&&{data:i}),{height:null!=a?a:m.u,width:null!=t?t:m.x,type:e}),g=v(m.y.TASK_NODE),f=v(m.y.CUSTOM_TASK_NODE),h=v(m.y.SPACER_NODE,0),E=v(m.y.TASK_LIST_NODE),O=v(m.y.INVALID_TASK_LIST_NODE),y=v(m.y.BUILDER_NODE),k=v(m.y.LOADING_NODE),j=(e,t)=>v(m.y.BUILDER_FINALLY_NODE,t,e),T=(e,t)=>v(e,t.width,t.height)(t.id,t),R=e=>{const t=e.reduce((e,t,a)=>{const{data:{task:{runAfter:n}}}=t;if(n&&n.length>1){const i=[...n].sort((e,t)=>e.localeCompare(t)).reduce((e,t)=>`${e}|${t}`);Array.isArray(e[i])||(e[i]=[]),e[i].push({node:t,runAfter:n,atIndex:a})}return e},{}),a=Object.values(t).filter(e=>e.length>1);if(0===a.length)return e;const n=[],i={};return a.forEach(e=>{const{runAfter:t}=e[0],a=e.map(e=>e.node.id),s="parallel-"+a.join("-");a.forEach(e=>{Array.isArray(i[e])||(i[e]=[]),i[e].push(s)}),n.push(h(s,{task:{name:s,runAfter:t}}))}),e.forEach(e=>{const t=i[e.id];if(t&&t.length>0){const{data:{task:a},type:i}=e,s=(e=>{switch(e){case m.y.TASK_LIST_NODE:return E;case m.y.BUILDER_NODE:return y;case m.y.SPACER_NODE:return h;case m.y.LOADING_NODE:return k;case m.y.INVALID_TASK_LIST_NODE:return O;case m.y.CUSTOM_TASK_NODE:return f;case m.y.TASK_NODE:default:return g}})(i);n.push(s(e.id,Object.assign(Object.assign({},e.data),{task:Object.assign(Object.assign({},a),{runAfter:t})})))}else n.push(e)}),n},_=(e,t,a,n,i)=>e.map((e,s)=>y(e.name,{error:n(s),task:e,selected:i.includes(e.name),onNodeSelection:()=>{a(e)},onAddNode:a=>{t(e,a)}})),S=e=>s.a(e.map(e=>{const{data:{task:{name:t,runAfter:a=[]}}}=e;return 0===a.length?null:a.map(e=>({id:`${e}~to~${t}`,type:"edge",source:e,target:t}))})).filter(e=>!!e),N=(e,t)=>e*m.u+(e-1)*m.r+(t?0:m.u+m.r)+2*m.q,P=e=>{const t=e>0?m.B:0;return m.x+2*m.q+t},w=e=>{const t=r.a(e.reduce((e,{data:{task:{runAfter:t}}})=>t?e.concat(t):e,[]));return l.a(e.map(e=>e.id),t)},C=(e,t="0.8rem RedHatText")=>{if(!e||0===e.length)return 0;const a=document.createElement("canvas").getContext("2d");if(!a)return e.length;a.font=t;const{width:n}=a.measureText(e);return n},x=e=>{const t=/(?:(?:\$\(tasks.))([a-z0-9_-]+)(?:.results+)(?:[.^\w]+\))/g;let a;const n=[];for(;null!==(a=t.exec(e));)a.index===t.lastIndex&&t.lastIndex++,a&&(n.includes(a[1])||n.push(a[1]));return n},I=e=>Object.assign(Object.assign({},e),{height:1,width:1}),L=e=>{var t;if(e.when)return(e=>{switch(e){case i.RunStatus.Succeeded:case i.RunStatus.Failed:return i.WhenStatus.Met;case i.RunStatus.Skipped:case i.RunStatus["In Progress"]:case i.RunStatus.Idle:return i.WhenStatus.Unmet;default:return}})(null===(t=e.status)||void 0===t?void 0:t.reason)},A=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},a)=>{var n,l;if(!e)return null;const c=s.a(Object(p.p)(e,t,a)),u=new b.a;null==c||c.forEach(e=>{u.addEdges(e.name,e,"",e.runAfter||[])});const d=[],v={};u.topologicalSort(e=>{v[e.level]?v[e.level]=Math.max(v[e.level],C(e.name)):v[e.level]=C(e.name)}),u.topologicalSort(a=>{var n,s,l,c,p;const b=[],g=a.data,f=[];g.params&&g.params.forEach(e=>{Array.isArray(e.value)?e.value.forEach(e=>{f.push(...x(e))}):f.push(...x(e.value))}),(null==g?void 0:g.when)&&g.when.forEach(({input:e,values:t})=>{t&&(f.push(...x(e)),t.forEach(e=>{f.push(...x(e))}))});const h=r.a([...a.dependancyNames]);if(h&&h.forEach(e=>{var t;const n=u.vertices.get(e);(n.level-a.level<=1||(null===(t=a.data.runAfter)||void 0===t?void 0:t.includes(n.name)))&&b.push(e)}),f.length>0){const e=f.map(e=>u.vertices.get(e)),t=o.a(e,e=>e.level);e.filter(e=>e.level===t.level).forEach(e=>{a.dependancyNames.includes(e.name)&&(e.level-a.level<=1||0===a.dependancyNames.length)&&b.push(e.name)})}const E=(null===(n=Object.keys(t.spec))||void 0===n?void 0:n.length)>0?m.i:0,O=null===(l=null===(s=null==t?void 0:t.status)||void 0===s?void 0:s.skippedTasks)||void 0===l?void 0:l.some(e=>e.name===g.name);var y;d.push(T((y=null===(c=null==g?void 0:g.taskRef)||void 0===c?void 0:c.kind)&&"Task"!==y&&"ClusterTask"!==y?m.y.CUSTOM_TASK_NODE:m.y.TASK_NODE,{id:a.name,label:a.name,width:v[a.level]+2*m.v+m.l+E,runAfterTasks:b,status:O?i.RunStatus.Skipped:null===(p=a.data.status)||void 0===p?void 0:p.reason,whenStatus:L(a.data),task:a.data,pipeline:e,pipelineRun:t}))});const g=Object(p.c)(e,t,a,!0),f=(null===(n=g.sort((e,t)=>t.name.length-e.name.length)[0])||void 0===n?void 0:n.name)||"",h=g.map(a=>{var n,s,r;const l=null===(s=null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.skippedTasks)||void 0===s?void 0:s.some(e=>e.name===a.name);return T(m.y.FINALLY_NODE,{id:a.name,label:a.name,width:C(f)+2*m.v+2*m.j,height:m.k,runAfterTasks:[],status:l?i.RunStatus.Skipped:null===(r=a.status)||void 0===r?void 0:r.reason,whenStatus:L(a),task:a,pipeline:e,pipelineRun:t})}),E=h.length?[{id:"finally-group-id",type:m.y.FINALLY_GROUP,children:h.map(e=>e.id),group:!0,style:{padding:m.j}}]:[],O=Object(i.getSpacerNodes)([...d,...h],m.y.SPACER_NODE,[m.y.FINALLY_NODE]).map(I),y=Object(i.getEdgesFromNodes)([...d,...O,...h],m.y.SPACER_NODE,m.y.EDGE,m.y.EDGE,[m.y.FINALLY_NODE],m.y.EDGE);return{graph:{id:((null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.name)||e.metadata.name)+"-graph",type:i.ModelKind.graph,layout:m.z.DAGRE_VIEWER,scaleExtent:[.5,1]},nodes:[...d,...O,...h,...E],edges:y}},D=e=>{var t;return(null===(t=null==e?void 0:e.when)||void 0===t?void 0:t.length)>0},M=e=>e.some(e=>D(e.data.task)),F=e=>{switch(e){case m.z.DAGRE_BUILDER:return m.e;case m.z.DAGRE_VIEWER:return m.g;case m.z.DAGRE_VIEWER_SPACED:return m.h;case m.z.DAGRE_BUILDER_SPACED:return m.f;default:return null}},U=(e,t,a)=>{let i,s;switch(i=t?e===u.a.Failed?n.chart_color_green_400.value:Object(d.f)(e).pftoken.value:a?"var(--pf-v5-global--BackgroundColor--light-100)":"var(--pf-v5-global--BackgroundColor--200)",e){case u.a.Succeeded:case u.a.Failed:s=c.a.t("pipelines-plugin~When expression was met");break;case u.a.Skipped:s=c.a.t("pipelines-plugin~When expression was not met");break;default:s=c.a.t("pipelines-plugin~When expression")}return{tooltipContent:s,diamondColor:i}},B=e=>{switch(e){case u.a.Succeeded:case u.a.Failed:return c.a.t("pipelines-plugin~When expression was met");case u.a.Skipped:return c.a.t("pipelines-plugin~When expression was not met");default:return c.a.t("pipelines-plugin~When expression")}}},5837:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(8),i=a(5586),s=a(5588),r=a(5760),l=a(5725),o=a(5687),c=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:a}=e,n=a.reduce((e,t,a)=>t.selection===l.a?Object.assign(Object.assign({},e),{[a]:t}):e,{}),i=yield Promise.all(Object.values(n).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:a,secrets:n,type:i}}=e;return n?Object(r.b)(n,i,t).then(e=>Object(r.a)(a,i,t,e)):Object(r.a)(a,i,t)})))(e,t)));if(!i||0===i.length)return e;const s=Object.keys(n);return Object.assign(Object.assign({},e),{resources:a.map((e,t)=>{if(n[t]){const a=s.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:i[a].metadata.name})}return e})})})),d=(e,t,a,r)=>c(void 0,void 0,void 0,(function*(){let l=e;l=yield u(l),l=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==s.x.NoWorkspace)}):e})(l);const c=yield Object(n.jb)(i.PipelineRunModel,Object(o.e)(t,l,a,r));return Promise.resolve(c)}))},5838:function(e,t,a){"use strict";a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return N}));var n=a(0),i=a(137),s=a(116),r=a(16),l=a(22),o=a(240),c=a(7),u=a(13),d=a(694),p=a(4374),m=a(108),b=a(10),v=a(8),g=a(5853),f=a(5854),h=a(5855),E=a(5858),O=a(5859),y=a(5658),k=a(5860),j=a(5864);const T=[{Card:f.a},{Card:h.a},{Card:j.a}],R=[{Card:g.a},{Card:E.a}],_=[{Card:O.a}],S=(e,t)=>s.a(t,t=>{if("NamespaceDashboard"!==t.spec.location)return!1;const a=r.a(t,"spec.namespaceDashboard.namespaces"),n=r.a(t,"spec.namespaceDashboard.namespaceSelector");return!(!l.a(a)||!l.a(n))||(!!o.a(a,e.metadata.name)||!l.a(n)&&new v.e(n).matches(e))}),N=({obj:e})=>{const{t:t}=Object(c.useTranslation)(),[a]=Object(u.jc)(),[s]=Object(m.a)({isList:!0,kind:Object(v.Hb)(b.ConsoleLinkModel),optional:!0}),r=S(e,s),l={obj:e,namespaceLinks:r},o=!!r.length,g=n.useMemo(()=>o?[{Card:k.a},..._]:_,[o]);return n.createElement(n.Fragment,null,"dev"===a&&n.createElement(i.b,null,n.createElement("title",null,t("public~Project overview"))),n.createElement(y.a.Provider,{value:l},n.createElement(d.default,null,n.createElement(p.default,{mainCards:T,leftCards:R,rightCards:g}))))}},5846:function(e,t,a){"use strict";a.d(t,"h",(function(){return g})),a.d(t,"i",(function(){return f})),a.d(t,"j",(function(){return h})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return y})),a.d(t,"g",(function(){return k})),a.d(t,"f",(function(){return j})),a.d(t,"d",(function(){return T})),a.d(t,"e",(function(){return R}));var n=a(14),i=a(13),s=a(436),r=a(108),l=a(763),o=a(10),c=a(8),u=a(15),d=a(5586),p=a(5635),m=a(5623),b=a(5588),v=a(5650);const g=e=>{const t="admin"===Object(i.jc)()[0],a=Object(n.useParams)(),s=Object(n.useLocation)();return Object(u.bf)(e,s,a,"pipelines",Object(m.w)(e),void 0,t)},f=e=>{const t="admin"===Object(i.jc)()[0],a=Object(n.useParams)(),s=Object(n.useLocation)();return Object(u.bf)(e,s,a,"tasks",Object(m.w)(e),void 0,t)},h=e=>{const t="admin"===Object(i.jc)()[0],a=Object(n.useParams)(),s=Object(n.useLocation)();return Object(u.bf)(e,s,a,"triggers",Object(m.w)(e),void 0,t)},E=e=>{const t="admin"===Object(i.jc)()[0]?"pipelines":"dev-pipelines",a=Object(n.useParams)(),s=Object(n.useLocation)();return Object(u.bf)(e,s,a,t,Object(m.w)(e),void 0,!0)},O=(e,t)=>{const a={kind:Object(c.Hb)(d.PipelineRunModel),namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[n,i,s]=Object(r.a)(a),l=Object(p.b)(n,"creationTimestamp");return i&&!s?l:null},y=(e,t)=>{const a={kind:o.PersistentVolumeClaimModel.kind,namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[n,i,s]=Object(r.a)(a);return[!s&&n.length>0?n[0]:null,i]},k=({delay:e,namespace:t,name:a,timespan:n,queryPrefix:i,metricsLevel:r})=>{const o=Object(v.k)(i)[r];return Object(l.useURLPoll)(Object(s.b)({endpoint:s.a.QUERY_RANGE,query:o[v.c.PIPELINE_SUCCESS_RATIO]({name:a,namespace:t}),samples:1,endTime:Date.now(),timespan:n,namespace:t}),e,t,n)},j=({delay:e,namespace:t,name:a,timespan:n,queryPrefix:i,metricsLevel:r})=>{const o=Object(v.k)(i)[r];return Object(l.useURLPoll)(Object(s.b)({endpoint:s.a.QUERY_RANGE,query:o[v.c.PIPELINE_RUN_TASK_RUN_DURATION]({name:a,namespace:t}),samples:b.c,endTime:Date.now(),timespan:n,namespace:t}),e,t,n)},T=({delay:e,namespace:t,name:a,timespan:n,queryPrefix:i,metricsLevel:r})=>{const o=Object(v.k)(i)[r];return Object(l.useURLPoll)(Object(s.b)({endpoint:s.a.QUERY_RANGE,query:o[v.c.PIPELINE_RUN_DURATION]({name:a,namespace:t}),samples:b.c,endTime:Date.now(),timespan:n,namespace:t}),e,t,n)},R=({delay:e,namespace:t,name:a,timespan:n,queryPrefix:i,metricsLevel:r})=>{const o=Object(v.k)(i)[r];return Object(l.useURLPoll)(Object(s.b)({endpoint:s.a.QUERY_RANGE,query:o[v.c.NUMBER_OF_PIPELINE_RUNS]({name:a,namespace:t}),samples:b.c,endTime:Date.now(),timespan:n,namespace:t}),e,t,n)}},5849:function(e,t,a){"use strict";a.d(t,"f",(function(){return D})),a.d(t,"c",(function(){return M})),a.d(t,"a",(function(){return F})),a.d(t,"d",(function(){return U})),a.d(t,"b",(function(){return $})),a.d(t,"e",(function(){return K})),a.d(t,"h",(function(){return G})),a.d(t,"g",(function(){return Y}));var n=a(5596),i=a(599),s=a(22),r=a(117),l=a(225),o=a(16),c=a(313),u=a(5591),d=a(974),p=a(4359),m=a(5),b=a(10),v=a(8),g=a(1402),f=a(5898),h=a(5620),E=a(5850),O=a(5588),y=a(5909),k=a(5944),j=a(5653),T=a(5623),R=a(197),_=a(1941),S=a(5731),N=a(5729),P=a(2221),w=a(761),C=a(5711),x=a(5910),I=a(5723),L=a(5599),A=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const D=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},M=e=>{const t={metadata:{name:e.name},displayName:e.displayName,description:e.description};return Object(v.jb)(b.ProjectRequestModel,t)},F=(e,t,a,n,r="create",l="")=>{var o,c,u,d;const{name:p,project:{name:m},application:{name:g},labels:f,image:{tag:h},labels:E}=e,O="app.kubernetes.io/name",y=null===(o=e.git)||void 0===o?void 0:o.url,k=null===(c=e.git)||void 0===c?void 0:c.ref,j=null===(d=null===(u=null==n?void 0:n.imageStream)||void 0===u?void 0:u.data)||void 0===d?void 0:d.filter(e=>{var t,a;return(null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[O])===(E[O]||p)}),T=i.a(j,["metadata.resourceVersion"],["desc"]),R=T.length&&T[0]||{},_=t&&t.metadata.name,S=Object(C.a)({name:p,applicationName:g,imageStreamName:_,selectedTag:h}),N=Object.assign(Object.assign({},y&&Object(C.c)(y,k)),Object(C.b)()),P="update"!==r||s.a(R)?p:R.metadata.labels[O],w={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:l||P,namespace:m,labels:Object.assign(Object.assign(Object.assign({},S),f),{[O]:P}),annotations:N}},I=Object(C.h)(R,w);return"update"===r&&(I.metadata.name=R.metadata.name),"update"===r?Object(v.rb)(b.ImageStreamModel,I):Object(v.jb)(b.ImageStreamModel,w,a?x.c:{})},U=(e,t,a,n)=>{const{name:i,application:{name:s},project:{name:r},image:{tag:l},labels:o}=e,c=t&&t.metadata.name,u=Object(C.a)({name:i,applicationName:s,imageStreamName:c,selectedTag:l}),d={apiVersion:"v1",data:{},kind:"Secret",metadata:{name:`${i}-${a}-webhook-secret`,namespace:r,labels:Object.assign(Object.assign({},u),o)},stringData:{WebHookSecretKey:D()},type:p.SecretType.opaque};return Object(v.jb)(b.SecretModel,d,n?x.c:{})},B=(e,t,a,n,i="create",r="")=>{var l,o,c;const{name:d,project:{name:p},application:{name:m},git:{url:g,type:f,ref:h="master",dir:E,secret:O},docker:{dockerfilePath:y},image:{tag:k,imageEnv:j},build:{env:T,triggers:R,strategy:_},labels:S}=e,N=t&&t.metadata.name,P=t&&t.metadata.namespace,w=Object(C.a)({name:d,applicationName:m,imageStreamName:N,selectedTag:k}),I=Object.assign(Object.assign({},Object(C.c)(g,h)),Object(C.b)());let A,D=E;const M=j?Object.keys(j):[],F=M.filter(e=>!!j[e]).map(e=>({name:e,value:j[e]})),U=T.filter(e=>!M.includes(e.name));switch(_){case"Devfile":A=(null===(l=null==n?void 0:n.spec)||void 0===l?void 0:l.strategy)||{dockerStrategy:{env:T,dockerfilePath:y}},D=(null===(c=null===(o=null==n?void 0:n.spec)||void 0===o?void 0:o.source)||void 0===c?void 0:c.contextDir)||E;break;case"Docker":A={dockerStrategy:{env:T,dockerfilePath:y}};break;default:A={sourceStrategy:{env:[...F,...U],from:{kind:"ImageStreamTag",name:`${N}:${k}`,namespace:P}}}}const B={type:L.c[f],[f]:{secretReference:{name:`${d}-${f}-webhook-secret`}}},q=[u.b.UNSURE,u.b.GITEA],$="update"!==i||s.a(n)?d:n.metadata.labels["app.kubernetes.io/name"],K={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:r||$,namespace:p,labels:Object.assign(Object.assign(Object.assign({},w),S),{"app.kubernetes.io/name":$}),annotations:I},spec:{output:{to:{kind:"ImageStreamTag",name:(r||$)+":latest"}},source:Object.assign({contextDir:D,git:{uri:g,ref:h}},O?{sourceSecret:{name:O}}:{}),strategy:Object.assign({type:_},A),triggers:[{type:"Generic",generic:{secretReference:{name:d+"-generic-webhook-secret"}}},...R.webhook&&!q.includes(f)?[B]:[],...R.image?[{type:"ImageChange",imageChange:{}}]:[],...R.config?[{type:"ConfigChange"}]:[]]}},G=Object(C.h)(n,K);return"update"===i&&(G.metadata.name=n.metadata.name),"update"===i?Object(v.rb)(b.BuildConfigModel,G):Object(v.jb)(b.BuildConfigModel,K,a?x.c:{})},q=(e,t,a,n,i="create")=>{var s;const{name:r,project:{name:l},application:{name:o},image:{ports:c,tag:u},deployment:{env:d,replicas:p,triggers:{image:m}},labels:g,limits:{cpu:f,memory:h},git:{url:E,ref:O},healthChecks:y}=e,k=t&&t.metadata.name,j=t&&(null===(s=t.metadata.labels)||void 0===s?void 0:s[w.s]),T=Object(C.a)({name:r,applicationName:o,imageStreamName:k,selectedTag:u,runtimeIcon:j}),_=r,S=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(C.b)()),Object(C.c)(E,O)),Object(C.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(C.g)(r,_,l,m)),N=Object(C.d)(L.k.Kubernetes,r),P=Object(C.f)(n),A={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:r,namespace:l,labels:Object.assign(Object.assign({},T),g),annotations:S},spec:{selector:{matchLabels:{app:r}},replicas:p,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},P),g),N)},spec:{containers:[Object.assign({name:r,image:r+":latest",ports:c,env:d,resources:Object(R.H)({cpu:f,memory:h})},Object(I.b)(y))]}}}},D=Object(C.h)(n,A);return"update"===i?Object(v.rb)(b.DeploymentModel,D):Object(v.jb)(b.DeploymentModel,D,a?x.c:{})},$=(e,t,a,i,c=!1,u="create",p)=>A(void 0,void 0,void 0,(function*(){var m,_,P,D,$,K,G,V,W,H,Y,z,Q,J,Z,X,ee,te,ae;const{name:ne,project:{name:ie},route:{create:se,disable:re},image:{ports:le},build:{strategy:oe,triggers:{webhook:ce},option:ue},deployment:{triggers:{image:de}},git:{url:pe,type:me,ref:be},pipeline:ve,resources:ge}=t,fe=o.a(a,"metadata.name"),he=null!==(K=null===($=null===(D=null===(P=null===(_=null===(m=null==p?void 0:p.buildConfig)||void 0===m?void 0:m.data)||void 0===_?void 0:_.spec)||void 0===P?void 0:P.source)||void 0===D?void 0:D.git)||void 0===$?void 0:$.uri)&&void 0!==K?K:null===(Y=null===(H=null===(W=null===(V=null===(G=null==p?void 0:p.pipeline)||void 0===G?void 0:G.data)||void 0===V?void 0:V.spec)||void 0===W?void 0:W.params)||void 0===H?void 0:H.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===Y?void 0:Y.default;i&&(yield M(t.project));const Ee=[];let Oe="";if(ge===L.k.KnativeService&&he&&he!==pe&&(Oe=`${ne}-${Object(R.D)()}`),oe===d.BuildStrategyType.Devfile){if("create"!==u)throw new Error(e("devconsole~Cannot update Devfile resources"));return((e,t,a,n="")=>A(void 0,void 0,void 0,(function*(){const{name:i,project:{name:s},devfile:{devfileSuggestedResources:r,devfileProjectType:l}}=e,o=Object.keys(r).reduce((e,t)=>{var a,n;const o=r[t];return o?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},o),{metadata:Object.assign(Object.assign({},o.metadata),{annotations:Object.assign(Object.assign({},null===(a=o.metadata)||void 0===a?void 0:a.annotations),{isFromDevfile:"true"}),name:i,namespace:s,labels:Object.assign(Object.assign({},null===(n=o.metadata)||void 0===n?void 0:n.labels),l?{[w.s]:l}:{})})})}):e},{}),c=yield F(e,o.imageStream,t,a,"create",n),u=yield B(e,o.imageStream,t,o.buildResource,"create",n),d=yield U(e,o.imageStream,"generic",t),p=yield q(e,o.imageStream,t,o.deployResource,"create"),m=o.service&&(yield Object(v.jb)(b.ServiceModel,Object(x.b)(e,o.imageStream,o.service),t?x.c:{})),g=o.route&&(yield Object(v.jb)(b.RouteModel,Object(x.a)(e,o.imageStream,o.route),t?x.c:{})),f=[c,u,d,p];return m&&f.push(m),g&&f.push(g),f})))(t,c,p,Oe)}if(ve.type===h.a.PAC&&(null===(z=null==t?void 0:t.pipeline)||void 0===z?void 0:z.enabled)){const e=null===(Q=null==t?void 0:t.pac)||void 0===Q?void 0:Q.repository,a=null==t?void 0:t.labels,n=yield Object(j.b)(e,ie,a,c);Ee.push(n)}const ye=yield F(t,a,c,p,Oe?"create":u,Oe);if(Ee.push(ye),ve.enabled&&ve.type!==h.a.PAC){if(!c){const e=yield((e,t)=>A(void 0,void 0,void 0,(function*(){var a,i;const o=[];if(!e)return Promise.resolve([]);const{name:c,git:u,pipeline:d,project:p,docker:m,image:g,build:f,labels:h}=e;let j;const R=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.name;if(s.a(t)||R!==c){if(d.template){j=yield Object(E.a)(c,p.name,u.url,u.ref,u.dir,d,m.dockerfilePath,g.tag,f.env,h),o.push(j);try{const e=yield Object(y.a)(j,u.detectedType);o.push(...e)}catch(e){console.warn("Error occured while creating triggers",e)}}}else j=yield Object(E.d)(t,d.template,c,p.name,u.url,u.ref,u.dir,m.dockerfilePath,g.tag,f.env,h);if(u.secret){const e=yield Object(v.kb)(b.SecretModel,u.secret,p.name),t=n(u.url);e.metadata.annotations=Object(T.s)({key:"git",value:"ssh"===t.protocol?t.resource:`${t.protocol}://${t.resource}`},e.metadata.annotations),yield Object(v.rb)(b.SecretModel,e,p.name);const a=yield Object(v.kb)(b.ServiceAccountModel,O.l,p.name);void 0===r.a(a.secrets,e=>e.name===u.secret)&&(yield Object(T.B)(u.secret,a,!1))}if(l.a(null===(i=null==j?void 0:j.metadata)||void 0===i?void 0:i.labels,"app.kubernetes.io/instance"))try{const e=yield Object(E.b)(j);o.push(e)}catch(e){console.log("Failed to create PipelineRun for import flow",e),Object(k.c)(j.metadata.name,j.metadata.namespace)}return Promise.all(o)})))(t,null===(J=null==p?void 0:p.pipeline)||void 0===J?void 0:J.data);Ee.push(...e)}}else ue===L.a.BUILDS?Ee.push(yield B(t,a,c,null===(Z=null==p?void 0:p.buildConfig)||void 0===Z?void 0:Z.data,Oe?"create":u,Oe)):ue===L.a.SHIPWRIGHT_BUILD&&Ee.push(yield((e,t,a,n,i="create",r="")=>{var l;const{name:o,project:{name:c},application:{name:u},git:{url:p,ref:m="master",dir:b,secret:g},docker:{dockerfilePath:f},image:{tag:h,imageEnv:E},build:{env:O,strategy:y,clusterBuildStrategy:k},labels:j}=e,T=t&&t.metadata.name,R=t&&(null===(l=t.status)||void 0===l?void 0:l.dockerImageRepository),_=Object(C.a)({name:o,applicationName:u,imageStreamName:T,selectedTag:h}),P=Object.assign(Object.assign({},Object(C.c)(p,m)),Object(C.b)()),w=E?Object.keys(E):[],I=w.filter(e=>!!E[e]).map(e=>({name:e,value:E[e]})),L=O.filter(e=>!w.includes(e.name));let A=[];switch(y){case d.BuildStrategyType.Docker:A=[{name:"dockerfile",value:f}];break;case d.BuildStrategyType.Source:A=[{name:"builder-image",value:`${R}:${h}`}]}const D="update"!==i||s.a(n)?o:n.metadata.labels["app.kubernetes.io/name"],M={apiVersion:"shipwright.io/v1beta1",kind:"Build",metadata:{name:r||D,namespace:c,labels:Object.assign(Object.assign(Object.assign({},_),j),{"app.kubernetes.io/name":D}),annotations:P},spec:{source:{type:"Git",git:Object.assign({url:p,revision:m},g?{cloneSecret:g}:{}),contextDir:b},env:[...I,...L],strategy:{name:k,kind:"ClusterBuildStrategy"},paramValues:A,output:{image:`${S.e}/${c}/${r||D}:latest`}}},F=Object(C.h)(n,M);return"update"===i&&(F.metadata.name=n.metadata.name),"update"===i?Object(v.rb)(N.a,F):Object(v.jb)(N.a,M,a?x.c:{})})(t,a,c,null===(X=null==p?void 0:p.shipwrightBuild)||void 0===X?void 0:X.data,Oe?"create":u,Oe));if("create"===u&&(Ee.push(yield U(t,a,"generic",c)),ce&&Ee.push(yield U(t,a,me,c))),t.resources===L.k.KnativeService){const e=ye.status.dockerImageRepository,a=(null===(ae=null===(te=null===(ee=null==p?void 0:p.editAppResource)||void 0===ee?void 0:ee.data)||void 0===te?void 0:te.metadata)||void 0===ae?void 0:ae.annotations)||{},n=Object(C.g)(ne,Oe||ne,ie,de),i=Object.keys(a).length>0?Object.assign(Object.assign(Object.assign({},a),Object(C.c)(pe,be)),n):Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),Object(C.b)()),Object(C.e)()),Object(C.c)(pe,be)),n),s=Object(f.c)(t,e,fe,void 0,void 0,i,o.a(p,"editAppResource.data"),Oe),r=yield Object(f.b)(t,s,c);return[...yield Promise.all(["update"===u?Object(v.rb)(g.l,s,null,null,c?x.c:{}):Object(v.jb)(g.l,s,c?x.c:{}),...r]),...Ee]}if(t.resources===L.k.Kubernetes?Ee.push(yield q(t,a,c,o.a(p,"editAppResource.data"),u)):t.resources===L.k.OpenShift&&Ee.push(yield((e,t,a,n,i="create")=>{const{name:s,project:{name:r},application:{name:l},image:{ports:o,tag:c},deployment:{env:u,replicas:d,triggers:p},labels:m,limits:{cpu:g,memory:f},git:{url:h,ref:E},healthChecks:O}=e,y=t&&t.metadata.name,k=Object(C.a)({name:s,applicationName:l,imageStreamName:y,selectedTag:c}),j=Object.assign(Object.assign(Object.assign({},Object(C.b)()),Object(C.c)(h,E)),Object(C.e)()),T=Object(C.d)(L.k.OpenShift,s),_=Object(C.f)(n),S={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:s,namespace:r,labels:Object.assign(Object.assign({},k),m),annotations:j},spec:{selector:T,replicas:d,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},_),m),T)},spec:{containers:[Object.assign({name:s,image:s+":latest",ports:o,env:u,resources:Object(R.H)({cpu:g,memory:f})},Object(I.b)(O))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:p.image,containerNames:[s],from:{kind:"ImageStreamTag",name:s+":latest"}}},...p.config?[{type:"ConfigChange"}]:[]]}},N=Object(C.h)(n,S);return"update"===i?Object(v.rb)(b.DeploymentConfigModel,N):Object(v.jb)(b.DeploymentConfigModel,N,a?x.c:{})})(t,a,c,o.a(p,"editAppResource.data"),u)),!s.a(le)||oe===d.BuildStrategyType.Docker||oe===d.BuildStrategyType.Source){const e=o.a(p,"service.data"),n=Object(x.b)(t,a,e);"create"===u?Ee.push(yield Object(v.jb)(b.ServiceModel,n,c?x.c:{})):"update"!==u||s.a(e)||Ee.push(yield Object(v.rb)(b.ServiceModel,n));const i=o.a(p,"route.data"),r=Object(x.a)(t,a,i);"update"===u&&re?Ee.push(yield Object(v.rb)(b.RouteModel,r,ie,ne)):se&&Ee.push(yield Object(v.jb)(b.RouteModel,r,c?x.c:{}))}return Ee})),K=e=>e.filter(e=>e.kind===b.DeploymentModel.kind||e.kind===b.DeploymentConfigModel.kind||e.kind===g.l.kind&&e.apiVersion===`${g.l.apiGroup}/${g.l.apiVersion}`),G=(e,t,a,n)=>A(void 0,void 0,void 0,(function*(){const i=a.find(e=>e.properties.id===t),s=(yield i.properties.importRedirectURL())(e);n?m.Vb.push(((e,t)=>{const a=new URL(e,"thismessage:/");return a.search=new URLSearchParams(Object.assign(Object.assign({},Object.fromEntries(a.searchParams)),t?Object.fromEntries(t):{})).toString(),a.toString().replace(a.protocol,"")})(s,n)):m.Vb.push(s)})),V=(e,t,a)=>{var n;if(e!==L.k.KnativeService&&t){if(t.hostname||t.path||!t.secure)return!0;if(null==t?void 0:t.tls)for(const e in t.tls)if(t.tls.hasOwnProperty(e)){if(["caCertificate","certificate","destinationCACertificate","key"].includes(e)&&t.tls[e])return!0;if("insecureEdgeTerminationPolicy"===e&&"None"!==t.tls[e])return!0;if("termination"===e&&"reencrypt"!==t.tls[e])return!0}return!1}return(null===(n=a.domainMapping)||void 0===n?void 0:n.length)>0},W=(e,t,a)=>{if(e!==L.k.KnativeService&&(null==t?void 0:t.replicas)>1)return!0;const n=null==a?void 0:a.scaling;if(n)for(const e in n)if(n.hasOwnProperty(e)){if(["concurrencylimit","maxpods","minpods"].includes(e)&&n[e])return!0;if("concurrencytarget"===e&&n[e]!==n.defaultConcurrencytarget)return!0;if("concurrencyutilization"===e&&n[e]!==n.defaultConcurrencyutilization)return!0;if("autoscale"===e&&n[e]){const t=n[e];for(const e in t)if(t.hasOwnProperty(e)){if("autoscalewindow"===e&&t[e]!==t.defaultAutoscalewindow)return!0;if("autoscalewindowUnit"===e&&t[e]!==t.defaultAutoscalewindowUnit)return!0}}}return!1},H=e=>{const t=e=>{for(const t in e)if(e.hasOwnProperty(t)){if(["limit","request"].includes(t)&&e[t])return!0;if("limitUnit"===t&&e[t]!==e.defaultLimitUnit)return!0;if("requestUnit"===t&&e[t]!==e.defaultRequestUnit)return!0}return!1};return!(!t(e.cpu)&&!t(e.memory))},Y=e=>{var t,a,n,i,r,l,o,u,d,p,m,b,v,g,f,h,E,O,y,k,j,T,R,S,N,w,C,x,I,A,D;if(!e)return{};let M;(null===(t=e.devfile)||void 0===t?void 0:t.devfileContent)&&(M=Object(_.c)(e.devfile.devfileContent));const F=!(null===(a=e.application)||void 0===a?void 0:a.selectedKey)&&(null===(n=e.application)||void 0===n?void 0:n.name)||(null===(i=e.application)||void 0===i?void 0:i.selectedKey)===(null===(r=e.application)||void 0===r?void 0:r.name)?"default":(null===(l=e.application)||void 0===l?void 0:l.selectedKey)===P.b&&(null===(o=e.application)||void 0===o?void 0:o.name)?"custom":"none",U=e.resources===L.k.Kubernetes?"Deployment":e.resources===L.k.OpenShift?"DeploymentConfig":e.resources===L.k.KnativeService&&"Knative Service",B=null===(d=null===(u=e.import)||void 0===u?void 0:u.selectedStrategy)||void 0===d?void 0:d.name;return{useRecommended:(null===(p=e.image)||void 0===p?void 0:p.recommended)===(null===(m=e.image)||void 0===m?void 0:m.selected),recommendedStrategy:null===(v=null===(b=e.import)||void 0===b?void 0:b.recommendedStrategy)||void 0===v?void 0:v.name,recommendedBuilderImage:null===(g=e.image)||void 0===g?void 0:g.recommended,strategy:B,builderImage:null===(f=e.image)||void 0===f?void 0:f.selected,devFileLanguage:(null===(h=null==M?void 0:M.metadata)||void 0===h?void 0:h.projectType)||"",devFileProjectType:(null===(E=null==M?void 0:M.metadata)||void 0===E?void 0:E.language)||"",application:F,resource:U,targetPortChanged:!!(null===(O=e.route)||void 0===O?void 0:O.unknownTargetPort),useRunCommand:!!(null===(k=null===(y=e.image)||void 0===y?void 0:y.imageEnv)||void 0===k?void 0:k.NPM_RUN),useAdvancedOptionsGit:"/"!==e.git.dir||!!e.git.ref||!!e.git.secret,useAdvancedOptionsBuild:(null===(j=e.build)||void 0===j?void 0:j.env.length)>0||c.a(null===(T=e.build)||void 0===T?void 0:T.triggers,e=>!e),useAdvancedOptionsDeployment:"Devfile"!==B&&((null===(R=e.deployment)||void 0===R?void 0:R.env.length)>0||!(null===(N=null===(S=e.deployment)||void 0===S?void 0:S.triggers)||void 0===N?void 0:N.image)),useAdvancedOptionsRoute:V(e.resources,e.route,e.serverless),useAdvancedOptionsHealthChecks:(null===(C=null===(w=e.healthChecks)||void 0===w?void 0:w.livenessProbe)||void 0===C?void 0:C.enabled)||(null===(I=null===(x=e.healthChecks)||void 0===x?void 0:x.readinessProbe)||void 0===I?void 0:I.enabled)||(null===(D=null===(A=e.healthChecks)||void 0===A?void 0:A.startupProbe)||void 0===D?void 0:D.enabled),useAdvancedOptionsScaling:W(e.resources,e.deployment,e.serverless),useAdvancedOptionsResourceLimits:H(e.limits),useAdvancedOptionsLabels:!s.a(e.labels)}}},5850:function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return f}));var n=a(640),i=a(499),s=a(8),r=a(5669),l=a(5586),o=a(5588),c=a(5687),u=a(5837),d=(a(5760),function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))});const p=(e,t)=>`image-registry.openshift-image-registry.svc:5000/${t}/${e}`,m=(e,t,a,n,i,s,r,l,o)=>(e||[]).map(e=>{switch(e.name){case"APP_NAME":return Object.assign(Object.assign({},e),{default:t});case"GIT_REPO":return Object.assign(Object.assign({},e),{default:n});case"GIT_REVISION":return Object.assign(Object.assign({},e),{default:i||""});case"PATH_CONTEXT":return Object.assign(Object.assign({},e),{default:s.replace(/^\//,"")||e.default});case"IMAGE_NAME":return Object.assign(Object.assign({},e),{default:p(t,a)});case"DOCKERFILE":return Object.assign(Object.assign({},e),{default:r});case"VERSION":return Object.assign(Object.assign({},e),{default:l||e.default});case"BUILD_ENVS":return Object.assign(Object.assign({},e),{default:o||e.default});default:return e}}),b=e=>{var t,a;return"docker"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[r.j])},v=(e,t,a,i,o,c,u,p,v,g={})=>d(void 0,void 0,void 0,(function*(){var d;const f=n.a(c.template);return f.metadata={name:""+e,namespace:t,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=f.metadata)||void 0===d?void 0:d.labels),g),{"app.kubernetes.io/instance":e,"app.kubernetes.io/name":e}),!b(f)&&{[r.i]:p})},f.spec.params=f.spec.params&&m(f.spec.params,e,t,a,i,o,u,p,v),Object(s.jb)(l.PipelineModel,f,{ns:t})})),g=e=>d(void 0,void 0,void 0,(function*(){var t,a;const n="true"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["function.knative.dev"]),i=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var a,i;return Object.assign(Object.assign({},t),{type:o.x.VolumeClaimTemplate,data:n?Object(c.f)(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name):Object(c.c)(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.name)})}),secretOpen:!1});return Object(u.a)(i,e)})),f=(e,t,a,o,c,u,p,v,g,f,h={})=>d(void 0,void 0,void 0,(function*(){var d;let E=n.a(e);return t?(((e,t)=>{var a,n,i,s;return(null===(a=e.metadata)||void 0===a?void 0:a.labels[r.h])!==(null===(n=t.metadata)||void 0===n?void 0:n.labels[r.h])||(null===(i=e.metadata)||void 0===i?void 0:i.labels[r.i])!==(null===(s=t.metadata)||void 0===s?void 0:s.labels[r.i])})(t,e)&&(E=n.a(t),E.metadata={resourceVersion:e.metadata.resourceVersion,name:""+a,namespace:o,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=t.metadata)||void 0===d?void 0:d.labels),h),{"app.kubernetes.io/instance":a,"app.kubernetes.io/name":a}),!b(t)&&{[r.i]:g})}),E.spec.params=m(t.spec.params,a,o,c,u,p,v,g,f)):E.metadata.labels=i.a(Object.assign(Object.assign({},E.metadata.labels),h),"app.kubernetes.io/instance"),Object(s.rb)(l.PipelineModel,E,o,a)}))},5851:function(e,t,a){"use strict";var n=a(0),i=a(155),s=a(40),r=a(1945),l=a(5),o=(a(5871),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a});t.a=e=>{var{badge:t,title:a,children:c,listComponent:u}=e,d=o(e,["badge","title","children","listComponent"]);return n.createElement("div",{className:"odc-project-list-page"},n.createElement(l.Z,{title:a,badge:t},c),n.createElement(i.a,{className:"co-divider"}),n.createElement(s.c,Object.assign({},d,{showTitle:!1,kind:"Project",ListComponent:u||r.ProjectsTable,canCreate:!1,filterLabel:"by name or display name",textFilter:"project-name"})))}},5852:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(5);const s=()=>Promise.all([a.e(17),a.e(25),a.e(0),a.e(1),a.e(4),a.e(3),a.e(6),a.e(5),a.e(7),a.e(11),a.e(8),a.e(9),a.e(10),a.e(16),a.e(14),a.e(12),a.e(2),a.e(13),a.e(15),a.e(18),a.e(26),a.e(33),a.e(65),a.e(237)]).then(a.bind(null,6058)).then(e=>e.OverviewListPage),r=e=>n.createElement(i.c,Object.assign({loader:s},e))},5853:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(160),i=a(4440),s=a(501),r=a(0),l=a(18),o=a.n(l),c=a(7),u=a(192),d=a(434),p=a(295),m=a(296),b=a(19),v=a(4379),g=a(2239),f=a(15),h=a(5),E=a(10),O=a(5658),y=a(14);const k=()=>{var e,t,a;const{obj:l}=r.useContext(O.a),k=n.a(l.metadata.labels).sort(),j=i.a(k,3),T=s.a(l.metadata.labels,j),R=null===(e=l.metadata.annotations)||void 0===e?void 0:e["openshift.io/description"],_=Object(h.uc)(E.ProjectModel,l.metadata.name)+"/details",S=null===(a=null===(t=l.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["maistra.io/member-of"],{t:N}=Object(c.useTranslation)();return r.createElement(u.a,{"data-test-id":"details-card",isClickable:!0,isSelectable:!0},r.createElement(d.a,{actions:{actions:r.createElement(r.Fragment,null,r.createElement(y.Link,{to:_,"data-test":"details-card-view-all"},N("public~View all"))),hasNoOffset:!1,className:"co-overview-card__actions"}},r.createElement(p.a,null,N("public~Details"))),r.createElement(m.a,null,r.createElement(v.default,null,r.createElement(g.b,{isLoading:!l,title:N("public~Name")},Object(f.dd)(l)),r.createElement(g.b,{isLoading:!l,title:N("public~Requester")},Object(f.Bd)(l)||r.createElement("span",{className:"text-muted"},N("public~No requester"))),r.createElement(g.b,{isLoading:!l,title:N("public~Labels")},r.createElement("div",{className:"co-project-dashboard__details-labels"},r.createElement(h.L,{kind:E.ProjectModel.kind,labels:T}),k.length>3&&r.createElement(b.a,{variant:"link"},r.createElement(y.Link,{to:_},N("public~View all"))))),r.createElement(g.b,{isLoading:!l,title:N("public~Description")},r.createElement("span",{className:o()({"text-muted":!R,"co-project-dashboard-details-card__description":R})},R||N("public~No description"))),S&&r.createElement(g.b,{isLoading:!l,title:N("public~Service mesh")},r.createElement(f.X,null)," ",N("public~Service mesh enabled")))))}},5854:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(0),i=a(7),s=a(192),r=a(434),l=a(295),o=a(5387),c=a(4364),u=a(15),d=a(139),p=a(69),m=a(5658),b=a(5738),v=a(5793);const g=()=>{var e;const{obj:t}=n.useContext(m.a),a=Object(p.z)(p.f),g=n.useMemo(()=>{return(e=a,e.filter(p.e)).find(e=>"Image Vulnerabilities"===e.properties.title);var e},[a]),{metadata:{name:f}}=t,{t:h}=Object(i.useTranslation)();return n.createElement(s.a,{"data-test-id":"status-card",className:"co-overview-card--gradient"},n.createElement(r.a,null,n.createElement(l.a,null,h("public~Status"))),t?n.createElement(n.Fragment,null,n.createElement(c.default,null,n.createElement(o.a,{className:"co-overview-status__health",hasGutter:!0},n.createElement("div",{className:"co-status-card__health-item","data-test":"project-status"},n.createElement(u.cc,{status:null===(e=t.status)||void 0===e?void 0:e.phase,className:"co-icon-and-text--lg"})),g&&n.createElement(b.c,{subsystem:g.properties,namespace:f}))),n.createElement(v.a,{labelSelector:{namespace:f}})):n.createElement(d.g,null))}},5855:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),i=a(7),s=a(192),r=a(434),l=a(295),o=a(4365),c=a(762),u=a(13),d=a(5),p=a(5658),m=a(5744),b=a(5806),v=a(4366),g=a(5857);const f=[g.d,g.e],h=()=>{var e;const{t:t}=Object(i.useTranslation)(),{obj:a}=n.useContext(p.a),h=null===(e=null==a?void 0:a.metadata)||void 0===e?void 0:e.name,[E,O]=n.useMemo(()=>[Object(m.d)(h),Object(m.b)(h)],[h]),[y]=Object(u.kc)(u.Fb);return n.createElement(s.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},n.createElement(r.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(v.UtilizationDurationDropdown,null)),hasNoOffset:!1,className:void 0}},n.createElement(l.a,null,t("public~Utilization"))),n.createElement(o.default,null,n.createElement(g.f.Provider,{value:h},n.createElement(b.b,{title:t("public~CPU"),humanizeValue:d.Yb,utilizationQuery:E[m.a.CPU_USAGE],requestQuery:E[m.a.CPU_REQUESTS],TopConsumerPopover:g.a,namespace:h}),n.createElement(b.b,{title:t("public~Memory"),humanizeValue:d.Wb,utilizationQuery:E[m.a.MEMORY_USAGE],requestQuery:E[m.a.MEMORY_REQUESTS],byteDataType:c.a.BinaryBytes,TopConsumerPopover:g.c,namespace:h}),n.createElement(b.b,{title:t("public~Filesystem"),humanizeValue:d.Wb,utilizationQuery:E[m.a.FILESYSTEM_USAGE],byteDataType:c.a.BinaryBytes,TopConsumerPopover:g.b,namespace:h}),n.createElement(b.a,{title:t("public~Network transfer"),humanizeValue:d.ac,queries:O[m.a.NETWORK_UTILIZATION],TopConsumerPopovers:f,namespace:h}),n.createElement(b.b,{title:t("public~Pod count"),humanizeValue:d.bc,utilizationQuery:E[m.a.POD_COUNT],namespace:h}),y.map(({uid:e,properties:t})=>{var a,i,s;return n.createElement(b.b,{key:e,title:t.title,humanizeValue:t.humanize,utilizationQuery:t.getUtilizationQuery(h),requestQuery:null===(a=t.getRequestQuery)||void 0===a?void 0:a.call(t,h),limitQuery:null===(i=t.getLimitQuery)||void 0===i?void 0:i.call(t,h),totalQuery:null===(s=t.getTotalQuery)||void 0===s?void 0:s.call(t,h),namespace:h,TopConsumerPopover:t.TopConsumerPopover})}))))}},5856:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return g}));var n=a(0),i=a(7),s=a(5745),r=a(5735),l=a(10),o=a(5);const c=n.createContext(".+"),u=(e,t,a)=>{const i=n.useContext(c);return n.useMemo(()=>{const n=Object(s.c)(i);return[{query:n[e],model:l.ProjectModel,metric:"namespace"},{query:n[t],model:l.PodModel,metric:"pod"},{query:n[a],model:l.NodeModel,metric:"instance"}]},[a,i,e,t])},d=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(s.a.PROJECTS_BY_CPU,s.a.PODS_BY_CPU,s.a.NODES_BY_CPU);return n.createElement(r.b,{title:t("public~CPU"),current:e,consumers:a,humanize:o.Yb})},p=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(s.a.PROJECTS_BY_MEMORY,s.a.PODS_BY_MEMORY,s.a.NODES_BY_MEMORY);return n.createElement(r.b,{title:t("public~Memory"),current:e,consumers:a,humanize:o.Wb})},m=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(s.a.PROJECTS_BY_STORAGE,s.a.PODS_BY_STORAGE,s.a.NODES_BY_STORAGE);return n.createElement(r.b,{title:t("public~Filesystem"),current:e,consumers:a,humanize:o.Wb})},b=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=n.useContext(c),u=n.useMemo(()=>{const e=Object(s.c)(a);return[{query:e[s.a.PROJECTS_BY_PODS],model:l.ProjectModel,metric:"namespace"},{query:e[s.a.NODES_BY_PODS],model:l.NodeModel,metric:"node"}]},[a]);return n.createElement(r.b,{title:t("public~Pod count"),current:e,consumers:u,humanize:o.bc})},v=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(s.a.PROJECTS_BY_NETWORK_IN,s.a.PODS_BY_NETWORK_IN,s.a.NODES_BY_NETWORK_IN);return n.createElement(r.b,{title:t("public~Network in"),current:e,consumers:a,humanize:o.ac})},g=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(s.a.PROJECTS_BY_NETWORK_OUT,s.a.PODS_BY_NETWORK_OUT,s.a.NODES_BY_NETWORK_OUT);return n.createElement(r.b,{title:t("public~Network out"),current:e,consumers:a,humanize:o.ac})}},5857:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(0),i=a(7),s=a(5735),r=a(5744),l=a(10),o=a(5);const c=n.createContext(""),u=e=>{const t=n.useContext(c);return{consumers:n.useMemo(()=>[{query:Object(r.c)(t)[e],model:l.PodModel,metric:"pod"}],[e,t]),namespace:t}},d=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(r.a.PODS_BY_CPU);return n.createElement(s.b,Object.assign({title:t("public~CPU"),current:e,humanize:o.Yb},a))},p=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(r.a.PODS_BY_MEMORY);return n.createElement(s.b,Object.assign({title:t("public~Memory"),current:e,humanize:o.Wb},a))},m=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(r.a.PODS_BY_FILESYSTEM);return n.createElement(s.b,Object.assign({title:t("public~Filesystem"),current:e,humanize:o.Wb},a))},b=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(r.a.PODS_BY_NETWORK_IN);return n.createElement(s.b,Object.assign({title:t("public~Network in"),current:e,humanize:o.ac},a))},v=({current:e})=>{const{t:t}=Object(i.useTranslation)(),a=u(r.a.PODS_BY_NETWORK_OUT);return n.createElement(s.b,Object.assign({title:t("public~Network out"),current:e,humanize:o.ac},a))}},5858:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a(0),i=a(16),s=a(7),r=a(5670),l=a(406),o=a(192),c=a(434),u=a(295),d=a(296),p=a(967),m=a(10),b=a(4378),v=a(2231),g=a(5),f=a(8),h=a(15),E=a(5658),O=a(69),y=a(13),k=a(108),j=a(198);const T=Object(r.a)(({projectName:e,watchK8sResource:t,stopWatchK8sResource:a,resources:s,model:r,mapper:o,additionalResources:c,additionalDynamicResources:u})=>{var d;n.useEffect(()=>{if(e){const n=((e,t)=>({kind:e.crd?Object(f.Hb)(e):e.kind,isList:!0,prop:"resource",namespace:t}))(r,e);return t(n),c&&c.forEach(a=>t(Object.assign(Object.assign({},a),{namespace:e}))),()=>{a(n),c&&c.forEach(a)}}},[t,a,e,r,c]);const p=i.a(s.resource,"data",[]),m=i.a(s.resource,"loaded"),v=i.a(s.resource,"loadError"),g=c?c.reduce((e,t)=>(e[t.prop]=i.a(s[t.prop],"data"),e),{}):{},h=!c||c.filter(e=>!e.optional).every(e=>i.a(s[e.prop],"loaded")),E=!!c&&c.filter(e=>!e.optional).some(e=>!!i.a(s[e.prop],"loadError")),O=Object(k.b)(u||{}),y=null===(d=Object.values(O).find(e=>e.loadError))||void 0===d?void 0:d.loadError,j=Object.keys(O).every(e=>O[e].loaded);return n.createElement(l.a,null,n.createElement(b.ResourceInventoryItem,{kind:r,isLoading:!(e&&m&&h&&j),namespace:e,error:!!v||E||y,resources:p,additionalResources:g,mapper:o,dataTest:"resource-inventory-item"}))}),R=()=>{const e=Object(O.z)(O.t),[t]=Object(y.kc)(y.mb),[a]=Object(y.kc)(y.Eb),{obj:i}=n.useContext(E.a),r=Object(h.dd)(i),b=Object(g.Dc)({group:m.SecretModel.apiGroup,resource:m.SecretModel.plural,namespace:r,verb:"list"}),{t:f}=Object(s.useTranslation)();return n.createElement(o.a,{"data-test-id":"inventory-card"},n.createElement(c.a,null,n.createElement(u.a,null,f("public~Inventory"))),n.createElement(d.a,null,n.createElement(p.a,{hasGutter:!0},n.createElement(T,{projectName:r,model:m.DeploymentModel}),n.createElement(T,{projectName:r,model:m.DeploymentConfigModel}),n.createElement(T,{projectName:r,model:m.StatefulSetModel}),n.createElement(T,{projectName:r,model:m.PodModel,mapper:v.getPodStatusGroups}),n.createElement(T,{projectName:r,model:m.PersistentVolumeClaimModel,mapper:v.getPVCStatusGroups}),n.createElement(T,{projectName:r,model:m.ServiceModel}),n.createElement(T,{projectName:r,model:m.RouteModel}),n.createElement(T,{projectName:r,model:m.ConfigMapModel}),b&&n.createElement(T,{projectName:r,model:m.SecretModel}),n.createElement(T,{projectName:r,model:m.VolumeSnapshotModel,mapper:v.getVSStatusGroups}),e.map(e=>n.createElement(T,{key:e.properties.model.kind,projectName:r,model:e.properties.model,mapper:e.properties.mapper,additionalResources:e.properties.additionalResources})),t.map(e=>n.createElement(T,{key:e.properties.model.kind,projectName:r,model:e.properties.model,mapper:e.properties.mapper,additionalDynamicResources:e.properties.additionalResources})),a.map(({uid:e,properties:{component:t}})=>n.createElement(j.a,{key:e},n.createElement(l.a,null,n.createElement(t,{projectName:r})))))))}},5859:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),i=a(367),s=a(16),r=a(31),l=a(192),o=a(434),c=a(295),u=a(1950),d=a(5670),p=a(10),m=a(69),b=a(13),v=a(5734),g=a(5658),f=a(15),h=a(7),E=a(14);const O=Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,projectName:i,viewEvents:s})=>(n.useEffect(()=>{if(i){const a=(e=>({isList:!0,kind:p.EventModel.kind,prop:"events",namespace:e}))(i);return e(a),()=>{t(a)}}},[e,t,i]),n.createElement(u.RecentEventsBody,{events:a.events,moreLink:s}))),y=Object(r.connect)(e=>({models:e.k8s.getIn(["RESOURCES","models"])}))(Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:a,projectName:r,models:l})=>{const o=Object(m.z)(m.k),[c]=Object(b.kc)(b.lb),d=n.useMemo(()=>[...o,...c].filter(e=>{const t=l.get(e.properties.k8sResource.kind);return t&&t.namespaced}),[o,c,l]);n.useEffect(()=>{if(r)return d.forEach((t,a)=>{e(Object(v.a)(Object.assign(Object.assign({},t.properties.k8sResource),{namespace:r}),a))}),()=>{d.forEach((e,a)=>{t(Object(v.a)(e.properties.k8sResource,a))})}},[e,t,r,d]);const p=n.useMemo(()=>i.a(d.map((e,t)=>s.a(a,[Object(v.a)(e.properties.k8sResource,t).prop,"data"],[]).filter(t=>!e.properties.isActivity||e.properties.isActivity(t)).map(t=>{var a,n,i,s;return{resource:t,timestamp:e.properties.getTimestamp?e.properties.getTimestamp(t):null,loader:null===(n=null===(a=e)||void 0===a?void 0:a.properties)||void 0===n?void 0:n.loader,component:null===(s=null===(i=e)||void 0===i?void 0:i.properties)||void 0===s?void 0:s.component}}))),[d,a]),g=n.useMemo(()=>d.every((e,t)=>s.a(a,[Object(v.a)(e.properties.k8sResource,t).prop,"loaded"])),[d,a]);return n.createElement(u.OngoingActivityBody,{loaded:r&&g&&0!==l.size,resourceActivities:p})})),k=()=>{const{obj:e}=n.useContext(g.a),t=Object(f.dd)(e),a=`/k8s/ns/${t}/events`,{t:i}=Object(h.useTranslation)();return n.createElement(l.a,{"data-test-id":"activity-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},n.createElement(o.a,{actions:{actions:n.createElement(n.Fragment,null,n.createElement(E.Link,{to:a,"data-test":"view-events-link"},i("public~View events"))),hasNoOffset:!1,className:"co-overview-card__actions"}},n.createElement(c.a,null,i("public~Activity"))),n.createElement(u.default,{className:"co-project-dashboard__activity-body"},n.createElement(y,{projectName:t}),n.createElement(O,{projectName:t,viewEvents:a})))}},5860:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),i=a(461),s=a(7),r=a(192),l=a(434),o=a(295),c=a(296),u=a(5861),d=a(5863),p=a(5658);const m=()=>{const{namespaceLinks:e}=n.useContext(p.a),{t:t}=Object(s.useTranslation)();return n.createElement(r.a,{"data-test-id":"launcher-card"},n.createElement(l.a,null,n.createElement(o.a,null,t("public~Launcher"))),n.createElement(c.a,null,n.createElement(u.a,null,i.a(e,"spec.text").map(e=>n.createElement(d.a,{key:e.metadata.uid,consoleLink:e})))))}},5861:function(e,t,a){"use strict";var n=a(0);a(5862);t.a=({children:e})=>n.createElement("div",{className:"co-launcher-card__body"},e)},5862:function(e,t,a){},5863:function(e,t,a){"use strict";var n=a(0),i=a(173);t.a=({consoleLink:e})=>n.createElement(i.a,{additionalClassName:"co-launcher-card__item",href:e.spec.href,text:e.spec.text,dataTestID:"launcher-item"})},5864:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),i=a(7),s=a(192),r=a(434),l=a(295),o=a(296),c=a(967),u=a(406),d=a(976),p=a(5865),m=a(5867),b=a(5870),v=a(10),g=a(5658);const f=()=>{const{obj:e}=n.useContext(g.a),[t,a,f]=Object(d.xb)({groupVersionKind:{kind:v.ResourceQuotaModel.kind,version:v.ResourceQuotaModel.apiVersion},namespace:e.metadata.name,isList:!0}),[h,E,O]=Object(d.xb)({groupVersionKind:{kind:v.AppliedClusterResourceQuotaModel.kind,version:v.AppliedClusterResourceQuotaModel.apiVersion,group:v.AppliedClusterResourceQuotaModel.apiGroup},namespace:e.metadata.name,isList:!0}),{t:y}=Object(i.useTranslation)();return n.createElement(s.a,{"data-test-id":"resource-quotas-card"},n.createElement(r.a,null,n.createElement(l.a,null,y("public~ResourceQuotas"))),n.createElement(o.a,null,n.createElement(p.a,{error:!!f,isLoading:!a},t.length?n.createElement(c.a,{hasGutter:!0},t.map(e=>n.createElement(u.a,{key:e.metadata.uid},n.createElement(m.a,{resourceQuota:e})))):void 0)),n.createElement(r.a,null,n.createElement(l.a,null,y("public~AppliedClusterResourceQuotas"))),n.createElement(o.a,null,n.createElement(p.a,{error:!!O,isLoading:!E,noText:y("public~No AppliedClusterResourceQuotas")},h.length?n.createElement(c.a,{hasGutter:!0},h.map(t=>n.createElement(u.a,{key:t.metadata.uid},n.createElement(b.a,{resourceQuota:t,namespace:e.metadata.name})))):void 0)))}},5865:function(e,t,a){"use strict";var n=a(0),i=a(7);a(5866);t.a=({error:e,isLoading:t,noText:a,children:s})=>{let r;const{t:l}=Object(i.useTranslation)();return e?r=n.createElement("div",{className:"text-secondary"},l("console-shared~Not available")):t?r=n.createElement("div",{className:"skeleton-quota"}):n.Children.count(s)||(r=n.createElement("div",{className:"text-secondary"},a||l("console-shared~No ResourceQuotas"))),n.createElement(n.Fragment,null,r||s)}},5866:function(e,t,a){},5867:function(e,t,a){"use strict";var n=a(0),i=a(516),s=a(164),r=a(1921),l=a(5746),o=a(1407),c=a(99),u=a(10),d=a(5749);t.a=({resourceQuota:e})=>{var t,a,p,m,b;const v=Object.keys(null!==(a=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==a?a:{}),[g,f]=n.useState(v.length<=4),h=null===(p=e.spec)||void 0===p?void 0:p.scopes;return n.createElement(n.Fragment,null,n.createElement(i.a,{hasGutter:!0},n.createElement(s.a,{isFilled:!0},n.createElement(r.a,{onToggle:(e,t)=>f(t),isExpanded:g,toggleContent:n.createElement(c.ResourceLink,{groupVersionKind:{kind:u.ResourceQuotaModel.kind,version:u.ResourceQuotaModel.apiVersion},name:e.metadata.name,namespace:e.metadata.namespace,inline:!0,truncate:!0,dataTest:"resource-quota-link"})})),n.createElement(s.a,null,n.createElement(d.a,{hard:null===(m=e.status)||void 0===m?void 0:m.hard,used:null===(b=e.status)||void 0===b?void 0:b.used}))),g&&n.createElement(n.Fragment,null,h&&n.createElement(o.QuotaScopesInline,{scopes:h}),n.createElement(l.a,{resourceQuota:e})))}},5868:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5748),r=a(5674);a(5712);t.a=({clusterResourceQuota:e})=>{var t,a,l;const{t:o}=Object(i.useTranslation)(),c=Object.keys(null!==(l=null===(a=null===(t=e.status)||void 0===t?void 0:t.total)||void 0===a?void 0:a.hard)&&void 0!==l?l:{}).map(t=>{var a;const i=e.status.total.hard[t],l=null===(a=e.status.total.used)||void 0===a?void 0:a[t],{label:o,percent:c}=Object(r.a)({resourceName:t,used:l,hard:i});return n.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},n.createElement(s.a,{data:[{x:"Used",y:c},{x:"Unused",y:100-c}],title:t,label:o}))});return n.createElement("div",{className:"co-resource-quota-chart-row"},c.length?c:n.createElement(n.Fragment,null,o("console-app~No quota")))}},5869:function(e,t,a){},5870:function(e,t,a){"use strict";var n=a(0),i=a(516),s=a(164),r=a(1921),l=a(5747),o=a(1407),c=a(99),u=a(10),d=a(5749);t.a=({resourceQuota:e,namespace:t})=>{var a,p,m,b,v,g,f,h,E;const O=Object.keys(null!==(m=null===(p=null===(a=e.status)||void 0===a?void 0:a.total)||void 0===p?void 0:p.hard)&&void 0!==m?m:{}),[y,k]=n.useState(O.length<=4),j=null===(v=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.scopes;return n.createElement(n.Fragment,null,n.createElement(i.a,{hasGutter:!0},n.createElement(s.a,{isFilled:!0},n.createElement(r.a,{onToggle:(e,t)=>k(t),isExpanded:y,toggleContent:n.createElement(c.ResourceLink,{groupVersionKind:{kind:u.AppliedClusterResourceQuotaModel.kind,version:u.AppliedClusterResourceQuotaModel.apiVersion,group:u.AppliedClusterResourceQuotaModel.apiGroup},name:e.metadata.name,namespace:t,inline:!0,truncate:!0})})),n.createElement(s.a,null,n.createElement(d.a,{hard:null===(f=null===(g=e.status)||void 0===g?void 0:g.total)||void 0===f?void 0:f.hard,used:null===(E=null===(h=e.status)||void 0===h?void 0:h.total)||void 0===E?void 0:E.used}))),y&&n.createElement(n.Fragment,null,j&&n.createElement(o.QuotaScopesInline,{scopes:j}),n.createElement(l.a,{appliedClusterResourceQuota:e,namespace:t})))}},5871:function(e,t,a){},5885:function(e,t,a){},5898:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return g}));var n=a(22),i=a(499),s=a(5723),r=a(5711),l=a(5591),o=a(8),c=a(76),u=a(2230),d=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const p={queryParams:{dryRun:"All"}},m=(e,t,a,u,d,p,m,b)=>{var v,g;const{name:f,application:{name:h},project:{name:E},runtimeIcon:O,serverless:{scaling:y},limits:k,route:{unknownTargetPort:j,create:T,defaultUnknownPort:R},labels:_,image:{tag:S},deployment:{env:N,triggers:{image:P}},healthChecks:w,resources:C,formType:x}=e,{fileUpload:I}=e,L=null===(v=null==e?void 0:e.import)||void 0===v?void 0:v.selectedStrategy,A=parseInt(j,10)||R,D=P?o.c.Always:o.c.IfNotPresent,{concurrencylimit:M,concurrencytarget:F,minpods:U,maxpods:B,autoscale:{autoscalewindow:q,autoscalewindowUnit:$},concurrencyutilization:K}=y,{cpu:{request:G,requestUnit:V,limit:W,limitUnit:H},memory:{request:Y,requestUnit:z,limit:Q,limitUnit:J}}=k,Z=Object(r.a)({name:f,applicationName:h,imageStreamName:a,selectedTag:u||S,namespace:d,runtimeIcon:O});if(delete Z.app,I){const e=null==N?void 0:N.findIndex(e=>"JAVA_ARGS"===e.name);-1!==e?""!==I.javaArgs?N[e].value=I.javaArgs:N.splice(e,1):""!==I.javaArgs&&N.push({name:"JAVA_ARGS",value:I.javaArgs})}const X={kind:c.p.kind,apiVersion:`${c.p.apiGroup}/${c.p.apiVersion}`,metadata:{name:f,namespace:E,labels:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Z),_),"serverlessFunction"===x&&{"function.knative.dev":"true"}),!T&&{"networking.knative.dev/visibility":"cluster-local"}),((null===(g=e.pipeline)||void 0===g?void 0:g.enabled)||b)&&{"app.kubernetes.io/name":f}),L&&(null==L?void 0:L.type)===l.c.SERVERLESS_FUNCTION&&{"function.knative.dev":"true"}),annotations:I?Object.assign(Object.assign({},p),{jarFileName:I.name}):p},spec:{template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},Z),_),{"app.kubernetes.io/name":b?e.name:_["app.kubernetes.io/name"]}),annotations:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F&&{"autoscaling.knative.dev/target":""+F}),U&&{"autoscaling.knative.dev/min-scale":""+U}),B&&{"autoscaling.knative.dev/max-scale":""+B}),q&&{"autoscaling.knative.dev/window":`${q}${$}`}),K&&{"autoscaling.knative.dev/target-utilization-percentage":""+K})},spec:Object.assign(Object.assign({},M&&{containerConcurrency:M}),{containers:[Object.assign(Object.assign(Object.assign({name:f,image:""+t},A&&{ports:[{containerPort:A}]}),{imagePullPolicy:D,securityContext:{allowPrivilegeEscalation:!1,capabilities:{drop:["ALL"]},runAsNonRoot:!0,seccompProfile:{type:"RuntimeDefault"}},env:N,resources:Object.assign(Object.assign({},(W||Q)&&{limits:Object.assign(Object.assign({},W&&{cpu:`${W}${H}`}),Q&&{memory:`${Q}${J}`})}),(G||Y)&&{requests:Object.assign(Object.assign({},G&&{cpu:`${G}${V}`}),Y&&{memory:`${Y}${z}`})})}),Object(s.b)(w,C))]})}}};let ee={};n.a(m)||(ee=i.a(m,["status","spec.template.metadata.name","spec.template.spec.containers"]));return Object(r.h)(ee||{},X)},b=(e,t,a)=>{const{kind:n,apiVersion:i,metadata:{name:s,namespace:r}}=t;return Object.assign(Object.assign({},a?Object.assign({},a):{kind:c.e.kind,apiVersion:`${c.e.apiGroup}/${c.e.apiVersion}`,metadata:{name:e,namespace:r}}),{spec:{ref:{name:s,kind:n,apiVersion:i}}})},v=(e,t)=>{const{metadata:{name:a,namespace:n}}=e,i=[];return Object(o.kb)(c.e,null,n).then(n=>{const s=n.items;if(!(null==t?void 0:t.length)&&!(null==s?void 0:s.length))return Promise.resolve([]);const r=(l=a,o=t,s.filter(e=>{var t,a;return(null===(a=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===a?void 0:a.name)===l}).filter(e=>!(null==o?void 0:o.includes(e.metadata.name))).map(e=>({action:u.d.Delete,resource:e})));var l,o;i.push(...r);const c=t.map(t=>{const a=s.find(e=>e.metadata.name===t);let n;return n=a?{action:u.d.Update,resource:b(t,e,a)}:{action:u.d.Create,resource:b(t,e)},n});return i.push(...c),i}).catch(e=>(console.log("Failed to get domain mapping resources",e),i))},g=(e,t,a)=>d(void 0,void 0,void 0,(function*(){const{serverless:{domainMapping:n=[]}}=e,i=yield v(t,[...new Set(n.map(e=>e.replace(/ *\([^)]*\) */g,"")))]),s=[];return i.length&&i.forEach(({action:e,resource:t})=>{switch(e){case u.d.Create:s.push(Object(o.jb)(c.e,t,a?p:{}));break;case u.d.Update:s.push(Object(o.rb)(c.e,t,null,null,a?p:{}));break;case u.d.Delete:s.push(Object(o.lb)(c.e,t,a?p:{}))}}),s}))},5899:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));var n=a(5684),i=a(5586),s=a(5595),r=a(5588);const l=()=>Object(n.a)(i.TektonConfigModel,r.h),o=e=>{if(!e)return r.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[s.d.METRICS_PIPELINERUN_DURATION_TYPE]===s.b.HISTOGRAM&&t[s.d.METRICS_TASKRUN_DURATION_TYPE]===s.b.HISTOGRAM&&t[s.d.METRICS_PIPELINERUN_LEVEL]===s.c.PIPELINE&&t[s.d.METRICS_TASKRUN_LEVEL]===s.c.TASK?r.n.PIPELINE_TASK_LEVEL:t[s.d.METRICS_PIPELINERUN_DURATION_TYPE]===s.b.LASTVALUE&&t[s.d.METRICS_TASKRUN_DURATION_TYPE]===s.b.LASTVALUE&&t[s.d.METRICS_PIPELINERUN_LEVEL]===s.c.PIPELINERUN&&t[s.d.METRICS_TASKRUN_LEVEL]===s.c.TASKRUN?r.n.PIPELINERUN_TASKRUN_LEVEL:r.n.UNSUPPORTED_LEVEL}},5907:function(e,t,a){"use strict";a.d(t,"j",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"k",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"f",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"e",(function(){return h}));var n=a(29),i=a(499),s=a(117),r=a(22);const l="snapshot.storage.kubernetes.io/pvc-storage-class",o="snapshot.storage.kubernetes.io/pvc-access-modes",c="snapshot.storage.kubernetes.io/pvc-volume-mode",u=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],d=["Filesystem","Block"],p=Object.freeze({"kubernetes.io/no-provisioner":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/aws-ebs":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"kubernetes.io/gce-pd":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/glusterfs":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/cinder":{Filesystem:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"]},"kubernetes.io/azure-file":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/azure-disk":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/quobyte":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"kubernetes.io/rbd":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/vsphere-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/portworx-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/scaleio":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/storageos":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"manila.csi.openstack.org":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"ebs.csi.aws.com":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"block.csi.ibm.com":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"csi.ovirt.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"cinder.csi.openstack.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"pd.csi.storage.gke.io":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"cephfs.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"rbd.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"file.csi.azure.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]}}),m=()=>[{value:"ReadWriteOnce",title:n.a.t("public~Single user (RWO)")},{value:"ReadWriteMany",title:n.a.t("public~Shared access (RWX)")},{value:"ReadOnlyMany",title:n.a.t("public~Read only (ROX)")},{value:"ReadWriteOncePod",title:n.a.t("public~Read write once pod (RWOP)")}],b=()=>[{value:"Filesystem",title:n.a.t("public~Filesystem")},{value:"Block",title:n.a.t("public~Block")}],v={i:"B",Ki:"KiB",Mi:"MiB",Gi:"GiB",Ti:"TiB",Pi:"PiB",Ei:"EiB"},g=e=>i.a(s.a(p,(t,a)=>!(!(null==t?void 0:t.partialMatch)||!(null==e?void 0:e.includes(a)))||a===e)||{},"partialMatch"),f=(e,t,a)=>{let n;const i=g(e);return n=r.a(i)?u:a?i[a]:Object.keys(i).map(e=>i[e]).flat(),n=[...new Set(n)],t?n.filter(e=>"ReadOnlyMany"!==e):n},h=(e,t)=>{const a=g(e);return r.a(a)?d:t?Object.keys(a).filter(e=>a[e].includes(t)):Object.keys(a)}},5909:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return b}));var n=a(131),i=a(10),s=a(8),r=a(5586),l=a(5588),o=a(5705),c=a(5687),u=a(5919),d=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const p=(e,t,a=0)=>d(void 0,void 0,void 0,(function*(){var l,o,c,d;const m=yield Object(s.kb)(r.EventListenerModel,e,t),b=null===(l=null==m?void 0:m.status)||void 0===l?void 0:l.configuration.generatedName;try{if(!b)return void(a<3?setTimeout(()=>p(e,t,a+1),500):yield Object(s.jb)(i.RouteModel,Object(u.b)(m),{ns:t}));const n=null===(d=null===(c=null===(o=(yield Object(s.kb)(i.ServiceModel,b,t)).spec)||void 0===o?void 0:o.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,r=Object(u.b)(m,b,n);yield Object(s.jb)(i.RouteModel,r,{ns:t})}catch(e){Object(n.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),m=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:a}=t,n=e.metadata.namespace,i=Object(c.e)(e,t,null,null,{generateName:!0}),l=a.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,i,l),m=yield Object(o.a)(n),b=Object(u.a)([a.resource],d,m),v={ns:n};let g;try{const e=yield Object(s.jb)(r.TriggerTemplateModel,d,v);g=[e,yield Object(s.jb)(r.EventListenerModel,b,v)]}catch(e){return Promise.reject(e)}return p(b.metadata.name,n),Promise.resolve(g)})),b=(e,t)=>d(void 0,void 0,void 0,(function*(){const a=[],n=t?t+"-push":"github-push",i=yield Object(s.kb)(r.ClusterTriggerBindingModel,n);if(i){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var a;return Object.assign(Object.assign({},t),{type:l.x.VolumeClaimTemplate,data:Object(c.c)(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)})}),triggerBinding:{name:n,resource:i}}),s=yield m(e,t);a.push(...s)}return Promise.resolve(a)}))},5910:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return m}));var n=a(16),i=a(141),s=a(22),r=a(50),l=a(974),o=a(5673),c=a(5711);const u={queryParams:{dryRun:"All"}},d=e=>"isi"in e,p=(e,t,a,u)=>{var p,m,b,v;const{project:{name:g},application:{name:f},name:h,labels:E,image:{ports:O,tag:y},route:{unknownTargetPort:k,defaultUnknownPort:j},resources:T}=e,R=n.a(t,"metadata.name")||n.a(e,"image.name"),_=n.a(e,"git"),S=Object(c.a)({name:h,applicationName:f,imageStreamName:R,selectedTag:y}),N=Object(c.d)(T,h),P=_?Object.assign(Object.assign({},Object(c.c)(_.url,_.ref)),Object(c.b)()):Object(c.b)();let w=O;const C=null===(p=e.build)||void 0===p?void 0:p.strategy;if(C===l.BuildStrategyType.Docker&&k){w=[{containerPort:i.a(k),protocol:"TCP"}]}else if(C!==l.BuildStrategyType.Devfile||s.a(null===(m=null==a?void 0:a.spec)||void 0===m?void 0:m.ports)){if(d(e)){const{isi:{ports:t}}=e;w=t}else if(s.a(w)){w=[{containerPort:j,protocol:"TCP"}]}}else w=[...a.spec.ports.map(e=>({name:e.name,containerPort:e.port,protocol:"TCP"}))];if(k&&!w.some(e=>k===e.containerPort.toString())){const e={containerPort:i.a(k),protocol:"TCP"},t=null===(v=null===(b=null==u?void 0:u.spec)||void 0===b?void 0:b.port)||void 0===v?void 0:v.targetPort;w=[...w.filter(e=>e.containerPort!==j),e],t&&(w=[...w.filter(e=>e.containerPort!==t),e])}const x={kind:"Service",apiVersion:"v1",metadata:{name:h,namespace:g,labels:Object.assign(Object.assign({},S),E),annotations:Object.assign({},P)},spec:{selector:N,ports:r.a(w,e=>({port:e.containerPort,targetPort:e.containerPort,protocol:e.protocol,name:e.name||Object(o.n)(e)}))}};return Object(c.h)(a,x)},m=(e,t,a)=>{var s,r,u,p;const{project:{name:m},application:{name:b},name:v,labels:g,route:{hostname:f,unknownTargetPort:h,defaultUnknownPort:E,secure:O,path:y,tls:k,labels:j},image:{ports:T,tag:R}}=e,_=n.a(t,"metadata.name")||n.a(e,"image.name"),S=n.a(e,"git"),N=Object(c.a)({name:v,applicationName:b,imageStreamName:_,selectedTag:R}),P=S?Object.assign(Object.assign({},Object(c.c)(S.url,S.ref)),Object(c.b)()):Object(c.b)();let w,C=T;if(d(e)){const{isi:{ports:t}}=e;C=t}const x=null===(s=e.build)||void 0===s?void 0:s.strategy;w=x===l.BuildStrategyType.Docker&&h?Object(o.n)({containerPort:i.a(h),protocol:"TCP"}):x===l.BuildStrategyType.Devfile?null===(u=null===(r=null==a?void 0:a.spec)||void 0===r?void 0:r.port)||void 0===u?void 0:u.targetPort:h?Object(o.n)({containerPort:i.a(h),protocol:"TCP"}):Object(o.n)({containerPort:(null===(p=C[0])||void 0===p?void 0:p.containerPort)||E,protocol:"TCP"});const I={kind:"Route",apiVersion:"route.openshift.io/v1",metadata:{name:v,namespace:m,labels:Object.assign(Object.assign(Object.assign({},N),g),j),annotations:P},spec:{to:{kind:"Service",name:v},tls:O?k:null,host:f,path:y,port:{targetPort:w},wildcardPolicy:"None"}};return Object(c.h)(a,I)}},5919:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(10),i=a(8),s=a(15),r=a(5586),l=a(5588),o=a(5705);const c=(e,t,a)=>({apiVersion:Object(i.n)(r.TriggerTemplateModel),kind:r.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(s.wd)()}`},spec:{params:a,resourcetemplates:[t]}}),u=(e,t,a)=>{return{apiVersion:Object(i.n)(r.EventListenerModel),kind:r.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(s.wd)()},spec:{serviceAccountName:l.l,triggers:[{bindings:e.map(e=>0===(null==a?void 0:a.major)||1===(null==a?void 0:a.major)&&0===(null==a?void 0:a.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(n=t.metadata.name,Object(o.b)(a)?{ref:n}:{name:n})}]}};var n},d=(e,t,a=8080)=>{const s=e.metadata.name,l=t||"el-"+s;return{apiVersion:Object(i.n)(n.RouteModel),kind:n.RouteModel.kind,metadata:{name:l,labels:{"app.kubernetes.io/managed-by":r.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:s}},spec:{port:{targetPort:a},to:{kind:"Service",name:l,weight:100}}}}},5925:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a(5585),s=a(18),r=a.n(s),l=a(16),o=a(8);a(5885);const c=n.forwardRef(({kind:e,x:t,y:a,leftJustified:s},c)=>{const{kindAbbr:u,kindStr:d,kindColor:p}=function(e){const t=Object(o.vb)(e),a=Object(l.a)(t,"kind",e),n=Object(l.a)(t,"color",void 0);return{kindStr:a,kindAbbr:t&&t.abbr||Object(o.ub)(a),kindColor:n}}(e),[m,b]=Object(i.useSize)([]);let v=null,g=0,f=0,h=0,E=0;return m&&(({height:E,width:h}=m),g=E/2,f=E/14,E+=2*f,v=n.createElement("rect",{fill:p,ref:c,x:t-(s?0:g+h/2),width:m.width+2*g,y:a-(s?0:f+m.height/2),height:E,rx:E/2,ry:E/2})),n.createElement("g",{className:r()("odc-resource-icon",{["odc-resource-icon-"+d.toLowerCase()]:!p}),"data-test":"icon "+d.toLowerCase()},v,n.createElement("title",null,d),n.createElement("text",{ref:b,x:t+(s?g+h/2:0),y:a+(s?(f+E)/2:0),textAnchor:"middle",dy:"0.35em"},u))})},5944:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o}));var n=a(5588);const i=()=>{var e;try{return JSON.parse(null!==(e=sessionStorage.getItem(n.k))&&void 0!==e?e:"{}")}catch(e){return{}}},s=e=>{var t;return null!==(t=i()[e])&&void 0!==t?t:[]},r=(e,t)=>s(t).includes(e),l=(e,t)=>{if(!e||!t)return;const a=s(t).filter(t=>t!==e);sessionStorage.setItem(n.k,JSON.stringify(Object.assign(Object.assign({},i()),{[t]:a})))},o=(e,t)=>{if(!e||!t)return;const a=i();a[t]||(a[t]=[]),a[t].includes(e)||(a[t].push(e),sessionStorage.setItem(n.k,JSON.stringify(a)))}},5998:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),i=a(88),s=a(5585),r=a(18),l=a(16),o=a(14),c=a(5),u=a(8),d=a(206),p=a(6066),m=a(5586),b=a(5595),v=a(5635),g=a(5588),f=a(5676),h=a(6283),E=a(6068),O=a(6069),y=a(6050);a(6287);const k=({pipelineRunName:e,task:t,namespace:a,pipelineRunStatus:i,disableTooltip:s,selected:r,isSkipped:l,width:o,height:p,isFinallyTask:v})=>{var f,h;const E=Object(d.a)(g.e),O=t.status||{duration:"",reason:b.a.Idle};i!==b.a.Failed&&i!==b.a.Cancelled||(null===(f=t.status)||void 0===f?void 0:f.reason)!==b.a.Idle&&(null===(h=t.status)||void 0===h?void 0:h.reason)!==b.a.Pending||(O.reason=b.a.Cancelled),l&&(O.reason=b.a.Skipped);const y=n.createElement(j,{pipelineRunName:e,name:t.name||"",task:t.taskSpec&&{data:{spec:t.taskSpec}},namespace:a,status:O,isPipelineRun:!!i,disableVisualizationTooltip:s,selected:r,width:o,height:p,isFinallyTask:v,pipelineTask:t});if(s||t.taskSpec)return y;let k;return k=E||t.taskRef.kind!==m.ClusterTaskModel.kind?[{kind:Object(u.Hb)(m.TaskModel),name:t.taskRef.name,namespace:a,prop:"task"}]:[{kind:Object(u.Hb)(m.ClusterTaskModel),name:t.taskRef.name,prop:"task"}],n.createElement(c.C,{resources:k},y)},j=({pipelineRunName:e,namespace:t,task:a,status:u,name:d,isPipelineRun:g,disableVisualizationTooltip:k,selected:j,width:R,height:_,isFinallyTask:S,pipelineTask:N})=>{var P,w,C,x;const I=((null===(w=null===(P=null==a?void 0:a.data)||void 0===P?void 0:P.spec)||void 0===w?void 0:w.steps)||[]).map(e=>Object(E.a)(e,u)),L=g&&!!u&&!!u.reason,A=d||l.a(a,["metadata","name"],""),D=n.useRef(),M=n.useRef(),F=e?`${Object(c.uc)(m.PipelineRunModel,e,t)}/logs/${d}`:void 0,U=(null==u?void 0:u.reason)!==b.a.Idle&&(null==u?void 0:u.reason)!==b.a.Pending&&(null==u?void 0:u.reason)!==b.a.Cancelled&&!!F,B=(null===(C=null==N?void 0:N.when)||void 0===C?void 0:C.length)>0,q=(null===(x=null==N?void 0:N.runAfter)||void 0===x?void 0:x.length)>0,$=u?Object(v.f)(u.reason).pftoken.value:Object(v.f)(b.a.Cancelled).pftoken.value,[K,G]=Object(s.useHover)(),V=n.useMemo(()=>Object(c.Bc)(A,{length:L?11:14,truncateEnd:!0}),[A,L]),W=n.createElement("text",{ref:D,x:L?30:R/2,y:_/2+1,className:r("odc-pipeline-vis-task-text",{"is-text-center":!g,"is-linked":U})},V);let H=n.createElement("g",{ref:G},n.createElement(p.a,{dy:1,id:"SvgTaskDropShadowFilterId"}),n.createElement("rect",{filter:K?Object(s.createSvgIdUrl)("SvgTaskDropShadowFilterId"):"",width:R,height:_,rx:15,className:r("odc-pipeline-vis-task",{"is-selected":j,"is-linked":U})}),A!==V&&k?n.createElement(i.a,{triggerRef:D,content:A},W):W,L&&n.createElement(n.Fragment,null,n.createElement("svg",{width:30,height:30,viewBox:"-5 -4 20 20",style:{color:$}},n.createElement("g",{className:r({"fa-spin odc-pipeline-vis-task--icon-spin":u.reason===b.a.Running,"odc-pipeline-vis-task--icon-stop":u.reason!==b.a.Running})},n.createElement(y.b,{status:u.reason,disableSpin:!0}))),n.createElement(T,{steps:I,x:30,y:23,width:R/2+15})));k||(H=n.createElement(n.Fragment,null,n.createElement(i.a,{triggerRef:M,position:"bottom",enableFlip:!1,content:n.createElement(O.a,{isSpecOverview:!g,taskName:A,steps:I,isFinallyTask:S})},n.createElement("g",{ref:M},H))));const Y=n.createElement(n.Fragment,null,B&&n.createElement(h.a,{width:f.C,height:f.C,appendLine:!q&&!S,isPipelineRun:g,status:u.reason,enableTooltip:!0,leftOffset:k&&!S?3:2,isFinallyTask:S}),H);return U?n.createElement(o.Link,{to:F},n.createElement("g",{"data-test":"task "+A},Y)):Y},T=({steps:e,x:t,y:a,width:i})=>{if(0===e.length)return null;const s=i/e.length;return n.createElement("g",null,e.map((e,i)=>n.createElement("rect",{key:e.name,x:t+s*i,y:a,width:s-2,height:2,fill:Object(v.f)(e.status).pftoken.value})))}},5999:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return f}));var n=a(5585),i=a(5676);const s=(...e)=>e.filter(e=>!!e).join(" "),r=(e,t)=>e.x<t.x,l=(e,t)=>e.y<t.y,o=(e,t)=>e.y>t.y,c=e=>`${e.x},${e.y}`,u=e=>"M "+c(e),d=e=>"L "+c(e),p=(e,t)=>`Q ${c(e)} ${c(t)}`,m=8,b=10,v=(e,t,a)=>{if(l(e,a)){const n=r(e,t)&&l(t,a),i=l(e,t)&&r(t,a);if(n)return s(d(t.clone().translate(-m,0)),p(t,t.clone().translate(0,b)));if(i)return s(d(t.clone().translate(0,-b)),p(t,t.clone().translate(m,0)))}else{const n=r(e,t)&&o(t,a),i=o(e,t)&&r(t,a);if(n)return s(d(t.clone().translate(-m,0)),p(t,t.clone().translate(0,-b)));if(i)return s(d(t.clone().translate(0,b)),p(t,t.clone().translate(m,0)))}return""},g=(e,t)=>s(u(e),d(t)),f=(e,t)=>{let a=null,r=null;if(e.y!==t.y){const s=Math.floor(e.x+i.w/2),l=new n.Point(s,e.y),o=new n.Point(s,t.y);a=v(e,l,o),r=v(l,o,t)}return s(u(e),a,r,d(t))}},6e3:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(6407),r=a(2225),l=a(5676);a(6288);t.a=({errorStr:e,x:t,y:a})=>{const o=n.useRef();return n.createElement(i.a,{triggerRef:o,content:e},n.createElement("g",{ref:o,className:"odc-error-node-decorator",transform:`translate(${t}, ${a})`},n.createElement("circle",{cx:0,cy:0,r:l.d,fill:r.global_danger_color_100.value}),n.createElement("g",{transform:"translate(-5, -6)"},n.createElement(s.a,{color:"white"}))))}},6038:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"g",(function(){return u}));var n=a(29);const i="taskError";var s,r;!function(e){e[e.ADD_LIST_TASK=0]="ADD_LIST_TASK",e[e.ADD_FINALLY_LIST_TASK=1]="ADD_FINALLY_LIST_TASK",e[e.ADD_LOADING_TASK=2]="ADD_LOADING_TASK",e[e.ADD_FINALLY_LOADING_TASK=3]="ADD_FINALLY_LOADING_TASK",e[e.CONVERT_LOADING_TASK_TO_TASK=4]="CONVERT_LOADING_TASK_TO_TASK",e[e.CONVERT_LOADING_TASK_TO_FINALLY_TASK=5]="CONVERT_LOADING_TASK_TO_FINALLY_TASK",e[e.CONVERT_LIST_TO_TASK=6]="CONVERT_LIST_TO_TASK",e[e.CONVERT_LIST_TO_FINALLY_TASK=7]="CONVERT_LIST_TO_FINALLY_TASK",e[e.RENAME_TASK=8]="RENAME_TASK",e[e.REMOVE_TASK=9]="REMOVE_TASK",e[e.DELETE_LIST_TASK=10]="DELETE_LIST_TASK",e[e.DELETE_FINALLY_LIST_TASK=11]="DELETE_FINALLY_LIST_TASK",e[e.FIX_INVALID_LIST_TASK=12]="FIX_INVALID_LIST_TASK",e[e.FIX_INVALID_FINALLY_LIST_TASK=13]="FIX_INVALID_FINALLY_LIST_TASK"}(s||(s={})),function(e){e.NAME_ERROR="nameError",e.MISSING_REQUIRED_PARAMS="missingParams",e.MISSING_RESOURCES="missingResources",e.MISSING_WORKSPACES="missingWorkspaces",e.MISSING_REQUIRED_WHEN_EXPRESSIONS="missingWhenExpressions"}(r||(r={}));const l={[r.NAME_ERROR]:["name"],[r.MISSING_REQUIRED_PARAMS]:["params"],[r.MISSING_RESOURCES]:["resources"],[r.MISSING_WORKSPACES]:["workspaces"],[r.MISSING_REQUIRED_WHEN_EXPRESSIONS]:["when"]},o=e=>{switch(e){case r.NAME_ERROR:return n.a.t("pipelines-plugin~Invalid name");case r.MISSING_REQUIRED_PARAMS:return n.a.t("pipelines-plugin~Missing parameters");case r.MISSING_RESOURCES:return n.a.t("pipelines-plugin~Missing resources");case r.MISSING_WORKSPACES:return n.a.t("pipelines-plugin~Missing workspaces");case r.MISSING_REQUIRED_WHEN_EXPRESSIONS:return n.a.t("pipelines-plugin~Invalid when expressions");default:throw new Error("Unknown errorType, "+e)}};var c;!function(e){e.in="in",e.notin="notin"}(c||(c={}));const u={name:"new-pipeline",params:[],resources:[],workspaces:[],tasks:[],listTasks:[],finallyTasks:[],finallyListTasks:[],loadingTasks:[]}},6039:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(5588),s=a(6181);const r=(e,t,a,r)=>{const l=n.useMemo(()=>t?{matchLabels:{[i.u.pipelinerun]:t}}:a?{matchLabels:{[i.u.pipelineTask]:a}}:void 0,[a,t]),[o,c,u,d]=Object(s.d)(e,l&&{selector:l},r),p=n.useMemo(()=>null==o?void 0:o.sort((e,t)=>{var a,n,i,s,r,l,o;return(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)?(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.completionTime)&&new Date(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.completionTime)>new Date(null===(s=null==t?void 0:t.status)||void 0===s?void 0:s.completionTime)?1:-1:(null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.startTime)||new Date(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.startTime)>new Date(null===(o=null==t?void 0:t.status)||void 0===o?void 0:o.startTime)?1:-1}),[o]);return n.useMemo(()=>[p,c,u,d],[p,c,u,d])}},6049:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return h}));var n=a(5585),i=a(6282),s=a(6296),r=a(5676),l=a(6297),o=a(6300),c=a(6302),u=a(6304),d=a(6305),p=a(6307),m=a(6074),b=a(6073),v=a(5834);const g=(e,t)=>{switch(e){case n.ModelKind.graph:return n.GraphComponent;case n.ModelKind.edge:return p.a;case n.ModelKind.node:switch(t){case r.y.TASK_NODE:return b.a;case r.y.SPACER_NODE:return n.SpacerNode;case r.y.TASK_LIST_NODE:return m.a;case r.y.INVALID_TASK_LIST_NODE:return c.a;case r.y.BUILDER_NODE:return s.a;case r.y.FINALLY_NODE:return o.a;case r.y.BUILDER_FINALLY_NODE:return i.a;case r.y.LOADING_NODE:return u.a;default:return}default:return}},f=(e,t)=>{switch(e){case n.ModelKind.graph:return Object(n.withPanZoom)()(n.GraphComponent);case n.ModelKind.edge:return n.TaskEdge;case n.ModelKind.node:switch(t){case r.y.TASK_NODE:case r.y.FINALLY_NODE:return d.a;case r.y.CUSTOM_TASK_NODE:return l.a;case r.y.FINALLY_GROUP:return n.DefaultTaskGroup;case r.y.SPACER_NODE:return n.SpacerNode;default:return}default:return}},h=(e,t)=>{switch(e){case r.z.DAGRE_BUILDER:case r.z.DAGRE_BUILDER_SPACED:return new n.DagreLayout(t,Object.assign({linkDistance:0,nodeDistance:0,groupDistance:0,collideDistance:0,simulationSpeed:0,chargeStrength:0,allowDrag:!1,layoutOnDrag:!1},Object(v.j)(e)));case r.z.DAGRE_VIEWER:return new n.PipelineDagreLayout(t,{nodesep:25});default:return}}},6050:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return g}));var n=a(0),i=a(6270),s=a(476),r=a(5797),l=a(244),o=a(1208),c=a(1196),u=a(18),d=a(782),p=a(5595),m=a(5635),b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const v=e=>{var{status:t,disableSpin:a}=e,m=b(e,["status","disableSpin"]);switch(t){case p.a["In Progress"]:case p.a.Running:return n.createElement(c.a,Object.assign({},m,{className:u({"fa-spin":!a})}));case p.a.Succeeded:return n.createElement(s.a,Object.assign({},m));case p.a.Failed:return n.createElement(l.a,Object.assign({},m));case p.a.Idle:case p.a.Pending:return n.createElement(o.a,Object.assign({},m));case p.a.Cancelled:return n.createElement(d.d,Object.assign({},m));case p.a.Skipped:return n.createElement(i.a,Object.assign({},m));default:return n.createElement(r.a,Object.assign({},m))}},g=e=>{var{status:t}=e,a=b(e,["status"]);return n.createElement("div",{style:{color:t?Object(m.f)(t).pftoken.value:Object(m.f)(p.a.Cancelled).pftoken.value}},n.createElement(v,Object.assign({status:t},a)))}},6056:function(e,t,a){"use strict";a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"f",(function(){return y})),a.d(t,"e",(function(){return k}));var n=a(0),i=a(2324),s=a(367),r=a(2222),l=a(5684),o=a(108),c=a(10),u=a(8),d=a(5586),p=a(5635);const m=e=>e.metadata.name,b=e=>{var t;return(null===(t=e.spec.triggers)||void 0===t?void 0:t.map(e=>{var t,a;return(null===(t=e.template)||void 0===t?void 0:t.ref)||(null===(a=e.template)||void 0===a?void 0:a.name)}))||[]},v=e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.configuration.generatedName},g=e=>{const t=n.useMemo(()=>({kind:Object(u.Hb)(d.EventListenerModel),isList:!0,namespace:e}),[e]),[a,i,s]=Object(o.a)(t);return i&&!s?a:null},f=(e,t)=>{const a=g(t),l=n.useMemo(()=>a?Object(s.a)(a.map(b)).filter(e=>!!e).reduce((e,a)=>Object.assign(Object.assign({},e),{[a]:{kind:Object(u.Hb)(d.TriggerTemplateModel),name:a,namespace:t,optional:!0}}),{}):{},[a,t]),p=Object(o.b)(l),f=((e,t)=>{const a=n.useMemo(()=>(t||[]).map(v).reduce((t,a)=>Object.assign(Object.assign({},t),{[a]:{kind:c.RouteModel.kind,name:a,namespace:e,optional:!0}}),{}),[e,t]),s=Object(o.b)(a);return Object(i.a)(s,e=>e.data)})(t,a),h=Object.values(p),E=Object.keys(l).length,O=h.filter(({loaded:e})=>e).length,y=h.filter(({loadError:e})=>!!e).length;if(0===O||O!==E-y)return null;const k=h.filter(e=>e.loaded).map(e=>e.data).filter(t=>{var a,n,i,s;const r=null===(n=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.resourcetemplates)||void 0===n?void 0:n.find(({kind:e})=>e===d.PipelineRunModel.kind);return(null===(s=null===(i=null==r?void 0:r.spec)||void 0===i?void 0:i.pipelineRef)||void 0===s?void 0:s.name)===e}).map(m);return(a||[]).reduce((e,t)=>{const a=b(t),n=v(t),i=k.find(e=>a.includes(e)),s=f[n];if(!i)return e;let l=null;try{s&&(l=Object(r.c)(s))}catch(e){}return[...e,{routeURL:l,triggerTemplateName:i}]},[])},h=(e,t)=>{var a;const[n,i]=Object(l.a)(c.RouteModel,v(e),t);return i&&(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.ingress)?Object(r.c)(n):null},E=e=>null==e?void 0:e.map(e=>({resourceKind:Object(p.g)(e.kind),name:e.ref||e.name})),O=e=>{var t;return(null===(t=e.spec.resourcetemplates.find(({kind:e})=>e===d.PipelineRunModel.kind))||void 0===t?void 0:t.spec.pipelineRef.name)||""},y=e=>(g(e.metadata.namespace)||[]).filter(t=>{var a;return null===(a=t.spec.triggers)||void 0===a?void 0:a.find(t=>{var a,n;return[null===(a=t.template)||void 0===a?void 0:a.ref,null===(n=t.template)||void 0===n?void 0:n.name].includes(m(e))})}).map(m),k=e=>(g(e.metadata.namespace)||[]).filter(t=>{var a;return null===(a=t.spec.triggers)||void 0===a?void 0:a.find(({bindings:t})=>null==t?void 0:t.find(({kind:t,name:a})=>m(e)===a&&Object(p.e)(t).kind===e.kind))}).map(m)},6057:function(e,t,a){"use strict";var n=a(6089);a.d(t,"b",(function(){return n.a})),a.d(t,"c",(function(){return n.b})),a.d(t,"d",(function(){return n.c}));var i=a(6247);a.d(t,"a",(function(){return i.a}))},6066:function(e,t,a){"use strict";a(6067),a(5774);var n=a(5730);a.d(t,"a",(function(){return n.a}));a(5925)},6067:function(e,t,a){"use strict";a(0),a(5585),a(5),a(15),a(5774),a(5730),a(5925)},6068:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,i=a(5595),s=a(5623);!function(e){e.Completed="Completed"}(n||(n={}));const r=(e,t)=>(t.steps||[]).find(t=>t.name===e.name||t.name==="step-"+e.name),l=e=>e?e.terminated?Object(s.e)(e.terminated.startedAt,e.terminated.finishedAt):e.running?Object(s.e)(e.running.startedAt):"":"",o=(e,t)=>{let a=i.a.PipelineNotStarted,s=null;if(t&&t.reason)if(t.reason===i.a["In Progress"]){const o=r(e,t);o?o.terminated?(a=o.terminated.reason===n.Completed?i.a.Succeeded:i.a.Failed,s=l(o)):o.running?(a=i.a["In Progress"],s=l(o)):o.waiting&&(a=i.a.Pending):a=i.a.Pending}else a=t.reason,s=l(r(e,t))||t.duration;else a=i.a.Cancelled;return{duration:s,name:e.name,status:a}}},6069:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),i=a(18),s=a.n(i),r=a(7),l=a(5595),o=a(5635),c=a(6050);a(6286);const u=({status:e})=>{const t={height:18,width:18},a=n.createElement(c.b,Object.assign({status:e},t));return e===l.a.Succeeded||e===l.a.Failed?n.createElement("div",{style:{color:Object(o.f)(e).pftoken.value}},n.createElement("svg",Object.assign({},t),n.createElement("circle",{className:"odc-pipeline-visualization-step-list__icon-backdrop",cx:9,cy:9,r:8}),a)):a},d=({isSpecOverview:e,taskName:t,steps:a,isFinallyTask:i,hideHeader:l})=>{const{t:o}=Object(r.useTranslation)();return n.createElement("div",{className:"odc-pipeline-visualization-step-list"},!l&&n.createElement("div",{className:"odc-pipeline-visualization-step-list__task-name"},t),i&&n.createElement("div",{className:"odc-pipeline-visualization-step-list__task-type"},o("pipelines-plugin~Finally task")),a.map(({duration:t,name:a,status:i})=>n.createElement("div",{className:s()("odc-pipeline-visualization-step-list__step",{"odc-pipeline-visualization-step-list__step--task-run":!e}),key:a},e?n.createElement("span",{className:"odc-pipeline-visualization-step-list__bullet"},"•"):n.createElement("div",{className:"odc-pipeline-visualization-step-list__icon"},n.createElement(u,{status:i})),n.createElement("div",{className:"odc-pipeline-visualization-step-list__name"},a),!e&&n.createElement("div",{className:"odc-pipeline-visualization-step-list__duration"},t))))}},6070:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(29),r=a(5),l=a(5676),o=a(6289);a(6291);t.a=({width:e,height:t,name:a})=>{const c=n.useRef(),u=n.useMemo(()=>Object(r.Bc)(a,{length:10,truncateEnd:!0}),[a]);return n.createElement("g",null,n.createElement("rect",{width:e,height:t,rx:15,className:"opp-pipeline-vis-loading-node"}),n.createElement("g",null,n.createElement(o.a,{x:0,y:l.c/4,content:s.a.t("pipelines-plugin~Installing")})),n.createElement(i.a,{triggerRef:c,content:a},n.createElement("text",{ref:c,className:"opp-pipeline-vis-loading-node__name",x:e/2,y:t/2+1},u)))}},6071:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(1001),r=a(5676);a(6292);t.a=({x:e,y:t,onClick:a,tooltip:l,tooltipPosition:o})=>{const c=n.useRef();return n.createElement(i.a,{triggerRef:c,content:l,position:o},n.createElement("g",{className:"odc-plus-node-decorator",onClick:a,transform:`translate(${e}, ${t})`,ref:c},n.createElement("circle",{cx:0,cy:0,r:r.c,className:"odc-plus-node-decorator__circle"}),n.createElement("g",{transform:"translate(-6, -6)"},n.createElement(s.a,{color:"white"}))))}},6072:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(5585),r=a(18),l=a(7),o=a(5),c=a(5676),u=a(6293);t.a=({width:e,height:t,unselectedText:a,onRemoveTask:d,onNewTask:p,onTaskSearch:m})=>{const{t:b}=Object(l.useTranslation)(),v=n.useRef(null),g=n.useRef(),[f,h]=Object(s.useHover)(),E=a||b("pipelines-plugin~Add task"),O=n.useMemo(()=>Object(o.Bc)(E,{length:10,truncateEnd:!0}),[E]),y=n.createElement("text",{x:e/2,y:t/2+1,className:"odc-task-list-node__render-text",ref:g},O);return n.createElement(n.Fragment,null,n.createElement("g",{"data-test":"task-list",ref:h,className:"odc-task-list-node__trigger",onClick:e=>{e.stopPropagation(),m(p)}},n.createElement("rect",{ref:v,className:r("odc-task-list-node__trigger-background"),width:e,height:t}),n.createElement("g",null,n.createElement("rect",{className:f?"odc-task-list-node__trigger-underline--hover":"odc-task-list-node__trigger-underline",y:t,width:e,height:f?2:1}),d&&f&&n.createElement("g",null,n.createElement(u.a,{removeCallback:d,x:120,y:c.c/4,content:b("pipelines-plugin~Delete task")})),E!==O?n.createElement(i.a,{content:E,triggerRef:g},y):y)))}},6073:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(5617),r=a(5998);t.a=Object(i.observer)(({element:e,disableTooltip:t})=>{var a,i,l,o;const{height:c,width:u}=e.getBounds(),{pipeline:d,pipelineRun:p,task:m,selected:b}=e.getData(),v=null===(i=null===(a=null==p?void 0:p.status)||void 0===a?void 0:a.skippedTasks)||void 0===i?void 0:i.some(e=>e.name===m.name);return n.createElement(r.a,{pipelineRunName:null===(l=null==p?void 0:p.metadata)||void 0===l?void 0:l.name,task:m,pipelineRunStatus:p&&Object(s.c)(p),namespace:null===(o=null==d?void 0:d.metadata)||void 0===o?void 0:o.namespace,disableTooltip:t,selected:b,width:u,height:c,isSkipped:v})})},6074:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(6072);a(6303);t.a=Object(i.observer)(({element:e,unselectedText:t})=>{const{height:a=30,width:i=120}={},{onNewTask:r=(()=>{}),onTaskSearch:l=(()=>{}),onRemoveTask:o=(()=>{})}=e.getData()||{};return n.createElement(s.a,{width:i,height:a,unselectedText:t,onRemoveTask:o,onNewTask:r,onTaskSearch:l})})},6075:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(88),r=a(219),l=a(6139),o=a(297),c=a(319),u=a(157),d=a(867),p=a(318),m=a(19),b=a(1921),v=a(72),g=a(1963),f=a(55),h=a(230),E=a(320),O=a(16),y=a(7),k=a(5849),j=a(5618),T=a(5591),R=a(5),_=a(10),S=a(15),N=a(5648),P=a(6313);t.a=({pac:e,formContextField:t})=>{const[a]=Object(S.ue)(),{values:w,setFieldValue:C}=Object(f.f)(),x=t?t+".":"",{gitProvider:I,webhook:L}=O.a(w,t)||w,[A,D]=n.useState(""),[M,F]=n.useState(""),{t:U}=Object(y.useTranslation)();n.useEffect(()=>{var t;const a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t["controller-url"];a&&(D(a),C(x+"webhook.url",a))},[x,e,C]);const B=[{isList:!0,kind:_.SecretModel.kind,prop:_.SecretModel.id,namespace:a}];return n.createElement(j.a,{fullWidth:!x,extraMargin:!0},I&&I===T.b.BITBUCKET?n.createElement(S.ab,{label:U("pipelines-plugin~Bitbucket username"),name:x+"webhook.user",type:i.b.text,required:!0}):null,n.createElement(S.Lb,{name:x+"webhook.method",label:U("pipelines-plugin~Secret"),labelIcon:n.createElement(s.a,{position:"right",content:n.createElement("p",null,U("pipelines-plugin~The secret is required to set the Build status and to attach the webhook to the Git repository."))},n.createElement(g.a,null)),required:!0,options:[{value:"token",label:U("pipelines-plugin~Git access token"),activeChildren:n.createElement(S.ab,{name:x+"webhook.token",type:i.b.text,helpText:n.createElement(()=>{let e;switch(I){case T.b.GITHUB:e=n.createElement(y.Trans,{t:U,ns:"pipelines-plugin"},"Use your GitHub Personal token. Use this"," ",n.createElement("a",{href:N.a[T.b.GITHUB],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a ",n.createElement("b",null,"classic")," token with ",n.createElement("b",null,"repo")," & ",n.createElement("b",null,"admin:repo_hook")," scopes and give your token an expiration, i.e 30d.");break;case T.b.GITLAB:e=n.createElement(y.Trans,{t:U,ns:"pipelines-plugin"},"Use your Gitlab Personal access token. Use this"," ",n.createElement("a",{href:N.a[T.b.GITLAB],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a token with ",n.createElement("b",null,"api")," scope. Select the role as ",n.createElement("b",null,"Maintainer/Owner"),". Give your token an expiration i.e 30d.");break;case T.b.BITBUCKET:e=n.createElement(y.Trans,{t:U,ns:"pipelines-plugin"},"Use your Bitbucket App password. Use this"," ",n.createElement("a",{href:N.a[T.b.BITBUCKET],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a token with ",n.createElement("b",null,"Read and Write "),"scopes in"," ",n.createElement("b",null,"Account, Workspace membership, Projects, Issues, Pull requests and Webhooks"),".");break;default:e=n.createElement(y.Trans,{t:U,ns:"pipelines-plugin"},"Use your Git Personal token. Create a token with repo, public_repo & admin:repo_hook scopes and give your token an expiration, i.e 30d.")}return n.createElement("div",{"data-test":w.gitProvider+"-helptext"},e)},null),required:!0})},{value:"secret",label:U("pipelines-plugin~Git access token secret"),activeChildren:n.createElement(S.Ob,{helpText:U("pipelines-plugin~Secret with the Git access token for pulling pipeline and tasks from your Git repository."),name:x+"webhook.secretRef",resources:B,dataSelector:["metadata","name"],placeholder:U("pipelines-plugin~Select a secret"),autocompleteFilter:(e,t)=>{var a;return h(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},fullWidth:!0,showBadge:!0,onChange:(e,t,a)=>{if(a&&a.data){C(x+"webhook.secretObj",a);const e=null==a?void 0:a.data["webhook.secret"];e&&F(E.Base64.decode(e))}}})}]}),(null==L?void 0:L.url)&&n.createElement(r.a,{fieldId:"test",label:U("pipelines-plugin~Webhook URL")},n.createElement(l.a,{isReadOnly:!0,name:x+"webhook.url",hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"}},A),n.createElement(o.a,null,n.createElement(c.a,null,n.createElement(u.a,null,U("pipelines-plugin~We have detected a URL that can be used to configure the webhook. It will be created and attached to the Git repository."))))),I&&I!==T.b.BITBUCKET?n.createElement(r.a,{fieldId:"webhook-secret-clipboard",label:U("pipelines-plugin~Webhook secret")},n.createElement(d.a,{style:{display:"flex"}},n.createElement(p.a,null,n.createElement(l.a,{name:x+"webhook.secret",hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"},onChange:(e,t)=>{C(x+"webhook.secret",t)}},M)),n.createElement(p.a,null,n.createElement(m.a,{"data-test":"generate-secret",variant:"control",onClick:()=>{F(Object(k.f)())}},U("pipelines-plugin~Generate"))))):null,I&&I!==T.b.UNSURE?n.createElement(n.Fragment,null,n.createElement(b.a,{toggleText:(e=>{switch(e){case T.b.GITHUB:return U("pipelines-plugin~See GitHub events");case T.b.GITLAB:return U("pipelines-plugin~See Gitlab events");case T.b.BITBUCKET:return U("pipelines-plugin~See BitBucket events");default:return U("pipelines-plugin~See Git events")}})(I)},n.createElement(r.a,{label:U("pipelines-plugin~Events triggering the webhook: "),fieldId:"repo-permissions"},n.createElement(v.a,{component:v.b.small},n.createElement(P.a,{formContextField:t})))),n.createElement(R.z,{text:U("pipelines-plugin~Read more about setting up webhook"),href:N.h[I]})):null)}},6087:function(e,t,a){"use strict";a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return R})),a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return S}));var n=a(0),i=a(29),s=a(16),r=a(22),l=a(225),o=a(499),c=a(131),u=a(5),d=a(8),p=a(5588),m=a(6357),b=a(5687),v=a(6122),g=a(5669),f=a(5586),h=a(5635),E=a(5623);const O=e=>{u.Vb.push(Object(u.uc)(f.PipelineRunModel,e.metadata.name,e.metadata.namespace))},y=(e,t,a)=>({labelKey:"pipelines-plugin~Start",callback:()=>{const e=s.a(t,["spec","params"],[]),n=s.a(t,["spec","resources"],[]),i=s.a(t,["spec","workspaces"],[]);r.a(e)&&r.a(n)&&r.a(i)?((e,t)=>{Object(d.jb)(f.PipelineRunModel,Object(b.d)(e)).then(t).catch(e=>Object(c.s)({error:e.message}))})(t,a):Object(m.c)({pipeline:t,modalClassName:"modal-lg",onSubmit:a})},accessReview:{group:f.PipelineRunModel.apiGroup,resource:f.PipelineRunModel.plural,namespace:t.metadata.namespace,verb:"create"}}),k=(e,t,a,n={})=>{const{labelKey:i="pipelines-plugin~Start last run",onComplete:s}=n,r={labelKey:i,accessReview:{}};return t&&l.a(t,"metadata.name")&&l.a(t,"metadata.namespace")?Object.assign(Object.assign({},r),{callback:()=>{Object(d.jb)(e,Object(b.d)(null,t)).then("function"==typeof s?s:()=>{}).catch(e=>Object(c.s)({error:e.message}))},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}):r},j=(e,t)=>k(e,t),T=(e,t)=>{var a,s,r,l,o,d,p,m;const b=(null===(s=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.annotations)||void 0===s?void 0:s["results.tekton.dev/log"])||(null===(l=null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.annotations)||void 0===l?void 0:l["results.tekton.dev/record"])||(null===(d=null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.annotations)||void 0===d?void 0:d["results.tekton.dev/result"]),v=null===(m=null===(p=null==t?void 0:t.metadata)||void 0===p?void 0:p.annotations)||void 0===m?void 0:m[g.l],f=n.createElement("p",null,i.a.t("pipelines-plugin~This action will delete resource from k8s but still the resource can be fetched from Tekton Results"));return{labelKey:"pipelines-plugin~Delete {{kind}}",labelKind:{kind:e.labelKey?i.a.t(e.labelKey):e.label},callback:()=>Object(c.q)({kind:e,resource:t,message:!v&&b?f:""}),accessReview:Object(u.Eb)(e,t,"delete"),isDisabled:!!v,tooltip:v?i.a.t("pipelines-plugin~Resource is being fetched from Tekton Results."):""}},R=(e,t)=>[(e,t)=>y(0,t,O),...e?[()=>((e,t)=>k(e,t,0,{onComplete:O,labelKey:"pipelines-plugin~Start last run"}))(f.PipelineRunModel,e)]:[],(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Add Trigger",callback:()=>{const e=Object.assign(Object.assign({},t),{metadata:Object.assign(Object.assign({},t.metadata),{annotations:o.a(t.metadata.annotations,[p.q.user])})});Object(m.a)({pipeline:e,modalClassName:"modal-lg"})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(f.EventListenerModel,t),...t?[(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Remove Trigger",callback:()=>{Object(m.b)({pipeline:t})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}))(f.EventListenerModel,t)]:[],u.F.factory.ModifyLabels,u.F.factory.ModifyAnnotations,(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Edit Pipeline",callback:()=>{const{metadata:{name:e,namespace:a}}=t;u.Vb.push(`/k8s/ns/${a}/${Object(d.Hb)(f.PipelineModel)}/${e}/builder`)},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t),u.F.factory.Delete],_=(e,t,a,n)=>[a?(e,t)=>((e,t)=>k(e,t,0,{onComplete:O,labelKey:"pipelines-plugin~Rerun"}))(e,t):(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Rerun",callback:()=>{const e=s.a(t,"metadata.namespace"),{pipelineRef:a,pipelineSpec:n}=t.spec;e&&((null==a?void 0:a.name)||n)?Object(d.jb)(Object(E.y)(t),Object(b.d)(null,t)):Object(c.s)({error:i.a.t("pipelines-plugin~Invalid PipelineRun configuration, unable to start Pipeline.")})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(e,t),n?(t,a)=>((e,t,a,n)=>({labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===a.major&&a.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(h.m)(t,n),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(t,a,e,n):(a,n)=>((e,t,a,n)=>{var i;const s=Object(v.a)(n,null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.name);return{labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===a.major&&a.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(h.l)(t,s),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(a,n,e,t),n?(e,t)=>((e,t,a)=>({labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(h.k)(t,a),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t,n):(e,a)=>((e,t,a)=>{var n;const i=Object(v.a)(a,null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.name);return{labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(h.j)(t,i),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(e,a,t),(e,t)=>T(e,t)],S=()=>[(e,t)=>T(e,t)]},6088:function(e,t,a){"use strict";var n=a(0),i=a(1922),s=a(22),r=a(40);t.a=e=>{const{children:t,close:a,errors:l,isSubmitting:o,handleSubmit:c,status:u,submitBtnText:d,submitDanger:p,title:m}=e;return n.createElement(i.a,{onSubmit:c},n.createElement("div",{className:"modal-content"},n.createElement(r.h,null,m),n.createElement(r.e,null,n.createElement("div",{className:"pf-v5-c-form"},t)),n.createElement(r.g,{errorMessage:null==u?void 0:u.submitError,inProgress:o,submitText:d,submitDisabled:!s.a(l)||o,submitDanger:p,cancel:a})))}},6089:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(1557),i=a(31),s=a(13),r=a(5),l=a(5588);const o=(e,t)=>Object(n.a)({},t,{metadata:{annotations:e},spec:{}}),c=()=>{var e;const t=Object(i.useSelector)(s.J);return(null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.name)?{[l.q.user]:t.metadata.name}:{}},u=e=>{const t=c();return e&&o(t,e)},d=e=>{const t=c();return e.map(e=>Object.values(r.F.factory).includes(e)?e:(a,n,...i)=>e(a,o(t,n),...i))}},6090:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(29),i=a(689),s=a(6121),r=a(5588),l=a(5725);const o=()=>i.object().shape({parameters:i.array().of(i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required")),default:i.string(),description:i.string(),value:i.string().test("test-if-param-can-be-empty",n.a.t("pipelines-plugin~Required"),(function(e){return!Object(s.a)(this.parent)||!!e}))})),resources:i.array().of(i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required")),selection:i.string().required(n.a.t("pipelines-plugin~Required")),data:i.object().when("selection",{is:l.a,then:i.object().shape({type:i.string().required(n.a.t("pipelines-plugin~Required")),params:i.object().when("type",{is:r.o.git,then:i.object({url:i.string().required(n.a.t("pipelines-plugin~Required")),revision:i.string()})}).when("type",{is:r.o.image,then:i.object({url:i.string().required(n.a.t("pipelines-plugin~Required"))})}).when("type",{is:r.o.storage,then:i.object({type:i.string().required(n.a.t("pipelines-plugin~Required")),location:i.string().required(n.a.t("pipelines-plugin~Required")),dir:i.string()})}).when("type",{is:r.o.cluster,then:i.object({name:i.string().required(n.a.t("pipelines-plugin~Required")),url:i.string().required(n.a.t("pipelines-plugin~Required")),username:i.string().required(n.a.t("pipelines-plugin~Required")),password:i.string(),insecure:i.string()})}),secrets:i.object().when("type",{is:r.o.cluster,then:i.object({cadata:i.string().required(n.a.t("pipelines-plugin~Required")),token:i.string()})})})})})),workspaces:i.array().of(i.object().shape({type:i.string().required(n.a.t("pipelines-plugin~Required")),data:i.object().when("type",{is:e=>r.x[e]===r.x.Secret,then:i.object().shape({secret:i.object().shape({secretName:i.string().required(n.a.t("pipelines-plugin~Required")),items:i.array().of(i.object().shape({key:i.string().required(n.a.t("pipelines-plugin~Required")),path:i.string().required(n.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>r.x[e]===r.x.ConfigMap,then:i.object().shape({configMap:i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required")),items:i.array().of(i.object().shape({key:i.string().required(n.a.t("pipelines-plugin~Required")),path:i.string().required(n.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>r.x[e]===r.x.PVC,then:i.object().shape({persistentVolumeClaim:i.object().shape({claimName:i.string().required(n.a.t("pipelines-plugin~Required"))})})}).when("type",{is:e=>r.x[e]===r.x.VolumeClaimTemplate,then:i.object().shape({volumeClaimTemplate:i.object().shape({spec:i.object().shape({accessModes:i.array().of(i.string().required(n.a.t("pipelines-plugin~Required"))),resources:i.object().shape({requests:i.object().shape({storage:i.string().required(n.a.t("pipelines-plugin~Required"))})}),storageClassName:i.string().required(n.a.t("pipelines-plugin~Required")),volumeMode:i.string().required(n.a.t("pipelines-plugin~Required"))})})})})}))}),c=()=>o().shape({secretOpen:i.boolean().equals([!1])}),u=()=>o().shape({triggerBinding:i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required")),resource:i.object().shape({metadata:i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required"))})}).required(n.a.t("pipelines-plugin~Required"))})}),d=()=>i.object().shape({secretName:i.string().required(n.a.t("pipelines-plugin~Required")),type:i.string().required(n.a.t("pipelines-plugin~Required")),annotations:i.object().shape({key:i.string().required(n.a.t("pipelines-plugin~Required")),value:i.string().required(n.a.t("pipelines-plugin~Required"))})})},6091:function(e,t,a){"use strict";a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return E})),a.d(t,"k",(function(){return O})),a.d(t,"l",(function(){return k})),a.d(t,"j",(function(){return j})),a.d(t,"i",(function(){return T})),a.d(t,"c",(function(){return _})),a.d(t,"d",(function(){return S})),a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return P}));var n=a(29),i=a(667),s=a(1557),r=a(16),l=a(547),o=a(499),c=(a(117),a(22),a(70),a(8)),u=a(15),d=a(5586),p=a(6180),m=a(6360),b=a(6038),v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const g=(e,t)=>{const a=Object.keys((null==t?void 0:t[b.a])||{}),n=Object(b.f)(b.c.NAME_ERROR),{formData:r}=a.reduce((e,t)=>(i.a(e,t,n),e),{}),l=t=>{const a=(n=null==e?void 0:e[t],Array.isArray(n)&&n.some(e=>"object"==typeof e)?e[t]:[]);var n;const i=null==r?void 0:r[t];return s.a([],a,i)};return{tasks:l("tasks"),finally:l("finallyTasks")}},f=e=>t=>{const a=e[t]||{},n=Object.values(a);if(0===n.length)return null;const i=Object.values(b.c).find(e=>n.includes(Object(b.f)(e)));if(i)return Object(b.f)(i);const s=Object.keys(b.b).find(e=>{const t=b.b[e];return null==t?void 0:t.some(e=>r.a(a,e))});return s?Object(b.f)(s):null},h=(e,t)=>{if(null==t?void 0:t.taskRef){if(!(null==e?void 0:e.tasksLoaded)||!e.clusterTasks||!e.namespacedTasks)return null;const{taskRef:{kind:a,name:n}}=t,i=e=>e.metadata.name===n;return a===d.ClusterTaskModel.kind?e.clusterTasks.find(i):e.namespacedTasks.find(i)}return(null==t?void 0:t.taskSpec)?{apiVersion:Object(c.n)(d.TaskModel),kind:"EmbeddedTask",metadata:{name:n.a.t("pipelines-plugin~Embedded task")},spec:t.taskSpec}:null},E=(e,t)=>{const{taskResources:a}=e;return h(a,t)},O=(e,t,a)=>{var n;if(!(null===(n=null==a?void 0:a.runAfter)||void 0===n?void 0:n.includes(t)))return a;const i=a.runAfter.filter(e=>e!==t);return Object.assign(Object.assign({},a),{runAfter:[...i,e]})},y=(e,t)=>{var a;return(null===(a=null==t?void 0:t.runAfter)||void 0===a?void 0:a.includes(e))?Object.assign(Object.assign({},t),{runAfter:t.runAfter.filter(t=>t!==e)}):t},k=(e,t)=>{var a;if(!(null==e?void 0:e.name))return t;if(!(null==e?void 0:e.runAfter))return y(e.name,t);if(!(null===(a=null==t?void 0:t.runAfter)||void 0===a?void 0:a.includes(e.name)))return t;const n=y(e.name,t);let i=e.runAfter;return n.runAfter.length>0&&(i=[...n.runAfter,...i]),Object.assign(Object.assign({},n),{runAfter:l.a(i)})},j=(e,t,a)=>(null==a?void 0:a.name)!==t?a:Object.assign(Object.assign({},a),{runAfter:[e]}),T=(e,t,a)=>{var n;return(null===(n=null==a?void 0:a.runAfter)||void 0===n?void 0:n.includes(t))?Object.assign(Object.assign({},a),{runAfter:[...a.runAfter,e]}):a},R=(e,t)=>{if(e.includes(t)){const a=`${t}-${Object(u.wd)(3)}`;return e.includes(a)?R(e,t):a}return t},_=(e,t,a,n)=>{var i;const s=null!==(i=t.kind)&&void 0!==i?i:d.TaskModel.kind;return{name:R(e,t.metadata.name),runAfter:a?[]:n,taskRef:{kind:s,name:t.metadata.name},resource:t,isFinallyTask:a}},S=(e,t,a)=>{var n;const i=null!==(n=t.kind)&&void 0!==n?n:d.TaskModel.kind;return{name:R(e,t.metadata.name),runAfter:a,taskRef:{kind:i,name:t.metadata.name},params:Object(m.a)(t).map(e=>({name:e.name,value:e.default}))}},N=(e,t,a)=>{var n,i,s,r,l,u,m,b;const{name:g,resources:f,params:h,workspaces:E,tasks:O,listTasks:y,finallyTasks:k}=e,j=v(e,["name","resources","params","workspaces","tasks","listTasks","finallyTasks"]),T=y.map(e=>e.name),R=o.a(j,"finallyListTasks","loadingTasks");return Object.assign(Object.assign({},a),{apiVersion:Object(c.n)(d.PipelineModel),kind:d.PipelineModel.kind,metadata:Object.assign(Object.assign({},null==a?void 0:a.metadata),{name:(null===(n=null==a?void 0:a.metadata)||void 0===n?void 0:n.name)?null===(i=null==a?void 0:a.metadata)||void 0===i?void 0:i.name:g,namespace:t}),spec:Object.assign(Object.assign(Object.assign({},null==a?void 0:a.spec),R),{params:Object(p.d)(h.length>0?h:null!==(r=null===(s=null==a?void 0:a.spec)||void 0===s?void 0:s.params)&&void 0!==r?r:[]),workspaces:E.length>0?E:null!==(u=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.workspaces)&&void 0!==u?u:[],tasks:O.length>0?O:null!==(b=null===(m=null==a?void 0:a.spec)||void 0===m?void 0:m.tasks)&&void 0!==b?b:[].map(e=>e&&(e=>{var t,a,n,i,s,r,l,o,c,u,d,p;let m=e;if((null===(t=e.params)||void 0===t?void 0:t.length)>0){const t=null===(a=e.params)||void 0===a?void 0:a.filter(e=>!!e.value);m=Object.assign(Object.assign({},m),{params:t})}if((null===(i=null===(n=e.resources)||void 0===n?void 0:n.inputs)||void 0===i?void 0:i.length)>0||(null===(r=null===(s=e.resources)||void 0===s?void 0:s.outputs)||void 0===r?void 0:r.length)>0){const t=null===(o=null===(l=e.resources)||void 0===l?void 0:l.inputs)||void 0===o?void 0:o.filter(e=>e.resource),a=null===(u=null===(c=e.resources)||void 0===c?void 0:c.outputs)||void 0===u?void 0:u.filter(e=>e.resource);m=Object.assign(Object.assign({},m),{resources:Object.assign(Object.assign({},m.resources),{inputs:t,outputs:a})})}if((null===(d=e.workspaces)||void 0===d?void 0:d.length)>0){const t=null===(p=e.workspaces)||void 0===p?void 0:p.filter(e=>e.workspace);m=Object.assign(Object.assign({},m),{workspaces:t})}return m})(((e,t)=>{if((null==e?void 0:e.runAfter)&&t.length>0){const a=(e.runAfter||[]).filter(e=>!t.includes(e));return Object.assign(Object.assign({},e),{runAfter:a})}return e})(e,T))),finally:k})})},P=e=>{if(!e)return null;const{metadata:{name:t},spec:{params:a=[],resources:n=[],workspaces:i=[],tasks:s=[],finally:r=[]}}=e;return{name:t,params:a,resources:n,workspaces:i.map(e=>Object.assign(Object.assign({},e),{optional:!!e.optional})),tasks:s,listTasks:[],loadingTasks:[],finallyTasks:r,finallyListTasks:[]}}},6092:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return m}));var n=a(0),i=a(205),s=a(165),r=a(219),l=a(354),o=a(294),c=a(255),u=a(7),d=a(5907);const p=(e,t)=>{var a;return c.a(null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.accessModes,(e,a)=>{const n=Object(d.c)().find(e=>e.value===a);return n&&e.push(n[t]),e},[])},m=e=>{var t;const{className:a,pvcResource:c,filterByVolumeMode:m,onChange:b,loaded:v,provisioner:g,availableAccessModes:f=[],description:h,ignoreReadOnly:E}=e,{t:O}=Object(u.useTranslation)(),y=c?p(c,"value"):f,k=null===(t=null==c?void 0:c.spec)||void 0===t?void 0:t.volumeMode,[j,T]=n.useState(),[R,_]=n.useState(),S=n.useCallback(e=>{_(e),b(e)},[b]),[N,P]=n.useState(!1),[w,C]=n.useState(Object(d.c)().find(e=>e.value===y[0]).title),x=()=>{P(!N)},I=Object(d.c)().map(e=>{const t=!(null==j?void 0:j.includes(e.value));return n.createElement(i.a,{key:e.title,value:{val:e.value,label:e.title},isDisabled:t,isSelected:R===e.value},e.title)});return n.useEffect(()=>{v&&T(Object(d.b)(g,E,m?k:null))},[m,E,v,g,k]),n.useEffect(()=>{j&&(!R&&j.includes(y[0])?S(y[0]):j.includes(R)||S(j[0]))},[R,j,S,y]),n.createElement(r.a,{label:O("console-app~Access mode"),isRequired:!0,fieldId:"access-mode",className:a},v&&j&&n.createElement(l.a,{isOpen:N,selected:w,onSelect:(e,t)=>{P(!N),C(t.label),S(t.val)},onOpenChange:e=>P(e),toggle:e=>n.createElement(s.a,{ref:e,onClick:x,isExpanded:N,style:{width:"200px"}},w),shouldFocusToggleOnSelect:!0},n.createElement(o.a,null,I)),j&&j&&h&&n.createElement("p",{className:"help-block",id:"access-mode-help"},h),(!v||!j)&&n.createElement("div",{className:"skeleton-text"}))}},6093:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(16),i=a(50),s=a(1992),r=a(107),l=a(57),o=a(279),c=a(839),u=a(0),d=a(230),p=a(7),m=a(5),b=a(4381),v=a(18);class g extends u.Component{constructor(){super(...arguments),this.state={items:{},name:this.props.name,selectedKey:this.props.selectedKey,title:u.createElement(m.T,null),defaultClass:this.props.defaultClass},this.autocompleteFilter=(e,t)=>d(e,t.props.name),this.getTitle=e=>e.kindLabel?u.createElement(m.jb,{kind:"StorageClass",name:e.name}):u.createElement("span",null,e.name),this.onChange=e=>{const t=n.a(this.state,["items",e],{});this.setState({selectedKey:e,title:this.getTitle(t)},()=>this.props.onChange(t.resource))}}UNSAFE_componentWillMount(){this.UNSAFE_componentWillReceiveProps(this.props)}UNSAFE_componentWillReceiveProps(e){const{loaded:t,loadError:a,resources:r,t:l}=e;if(a)return void this.setState({title:u.createElement("div",{className:"cos-error-title"},l("public~Error loading {{desc}}",{desc:e.desc}))});if(!t)return;const o={items:{},title:{},defaultClass:""};let c={};const d=l("public~No default StorageClass");i.a(r.StorageClass.data,e=>{c[e.metadata.name]={kindLabel:"StorageClass",name:e.metadata.name,description:n.a(e,"metadata.annotations.description",""),default:Object(b.isDefaultClass)(e),accessMode:n.a(e,["metadata","annotations","storage.alpha.openshift.io/access-mode"],""),provisioner:e.provisioner,parameters:e.parameters,type:n.a(e,"parameters.type",""),zone:n.a(e,"parameters.zone",""),resource:e}}),e.filter&&(c=Object.keys(c).filter(t=>e.filter(c[t])).reduce((e,t)=>(e[t]=c[t],e),{})),o.defaultClass=s.a(c,"default");const{selectedKey:p}=this.state;o.defaultClass||(c[""]={kindLabel:"",name:d}),this.props.loaded&&p&&c[p||o.defaultClass]||(o.title=u.createElement("span",{className:"text-muted"},l("public~Select StorageClass")));const m=c[p||o.defaultClass];m&&(o.title=this.getTitle(m)),Object.keys(c).sort().forEach(e=>{o.items[e]=c[e]}),this.setState(o)}componentDidMount(){const{defaultClass:e}=this.state;e&&this.onChange(e)}componentDidUpdate(){const{defaultClass:e,selectedKey:t}=this.state;t?this.onChange(t):e&&this.onChange(e)}shouldComponentUpdate(e,t){return!r.a(this.state,t)}render(){var e;const{id:t,loaded:a,describedBy:n,noSelection:i,t:s}=this.props,r={};l.a(this.state.items,(e,t)=>r[t]=t?u.createElement(E,Object.assign({},e)):u.createElement(O,Object.assign({},e)));const{selectedKey:c,defaultClass:d}=this.state,p=d||o.a(r)>1;return u.createElement(u.Fragment,null,a&&p&&u.createElement("div",null,u.createElement("label",{className:v("control-label",this.props.hideClassName,{"co-required":this.props.required}),htmlFor:t},s("public~StorageClass")),u.createElement(m.t,{className:"co-storage-class-dropdown",dropDownClassName:"dropdown--full-width",autocompleteFilter:this.autocompleteFilter,autocompletePlaceholder:s("public~Select StorageClass"),items:r,selectedKey:c,title:this.state.title,onChange:this.onChange,id:t,dataTest:null===(e=this.props)||void 0===e?void 0:e["data-test"],noSelection:i,menuClassName:"dropdown-menu--text-wrap"}),n&&u.createElement("p",{className:"help-block",id:n},s("public~StorageClass for the new claim"))))}}const f=Object(p.withTranslation)()(g),h=e=>u.createElement(m.C,{resources:[{kind:"StorageClass",prop:"StorageClass",isList:!0}]},u.createElement(f,Object.assign({},e))),E=e=>{const t=[e.default?" (default)":"",e.description,e.accessMode,e.provisioner,e.type,e.zone],a=c.a(t).join(" | ");return u.createElement("span",{className:"co-resource-item"},u.createElement(m.fb,{kind:e.kindLabel}),u.createElement("span",{className:"co-resource-item__resource-name"},e.name,u.createElement("div",{className:"text-muted small"}," ",a)))},O=e=>u.createElement("span",{className:"co-resource-item"},u.createElement("span",{className:"co-resource-item__resource-name"},e.name))},6105:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(0);var n=a(5684),i=a(10),s=(a(8),a(5586),a(5656)),r=a(5588);const l=()=>Object(n.a)(i.ConfigMapModel,s.f,r.j)},6121:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>!("default"in e)},6122:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));a(77);var n=a(108),i=a(8),s=a(5586),r=a(5588);const l=(e,t)=>{const a=t?{kind:Object(i.Hb)(s.TaskRunModel),namespace:e,selector:{matchLabels:{[r.u.pipelinerun]:t}},isList:!0}:{kind:Object(i.Hb)(s.TaskRunModel),namespace:e,isList:!0};return Object(n.a)(a)},o=(e,t)=>e.filter(e=>{var a;return(null===(a=e.metadata)||void 0===a?void 0:a.labels[r.u.pipelinerun])===t})},6123:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return k})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return R}));var n=a(225),i=a(8),s=a(30),r=a(5597),l=a(5669),o=a(5586),c=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const u=e=>{var t,a;const i=e?JSON.parse((e=>atob(e))(e)):null;let s;n.a(null==i?void 0:i.metadata,"deletionTimestamp")&&(null===(t=null==i?void 0:i.metadata)||void 0===t||delete t.deletionTimestamp,s={[l.c]:"true"});return i?Object.assign(Object.assign({},i),{metadata:Object.assign(Object.assign({},null==i?void 0:i.metadata),{annotations:Object.assign(Object.assign(Object.assign({},null===(a=null==i?void 0:i.metadata)||void 0===a?void 0:a.annotations),{[l.l]:"true"}),s)})}):null},d=(...e)=>e.filter(e=>e).join(" && "),p=(e,t,a)=>`${e} ${a} ${t}`,m=(e,t)=>p(e,`"${t}"`,"=="),b=(e,t)=>p(e,`"${t}"`,"!=");var v;!function(e){e.PipelineRunV1Beta1="tekton.dev/v1beta1.PipelineRun",e.TaskRunV1Beta1="tekton.dev/v1beta1.TaskRun",e.PipelineRunV1="tekton.dev/v1.PipelineRun",e.TaskRunV1="tekton.dev/v1.TaskRun"}(v||(v={}));const g=e=>e?d(...Object.keys(e).map(t=>m(`data.metadata.labels["${t}"]`,e[t]))):"",f=e=>{let t="";if(e){const{matchLabels:n,matchExpressions:i,filterByName:s}=e;s&&(t=d(t,(a=s)?d(`data.metadata.name.startsWith("${a.trim().toLowerCase()}")`):"")),n||i?(n&&(t=d(t,g(n))),i&&(t=d(t,d(...i.map(e=>{var t,a,n,i,s,r,l,o,c,u;switch(e.operator){case"Exists":return`data.metadata.labels.contains("${e.key}")`;case"DoesNotExist":return`!data.metadata.labels.contains("${e.key}")`;case"NotIn":return(null===(t=e.values)||void 0===t?void 0:t.length)>0?d(...e.values.map(t=>b(`data.metadata.labels["${e.key}"]`,t))):"";case"In":return(null===(a=e.values)||void 0===a?void 0:a.length)>0?`data.metadata.labels["${e.key}"] in [${e.values.map(e=>`"${e}"`)}]`:"";case"Equals":return(null===(n=e.values)||void 0===n?void 0:n[0])?m(`data.metadata.labels["${e.key}"]`,null===(i=e.values)||void 0===i?void 0:i[0]):"";case"NotEquals":case"NotEqual":return(null===(s=e.values)||void 0===s?void 0:s[0])?b(`data.metadata.labels["${e.key}"]`,null===(r=e.values)||void 0===r?void 0:r[0]):"";case"GreaterThan":return(null===(l=e.values)||void 0===l?void 0:l[0])?p(`data.metadata.labels["${e.key}"]`,null===(o=e.values)||void 0===o?void 0:o[0],">"):"";case"LessThan":return(null===(c=e.values)||void 0===c?void 0:c[0])?p(`data.metadata.labels["${e.key}"]`,null===(u=e.values)||void 0===u?void 0:u[0],"<"):"";default:throw new Error(`Tekton results operator '${e.operator}' conversion not implemented.`)}}).filter(e=>e))))):t=g(e)}var a;return t};let h={};const E={},O=()=>c(void 0,void 0,void 0,(function*(){var e,t,a,n;const s=yield Object(i.kb)(o.TektonResultModel,"result"),r=null===(e=null==s?void 0:s.spec)||void 0===e?void 0:e.targetNamespace,l=null!==(a=null===(t=null==s?void 0:s.spec)||void 0===t?void 0:t.server_port)&&void 0!==a?a:"8080",c=null===(n=null==s?void 0:s.spec)||void 0===n?void 0:n.tls_hostname_override;let u;return u=c?`${c}:${l}`:r&&l?`tekton-results-api-service.${r}.svc.cluster.local:${l}`:"tekton-results-api-service.openshift-pipelines.svc.cluster.local:"+l,u})),y=(e,t,a,n,i,l)=>c(void 0,void 0,void 0,(function*(){if(l){const e=h[l];if(e)return e;if(E[l])return[[],{nextPageToken:null,records:[]},!0]}E[l]=!0;const o=yield c(void 0,void 0,void 0,(function*(){try{const l=yield((e,t,a,n,i)=>c(void 0,void 0,void 0,(function*(){var r;return`https://${yield O()}/apis/results.tekton.dev/v1alpha2/parents/${e&&e!==s.c?e:"-"}/results/-/records?${new URLSearchParams(Object.assign(Object.assign({page_size:""+Math.max(5,Math.min(1e4,(null==n?void 0:n.limit)>=0?n.limit:null!==(r=null==n?void 0:n.pageSize)&&void 0!==r?r:50))},i?{page_token:i}:{}),{filter:d(m("data_type",t.toString()),a,f(null==n?void 0:n.selector),null==n?void 0:n.filter)})).toString()}`})))(e,t,a,n,i);let o=yield Object(r.c)({url:l,method:"GET",allowInsecure:!0});return(null==n?void 0:n.limit)>=0&&(o={nextPageToken:null,records:o.records.slice(0,n.limit)}),[o.records.map(e=>u(e.data.value)),o]}catch(e){if(404===(null==e?void 0:e.code))return[[],{nextPageToken:null,records:[]}];throw e}}));return l&&(E[l]=!1,h[l]=o),o})),k=(e,t,a,n,i)=>((e,t,a,n,i,s)=>y(e,s?v.PipelineRunV1:v.PipelineRunV1Beta1,t,a,n,i))(e,"",t,a,n,i),j=(e,t,a,n,i)=>((e,t,a,n,i,s)=>y(e,s?v.TaskRunV1:v.TaskRunV1Beta1,t,a,n,i))(e,"",t,a,n,i),T=e=>Object(r.b)(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):e.body),R=e=>c(void 0,void 0,void 0,(function*(){e||(()=>{throw{code:404}})();const t=`https://${yield O()}/apis/results.tekton.dev/v1alpha2/parents/${e.replace("/records/","/logs/")}`;return T({url:t,method:"GET",allowInsecure:!0})}))},6180:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a(29),i=a(50),s=a(499),r=a(22),l=a(5586),o=a(5635);const c=e=>{const t=(e=>i.a(e,e=>s.a(e,r.a(e.default)?["default"]:[])))(e);return t.length>0?t.map(e=>"array"===(null==e?void 0:e.type)&&"string"==typeof(null==e?void 0:e.default)?Object.assign(Object.assign({},e),{default:e.default.split(",").map(e=>e.trim())}):e):[]},u=e=>{const t=e=>e?null==e?void 0:e.map(e=>{var t;return e.taskRef?"ClusterTask"===e.taskRef.kind||"Task"===e.taskRef.kind?{resourceKind:Object(o.h)(e.taskRef.kind),name:e.taskRef.name,qualifier:e.name}:{resourceKind:null===(t=e.taskRef)||void 0===t?void 0:t.kind,name:n.a.t("pipelines-plugin~Custom Task"),qualifier:e.name,disableLink:!0}:{resourceKind:"EmbeddedTask",name:n.a.t("pipelines-plugin~Embedded task"),qualifier:e.name,disableLink:!0}}):[];return{taskLinks:t(e.spec.tasks),finallyTaskLinks:t(e.spec.finally)}},d=(e=[],t)=>null==t?void 0:t.map(t=>{const a=e.find(({name:e})=>e===t.name),i=a?a.type:void 0;return(e=>!!e.resourceRef)(t)?{resourceKind:l.PipelineResourceModel.kind,name:t.resourceRef.name,qualifier:i}:{resourceKind:"EmbeddedPipelineResource",name:n.a.t("pipelines-plugin~Embedded PipelineResource"),qualifier:i}}),p=e=>e.spec.pipelineRef?{resourceKind:l.PipelineModel.kind,resourceName:e.spec.pipelineRef.name,namespace:e.metadata.namespace}:{resourceKind:"EmbeddedPipeLine",resourceName:n.a.t("pipelines-plugin~Embedded Pipeline")}},6181:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g}));var n=a(0),i=a(4392),s=a(4387),r=a(1032),l=a(768),o=a(5595),c=a(6123),u=a(6182),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const p=(e,t,a,p)=>{const m=n.useRef([]),b=Object(r.a)(a),v=!(null==b?void 0:b.name),g=null==b?void 0:b.limit,f=n.useMemo(()=>(m.current=[],{groupVersionKind:e,namespace:t||void 0,isList:v,selector:null==b?void 0:b.selector,name:null==b?void 0:b.name}),[e,t,b,v]),[h,E,O]=Object(l.a)(f),y=n.useMemo(()=>{if(!E||O)return[];return v?h:[h]},[v,h,E,O]),k=n.useMemo(()=>{if(!y)return y;let e=m.current?[...y,...Object(i.a)(m.current,y,e=>e.metadata.name)]:[...y];return e.sort((e,t)=>t.metadata.creationTimestamp.localeCompare(e.metadata.creationTimestamp)),g&&g<e.length&&(e=e.slice(0,g)),e},[y,g]);m.current=k;const j=!g||t&&(k&&E&&b.limit>k.length||O),T=n.useMemo(()=>{if(null==b?void 0:b.name){const{name:e}=b,t=d(b,["name"]);return Object.assign(Object.assign({},t),{filter:Object(c.a)("data.metadata.name",e)})}return b},[b]),[R,_,S,N]=(e===o.e?u.b:u.d)(j?t:null,T,p);return n.useMemo(()=>{const e=k&&R?Object(s.a)([...k,...R],e=>e.metadata.uid):k||R;return[e,!!(null==e?void 0:e[0])||E&&_,t?j?v?S||O:S||(_&&!R.length?O:void 0):O:void 0,N]},[k,R,_,E,t,j,v,S,O,N])},m=(e,t)=>p(o.e,e,t),b=(e,t,a)=>p(o.f,e,t,a),v=(e,t)=>{const a=m(e,n.useMemo(()=>({name:t,limit:1}),[t]));return n.useMemo(()=>{var e,t;return[null===(e=a[0])||void 0===e?void 0:e[0],a[1],(null===(t=a[0])||void 0===t?void 0:t[0])?void 0:a[2]]},[a])},g=(e,t)=>{const a=b(e,n.useMemo(()=>({name:t,limit:1}),[t]));return n.useMemo(()=>{var e,t;return[null===(e=a[0])||void 0===e?void 0:e[0],a[1],(null===(t=a[0])||void 0===t?void 0:t[0])?void 0:a[2]]},[a])}},6182:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return f}));var n=a(0),i=a(4387),s=a(695),r=a(8),l=a(206),o=a(5586),c=a(5588),u=a(5648),d=a(6123),p=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const m=(e,t,a,i)=>{const s=Object(l.a)(c.d),[r,o]=n.useState(null),[u,d]=n.useState(i);i!==u&&d(i);const[m,b]=n.useState([[],!1,void 0,void 0]);return n.useEffect(()=>{o(null)},[t,a,i]),n.useEffect(()=>{let n=!1;return p(void 0,void 0,void 0,(function*(){try{const i=yield e(t,a,r,u,s);if(!n){const e=i[1].nextPageToken,t=!!(null==i?void 0:i[2]),a=!t;t||b(t=>[r?[...t[0],...i[0]]:i[0],a,void 0,e?(()=>{let t=!1;return()=>!n&&!t&&(t=!0,o(e),!0)})():void 0])}}catch(e){n||b(r?t=>[t[0],t[1],e,void 0]:[[],!1,e,void 0])}})),()=>{n=!0}},[t,a,r,u,e,s]),m},b=(e,t,a)=>m(d.b,e,t,a),v=(e,t,a)=>m(d.d,e,t,a),g=(e,t)=>{let a;"Pipeline"===(null==t?void 0:t.kind)&&(a={matchLabels:{"tekton.dev/pipeline":null==t?void 0:t.name}}),"Repository"===(null==t?void 0:t.kind)&&(a={matchLabels:{[u.f[u.e.REPOSITORY]]:null==t?void 0:t.name}});const[n,l,c,d]=b(e,t&&{selector:a}),[p,m,v]=Object(s.c)(Object.assign({isList:!0,kind:Object(r.Hb)(o.PipelineRunModel),namespace:e},t?{selector:a}:{}));return[!l&&!m||v?[]:Object(i.a)([...p,...n],e=>e.metadata.uid),l||m,c||v,d]},f=(e,t,a)=>{const[i,s]=n.useState([null,!1,void 0]);return n.useEffect(()=>{let n=!1;return e&&t&&p(void 0,void 0,void 0,(function*(){try{const e=yield Object(d.c)(a);n||s([e,!0,void 0])}catch(e){n||s([null,!1,e])}})),()=>{n=!0}},[e,t,a]),i}},6183:function(e,t,a){"use strict";var n=a(0),i=a(6668);t.a=({children:e,logDetails:t,namespace:a})=>"podName"in t?n.createElement(i.a,{containerName:t.containerName,namespace:a,podName:t.podName,title:t.title},e):n.createElement(n.Fragment,null,e(t.staticMessage))},6211:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(7),r=a(6049),l=a(6212),o=a(5834);a(6310);t.a=({pipeline:e,pipelineRun:t,taskRuns:a})=>{const{t:c}=Object(s.useTranslation)();let u;const d=Object(o.h)(e,t,a);return u=!d||0===d.nodes.length&&0===d.edges.length?n.createElement(i.a,{variant:"info",isInline:!0,title:c("pipelines-plugin~This Pipeline has no tasks to visualize.")}):n.createElement(l.a,{"data-test":"pipeline-visualization",componentFactory:r.b,model:d,showControlBar:!0}),n.createElement("div",{className:"odc-pipeline-visualization"},u)}},6212:function(e,t,a){"use strict";var n=a(0),i=a(18),s=a(6308),r=(a(6309),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a});t.a=n.memo(e=>{var{builder:t,model:a,componentFactory:l}=e,o=r(e,["builder","model","componentFactory"]);return n.createElement("div",{className:i("odc-pipeline-topology-graph",{builder:t}),"data-test":o["data-test"]||"pipeline-topology-graph"},n.createElement(s.a,Object.assign({model:a,componentFactory:l,noScrollbar:t},o)))})},6227:function(e,t,a){"use strict";var n=a(6584),i=a(6582),s=a(6581),r=a(6579),l=a(6580),o=a(6583);window.monaco.editor.defineTheme("console-light",{base:"vs",inherit:!0,colors:{"editor.background":r.global_BackgroundColor_light_100.value,"editorGutter.background":"#f5f5f5","editorLineNumber.activeForeground":l.global_Color_dark_100.value,"editorLineNumber.foreground":s.global_BackgroundColor_dark_200.value},rules:[{token:"number",foreground:"486b00"},{token:"type",foreground:"795600"},{token:"string",foreground:"004080"},{token:"keyword",foreground:"40199a"}]}),window.monaco.editor.defineTheme("console-dark",{base:"vs-dark",inherit:!0,colors:{"editor.background":i.global_BackgroundColor_dark_100.value,"editorGutter.background":"#292e34","editorLineNumber.activeForeground":o.global_Color_light_100.value,"editorLineNumber.foreground":n.global_BackgroundColor_200.value},rules:[{token:"number",foreground:"ace12e"},{token:"type",foreground:"73bcf7"},{token:"string",foreground:"f0ab00"},{token:"keyword",foreground:"cbc1ff"}]})},6245:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(40),l=a(6088),o=a(6625),c=a(6626),u=a(6629);t.a=Object(r.m)(({pipeline:e,close:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(i.b,{initialValues:{selectedTrigger:null},onSubmit:(a,n)=>Object(o.a)(a,e).then(()=>{t()}).catch(e=>{n.setStatus({submitError:e.message})}),validationSchema:Object(u.a)()},i=>n.createElement(l.a,Object.assign({},i,{submitBtnText:a("pipelines-plugin~Remove"),submitDanger:!0,title:a("pipelines-plugin~Remove Trigger"),close:t}),n.createElement(c.a,{pipeline:e})))})},6246:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(118),l=a(131),o=a(5),c=a(6057),u=a(5846),d=a(6088),p=a(5687),m=a(6090),b=a(6630),v=a(5837);t.a=Object(r.f)(({pipeline:e,close:t,onSubmit:a})=>{var r,g,f;const{t:h}=Object(s.useTranslation)(),E=Object(c.d)(),[O,y]=Object(u.c)(null===(r=e.metadata)||void 0===r?void 0:r.name,null===(g=e.metadata)||void 0===g?void 0:g.namespace);if(!y)return n.createElement(o.S,null);const k=Object.assign(Object.assign({},Object(p.b)(e,!1,null===(f=null==O?void 0:O.metadata)||void 0===f?void 0:f.name)),{secretOpen:!1});return n.createElement(i.b,{initialValues:k,onSubmit:(n,i)=>Object(v.a)(n,e,null,E).then(e=>{a&&a(e),t()}).catch(e=>{i.setStatus({submitError:e.message}),Object(l.s)({error:e.message}),t()}),validationSchema:Object(m.c)()},e=>n.createElement(d.a,Object.assign({submitBtnText:h("pipelines-plugin~Start"),title:h("pipelines-plugin~Start Pipeline"),close:t},e),n.createElement(b.a,Object.assign({},e))))})},6247:function(e,t,a){"use strict";var n=a(0),i=a(6089),s=a(6358),r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=e=>{var{actions:t}=e,a=r(e,["actions"]);const l=Object(i.a)(t);return n.createElement(s.a,Object.assign({},a,{actions:l}))}},6248:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(55),r=a(7),l=a(5618),o=a(15),c=a(6121),u=a(6359),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=({autoCompleteValues:e})=>{const{t:t}=Object(r.useTranslation)(),{setFieldValue:a,values:{parameters:p}}=Object(s.f)();return n.createElement(s.a,{name:"parameters",key:"parameters-row",render:()=>p.length>0&&n.createElement(l.a,{title:t("pipelines-plugin~Parameters"),fullWidth:!0},p.map((t,s)=>{const r=`parameters.${s}.value`,l=Object(c.a)(t),p=e=>n.createElement(o.ab,{ref:e,name:r,type:i.b.text,label:t.name,helpText:t.description,required:l,autoComplete:"off"});return"array"===t.type?n.createElement(o.lc,{name:r,label:t.name,helpText:t.description,required:l,addLabel:"Add "+t.name,"data-test":t.name+"-text-column-field"},t=>{var{name:i}=t,s=d(t,["name"]);return e?n.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>a(r,e)},e=>n.createElement(o.ab,Object.assign({ref:e,name:i},s,{autoComplete:"off"}))):n.createElement(o.ab,Object.assign({name:i},s,{autoComplete:"off"}))}):n.createElement(n.Fragment,{key:t.name},e?n.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>a(r,e)},e=>p(e)):p())}))})}},6249:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(547),i=a(6091);const s=e=>"params."+e.name,r=e=>`workspaces.${e.name}.bound`,l=e=>`tasks.${e.name}.status`,o=(e,t)=>{const a=e.filter(e=>{var a;return null===(a=e.runAfter)||void 0===a?void 0:a.includes(t)});let i=a.map(e=>e.name);return a.some(e=>e.runAfter)&&(i=[...i,...a.map(t=>o(e,t.name)).flat()]),n.a([t,...i])},c=(e,t,a)=>{const n=e[a],s=n?o(e,n.name):[];return e.filter(e=>!s.includes(e.name)).map((r=t,e=>{const t=Object(i.e)(r,e);if(!(null==t?void 0:t.spec.results))return null;const{spec:{results:a}}=t;return a.map(t=>`tasks.${e.name}.results.${t.name}`)})).flat().filter(e=>!!e);var r},u=(e,t,a="")=>{const[n,i]=t;return`${e.substring(0,n)}${a}${e.substring(i)}`}},6250:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(4397),r=a(7),l=a(5618),o=a(6632);const c=(e,t,a)=>{const n=t.data.type;return n?Object.assign(Object.assign({},e),{[n]:[...e[n]||[],{formikIndex:a,resource:t}]}):e};t.a=()=>{const{t:e}=Object(r.useTranslation)(),[{value:t}]=Object(i.e)("resources"),a=t.reduce(c,{}),u=Object.keys(a);return n.createElement(n.Fragment,null,u.map(t=>n.createElement(i.a,{name:t,key:t,render:()=>{const i=a[t];return n.createElement(l.a,{title:e("pipelines-plugin~{{type}} resources",{type:Object(s.a)(t)}),fullWidth:!0},i.map(e=>{const{formikIndex:a,resource:i}=e;return n.createElement(o.a,{key:i.name,name:"resources."+a,filterType:t,label:i.name})}))}})))}},6251:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(55),r=a(29),l=a(499),o=a(7),c=a(5618),u=a(10),d=a(15),p=a(5588),m=a(6646),b=a(6649),v=a(6651);a(6653);t.a=()=>{const{t:e}=Object(o.useTranslation)(),{setFieldValue:t}=Object(s.f)(),[{value:a}]=Object(s.e)("workspaces"),g={[p.x.NoWorkspace]:e("pipelines-plugin~No workspace"),[p.x.EmptyDirectory]:e("pipelines-plugin~Empty Directory"),[p.x.ConfigMap]:e("pipelines-plugin~Config Map"),[p.x.Secret]:e("pipelines-plugin~Secret"),[p.x.PVC]:e("pipelines-plugin~PersistentVolumeClaim"),[p.x.VolumeClaimTemplate]:e("pipelines-plugin~VolumeClaimTemplate")};return a.length>0&&n.createElement(c.a,{title:e("pipelines-plugin~Workspaces"),fullWidth:!0},a.map((e,a)=>n.createElement("div",{className:"form-group",key:e.name},n.createElement(d.I,{name:`workspaces.${a}.type`,label:e.name,items:e.optional?g:l.a(g,p.x.NoWorkspace),onChange:e=>t(`workspaces.${a}.data`,e===p.x.EmptyDirectory?{emptyDir:{}}:{},!1),fullWidth:!0,required:!e.optional,helpText:e.description}),((e,t)=>{switch(e){case p.x.Secret:return n.createElement(m.a,{resourceNameField:`workspaces.${t}.data.secret.secretName`,resourceKeysField:`workspaces.${t}.data.secret.items`,label:r.a.t("pipelines-plugin~Secret"),resourceModel:u.SecretModel,addString:r.a.t("pipelines-plugin~Add item"),required:!0});case p.x.ConfigMap:return n.createElement(m.a,{resourceNameField:`workspaces.${t}.data.configMap.name`,resourceKeysField:`workspaces.${t}.data.configMap.items`,label:r.a.t("pipelines-plugin~Config Map"),resourceModel:u.ConfigMapModel,addString:r.a.t("pipelines-plugin~Add item"),required:!0});case p.x.EmptyDirectory:return n.createElement("div",{className:"odc-PipelineWorkspacesSection__emptydir"},n.createElement(i.a,{isInline:!0,variant:"info",title:r.a.t("pipelines-plugin~Empty Directory doesn't support shared data between tasks.")}));case p.x.VolumeClaimTemplate:return n.createElement(v.a,{name:`workspaces.${t}.data.volumeClaimTemplate`,initialSizeValue:"1",initialSizeUnit:"Gi"});case p.x.PVC:return n.createElement(b.a,{name:`workspaces.${t}.data.persistentVolumeClaim.claimName`});default:return null}})(e.type,a))))}},6252:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(118),l=a(5),o=a(5846),c=a(6088),u=a(5687),d=a(6090),p=a(6654),m=a(6658),b=a(5909);t.a=Object(r.f)(({pipeline:e,close:t})=>{var a,r,v;const{t:g}=Object(s.useTranslation)(),[f,h]=Object(o.c)(null===(a=e.metadata)||void 0===a?void 0:a.name,null===(r=e.metadata)||void 0===r?void 0:r.namespace);if(!h)return n.createElement(l.S,null);const E=Object.assign(Object.assign({},Object(u.b)(e,!0,null===(v=null==f?void 0:f.metadata)||void 0===v?void 0:v.name)),{triggerBinding:{name:m.a,resource:null}});return n.createElement(i.b,{initialValues:E,onSubmit:(a,n)=>Object(b.b)(e,a).then(()=>{t()}).catch(e=>{n.setStatus({submitError:(null==e?void 0:e.message)||g("pipelines-plugin~There was an unknown error")})}),validationSchema:Object(d.a)()},e=>n.createElement(c.a,Object.assign({submitBtnText:g("pipelines-plugin~Add"),title:g("pipelines-plugin~Add Trigger"),close:t},e),n.createElement(p.a,Object.assign({},e))))})},6253:function(e,t,a){"use strict";a.d(t,"b",(function(){return p}));var n=a(0),i=a(7),s=a(8),r=a(5586),l=a(5617),o=a(5623),c=a(6362),u=a(6181),d=a(6659);const p=e=>[{filterGroupName:e("pipelines-plugin~Status"),type:"pipelinerun-status",reducer:l.c,items:[{id:o.a.Succeeded,title:o.b[o.a.Succeeded]},{id:o.a.Running,title:o.b[o.a.Running]},{id:o.a.Failed,title:o.b[o.a.Failed]},{id:o.a.Cancelled,title:o.b[o.a.Cancelled]}],filter:l.e}];t.a=e=>{const{t:t}=Object(i.useTranslation)(),{obj:a}=e,l=n.useMemo(()=>({matchLabels:{"tekton.dev/pipeline":a.metadata.name}}),[a.metadata.name]),[o,m,b]=Object(u.b)(a.metadata.namespace,{selector:l}),v=n.useMemo(()=>({[Object(s.Hb)(r.PipelineRunModel)]:{data:o,kind:Object(s.Hb)(r.PipelineRunModel),loadError:b,loaded:m}}),[b,m,o]);return n.createElement(c.a,{showTitle:!1,canCreate:!1,kind:Object(s.Hb)(r.PipelineRunModel),namespace:a.metadata.namespace,selector:{matchLabels:{"tekton.dev/pipeline":a.metadata.name}},ListComponent:d.a,rowFilters:p(t),data:v})}},6254:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(29),i=a(5617),s=a(6363);const r=(e,t)=>{var a,r,l;if(!(null==e?void 0:e.status))return null;if("Failed"!==Object(i.d)(e))return null;const o=null===(a=e.status.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===e.type);if("False"!==(null==o?void 0:o.status))return null;const c=Object.values(t||e.status.taskRuns||{}).filter(e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===e.type&&"False"===e.status)})[0];if(!c||(u=null==o?void 0:o.reason,["StoppedRunFinally","CancelledRunFinally","PipelineRunTimeout"].includes(u)))return{staticMessage:o.message||n.a.t("pipelines-plugin~Unknown failure condition"),title:n.a.t("pipelines-plugin~Failure - check logs for details.")};var u;const d=null===(l=null===(r=c.status.steps)||void 0===r?void 0:r.find(e=>{var t;return 0!==(null===(t=e.terminated)||void 0===t?void 0:t.exitCode)}))||void 0===l?void 0:l.container;return Object(s.a)(c.pipelineTaskName,c.status,d)}},6255:function(e,t,a){},6256:function(e,t,a){},6282:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(7),r=a(5998),l=a(5676),o=a(5999),c=a(6e3),u=a(6070),d=a(6071),p=a(6072);a(6295);t.a=Object(i.observer)(({element:e})=>{const{t:t}=Object(s.useTranslation)(),{width:a,height:m}=e.getBounds(),{task:b,namespace:v}=e.getData(),{addNewFinallyListNode:g,finallyTasks:f=[],finallyListTasks:h=[],finallyLoadingTasks:E=[],finallyInvalidListTasks:O=[],onTaskSearch:y=(()=>{})}=b,k=f.length+h.length+E.length+O.length,j=l.u+l.u/2,T=l.q+l.B,R=l.u+l.r,_=l.q+l.q/2+(0===k?0:l.B),S=({taskIndex:e})=>n.createElement("path",{className:"opp-builder-finally-node__task-connectors",d:j+e*R===m/2?Object(o.b)(new i.Point(T,m/2),new i.Point(0,m/2)):Object(o.a)(new i.Point(0,m/2),new i.Point(T,j+e*R))});return n.createElement("g",{"data-test":"builder-finally-node"},n.createElement("rect",{className:"opp-builder-finally-node",width:a,height:m,rx:"20",ry:"20"}),f.map((e,t)=>n.createElement("g",{key:e.name},n.createElement(S,{taskIndex:t}),n.createElement("g",{"data-test":"finally-task-node "+e.name,transform:`translate(${T}, ${l.u*t+l.r*t+l.q})`,onClick:e.onTaskSelection},n.createElement(r.a,{task:e,namespace:v,disableTooltip:!0,selected:e.selected,width:l.x,height:l.u,isFinallyTask:!0}),e.error&&n.createElement(c.a,{x:l.c/2,y:l.d/4,errorStr:e.error})))),E.map((e,t)=>n.createElement("g",{key:e.name,"data-test":"finally-loading-task-list-node "+e.name},n.createElement(S,{taskIndex:t+f.length}),n.createElement("g",{transform:`translate(${T},\n          ${l.u*(t+f.length)+l.r*(t+f.length)+l.q})`},n.createElement(u.a,{width:l.x,height:l.u,name:e.name,key:e.name})))),O.map((e,a)=>n.createElement("g",{key:e.name,"data-test":"finally-invalid-task-list-node "+e.name},n.createElement(S,{taskIndex:a+f.length+E.length}),n.createElement("g",{transform:`translate(${T},\n              ${l.u*(a+f.length+E.length)+l.r*(a+f.length+E.length)+l.q})`},n.createElement(p.a,{width:l.x,height:l.u,onRemoveTask:e.onRemoveTask,onNewTask:e.convertList,onTaskSearch:y,unselectedText:e.name}),n.createElement(c.a,{x:l.d/2,y:l.d/4,errorStr:t("pipelines-plugin~Task does not exist")})))),h.map((e,t)=>n.createElement("g",{key:e.name,"data-test":"finally-task-list-node "+e.name},n.createElement(S,{taskIndex:t+f.length+E.length+O.length}),n.createElement("g",{transform:`translate(${T},\n              ${l.u*(t+f.length+E.length+O.length)+l.r*(t+f.length+E.length+O.length)+l.q})`},n.createElement(p.a,{width:l.x,height:l.u,onRemoveTask:e.onRemoveTask,onNewTask:e.convertList,onTaskSearch:y})))),n.createElement("g",{transform:`translate(${_}, ${k*l.u+(k-1)*l.r+l.u+l.p+l.q})`,style:{cursor:"pointer"},onClick:g},n.createElement("g",null,n.createElement(d.a,{x:0,y:l.p-l.o,tooltip:t("pipelines-plugin~Add finally task")}),n.createElement("text",{x:l.o,"data-test":"add-finally-node",className:"opp-builder-finally-node__text"},t("pipelines-plugin~Add finally task")))))})},6283:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(5676),r=a(5834);a(6285);t.a=({width:e,height:t,enableTooltip:a,appendLine:l=!1,status:o,leftOffset:c=2,isFinallyTask:u,isPipelineRun:d})=>{const p=n.useRef(),{tooltipContent:m,diamondColor:b}=Object(r.l)(o,d,u),v=Math.round(e*Math.sin(45))+Math.round(t*Math.cos(45)),g=n.createElement("g",{transform:`translate(-${e*c}, ${s.u/2-v/2})`,ref:p},n.createElement("rect",{"data-test":"diamond-decorator",className:"opp-when-expression-decorator-diamond",width:e,height:t,fill:b,stroke:d?b:"var(--pf-v5-global--BorderColor--light-100)"}),l&&n.createElement("line",{x1:v/2,y1:v/2,x2:e*c,y2:v/2,stroke:"var(--pf-v5-global--BorderColor--light-100)"}));return a?n.createElement(i.a,{triggerRef:p,position:"bottom",enableFlip:!1,content:n.createElement("div",{"data-test":"when-expression-tooltip"},m)},g):g}},6284:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));class n{constructor(){this.names=[],this.vertices=new Map}visit(e,t,a,n){const{name:i}=e,s=e.dependancy,r=e.dependancyNames,l=r.length;if(a||(a=new Map),n||(n=[]),!a.has(i)){n.push(i),a.set(i,!0);for(let e=0;e<l;e++)this.visit(s[r[e]],t,a,n);t(e,n),n.pop()}}map(e,t){this.addVertex(e).data=t}addVertex(e){if(!e)return null;if(this.vertices.has(e))return this.vertices.get(e);const t={name:e,level:0,dependancy:{},dependancyNames:[],hasOutgoing:!1,data:{}};return this.vertices.set(e,t),this.names.push(e),t}addEdge(e,t){if(!e||!t||e===t)return;const a=this.addVertex(e),n=this.addVertex(t);if(n.dependancy[e])return;this.visit(a,(e,a)=>{if(e.name===t)throw new Error(`cycle detected: ${a.reverse().join(" --\x3e ")} --\x3e ${t}`);e.level=a.length}),a.hasOutgoing=!0,n.dependancy[e]=a,n.dependancyNames.push(e)}addEdges(e,t,a,n){this.map(e,t),a&&("string"==typeof a?this.addEdge(e,a):a.forEach(t=>this.addEdge(e,t))),n&&("string"==typeof n?this.addEdge(n,e):n.forEach(t=>this.addEdge(t,e)))}topologicalSort(e){const t=new Map,{vertices:a}=this,{names:n}=this,i=n.length;for(let s=0;s<i;s++){const i=a.get(n[s]);i.hasOutgoing||this.visit(i,e,t)}}printGraph(){const e=[];return this.topologicalSort((t,a)=>{t.data.stage=this.names.length-a.length,e.push(t.name)}),console.log(e.join(" --\x3e ")),e.join(" --\x3e ")}}},6285:function(e,t,a){},6286:function(e,t,a){},6287:function(e,t,a){},6288:function(e,t,a){},6289:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(874),r=a(5676);a(6290);t.a=({content:e,x:t,y:a})=>{const l=n.useRef();return n.createElement(i.a,{triggerRef:l,content:e},n.createElement("g",{ref:l,className:"opp-installing-node-decorator",transform:`translate(${t}, ${a})`,onClick:e=>{e.stopPropagation()}},n.createElement("circle",{cx:0,cy:0,r:r.d,className:"opp-installing-node-decorator__circle"}),n.createElement("g",{transform:"translate(-5, -7)"},n.createElement(s.a,{className:"fa-spin"}))))}},6290:function(e,t,a){},6291:function(e,t,a){},6292:function(e,t,a){},6293:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(6262),r=a(8013),l=a(5676);a(6294);t.a=({content:e,x:t,y:a,removeCallback:o=(()=>{})})=>{const c=n.useRef();return n.createElement(i.a,{triggerRef:c,content:e},n.createElement("g",{ref:c,className:"opp-remove-node-decorator",transform:`translate(${t}, ${a})`,onClick:e=>{e.stopPropagation(),o()},"data-id":"delete-task"},n.createElement("circle",{cx:0,cy:0,r:l.d,fill:r.a.value}),n.createElement("g",{transform:"translate(-6, -6)"},n.createElement(s.a,{color:"white"}))))}},6294:function(e,t,a){},6295:function(e,t,a){},6296:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(5585),r=a(7),l=a(5676),o=a(6e3),c=a(6071),u=a(6073);t.a=Object(s.observer)(({element:e})=>{const{t:t}=Object(r.useTranslation)(),[a,d]=Object(s.useHover)(),{width:p,height:m}=e.getBounds(),b=e.getData(),{error:v,onAddNode:g,onNodeSelection:f}=b;return n.createElement("g",{className:"odc-builder-node","data-test":"builder-node "+b.task.name,ref:d},n.createElement("rect",{x:2*-l.c,y:0,width:p+4*l.c,height:m+2*l.c,fill:"transparent"}),n.createElement("g",{onClick:()=>f(b)},n.createElement(u.a,{element:e,disableTooltip:!0}),v&&n.createElement(o.a,{x:l.d/2,y:l.d/4,errorStr:v})),n.createElement("g",{style:{display:a?"block":"none"}},n.createElement(c.a,{"data-test":"add-after",x:p+l.c+l.b,y:m/2,tooltip:t("pipelines-plugin~Add a sequential task after this task"),onClick:()=>g(l.a.AFTER)}),n.createElement(c.a,{"data-test":"add-before",x:-l.c-l.b,y:m/2,tooltip:t("pipelines-plugin~Add a sequential task before this task"),onClick:()=>g(l.a.BEFORE)}),n.createElement(c.a,{"data-test":"add-parallel",x:p/2,y:m+l.c+l.b,tooltip:t("pipelines-plugin~Add a parallel task"),tooltipPosition:i.b.bottom,onClick:()=>g(l.a.PARALLEL)})))})},6297:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(6299),r=a.n(s),l=a(6408),o=a(5585),c=a(18),u=a(16),d=a(7),p=a(14),m=a(83),b=a(695),v=a(5),g=a(5586),f=a(6066);a(6298);const h=({pipelineRunName:e,namespace:t,task:a,name:s,disableVisualizationTooltip:m,width:b,height:h,customTask:E})=>{var O;const{t:y}=Object(d.useTranslation)(),k=!!e,j=s||u.a(a,["metadata","name"],""),T=n.useRef(),R=n.useRef(),_=""+Object(v.uc)(g.CustomRunModelV1Beta1,null===(O=null==E?void 0:E.metadata)||void 0===O?void 0:O.name,t),S=!!_,[N,P]=Object(o.useHover)(),w=n.useMemo(()=>Object(v.Bc)(j,{length:k?11:14,truncateEnd:!0}),[j,k]),C=n.createElement("text",{ref:T,x:k?30:b/2,y:h/2+1,className:c("odc-pipeline-vis-task-text",{"is-text-center":!e,"is-linked":S})},w);let x=n.createElement("g",{ref:P},n.createElement(f.a,{dy:1,id:"SvgTaskDropShadowFilterId"}),n.createElement("rect",{filter:N?Object(o.createSvgIdUrl)("SvgTaskDropShadowFilterId"):"",width:b,height:h,rx:5,className:c("odc-pipeline-vis-task",{"is-selected":!!e&&N,"is-linked":!!e&&S}),style:{stroke:l.global_palette_black_500.value}}),j!==w&&m?n.createElement(i.a,{triggerRef:T,content:j},C):C,k&&n.createElement(n.Fragment,null,n.createElement("svg",{width:30,height:30,viewBox:"-10 -7 30 30",style:{color:l.global_palette_black_500.value}},n.createElement(r.a,null))));return m||(x=n.createElement(i.a,{triggerRef:R,position:"bottom",enableFlip:!1,content:y("pipelines-plugin~Custom Task")},n.createElement("g",{ref:R},x))),n.createElement("g",{className:c("odc-pipeline-topology__task-node",{"is-link":S})},S?n.createElement(p.Link,{to:_},x):x)};t.a=n.memo(Object(o.observer)(({element:e,disableTooltip:t})=>{var a,i,s,r,l;const{height:o,width:c}=e.getBounds(),{pipeline:u,pipelineRun:d,task:p}=e.getData(),v=`${null===(a=null==d?void 0:d.metadata)||void 0===a?void 0:a.name}-${null==p?void 0:p.name}`,f={customRun:{groupVersionKind:Object(m.getGroupVersionKindForModel)(g.CustomRunModelV1Beta1),name:v,namespace:null===(i=null==u?void 0:u.metadata)||void 0===i?void 0:i.namespace,prop:"task"}},E=Object(b.d)(f);return n.createElement(h,{pipelineRunName:null===(s=null==d?void 0:d.metadata)||void 0===s?void 0:s.name,name:p.name||"",task:p.taskSpec&&{data:{spec:p.taskSpec}},namespace:null===(r=null==u?void 0:u.metadata)||void 0===r?void 0:r.namespace,disableVisualizationTooltip:t,width:c,height:o,customTask:null===(l=E.customRun)||void 0===l?void 0:l.data})}))},6298:function(e,t,a){},6300:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(5617),r=a(5998),l=a(5676),o=a(5999);a(6301);t.a=Object(i.observer)(({element:e})=>{const{task:t,pipeline:a,pipelineRun:c}=e.getData(),{width:u,height:d}=e.getBounds(),p=l.u+l.u/2,m=l.q+l.B,b=l.u+l.r,{finallyTasks:v=[]}=t;return n.createElement("g",{transform:"translate(0.5, 0.5)","data-test":"finally-node"},n.createElement("rect",{className:"opp-finally-node",strokeWidth:1,width:u,height:d,rx:"20",ry:"20"}),v.map((e,t)=>{var u,v,g,f;return n.createElement("g",{key:e.name,"data-test":"finally-task-node "+e.name},n.createElement("path",{className:"opp-finally-node__connector",d:p+t*b===d/2?Object(o.b)(new i.Point(m,d/2),new i.Point(0,d/2)):Object(o.a)(new i.Point(0,d/2),new i.Point(m,p+t*b))}),n.createElement("g",{transform:`translate(${m}, ${l.u*t+l.r*t+l.q})`},n.createElement(r.a,{pipelineRunName:null===(u=null==c?void 0:c.metadata)||void 0===u?void 0:u.name,task:e,pipelineRunStatus:c&&Object(s.c)(c),namespace:null===(v=null==a?void 0:a.metadata)||void 0===v?void 0:v.namespace,selected:e.selected,width:l.x,height:l.u,isFinallyTask:!0,isSkipped:null===(f=null===(g=null==c?void 0:c.status)||void 0===g?void 0:g.skippedTasks)||void 0===f?void 0:f.some(t=>t.name===e.name)})))}))})},6301:function(e,t,a){},6302:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(7),r=a(5676),l=a(6e3),o=a(6074);t.a=Object(i.observer)(({element:e})=>{const{t:t}=Object(s.useTranslation)(),{task:{name:a}}=e.getData();return n.createElement("g",null,n.createElement(o.a,{element:e,unselectedText:a}),n.createElement(l.a,{x:r.d/2,y:r.d/4,errorStr:t("pipelines-plugin~Task does not exist")}))})},6303:function(e,t,a){},6304:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(6070);t.a=Object(i.observer)(({element:e})=>{const{height:t,width:a}=e.getBounds(),{task:{name:i}}=e.getData();return n.createElement(s.a,Object.assign({},{width:a,height:t,name:i}))})},6305:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(5585),r=a(18),l=a.n(r),o=a(5668),c=a(14),u=a(83),d=a(5),p=a(8),m=a(206),b=a(5586),v=a(5595),g=a(5617),f=a(5588),h=a(6068),E=a(6069),O=a(5676),y=a(5834),k=(a(6306),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a});t.a=n.memo(Object(o.a)(e=>{var t,a,r,o,j,T,R,_,S,N,P,w,C,x,I,L,A,D,{element:M,onContextMenu:F,contextMenuOpen:U}=e,B=k(e,["element","onContextMenu","contextMenuOpen"]);const q=M.getData(),[$,K]=Object(s.useHover)(),G=n.useRef(),V=Object(s.useDetailsLevel)(),W=Object(m.a)(f.e),H=M.getType()===O.y.FINALLY_NODE;let Y;W||(null===(a=null===(t=q.task)||void 0===t?void 0:t.taskRef)||void 0===a?void 0:a.kind)!==b.ClusterTaskModel.kind?(null===(r=q.task)||void 0===r?void 0:r.taskRef)&&(Y={kind:Object(p.Hb)(b.TaskModel),name:q.task.taskRef.name,namespace:q.pipeline.metadata.namespace,prop:"task"}):Y={kind:Object(p.Hb)(b.ClusterTaskModel),name:q.task.taskRef.name,prop:"task"};const[z]=Object(u.useK8sWatchResource)(Y),Q=z&&Object.keys(z).length?z:q.task,J=(null===(o=null==Q?void 0:Q.status)||void 0===o?void 0:o.steps)||(null===(j=null==Q?void 0:Q.spec)||void 0===j?void 0:j.steps)||(null===(T=null==Q?void 0:Q.taskSpec)||void 0===T?void 0:T.steps)||[],Z=q.pipelineRun&&Object(g.c)(q.pipelineRun),X=!(!Q||!(null===(S=null===(_=null===(R=q.pipelineRun)||void 0===R?void 0:R.status)||void 0===_?void 0:_.skippedTasks)||void 0===S?void 0:S.some(e=>e.name===q.task.name,e=>e.name===Q.name))),ee=(null===(N=q.task)||void 0===N?void 0:N.status)||{duration:"",reason:v.a.Idle};Z!==v.a.Failed&&Z!==v.a.Cancelled||(null===(w=null===(P=q.task)||void 0===P?void 0:P.status)||void 0===w?void 0:w.reason)!==v.a.Idle&&(null===(x=null===(C=q.task)||void 0===C?void 0:C.status)||void 0===x?void 0:x.reason)!==v.a.Pending||(ee.reason=v.a.Cancelled),X&&(ee.reason=v.a.Skipped);const te=J.map(e=>Object(h.a)(e,ee)),{pipelineRun:ae}=q,ne=te.filter(({status:e})=>e===v.a.Succeeded).length,ie=te.length>0&&q.status?`${ne}/${te.length}`:null,se=n.useMemo(()=>{const e=Object.assign({},q);return Object.keys(e).forEach(t=>{void 0===e[t]&&delete e[t]}),e},[q]),re=!(!q.taskIconClass&&!q.taskIcon),le=Object(y.k)(null===(L=null===(I=q.task)||void 0===I?void 0:I.status)||void 0===L?void 0:L.reason),oe=q.whenStatus?n.createElement(s.WhenDecorator,{element:M,status:q.whenStatus,leftOffset:re?s.DEFAULT_WHEN_OFFSET+.75*(M.getBounds().height-4):s.DEFAULT_WHEN_OFFSET,toolTip:le}):null,{name:ce,namespace:ue}=null==ae?void 0:ae.metadata,de=ce?`${Object(d.uc)(b.PipelineRunModel,ce,ue)}/logs?taskName=${M.getLabel()}`:void 0,pe=q.status!==v.a.Idle&&q.status!==v.a.Pending&&q.status!==v.a.Cancelled&&q.status!==v.a.Skipped&&!!de,me=n.createElement(s.TaskNode,Object.assign({className:"odc-pipeline-topology__task-node",element:M,onContextMenu:q.showContextMenu?F:void 0,contextMenuOpen:U,scaleNode:($||U)&&V!==s.ScaleDetailsLevel.high,hideDetailsAtMedium:!0},se,B,{badge:ie,truncateLength:null===(D=null===(A=M.getData())||void 0===A?void 0:A.label)||void 0===D?void 0:D.length}),oe),be=l()("odc-pipeline-topology__task-node",{"is-link":pe});return n.createElement(s.Layer,{id:V!==s.ScaleDetailsLevel.high&&($||U)?s.TOP_LAYER:s.DEFAULT_LAYER},n.createElement("g",{"data-test":"task "+M.getLabel(),className:be,ref:K},n.createElement(i.a,{enableFlip:!0,triggerRef:G,content:n.createElement(E.a,{isSpecOverview:!q.status,taskName:M.getLabel(),steps:te,isFinallyTask:H})},n.createElement("g",{ref:G},pe?n.createElement(c.Link,{to:de},me):me))))}))},6306:function(e,t,a){},6307:function(e,t,a){"use strict";var n=a(0),i=a(5999);t.a=({element:e})=>{const t=e.getStartPoint(),a=e.getEndPoint(),s=e.getSource(),r=e.getTarget();return n.createElement("path",{d:Object(i.a)(t.clone().translate(s.getBounds().width/2-1,0),a.clone().translate(-r.getBounds().width/2,0)),stroke:"var(--pf-v5-global--BorderColor--light-100)",fill:"none",transform:"translate(0.5,0.5)"})}},6308:function(e,t,a){"use strict";var n=a(0),i=a(5585),s=a(2246),r=a(5676),l=a(6049),o=a(5834);t.a=({model:e,componentFactory:t,showControlBar:a=!1,noScrollbar:c=!1})=>{const[u,d]=n.useState(null),[p,m]=n.useState(null),[b,v]=n.useState(null),g=n.useRef(null),f=e.graph.layout,h=n.useCallback(e=>{const t=e.map(e=>e.getBounds()),a=Math.floor(t.map(e=>e.width).reduce((e,t)=>Math.max(e,t),0)),n=Math.floor(t.map(e=>e.height).reduce((e,t)=>Math.max(e,t),0)),i=t.find(e=>e.height===n),s=Math.floor(t.map(e=>e.x).reduce((e,t)=>Math.max(e,t),0)),l=Math.floor(t.map(e=>e.y).reduce((e,t)=>Math.max(e,t),0));let c=0,u=0;f&&(c=Object(o.j)(f).marginx||0,u=Object(o.j)(f).marginy||0);const d=i.y+n+r.m+2*u,p=l+r.u+r.m+2*u;m({height:Math.max(d,p)+r.A,width:Math.max(s+a+r.m+2*c,r.t)})},[m,f]);if(n.useEffect(()=>{if(null===u){const a=new i.Visualization;a.registerLayoutFactory(l.c),a.registerComponentFactory(t),a.fromModel(e),a.addEventListener(i.GRAPH_POSITION_CHANGE_EVENT,()=>{g.current=a.getGraph().toModel()}),a.addEventListener(i.GRAPH_LAYOUT_END_EVENT,()=>{h(a.getGraph().getNodes())}),d(a)}else{const t=g.current;t&&(e.graph=t),u.fromModel(e),u.getGraph().layout()}},[u,e,h,t]),n.useEffect(()=>{if(e&&u){const t=g.current;t&&(e.graph=t),u.fromModel(e)}},[e,u]),!u)return null;return n.createElement(s.a,{bounds:!0,onResize:e=>{var t;v(null===(t=e.bounds)||void 0===t?void 0:t.width)}},({measureRef:e})=>{return n.createElement("div",{ref:e},n.createElement("div",{style:{height:c?null==p?void 0:p.height:Math.min(r.s/100*window.innerHeight,null==p?void 0:p.height),width:c?null==p?void 0:p.width:Math.min(null==p?void 0:p.width,b)}},n.createElement(i.VisualizationProvider,{controller:u},a?n.createElement(i.TopologyView,{controlBar:(t=u,n.createElement(i.TopologyControlBar,{controlButtons:Object(i.createTopologyControlButtons)(Object.assign(Object.assign({},i.defaultControlButtonsOptions),{zoomInCallback:Object(i.action)(()=>{t.getGraph().scaleBy(4/3)}),zoomOutCallback:Object(i.action)(()=>{t.getGraph().scaleBy(.75)}),fitToScreenCallback:Object(i.action)(()=>{t.getGraph().fit(80)}),resetViewCallback:Object(i.action)(()=>{t.getGraph().reset(),t.getGraph().layout()}),legend:!1}))}))},n.createElement(i.VisualizationSurface,null)):n.createElement(i.VisualizationSurface,null))));var t})}},6309:function(e,t,a){},6310:function(e,t,a){},6311:function(e,t,a){"use strict";var n=a(0),i=a(72),s=a(219),r=a(241),l=a(130),o=a(7304),c=a(55),u=a(16),d=a(7),p=a(5618),m=a(5648),b=a(6312),v=a(6075);t.a=({pac:e,formContextField:t})=>{const{values:a,setFieldValue:g}=Object(c.f)(),f=t?t+".":"",{method:h}=u.a(a,t)||a,{t:E}=Object(d.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(i.a,null,E("pipelines-plugin~A GitHub App is already set up for this cluster. To use it, install the GitHub app on your personal account or GitHub organization.")),n.createElement("br",null),n.createElement(p.a,{extraMargin:!0},n.createElement(s.a,{fieldId:"method"},n.createElement(r.a,null,n.createElement(l.a,{span:3},n.createElement(o.a,{"data-test":"github",title:E("pipelines-plugin~Use GitHub App"),onClick:()=>g(f+"method",m.b.GITHUB),isSelected:h===m.b.GITHUB})),n.createElement(l.a,{span:3},n.createElement(o.a,{"data-test":"webhook",title:E("pipelines-plugin~Setup a webhook"),onClick:()=>g(f+"method",m.b.WEBHOOK),isSelected:h===m.b.WEBHOOK}))))),n.createElement(p.a,{fullWidth:h===m.b.WEBHOOK||!f},h===m.b.GITHUB&&n.createElement(b.a,{pac:e}),h===m.b.WEBHOOK&&n.createElement(v.a,{pac:e,formContextField:t})))}},6312:function(e,t,a){"use strict";var n=a(0),i=a(72),s=a(7);t.a=({pac:e})=>{var t,a;const{t:r}=Object(s.useTranslation)(),l=null!==(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t["app-link"])&&void 0!==a?a:"";return n.createElement(i.a,null,n.createElement(s.Trans,{t:r,ns:"pipelines-plugin"},"Use"," ",n.createElement("a",{target:"_blank",href:l,rel:"noopener noreferrer"},l)," ","link to install the GitHub Application to your repositories in your organisation/account."))}},6313:function(e,t,a){"use strict";var n=a(0),i=a(1399),s=a(970),r=a(55),l=a(16),o=a(7),c=a(5591);t.a=({formContextField:e})=>{const{t:t}=Object(o.useTranslation)(),{values:a}=Object(r.f)(),{gitProvider:u}=l.a(a,e)||a;let d;switch(u){case c.b.GITHUB:d=n.createElement(i.a,null,n.createElement(s.a,null,t("pipelines-plugin~Commit comments")),n.createElement(s.a,null,t("pipelines-plugin~Issue comments")),n.createElement(s.a,null,t("pipelines-plugin~Pull request")),n.createElement(s.a,null,t("pipelines-plugin~Pushes")));break;case c.b.GITLAB:d=n.createElement(i.a,null,n.createElement(s.a,null,t("pipelines-plugin~Merge request Events")),n.createElement(s.a,null,t("pipelines-plugin~Push Events")));break;case c.b.BITBUCKET:d=n.createElement(i.a,null,n.createElement(s.a,null,t("pipelines-plugin~Repository: Push")),n.createElement(s.a,null,t("pipelines-plugin~Pull Request: Created")),n.createElement(s.a,null,t("pipelines-plugin~Pull Request: Updated")),n.createElement(s.a,null,t("pipelines-plugin~Pull Request: Comment Created")));break;default:d=null}return d}},6357:function(e,t,a){"use strict";var n=a(6245);a.d(t,"b",(function(){return n.a}));var i=a(6246);a.d(t,"c",(function(){return i.a}));var s=a(6252);a.d(t,"a",(function(){return s.a}))},6358:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a(1122),s=a(225),r=a(7),l=a(5),o=a(567);const c=Object(o.a)(e=>{const{t:t}=Object(r.useTranslation)(),{actions:a,kindObj:o,resource:c,isDisabled:u,customData:d,terminatingTooltip:p}=e;if(!o)return null;const m=i.a(a.map(e=>e(o,c,null,d)),"hidden");return n.createElement(l.F,{options:m,key:c.metadata.uid,isDisabled:null!=u?u:0===m.length,terminatingTooltip:s.a(c.metadata,"deletionTimestamp")?p||t("pipelines-plugin~Resource is being deleted."):""})})},6359:function(e,t,a){"use strict";var n=a(0),i=a(951),s=a(685),r=a(562),l=a(684),o=a(7),c=a(5),u=a(1211),d=a(6631);t.a=({autoCompleteValues:e,children:t,onAutoComplete:a})=>{const{t:p}=Object(o.useTranslation)(),{contentRefCallback:m,focusTrapProps:b,insertAutoComplete:v,popperProps:g,menuWidth:f,options:h}=Object(d.a)(e,a);return n.createElement(n.Fragment,null,t(m),n.createElement(c.Cb,null,e=>n.createElement(u.a,Object.assign({},g,{placement:"bottom-start",closeOnEsc:!0,closeOnOutsideClick:!0,container:e,popperOptions:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1},flip:{enabled:!1}}}}),n.createElement(i.a,Object.assign({},b),n.createElement(s.a,{style:{maxHeight:200,overflow:"auto",width:f},onSelect:(e,t)=>{const a=h[t];a&&v(a)}},n.createElement(r.a,null,0===h.length?n.createElement(l.a,{key:0,itemId:-1,isDisabled:!0},p("pipelines-plugin~No options matching your criteria")):h.map((e,t)=>n.createElement(l.a,{key:t,itemId:t},e))))))))}},6360:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r}));var n,i=a(16);!function(e){e.alphaInputResources="spec.inputs.resources",e.alphaOutputResources="spec.outputs.resources",e.alphaParameters="spec.inputs.params",e.betaInputResources="spec.resources.inputs",e.betaOutputResources="spec.resources.outputs",e.betaParameters="spec.params"}(n||(n={}));const s=e=>{const t=Object(i.a)(e,n.alphaInputResources)||Object(i.a)(e,n.betaInputResources),a=Object(i.a)(e,n.alphaOutputResources)||Object(i.a)(e,n.betaOutputResources);return t||a?{inputs:t,outputs:a}:{}},r=e=>Object(i.a)(e,n.alphaParameters)||Object(i.a)(e,n.betaParameters)||[]},6361:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r}));var n=a(55),i=a(6249);const s=e=>{const{values:{formData:{params:t,tasks:a,workspaces:s},taskResources:r}}=Object(n.f)(),{taskIndex:l,isFinallyTask:o}=e||{},c=t.map(i.c),u=s.map(i.e);let d=[];o&&(d=a.map(i.d));const p=Object(i.a)(a,r,l);return[...c,...u,"context.pipelineRun.name","context.pipelineRun.namespace","context.pipelineRun.uid","context.pipeline.name",...d,...p]},r=()=>{var e,t,a;const{values:{triggerBinding:s}}=Object(n.f)();return[...(null===(a=null===(t=null===(e=null==s?void 0:s.resource)||void 0===e?void 0:e.spec)||void 0===t?void 0:t.params)||void 0===a?void 0:a.map(e=>"tt."+Object(i.c)(e)))||[],"uid"]}},6362:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(0),i=(a(281),a(19)),s=a(18),r=a(373),l=a(22),o=a(107),c=a(333),u=a(16),d=a(50),p=a(7),m=a(31),b=a(14),v=a(121),g=a(765),f=a(1003),h=a(1436),E=a(5),O=a(8),y=a(15),k=a(198),j=a(7482);const T=e=>{const{flatten:t,ListComponent:a,reduxIDs:i,rowFilters:s,textFilter:o,nameFilterPlaceholder:c,labelFilterPlaceholder:u,hideNameLabelFilters:d,hideLabelFilter:p,columnLayout:b,name:g,nameFilter:h,data:E}=e,O=Object(m.useDispatch)(),k=Object(y.De)(i);n.useEffect(()=>{r.a(h)||k.forEach(e=>O(Object(v.b)(e,"name",{selected:[h]})))},[O,h,k]);const j=t?t(E):[],T=n.createElement(f.a,Object.assign({rowFilters:s,nameFilterPlaceholder:c,labelFilterPlaceholder:u,reduxIDs:i,textFilter:o,hideNameLabelFilters:d,hideLabelFilter:p,columnLayout:b,uniqueFilterName:g},e,{data:j}));return n.createElement("div",null,!l.a(j)&&T,n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-12"},n.createElement(a,Object.assign({},e,{data:j})))))};T.displayName="ListPageWrapper_";const R=e=>{const{cluster:t,resources:a,textFilter:r,canCreate:u,createAccessReview:d,createButtonText:p,createProps:m={},helpText:v,badge:g,title:f}=e,O=Object(b.useNavigate)(),[y,k]=n.useState([]),[j]=n.useState();n.useEffect(()=>{new URLSearchParams(window.location.search).forEach((e,t)=>T(t,e));const e=a.map(e=>Object(E.lc)(Object(E.jc)(e.kind),Object(E.kc)(e.namespace,e.selector,e.fieldSelector,e.name)));k(e)},[]),n.useEffect(()=>{const e=a.map(e=>Object(E.lc)(Object(E.jc)(e.kind),Object(E.kc)(e.namespace,e.selector,e.fieldSelector,e.name)));o.a(e,y)||k(e)},[t,a]);const T=(t,a)=>{["q","kind","orderBy","sortBy"].includes(t)||0!==t.indexOf(h.c)&&(y.forEach(n=>e.filterList(n,t,a)),((e,t)=>{if(e!==r)return;const a=new URLSearchParams(window.location.search);t?a.set(e,t):a.delete(e);const n=new URL(window.location.href);O(`${n.pathname}?${a.toString()}${n.hash}`,{replace:!0})})(t,a))},R=e=>{const t=c.a(m.action)&&m.action(e);t?t():c.a(m.createLink)&&O(m.createLink(e),{replace:!0})};let _;return u&&(_=m.to?n.createElement(b.Link,{className:"co-m-primary-action",to:m.to},n.createElement(i.a,{variant:"primary",id:"yaml-create","data-test":"item-create"},p)):m.items?n.createElement("div",{className:"co-m-primary-action"},n.createElement(E.t,{buttonClassName:"pf-m-primary",id:"item-create",dataTest:"item-create",menuClassName:s({"pf-m-align-right-on-md":f}),title:p,noSelection:!0,items:m.items,onChange:R})):n.createElement("div",{className:"co-m-primary-action"},n.createElement(i.a,Object.assign({variant:"primary",id:"yaml-create","data-test":"item-create"},m),p)),l.a(d)||(_=n.createElement(E.eb,{model:d.model,namespace:d.namespace},_))),n.createElement(n.Fragment,null,n.createElement(E.Z,{title:f,badge:f?g:null,className:s({"co-m-nav-title--row":_})},_&&n.createElement("div",{className:s({"co-m-pane__createLink--no-title":!f})},_),!f&&g&&n.createElement("div",null,g)),v&&n.createElement("p",{className:"co-m-pane__help-text co-help-text"},v),n.createElement("div",{className:"co-m-pane__body co-m-pane__body--no-top-margin"},Object(E.gc)(e.children,{resources:a,expand:j,reduxIDs:y,applyFilter:T})))};R.displayName="FireMan";const _=Object(k.e)(e=>{const{autoFocus:t,canCreate:a,createButtonText:i,createHandler:s,customData:r,fieldSelector:o,filterLabel:c,labelFilterPlaceholder:d,nameFilterPlaceholder:m,filters:v,helpText:f,kind:h,limit:y,ListComponent:k,mock:j,name:T,nameFilter:R,namespace:_,selector:N,showTitle:P=!0,skipAccessReview:w,textFilter:C,badge:x,hideLabelFilter:I,hideNameLabelFilters:L,hideColumnManagement:A,columnLayout:D,data:M,flatten:F=(e=>{var t;return null===(t=u.a(e,h))||void 0===t?void 0:t.data})}=e,{t:U}=Object(p.useTranslation)(),B=Object(b.useParams)();let{createProps:q}=e;const $=Object(E.jc)(h),{label:K,labelKey:G,labelPlural:V,labelPluralKey:W,namespaced:H,plural:Y}=$,z=e.title||U(W)||V,Q=!_&&H?B.ns:_;let J=Q?`/k8s/ns/${Q||"default"}/${Y}/~new`:`/k8s/cluster/${Y}/~new`;if($.crd)try{const e=Object(O.Hb)($);J=Q?`/k8s/ns/${Q||"default"}/${e}/~new`:`/k8s/cluster/${e}/~new`}catch(e){}q=q||(s?{onClick:s}:{to:J});const Z=w?null:{model:$,namespace:Q},X=[{fieldSelector:o,filters:v,kind:h,limit:y,name:T,namespaced:H,selector:N,prop:h}],ee=l.a(v)?e.rowFilters:void 0;return!H&&Q?n.createElement(g.ErrorPage404,null):n.createElement(S,{autoFocus:t,canCreate:a,createAccessReview:Z,createButtonText:i||U("public~Create {{label}}",{label:U(G)||K}),createProps:q,customData:r,filterLabel:c||U("public~by name"),nameFilterPlaceholder:m,labelFilterPlaceholder:d,flatten:F,helpText:f,label:U(W)||V,ListComponent:k,mock:j,namespace:Q,resources:X,rowFilters:ee,showTitle:P,textFilter:C,title:z,badge:x,hideLabelFilter:I,hideNameLabelFilters:L,hideColumnManagement:A,columnLayout:D,nameFilter:R,data:M})},k.b);_.displayName="ListPage";const S=e=>{const{autoFocus:t,canCreate:a,createAccessReview:i,createButtonText:s,createProps:r,filterLabel:l,nameFilterPlaceholder:o,labelFilterPlaceholder:c,flatten:u,helpText:m,label:b,ListComponent:v,mock:g,namespace:f,rowFilters:h,showTitle:E=!0,staticFilters:O,textFilter:y,title:k,customData:_,badge:S,hideLabelFilter:N,hideNameLabelFilters:P,hideColumnManagement:w,columnLayout:C,nameFilter:x,data:I}=e,{t:L}=Object(p.useTranslation)(),A=d.a(e.resources,e=>Object.assign(Object.assign({},e),{isList:void 0===e.isList||e.isList,namespace:e.namespaced?f:e.namespace,prop:e.kind}));return n.createElement(R,{autoFocus:t,canCreate:a,createAccessReview:i,createButtonText:s||L("public~Create"),createProps:r,filterLabel:l||L("public~by name"),helpText:m,resources:g?[]:A,textFilter:y,title:E?k:void 0,badge:S},n.createElement(j.a,{data:I},n.createElement(T,{flatten:u,kinds:d.a(A,"kind"),label:b,ListComponent:v,textFilter:y,rowFilters:h,staticFilters:O,customData:_,hideLabelFilter:N,hideNameLabelFilters:P,hideColumnManagement:w,columnLayout:C,nameFilterPlaceholder:o,labelFilterPlaceholder:c,nameFilter:x,namespace:f,resources:I,data:I})))};S.displayName="MultiListPage"},6363:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(29);const i=(e,t,a)=>{return(null==t?void 0:t.podName)&&a?{containerName:a,podName:t.podName,title:n.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})}:{staticMessage:(i=t.conditions,i.map(e=>e.message).join("\n")||n.a.t("pipelines-plugin~Unknown failure condition")),title:n.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})};var i}},6364:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return s})),function(e){e.Add="Add",e.Install="Install",e.Update="Update"}(n||(n={}));const i="Tektonhub",s="ArtifactHub"},6432:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5),l=a(15),o=a(5586),c=a(7485);t.a=({pipelineRun:e,taskRuns:t,taskRunsLoaded:a,taskRunStatusObj:u})=>{var d,p,m,b;const{t:v}=Object(i.useTranslation)(),g=u&&(null===(d=Object.values(u))||void 0===d?void 0:d.every(e=>0===e))?n.createElement(n.Fragment,null,l.E):u?n.createElement(c.b,{taskRunStatusObj:u}):a&&(null==t?void 0:t.length)>0?n.createElement(c.a,{key:null===(p=e.metadata)||void 0===p?void 0:p.name,pipelinerun:e,taskRuns:t}):a&&0===(null==t?void 0:t.length)&&!u?n.createElement(n.Fragment,null,l.E):n.createElement(r.T,null);return(null===(m=e.metadata)||void 0===m?void 0:m.name)&&(null===(b=e.metadata)||void 0===b?void 0:b.namespace)?n.createElement(s.Link,{to:Object(r.uc)(o.PipelineRunModel,e.metadata.name,e.metadata.namespace)+"/logs",role:"button","aria-label":v("pipelines-plugin~View logs")},g):g}},6433:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a(8),s=a(5586),r=a(5635);const l=e=>{const[t,a]=n.useState(null);return n.useEffect(()=>{var t;const n={spec:{tasks:[]}},l=Object(r.d)(e);if(l)a(l);else if(null===(t=e.spec.pipelineRef)||void 0===t?void 0:t.name){const t=e.spec.pipelineRef.name;Object(i.kb)(s.PipelineModel,t,e.metadata.namespace).then(e=>{a(e)}).catch(()=>a(n))}else a(n)},[e]),t}},6434:function(e,t,a){"use strict";var n=a(0),i=a(15);t.a=({status:e,children:t,title:a})=>n.createElement(i.cc,{status:e,title:a},"Failed"===e&&n.Children.toArray(t).length>0&&t)},6436:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return v}));var n=a(1416),i=a(29),s=a(109),r=a(131),l=a(5),o=a(10),c=a(8),u=a(5623),d=a(6123),p=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const m=(e,t)=>{const a=e.map(e=>e.name),n=[];return t.forEach(e=>{const t=a.indexOf(e.name);n[t]=e}),n},b=e=>{var t,a,n,i;const s=null!==(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.containers)&&void 0!==a?a:[],r=null!==(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.containerStatuses)&&void 0!==i?i:[],o=m(s,r).findIndex(e=>Object(u.f)(e)!==l.J);return{containers:s.slice(0,-1===o?s.length:o+1),stillFetching:-1!==o}},v=(e,t,a,b)=>{const v=()=>p(void 0,void 0,void 0,(function*(){const n=yield Promise.all(e.map(e=>{var n;const{status:s}=null!==(n=t.find(t=>t.metadata.name===e))&&void 0!==n?n:{};return l=null==s?void 0:s.podName,u=a,Object(c.kb)(o.PodModel,l,u).then(e=>{var t,a,n;return m(null!==(t=e.spec.containers)&&void 0!==t?t:[],null!==(n=null===(a=e.status)||void 0===a?void 0:a.containerStatuses)&&void 0!==n?n:[])}).catch(e=>(Object(r.s)({error:e.message||i.a.t("pipelines-plugin~Error downloading logs.")}),[]));var l,u}));return e.reduce((e,i,s)=>{var r,d,p,m;const b=t.find(e=>e.metadata.name===i),v=null!==(d=null===(r=null==b?void 0:b.spec.taskRef)||void 0===r?void 0:r.name)&&void 0!==d?d:null==b?void 0:b.metadata.name,{status:g}=b,f=null==g?void 0:g.podName,h=n[s].reduce((e,t)=>{const{name:n}=t,i=Object(u.f)(t);if(i===l.K)return e;const s={ns:a,name:f,path:"log",queryParams:{container:n,follow:"true"}};return Object.assign(Object.assign({},e),{[n]:{status:i,url:Object(c.Jb)(o.PodModel,s)}})},{});return e[i]={name:v,steps:Object.assign({},h),taskRunPath:null===(m=null===(p=b.metadata)||void 0===p?void 0:p.annotations)||void 0===m?void 0:m["results.tekton.dev/record"]},e},{})}));return()=>{return t=v(),p(void 0,void 0,void 0,(function*(){const a=yield t;let i="";for(const t of e){const e=a[t],n=Object.keys(e.steps);if(i+=e.name+"\n\n",n.length>0)for(const t of n){const{url:a,status:n}=e.steps[t],r=Object(s.d)(a).then(e=>`${t.toUpperCase()}\n\n${e}\n\n`);i+=n===l.J?yield r:yield Promise.race([r,new Promise(e=>{setTimeout(()=>e(""),1e3)})])}else i+=(yield Object(d.c)(e.taskRunPath).then(e=>`${a[t].name.toUpperCase()}\n\n${e}\n\n`))}const r=new l.M(null);r.ingest(i);const o=r.getBlob({type:"text/plain;charset=utf-8"});return Object(n.saveAs)(o,b+".log"),null}));var t}}},6437:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),function(e){e.OpenOLS="openOLS",e.CloseOLS="closeOLS"}(n||(n={}));const i=({plugins:e})=>{var t;return null===(t=null==e?void 0:e.ols)||void 0===t?void 0:t.get("codeBlock")}},6625:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(8),i=a(5586),s=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const r=(e,t)=>s(void 0,void 0,void 0,(function*(){const a=t.metadata.namespace,s=e.selectedTrigger;yield Object(n.lb)(i.TriggerTemplateModel,{metadata:{name:s,namespace:a}});const r=({template:e})=>(null==e?void 0:e.ref)===s||(null==e?void 0:e.name)===s,l=(yield Object(n.nb)(i.EventListenerModel,{ns:a})).filter(({spec:{triggers:e}})=>e.find(r)),o=({spec:{triggers:e}})=>1===e.length,c=l.filter(o);yield Promise.all(c.map(e=>Object(n.lb)(i.EventListenerModel,e)));const u=l.filter(e=>!o(e));return yield Promise.all(u.map(e=>Object(n.pb)(i.EventListenerModel,e,[{op:"replace",path:"/spec/triggers",value:e.spec.triggers.filter(r)}]))),Promise.resolve()}))},6626:function(e,t,a){"use strict";var n=a(0),i=a(516),s=a(164),r=a(404),l=a(287),o=a(996),c=a(7),u=a(6627);t.a=e=>{const{t:t}=Object(c.useTranslation)(),{pipeline:a}=e,d=a.metadata.name;return n.createElement(i.a,{className:"odc-modal-content",hasGutter:!0},n.createElement(s.a,null,n.createElement(r.a,{size:"md"},n.createElement(l.a,{color:o.global_warning_color_100.value}))),n.createElement(s.a,{isFilled:!0},n.createElement("p",{className:"co-break-word"},n.createElement(c.Trans,{t:t,ns:"pipelines-plugin"},"Select the trigger to remove from pipeline ",n.createElement("b",null,{pipelineName:d}),".")),n.createElement(u.a,{name:"selectedTrigger",placeholder:t("pipelines-plugin~Select TriggerTemplate"),pipeline:a})))}},6627:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(15),l=a(6056);a(6628);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{name:a,pipeline:o,placeholder:c}=e,{metadata:{name:u,namespace:d}}=o,[p]=Object(i.e)(a),m=p.value,b=Object(l.d)(u,d)||[],v=b.reduce((e,{triggerTemplateName:t})=>Object.assign(Object.assign({},e),{[t]:t}),{});return n.createElement("div",{className:"odc-trigger-template-selector"},n.createElement(r.I,{fullWidth:!0,disabled:0===b.length,items:v,name:a,title:c}),m?n.createElement("div",{className:"co-break-word odc-trigger-template-selector__confirmationMessage"},n.createElement(s.Trans,{t:t,ns:"pipelines-plugin"},"Are you sure you want to remove ",n.createElement("b",null,{selection:m})," from ",n.createElement("b",null,{pipelineName:u}),"?")):n.createElement("div",{className:"odc-trigger-template-selector__pfModalHack"}))}},6628:function(e,t,a){},6629:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(29),i=a(689);const s=()=>i.object().shape({selectedTrigger:i.string().required(n.a.t("pipelines-plugin~Required"))})},6630:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5618),r=a(6248),l=a(6250),o=a(6640),c=a(6251);t.a=()=>{const{t:e}=Object(i.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(r.a,null),n.createElement(l.a,null),n.createElement(c.a,null),n.createElement(s.a,{title:e("pipelines-plugin~Advanced options"),fullWidth:!0},n.createElement(o.a,null)))}},6631:function(e,t,a){"use strict";var n=a(0),i=a(547),s=a(6249);const r="$(".split("");t.a=(e,t)=>{var a;const l=n.useRef([0,0]),[o,c]=n.useState(!1),u=(()=>{const[e,t]=n.useState(!1),a=n.useCallback(a=>{const{key:n,code:i,ctrlKey:s}=a;if("Space"===i&&s)return t(!0),!0;if(!r.includes(n)||e)return!1;const l=a.target.selectionStart;return a.target.value[l-2]===r[0]&&n===r[1]&&(t(!0),!0)},[e]);return{isOpen:e,shouldOpen:a,closeMenu:n.useCallback(()=>t(!1),[])}})(),d=(e=>{const[t,a]=n.useState(e),s=n.useRef({});n.useEffect(()=>{s.current=e.reduce((e,t,a)=>{const n=t.split(".").reduce((e,n)=>Object.assign(Object.assign({},e),{[`${n}|${a}`]:t}),{});return Object.assign(Object.assign(Object.assign({},e),n),{[t]:t})},{})},[e]);return[t,n.useCallback(t=>{if(!t)return void a(e);const n=i.a(Object.keys(s.current).filter(e=>e.toLowerCase().startsWith(t.toLowerCase())).map(e=>s.current[e]));a(n)},[e])]})(e),{isOpen:p,closeMenu:m}=u,[b,v]=d,g=n.useCallback(()=>{m(),v(""),c(!1),l.current=[0,0]},[m,v]),[f,h]=((e,t,a,i,s)=>{const[r,l]=n.useState(null),o=n.useRef(null);o.current=r;const{isOpen:c,shouldOpen:u}=t,[,d]=a,p=n.useCallback(t=>{const a=()=>{const t=o.current.value.substring(e.current[0],e.current[1]);d(t)};if(c){if(e.current=[e.current[0],o.current.selectionEnd],e.current[1]<e.current[0])return void s();a()}else{e.current=[o.current.selectionStart,o.current.selectionEnd];u(t)&&a()}},[c,d,u,s,e]),m=n.useCallback(e=>{c&&("Tab"!==e.code&&"ArrowDown"!==e.code||(e.stopPropagation(),e.preventDefault(),i(!0)))},[c,i]);return n.useEffect(()=>(r&&(r.addEventListener("keydown",m),r.addEventListener("keyup",p)),()=>{r&&(r.removeEventListener("keydown",m),r.removeEventListener("keyup",p))}),[m,p,r]),[o,e=>l(e)]})(l,u,d,c,g),E=n.useCallback(e=>{const a=l.current[0]-"$(".length,n=`${"$("===(a>=0?f.current.value.substr(a,"$(".length):null)?"":"$("}${e})`;t(Object(s.b)(f.current.value,l.current,n));const i=l.current[0]+n.length;setTimeout(()=>{f.current.setSelectionRange(i,i)},0),g()},[f,g,t]);return{contentRefCallback:h,focusTrapProps:{active:o,focusTrapOptions:{clickOutsideDeactivates:!0,onDeactivate:g,fallbackFocus:f.current}},insertAutoComplete:E,menuWidth:(null===(a=f.current)||void 0===a?void 0:a.getBoundingClientRect().width)||300,options:b,popperProps:{open:p,onRequestClose:g,reference:()=>f.current}}}},6632:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(55),r=a(15),l=a(6633),o=a(5725),c=a(6638);t.a=e=>{const{filterType:t,name:a,label:u}=e,[d]=Object(s.e)(a),{values:p}=Object(s.f)(),{namespace:m}=p,{value:{selection:b}}=d,v=b===o.a;return Object(r.Ge)(d.value),n.createElement(n.Fragment,null,n.createElement(i.a,{fieldId:a,label:u,isRequired:!0},n.createElement(c.a,Object.assign({},e,{autoSelect:""===b,filterType:t,namespace:m,name:a+".selection"}))),v&&n.createElement(l.a,{name:a+".data",type:t}))}},6633:function(e,t,a){"use strict";var n=a(0),i=a(5618),s=a(5588),r=a(6634),l=a(6635),o=a(6636),c=a(6637);t.a=e=>{const{name:t,type:a}=e;return n.createElement(i.a,{fullWidth:!0},(()=>{switch(a){case s.o.git:return n.createElement(l.a,{prefixName:t});case s.o.image:return n.createElement(o.a,{prefixName:t});case s.o.cluster:return n.createElement(r.a,{prefixName:t});case s.o.storage:return n.createElement(c.a,{prefixName:t});default:return null}})())}},6634:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15);t.a=({prefixName:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(r.ab,{type:i.b.text,name:e+".params.name",label:t("pipelines-plugin~Name"),helpText:t("pipelines-plugin~Name of the cluster."),required:!0}),n.createElement(r.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Host URL of the control plane node."),required:!0}),n.createElement(r.ab,{type:i.b.text,name:e+".params.username",label:t("pipelines-plugin~Username"),helpText:t("pipelines-plugin~The user with access to the cluster."),required:!0}),n.createElement(r.ab,{type:i.b.password,name:e+".params.password",label:t("pipelines-plugin~Password"),helpText:t("pipelines-plugin~Please provide password.")}),n.createElement(r.ab,{type:i.b.text,name:e+".params.insecure",label:t("pipelines-plugin~Insecure"),helpText:t("pipelines-plugin~Indicate server should be accessed without verifying the TLS certificate.")}),n.createElement(r.J,{name:e+".secrets.cadata",label:t("pipelines-plugin~Cadata"),helpText:t("pipelines-plugin~The PEM format certificate. Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}),n.createElement(r.J,{name:e+".secrets.token",label:t("pipelines-plugin~Token"),helpText:t("pipelines-plugin~Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}))}},6635:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15);t.a=({prefixName:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(r.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Git URL."),required:!0}),n.createElement(r.ab,{type:i.b.text,name:e+".params.revision",label:t("pipelines-plugin~Revision"),helpText:t("pipelines-plugin~Please provide revisions. i.e master")}))}},6636:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15);t.a=({prefixName:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Image URL."),required:!0})}},6637:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15);t.a=({prefixName:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(r.ab,{type:i.b.text,name:e+".params.type",label:t("pipelines-plugin~Type"),helpText:t("pipelines-plugin~Represents the type of blob storage i.e gcs"),required:!0}),n.createElement(r.ab,{type:i.b.text,name:e+".params.location",label:t("pipelines-plugin~Location"),helpText:t("pipelines-plugin~Represents the location of the blob storage i.e gs://some-private-bucket"),required:!0}),n.createElement(r.ab,{type:i.b.text,name:e+".params.dir",label:t("pipelines-plugin~Directory"),helpText:t("pipelines-plugin~Represents whether the blob storage is a directory or not")}))}},6638:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(117),r=a(7),l=a(5),o=a(108),c=a(8),u=a(15),d=a(5586),p=a(5725);a(6639);t.a=e=>{const{t:t}=Object(r.useTranslation)(),{autoSelect:a,filterType:m,name:b,namespace:v}=e,{setFieldValue:g,setFieldTouched:f}=Object(i.f)(),[,{touched:h}]=Object(i.e)(b),[E,O,y]=Object(o.a)({isList:!0,namespace:v,kind:Object(c.Hb)(d.PipelineResourceModel)}),k=E.filter(e=>e.spec.type===m),j=a&&!h&&O&&!y;n.useEffect(()=>{j&&(0===k.length?g(b,p.a):g(b,k[0].metadata.name),f(b))},[j,b,k,f,g]);const T=[{value:"",label:t("pipelines-plugin~Select Pipeline resource"),isPlaceholder:!0,isDisabled:!0},{label:t("pipelines-plugin~Create Pipeline resource"),value:p.a},...k.map(e=>{var t;const a=e.metadata.name,n=(null===(t=s.a(e.spec.params,["name","url"]))||void 0===t?void 0:t.value)||"";return{label:n.trim().length>0?`${n} (${a})`:a,value:a}})];return O?n.createElement(u.T,{name:b,className:"odc-pipeline-resource-dropdown",options:T,isDisabled:O&&0===k.length}):n.createElement(l.T,null)}},6639:function(e,t,a){},6640:function(e,t,a){"use strict";var n=a(0),i=a(19),s=a(407),r=a(55),l=a(7),o=a(4359),c=a(5),u=a(10),d=a(8),p=a(5623),m=a(5588),b=a(6641),v=a(6643),g=a(6090);a(6645);const f={secretName:"",annotations:{key:m.p.Image,value:""},type:o.SecretType.dockerconfigjson,formData:{}};t.a=()=>{const{t:e}=Object(l.useTranslation)(),[t]=Object(r.e)("secretOpen"),{setFieldValue:a,values:{namespace:o}}=Object(r.f)();return n.createElement(c.x,{textExpanded:e("pipelines-plugin~Hide credential options"),textCollapsed:e("pipelines-plugin~Show credential options")},n.createElement("div",{className:"odc-pipeline-secret-section"},n.createElement("p",null,e("pipelines-plugin~The following secrets are available for all pipelines in this namespace to authenticate to the specified Git server or Image registry:")),n.createElement("div",{className:"odc-pipeline-secret-section__secrets"},n.createElement(v.a,{namespace:o}),t.value?n.createElement("div",{className:"odc-pipeline-secret-section__secret-form"},n.createElement(r.b,{initialValues:f,validationSchema:Object(g.b)(),onSubmit:(e,n)=>{const i={apiVersion:u.SecretModel.apiVersion,kind:u.SecretModel.kind,metadata:{name:e.secretName,namespace:o,annotations:Object(p.s)(e.annotations)},type:e.type,stringData:e.formData};return Object(d.jb)(u.SecretModel,i).then(n=>{a(t.name,!1),Object(p.d)(n,o,e.annotations.key===m.p.Image)}).catch(e=>{n.setStatus({submitError:e.message})})},onReset:(e,n)=>{n.resetForm({values:f,status:{}}),a(t.name,!1)}},e=>n.createElement(b.a,Object.assign({},e)))):n.createElement(i.a,{variant:"link",onClick:()=>{a(t.name,!0)},className:"odc-pipeline-secret-section__secret-action",icon:n.createElement(s.a,null)},e("pipelines-plugin~Add Secret")))))}},6641:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(2324),r=a(7),l=a(4359),o=a(5),c=a(15),u=a(5588);a(6642);t.a=({values:e,setFieldValue:t,setFieldTouched:a,handleSubmit:d,handleReset:p,status:m,isSubmitting:b})=>{const{t:v}=Object(r.useTranslation)(),[g,f]=n.useState({[l.SecretType.basicAuth]:{},[l.SecretType.sshAuth]:{},[l.SecretType.dockerconfigjson]:{}}),h=n.useMemo(()=>({[u.p.Git]:v("pipelines-plugin~Git Server"),[u.p.Image]:v("pipelines-plugin~Image Registry")}),[v]),E=n.useMemo(()=>{switch(e.annotations.key){case u.p.Git:return{[l.SecretType.basicAuth]:v("pipelines-plugin~Basic Authentication"),[l.SecretType.sshAuth]:v("pipelines-plugin~SSH Key")};case u.p.Image:return{[l.SecretType.basicAuth]:v("pipelines-plugin~Basic Authentication"),[l.SecretType.dockerconfigjson]:v("pipelines-plugin~Image Registry Credentials")};default:return{}}},[e.annotations.key,v]),O=n.useCallback(()=>{t("annotations",{key:e.annotations.key,value:""}),a("annotations",!1)},[a,t,e.annotations.key]);n.useEffect(()=>{Object.keys(E).includes(e.type)||(t("type",l.SecretType.basicAuth),O())},[E,e.type,t,O]);const y=n.useMemo(()=>({[l.SecretType.dockerconfigjson]:v("pipelines-plugin~The base server url (e.g. https://quay.io/)"),[l.SecretType.basicAuth]:v("pipelines-plugin~The base server url (e.g. https://github.com)"),[l.SecretType.sshAuth]:v("pipelines-plugin~Server hostname without schema or path (e.g. github.com)")}),[v]),k=(a,n)=>{a===l.SecretType.dockerconfigjson?t("formData",s.a({".dockerconfigjson":n[a]},JSON.stringify)):t("formData",n[a]),e.type!==a&&O()};return n.createElement("div",{className:"odc-secret-form"},n.createElement("h1",{className:"co-section-heading-tertiary odc-secret-form__title"},v("pipelines-plugin~Create Secret")),n.createElement("div",{className:"form-group"},n.createElement(c.ab,{type:i.b.text,name:"secretName",label:v("pipelines-plugin~Secret name"),helpText:v("pipelines-plugin~Unique name of the new secret."),required:!0})),n.createElement("div",{className:"form-group"},n.createElement(c.I,{name:"annotations.key",label:v("pipelines-plugin~Access to"),helpText:v("pipelines-plugin~Designate provider to be authenticated."),items:h,fullWidth:!0,required:!0})),n.createElement("div",{className:"form-group"},n.createElement(c.I,{name:"type",label:v("pipelines-plugin~Authentication type"),items:E,title:E[e.type],onChange:e=>k(e,g),fullWidth:!0,required:!0})),n.createElement("div",{className:"form-group"},n.createElement(c.ab,{name:"annotations.value",label:v("pipelines-plugin~Server URL"),helpText:y[e.type],type:i.b.text,required:!0})),((e,t,a)=>{switch(e){case l.SecretType.basicAuth:return n.createElement(l.BasicAuthSubform,{onChange:a,stringData:t[l.SecretType.basicAuth]});case l.SecretType.sshAuth:return n.createElement(l.SSHAuthSubform,{onChange:a,stringData:t[l.SecretType.sshAuth]});case l.SecretType.dockerconfigjson:return n.createElement(l.CreateConfigSubform,{onChange:a,stringData:t[l.SecretType.dockerconfigjson]});default:return null}})(e.type,g,t=>{f(a=>(k(e.type,Object.assign(Object.assign({},a),{[e.type]:t})),Object.assign(Object.assign({},a),{[e.type]:t})))}),n.createElement(o.g,{errorMessage:null==m?void 0:m.submitError,inProgress:b},n.createElement(c.g,{onSubmit:d,onClose:p})))}},6642:function(e,t,a){},6643:function(e,t,a){"use strict";var n=a(0),i=a(50),s=a(116),r=a(240),l=a(461),o=a(22),c=a(7),u=a(4359),d=a(5),p=a(10),m=a(15),b=a(5588);a(6644);const v=[u.SecretType.dockerconfigjson,u.SecretType.basicAuth,u.SecretType.sshAuth],g=({secrets:e,serviceaccounts:t})=>{const{t:a}=Object(c.useTranslation)(),u=i.a(t.data.secrets,"name"),b=s.a(e.data,e=>r.a(v,e.type)&&r.a(u,e.metadata.name)),g=l.a(b,e=>e.metadata.name);return n.createElement("div",{className:"odc-secrets-list"},g.map(e=>n.createElement(d.hb,{key:e.metadata.uid,kind:p.SecretModel.kind,name:e.metadata.name,namespace:e.metadata.namespace,linkTo:!1})),o.a(g)&&n.createElement(m.Wb,{status:a("pipelines-plugin~No secrets found")}))};t.a=({namespace:e})=>{const t=[{isList:!0,namespace:e,kind:p.SecretModel.kind,prop:p.SecretModel.plural},{isList:!1,namespace:e,kind:p.ServiceAccountModel.kind,prop:p.ServiceAccountModel.plural,name:b.l}];return n.createElement(d.C,{resources:t},n.createElement(g,null))}},6644:function(e,t,a){},6645:function(e,t,a){},6646:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(297),r=a(319),l=a(157),o=a(18),c=a.n(o),u=a(55),d=a(230),p=a(117),m=a(16),b=a(22),v=a(7),g=a(31),f=a(13),h=a(108),E=a(518),O=a(15),y=a(6647);t.a=Object(g.connect)(e=>({namespace:Object(E.d)(e)}))(({label:e,namespace:t,resourceModel:a,required:o,resourceNameField:g,resourceKeysField:E,addString:k})=>{const{t:j}=Object(v.useTranslation)(),{setFieldValue:T,setFieldTouched:R}=Object(u.f)(),[_,{touched:S,error:N}]=Object(u.e)(g),P=!(S&&N),w=Object(O.Kc)(g,"res-dropdown"),[C,x]=n.useState({});Object(O.Ge)(_.value);const I=n.useMemo(()=>({kind:a.kind,isList:!0,namespace:t,optional:!0}),[t,a.kind]),[L,A,D]=Object(h.a)(I);return n.createElement(i.a,{fieldId:w,label:e,className:"odc-multiple-key-selector",isRequired:o},n.createElement(O.Nb,{resources:[{kind:a.kind,loaded:A,loadError:D,data:L}],loaded:A,loadError:D,dataSelector:["metadata","name"],selectedKey:_.value,placeholder:j("pipelines-plugin~Select a {{label}}",{label:j(a.labelKey)}),autocompleteFilter:(e,t)=>{var a;return d(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},dropDownClassName:c()({"dropdown--full-width":!0}),onChange:e=>{T(E,void 0),T(g,e),R(g,!0),(e=>{var t;const a=p.a(L,t=>m.a(t,"metadata.name")===e),n=null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},i=Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{});x(i)})(e)},showBadge:!0}),_.value&&!b.a(C)&&n.createElement(y.a,{name:E,keys:C,addString:k}),!P&&n.createElement(s.a,null,n.createElement(r.a,null,n.createElement(l.a,{variant:"error",icon:n.createElement(f.u,null)},N))))})},6647:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(241),r=a(130),l=a(281),o=a(88),c=a(19),u=a(408),d=a(407),p=a(55),m=a(16),b=a(7),v=a(15);a(6648);t.a=({name:e,keys:t,addString:a,tooltip:g})=>{const{t:f}=Object(b.useTranslation)(),{values:h}=Object(p.f)(),E=m.a(h,e,[]);return Object(v.Ge)(E),n.createElement(p.a,{name:e,key:"multiple-key-selector",render:({push:p,remove:m})=>n.createElement(i.a,{fieldId:Object(v.Kc)(e,"multiple-key-selector"),label:f("pipelines-plugin~Items"),className:"odc-multiple-key-selector"},E.length>0&&E.map((a,i)=>{const c=`${e}.${i}.${a.key}`;return n.createElement("div",{className:"form-group odc-multiple-key-selector__item",key:c},n.createElement(s.a,{direction:{default:"column",lg:"row"}},n.createElement(r.a,{grow:{default:"grow"}},n.createElement(v.I,{name:`${e}.${i}.key`,title:f("pipelines-plugin~Select a key"),items:t,fullWidth:!0})),n.createElement(r.a,{grow:{default:"grow"}},n.createElement(v.ab,{name:`${e}.${i}.path`,type:l.b.text,placeholder:f("pipelines-plugin~Enter a path")}))),n.createElement("div",{className:"odc-multiple-key-selector__deleteButton"},n.createElement(o.a,{content:g||f("pipelines-plugin~Remove")},n.createElement(u.a,{"aria-hidden":"true",onClick:()=>m(i)}))))}),n.createElement(c.a,{variant:"link",onClick:()=>p({key:"",path:""}),icon:n.createElement(d.a,null),isInline:!0},a||f("pipelines-plugin~Add items")))})}},6648:function(e,t,a){},6649:function(e,t,a){"use strict";var n=a(0),i=a(230),s=a(7),r=a(31),l=a(10),o=a(518),c=a(15);a(6650);t.a=Object(r.connect)(e=>({namespace:Object(o.d)(e)}))(({name:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)(),r=[{isList:!0,kind:l.PersistentVolumeClaimModel.kind,namespace:t,prop:l.PersistentVolumeClaimModel.id,optional:!0}];return n.createElement(c.Ob,{name:e,className:"odc-pvc-dropdown",resources:r,dataSelector:["metadata","name"],placeholder:a("pipelines-plugin~Select a PVC"),autocompleteFilter:(e,t)=>{var a;return i(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},fullWidth:!0,showBadge:!0})})},6650:function(e,t,a){},6651:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(80),r=a(55),l=a(7),o=a(6092),c=a(692),u=a(5907),d=a(5),p=a(6093),m=a(64),b=a(197);a(6652);t.a=({name:e,initialSizeValue:t="1",initialSizeUnit:a="Gi",initialVolumeMode:v="Filesystem"})=>{const{t:g}=Object(l.useTranslation)(),[f]=Object(r.e)(e),h=g("pipelines-plugin~Permissions to the mounted drive."),[E,O]=n.useState(h),{setFieldValue:y,setFieldTouched:k,errors:j}=Object(r.f)(),[T,R]=n.useState(u.g),[_,S]=n.useState(v),[N,P]=n.useState("ReadWriteOnce"),[w,C]=n.useState(null),[x,I]=n.useState(t),[L,A]=n.useState(a),[D,M]=n.useState(""),[F,U]=n.useState("");Object(m.s)(f.value);const B=e=>{S(e.currentTarget.value)};n.useEffect(()=>{C(null);const t={spec:{accessModes:[N],storageClassName:F,volumeMode:_,resources:{requests:{storage:`${x}${L}`}}}};(!x||parseInt(x,10)<1)&&(t.spec.resources.requests.storage=null,C(g("pipelines-plugin~Size must be an integer greater than 0."))),y(e,t),k(e)},[_,N,x,L,F,e,k,y,g]);const q=w?g("pipelines-plugin~This will create a PersistentVolumeClaim."):g("pipelines-plugin~This will create a PersistentVolumeClaim with a size of {{requestSizeValue}} {{requestSizeUnit}}.",{requestSizeValue:x,requestSizeUnit:L});return n.createElement(i.a,{fieldId:e},j[e]&&n.createElement(s.a,{isInline:!0,variant:"danger",title:g("pipelines-plugin~Required")}),n.createElement("p",{className:"help-block"},q),n.createElement(d.x,{textExpanded:g("pipelines-plugin~Hide VolumeClaimTemplate options"),textCollapsed:g("pipelines-plugin~Show VolumeClaimTemplate options")},n.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},n.createElement(p.a,{onChange:e=>{var t;const a=(null==e?void 0:e.provisioner)||"",n=Object(u.b)(a),i=g(n?"pipelines-plugin~Access mode is set by storage class and cannot be changed":"pipelines-plugin~Permissions to the mounted drive");P("ReadWriteOnce"),O(i),R(n),U(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name),M(a),D.includes(b.g[1])&&S("Filesystem")},id:"storageclass-dropdown","data-test":"storageclass-dropdown",describedBy:"storageclass-dropdown-help",required:!1,name:"storageClass"})),n.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},n.createElement(o.a,{onChange:P,provisioner:D,loaded:!0,availableAccessModes:T,description:E,ignoreReadOnly:!0})),n.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},n.createElement("label",{className:"control-label co-required",htmlFor:"request-size-input"},g("pipelines-plugin~Size")),n.createElement(d.db,{name:"requestSize",required:!0,onChange:e=>{const{value:t,unit:a}=e;I(t),A(a)},defaultRequestSizeUnit:L,defaultRequestSizeValue:x,dropdownUnits:u.a,describedBy:"request-size-help",inputID:"request-size-input","data-test-id":"pvc-size-input"}),w?n.createElement("p",{className:"pf-v5-c-form__helper-text pf-m-error"},w):n.createElement("p",{className:"help-block"},g("pipelines-plugin~Desired storage capacity"))),n.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},n.createElement("label",{className:"control-label",htmlFor:"volume-mode"},g("pipelines-plugin~Volume Mode")),n.createElement(i.a,{fieldId:"volumeMode","data-test-id":"volumeModeRadio"},Object(u.f)().map(t=>n.createElement(c.b,Object.assign({},t,{key:t.value,onChange:B,inline:!0,checked:t.value===_,name:e+".volumeMode"})))))))}},6652:function(e,t,a){},6653:function(e,t,a){},6654:function(e,t,a){"use strict";var n=a(0),i=a(6361),s=a(6248),r=a(6250),l=a(6251),o=a(6655);t.a=()=>{const e=Object(i.a)();return n.createElement(n.Fragment,null,n.createElement(o.a,null),n.createElement(s.a,{autoCompleteValues:e}),n.createElement(r.a,null),n.createElement(l.a,null))}},6655:function(e,t,a){"use strict";var n=a(0),i=a(1921),s=a(682),r=a(297),l=a(55),o=a(7),c=a(5618),u=a(5705),d=a(6656);a(6657);t.a=()=>{const{t:e}=Object(o.useTranslation)(),{values:t,setFieldValue:a}=Object(l.f)(),[p,m]=n.useState(null),b=Object(u.h)(t.namespace),v=0===(null==b?void 0:b.major)||1===(null==b?void 0:b.major)&&0===(null==b?void 0:b.minor)?"params.":"tt.params.",g=n.useCallback(e=>{m(e.spec.params),a("triggerBinding.resource",e)},[a]);return n.createElement("div",{className:"odc-trigger-binding-section"},n.createElement(c.a,{title:e("pipelines-plugin~Webhook"),fullWidth:!0},n.createElement(d.a,{description:e("pipelines-plugin~Select your Git provider type to be associated with the Trigger."),label:e("pipelines-plugin~Git provider type"),onChange:g}),p&&n.createElement(i.a,{toggleTextExpanded:e("pipelines-plugin~Hide variables"),toggleTextCollapsed:e("pipelines-plugin~Show variables")},n.createElement("div",{className:"odc-trigger-binding-section__variable-container"},n.createElement("p",{className:"odc-trigger-binding-section__variable-descriptor"},e("pipelines-plugin~The following variables can be used in the Parameters or when created new Resources.")),p.map(({name:e})=>n.createElement(s.a,{key:e,className:"odc-trigger-binding-section__variable-badge",isRead:!0},e))),n.createElement(r.a,{className:"odc-trigger-binding-section__variable-help-text"},e("pipelines-plugin~Use this format when you reference variables in this form: "),n.createElement("code",{className:"co-code"},`$(${v}parameter)`)))))}},6656:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(230),r=a(7),l=a(8),o=a(15),c=a(5586);t.a=e=>{const{t:t}=Object(r.useTranslation)(),{description:a,label:u=t(c.TriggerBindingModel.labelKey),onChange:d}=e,{values:p}=Object(i.f)();return n.createElement(o.Ob,{name:"triggerBinding.name",resources:[{isList:!0,namespace:p.namespace,kind:Object(l.Hb)(c.TriggerBindingModel),prop:"triggerBindingData",optional:!0},{isList:!0,kind:Object(l.Hb)(c.ClusterTriggerBindingModel),prop:"clusterTriggerBindingData",optional:!0}],autocompleteFilter:(e,t)=>{var a;return s(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},dataSelector:["metadata","name"],customResourceKey:(e,t)=>{const{kind:a}=t;return`${a===c.ClusterTriggerBindingModel.kind?2:1}~${e}`},fullWidth:!0,helpText:a,label:u,placeholder:t("pipelines-plugin~Select {{label}}",{label:u}),title:t("pipelines-plugin~Select {{label}}",{label:u}),showBadge:!0,onChange:(e,t,a)=>{a&&d&&d(a)}})}},6657:function(e,t,a){},6658:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="#empty-trigger-binding#"},6659:function(e,t,a){"use strict";var n=a(0),i=a(469),s=a(137),r=a(7),l=a(13),o=a(40),c=a(15),u=a(5669),d=a(5586),p=a(5705),m=a(6660),b=a(7483),v=a(7484);a(7489);t.a=e=>{const{t:t}=Object(r.useTranslation)(),{namespace:a,loaded:g,data:f,customData:h}=e,E=Object(p.h)(a),O=Object(l.jc)()[0],[,y,k]=Object(c.ef)(u.k,"pipelines");n.useEffect(()=>{k&&"dev"===O&&y("pipeline-runs")},[O,k,y]);return n.createElement(n.Fragment,null,n.createElement(s.b,null,n.createElement("title",null,t("pipelines-plugin~PipelineRuns"))),n.createElement(o.j,Object.assign({},e,{"aria-label":t(d.PipelineRunModel.labelPluralKey),defaultSortField:"status.startTime",defaultSortOrder:i.a.desc,Header:b.a,Row:v.a,customSorts:{vulnerabilities:e=>{var t,a,n,i;const s=Object(m.a)(e);return(null==s?void 0:s.vulnerabilities)?1e9*(null!==(t=s.vulnerabilities.critical)&&void 0!==t?t:0)+1e6*(null!==(a=s.vulnerabilities.high)&&void 0!==a?a:0)+1e3*(null!==(n=s.vulnerabilities.medium)&&void 0!==n?n:0)+(null!==(i=s.vulnerabilities.low)&&void 0!==i?i:0):-1}},customData:{operatorVersion:E},onRowsRendered:({stopIndex:e})=>{var t;g&&e===f.length-1&&(null===(t=null==h?void 0:h.nextPage)||void 0===t||t.call(h))},virtualize:!0})))}},6660:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(0);const i=e=>{var t,a;const n=(null===(t=e.status)||void 0===t?void 0:t.results)||(null===(a=e.status)||void 0===a?void 0:a.pipelineResults);return null==n?void 0:n.reduce((e,t)=>{var a;if(null===(a=t.name)||void 0===a?void 0:a.endsWith("SCAN_OUTPUT")){e.vulnerabilities||(e.vulnerabilities={critical:0,high:0,medium:0,low:0});try{const a=JSON.parse(t.value);a.vulnerabilities&&(e.vulnerabilities.critical+=a.vulnerabilities.critical||0,e.vulnerabilities.high+=a.vulnerabilities.high||0,e.vulnerabilities.medium+=a.vulnerabilities.medium||0,e.vulnerabilities.low+=a.vulnerabilities.low||0)}catch(e){}}return e},{})},s=e=>n.useMemo(()=>e?i(e):null,[e])},6661:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={name:"",namespace:"",vulnerabilities:"pf-m-hidden pf-m-visible-on-md",status:"pf-m-hidden pf-m-visible-on-sm",taskStatus:"pf-m-hidden pf-m-visible-on-lg",started:"pf-m-hidden pf-m-visible-on-lg",duration:"pf-m-hidden pf-m-visible-on-xl",actions:a(5).F.columnClass}},6662:function(e,t,a){e.exports=a.p+"assets/packages/pipelines-plugin/src/images/signed-badge.svg"},6663:function(e,t,a){"use strict";var n=a(0),i=a(18),s=a.n(i);a(6664);t.a=({barGap:e,height:t,inline:a,values:i,width:r})=>n.createElement("div",{className:s()("odc-horizontal-stacked-bars",{"is-inline":a}),style:{height:t,width:r,"--bar-gap":e&&e+"px"}},n.createElement("div",{className:"odc-horizontal-stacked-bars__bars"},i.map(({color:e,name:t,size:a})=>n.createElement("div",{key:t,className:"odc-horizontal-stacked-bars__data-bar",style:{background:e,flexGrow:a}}))))},6664:function(e,t,a){},6665:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5635),i=a(6433);const s=(e,t)=>{const a=Object(i.a)(e);return Object(n.i)(e,a,t)}},6666:function(e,t,a){"use strict";var n=a(0),i=a(5595),s=a(5635);a(6667);t.a=({taskStatus:e})=>n.createElement("div",{className:"odc-task-status-tooltip"},Object.keys(i.a).map(t=>{const{message:a,pftoken:r}=Object(s.f)(t);return e[t]?n.createElement(n.Fragment,{key:t},n.createElement("div",{className:"odc-task-status-tooltip__legend",style:{background:r.value}}),n.createElement("div",null,t===i.a.PipelineNotStarted||t===i.a.FailedToStart?a:`${e[t]} ${a}`)):null}))},6667:function(e,t,a){},6668:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(7),r=a(109),l=a(5),o=a(10),c=a(8);t.a=({children:e,containerName:t,namespace:a,podName:u,title:d})=>{const{t:p}=Object(s.useTranslation)(),[m,b]=n.useState(null),[v,g]=n.useState(null);return n.useEffect(()=>{const e={ns:a,name:u,path:"log",queryParams:{container:t,tailLines:"5"}},n=Object(c.Jb)(o.PodModel,e);Object(r.d)(n).then(e=>{b(e)}).catch(e=>{g((null==e?void 0:e.message)||p("pipelines-plugin~Unknown error retrieving logs"))})},[t,a,u,p]),v?n.createElement(i.a,{isInline:!0,title:d,variant:"danger"},v):m?n.createElement(n.Fragment,null,e(m)):n.createElement(l.T,null)}},6669:function(e,t,a){},6670:function(e,t,a){"use strict";var n=a(0),i=a(6435),s=a(2283),r=a(2083),l=a(2082),o=a(2081),c=a(29),u=a(6660);a(7488);const d=()=>n.createElement(i.CriticalRiskIcon,{title:"Critical",color:o.global_palette_red_200.value}),p=()=>n.createElement(i.AngleDoubleUpIcon,{title:"High",color:l.global_palette_orange_300.value}),m=()=>n.createElement(i.EqualsIcon,{title:"Medium",color:r.global_palette_gold_400.value}),b=()=>n.createElement(i.AngleDoubleDownIcon,{title:"Low",color:s.global_palette_blue_300.value});t.a=({pipelineRun:e,condensed:t})=>{var a;const i=Object(u.b)(e);return(null==i?void 0:i.vulnerabilities)?n.createElement("div",{className:"opp-vulnerabilities","data-test":(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)+"-vulnerabilities"},n.createElement("div",{className:"opp-vulnerabilities__severity"},n.createElement("span",{className:"opp-vulnerabilities__severity-status"},n.createElement(d,null),t?null:c.a.t("pipelines-plugin~Critical")),n.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.critical)),n.createElement("div",{className:"opp-vulnerabilities__severity"},n.createElement("span",{className:"opp-vulnerabilities__severity-status"},n.createElement(p,null),t?null:c.a.t("pipelines-plugin~High")),n.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.high)),n.createElement("div",{className:"opp-vulnerabilities__severity"},n.createElement("span",{className:"opp-vulnerabilities__severity-status"},n.createElement(m,null),t?null:c.a.t("pipelines-plugin~Medium")),n.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.medium)),n.createElement("div",{className:"opp-vulnerabilities__severity"},n.createElement("span",{className:"opp-vulnerabilities__severity-status"},n.createElement(b,null),t?null:c.a.t("pipelines-plugin~Low")),n.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.low))):n.createElement("div",null,"-")}},6671:function(e,t,a){"use strict";var n=a(0),i=a(241),s=a(130),r=a(19),l=a(6435),o=a(18),c=a.n(o),u=a(1416),d=a(7),p=a(5),m=a(108),b=a(15),v=a(6672),g=a(6674),f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=e=>{var{resource:t,taskRun:a,taskName:o,onDownloadAll:h,downloadAllLabel:E="Download all"}=e,O=f(e,["resource","taskRun","taskName","onDownloadAll","downloadAllLabel"]);const{t:y}=Object(d.useTranslation)(),k=n.useRef(null),[j,T,R]=Object(m.a)(t),[_,S,N]=Object(b.He)(),[P,w]=n.useState(!1),C=n.useRef();T&&!R&&t.name===j.metadata.name?k.current=j:R&&(k.current=null);const x=n.useCallback(e=>C.current=e,[]);return n.createElement("div",{ref:S,className:"odc-multi-stream-logs"},n.createElement(i.a,{className:c()({"odc-multi-stream-logs--fullscreen":_})},n.createElement(s.a,{className:"odc-multi-stream-logs__button",align:{default:"alignRight"}},n.createElement(r.a,{variant:"link",onClick:()=>{if(!C.current)return;const e=C.current(),t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(u.saveAs)(t,o+".log")},isInline:!0},n.createElement(l.DownloadIcon,{className:"odc-multi-stream-logs__icon"}),y("pipelines-plugin~Download"))),n.createElement(s.a,{className:"odc-multi-stream-logs__divider"},"|"),h&&n.createElement(n.Fragment,null,n.createElement(s.a,{className:"odc-multi-stream-logs__button"},n.createElement(r.a,{variant:"link",onClick:()=>{w(!0),h().then(()=>{w(!1)}).catch(e=>{w(!1),console.warn(e.message||"Error downloading logs.")})},isDisabled:P,isInline:!0},n.createElement(l.DownloadIcon,{className:"odc-multi-stream-logs__icon"}),E||y("pipelines-plugin~Download all"),P&&n.createElement(p.T,null))),n.createElement(s.a,{className:"odc-multi-stream-logs__divider"},"|")),N&&n.createElement(s.a,{className:"odc-multi-stream-logs__button"},n.createElement(r.a,{variant:"link",onClick:N,isInline:!0},_?n.createElement(n.Fragment,null,n.createElement(l.CompressIcon,{className:"odc-multi-stream-logs__icon"}),y("pipelines-plugin~Collapse")):n.createElement(n.Fragment,null,n.createElement(l.ExpandIcon,{className:"odc-multi-stream-logs__icon"}),y("pipelines-plugin~Expand"))))),R?n.createElement(g.a,{taskRun:a,setCurrentLogsGetter:x}):n.createElement(v.a,Object.assign({},O,{taskName:o,resource:k.current,setCurrentLogsGetter:x})))}},6672:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),i=a(5),s=a(15),r=a(5623),l=a(6673),o=a(6436);a(6256);const c=({resource:e,taskName:t,setCurrentLogsGetter:a})=>{var c,u;const d=n.useRef(),p=n.useRef([]),[m,b]=n.useState(0),[v,g]=Object(s.Ze)(),{containers:f,stillFetching:h}=Object(o.b)(e),E=n.useRef(null);E.current=f,n.useEffect(()=>{a(()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.innerText})},[a]);const O=n.useCallback(e=>{const t=E.current.findIndex(({name:t})=>t===e);p.current[t]=!0;const a=E.current.findIndex((e,t)=>!0!==p.current[t]);b(-1===a?E.current.length:a)},[]),y=null==v||v!==s.Vb.scrolledToBottom,k=null!==(u=null===(c=null==e?void 0:e.status)||void 0===c?void 0:c.containerStatuses)&&void 0!==u?u:[];return n.createElement(n.Fragment,null,n.createElement("div",{className:"odc-multi-stream-logs__taskName","data-test-id":"logs-taskName"},t,h&&n.createElement("span",{className:"odc-multi-stream-logs__taskName__loading-indicator"},n.createElement(i.T,null))),n.createElement("div",{className:"odc-multi-stream-logs__container",onScroll:g,"data-test-id":"logs-task-container"},n.createElement("div",{className:"odc-multi-stream-logs__container__logs",ref:d},f.map((a,s)=>{const o=k.findIndex(e=>e.name===a.name),c=Object(r.f)(k[o]);return c!==i.K&&n.createElement(l.a,{key:`${t}-${a.name}`,resource:e,container:a,resourceStatus:c,onComplete:O,render:m>=s,autoScroll:y})}))))}},6673:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(320),r=a(2360),l=a(7),o=a(109),c=a(5),u=a(8),d=a(1e3);a(6255);t.a=({resource:e,resourceStatus:t,container:a,onComplete:p,render:m,autoScroll:b=!0})=>{const{t:v}=Object(l.useTranslation)(),{name:g}=a,{kind:f,metadata:h={}}=e,{name:E,namespace:O}=h,y=n.useRef(null),k=n.useRef(null),[j,T]=n.useState(!1),R=n.useRef(t),_=n.useRef(),S=n.useRef("");_.current=p;const N=n.useCallback(Object(r.a)(()=>{k.current&&(k.current.innerText+=S.current),y.current&&y.current.scrollIntoView({behavior:"smooth",block:"end"}),S.current=""},1e3),[]),P=n.useRef();return P.current=n.useCallback(e=>{S.current+=e,y.current&&e&&m&&b&&N()},[b,m,N]),R.current!==t&&(R.current=t),n.useEffect(()=>{let e,t=!1;const a={ns:O,name:E,path:"log",queryParams:{container:g,follow:"true"}},n=Object(u.Jb)(Object(u.vb)(f),a);if(R.current===c.J)Object(o.d)(n).then(e=>{t||(P.current(e),_.current(g))}).catch(()=>{t||(T(!0),_.current(g))});else{const a={host:"auto",path:n,subprotocols:["base64.binary.k8s.io"]};e=new d.a(n,a),e.onmessage(e=>{if(t)return;const a=s.Base64.decode(e);P.current(a)}).onclose(()=>{_.current(g)}).onerror(()=>{t||(T(!0),_.current(g))})}return()=>{t=!0,e&&e.destroy()}},[f,g,E,O]),n.useEffect(()=>{y.current&&m&&b&&N()},[b,m,N]),n.createElement("div",{className:"odc-logs",style:{display:m?"":"none"}},n.createElement("p",{className:"odc-logs__name"},g),j&&n.createElement(i.a,{variant:"danger",isInline:!0,title:v("pipelines-plugin~An error occurred while retrieving the requested logs.")}),n.createElement("div",null,n.createElement("div",{className:"odc-logs__content",ref:k}),n.createElement("div",{ref:y})))}},6674:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),i=a(5),s=a(5588),r=a(6182);a(6255),a(6256);const l=({taskRun:e,setCurrentLogsGetter:t})=>{var a,l,o,c,u;const d=n.useRef(),p=(null===(l=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.labels)||void 0===l?void 0:l[s.u.pipelineTask])||"-",[m,b,v]=Object(r.c)(e.metadata.namespace,e.metadata.name,null===(c=null===(o=e.metadata)||void 0===o?void 0:o.annotations)||void 0===c?void 0:c["results.tekton.dev/record"]);n.useEffect(()=>{t(()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.innerText})},[t]),n.useEffect(()=>{!v&&b&&d.current&&m&&(d.current.scrollTop=d.current.scrollHeight)},[v,b,m]);const g=404===(null===(u=v)||void 0===u?void 0:u.code)?`Logs are no longer accessible for ${p} task`:null;return n.createElement(n.Fragment,null,n.createElement("div",{className:"odc-multi-stream-logs__taskName","data-test-id":"logs-taskName"},p,!b&&n.createElement("span",{className:"odc-multi-stream-logs__taskName__loading-indicator","data-test-id":"loading-indicator"},n.createElement(i.T,null))),n.createElement("div",{className:"odc-multi-stream-logs__container","data-test-id":"tr-logs-task-container",ref:d},n.createElement("div",{className:"odc-multi-stream-logs__container__logs","data-testid":"tr-logs-container"},g&&n.createElement("div",{className:"odc-pipeline-run-logs__logtext","data-testid":"tr-logs-error-message"},g),!g&&b?n.createElement("div",{className:"odc-logs","data-testid":"tr-logs-container"},n.createElement("p",{className:"odc-logs__name"},p),n.createElement("div",null,n.createElement("div",{className:"odc-logs__content","data-testid":"tr-logs-content"},m))):null)))}},6675:function(e,t,a){"use strict";var n=a(0),i=a(501),s=a(137),r=a(7),l=a(14),o=a(5),c=a(8),u=a(15),d=a(5586),p=a(5788),m=a(6362),b=a(6039),v=a(6253),g=a(6676),f=a(7507),h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=e=>{var t,a,E,O,{hideBadge:y,showPipelineColumn:k=!0,namespace:j}=e,T=h(e,["hideBadge","showPipelineColumn","namespace"]);const{t:R}=Object(r.useTranslation)(),_=Object(l.useParams)(),S=Object(o.Ub)(),N=null==S?void 0:S.kind,P=j||(null==_?void 0:_.ns),w=Object(p.a)(P),C=T.selector&&(null===(a=null===(t=T.selector)||void 0===t?void 0:t.matchLabels)||void 0===a?void 0:a["tekton.dev/pipelineRun"]),[x,I,L,A]=Object(b.a)(P,C),D={[Object(c.Hb)(d.TaskRunModel)]:{data:x,kind:Object(c.Hb)(d.TaskRunModel),loadError:L,loaded:I}},M=n.useMemo(()=>({showPipelineColumn:k,nextPage:A}),[k,A]),F=Object(c.Hb)(d.TaskRunModel),[U,,B]=Object(u.ff)(u.q,u.r,void 0,!0);return n.createElement(n.Fragment,null,n.createElement(s.b,null,n.createElement("title",null,R("pipelines-plugin~TaskRuns"))),B&&n.createElement(m.a,Object.assign({},T,{customData:M,canCreate:null!==(E=null==N?void 0:N.includes(Object(c.Hb)(d.TaskRunModel)))&&void 0!==E&&E,kind:Object(c.Hb)(d.TaskRunModel),ListComponent:f.a,rowFilters:Object(v.b)(R),badge:y?null:w,namespace:P,columnLayout:{columns:Object(g.a)()().map(e=>i.a(e,["title","additional","id"])),id:F,selectedColumns:(null===(O=null==U?void 0:U[F])||void 0===O?void 0:O.length)>0?new Set(U[F]):null,type:R("pipelines-plugin~TaskRun")},data:D})))}},6676:function(e,t,a){"use strict";var n=a(54),i=a(29),s=a(5588),r=a(6677);t.a=(e=!0)=>()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[n.a],props:{className:r.a[0]},id:"name"},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[n.a],props:{className:r.a[1]},id:"namespace"},{title:i.a.t("pipelines-plugin~Pipeline"),sortField:`metadata.labels["${s.u.pipeline}"]`,transforms:[n.a],props:{className:r.a[2]},id:"pipeline"},{title:i.a.t("pipelines-plugin~Task"),sortField:`metadata.labels["${s.u.pipelineTask}"]`,transforms:[n.a],props:{className:r.a[3]},id:"task"},{title:i.a.t("pipelines-plugin~Pod"),sortField:"status.podName",transforms:[n.a],props:{className:r.a[4]},id:"pod"},{title:i.a.t("pipelines-plugin~Status"),sortField:"status.conditions[0].reason",transforms:[n.a],props:{className:r.a[5]},id:"status"},{title:i.a.t("pipelines-plugin~Started"),sortField:"status.startTime",transforms:[n.a],props:{className:r.a[6]},id:"started"},{title:i.a.t("pipelines-plugin~Duration"),sortField:"status.completionTime",transforms:[n.a],props:{className:r.a[7]},id:"duration",additional:!0},{title:"",id:"",props:{className:r.a[8]}}].filter(t=>!("pipeline"===t.id&&!e))},6677:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=["","","","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm",a(5).F.columnClass]},6678:function(e,t,a){"use strict";var n=a(0),i=a(19),s=a(155),r=a(11423),l=a(7),o=a(31),c=a(42),u=a(6437),d=a(6679),p=a(2259),m=a(6680);a(6681);t.a=({showShortcuts:e,toolbarLinks:t})=>{const{t:a}=Object(l.useTranslation)(),b=Object(d.a)(),v=Object(o.useDispatch)();return e||(null==t?void 0:t.length)?n.createElement("div",{className:"co-toolbar__group co-toolbar__group--right"},n.createElement("div",{className:"ocs-yaml-editor-toolbar pf-v5-u-pb-sm pf-v5-l-flex"},b&&n.createElement("div",{className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},n.createElement(i.a,{variant:"secondary",size:"sm",onClick:()=>{v(Object(c.action)(u.a.OpenOLS))},icon:n.createElement(r.a,null)},a("console-shared~Ask OpenShift Lightspeed")),n.createElement(s.a,{orientation:{default:"vertical"}})),n.createElement("div",{className:"ocs-yaml-editor-toolbar__link"},n.createElement("div",null,n.createElement("span",{className:"ocs-yaml-editor-shortcut__command"},n.createElement(p.a,null,p.c?"⌥ Opt":"Alt"),n.createElement(p.a,null,"F1")),n.createElement("span",{className:"ocs-yaml-editor-shortcut__text"},a("console-shared~Accessibility help")))),e&&n.createElement("div",{className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},n.createElement(s.a,{orientation:{default:"vertical"}}),n.createElement(m.a,null)),t&&t.map((t,a)=>n.createElement("div",{key:""+a,className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},(e||a>0)&&t?n.createElement(s.a,{orientation:{default:"vertical"}}):null,n.createElement("div",{className:"ocs-yaml-editor-toolbar__link"},t))))):null}},6679:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5684);const i={apiGroup:"ols.openshift.io",apiVersion:"v1alpha1",label:"OLSConfig",labelKey:"console-shared~OLSConfig",labelPluralKey:"console-shared~OLSConfigs",plural:"olsconfigs",abbr:"OLSC",namespaced:!1,kind:"OLSConfig",id:"olsconfig",labelPlural:"OLSConfigs",crd:!0},s=()=>{const[,e,t]=Object(n.a)(i,"cluster");return e&&!t}},6680:function(e,t,a){"use strict";var n=a(0),i=a(353),s=a(19),r=a(979),l=a(7),o=a(2281),c=a(2259);t.a=({onHideShortcuts:e})=>{const{t:t}=Object(l.useTranslation)();return n.createElement(i.a,{"aria-label":t("console-shared~Shortcuts"),bodyContent:n.createElement(o.b,null,n.createElement(o.a,{alt:!0,keyName:"F1"},t("console-shared~Accessibility help")),n.createElement(o.a,{keyName:"F1"},t("console-shared~View all editor shortcuts")),n.createElement(o.a,{ctrl:!0,keyName:"space"},t("console-shared~Activate auto complete")),n.createElement(o.a,{ctrl:!0,shift:c.c,keyName:"m"},t("console-shared~Toggle Tab action between insert Tab character and move focus out of editor")),n.createElement(o.a,{ctrlCmd:!0,shift:!0,keyName:"o"},t("console-shared~View document outline")),n.createElement(o.a,{hover:!0},t("console-shared~View property descriptions")),n.createElement(o.a,{ctrlCmd:!0,keyName:"s"},t("console-shared~Save"))),maxWidth:"25rem",distance:18,onHide:e},n.createElement(s.a,{type:"button",variant:"link",isInline:!0},n.createElement(r.a,{className:"co-icon-space-r co-p-has-sidebar__sidebar-link-icon"}),t("console-shared~View shortcuts")))}},6681:function(e,t,a){},6792:function(e,t,a){"use strict";var n=a(0),i=a(219),s=a(297),r=a(319),l=a(157),o=a(55),c=a(6411),u=a(1205),d=a(15),p=(a(6227),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a});t.a=e=>{var{name:t,label:a,helpText:m,required:b,isDisabled:v,onChange:g}=e,f=p(e,["name","label","helpText","required","isDisabled","onChange"]);const h=n.useContext(u.a),{getFieldMeta:E,setFieldValue:O,setFieldTouched:y}=Object(o.f)(),{error:k,value:j}=E(t),T=Object(d.Ce)((e,a)=>{g&&g(e,a),O(t,e,!1),y(t,!0)},100);return n.createElement(i.a,{fieldId:"",label:a,isRequired:b},n.createElement(c.a,Object.assign({},f,{value:j,onChange:T,theme:"light"===h?"console-light":"console-dark"})),n.createElement(s.a,null,n.createElement(r.a,null,k?n.createElement(l.a,{variant:"error",icon:n.createElement(d.Mb,null)}):n.createElement(l.a,null,m))))}},6849:function(e,t,a){"use strict";var n=a(0),i=a(7);t.a=({workspaces:e})=>{const{t:t}=Object(i.useTranslation)();return e&&0!==e.length?n.createElement("dl",{"data-test-id":"workspace-definition-section"},n.createElement("dt",null,t("pipelines-plugin~Workspaces")),n.createElement("dd",null,e.map(e=>n.createElement("div",{key:e.name,"data-test-id":"workspace-definition"+(e.optional?"-optional":"")},e.optional?`${e.name} (${t("pipelines-plugin~optional")})`:""+e.name)))):null}},6850:function(e,t,a){"use strict";var n=a(0),i=a(18),s=a(7480);a(9602);t.a=({links:e=[],namespace:t,title:a,removeSpaceBelow:r})=>0===e.length?null:n.createElement("div",{className:i("odc-dynamic-resource-link-list",{"odc-dynamic-resource-link-list--addSpaceBelow":!r})},n.createElement("dl",null,a&&n.createElement("dt",null,a),n.createElement("dd",null,e.map(({name:e,resourceKind:a,qualifier:i="",disableLink:r=!1})=>{let l=i;return(null==i?void 0:i.length)>0&&e!==i&&(l+=` (${e})`),n.createElement("div",{key:`${a}/${l}`},n.createElement(s.a,{resourceKind:a,resourceName:e,displayName:l,namespace:t,disableLink:r}))}))))},6851:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(15);t.a=({addLabel:e,nameLabel:t,nameFieldName:a,descriptionLabel:r,descriptionFieldName:l,valueLabel:o,valueFieldName:c,emptyMessage:u,fieldName:d,emptyValues:p,isReadOnly:m=!1})=>n.createElement("div",{className:"co-m-pane__form"},n.createElement(s.mb,{"data-test":"pipeline-parameters",name:d,addLabel:e,headers:[{name:t,required:!0},r,o],emptyValues:p,emptyMessage:u,isReadOnly:m},n.createElement(s.ab,{"data-test":a,name:a,type:i.b.text,placeholder:t,isDisabled:m,"aria-label":t}),n.createElement(s.ab,{"data-test":l,name:l,type:i.b.text,placeholder:r,isDisabled:m,"aria-label":r}),n.createElement(s.ab,{"data-test":c,name:c,type:i.b.text,placeholder:o,isDisabled:m,"aria-label":o})))},6852:function(e,t,a){"use strict";var n=a(0),i=a(353),s=a(19),r=a(15),l=a(5595),o=a(6434),c=a(7486);a(7487);t.a=({status:e,pipelineRun:t,title:a})=>{const[u,d]=n.useState(!1);return n.createElement(n.Fragment,null,t?e===l.a.Failed?n.createElement(i.a,{bodyContent:()=>n.createElement(n.Fragment,null,u&&n.createElement(c.a,{pipelineRun:t})),isVisible:u,shouldClose:()=>d(!1),shouldOpen:()=>d(!0),position:i.b.auto},n.createElement(s.a,{variant:"plain",className:"odc-status-column-text"},n.createElement(o.a,{status:e,title:a}))):n.createElement(o.a,{status:e,title:a}):n.createElement(n.Fragment,null,r.E))}},6854:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return g}));var n=a(0),i=a(1557),s=a(8),r=a(5597),l=a(5669),o=a(5586),c=a(5588),u=a(6364),d=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const p=l.a+"/packages/search?offset=0&limit=60&facets=false&kind=7&deprecated=false&sort=relevance",m=(e,t)=>d(void 0,void 0,void 0,(function*(){const a=l.a+"/packages/tekton-task",{name:n,data:i}=e,{task:{version:s,repository:{name:o}}}=i,c=`${a}/${o}/${n}/${t||s}`;return Object(r.c)({url:c,method:"GET"})})),b=e=>{const[t,a]=n.useState([]),[i,s]=n.useState(!1),[l,o]=n.useState();return n.useEffect(()=>{let t=!0;return e?Object(r.c)({url:p,method:"GET"}).then(({packages:e})=>{t&&(s(!0),a(e))}).catch(e=>{t&&(s(!0),o(null==e?void 0:e.message))}):s(!0),()=>{t=!1}},[e]),[t,i,l]},v=(e,t,a)=>Object(r.c)({url:e,method:"GET"}).then(e=>(e.metadata.namespace=t,e.metadata.annotations=Object.assign(Object.assign({},e.metadata.annotations),{[c.v.installedFrom]:u.a,[c.v.semVersion]:a}),Object(s.jb)("tekton.dev/v1"===e.apiVersion?o.TaskModel:o.TaskModelV1Beta1,e))).catch(e=>{throw console.warn("Error while importing ArtifactHub Task:",e),e}),g=(e,t,a,n,l)=>d(void 0,void 0,void 0,(function*(){return Object(r.c)({url:e,method:"GET"}).then(e=>(e.metadata.namespace=a,e.metadata.annotations=Object.assign(Object.assign({},e.metadata.annotations),{[c.v.semVersion]:l}),e.metadata=i.a({},t.data.metadata,e.metadata),Object(s.rb)("tekton.dev/v1"===e.apiVersion?o.TaskModel:o.TaskModelV1Beta1,e,a,n))).catch(e=>{throw console.warn("Error while updating ArtifactHub Task:",e),e})}))},6855:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a(109),i=a(5684),s=a(5586),r=a(7496),l=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const o="enable-devconsole-integration",c=(e="",t="https://hub.tekton.dev")=>e?`${t}/${e}`:null,u=()=>{var e,t;const[a,n]=Object(i.a)(s.TektonHubModel,"hub");return{loaded:n,apiURL:(null===(e=null==a?void 0:a.status)||void 0===e?void 0:e.apiUrl)||"https://api.hub.tekton.dev",uiURL:(null===(t=null==a?void 0:a.status)||void 0===t?void 0:t.uiUrl)||"https://hub.tekton.dev"}},d=(e,t)=>Object(r.a)(e+"/v1/resources",t),p=(e,t)=>l(void 0,void 0,void 0,(function*(){var a,i;const s=t||"https://api.hub.tekton.dev",r=yield(o=`${s}/v1/resource/${e}/versions`,l(void 0,void 0,void 0,(function*(){return(yield Object(n.b)(o)).json()})));var o;return null!==(i=null===(a=null==r?void 0:r.data)||void 0===a?void 0:a.versions)&&void 0!==i?i:[]}))},6856:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(8),l=a(5586),o=a(5788),c=a(6362),u=a(6253),d=a(6182),p=a(6659);t.a=e=>{var t;const{t:a}=Object(i.useTranslation)(),m=Object(s.useParams)(),b=e.namespace||(null==m?void 0:m.ns),v=Object(o.a)(b),[g,f,h,E]=Object(d.a)(b),O={[Object(r.Hb)(l.PipelineRunModel)]:{data:g,kind:Object(r.Hb)(l.PipelineRunModel),loadError:h,loaded:f}};return n.createElement(c.a,Object.assign({},e,{canCreate:null===(t=e.canCreate)||void 0===t||t,kind:Object(r.Hb)(l.PipelineRunModel),ListComponent:p.a,rowFilters:Object(u.b)(a),badge:e.hideBadge?null:v,customData:{nextPage:E},data:O}))}},6857:function(e,t,a){"use strict";var n=a(0),i=a(6183);a(6669);t.a=({namespace:e,logDetails:t,link:a=null})=>n.createElement("div",{className:"odc-statuspopover-content"},n.createElement(i.a,{logDetails:t,namespace:e},e=>n.createElement(n.Fragment,null,n.createElement("pre",{className:"co-pre"},e),a)))},6858:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(29),i=a(5617),s=a(6363);const r=e=>{var t,a,r;if(!(null==e?void 0:e.status))return null;if("Failed"!==Object(i.i)(e))return null;const l=null===(t=e.status.conditions)||void 0===t?void 0:t.find(e=>"Succeeded"===e.type);if("False"!==(null==l?void 0:l.status))return null;if(o=null==l?void 0:l.reason,["TaskRunCancelled","TaskRunTimeout"].includes(o))return{staticMessage:l.message||n.a.t("pipelines-plugin~Unknown failure condition"),title:n.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e.metadata.name})};var o;const c=null===(r=null===(a=e.status.steps)||void 0===a?void 0:a.find(e=>{var t;return 0!==(null===(t=e.terminated)||void 0===t?void 0:t.exitCode)}))||void 0===r?void 0:r.container;return Object(s.a)(e.metadata.name,e.status,c)}},6859:function(e,t,a){"use strict";var n=a(0),i=a(137),s=a(7),r=a(13),l=a(40),o=a(8),c=a(15),u=a(5669),d=a(5586),p=a(11392);t.a=e=>{var t;const{t:a}=Object(s.useTranslation)(),m=Object(r.jc)()[0],[,b,v]=Object(c.ef)(u.k,"pipelines");return n.useEffect(()=>{v&&"dev"===m&&b("repositories")},[m,v,b]),n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,a("pipelines-plugin~Pipeline Repositories"))),n.createElement(l.c,Object.assign({},e,{createProps:{to:`/k8s/ns/${e.namespace||"default"}/${Object(o.Hb)(d.RepositoryModel)}/~new/form`},canCreate:null===(t=e.canCreate)||void 0===t||t,kind:Object(o.Hb)(d.RepositoryModel),ListComponent:p.a})))}},6860:function(e,t,a){},7479:function(e,t,a){"use strict";var n=a(8251);a.d(t,"a",(function(){return n.a}));var i=a(8252);a.d(t,"c",(function(){return i.a}));a(7481),a(8253);var s=a(8254);a.d(t,"e",(function(){return s.a}));var r=a(6253);a.d(t,"d",(function(){return r.a}));var l=a(8255);a.d(t,"b",(function(){return l.a}));var o=a(8256);a.d(t,"h",(function(){return o.a}));var c=a(6180);a.d(t,"f",(function(){return c.a})),a.d(t,"g",(function(){return c.b}))},7480:function(e,t,a){"use strict";var n=a(0),i=a(18),s=a.n(i),r=a(5),l=a(8),o=a(5586);a(9601);const c=Object.values(o).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.kind]:t}),{});t.a=({disableLink:e,displayName:t,largeIcon:a,namespace:i,resourceKind:o,resourceName:u})=>{const d=c[o];let p=o;d&&(p=Object(l.Hb)(d));const m=s()("opp-pipeline-resource-ref",{"co-m-resource-icon--lg":a,"opp-pipeline-resource-ref--pipeline-color":!d});return e||!d?n.createElement(n.Fragment,null,n.createElement(r.fb,{className:m,kind:p}),t||u):n.createElement(r.hb,{className:m,kind:p,name:u,displayName:t||u,title:u,namespace:i})}},7481:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15),l=a(5588);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{addLabel:a=t("pipelines-plugin~Add Pipeline resource"),fieldName:o,isReadOnly:c=!1}=e,u=t("pipelines-plugin~No resources are associated with this pipeline."),d=[{value:"",label:t("pipelines-plugin~Select resource type"),isDisabled:!0,isPlaceholder:!0},{value:l.o.git,label:"Git"},{value:l.o.image,label:"Image"},{value:l.o.cluster,label:"Cluster"},{value:l.o.storage,label:"Storage"}],p=t("pipelines-plugin~Name"),m=t("pipelines-plugin~Resource type");return n.createElement("div",{className:"co-m-pane__form"},n.createElement(r.mb,{"data-test":"pipeline-resources",name:o,addLabel:a,headers:[{name:p,required:!0},{name:m,required:!0}],emptyValues:{name:"",type:""},emptyMessage:u,isReadOnly:c},n.createElement(r.ab,{name:"name",type:i.b.text,placeholder:p,isReadOnly:c,"aria-label":p}),n.createElement(r.T,{name:"type",options:d,isDisabled:c,"aria-label":m})))}},7482:function(e,t,a){"use strict";var n=a(0),i=a(116),s=a(400),r=a(22),l=a(50),o=a(31),c=a(5);t.a=e=>{const t=Object(o.useSelector)(({k8s:e})=>e),a=e.resources.map(({prop:t,isList:a,filters:n,optional:i,kind:s})=>({reduxID:e.reduxIDs[0],prop:t,isList:a,filters:n,optional:i,kind:s})),u={};a.forEach(e=>{u[e.prop]=Object(c.pc)({k8s:t},e)});const d=i.a(u,e=>!e.optional),p=s.a(u,e=>e.optional?e.loaded||!r.a(e.loadError):e.loaded),m=(e=>{let t=e&&e[0];for(const a of e){if(403===a.status)return a;401===a.status&&(t=a),a.status>t.status&&(t=a)}return t})(l.a(d,"loadError").filter(Boolean)),b=Object.assign({},u,{filters:Object.assign({},...l.a(u,"filters")),loaded:p,loadError:m,reduxIDs:l.a(a,"reduxID"),resources:u});return n.createElement(n.Fragment,null,Object(c.gc)(e.children,Object.assign(Object.assign(Object.assign({},e),null==e?void 0:e.data),b)))}},7483:function(e,t,a){"use strict";var n=a(54),i=a(29),s=a(6661);t.a=()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[n.a],props:{className:s.a.name}},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[n.a],props:{className:s.a.namespace},id:"namespace"},{title:i.a.t("pipelines-plugin~Vulnerabilities"),sortFunc:"vulnerabilities",transforms:[n.a],props:{className:s.a.vulnerabilities}},{title:i.a.t("pipelines-plugin~Status"),sortField:"status.conditions[0].reason",transforms:[n.a],props:{className:s.a.status}},{title:i.a.t("pipelines-plugin~Task status"),sortField:"status.conditions[0].reason",transforms:[n.a],props:{className:s.a.taskStatus}},{title:i.a.t("pipelines-plugin~Started"),sortField:"status.startTime",transforms:[n.a],props:{className:s.a.started}},{title:i.a.t("pipelines-plugin~Duration"),sortField:"status.completionTime",transforms:[n.a],props:{className:s.a.duration}},{title:"",props:{className:s.a.actions}}]},7484:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(11334),r=a(7),l=a(40),o=a(5),c=a(8),u=a(5669),d=a(6662),p=a.n(d),m=a(5586),b=a(5595),v=a(6087),g=a(5617),f=a(5623),h=a(5588),E=a(6039),O=a(6432),y=a(6852),k=a(6670),j=a(6057),T=a(6661);const R=Object(c.Hb)(m.PipelineRunModel),_={},S={},N=n.memo(({obj:e})=>n.createElement(y.a,{status:Object(g.c)(e),title:Object(g.f)(e),pipelineRun:e})),P=({obj:e,PLRTaskRuns:t,taskRunsLoaded:a,taskRunStatusObj:c,operatorVersion:d})=>{var m,b,g,E,y,_;const{t:S}=Object(r.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(l.k,{className:T.a.name},n.createElement(o.hb,{kind:R,name:e.metadata.name,namespace:e.metadata.namespace,"data-test-id":e.metadata.name,nameSuffix:n.createElement(n.Fragment,null,"true"===(null===(b=null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations)||void 0===b?void 0:b[h.y])?n.createElement(i.a,{content:S("pipelines-plugin~Signed")},n.createElement("div",{className:"opp-pipeline-run-list__signed-indicator"},n.createElement("img",{src:p.a,alt:S("pipelines-plugin~Signed")}))):null,"true"===(null===(E=null===(g=null==e?void 0:e.metadata)||void 0===g?void 0:g.annotations)||void 0===E?void 0:E[u.c])||"true"===(null===(_=null===(y=null==e?void 0:e.metadata)||void 0===y?void 0:y.annotations)||void 0===_?void 0:_[u.l])?n.createElement(i.a,{content:S("pipelines-plugin~Archived in Tekton results")},n.createElement("div",{className:"opp-pipeline-run-list__results-indicator"},n.createElement(s.a,null))):null)})),n.createElement(l.k,{className:T.a.namespace,columnID:"namespace"},n.createElement(o.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(l.k,{className:T.a.vulnerabilities},n.createElement(k.a,{pipelineRun:e,condensed:!0})),n.createElement(l.k,{className:T.a.status},n.createElement(N,{obj:e})),n.createElement(l.k,{className:T.a.taskStatus},n.createElement(O.a,{pipelineRun:e,taskRuns:t,taskRunsLoaded:a,taskRunStatusObj:c})),n.createElement(l.k,{className:T.a.started},n.createElement(o.xb,{timestamp:e.status&&e.status.startTime})),n.createElement(l.k,{className:T.a.duration},Object(f.v)(e)),n.createElement(l.k,{className:T.a.actions},n.createElement(j.a,{actions:Object(v.b)(d,t,void 0,c),kind:R,resource:e})))},w=n.memo(({obj:e,operatorVersion:t,taskRunStatusObj:a})=>n.createElement(P,{obj:e,PLRTaskRuns:[],taskRunsLoaded:!0,operatorVersion:t,taskRunStatusObj:a})),C=n.memo(({obj:e,operatorVersion:t})=>{const a=`${e.metadata.namespace}-${e.metadata.name}`,[i,s]=Object(E.a)(e.metadata.namespace,e.metadata.name,void 0,`${e.metadata.namespace}-${e.metadata.name}`);return S[a]=!1,s&&(_[a]=i),n.createElement(P,{obj:e,PLRTaskRuns:i,taskRunsLoaded:s,operatorVersion:t,taskRunStatusObj:void 0})}),x=n.memo(({obj:e,operatorVersion:t})=>{let a,i;const s=`${e.metadata.namespace}-${e.metadata.name}`,r=_[s];if(r)a=r,i=!0;else{if(!S[s])return n.createElement(C,{obj:e,operatorVersion:t});a=[],i=!0,S[s]=!0}return n.createElement(P,{obj:e,PLRTaskRuns:a,taskRunsLoaded:i,operatorVersion:t,taskRunStatusObj:void 0})});t.a=({obj:e,customData:t})=>{var a,i;const{operatorVersion:s}=t;if(Object(g.d)(e)===b.a.Cancelled&&(null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.childReferences)&&void 0!==i?i:[]).length>0)return n.createElement(x,{obj:e,operatorVersion:s});const r=Object(f.n)(e);return n.createElement(w,{obj:e,operatorVersion:s,taskRunStatusObj:r})}},7485:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(0),i=a(88),s=a(5595),r=a(5635),l=a(6663),o=a(6665),c=a(6666);const u=({pipelinerun:e,taskRuns:t})=>{const a=Object(o.a)(e,t);return n.createElement(i.a,{content:n.createElement(c.a,{taskStatus:a})},n.createElement(l.a,{height:"1em",inline:!0,values:Object.keys(s.a).map(e=>({color:Object(r.f)(s.a[e]).pftoken.value,name:e,size:a[s.a[e]]}))}))},d=({taskRunStatusObj:e})=>n.createElement(i.a,{content:n.createElement(c.a,{taskStatus:e})},n.createElement(l.a,{height:"1em",inline:!0,values:Object.keys(s.a).map(t=>({color:Object(r.f)(s.a[t]).pftoken.value,name:t,size:e[s.a[t]]}))}))},7486:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5),l=a(5586),o=a(6039),c=a(6183),u=a(6254);a(6669);t.a=({pipelineRun:e})=>{const{t:t}=Object(i.useTranslation)(),[a,d]=Object(o.a)(e.metadata.namespace,e.metadata.name);if(!d)return n.createElement("div",{style:{minHeight:"300px"}},n.createElement(r.T,null));const p=Object(u.a)(e,a);return n.createElement("div",{className:"odc-statuspopover-content",style:{minHeight:"300px"}},n.createElement(c.a,{logDetails:p,namespace:e.metadata.namespace},a=>n.createElement(n.Fragment,null,n.createElement("pre",{className:"co-pre"},a),n.createElement(s.Link,{to:Object(r.uc)(l.PipelineRunModel,e.metadata.name,e.metadata.namespace)+"/logs"},t("pipelines-plugin~View logs")))))}},7487:function(e,t,a){},7488:function(e,t,a){},7489:function(e,t,a){},7490:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(40),r=a(5),l=a(8),o=a(5586),c=a(5788),u=a(7491),d=a(8258);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{namespace:a,showTitle:p=!0,selector:m,name:b,nameFilter:v}=e,g=Object(c.a)(a),f=[{isList:!0,kind:Object(l.Hb)(o.PipelineModel),namespace:a,prop:o.PipelineModel.id,filters:Object.assign(Object.assign({},Object(u.b)(t)),v&&{name:v}),selector:m,name:b}];return n.createElement(s.b,Object.assign({},e,{canCreate:!0,createButtonText:t("pipelines-plugin~Create Pipeline"),createProps:{to:a?`/k8s/ns/${a}/${Object(l.Hb)(o.PipelineModel)}/~new/builder`:`/k8s/cluster/${Object(l.Hb)(o.PipelineModel)}/~new`},createAccessReview:{model:o.PipelineModel,namespace:a},filterLabel:t("pipelines-plugin~by name"),textFilter:"name",resources:f,title:p?t("pipelines-plugin~Pipelines"):null,badge:g}),n.createElement(r.C,{resources:f},n.createElement(d.a,{namespace:a,hideNameLabelFilters:e.hideNameLabelFilters})))}},7491:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(0),i=a(16),s=a(5),r=a(5635),l=a(5617),o=a(5623),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const u=e=>[{filterGroupName:e("pipelines-plugin~Status"),type:"pipeline-status",reducer:l.b,items:[{id:o.a.Succeeded,title:o.b[o.a.Succeeded]},{id:o.a.Running,title:o.b[o.a.Running]},{id:o.a.Failed,title:o.b[o.a.Failed]},{id:o.a.Cancelled,title:o.b[o.a.Cancelled]},{id:o.a.Other,title:o.b[o.a.Other]}],filter:l.g}];t.a=e=>{var t,a,l=c(e,[]);const o=Object.assign(Object.assign({},l.filters),i.a(l.pipeline,"filters.name")&&{name:i.a(l.pipeline,"filters.name")}),u=(null===(t=l.pipeline)||void 0===t?void 0:t.data)&&(null===(a=l.pipelinerun)||void 0===a?void 0:a.data)?Object(r.a)(l.pipeline.data,l.pipelinerun.data):null,d=Object(s.gc)(l.children,Object.assign(Object.assign({},l),{filters:o,resources:{pipeline:{data:u}}}));return n.createElement(n.Fragment,null,d)}},7492:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(380),r=a(137),l=a(7),o=a(14),c=a(5),u=a(8),d=a(614),p=a(5623),m=a(6038),b=a(8267),v=a(11347),g=a(6091),f=a(7493);a(11376);t.a=e=>{const{t:t}=Object(l.useTranslation)(),{ns:a}=Object(o.useParams)(),{existingPipeline:h}=e,E={editorType:d.b.Form,yamlData:Object(b.b)(m.g,a,h),formData:Object.assign(Object.assign({},m.g),Object(g.b)(h)||{}),taskResources:{clusterTasks:[],namespacedTasks:[],tasksLoaded:!1}};return n.createElement("div",{className:"odc-pipeline-builder-page"},n.createElement(r.a,null,n.createElement("title",null,t("pipelines-plugin~Pipeline builder"))),n.createElement(i.b,{initialValues:E,onSubmit:(e,t)=>{var n;let i,r;if(e.editorType===d.b.YAML)try{i=Object(s.safeLoad)(e.yamlData),(null===(n=i.metadata)||void 0===n?void 0:n.namespace)||(i.metadata.namespace=a)}catch(e){return t.setStatus({submitError:"Invalid YAML - "+e}),null}else i=Object(g.a)(e.formData,a,h);const l=Object(p.x)(i);return r=h?Object(u.rb)(l,i,a,h.metadata.name):Object(u.jb)(l,i),r.then(()=>{c.Vb.push(`/k8s/ns/${a}/${Object(u.Hb)(l)}/${i.metadata.name}`)}).catch(e=>{t.setStatus({submitError:e.message})})},onReset:c.Vb.goBack,validationSchema:Object(f.b)()},e=>n.createElement(v.a,Object.assign({},e,{namespace:a,existingPipeline:h}))))}},7493:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return E}));var n=a(29),i=a(16),s=a(689),r=a(15),l=a(614),o=a(6121),c=a(5588),u=a(6360),d=a(6038),p=a(6091);const m=(e,t,a,n)=>{var s,r;const l=t.split("."),o=l.findIndex(e=>e.startsWith(n)),c=l.slice(0,o+1),d=i.a(e,""+c.join(".")),m=Object(p.f)(e,d);if(!m)return!1;const b=null===(s=t.match(/(inputs|outputs)/))||void 0===s?void 0:s[0];if(!b)return!1;return null===(r=Object(u.b)(m)[b])||void 0===r?void 0:r.find(({name:e})=>e===a)},b=(e,t,a)=>{if(!t||0===t.length)return!0;if(t.includes(a))return!1;const{tasks:n,listTasks:i}=e,s=n.map(e=>e.name).concat(i.map(e=>e.name));return!t.some(e=>!s.includes(e))},v=e=>s.array().of(s.string()).test("tasks-matches-runAfters",n.a.t("pipelines-plugin~Invalid runAfter"),(function(t){return b(e,t,this.parent.name)})),g=(e,t)=>{const{formData:{resources:a}}=e;return s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),resource:s.string().test("are-resources-available",n.a.t("pipelines-plugin~No resources available. Add pipeline resources."),(function(){const n=m(e,this.path,this.parent.name,t);return!n||n.optional||(null==a?void 0:a.length)>0})).test("is-resources-of-type-available",n.a.t("pipelines-plugin~No resources available. Add pipeline resources."),(function(){const a=m(e,this.path,this.parent.name,t);return!a||a.optional||((e,t,a,n)=>{const i=m(e,t,a,n);return!1===i||e.formData.resources.some(({type:e})=>i.type===e)})(e,this.path,this.parent.name,t)})).test("is-resource-is-required",n.a.t("pipelines-plugin~Required"),(function(a){const n=m(e,this.path,this.parent.name,t);return!n||n.optional||a})).test("is-resource-link-broken",n.a.t("pipelines-plugin~Resource name has changed; reselect."),e=>!e||!!a.find(({name:t})=>t===e)).test("is-resource-type-valid",n.a.t("pipelines-plugin~Resource type has changed; reselect."),(function(a){return!a||((e,t,a,n,i)=>{const s=m(e,t,n,i);if(!1===s)return!0;const r=e.formData.resources.find(({name:e})=>e===a);return s.type===(null==r?void 0:r.type)})(e,this.path,a,this.parent.name,t)}))}))},f=(e,t)=>{const{formData:{workspaces:a}}=e;return s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),taskRef:s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),kind:s.string()}).default(void 0),taskSpec:s.object(),runAfter:v(e.formData),params:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),value:s.lazy(e=>Array.isArray(e)?s.array().of(s.string().required(n.a.t("pipelines-plugin~Required"))):s.string())})).test("is-param-optional",Object(d.f)(d.c.MISSING_REQUIRED_PARAMS),(function(t){return((e,t,a=[])=>{const n=Object(p.f)(e,t);if(!n)return!0;const i=Object(u.a)(n).filter(o.a);return 0===i.length||!i.some(e=>{const t=a.find(({name:t})=>t===e.name);return!t||!t.value})})(e,this.parent,t)})),resources:s.object({inputs:g(e,t),outputs:g(e,t)}).test("is-resources-required",Object(d.f)(d.c.MISSING_RESOURCES),(function(t){return((e,t,a)=>{const n=Object(p.f)(e,t);if(!n)return!0;const i=Object(u.b)(n),s=[...i.inputs||[],...i.outputs||[]].filter(e=>!e.optional),r=!a||0===a.length,l=s.length>0;if(r)return!l;const o=a.map(({name:e})=>e);return!s.some(({name:e})=>!o.includes(e))})(e,this.parent,[...(null==t?void 0:t.inputs)||[],...(null==t?void 0:t.outputs)||[]])})),when:s.array().of(s.object({input:s.string().required(n.a.t("pipelines-plugin~Required")),operator:s.string().required(n.a.t("pipelines-plugin~Required")),values:s.array().of(s.string().required(n.a.t("pipelines-plugin~Required")))})).test("is-when-expression-required",Object(d.f)(d.c.MISSING_REQUIRED_WHEN_EXPRESSIONS),(function(e){return((e=[])=>{if(0===e.length)return!0;return!(null==e?void 0:e.some(e=>{var t,a,n;return 0===(null===(t=null==e?void 0:e.input)||void 0===t?void 0:t.length)||0===(null===(a=null==e?void 0:e.operator)||void 0===a?void 0:a.length)||(0===((n=null==e?void 0:e.values)||[]).length||n.some(e=>0===(null==e?void 0:e.length)))}))})(e)})),workspaces:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),workspace:s.string().test("is-workspace-is-required",n.a.t("pipelines-plugin~Required"),(function(t){const a=((e,t,a)=>{var n;const s=t.split(".").slice(0,2).join("."),r=i.a(e,s),l=Object(p.f)(e,r);return!!l&&(null===(n=l.spec.workspaces)||void 0===n?void 0:n.find(({name:e})=>e===a))})(e,this.path,this.parent.name);return!a||a.optional||t})).test("are-workspaces-available",n.a.t("pipelines-plugin~No workspaces available. Add pipeline workspaces."),()=>(null==a?void 0:a.length)>0).test("is-workspace-link-broken",n.a.t("pipelines-plugin~Workspace name has changed; reselect."),e=>!e||!!a.find(({name:t})=>t===e))})).test("is-workspaces-required",Object(d.f)(d.c.MISSING_WORKSPACES),(function(t){return((e,t,a)=>{var n;const i=Object(p.f)(e,t);if(!i)return!0;const s=(null===(n=i.spec.workspaces)||void 0===n?void 0:n.filter(({optional:e})=>!e))||[],r=!a||0===a.length,l=(null==s?void 0:s.length)>0;if(r)return!l;const o=a.map(({name:e})=>e);return!s.some(({name:e})=>!o.includes(e))})(e,this.parent,t)}))}).test("taskRef-or-taskSpec",n.a.t("pipelines-plugin~TaskSpec or TaskRef must be provided."),(function(e){return!!e.taskRef||!!e.taskSpec})))},h=e=>s.object({name:Object(r.Zd)(e=>n.a.t(e)).required(n.a.t("pipelines-plugin~Required")),params:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),description:s.string(),default:s.string()})),resources:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),type:s.string().oneOf(Object.values(c.o)).required(n.a.t("pipelines-plugin~Required"))})),workspaces:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required"))})),tasks:f(e,"tasks").min(1,n.a.t("pipelines-plugin~Must define at least one task.")).required(n.a.t("pipelines-plugin~Required")),finallyTasks:f(e,"finallyTasks"),listTasks:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required")),runAfter:v(e.formData)})),finallyListTasks:s.array().of(s.object({name:s.string().required(n.a.t("pipelines-plugin~Required"))}))}),E=()=>s.mixed().test({test:e=>s.object({editorType:s.string().oneOf(Object.values(l.b)),yamlData:s.string(),formData:s.mixed().when("editorType",{is:l.b.Form,then:h(e)})}).validate(e,{abortEarly:!1})})},7494:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return v})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return E})),a.d(t,"a",(function(){return O}));var n=a(0),i=a(55),s=a(7),r=a(108),l=a(8),o=a(15),c=a(5586),u=a(5834),d=a(6038),p=a(6091);const m=(e,t,a)=>{const{t:o}=Object(s.useTranslation)(),{setFieldValue:u,setStatus:d}=Object(i.f)(),p=Object.assign({namespacedTasks:{kind:Object(l.Hb)(c.TaskModel),isList:!0,namespace:e}},!a&&{clusterTasks:{kind:Object(l.Hb)(c.ClusterTaskModel),isList:!0,namespaced:!1}}),{namespacedTasks:m,clusterTasks:b={loaded:!0,data:[],loadError:null}}=Object(r.b)(p),v=m.loaded?m.data:null,g=a?null:b.loaded?b.data:null;n.useEffect(()=>{v&&u("taskResources.namespacedTasks",v,!1),!a&&g&&u("taskResources.clusterTasks",g,!1);const e=!!v&&(a||!!g);u("taskResources.tasksLoaded",e,!1),e&&setTimeout(()=>t(),0)},[u,v,g,t,a]);const f=m.loadError||!a&&b.loadError;n.useEffect(()=>{f&&d({taskLoadingError:o("pipelines-plugin~Failed to load Tasks. {{error}}",{error:f})})},[o,d,f])},b=(e,t,a,i,s,r,l,c)=>{const{clusterTasks:m,namespacedTasks:b}=l,v=n.useRef(a);v.current=a;const g=(e,t,a,n)=>{const i={resource:e,name:t,runAfter:n,isFinallyTask:a};s(v.current,{type:d.d.ADD_LOADING_TASK,data:i})},f=a.loadingTasks.filter(e=>e.isFinallyTask),h=a.finallyTasks.filter(e=>!!Object(p.e)(l,e)),E=a.finallyTasks.filter(e=>!Object(p.e)(l,e)),O=a.finallyTasks.length+a.finallyListTasks.length+f.length,y=`finally-node-${a.finallyTasks.length}-${a.finallyListTasks.length}`,k=Object(u.i)(t),j=e=>Object.assign(Object.assign({},e),{convertList:t=>t.kind?((e,t)=>{const a={existingName:t,resource:e,runAfter:[]};s(v.current,{type:d.d.FIX_INVALID_FINALLY_LIST_TASK,data:a})})(t,e.name):g(t,e.name,!0,k),onRemoveTask:()=>{s(v.current,{type:d.d.REMOVE_TASK,data:{taskName:e.name}})}}),T=e=>Object.assign(Object.assign({},e),{convertList:t=>t.kind?((e,t)=>{const a={resource:e,name:t};s(v.current,{type:d.d.CONVERT_LIST_TO_FINALLY_TASK,data:a})})(t,e.name):g(t,e.name,!0,k),onRemoveTask:()=>{s(v.current,{type:d.d.DELETE_LIST_TASK,data:{listTaskName:e.name}})}});return Object(u.a)(Object(u.f)(O,!1),Object(u.g)(O))(y,{isFinallyTask:!0,namespace:e,namespaceTaskList:b,clusterTaskList:m,task:{isFinallyTask:!0,name:y,runAfter:k,addNewFinallyListNode:()=>{const e={listTaskName:"finally-list-"+Object(o.wd)(6)};s(v.current,{type:d.d.ADD_FINALLY_LIST_TASK,data:e})},onTaskSearch:r,finallyTasks:h.map((e,t)=>Object.assign(Object.assign({},e),{onTaskSelection:()=>i(e,Object(p.e)(l,e),!0),error:Object(p.h)(c)(t),selected:a.highlightedIds.includes(e.name),disableTooltip:!0})),finallyLoadingTasks:f,finallyInvalidListTasks:E.map(e=>j(e)),finallyListTasks:a.finallyListTasks.map(e=>T(e))}})},v=(e,t,a,i,s,r)=>{var l;const{clusterTasks:o,namespacedTasks:c}=s,m=n.useRef(i);m.current=i;const v=(e,a,n)=>{const i={resource:e,name:a,runAfter:n,isFinallyTask:!1};t(m.current,{type:d.d.ADD_LOADING_TASK,data:i})},g=(e,n,i)=>Object(u.d)(e,{namespaceTaskList:c,clusterTaskList:o,onNewTask:a=>{a.kind?((e,a,n)=>{const i={resource:e,name:a,runAfter:n};t(m.current,{type:d.d.CONVERT_LIST_TO_TASK,data:i})})(a,e,n):v(a,e,n)},onTaskSearch:a,onRemoveTask:i?null:()=>{t(m.current,{type:d.d.DELETE_LIST_TASK,data:{listTaskName:e}})},task:{name:e,runAfter:n||[]}}),f=i.tasks.filter(e=>!Object(p.e)(s,e)),h=i.tasks.filter(e=>!!Object(p.e)(s,e)),E=f.map(e=>{return n=e.name,i=e.runAfter,Object(u.b)(n,{namespaceTaskList:c,clusterTaskList:o,onNewTask:e=>{const a={existingName:n,resource:e,runAfter:i};e.kind?t(m.current,{type:d.d.FIX_INVALID_LIST_TASK,data:a}):v(e,n,i)},onTaskSearch:a,onRemoveTask:()=>{t(m.current,{type:d.d.REMOVE_TASK,data:{taskName:n}})},task:{name:n,runAfter:i||[]}});var n,i}),O=i.loadingTasks.filter(e=>!e.isFinallyTask),y=O.map(e=>{return t=e.name,a=e.runAfter,Object(u.c)(t,{isFinallyTask:!1,task:{name:t,runAfter:a||[]}});var t,a}),k=h.length>0?Object(u.o)(h,(e,a)=>{const n={direction:a,relatedTask:e};t(m.current,{type:d.d.ADD_LIST_TASK,data:n})},t=>e(t,Object(p.e)(s,t),!1),Object(p.h)(r.tasks),i.highlightedIds):[],j=0===i.tasks.length&&i.listTasks.length<=1&&0===O.length?[((e="initial-node")=>g(e,void 0,!0))(null===(l=i.listTasks[0])||void 0===l?void 0:l.name)]:i.listTasks.map(e=>g(e.name,e.runAfter)),T=Object(u.m)([...k,...j,...E,...y]),R=b("namespace",T,i,e,t,a,s,r.finally);return[...T,R]},g=e=>{var t;return{workspaces:null===(t=e.workspaces)||void 0===t?void 0:t.map(()=>({workspace:!0}))}},f=e=>{var t,a,n,i;return{resources:{inputs:null===(a=null===(t=e.resources)||void 0===t?void 0:t.inputs)||void 0===a?void 0:a.map(()=>({resource:!0})),outputs:null===(i=null===(n=e.resources)||void 0===n?void 0:n.outputs)||void 0===i?void 0:i.map(()=>({resource:!0}))}}},h=()=>{var e,t;const{setTouched:a,touched:s,values:r}=Object(i.f)(),l=!!(null===(e=s.formData)||void 0===e?void 0:e.workspaces),o=!!(null===(t=s.formData)||void 0===t?void 0:t.resources);n.useEffect(()=>{var e,t,n,i,s,c,u,d;l&&a({formData:{tasks:null===(t=null===(e=r.formData)||void 0===e?void 0:e.tasks)||void 0===t?void 0:t.map(g),finallyTasks:null===(i=null===(n=r.formData)||void 0===n?void 0:n.finallyTasks)||void 0===i?void 0:i.map(g)}}),o&&a({formData:{tasks:null===(c=null===(s=r.formData)||void 0===s?void 0:s.tasks)||void 0===c?void 0:c.map(f),finallyTasks:null===(d=null===(u=r.formData)||void 0===u?void 0:u.finallyTasks)||void 0===d?void 0:d.map(f)}})},[l,o])},E=(e,t)=>{const{values:a}=Object(i.f)();n.useEffect(()=>{const{loadingTasks:n}=a.formData;n.forEach(n=>{const i=a.taskResources.namespacedTasks.find(e=>e.metadata.name===(null==n?void 0:n.taskRef.name));if(i){const a={resource:i,name:n.name,runAfter:n.runAfter},s=n.isFinallyTask?d.d.CONVERT_LOADING_TASK_TO_FINALLY_TASK:d.d.CONVERT_LOADING_TASK_TO_TASK;e(t,{type:s,data:a})}})},[a,e,t])},O=(e,t,a)=>{const{values:s}=Object(i.f)();n.useEffect(()=>{const{loadingTasks:n}=s.formData;n.forEach(n=>{if(e.includes(null==n?void 0:n.taskRef.name)){const e={resource:n.resource,name:n.name,runAfter:n.runAfter},i=n.isFinallyTask?d.d.CONVERT_LOADING_TASK_TO_FINALLY_TASK:d.d.CONVERT_LOADING_TASK_TO_TASK;t(a,{type:i,data:e})}})},[s,t,a,e])}},7495:function(e,t,a){"use strict";a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"k",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return E})),a.d(t,"i",(function(){return y})),a.d(t,"d",(function(){return k})),a.d(t,"b",(function(){return j})),a.d(t,"l",(function(){return T})),a.d(t,"a",(function(){return R}));var n=a(29),i=a(380),s=a(1557),r=a(109),l=a(8),o=a(5586),c=a(5623),u=a(5588),d=a(6364),p=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};const m=(e,t)=>{var a;return(null===(a=e.attributes)||void 0===a?void 0:a.installed)===t},b=e=>{var t;return!!(null===(t=e.attributes)||void 0===t?void 0:t.installed)},v=e=>{var t,a,n;return!(!(null===(t=e.attributes)||void 0===t?void 0:t.installed)||!(null===(n=null===(a=e.attributes)||void 0===a?void 0:a.versions)||void 0===n?void 0:n.some(t=>{var a,n,i;return(null===(a=t.version)||void 0===a?void 0:a.toString())===(null===(i=null===(n=e.attributes)||void 0===n?void 0:n.installed)||void 0===i?void 0:i.toString())})))},g=e=>{var t,a;return e.provider===u.t.tektonHub&&0===(null===(a=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.versions)||void 0===a?void 0:a.length)},f=e=>e.data.source===d.a&&e.provider===u.t.artifactHub,h=(e,t)=>m(e,t)?d.b.Add:((e,t)=>!m(e,t)&&v(e))(e,t)?d.b.Update:d.b.Install,E=(e,t)=>{const a=h(e,t);switch(a){case d.b.Add:return n.a.t("pipelines-plugin~Add");case d.b.Install:return n.a.t("pipelines-plugin~Install and add");case d.b.Update:return n.a.t("pipelines-plugin~Update and add");default:throw new Error("Unknown button type, "+a)}},O=e=>!e.data.hasOwnProperty("apiVersion"),y=(e,t)=>!e.some(O)||!(e=>{var t,a;return e.data.kind===o.TaskModel.kind&&(null===(a=null===(t=e.data.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[u.v.installedFrom])===d.c})(t),k=(e,t)=>{var a,n;return(null===(a=null==e?void 0:e.attributes)||void 0===a?void 0:a.versions)?f(e)?e.attributes.selectedVersionContentUrl:null===(n=e.attributes.versions.find(e=>e.version===t))||void 0===n?void 0:n.rawURL:null},j=(e,t)=>e.find(e=>{var a,n,i,s;return e.uid!==t.uid&&e.name===t.name&&t.data.kind!==o.ClusterTaskModel.kind&&e.data.kind===o.TaskModel.kind&&((null===(n=null===(a=e.data.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n[u.v.installedFrom])===d.c||(null===(s=null===(i=e.data.metadata)||void 0===i?void 0:i.annotations)||void 0===s?void 0:s[u.v.installedFrom])===d.a)}),T=(e,t,a,n)=>p(void 0,void 0,void 0,(function*(){return Object(r.b)(e).then(e=>p(void 0,void 0,void 0,(function*(){const r=yield e.text(),o=Object(i.safeLoad)(r);o.metadata.namespace=a,o.metadata.annotations=Object.assign(Object.assign({},o.metadata.annotations),{[u.v.installedFrom]:d.c}),o.metadata=s.a({},t.data.metadata,o.metadata);const p=Object(c.z)(o);return Object(l.rb)(p,o,a,n)}))).catch(e=>{throw console.warn("Error:",e),e})})),R=(e,t)=>Object(r.b)(e).then(e=>p(void 0,void 0,void 0,(function*(){const a=yield e.text(),n=Object(i.safeLoad)(a);n.metadata.namespace=t,n.metadata.annotations=Object.assign(Object.assign({},n.metadata.annotations),{[u.v.installedFrom]:d.c});const s=Object(c.z)(n);return Object(l.jb)(s,n)}))).catch(e=>{throw console.warn("Error:",e),e})},7496:function(e,t,a){"use strict";var n=a(0),i=a(109),s=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};t.a=(e,t)=>{const[a,r]=n.useState([]),[l,o]=n.useState(!1),[c,u]=n.useState();return n.useEffect(()=>{let a=!0;return t?Object(i.b)(e).then(e=>s(void 0,void 0,void 0,(function*(){const t=yield e.json();a&&(o(!0),r(t.data))}))).catch(e=>{a&&(o(!0),u(null==e?void 0:e.message))}):o(!0),()=>{a=!1}},[e,t]),[a,l,c]}},7499:function(e,t,a){"use strict";var n=a(8271);a.d(t,"a",(function(){return n.a}));var i=a(6856);a.d(t,"d",(function(){return i.a}));var s=a(8272);a.d(t,"b",(function(){return s.a}));var r=a(8273);a.d(t,"c",(function(){return r.a}));var l=a(8274);a.d(t,"e",(function(){return l.a}))},7500:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a(0),i=a(5932),s=a(4373),r=a(5931),l=a(5933),o=a(5591),c=a(5653);const u=e=>{switch(Object(c.c)(e)){case o.b.GITHUB:return n.createElement(r.a,{title:e});case o.b.GITLAB:return n.createElement(l.a,{title:e});case o.b.BITBUCKET:return n.createElement(i.a,{title:e});default:return n.createElement(s.a,{title:e})}},d=e=>(null==e?void 0:e.startsWith("refs/heads/"))||(null==e?void 0:e.startsWith("refs-heads-"))?"pipelines-plugin~Branch":(null==e?void 0:e.startsWith("refs/tags/"))||(null==e?void 0:e.startsWith("refs-tags-"))?"pipelines-plugin~Tag":"pipelines-plugin~Branch",p=e=>(null==e?void 0:e.startsWith("refs/heads/"))?e.replace("refs/heads/",""):(null==e?void 0:e.startsWith("refs-heads-"))?e.replace("refs-heads-",""):(null==e?void 0:e.startsWith("refs/tags/"))?e.replace("refs/tags/",""):(null==e?void 0:e.startsWith("refs-tags-"))?e.replace("refs-tags-",""):e},7501:function(e,t,a){"use strict";var n=a(0),i=a(7502),s=a(7503),r=a(7504);t.a=({workspaces:e,namespace:t,ownerResourceName:a,ownerResourceKind:l})=>e&&0!==e.length?n.createElement(n.Fragment,null,n.createElement(r.a,{namespace:t,workspaces:e}),n.createElement(s.a,{namespace:t,ownerResourceName:a,ownerResourceKind:l}),n.createElement(i.a,{workspaces:e})):null},7502:function(e,t,a){"use strict";var n=a(0),i=a(7);t.a=({workspaces:e})=>{const{t:t}=Object(i.useTranslation)();if(!e||0===e.length)return null;const a=e.filter(e=>!!e.emptyDir);return 0===a.length?null:n.createElement("dl",{"data-test-id":"empty-directories-section"},n.createElement("dt",null,t("pipelines-plugin~Empty Directories")),n.createElement("dd",null,a.map(e=>n.createElement("div",{key:e.name,"data-test-id":"empty-directory-workspace"},t("pipelines-plugin~Empty Directory ({{workspaceName}})",{workspaceName:e.name})))))}},7503:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(108),l=a(10),o=a(5586),c=a(5623);t.a=({namespace:e,ownerResourceName:t,ownerResourceKind:a=o.PipelineRunModel.kind})=>{const[u,d,p]=Object(r.a)({kind:l.PersistentVolumeClaimModel.kind,isList:!0,namespace:e}),{t:m}=Object(i.useTranslation)();if(!t||!d||p||0===(null==u?void 0:u.length))return null;const b=Object(c.k)(u,t,a);return b&&0!==b.length?n.createElement("dl",{"data-test-id":"volumeClaimTemplate-resources-section"},n.createElement("dt",null,m("pipelines-plugin~VolumeClaimTemplate Resources")),n.createElement("dd",null,b.map(e=>n.createElement(s.hb,{name:e.metadata.name,key:e.metadata.name,namespace:e.metadata.namespace,kind:l.PersistentVolumeClaimModel.kind})))):null}},7504:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(10);t.a=({namespace:e,workspaces:t})=>{const{t:a}=Object(i.useTranslation)();if(!e||!t||0===t.length)return null;const l=t.map(t=>{if(t.persistentVolumeClaim){const a=t.persistentVolumeClaim,i=`${a.claimName} (${t.name})`;return n.createElement(s.hb,{key:t.name,name:a.claimName,namespace:e,kind:r.PersistentVolumeClaimModel.kind,displayName:i})}if(t.configMap){const a=t.configMap,i=`${a.name} (${t.name})`;return n.createElement(s.hb,{key:t.name,name:a.name,namespace:e,kind:r.ConfigMapModel.kind,displayName:i})}if(t.secret){const a=t.secret,i=`${a.secretName} (${t.name})`;return n.createElement(s.hb,{key:t.name,name:a.secretName,kind:r.SecretModel.kind,namespace:e,displayName:i})}return null}).filter(e=>!!e);return 0===l.length?null:n.createElement("dl",{"data-test-id":"workspace-resources-section"},n.createElement("dt",null,a("pipelines-plugin~Workspace Resources")),n.createElement("dd",null,l))}},7505:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(6183);t.a=({logDetails:e,namespace:t})=>{const{t:a}=Object(i.useTranslation)();return e?n.createElement(n.Fragment,null,n.createElement("dl",null,n.createElement("dt",null,a("pipelines-plugin~Message")),n.createElement("dd",null,e.title)),n.createElement("dl",null,n.createElement("dt",null,a("pipelines-plugin~Log snippet")),n.createElement("dd",null,n.createElement(s.a,{logDetails:e,namespace:t},e=>n.createElement("pre",{className:"co-pre"},e))))):null}},7506:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),i=a(108),s=a(10),r=a(8),l=a(5586),o=a(5588);const c=(e,t)=>({kind:s.PodModel.kind,selector:{matchLabels:t},namespace:e,isList:!0,optional:!0}),u=e=>t=>t.kind===l.TaskRunModel.kind&&e.data.find(e=>e.metadata.uid===t.uid),d=e=>t=>t.kind===s.PodModel.kind&&e.data.find(e=>e.metadata.uid===t.uid),p=(e,t)=>{const{taskruns:a,pods:s}=((e,t)=>{const a=n.useMemo(()=>({taskruns:{kind:Object(r.Hb)(l.TaskRunModel),namespace:e,selector:{matchLabels:{[o.u.pipelinerun]:t}},isList:!0,optional:!0},pods:c(e,{[o.u.pipelinerun]:t})}),[e,t]);return Object(i.b)(a)})(e,t.metadata.name);return[e=>e.kind===l.PipelineRunModel.kind&&e.uid===t.metadata.uid,u(a),d(s)]},m=(e,t)=>{const{pods:a}=((e,t)=>{const a=n.useMemo(()=>({pods:c(e,{[o.u.taskrun]:t})}),[e,t]);return Object(i.b)(a)})(e,t.metadata.name);return[e=>e.kind===l.TaskRunModel.kind&&e.uid===t.metadata.uid,d(a)]}},7507:function(e,t,a){"use strict";var n=a(0),i=a(469),s=a(7),r=a(40),l=a(1952),o=a(5586),c=a(6676),u=a(7508);t.a=e=>{var t;const{t:a}=Object(s.useTranslation)(),{columnLayout:{columns:d,id:p},customData:m,data:b,loaded:v}=e,[g,f]=Object(l.useActiveColumns)({columns:d,columnManagementID:p}),h=n.useMemo(()=>new Set(g.map(e=>e.id)),[g]),E=Object.assign(Object.assign({},m),{selectedColumns:h});return f&&n.createElement(r.j,Object.assign({},e,{"aria-label":a(o.TaskRunModel.labelPluralKey),defaultSortField:"status.startTime",defaultSortOrder:i.a.desc,Header:Object(c.a)(null===(t=e.customData)||void 0===t?void 0:t.showPipelineColumn),Row:u.a,virtualize:!0,activeColumns:h,customData:E,onRowsRendered:({stopIndex:e})=>{var t;v&&e===b.length-1&&(null===(t=null==m?void 0:m.nextPage)||void 0===t||t.call(m))}}))}},7508:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(11334),r=a(7),l=a(40),o=a(5),c=a(8),u=a(5669),d=a(5586),p=a(6087),m=a(5635),b=a(5617),v=a(5623),g=a(6358),f=a(5588),h=a(7509),E=a(6677);a(7510);const O=Object(c.Hb)(d.TaskRunModel),y=Object(c.Hb)(d.PipelineModel);t.a=({obj:e,customData:t})=>{var a,c,d,k,j,T,R,_;const{t:S}=Object(r.useTranslation)(),{selectedColumns:N}=t;return n.createElement(n.Fragment,null,n.createElement(l.k,{className:E.a[0]},n.createElement(o.hb,{kind:O,name:e.metadata.name,namespace:e.metadata.namespace,"data-test-id":e.metadata.name,nameSuffix:n.createElement(n.Fragment,null,"true"===(null===(c=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.annotations)||void 0===c?void 0:c[u.c])||"true"===(null===(k=null===(d=null==e?void 0:e.metadata)||void 0===d?void 0:d.annotations)||void 0===k?void 0:k[u.l])?n.createElement(i.a,{content:S("pipelines-plugin~Archived in Tekton results")},n.createElement("div",{className:"opp-task-run-list__results-indicator"},n.createElement(s.a,null))):null)})),(null==N?void 0:N.has("namespace"))&&n.createElement(l.k,{className:E.a[1],columnID:"namespace"},n.createElement(o.hb,{kind:"Namespace",name:e.metadata.namespace})),(null==t?void 0:t.showPipelineColumn)&&(null==N?void 0:N.has("pipeline"))&&n.createElement(l.k,{className:E.a[2]},e.metadata.labels[f.u.pipeline]?n.createElement(o.hb,{kind:y,name:e.metadata.labels[f.u.pipeline],namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("task"))&&n.createElement(l.k,{className:E.a[3]},(null===(j=e.spec.taskRef)||void 0===j?void 0:j.name)?n.createElement(o.hb,{kind:Object(m.c)(null===(T=e.spec.taskRef)||void 0===T?void 0:T.kind),displayName:e.metadata.labels[f.u.pipelineTask],name:e.spec.taskRef.name,namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("pod"))&&n.createElement(l.k,{className:E.a[4]},(null===(R=e.status)||void 0===R?void 0:R.podName)?n.createElement(o.hb,{kind:"Pod",name:e.status.podName,namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("status"))&&n.createElement(l.k,{className:E.a[5]},n.createElement(h.a,{status:Object(b.i)(e),taskRun:e})),(null==N?void 0:N.has("started"))&&n.createElement(l.k,{className:E.a[6]},n.createElement(o.xb,{timestamp:null===(_=null==e?void 0:e.status)||void 0===_?void 0:_.startTime})),(null==N?void 0:N.has("duration"))&&n.createElement(l.k,{className:E.a[7]},Object(v.v)(e)),n.createElement(l.k,{className:E.a[8]},n.createElement(g.a,{actions:Object(p.c)(),kind:O,resource:e})))}},7509:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5),l=a(5586),o=a(5617),c=a(6434),u=a(6857),d=a(6858);t.a=({status:e,taskRun:t})=>{const{t:a}=Object(i.useTranslation)();return n.createElement(c.a,{status:e,title:Object(o.j)(t)},n.createElement(u.a,{logDetails:Object(d.a)(t),namespace:t.metadata.namespace,link:n.createElement(s.Link,{to:Object(r.uc)(l.TaskRunModel,t.metadata.name,t.metadata.namespace)+"/logs"},a("pipelines-plugin~View logs"))}))}},7510:function(e,t,a){},8249:function(e,t,a){"use strict";var n=a(8250);a.d(t,"f",(function(){return n.a}));var i=a(8257);a.d(t,"k",(function(){return i.a}));var s=a(8260);a.d(t,"b",(function(){return s.a}));var r=a(8261);a.d(t,"n",(function(){return r.a}));var l=a(8263);a.d(t,"m",(function(){return l.a}));var o=a(8264);a.d(t,"a",(function(){return o.a}));var c=a(7490);a.d(t,"l",(function(){return c.a}));var u=a(8265);a.d(t,"i",(function(){return u.a}));var d=a(8266);a.d(t,"e",(function(){return d.a}));var p=a(7492);a.d(t,"d",(function(){return p.a}));var m=a(8269);a.d(t,"c",(function(){return m.a}));var b=a(8270);a.d(t,"j",(function(){return b.a}));var v=a(6851);a.d(t,"h",(function(){return v.a}));var g=a(8278);a.d(t,"g",(function(){return g.a}))},8250:function(e,t,a){"use strict";var n=a(0),i=a(765),s=a(40),r=a(5),l=a(5684),o=a(5586),c=a(5788),u=a(6087),d=a(6057),p=a(7479),m=a(5846),b=a(5705),v=a(6056);t.a=e=>{var t;const{name:a,namespace:g,kindObj:f}=e,h=Object(v.d)(a,g)||[],E=Object(m.a)(f),[,O,y]=Object(l.a)(o.PipelineModel,a,g),k=Object(m.b)(a,g),j=Object(c.a)(g),{hasUpdatePermission:T,queryPrefix:R,metricsLevel:_}=Object(b.g)(g),S=Object(d.b)(Object(u.a)(k,h.length>0));return O&&404===(null===(t=null==y?void 0:y.response)||void 0===t?void 0:t.status)?n.createElement(i.ErrorPage404,null):O?n.createElement(s.a,Object.assign({},e,{badge:j,menuActions:S,customData:{templateNames:h,queryPrefix:R,metricsLevel:_,hasUpdatePermission:T},breadcrumbsFor:()=>E,pages:[r.mc.details(p.a),r.mc.editYaml(),{href:"Runs",nameKey:"pipelines-plugin~PipelineRuns",component:p.d},{href:"parameters",nameKey:"pipelines-plugin~Parameters",component:e=>n.createElement(p.b,Object.assign({PipelineFormComponent:p.c,formName:"parameters",validationSchema:Object(p.h)(),obj:e.obj},e))}]})):n.createElement(r.S,null)}},8251:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(5),r=a(5586),l=a(6849),o=a(6850),c=a(9603),u=a(6180),d=a(6211);t.a=({obj:e,customData:t})=>{const{t:a}=Object(i.useTranslation)(),{taskLinks:p,finallyTaskLinks:m}=Object(u.c)(e);return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(s.ob,{text:a("pipelines-plugin~Pipeline details")}),n.createElement(d.a,{pipeline:e}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(s.lb,{resource:e})),n.createElement("div",{className:"col-sm-6"},n.createElement(c.a,{namespace:e.metadata.namespace,model:r.TriggerTemplateModel,links:t.templateNames}),n.createElement(o.a,{namespace:e.metadata.namespace,links:p,title:a("pipelines-plugin~Tasks")}),n.createElement(o.a,{namespace:e.metadata.namespace,links:m,title:a("pipelines-plugin~Finally tasks")}),n.createElement(l.a,{workspaces:e.spec.workspaces})))))}},8252:function(e,t,a){"use strict";var n=a(0),i=a(1922),s=a(55),r=a(22),l=a(839),o=a(7),c=a(5),u=a(15),d=a(6851);t.a=({namespace:e,handleSubmit:t,handleReset:a,isSubmitting:p,status:m,errors:b,dirty:v})=>{const g=Object(c.Dc)({group:"tekton.dev",resource:"pipelines",namespace:e,verb:"update"}),{t:f}=Object(o.useTranslation)(),h=!v||!r.a(l.a(Object(s.d)(b,"parameters")));return n.createElement(i.a,{onSubmit:t},n.createElement("div",{className:"co-m-pane__body"},n.createElement(d.a,{fieldName:"parameters",isReadOnly:!g,addLabel:f("pipelines-plugin~Add Pipeline parameter"),nameLabel:f("pipelines-plugin~Name"),nameFieldName:"name",descriptionLabel:f("pipelines-plugin~Description"),descriptionFieldName:"description",valueLabel:f("pipelines-plugin~Default value"),valueFieldName:"default",emptyMessage:f("pipelines-plugin~No parameters are associated with this Pipeline."),emptyValues:{name:"",description:"",default:""}})),g&&n.createElement(u.R,{handleReset:a,isSubmitting:p,errorMessage:m&&m.submitError,successMessage:m&&!v&&m.success,disableSubmit:h,showAlert:!h,submitLabel:f("pipelines-plugin~Save"),resetLabel:f("pipelines-plugin~Reload"),sticky:!0}))}},8253:function(e,t,a){"use strict";a(0),a(1922),a(55),a(22),a(839),a(7),a(5),a(15),a(7481)},8254:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(15),r=a(9605);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{addLabel:a=t("pipelines-plugin~Add Pipeline workspace"),fieldName:l,isReadOnly:o=!1}=e,c=t("pipelines-plugin~No workspaces are associated with this pipeline.");return n.createElement("div",{className:"co-m-pane__form"},n.createElement(s.mb,{"data-test":"pipeline-workspaces",name:l,addLabel:a,headers:[{name:t("pipelines-plugin~Name"),required:!0}],emptyValues:{name:"",optional:!1},emptyMessage:c,isReadOnly:o,complexFields:[!0]},n.createElement(r.a,null)))}},8255:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(16),r=a(7),l=a(8),o=a(5586),c=a(6180);t.a=({PipelineFormComponent:e,formName:t,validationSchema:a,obj:u})=>{const{t:d}=Object(r.useTranslation)(),p={parameters:s.a(u.spec,"params",[])};return n.createElement(n.Fragment,null,n.createElement(i.b,{initialValues:p,onSubmit:(e,a)=>Object(l.rb)(o.PipelineModel,Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},u.spec),{params:Object(c.d)(e.parameters)})}),u.metadata.namespace,u.metadata.name).then(e=>{a.resetForm({values:{parameters:s.a(e.spec,"params",[])},status:{success:d("pipelines-plugin~Successfully updated the pipeline {{formName}}.",{formName:t})}})}).catch(e=>{a.setStatus({submitError:e.message})}),onReset:(e,t)=>{t.resetForm({status:{}})},validationSchema:a},t=>n.createElement(e,Object.assign({namespace:u.metadata.namespace},t))))}},8256:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(29),i=a(689);const s=()=>i.object().shape({parameters:i.array().of(i.object().shape({name:i.string().required(n.a.t("pipelines-plugin~Required")),description:i.string(),default:i.string()}))})},8257:function(e,t,a){"use strict";var n=a(0),i=a(137),s=a(7),r=a(14),l=a(5805),o=a(978),c=a(5788),u=a(7490);t.a=Object(o.b)(e=>{const{t:t}=Object(s.useTranslation)(),{ns:a}=Object(r.useParams)(),o=Object(c.a)(a);return n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,t("pipelines-plugin~Pipelines"))),a?n.createElement("div",null,n.createElement(u.a,Object.assign({},e,{badge:o,namespace:a,title:t("pipelines-plugin~Pipelines")}))):n.createElement(l.b,{title:t("pipelines-plugin~Pipelines"),badge:o},e=>n.createElement(s.Trans,{t:t,ns:"pipelines-plugin"},"Select a Project to view the list of Pipelines",n.createElement(l.a,{openProjectModal:e}),".")))})},8258:function(e,t,a){"use strict";var n=a(0),i=a(16),s=a(7),r=a(13),l=a(40),o=a(5),c=a(8),u=a(15),d=a(5669),p=a(5586),m=a(6182),b=a(7491),v=a(11335);t.a=e=>{const{t:t}=Object(s.useTranslation)(),a=Object(r.jc)()[0],[,g,f]=Object(u.ef)(d.k,"pipelines"),[h,E,O]=Object(m.a)(e.namespace),y={data:h,kind:Object(c.Hb)(p.PipelineRunModel),loadError:O,loaded:E};n.useEffect(()=>{f&&"dev"===a&&g("pipelines")},[a,f,g]);const k=i.a(e.pipeline,"data",[]);return e.pipeline.loaded?0===k.length?n.createElement(o.u,{label:t("pipelines-plugin~Pipelines")}):n.createElement(b.a,Object.assign({},e,{pipelinerun:y}),n.createElement(l.d,Object.assign({},e,{flatten:e=>i.a(e,["pipeline","data"],{}),kinds:["Pipeline"],ListComponent:v.a,rowFilters:Object(b.b)(t),hideNameLabelFilters:e.hideNameLabelFilters}))):n.createElement(o.S,null)}},8259:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=["pf-v5-u-w-16-on-xl pf-v5-u-w-25-on-lg pf-v5-u-w-33-on-xs","pf-v5-u-w-8-on-xl pf-v5-u-w-16-on-xs","pf-v5-u-w-16-on-xl pf-v5-u-w-25-on-lg pf-v5-u-w-33-on-xs","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-xl",a(5).F.columnClass]},8260:function(e,t,a){"use strict";var n=a(0),i=a(40),s=a(5),r=a(5788),l=a(11339),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.j)(t),c=Object(r.b)(e.namespace);return n.createElement(i.a,Object.assign({},e,{badge:c,breadcrumbsFor:()=>a,menuActions:s.F.factory.common,pages:[s.mc.details(l.a),s.mc.editYaml()]}))}},8261:function(e,t,a){"use strict";var n=a(0),i=a(40),s=a(5),r=a(5788),l=a(11344),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.j)(t),c=Object(r.b)(e.namespace);return n.createElement(i.a,Object.assign({},e,{badge:c,breadcrumbsFor:()=>a,menuActions:s.F.factory.common,pages:[s.mc.details(l.a),s.mc.editYaml()]}))}},8262:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(6850);t.a=({links:e,model:t,namespace:a})=>{const{t:r}=Object(i.useTranslation)();return n.createElement(s.a,{links:e.map(e=>({resourceKind:t.kind,name:e})),namespace:a,title:r(t.labelPluralKey)})}},8263:function(e,t,a){"use strict";var n=a(0),i=a(40),s=a(5),r=a(5788),l=a(11345),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.j)(t),c=Object(r.b)(e.namespace);return n.createElement(i.a,Object.assign({},e,{badge:c,breadcrumbsFor:()=>a,menuActions:s.F.factory.common,pages:[s.mc.details(l.a),s.mc.editYaml()]}))}},8264:function(e,t,a){"use strict";var n=a(0),i=a(872),s=a(40),r=a(5),l=a(5788),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.j)(t),c=Object(l.b)(e.namespace);return n.createElement(s.a,Object.assign({},e,{badge:c,menuActions:r.F.factory.common,breadcrumbsFor:()=>a,pages:[r.mc.details(i.d),r.mc.editYaml()]}))}},8265:function(e,t,a){"use strict";var n=a(0),i=a(872),s=a(40),r=a(5),l=a(5788),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.h)(t),c=Object(l.a)(e.namespace);return n.createElement(s.a,Object.assign({},e,{badge:c,menuActions:r.F.factory.common,breadcrumbsFor:()=>a,pages:[r.mc.details(i.d),r.mc.editYaml()]}))}},8266:function(e,t,a){"use strict";var n=a(0),i=a(872),s=a(40),r=a(5),l=a(5788),o=a(5846);t.a=e=>{const{kindObj:t}=e,a=Object(o.h)(t),c=Object(l.a)(e.namespace);return n.createElement(s.a,Object.assign({},e,{badge:c,menuActions:r.F.factory.common,breadcrumbsFor:()=>a,pages:[r.mc.details(i.d),r.mc.editYaml()]}))}},8267:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h}));var n=a(499),i=a(2061),s=a(1557),r=a(1941),l=a(6038),o=a(11346),c=a(6091),u=a(7493),d=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))},p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const m=(e,t)=>{var a;const{listTasks:i,finallyListTasks:s,loadingTasks:r}=e,l=i.map(t=>{const{name:a,runAfter:n}=t;return Object.assign(Object.assign({},t),{runAfter:n?n.filter(t=>Object(u.a)(e,[t],a)):[]})}),o=t.spec,{finally:c}=o,d=p(o,["finally"]),m=n.a(d,["listTasks","finallyListTasks","loadingTasks"]);return Object.assign(Object.assign({},m),{name:null===(a=t.metadata)||void 0===a?void 0:a.name,finallyTasks:c,listTasks:l,finallyListTasks:s,loadingTasks:r})},b=(e,t)=>Object(o.a)(e).validate(t,{abortEarly:!1,strict:!0}),v=(e,t)=>{const a=t.match(/(.*)\[(\d+)\]$/);if(a){const[,t,n]=a;if(t&&n)return i.a(e,t,e=>(e.splice(n,1),e))}return n.a(e,t)},g=(e,t,a,n=0)=>d(void 0,void 0,void 0,(function*(){if(n>1)return;const[i,r]=((e,t,a)=>{var n;const i=((null===(n=null==t?void 0:t.inner)||void 0===n?void 0:n.map(e=>e.path).filter(e=>!!e))||[]).reduce((e,t)=>{const a=t.split(".");switch(a[a.length-1]){case"name":{const t=a.slice(0,a.length-1).join(".");return v(e,t)}default:return v(e,t)}},a);return[m(e,i),i]})(e,t,a);let o;try{yield b(i,r),o=void 0}catch(e){o=e}return o?g(i,o,r,o?n+1:n):s.a({},l.g,i)})),f=(e,t)=>d(void 0,void 0,void 0,(function*(){const a=m(e,t);try{yield b(a,t)}catch(n){const i=(yield g(a,n,t))||e;return()=>i}return s.a({},l.g,a)})),h=(e,t,a)=>Object(r.b)(Object(c.a)(e,t,a),"yamlData",{skipInvalid:!0})},8268:function(e,t,a){},8269:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(7),r=a(14),l=a(5),o=a(8),c=a(5586),u=a(7492);a(11377);t.a=e=>{const{t:t}=Object(s.useTranslation)(),[a,d]=n.useState(null),[p,m]=n.useState(null),{pipelineName:b,ns:v}=Object(r.useParams)();return n.useEffect(()=>{Object(o.kb)(c.PipelineModel,b,v).then(e=>{d(e)}).catch(()=>{m(t("pipelines-plugin~Unable to load Pipeline"))})},[b,v,t]),p?n.createElement("div",{className:"odc-pipeline-builder-edit-page"},n.createElement(i.a,{variant:"danger",isInline:!0,title:p},t("pipelines-plugin~Navigate back to the")," ",n.createElement(r.Link,{to:`/k8s/ns/${v}/${Object(o.Hb)(c.PipelineModel)}`},t("pipelines-plugin~Pipelines page")),".")):a?n.createElement(u.a,Object.assign({},e,{existingPipeline:a})):n.createElement(l.S,null)}},8270:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5695),l=a(5805),o=a(978),c=a(15),u=a(5669),d=a(5586),p=a(5788),m=a(7499),b=a(6859),v=a(8277);const g=Object(o.b)(()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(s.useParams)(),a=Object(s.useNavigate)(),r=Object(p.a)(t),o=Object(c.Fe)(u.e),[g,,f]=Object(c.ef)(u.k,"pipelines");n.useEffect(()=>{f&&t&&(o&&"repositories"===g&&a(`/dev-pipelines/ns/${t}/repositories`,{replace:!0}),"pipeline-runs"===g&&a(`/dev-pipelines/ns/${t}/pipeline-runs`,{replace:!0}))},[o,t,g,f]);const[h,E,O]=[!1,!0,!1],y={pipeline:{model:d.PipelineModel,onSelection:(e,t,a)=>a+"/builder"},pipelineRun:{model:d.PipelineRunModel},repository:{model:d.RepositoryModel,onSelection:(e,t,a)=>a+"/form"}},k=[{href:"",nameKey:d.PipelineModel.labelPluralKey,component:v.a},{href:"pipeline-runs",nameKey:d.PipelineRunModel.labelPluralKey,component:m.d,pageData:{showTitle:h,hideBadge:E,canCreate:O}},...o?[{href:"repositories",nameKey:d.RepositoryModel.labelPluralKey,component:b.a,pageData:{showTitle:h,hideBadge:E,canCreate:O}}]:[]];return t?n.createElement(c.ob,{pages:k,title:e("pipelines-plugin~Pipelines"),badge:r,menuActions:y,telemetryPrefix:"Pipelines"}):n.createElement(l.b,{title:e("pipelines-plugin~Pipelines")},t=>n.createElement(i.Trans,{t:e,ns:"pipelines-plugin"},"Select a Project to view its details",n.createElement(l.a,{openProjectModal:t}),"."))});t.a=e=>n.createElement(r.b,{variant:r.a.light,hideApplications:!0},n.createElement(g,Object.assign({},e)))},8271:function(e,t,a){"use strict";var n=a(0),i=a(88),s=a(11334),r=a(7),l=a(40),o=a(5),c=a(5669),u=a(6662),d=a.n(u),p=a(5788),m=a(6087),b=a(5617),v=a(5588),g=a(5846),f=a(5705),h=a(11378),E=a(11386),O=a(11388),y=a(6181),k=a(6039),j=a(11389),T=a(6057);a(11391);t.a=e=>{const{kindObj:t,namespace:a,name:u}=e,{t:R}=Object(r.useTranslation)(),_=Object(f.h)(a),[S]=Object(k.a)(a,u),N=Object(T.b)(Object(m.b)(_,S,!0)),P=Object(g.a)(t),w=Object(p.a)(e.namespace),[C,x,I]=Object(y.a)(a,u);return n.createElement(l.a,Object.assign({},e,{obj:{data:C,loaded:x,loadError:I},badge:w,menuActions:N,getResourceStatus:b.d,breadcrumbsFor:()=>P,titleFunc:e=>{var t,a,r,l,o,u,p;return n.createElement("div",{className:"pipelinerun-details-page"},null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name," ","true"===(null===(r=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.annotations)||void 0===r?void 0:r[v.y])&&n.createElement(i.a,{content:R("pipelines-plugin~Signed")},n.createElement("img",{src:d.a,alt:R("pipelines-plugin~Signed")})),("true"===(null===(o=null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.annotations)||void 0===o?void 0:o[c.c])||"true"===(null===(p=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations)||void 0===p?void 0:p[c.l]))&&n.createElement(i.a,{content:R("pipelines-plugin~Archived in Tekton results")},n.createElement(s.a,{className:"pipelinerun-details-page__results-indicator"})))},pages:[o.mc.details(h.a),o.mc.editYaml(o.Nc),{href:"parameters",nameKey:"pipelines-plugin~Parameters",component:e=>n.createElement(j.a,Object.assign({obj:e.obj},e))},{href:"logs",nameKey:"pipelines-plugin~Logs",component:E.a},o.mc.events(O.a)]}))}},8272:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(40),r=a(8),l=a(5586),o=a(5788),c=a(6253),u=a(6659);t.a=e=>{var t;const{t:a}=Object(i.useTranslation)(),d=Object(o.a)(e.namespace);return n.createElement(s.c,Object.assign({},e,{canCreate:null===(t=e.canCreate)||void 0===t||t,kind:Object(r.Hb)(l.PipelineRunModel),ListComponent:u.a,rowFilters:Object(c.b)(a),badge:e.hideBadge?null:d}))}},8273:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5805),l=a(5586),o=a(5788),c=a(6856);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{ns:a}=Object(s.useParams)(),u=Object(o.a)(a),{labelPlural:d}=l.PipelineRunModel;return a?n.createElement("div",null,n.createElement(c.a,Object.assign({},e,{namespace:a}))):n.createElement(r.b,{title:d,badge:u},e=>n.createElement(i.Trans,{t:t,ns:"pipelines-plugin",values:{pipelineRunLabel:d}},"Select a Project to view the list of ",{pipelineRunLabel:d},n.createElement(r.a,{openProjectModal:e}),"."))}},8274:function(e,t,a){"use strict";var n=a(0),i=a(137),s=a(7),r=a(6675);t.a=({obj:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,t("pipelines-plugin~TaskRuns"))),n.createElement(r.a,{showTitle:!1,selector:{matchLabels:{"tekton.dev/pipelineRun":e.metadata.name}},showPipelineColumn:!1,namespace:e.metadata.namespace,hideBadge:!0}))}},8275:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a(54),i=a(29);const s=["pf-v5-u-w-16-on-xl pf-v5-u-w-25-on-lg pf-v5-u-w-33-on-xs","pf-v5-u-w-12-on-xl pf-v5-u-w-20-on-lg pf-v5-u-w-30-on-xs","pf-v5-u-w-12-on-xl pf-v5-u-w-20-on-lg pf-v5-u-w-30-on-xs","pf-v5-u-w-12-on-xl pf-v5-u-w-20-on-lg pf-v5-u-w-30-on-xs","pf-v5-u-w-16-on-xl pf-v5-u-w-25-on-lg pf-v5-u-w-33-on-xs","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-v5-u-w-12-on-xl pf-v5-u-w-20-on-lg pf-v5-u-w-33-on-xs pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-xl",a(5).F.columnClass];t.a=()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[n.a],props:{className:s[0]}},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[n.a],props:{className:s[1]},id:"namespace"},{title:i.a.t("pipelines-plugin~Event type"),sortField:"spec.event_type",transforms:[n.a],props:{className:s[2]}},{title:i.a.t("pipelines-plugin~Last run"),transforms:[n.a],props:{className:s[3]}},{title:i.a.t("pipelines-plugin~Task status"),transforms:[n.a],props:{className:s[4]}},{title:i.a.t("pipelines-plugin~Last run status"),transforms:[n.a],props:{className:s[5]}},{title:i.a.t("pipelines-plugin~Last run time"),transforms:[n.a],props:{className:s[6]}},{title:i.a.t("pipelines-plugin~Last run duration"),transforms:[n.a],props:{className:s[7]}},{title:"",props:{className:s[8]}}]},8276:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5),l=a(15),o=a(5586),c=a(6254),u=a(6434),d=a(6857);t.a=({status:e,pipelineRun:t,title:a,taskRuns:p,taskRunsLoaded:m})=>{const{t:b}=Object(i.useTranslation)();return t?m?n.createElement(u.a,{status:e,title:a},n.createElement(d.a,{logDetails:Object(c.a)(t,p),namespace:t.metadata.namespace,link:n.createElement(s.Link,{to:Object(r.uc)(o.PipelineRunModel,t.metadata.name,t.metadata.namespace)+"/logs"},b("pipelines-plugin~View logs"))})):n.createElement(r.T,null):n.createElement(n.Fragment,null,l.E)}},8277:function(e,t,a){"use strict";var n=a(0),i=a(137),s=a(7),r=a(14),l=a(5),o=a(8),c=a(5586),u=a(7491),d=a(8258);t.a=()=>{const{t:e}=Object(s.useTranslation)(),{ns:t}=Object(r.useParams)(),a=[{isList:!0,kind:Object(o.Hb)(c.PipelineModel),namespace:t,prop:c.PipelineModel.id,filters:Object.assign({},Object(u.b)(e))}];return n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,e("pipelines-plugin~Pipelines"))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(l.C,{resources:a},n.createElement(d.a,{namespace:t}))))}},8278:function(e,t,a){"use strict";var n=a(0),i=a(321),s=a(967),r=a(406),l=a(379),o=a(184),c=a(241),u=a(130),d=a(192),p=a(434),m=a(295),b=a(296),v=a(7),g=a(5588),f=a(5846),h=a(5705),E=a(11394),O=a(8280),y=a(11395),k=a(11397),j=a(11398),T=a(11399),R=a(11407),_=a(11409),S=a(11412);a(8279);t.a=({obj:e})=>{const{metadata:{name:t,namespace:a}}=e,{t:N}=Object(v.useTranslation)(),{queryPrefix:P,metricsLevel:w,hasUpdatePermission:C}=Object(h.g)(a),x=Object(f.b)(t,a),[I,L]=n.useState(Object(i.b)("1w")),[A,D]=n.useState(Object(i.b)("30s")),[M,F]=n.useState([]),[U,B]=n.useState(!1),q=w===g.n.PIPELINE_TASK_LEVEL?2:4,$=n.useCallback(e=>{!M.find(t=>t.chartName===e.chartName)&&e.hasData&&F([...M,e])},[M]);return n.useEffect(()=>{U||M.length!==q||B(!0)},[U,M,q]),x?w===g.n.UNSUPPORTED_LEVEL?n.createElement(j.a,{updatePermission:C,metricsLevel:w}):n.createElement(s.a,{hasGutter:!0,key:w,className:"pipeline-metrics"},n.createElement(r.a,{className:"pipeline-metrics-dashboard__toolbar"},C&&w===g.n.PIPELINE_TASK_LEVEL&&n.createElement(l.a,{hasGutter:!0,style:{marginBottom:"var(--pf-v5-global--spacer--lg)"}},n.createElement(o.a,{xl2:12,xl:12,lg:12},n.createElement(O.a,null))),n.createElement(c.a,null,n.createElement(u.a,null,n.createElement(k.a,{timespan:I,setTimespan:L})),n.createElement(u.a,null,n.createElement(y.a,{interval:A,setInterval:D})))),n.createElement(r.a,{isFilled:!0,className:"co-m-pane__body pipeline-metrics-dashboard__body"},n.createElement(l.a,{sm:1,md:1,lg:1,xl:1,xl2:2,hasGutter:!0,className:"pipeline-metrics-dashboard__body-content"},n.createElement(o.a,{xl2:7,xl:12,lg:12,md:12,sm:12},n.createElement(d.a,null,n.createElement(p.a,null,n.createElement(m.a,null,N("pipelines-plugin~Pipeline Success Ratio"))),n.createElement(b.a,null,n.createElement(S.a,{interval:A,timespan:I,pipeline:e,loaded:U,onLoad:$,queryPrefix:P,metricsLevel:w})))),n.createElement(o.a,{xl2:5,xl:12,lg:12,md:12,sm:12},n.createElement(d.a,null,n.createElement(p.a,null,n.createElement(m.a,null,N("pipelines-plugin~Number of PipelineRuns"))),n.createElement(b.a,null,n.createElement(T.a,{interval:A,timespan:I,pipeline:e,loaded:U,onLoad:$,queryPrefix:P,metricsLevel:w})))),w===g.n.PIPELINERUN_TASKRUN_LEVEL&&n.createElement(n.Fragment,null,n.createElement(o.a,{xl2:7,xl:12,lg:12,md:12,sm:12},n.createElement(d.a,null,n.createElement(p.a,null,n.createElement(m.a,null,N("pipelines-plugin~PipelineRun Duration"))),n.createElement(b.a,null,n.createElement(R.a,{interval:A,pipeline:e,timespan:I,loaded:U,onLoad:$,queryPrefix:P,metricsLevel:w})))),n.createElement(o.a,{xl2:5,xl:12,lg:12,md:12,sm:12},n.createElement(d.a,null,n.createElement(p.a,null,n.createElement(m.a,null,N("pipelines-plugin~TaskRun Duration"))),n.createElement(b.a,{className:"pipeline-metrics__pipelinerun-taskrun-card-body"},n.createElement(_.a,{interval:A,timespan:I,pipeline:e,loaded:U,onLoad:$,queryPrefix:P,metricsLevel:w})))))))):n.createElement(E.a,null)}},8279:function(e,t,a){},8280:function(e,t,a){"use strict";var n=a(0),i=a(80),s=a(7),r=a(14),l=a(1957),o=a(15),c=a(879),u=a(5588);const d=({onClick:e,to:t})=>n.createElement(s.Trans,{ns:"pipelines-plugin"},"Administrators can try"," ",n.createElement(r.Link,{to:t,onClick:e},"this quick start")," ","to configure their metrics level to pipelinerun and taskrun. The pipelinerun and taskrun metrics level collects large volume of metrics over time in unbounded cardinality which may lead to metrics unreliability.");t.a=({metricsLevel:e})=>{const{t:t}=Object(s.useTranslation)(),{pathname:a,search:p}=Object(r.useLocation)(),{setActiveQuickStart:m}=Object(c.useQuickStartContext)(),b=new URLSearchParams(p);b.set("quickstart","configure-pipeline-metrics");const v={pathname:a,search:"?"+b.toString()};return n.createElement(l.default,null,(a,s)=>{const r=s&&(null==a?void 0:a.length)>0&&!!a.find(e=>"configure-pipeline-metrics"===e.metadata.name);return n.createElement(n.Fragment,null,r&&n.createElement(i.a,{variant:e===u.n.UNSUPPORTED_LEVEL?i.b.warning:i.b.info,isInline:!0,title:e===u.n.UNSUPPORTED_LEVEL?t("pipelines-plugin~Pipeline metrics configuration is unsupported."):t("pipelines-plugin~Pipeline metrics configuration defaults to pipeline and task level.")},n.createElement(d,{"data-test-id":"pipeline-metrics-quickstart-link",to:v,onClick:e=>{Object(o.Sd)(e)||m("configure-pipeline-metrics")}})))})}},8281:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),i=a(321),s=a(4331),r=a(4330),l=a(515),o=a(1398),c=a(4334),u=a(12095),d=a(11401),p=a(5385),m=a(4425),b=a(4426),v=a(5588),g=a(5650);const f=({data:e=null,timespan:t,bar:a=!0,width:f,themeColor:h,ariaDesc:E,ariaTitle:O,domain:y,yTickFormatter:k,containerComponent:j})=>{var T,R,_,S;const N=t-Object(i.b)("1d"),P=new Date(Date.now()).setHours(0,0,0,0),w=new Date(Date.now()-N).setHours(0,0,0,0),{x:C,y:x}=y||{},I={x:C||[w,P],y:x||void 0};let L=g.f;const A=Object(g.j)(t),D=e.filter(e=>!!e);if(!x){let e=null!==(R=null===(T=m.a(D,"y"))||void 0===T?void 0:T.y)&&void 0!==R?R:0,t=null!==(S=null===(_=b.a(D,"y"))||void 0===_?void 0:_.y)&&void 0!==S?S:0;0===e&&0===t?(e=-1,t=1):e>0&&t>0?e=0:e<0&&t<0&&(t=0),I.y=[e,t],Math.abs(t-e)<.005&&(L=e=>0===e?"0":e.toExponential(1))}let M={tickLabels:{fill:"var(--pf-v5-global--Color--100)"}};(A.length>7||f<225)&&(M={tickLabels:{fill:"var(--pf-v5-global--Color--100)",angle:320,fontSize:10,textAnchor:"end",verticalAnchor:"end"}});const F=n.createElement(s.a,{ariaDesc:E,ariaTitle:O,containerComponent:j||n.createElement(r.a,{labels:({datum:e})=>e.name.includes("scatter-")?`${Object(g.d)(e.x)}: ${e.y}`:null,constrainToVisibleArea:!0}),domain:I,domainPadding:{x:10,y:10},scale:{x:"time",y:"linear"},legendPosition:"bottom",height:v.a,padding:{bottom:50,left:50,right:20,top:50},themeColor:h||l.a.blue,width:f},n.createElement(o.a,{style:M,tickValues:A,tickFormat:e=>Object(g.d)(e)}),n.createElement(o.a,{dependentAxis:!0,showGrid:!0,tickFormat:k||L,style:{tickLabels:{fill:"var(--pf-v5-global--Color--100)"}}}),n.createElement(c.a,null,!a&&Object.values(D).map((e,t)=>n.createElement(u.a,{groupComponent:n.createElement("g",null),key:"scatter-"+t,name:"scatter-"+t,data:[e]}))),n.createElement(c.a,null,a?n.createElement(d.a,{alignment:"middle",key:"bar",data:D}):D.map((e,t)=>n.createElement(p.a,{groupComponent:n.createElement("g",null),key:"line-"+t,name:"line-"+t,data:[e]}))));return n.createElement("div",{style:{marginTop:-20}},F)}},8282:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),i=a(4331),s=a(515),r=a(1398),l=a(904),o=a(4334),c=a(12095),u=a(5385),d=a(116),p=a(4425),m=a(4426),b=a(5588);a(11408);const v=({data:e=[],width:t,height:a,containerComponent:v,ariaDesc:g,ariaTitle:f,themeColor:h,hiddenSeries:E,yTickFormatter:O,legendComponent:y,events:k,tickValues:j})=>{var T,R,_,S;const N={x:void 0,y:void 0},P=O||null,w=d.a(e,e=>!!e),C=e=>p.a(e,"y"),x=e=>m.a(e,"y");let I=null!==(R=null===(T=C(w.map(C)))||void 0===T?void 0:T.y)&&void 0!==R?R:0,L=null!==(S=null===(_=x(w.map(x)))||void 0===_?void 0:_.y)&&void 0!==S?S:0;0===I&&0===L?(I=-1,L=1):I>0&&L>0?I=0:I<0&&L<0&&(L=0),N.y=[I,L];const A=n.createElement(i.a,{ariaDesc:g,ariaTitle:f,containerComponent:v,height:a||b.a,domain:N,events:k,domainPadding:{x:10,y:10},padding:{bottom:80,left:50,right:20,top:80},themeColor:h||s.a.multiUnordered,width:t},n.createElement(r.a,{style:{tickLabels:{angle:320,fontSize:10,textAnchor:"end",verticalAnchor:"end",fill:"var(--pf-v5-global--Color--100)"}},labelComponent:n.createElement(l.a,null),tickValues:j}),n.createElement(r.a,{dependentAxis:!0,showGrid:!0,tickCount:4,tickFormat:P,style:{tickLabels:{fill:"var(--pf-v5-global--Color--100)"}}}),n.createElement(o.a,null,Object.values(w).map((e,t)=>n.createElement(c.a,{groupComponent:n.createElement("g",null),key:"scatter-"+t,name:"scatter-"+t,data:!E||E&&!E.has(t)?e:[{y:null}]}))),n.createElement(o.a,null,Object.values(w).map((e,t)=>n.createElement(u.a,{groupComponent:n.createElement("g",null),key:"line-"+t,name:"line-"+t,data:!E||E&&!E.has(t)?e:[{y:null}]}))),y);return n.createElement("div",{style:{marginTop:-50}},A)}},8283:function(e,t,a){"use strict";var n=a(8284);a.d(t,"a",(function(){return n.a}))},8284:function(e,t,a){"use strict";var n=a(0),i=a(872),s=a(40),r=a(8),l=a(5586),o=a(5788),c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.a=e=>{var t,{hideBadge:a}=e,u=c(e,["hideBadge"]);const d=Object(o.a)(u.namespace);return n.createElement(s.c,Object.assign({},u,{canCreate:null===(t=u.canCreate)||void 0===t||t,kind:Object(r.Hb)(l.ConditionModel),ListComponent:i.b,badge:a?null:d}))}},8285:function(e,t,a){"use strict";var n=a(8286);a.d(t,"a",(function(){return n.a}))},8286:function(e,t,a){"use strict";var n=a(0),i=a(7),s=a(14),r=a(5695),l=a(13),o=a(872),c=a(5684),u=a(10),d=a(8),p=a(15),m=a(5669),b=a(5586),v=a(5788),g=a(5656),f=a(6856),h=a(5588),E=a(8277),O=a(6859);t.a=()=>{const{t:e}=Object(i.useTranslation)(),{ns:t}=Object(s.useParams)(),a=Object(p.Fe)(m.e),y=Object(p.Fe)(m.f),k=Object(v.a)(t),[j,T]=Object(l.hc)({namespace:h.j,verb:"create",resource:"secrets"}),[R,_,S]=Object(c.a)(u.SecretModel,g.g,h.j),[N,P,w]=[!1,!0,!1],C=Object.assign(Object.assign({pipeline:{model:b.PipelineModel,onSelection:(e,t,a)=>a+"/builder"},pipelineRun:{model:b.PipelineRunModel}},y?{condition:{model:b.ConditionModel}}:{}),a?{repository:{model:b.RepositoryModel,onSelection:(e,t,a)=>a+"/form"}}:{}),x=[{href:"",nameKey:b.PipelineModel.labelPluralKey,component:E.a},{href:"pipeline-runs",nameKey:b.PipelineRunModel.labelPluralKey,component:f.a,pageData:{showTitle:N,hideBadge:P,canCreate:w}},...y?[{href:"conditions",nameKey:b.ConditionModel.labelPluralKey,component:o.c,pageData:{kind:Object(d.Hb)(b.ConditionModel),canCreate:w,namespace:t,showTitle:N}}]:[],...a?[{href:"repositories",nameKey:b.RepositoryModel.labelPluralKey,component:O.a,pageData:{showTitle:N,hideBadge:P,canCreate:w}}]:[]],I={href:"/pac/ns/"+h.j,label:e(_&&!S&&R?"pipelines-plugin~View GitHub App":"pipelines-plugin~Setup GitHub App")},L=_&&j&&!T;return n.createElement(r.b,{variant:r.a.light,hideApplications:!0},n.createElement(p.ob,{pages:x,title:e("pipelines-plugin~Pipelines"),badge:k,menuActions:C,secondaryButtonAction:L?I:void 0,telemetryPrefix:"Pipelines"}))}},8287:function(e,t,a){"use strict";var n=a(8288);a.d(t,"b",(function(){return n.a}));var i=a(8290);a.d(t,"c",(function(){return i.a}));var s=a(6859);a.d(t,"a",(function(){return s.a}))},8288:function(e,t,a){"use strict";var n=a(0),i=a(14),s=a(13),r=a(40),l=a(5),o=a(15),c=a(5623),u=a(11414),d=a(11415);t.a=e=>{const{kindObj:t}=e,a=Object(i.useParams)(),p=Object(i.useLocation)(),m="admin"===Object(s.jc)()[0],b=Object(o.bf)(t,p,a,m?"pipelines":"dev-pipelines",Object(c.w)(t),void 0,!0);return n.createElement(r.a,Object.assign({},e,{breadcrumbsFor:()=>b,title:e.name,menuActions:l.F.factory.common,pages:[l.mc.details(u.a),l.mc.editYaml(),{href:"Runs",nameKey:"pipelines-plugin~PipelineRuns",component:d.a}]}))}},8289:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));var n=a(54),i=a(29),s=a(5),r=a(5648);const l=["pf-v5-u-w-16-on-lg pf-v5-u-w-25-on-md","pf-m-u-w-16-on-md pf-m-u-w-8-on-lg","pf-v5-u-w-16-on-md","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-25-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl","pf-m-hidden pf-m-visible-on-xl pf-m-u-8-on-xl",s.F.columnClass];t.a=()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[n.a],props:{className:l[0]}},{title:i.a.t("pipelines-plugin~Commit id"),sortField:"metadata.labels."+r.f[r.e.SHA],transforms:[n.a],props:{className:l[1]}},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[n.a],props:{className:l[2]},id:"namespace"},{title:i.a.t("pipelines-plugin~Vulnerabilities"),sortFunc:"vulnerabilities",transforms:[n.a],props:{className:l[3]}},{title:i.a.t("pipelines-plugin~Status"),sortField:"status.conditions[0].reason",transforms:[n.a],props:{className:l[3]}},{title:i.a.t("pipelines-plugin~Task status"),sortField:"status.conditions[0].reason",transforms:[n.a],props:{className:l[4]}},{title:i.a.t("pipelines-plugin~Started"),sortField:"status.startTime",transforms:[n.a],props:{className:l[5]}},{title:i.a.t("pipelines-plugin~Duration"),sortField:"status.completionTime",transforms:[n.a],props:{className:l[6]}},{title:i.a.t("pipelines-plugin~Branch/Tag"),sortField:"metadata.annotations."+r.d[r.c.BRANCH],transforms:[n.a],props:{className:l[7]}},{title:"",props:{className:l[8]}}]},8290:function(e,t,a){"use strict";var n=a(0),i=a(55),s=a(7),r=a(14),l=a(5),o=a(5648),c=a(6105),u=a(5653),d=a(11418),p=function(e,t,a,n){return new(a||(a=Promise))((function(i,s){function r(e){try{o(n.next(e))}catch(e){s(e)}}function l(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}o((n=n.apply(e,t||[])).next())}))};t.a=()=>{const{t:e}=Object(s.useTranslation)(),[t,a]=Object(c.a)(),{ns:m}=Object(r.useParams)();return n.createElement(i.b,{initialValues:o.i,onSubmit:(e,n)=>{Object(u.b)(e,m).then(()=>p(void 0,void 0,void 0,(function*(){(yield Object(u.a)(e,t,a))&&n.setFieldValue("webhook.autoAttach",!0),n.setFieldValue("showOverviewPage",!0),n.setStatus({submitError:""})}))).catch(e=>{n.setStatus({submitError:e.message})})},onReset:l.Vb.goBack,validationSchema:Object(u.g)(e)},e=>n.createElement(d.a,Object.assign({},e)))}},8291:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a(14);const s=(e,t)=>`${e.replace(/\/$/,"").split("/logs/")[0]}/logs?taskName=${t}`,r=()=>{const e=Object(i.useLocation)(),{taskName:t}=Object(i.useParams)();return n.createElement(i.Navigate,{to:s(e.pathname,t),replace:!0})}},9601:function(e,t,a){},9602:function(e,t,a){},9603:function(e,t,a){"use strict";var n=a(0),i=a(6139),s=a(7),r=a(5),l=a(8);a(9604);t.a=({links:e=[],namespace:t,model:a})=>{const{t:o}=Object(s.useTranslation)(),c=o(a.labelPluralKey),u=Object(l.Hb)(a);return 0===e.length?null:n.createElement("div",{className:"odc-trigger-template-list"},n.createElement("dl",null,n.createElement("dt",null,c),e.map(({routeURL:e,triggerTemplateName:a})=>n.createElement("dd",{key:a},n.createElement(r.hb,{kind:u,name:a,namespace:t,title:a,inline:!0}),e&&n.createElement("div",null,n.createElement(i.a,{variant:i.b.inlineCompact},e))))))}},9604:function(e,t,a){},9605:function(e,t,a){"use strict";var n=a(0),i=a(281),s=a(7),r=a(15);t.a=({namePrefix:e,isReadOnly:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(r.ab,{"data-test":"name",name:e+".name",type:i.b.text,placeholder:a("pipelines-plugin~Name"),isReadOnly:t,"aria-label":a("pipelines-plugin~Name")}),n.createElement("div",{style:{marginBottom:"var(--pf-v5-global--spacer--xs)"}}),n.createElement(r.A,{name:e+".optional",label:a("pipelines-plugin~Optional workspace")}))}}}]);
//# sourceMappingURL=pipelinesComponent-chunk-de33c3df412db4454fa8.min.js.map