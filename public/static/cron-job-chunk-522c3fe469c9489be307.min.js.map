{"version":3,"sources":["webpack:///./public/components/job.tsx","webpack:///./public/components/cron-job.tsx"],"names":["menuActions","kind","obj","labelKey","callback","resourceKind","resource","accessReview","group","apiGroup","plural","name","metadata","namespace","verb","getExtensionsActionsForKind","factory","common","tableColumnClasses","columnClass","JobTableRow","job","type","completions","context","t","className","columnID","labels","to","title","jobsSucceeded","status","succeeded","JobDetails","text","showPodSelector","label","path","spec","activeDeadlineSeconds","count","conditions","timestamp","startTime","completionTime","defaultValue","containers","template","JobPods","props","showNodes","details","pods","editYaml","events","JobsDetailsPage","getResourceStatus","customActionMenu","kindObj","actions","options","loaded","variant","DROPDOWN","pages","JobsList","labelPlural","Header","sortField","transforms","id","sortFunc","Row","virtualize","JobsPage","ListComponent","canCreate","CronJobTableRow","cronjob","schedule","suspend","CronJobDetails","jobTemplate","startingDeadlineSeconds","lastScheduleTime","getJobsWatcher","prop","isList","CronJobPodsComponent","podFilters","resources","flatten","_resources","jobs","data","filter","ownerReferences","find","ref","uid","reduce","acc","push","kinds","rowFilters","CronJobJobsComponent","CronJobsList","CronJobsPage","CronJobsDetailsPage"],"mappings":"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","file":"cron-job-chunk-522c3fe469c9489be307.min.js","sourcesContent":["import * as React from 'react';\nimport { Link } from 'react-router-dom-v5-compat';\nimport * as classNames from 'classnames';\nimport { sortable } from '@patternfly/react-table';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Status,\n  ActionServiceProvider,\n  ActionMenu,\n  LazyActionMenu,\n  ActionMenuVariant,\n} from '@console/shared';\nimport {\n  getJobTypeAndCompletions,\n  K8sKind,\n  JobKind,\n  K8sResourceKind,\n  referenceForModel,\n  referenceFor,\n} from '../module/k8s';\nimport { Conditions } from './conditions';\nimport { DetailsPage, ListPage, Table, TableData, RowFunctionArgs } from './factory';\nimport { configureJobParallelismModal } from './modals';\nimport {\n  ContainerTable,\n  DetailsItem,\n  Kebab,\n  KebabAction,\n  LabelList,\n  PodsComponent,\n  ResourceLink,\n  ResourceSummary,\n  SectionHeading,\n  Timestamp,\n  navFactory,\n} from './utils';\nimport { ResourceEventStream } from './events';\nimport { JobModel } from '../models';\nimport { PodDisruptionBudgetField } from '@console/app/src/components/pdb/PodDisruptionBudgetField';\n\nconst ModifyJobParallelism: KebabAction = (kind: K8sKind, obj: JobKind) => ({\n  // t('public~Edit parallelism')\n  labelKey: 'public~Edit parallelism',\n  callback: () =>\n    configureJobParallelismModal({\n      resourceKind: kind,\n      resource: obj,\n    }),\n  accessReview: {\n    group: kind.apiGroup,\n    resource: kind.plural,\n    name: obj.metadata.name,\n    namespace: obj.metadata.namespace,\n    verb: 'patch',\n  },\n});\nexport const menuActions: KebabAction[] = [\n  ModifyJobParallelism,\n  ...Kebab.getExtensionsActionsForKind(JobModel),\n  ...Kebab.factory.common,\n];\n\nconst kind = 'Job';\n\nconst tableColumnClasses = [\n  'pf-v5-u-w-25-on-2xl',\n  'pf-v5-u-w-25-on-2xl',\n  'pf-m-hidden pf-m-visible-on-md pf-v5-u-w-25-on-2xl',\n  'pf-m-hidden pf-m-visible-on-lg',\n  'pf-m-hidden pf-m-visible-on-xl',\n  Kebab.columnClass,\n];\n\nconst JobTableRow: React.FC<RowFunctionArgs<JobKind>> = ({ obj: job }) => {\n  const { type, completions } = getJobTypeAndCompletions(job);\n  const resourceKind = referenceFor(job);\n  const context = { [resourceKind]: job };\n  const { t } = useTranslation();\n  return (\n    <>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink kind={kind} name={job.metadata.name} namespace={job.metadata.namespace} />\n      </TableData>\n      <TableData\n        className={classNames(tableColumnClasses[1], 'co-break-word')}\n        columnID=\"namespace\"\n      >\n        <ResourceLink kind=\"Namespace\" name={job.metadata.namespace} />\n      </TableData>\n      <TableData className={tableColumnClasses[2]}>\n        <LabelList kind={kind} labels={job.metadata.labels} />\n      </TableData>\n      <TableData className={tableColumnClasses[3]}>\n        <Link to={`/k8s/ns/${job.metadata.namespace}/jobs/${job.metadata.name}/pods`} title=\"pods\">\n          {t('public~{{jobsSucceeded}} of {{completions}}', {\n            jobsSucceeded: job.status.succeeded || 0,\n            completions,\n          })}\n        </Link>\n      </TableData>\n      <TableData className={tableColumnClasses[4]}>{type}</TableData>\n      <TableData className={tableColumnClasses[5]}>\n        <LazyActionMenu context={context} />\n      </TableData>\n    </>\n  );\n};\n\nexport const JobDetails: React.FC<JobsDetailsProps> = ({ obj: job }) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <SectionHeading text={t('public~Job details')} />\n            <ResourceSummary resource={job} showPodSelector>\n              <DetailsItem\n                label={t('public~Desired completions')}\n                obj={job}\n                path=\"spec.completions\"\n              />\n              <DetailsItem label={t('public~Parallelism')} obj={job} path=\"spec.parallelism\" />\n              <DetailsItem\n                label={t('public~Active deadline seconds')}\n                obj={job}\n                path=\"spec.activeDeadlineSeconds\"\n              >\n                {job.spec.activeDeadlineSeconds\n                  ? t('public~{{count}} second', { count: job.spec.activeDeadlineSeconds })\n                  : t('public~Not configured')}\n              </DetailsItem>\n            </ResourceSummary>\n          </div>\n          <div className=\"col-md-6\">\n            <SectionHeading text={t('public~Job status')} />\n            <dl className=\"co-m-pane__details\">\n              <dt>{t('public~Status')}</dt>\n              <dd>\n                <Status\n                  status={job?.status ? job?.status?.conditions?.[0]?.type || 'In progress' : null}\n                />\n              </dd>\n              <DetailsItem label={t('public~Start time')} obj={job} path=\"status.startTime\">\n                <Timestamp timestamp={job.status.startTime} />\n              </DetailsItem>\n              <DetailsItem\n                label={t('public~Completion time')}\n                obj={job}\n                path=\"status.completionTime\"\n              >\n                <Timestamp timestamp={job.status.completionTime} />\n              </DetailsItem>\n              <DetailsItem\n                label={t('public~Succeeded pods')}\n                obj={job}\n                path=\"status.succeeded\"\n                defaultValue=\"0\"\n              />\n              <DetailsItem\n                label={t('public~Active pods')}\n                obj={job}\n                path=\"status.active\"\n                defaultValue=\"0\"\n              />\n              <DetailsItem\n                label={t('public~Failed pods')}\n                obj={job}\n                path=\"status.failed\"\n                defaultValue=\"0\"\n              />\n              <PodDisruptionBudgetField obj={job} />\n            </dl>\n          </div>\n        </div>\n      </div>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('public~Containers')} />\n        <ContainerTable containers={job.spec.template.spec.containers} />\n      </div>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('public~Conditions')} />\n        <Conditions conditions={job.status.conditions} />\n      </div>\n    </>\n  );\n};\n\nconst JobPods: React.FC<JobPodsProps> = (props) => <PodsComponent {...props} showNodes />;\n\nconst { details, pods, editYaml, events } = navFactory;\nconst JobsDetailsPage: React.FC = (props) => {\n  const customActionMenu = (kindObj, obj) => {\n    const resourceKind = referenceForModel(kindObj);\n    const context = { [resourceKind]: obj };\n    return (\n      <ActionServiceProvider context={context}>\n        {({ actions, options, loaded }) =>\n          loaded && (\n            <ActionMenu actions={actions} options={options} variant={ActionMenuVariant.DROPDOWN} />\n          )\n        }\n      </ActionServiceProvider>\n    );\n  };\n  return (\n    <DetailsPage\n      {...props}\n      getResourceStatus={(job: JobKind) =>\n        job?.status ? job?.status?.conditions?.[0]?.type || 'In progress' : null\n      }\n      kind={kind}\n      customActionMenu={customActionMenu}\n      pages={[details(JobDetails), editYaml(), pods(JobPods), events(ResourceEventStream)]}\n    />\n  );\n};\nconst JobsList: React.FC = (props) => {\n  const { t } = useTranslation();\n  const JobTableHeader = () => [\n    {\n      title: t('public~Name'),\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[0] },\n    },\n    {\n      title: t('public~Namespace'),\n      sortField: 'metadata.namespace',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[1] },\n      id: 'namespace',\n    },\n    {\n      title: t('public~Labels'),\n      sortField: 'metadata.labels',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[2] },\n    },\n    {\n      title: t('public~Completions'),\n      sortFunc: 'jobCompletionsSucceeded',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[3] },\n    },\n    {\n      title: t('public~Type'),\n      sortFunc: 'jobType',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[4] },\n    },\n    {\n      title: '',\n      props: { className: tableColumnClasses[5] },\n    },\n  ];\n\n  return (\n    <Table\n      {...props}\n      aria-label={JobModel.labelPlural}\n      Header={JobTableHeader}\n      Row={JobTableRow}\n      virtualize\n    />\n  );\n};\n\nconst JobsPage: React.FC<JobsPageProps> = (props) => (\n  <ListPage ListComponent={JobsList} kind={kind} canCreate={true} {...props} />\n);\nexport { JobsList, JobsPage, JobsDetailsPage };\n\ntype JobsDetailsProps = {\n  obj: JobKind;\n};\n\ntype JobsPageProps = {\n  showTitle?: boolean;\n  namespace?: string;\n  selector?: any;\n};\n\ntype JobPodsProps = {\n  obj: K8sResourceKind;\n};\n","import * as _ from 'lodash-es';\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { sortable } from '@patternfly/react-table';\nimport { useTranslation } from 'react-i18next';\nimport i18next from 'i18next';\nimport {\n  getPodsForResource,\n  ActionServiceProvider,\n  ActionMenu,\n  ActionMenuVariant,\n  LazyActionMenu,\n} from '@console/shared';\nimport {\n  DetailsPage,\n  ListPage,\n  Table,\n  TableData,\n  RowFunctionArgs,\n  ListPageWrapper,\n} from './factory';\nimport {\n  CronJobKind,\n  K8sResourceCommon,\n  K8sResourceKind,\n  referenceForModel,\n  referenceFor,\n} from '../module/k8s';\nimport {\n  ContainerTable,\n  DetailsItem,\n  Firehose,\n  Kebab,\n  ResourceLink,\n  ResourceSummary,\n  SectionHeading,\n  Timestamp,\n  navFactory,\n  FirehoseResourcesResult,\n} from './utils';\nimport { ResourceEventStream } from './events';\nimport { CronJobModel } from '../models';\nimport { PodList, getFilters as getPodFilters } from './pod';\nimport { JobsList } from './job';\nimport { PodDisruptionBudgetField } from '@console/app/src/components/pdb/PodDisruptionBudgetField';\n\nconst { common } = Kebab.factory;\nexport const menuActions = [...Kebab.getExtensionsActionsForKind(CronJobModel), ...common];\n\nconst kind = 'CronJob';\n\nconst tableColumnClasses = [\n  '',\n  '',\n  'pf-m-hidden pf-m-visible-on-md',\n  'pf-m-hidden pf-m-visible-on-md',\n  'pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-25-on-xl',\n  'pf-m-hidden pf-m-visible-on-xl pf-v5-u-w-25-on-xl',\n  Kebab.columnClass,\n];\n\nconst CronJobTableRow: React.FC<RowFunctionArgs<CronJobKind>> = ({ obj: cronjob }) => {\n  const resourceKind = referenceFor(cronjob);\n  const context = { [resourceKind]: cronjob };\n  return (\n    <>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink\n          kind={kind}\n          name={cronjob.metadata.name}\n          namespace={cronjob.metadata.namespace}\n        />\n      </TableData>\n      <TableData\n        className={classNames(tableColumnClasses[1], 'co-break-word')}\n        columnID=\"namespace\"\n      >\n        <ResourceLink kind=\"Namespace\" name={cronjob.metadata.namespace} />\n      </TableData>\n      <TableData className={tableColumnClasses[2]}>{cronjob.spec.schedule}</TableData>\n      <TableData className={tableColumnClasses[3]}>\n        {cronjob.spec?.suspend ? i18next.t('public~True') : i18next.t('public~False')}\n      </TableData>\n      <TableData className={tableColumnClasses[4]}>\n        {_.get(cronjob.spec, 'concurrencyPolicy', '-')}\n      </TableData>\n      <TableData className={tableColumnClasses[5]}>\n        {_.get(cronjob.spec, 'startingDeadlineSeconds', '-')}\n      </TableData>\n      <TableData className={tableColumnClasses[6]}>\n        <LazyActionMenu context={context} />\n      </TableData>\n    </>\n  );\n};\n\nconst CronJobDetails: React.FC<CronJobDetailsProps> = ({ obj: cronjob }) => {\n  const job = cronjob.spec.jobTemplate;\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className=\"co-m-pane__body\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <SectionHeading text={t('public~CronJob details')} />\n            <ResourceSummary resource={cronjob}>\n              <DetailsItem label={t('public~Schedule')} obj={cronjob} path=\"spec.schedule\" />\n              <DetailsItem label={t('public~Suspend')} obj={cronjob} path=\"spec.suspend\">\n                {cronjob.spec?.suspend ? t('public~True') : t('public~False')}\n              </DetailsItem>\n              <DetailsItem\n                label={t('public~Concurrency policy')}\n                obj={cronjob}\n                path=\"spec.concurrencyPolicy\"\n              />\n              <DetailsItem\n                label={t('public~Starting deadline seconds')}\n                obj={cronjob}\n                path=\"spec.startingDeadlineSeconds\"\n              >\n                {cronjob.spec.startingDeadlineSeconds\n                  ? t('public~{{count}} second', { count: cronjob.spec.startingDeadlineSeconds })\n                  : t('public~Not configured')}\n              </DetailsItem>\n              <DetailsItem\n                label={t('public~Last schedule time')}\n                obj={cronjob}\n                path=\"status.lastScheduleTime\"\n              >\n                <Timestamp timestamp={cronjob.status.lastScheduleTime} />\n              </DetailsItem>\n            </ResourceSummary>\n          </div>\n          <div className=\"col-md-6\">\n            <SectionHeading text={t('public~Job details')} />\n            <dl className=\"co-m-pane__details\">\n              <DetailsItem\n                label={t('public~Desired completions')}\n                obj={cronjob}\n                path=\"spec.jobTemplate.spec.completions\"\n              />\n              <DetailsItem\n                label={t('public~Parallelism')}\n                obj={cronjob}\n                path=\"spec.jobTemplate.spec.parallelism\"\n              />\n              <DetailsItem\n                label={t('public~Active deadline seconds')}\n                obj={cronjob}\n                path=\"spec.jobTemplate.spec.activeDeadlineSeconds\"\n              >\n                {job.spec.activeDeadlineSeconds\n                  ? t('public~{{count}} second', { count: job.spec.activeDeadlineSeconds })\n                  : t('public~Not configured')}\n              </DetailsItem>\n              <PodDisruptionBudgetField obj={cronjob} />\n            </dl>\n          </div>\n        </div>\n      </div>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('public~Containers')} />\n        <ContainerTable containers={job.spec.template.spec.containers} />\n      </div>\n    </>\n  );\n};\n\nexport type CronJobPodsComponentProps = {\n  obj: K8sResourceKind;\n};\n\nconst getJobsWatcher = (namespace: string) => {\n  return [\n    {\n      prop: 'jobs',\n      isList: true,\n      kind: 'Job',\n      namespace,\n    },\n  ];\n};\n\nconst getPodsWatcher = (namespace: string) => {\n  return [\n    ...getJobsWatcher(namespace),\n    {\n      prop: 'pods',\n      isList: true,\n      kind: 'Pod',\n      namespace,\n    },\n  ];\n};\n\nexport const CronJobPodsComponent: React.FC<CronJobPodsComponentProps> = ({ obj }) => {\n  const { t } = useTranslation();\n  const podFilters = React.useMemo(() => getPodFilters(t), [t]);\n  return (\n    <div className=\"co-m-pane__body\">\n      <Firehose resources={getPodsWatcher(obj.metadata.namespace)}>\n        <ListPageWrapper\n          flatten={(\n            _resources: FirehoseResourcesResult<{\n              jobs: K8sResourceCommon[];\n              pods: K8sResourceCommon[];\n            }>,\n          ) => {\n            if (!_resources.jobs.loaded || !_resources.pods.loaded) {\n              return [];\n            }\n            const jobs = _resources.jobs.data.filter((job) =>\n              job.metadata?.ownerReferences?.find((ref) => ref.uid === obj.metadata.uid),\n            );\n            return (\n              jobs &&\n              jobs.reduce((acc, job) => {\n                acc.push(...getPodsForResource(job, _resources));\n                return acc;\n              }, [])\n            );\n          }}\n          kinds={['Pods']}\n          ListComponent={PodList}\n          rowFilters={podFilters}\n        />\n      </Firehose>\n    </div>\n  );\n};\n\nexport type CronJobJobsComponentProps = {\n  obj: K8sResourceKind;\n};\n\nexport const CronJobJobsComponent: React.FC<CronJobJobsComponentProps> = ({ obj }) => (\n  <div className=\"co-m-pane__body\">\n    <Firehose resources={getJobsWatcher(obj.metadata.namespace)}>\n      <ListPageWrapper\n        flatten={(_resources: FirehoseResourcesResult<{ jobs: K8sResourceCommon[] }>) => {\n          if (!_resources.jobs.loaded) {\n            return [];\n          }\n          return _resources.jobs.data.filter((job) =>\n            job.metadata?.ownerReferences?.find((ref) => ref.uid === obj.metadata.uid),\n          );\n        }}\n        kinds={['Jobs']}\n        ListComponent={JobsList}\n      />\n    </Firehose>\n  </div>\n);\n\nexport const CronJobsList: React.FC = (props) => {\n  const { t } = useTranslation();\n  const CronJobTableHeader = () => [\n    {\n      title: t('public~Name'),\n      sortField: 'metadata.name',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[0] },\n    },\n    {\n      title: t('public~Namespace'),\n      sortField: 'metadata.namespace',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[1] },\n      id: 'namespace',\n    },\n    {\n      title: t('public~Schedule'),\n      sortField: 'spec.schedule',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[2] },\n    },\n    {\n      title: t('public~Suspend'),\n      sortField: 'spec.suspend',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[3] },\n    },\n    {\n      title: t('public~Concurrency policy'),\n      sortField: 'spec.concurrencyPolicy',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[4] },\n    },\n    {\n      title: t('public~Starting deadline seconds'),\n      sortField: 'spec.startingDeadlineSeconds',\n      transforms: [sortable],\n      props: { className: tableColumnClasses[5] },\n    },\n    {\n      title: '',\n      props: { className: tableColumnClasses[6] },\n    },\n  ];\n\n  return (\n    <Table\n      {...props}\n      aria-label={CronJobModel.labelPlural}\n      Header={CronJobTableHeader}\n      Row={CronJobTableRow}\n      virtualize\n    />\n  );\n};\n\nexport const CronJobsPage: React.FC<CronJobsPageProps> = (props) => (\n  <ListPage {...props} ListComponent={CronJobsList} kind={kind} canCreate={true} />\n);\n\nexport const CronJobsDetailsPage: React.FC = (props) => {\n  const customActionMenu = (kindObj, obj) => {\n    const resourceKind = referenceForModel(kindObj);\n    const context = { [resourceKind]: obj };\n    return (\n      <ActionServiceProvider context={context}>\n        {({ actions, options, loaded }) =>\n          loaded && (\n            <ActionMenu actions={actions} options={options} variant={ActionMenuVariant.DROPDOWN} />\n          )\n        }\n      </ActionServiceProvider>\n    );\n  };\n  return (\n    <DetailsPage\n      {...props}\n      kind={kind}\n      customActionMenu={customActionMenu}\n      pages={[\n        navFactory.details(CronJobDetails),\n        navFactory.editYaml(),\n        navFactory.pods(CronJobPodsComponent),\n        navFactory.jobs(CronJobJobsComponent),\n        navFactory.events(ResourceEventStream),\n      ]}\n    />\n  );\n};\n\ntype CronJobDetailsProps = {\n  obj: CronJobKind;\n};\n\ntype CronJobsPageProps = {\n  showTitle?: boolean;\n  namespace?: string;\n  selector?: any;\n};\n"],"sourceRoot":""}