(window.webpackJsonp=window.webpackJsonp||[]).push([[366],{5421:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a(6864),s=a(7544),r=a(5962);t.default=({editorRef:e,model:t,samples:a,schema:i,snippets:c,sidebarLabel:o,sanitizeYamlContent:m,toggleSidebar:p})=>{var d;const u=null===(d=e.current)||void 0===d?void 0:d.editor,b=l.useCallback((e="default",t="",a)=>{const l=m?m(e,t,a):t,s=u.getSelection(),r=new n.Range(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn),i=new Array(s.startColumn).join(" "),c=l.split("\n"),o=c.length,p=c.map((e,t)=>0===t?e:`${i}${e}`),d=p.join("\n"),b=new n.Selection(s.startLineNumber,s.startColumn,s.startLineNumber+o-1,s.startColumn+p[p.length-1].length),h={range:r,text:d,forceMoveMarkers:!0};u.executeEdits(e,[h],[b]),u.focus()},[u,m]),h=l.useCallback((e="default",t="",a)=>{const l=m?m(e,t,a):t;u.setValue(l)},[u,m]),E=l.useCallback((e="default",t="",a)=>{try{const l=m?m(e,t,a):t;Object(r.a)(l)}catch(e){Object(r.a)(t)}},[m]);return l.createElement(s.a,{kindObj:t,samples:a,snippets:c,schema:i,sidebarLabel:o,loadSampleYaml:h,insertSnippetYaml:b,downloadSampleYaml:E,toggleSidebar:p})}},5962:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a(1416),n=a(380);const s=e=>{const t=new Blob([e],{type:"text/yaml;charset=utf-8"});let a="k8s-object.yaml";try{const t=Object(n.safeLoad)(e);t.kind&&(a=`${t.kind.toLowerCase()}-${t.metadata.name}.yaml`)}catch(e){console.error("Could not parse YAML file:",e)}Object(l.saveAs)(t,a)}},6691:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var l=a(0),n=a(16),s=a(384),r=a(50),i=a(4440),c=a(225),o=a(22),m=a(868),p=a(435),d=a(19),u=a(563),b=a(7),h=a(13),E=a(8),g=a(5);const v=e=>{var t;const[a,v]=l.useState([]),{kindObj:f,schema:y}=e,{t:k}=Object(b.useTranslation)(),[S,w]=l.useState(null);if(l.useEffect(()=>{f?Object(E.s)().then(e=>{w(e)}).catch(e=>{console.error("Could not fetch swagger definitions",e)}):y&&w({"custom-schema":y})},[f,y]),!f&&!y)return null;if(!S)return null;const N=s.a(a),Y=N?N.path:[f?Object(E.D)(f,S):"custom-schema"],j=n.a(S,Y),O=(null==j?void 0:j.properties)||(null===(t=null==j?void 0:j.items)||void 0===t?void 0:t.properties)||(null==j?void 0:j.definitions),C=N?null==N?void 0:N.description:null==j?void 0:j.description,_=new Set((null==j?void 0:j.required)||[]),L=(null==f?void 0:f.labelKey)?k(f.labelKey):null==f?void 0:f.kind,x=a.length?[f?L:k("public~Schema"),...r.a(a,"name")]:[];return l.createElement(l.Fragment,null,!o.a(x)&&l.createElement(m.a,{className:"co-breadcrumb co-break-word"},x.map((e,t)=>{const n=t===x.length-1;return l.createElement(p.a,{key:t,isActive:n},n?e:l.createElement(d.a,{type:"button",onClick:e=>((e,t)=>{e.preventDefault(),v(i.a(a,t))})(e,t),isInline:!0,variant:"link"},e))})),l.createElement(u.a,null,C&&l.createElement("p",{className:"co-break-word co-pre-wrap"},l.createElement(g.N,null,C)),o.a(O)?l.createElement(g.u,{label:k("public~Properties")}):l.createElement("ul",{className:"co-resource-sidebar-list pf-v5-c-list"},r.a(O,(t,s)=>{const r=(e=>{const t=f?j.items?Object(E.Z)(S,[...Y,"items"],e,!0):Object(E.Z)(S,Y,e,!0):[...Y,"properties",e],a=n.a(S,t);return c.a(a,"properties")||c.a(a,"items.properties")?t:null})(s),i=t.type||(e=>n.a(S,[e,"format"])||n.a(S,[e,"type"]))((e=>{const t=e.$ref||n.a(e,"items.$ref"),a=/^#\/definitions\//;return t&&a.test(t)?t.replace(a,""):null})(t)),o=Array.isArray(i)?i.join(" "):i;return l.createElement("li",{key:s,className:"co-resource-sidebar-item"},l.createElement("h5",{className:"co-resource-sidebar-item__header co-break-word"},l.createElement(h.e,{value:s})," ",l.createElement("small",null,l.createElement("span",{className:"co-break-word"},o),_.has(s)&&l.createElement(l.Fragment,null," – required"))),t.description&&l.createElement("p",{className:"co-break-word co-pre-wrap"},l.createElement(g.N,null,t.description)),r&&l.createElement(d.a,{type:"button",onClick:l=>((t,l,n,s)=>{t.preventDefault(),v([...a,{name:l,description:n,path:s}]),e.scrollTop&&e.scrollTop()})(l,s,t.description,r),isInline:!0,variant:"link"},k("public~View details")))}))))}},7544:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var l=a(22),n=a(0),s=a(7),r=a(997),i=a(8),c=a(7545),o=a(6691),m=a(5);const p=()=>{document.getElementsByClassName("co-p-has-sidebar__sidebar")[0].scrollTop=0},d=e=>{const{t:t}=Object(s.useTranslation)(),{label:a,children:l,toggleSidebar:i}=e;return n.createElement("div",{className:"co-p-has-sidebar__sidebar co-p-has-sidebar__sidebar--bordered hidden-sm hidden-xs","data-test":"resource-sidebar"},n.createElement("div",{className:"co-m-pane__body co-p-has-sidebar__sidebar-body"},n.createElement(r.a,{additionalClassName:"co-p-has-sidebar__close-button",ariaLabel:t("public~Close"),onClick:i}),n.createElement("h2",{className:"co-p-has-sidebar__sidebar-heading text-capitalize"},a),l))},u=({kindObj:e,schema:t})=>n.createElement(o.a,{kindObj:e,schema:t,scrollTop:p}),b=({samples:e,kindObj:t,downloadSampleYaml:a,loadSampleYaml:l})=>n.createElement(c.a,{samples:e,kindObj:t,downloadSampleYaml:a,loadSampleYaml:l}),h=({snippets:e,insertSnippetYaml:t})=>n.createElement(c.b,{snippets:e,insertSnippetYaml:t}),E=e=>{const{t:t}=Object(s.useTranslation)(),{downloadSampleYaml:a,kindObj:r,schema:c,sidebarLabel:o,loadSampleYaml:p,insertSnippetYaml:E,toggleSidebar:g,samples:v,snippets:f}=e;if(!r&&!c)return null;const y=(null==r?void 0:r.labelKey)?t(r.labelKey):null==r?void 0:r.label,k=o||y,S=!l.a(v),w=!l.a(f),N=r?Object(i.r)(r):{properties:[]},Y=c||N&&!l.a(N.properties);let j=[];return S&&j.push({name:t("public~Samples"),component:b}),w&&j.push({name:t("public~Snippets"),component:h}),Y&&(j=[{name:t("public~Schema"),component:u},...j]),n.createElement(d,{label:k,toggleSidebar:g},j.length>0?n.createElement(m.vb,{tabs:j,tabProps:{downloadSampleYaml:a,kindObj:r,schema:c,loadSampleYaml:p,insertSnippetYaml:E,samples:v,snippets:f},additionalClassNames:"co-m-horizontal-nav__menu--within-sidebar"}):n.createElement(u,{schema:c,kindObj:r}))}},7545:function(e,t,a){"use strict";a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return S}));var l=a(50),n=a(461),s=a(0),r=a(11353),i=a(11354),c=a(19),o=a(6411),m=a(1205),p=a(8375),d=a(8376),u=a(1228),b=a(2339),h=a(7),E=a(8),g=function(e,t,a,l){return new(a||(a=Promise))((function(n,s){function r(e){try{c(l.next(e))}catch(e){s(e)}}function i(e){try{c(l.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,i)}c((l=l.apply(e,t||[])).next())}))};const v=({sample:e,loadSampleYaml:t,downloadSampleYaml:a})=>{const{highlightText:l,title:n,img:o,description:m,id:p,yaml:d,targetResource:g}=e,v=Object(E.Db)(g),{t:f}=Object(h.useTranslation)();return s.createElement("li",{className:"co-resource-sidebar-item"},s.createElement("h3",{className:"h4"},s.createElement("span",{className:"text-uppercase"},l)," ",n),o&&s.createElement("img",{src:o,className:"co-resource-sidebar-item__img img-responsive"}),s.createElement("p",null,m),s.createElement(r.a,null,s.createElement(i.a,null,s.createElement(c.a,{type:"button",variant:"link","data-test":"load-sample",isInline:!0,onClick:()=>t(p,d,v)},s.createElement(b.a,{className:"co-icon-space-r"}),f("public~Try it"))),s.createElement(i.a,null,s.createElement(c.a,{type:"button",variant:"link","data-test":"download-sample",isInline:!0,onClick:()=>a(p,d,v)},s.createElement(u.a,{className:"co-icon-space-r"}),f("public~Download YAML")))))},f=({maxPreviewLines:e=20,yaml:t})=>{const a=s.useContext(m.a);return s.createElement("div",{style:{paddingTop:10}},s.createElement(o.a,{height:18*Math.min(t.split("\n").length,e),language:"yaml",value:t,theme:"light"===a?"console-light":"console-dark",options:{lineHeight:18,readOnly:!0,folding:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1}}))},y=({snippet:e,insertSnippetYaml:t})=>{const{highlightText:a,title:l,id:n,yaml:o,lazyYaml:m,targetResource:u,description:v}=e,[y,k]=s.useState(o),[S,w]=s.useState(!1),N=e=>g(void 0,void 0,void 0,(function*(){if(o)e(o);else if(m)try{e(yield m())}catch(e){console.warn(`Error while running lazy yaml snippet ${n} (${l})`,e)}})),{t:Y}=Object(h.useTranslation)();return s.createElement("li",{className:"co-resource-sidebar-item"},s.createElement("h3",{className:"h4"},s.createElement("span",{className:"text-uppercase"},a)," ",l),s.createElement("p",null,v),s.createElement(r.a,null,s.createElement(i.a,null,s.createElement(c.a,{type:"button",variant:"link",isInline:!0,onClick:()=>{const e=Object(E.Db)(u);N(a=>t(n,a,e))}},s.createElement(b.a,{className:"co-icon-space-r"}),Y("public~Insert snippet"))),s.createElement(i.a,null,s.createElement(c.a,{type:"button",variant:"link",isInline:!0,onClick:()=>{w(e=>!e),y||S||N(e=>k(e))}},S?s.createElement(s.Fragment,null,Y("public~Hide YAML"),s.createElement(p.a,{className:"co-icon-space-l"})):s.createElement(s.Fragment,null,Y("public~Show YAML"),s.createElement(d.a,{className:"co-icon-space-l"}))))),S&&y&&s.createElement(f,{yaml:y}))},k=({snippets:e,insertSnippetYaml:t})=>s.createElement("ul",{className:"co-resource-sidebar-list",style:{listStyle:"none",paddingLeft:0}},l.a(n.a(e,"title"),e=>s.createElement(y,{key:e.id,snippet:e,insertSnippetYaml:t}))),S=({samples:e,loadSampleYaml:t,downloadSampleYaml:a})=>s.createElement("ol",{className:"co-resource-sidebar-list","data-test":"resource-samples-list"},l.a(n.a(e,"title"),e=>s.createElement(v,{key:e.id,sample:e,loadSampleYaml:t,downloadSampleYaml:a})))}}]);
//# sourceMappingURL=366-chunk-3a6f84ca2ebf2816a6d3.min.js.map