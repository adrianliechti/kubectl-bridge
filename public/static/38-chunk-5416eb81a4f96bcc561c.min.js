(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1983:function(e,t,a){"use strict";a.r(t);var n=a(8377);a.d(t,"Bar",(function(){return n.a}));var r=a(5807);a.d(t,"Gauge",(function(){return r.a}));var i=a(591);a.d(t,"Area",(function(){return i.a}));var l=a(8378);a.d(t,"Stack",(function(){return l.a}))},5807:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return v}));var n=a(0),r=a(515),i=a(6028),l=a(6029),o=a(18),c=a.n(o),s=a(7),u=a(1943),m=a(1197),d=a(436),b=a(5),h=a(1406);const p=[{value:67},{value:92}],y=({data:e,error:t,humanize:a=b.ec,invert:o=!1,loading:m,query:d="",remainderLabel:h,themeColor:y=r.a.green,thresholds:v=p,title:g,ariaChartLinkLabel:E,ariaChartTitle:f,usedLabel:O,label:x,secondaryTitle:L,className:k})=>{const{t:C}=Object(s.useTranslation)(),[j,q]=Object(b.Ic)(),w=!t&&!m,D=m?C("Loading"):t,N=O||C("public~used"),T=L||N,P=x||(e?a(e.y).string:void 0)||C("No data");return n.createElement(u.a,{className:c()("graph-wrapper--title-center graph-wrapper--gauge",k),ref:j,title:g},n.createElement(u.b,{query:d,ariaChartLinkLabel:E},n.createElement(i.a,{ariaTitle:f||g,data:v,height:q,padding:0,width:q,y:"value"},n.createElement(l.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${N}`:`${t} ${h||C("available")}`,data:w?e:{y:0},invert:o,padding:0,subTitle:w?T:"",themeColor:y,thresholds:v,title:D||P}))))},v=({humanize:e=b.ec,invert:t,namespace:a,percent:r=0,query:i,remainderLabel:l,secondaryTitle:o,thresholds:c,title:u,usedLabel:p})=>{const{t:v}=Object(s.useTranslation)(),[g,E,f]=Object(m.usePrometheusPoll)({endpoint:d.a.QUERY,namespace:a,query:i}),[O]=g?Object(h.a)(g,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(r).string,y:r}];return n.createElement(y,{data:O,error:!!E&&v("No data"),invert:t,label:O.x,loading:f,query:i,remainderLabel:l,secondaryTitle:o,thresholds:c,title:u,usedLabel:p})}},8377:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(0),r=a(103),i=a(515),l=a(11401),o=a(270),c=a(1043),s=a(1197),u=a(436),m=a(1943),d=a(2329),b=a(5),h=a(1406),p=a(1207);const y=({barSpacing:e=15,barWidth:t=10,data:a=[],LabelComponent:s,loading:u=!1,noLink:b=!1,query:h,theme:y=Object(r.a)(i.a.blue,d.b),title:v,titleClassName:g})=>{const[E,f]=Object(c.a)(),O=1/3*f,x={bottom:e,left:0,right:Math.min(100,O),top:0};return n.createElement(m.a,{ref:E,title:v,className:g},n.createElement(m.b,{query:b?void 0:h},a.length?a.map((e,r)=>{var i,c,u;return n.createElement(n.Fragment,{key:r},n.createElement("div",{className:"graph-bar__label"},s?n.createElement(s,{title:e.x,metric:e.metric}):e.x),n.createElement("div",{className:"graph-bar__chart"},n.createElement(l.a,{barWidth:t,data:[e],horizontal:!0,labelComponent:n.createElement(o.a,{x:f,textAnchor:null===(u=null===(c=null===(i=y.bar)||void 0===i?void 0:i.style)||void 0===c?void 0:c.labels)||void 0===u?void 0:u.textAnchor}),theme:y,height:t+x.bottom,width:f,domain:{y:[0,a[0].y]},padding:x})))}):n.createElement(p.a,{loading:u})))},v=({barSpacing:e,barWidth:t,delay:a,humanize:r=b.bc,LabelComponent:i,metric:l,namespace:o,noLink:c=!1,query:m,theme:d,title:p,customDataSource:v})=>{const[g,,E]=Object(s.usePrometheusPoll)({delay:a,endpoint:u.a.QUERY,namespace:o,query:m,customDataSource:v}),f=Object(h.a)(g,l,r);return n.createElement(y,{barSpacing:e,barWidth:t,data:f,LabelComponent:i,loading:E,noLink:c,query:m,theme:d,title:p})}},8378:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n=a(0),r=a(103),i=a(515),l=a(4330),o=a(4331),c=a(1398),s=a(5384),u=a(4336),m=a(762),d=a(158),b=a(5),h=a(436),p=a(1943),y=a(1197),v=a(199),g=a(1406),E=a(1207),f=a(2654),O=a(2329),x=a(591),L=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const k=60,C=36e5,j=({className:e,data:t=[],formatDate:a=d.i.format,height:h=180,humanize:y=b.bc,loading:g=!0,padding:x,query:L,tickCount:k=2,title:C,ariaChartLinkLabel:j,ariaChartTitle:q,xAxis:w=!0,yAxis:D=!0,chartStyle:N,byteDataType:T="",mainDataName:P})=>{var S;const $=Object(r.a)(i.a.multiUnordered,O.a),[A,z]=Object(b.Ic)(),[_,R]=n.useMemo(()=>{if(T){const e=Object(m.b)(t,T);return[e.processedData,e.unit]}return[t,""]},[T,t]),U=n.useCallback(e=>""+y(e,R,R).string,[y,R]),W=n.useCallback((e,t=!0)=>{const{x:n,y:r}=e.datum,i=y(r,R,R).string,l=a(n);return t?`${i} at ${l}`:i+" -"},[y,R,a]),F=(null==_?void 0:_.length)>1,I=n.useMemo(()=>{if(F){const e=_.map(e=>{var t,a,n;return{childName:null===(t=e[0])||void 0===t?void 0:t.description,name:null===(a=e[0])||void 0===a?void 0:a.description,symbol:null===(n=e[0])||void 0===n?void 0:n.symbol}});return n.createElement(v.d,{activateData:!1,cursorDimension:"x",labels:e=>W(e,!1),labelComponent:n.createElement(f.a,{legendData:e,stack:!0,formatDate:e=>{const t=e.reduce((e,t)=>e+t.y,0);return`${y(t,R,R).string} total at ${a(e[0].x)}`},mainDataName:P}),voronoiDimension:"x"})}return n.createElement(l.a,{voronoiDimension:"x",labels:W,activateData:!1})},[a,W,y,P,F,_,R]);return n.createElement(p.a,{className:e,ref:A,title:C},n.createElement(p.b,{query:L,ariaChartLinkLabel:j},(null===(S=null==t?void 0:t[0])||void 0===S?void 0:S.length)?n.createElement(o.a,{ariaTitle:q||C,containerComponent:I,domainPadding:{y:20},height:h,width:z,scale:{x:"time",y:"linear"},padding:x,theme:$},w&&n.createElement(c.a,{tickCount:k,tickFormat:e=>a(e)}),D&&n.createElement(c.a,{dependentAxis:!0,tickCount:k,tickFormat:U}),n.createElement(s.a,{height:h,width:z},_.map((e,t)=>{var a;return n.createElement(u.a,{height:h,width:z,key:t,data:e,style:N&&N[t],name:null===(a=e[0])||void 0===a?void 0:a.description})}))):n.createElement(E.a,{height:h,loading:g})))},q=e=>{var{namespace:t,query:a,samples:r=k,timeout:i,timespan:l=C,description:o}=e,c=L(e,["namespace","query","samples","timeout","timespan","description"]);const[s,,u]=Object(y.usePrometheusPoll)({endpoint:h.a.QUERY_RANGE,namespace:t,query:a,samples:r,timeout:i,timespan:l}),m=Object(g.b)(s,o),d=1===(null==m?void 0:m.length)?x.b:j;return n.createElement(d,Object.assign({data:m,loading:u,query:a},c))}}}]);
//# sourceMappingURL=38-chunk-5416eb81a4f96bcc561c.min.js.map