(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{5481:function(e,t,a){"use strict";a.r(t),a.d(t,"tolerationsModal",(function(){return f}));var l=a(50),c=a(499),o=a(22),s=a(640),n=a(0),r=a(88),i=a(19),d=a(408),m=a(407),p=a(7),u=a(5),E=a(8),v=a(40);const N=Object(u.Oc)(e=>{const t=()=>{const{resource:t}=e;return"Pod"===e.resourceKind.kind?t.spec.tolerations:t.spec.template.spec.tolerations},[a,N]=n.useState(t()||[]),{t:f}=Object(p.useTranslation)(),x={Exists:"Exists",Equal:"Equal"},_={"":"All Effects",NoSchedule:"NoSchedule",PreferNoSchedule:"PreferNoSchedule",NoExecute:"NoExecute"},b=(e,t,a)=>{const l=e.target?e.target.value:e;N(e=>{const c=s.a(e);return c[t][a]=l,c})},h=t=>"Pod"!==e.resourceKind.kind||t.isNew,{errorMessage:y}=e;return n.createElement("form",{onSubmit:s=>{s.preventDefault();const n="Pod"===e.resourceKind.kind?"/spec/tolerations":"/spec/template/spec/tolerations",r=l.a(a,e=>c.a(e,"isNew")),i=[{path:n,op:o.a(t())?"replace":"add",value:r}];e.handlePromise(Object(E.pb)(e.resourceKind,e.resource,i),e.close)},name:"form",className:"modal-content toleration-modal"},n.createElement(v.h,null,f("public~Edit tolerations")),n.createElement(v.e,null,o.a(a)?n.createElement(u.u,{label:f("public~Tolerations")}):n.createElement(n.Fragment,null,n.createElement("div",{className:"row toleration-modal__heading hidden-sm hidden-xs"},n.createElement("div",{className:"col-md-4 text-secondary text-uppercase"},f("public~Key")),n.createElement("div",{className:"col-md-2 text-secondary text-uppercase"},f("public~Operator")),n.createElement("div",{className:"col-md-3 text-secondary text-uppercase"},f("public~Value")),n.createElement("div",{className:"col-md-2 text-secondary text-uppercase"},f("public~Effect")),n.createElement("div",{className:"col-md-1"})),l.a(a,(e,t)=>{const{key:l,operator:c,value:o,effect:m=""}=e;return n.createElement("div",{className:"row toleration-modal__row",key:t},n.createElement("div",{className:"col-md-4 col-sm-5 col-xs-5 toleration-modal__field"},n.createElement("div",{className:"toleration-modal__heading hidden-md hidden-lg text-secondary text-uppercase"},f("public~Key")),n.createElement("input",{type:"text",className:"pf-v5-c-form-control",value:l,onChange:e=>b(e,t,"key"),readOnly:!h(e)})),n.createElement("div",{className:"col-md-2 col-sm-5 col-xs-5 toleration-modal__field"},n.createElement("div",{className:"toleration-modal__heading hidden-md hidden-lg text-secondary text-uppercase"},f("public~Operator")),h(e)?n.createElement(u.t,{className:"toleration-modal__dropdown",dropDownClassName:"dropdown--full-width",items:x,onChange:e=>((e,t)=>{N(a=>{const l=s.a(a);return l[t].operator=e,"Exists"===e&&(l[t].value=""),l})})(e,t),selectedKey:c,title:x[c]}):n.createElement("input",{type:"text",className:"pf-v5-c-form-control",value:c,readOnly:!0})),n.createElement("div",{className:"clearfix visible-sm visible-xs"}),n.createElement("div",{className:"col-md-3 col-sm-5 col-xs-5 toleration-modal__field"},n.createElement("div",{className:"toleration-modal__heading hidden-md hidden-lg text-secondary text-uppercase"},f("public~Value")),n.createElement("input",{type:"text",className:"pf-v5-c-form-control",value:o,onChange:e=>b(e,t,"value"),readOnly:!h(e)||"Exists"===c})),n.createElement("div",{className:"col-md-2 col-sm-5 col-xs-5 toleration-modal__field"},n.createElement("div",{className:"toleration-modal__heading hidden-md hidden-lg text-secondary text-uppercase"},f("public~Effect")),h(e)?n.createElement(u.t,{className:"toleration-modal__dropdown",dropDownClassName:"dropdown--full-width",items:_,onChange:e=>b(e,t,"effect"),selectedKey:m,title:_[m]}):n.createElement("input",{type:"text",className:"pf-v5-c-form-control",value:_[m],readOnly:!0})),n.createElement("div",{className:"col-md-1 col-sm-2 col-xs-2"},h(e)&&n.createElement(r.a,{content:f("public~Remove")},n.createElement(i.a,{type:"button",className:"toleration-modal__delete-icon",onClick:()=>(e=>{const t=[...a];t.splice(e,1),N(t)})(t),"aria-label":f("public~Remove"),variant:"plain"},n.createElement(d.a,{className:"pairs-list__side-btn pairs-list__delete-icon"})))))})),n.createElement(i.a,{className:"pf-m-link--align-left",onClick:()=>{N([...a,{key:"",operator:"Exists",value:"",effect:"",isNew:!0}])},type:"button",variant:"link"},n.createElement(m.a,{"data-test-id":"pairs-list__add-icon",className:"co-icon-space-r"}),f("public~Add more"))),n.createElement(v.g,{errorMessage:y,inProgress:!1,submitText:f("public~Save"),cancel:()=>{e.close()}}))}),f=Object(v.m)(N)}}]);
//# sourceMappingURL=tolerations-modal-chunk-5d25742b246b30bced3a.min.js.map