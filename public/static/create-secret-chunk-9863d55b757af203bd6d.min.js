(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{4359:function(e,t,a){"use strict";a.r(t);var r=a(5590);a.d(t,"toDefaultSecretType",(function(){return r.d})),a.d(t,"toTypeAbstraction",(function(){return r.e})),a.d(t,"generateSecret",(function(){return r.b})),a.d(t,"determineSecretType",(function(){return r.a})),a.d(t,"getImageSecretKey",(function(){return r.c})),a.d(t,"useSecretTitle",(function(){return r.g})),a.d(t,"useSecretDescription",(function(){return r.f}));var n=a(869);a.d(t,"SecretTypeAbstraction",(function(){return n.c})),a.d(t,"AUTHS_KEY",(function(){return n.a})),a.d(t,"SecretType",(function(){return n.b}));var s=a(5598);a.d(t,"SecretFormWrapper",(function(){return s.a}));var c=a(5604);a.d(t,"PullSecretForm",(function(){return c.a}));var i=a(5606);a.d(t,"PullSecretCredentialEntry",(function(){return i.a}));var o=a(5605);a.d(t,"CreateConfigSubform",(function(){return o.a}));var l=a(5607);a.d(t,"UploadConfigSubform",(function(){return l.a}));var u=a(5608);a.d(t,"WebHookSecretForm",(function(){return u.a}));var d=a(5601);a.d(t,"SourceSecretForm",(function(){return d.a}));var p=a(5602);a.d(t,"BasicAuthSubform",(function(){return p.a}));var m=a(5603);a.d(t,"SSHAuthSubform",(function(){return m.a}));var h=a(5609);a.d(t,"GenericSecretForm",(function(){return h.a}));var b=a(5610);a.d(t,"KeyValueEntryFormWithTranslation",(function(){return b.b})),a.d(t,"KeyValueEntryForm",(function(){return b.a}));var g=a(5636);a.d(t,"SecretLoadingWrapper",(function(){return g.b})),a.d(t,"EditSecret",(function(){return g.a}));var y=a(5637);a.d(t,"CreateSecret",(function(){return y.a}));var f=a(5593);a.d(t,"DroppableFileInput",(function(){return f.a}));var v=a(5600);a.d(t,"SecretSubForm",(function(){return v.a}));a(5638)},5590:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return b}));var r=a(279),n=a(160),s=a(107),c=a(1404),i=a(7),o=a(869);const l=e=>{switch(e){case o.c.source:return o.b.basicAuth;case o.c.image:return o.b.dockerconfigjson;default:return o.b.opaque}},u=e=>{const{data:t,type:a}=e;switch(a){case o.b.basicAuth:case o.b.sshAuth:return o.c.source;case o.b.dockerconfigjson:case o.b.dockercfg:return o.c.image;default:return(null==t?void 0:t[c.WebHookSecretKey])&&1===r.a(t)?o.c.webhook:o.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=n.a(e).sort();return s.a(t,["tls.crt","tls.key"])?o.b.tls:s.a(t,["ca.crt","namespace","service-ca.crt","token"])?o.b.serviceAccountToken:s.a(t,[".dockercfg"])?o.b.dockercfg:s.a(t,[".dockerconfigjson"])?o.b.dockerconfigjson:s.a(t,["password","username"])?o.b.basicAuth:s.a(t,["ssh-privatekey"])?o.b.sshAuth:o.b.opaque},m=e=>{switch(e){case o.b.dockercfg:return".dockercfg";case o.b.dockerconfigjson:return".dockerconfigjson";default:return e}},h=(e,t)=>{const{t:a}=Object(i.useTranslation)();switch(t){case o.c.generic:return a(e?"public~Create key/value secret":"public~Edit key/value secret");case o.c.image:return a(e?"public~Create image pull secret":"public~Edit image pull secret");default:return a(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},b=e=>{const{t:t}=Object(i.useTranslation)();switch(e){case o.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case o.c.source:return t("public~Source secrets let you authenticate against a Git server.");case o.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case o.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5593:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(0),n=a(282);const s=e=>r.createElement(n.a,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5598:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var r=a(501),n=a(838),s=a(2324),c=a(16),i=a(640),o=a(1256),l=a(0),u=a(137),d=a(7),p=a(320),m=a(966),h=a(19),b=a(14),g=a(8),y=a(5),f=a(118),v=a(10),E=a(5590),S=a(5600);const k=e=>{const{isCreate:t,modal:a,onCancel:k}=e,{t:C}=Object(d.useTranslation)(),w=Object(b.useNavigate)(),j=Object(b.useParams)(),D=r.a(e.obj,["metadata","type"]),O=Object(E.d)(e.secretTypeAbstraction),A=n.a({},e.fixed,D,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:O}),[N]=l.useState(e.secretTypeAbstraction),[T,F]=l.useState(A),[x,_]=l.useState(!1),[H,B]=l.useState(),[q,K]=l.useState(s.a(c.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[W,P]=l.useState({}),[I,G]=l.useState(!1),V=Object(E.g)(t,N),J=Object(E.f)(N),U=()=>w(`/k8s/ns/${j.ns}/core~v1~Secret`),M=e=>{K(Object.assign({},null==e?void 0:e.stringData)),P(Object.assign({},null==e?void 0:e.base64StringData))},R=e=>{B(e),_(!1)},$=e=>{const t=e.target.value,a=i.a(T);a.metadata.name=t,F(a)},L=a=>{a.preventDefault();const{metadata:r}=T;_(!0);const n=Object.assign(Object.assign({},s.a(q,e=>p.Base64.encode(e))),W),c=o.a({},T,{data:n},t?{type:Object(E.a)(q)}:{});(t?Object(g.jb)(v.SecretModel,c):Object(g.rb)(v.SecretModel,c,r.namespace,c.metadata.name)).then(t=>{_(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||w(Object(y.sc)(t,Object(g.Db)(t)))},e=>{B(e.message),_(!1)})},Y=()=>{var a;return l.createElement(l.Fragment,null,l.createElement("fieldset",{disabled:!t},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},C("public~Secret name")),l.createElement("div",null,l.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:$,value:null===(a=null==T?void 0:T.metadata)||void 0===a?void 0:a.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),l.createElement("p",{className:"help-block",id:"secret-name-help"},C("public~Unique name of the new secret."))))),l.createElement(S.a,{typeAbstraction:e.secretTypeAbstraction,onChange:M,onError:R,onFormDisable:e=>G(e),stringData:q,secretType:T.type,isCreate:t}))};return a?l.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:L},l.createElement(f.d,null,V),l.createElement(f.a,null,Y()),l.createElement(f.c,{errorMessage:H||"",inProgress:x,submitText:C("public~Create"),cancel:k||U})):l.createElement("div",{className:"co-m-pane__form"},l.createElement(u.a,null,l.createElement("title",null,V)),l.createElement(y.Z,{title:V,helpText:J}),l.createElement("div",{className:"co-m-pane__body"},l.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:L},Y(),l.createElement(y.g,{errorMessage:H,inProgress:x},l.createElement(m.a,{className:"pf-v5-c-form"},l.createElement(h.a,{type:"submit","data-test":"save-changes",isDisabled:I,variant:"primary",id:"save-changes"},e.saveButtonText||C("public~Create")),l.createElement(h.a,{type:"button",variant:"secondary",id:"cancel",onClick:k||U},C("public~Cancel")))))))}},5600:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(0),n=a(869),s=a(5601),c=a(5604),i=a(5608),o=a(5609),l=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};const u=e=>{var{typeAbstraction:t}=e,a=l(e,["typeAbstraction"]);switch(t){case n.c.source:return r.createElement(s.a,Object.assign({},a));case n.c.image:return r.createElement(c.a,Object.assign({},a));case n.c.webhook:return r.createElement(i.a,Object.assign({},a));default:return r.createElement(o.a,Object.assign({},a))}}},5601:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(0),n=a(7),s=a(5),c=a(869),i=a(5602),o=a(5603);class l extends r.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:c.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[c.b.basicAuth]:e("public~Basic authentication"),[c.b.sshAuth]:e("public~SSH key")};return r.createElement(r.Fragment,null,this.props.isCreate?r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),r.createElement("div",{className:"co-create-secret__dropdown"},r.createElement(s.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===c.b.basicAuth?r.createElement(i.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):r.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(n.withTranslation)()(l)},5602:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(0),n=a(7);class s extends r.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),r.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),r.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const c=Object(n.withTranslation)()(s)},5603:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(0),n=a(7),s=a(5593);const c=({onChange:e,stringData:t})=>{const{t:a}=Object(n.useTranslation)();return r.createElement(s.a,{onChange:t=>{const a=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":a})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:a("public~SSH private key"),inputFieldHelpText:a("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:a("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(1240),n=a(0),s=a(7),c=a(5),i=a(5590),o=a(869),l=a(5605),u=a(5607);const d=({onChange:e,onError:t,onFormDisable:a,stringData:d,secretType:p,isCreate:m})=>{const[h,b]=n.useState("credentials"),{t:g}=Object(s.useTranslation)(),y=n.useMemo(()=>{var e;try{const t=Object(i.c)(p),a=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(a)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=n.useCallback(t=>{r.a(t)||a(!1);const n=t[o.a]?".dockerconfigjson":".dockercfg";e({stringData:{[n]:JSON.stringify(t)},base64StringData:{}})},[a,onchange]),v={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return n.createElement(n.Fragment,null,m&&n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),n.createElement("div",{className:"co-create-secret__dropdown"},n.createElement(c.t,{items:v,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:h,onChange:b}))),"credentials"===h?n.createElement(l.a,{onChange:f,stringData:y}):n.createElement(u.a,{onChange:f,stringData:y,onDisable:a}))}},5605:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var r=a(22),n=a(840),s=a(4434),c=a(57),i=a(16),o=a(4437),l=a(4436),u=a(501),d=a(50),p=a(279),m=a(0),h=a(7),b=a(320),g=a(19),y=a(408),f=a(407),v=a(869),E=a(5606);class S extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:r.a(this.props.stringData)||!!this.props.stringData[v.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[v.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:n.a()}}imageSecretObjectToArray(e){const t=[];return r.a(e)?s.a(t,this.newImageSecretEntry()):(c.a(e,(e,a)=>{const s=b.Base64.decode(i.a(e,"auth","")),c=r.a(s)?o.a(Array(2),""):l.a(s,":");t.push({entry:{address:a,username:i.a(e,"username",c[0]),password:i.a(e,"password",c[1]),email:i.a(e,"email",""),auth:i.a(e,"auth","")},uid:i.a(e,"uid",n.a())})}),t)}imageSecretArrayToObject(e){const t={};return c.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[v.a]:t}:t)}onDataChanged(e,t){this.setState(a=>{const r=[...a.secretEntriesArray],n={uid:r[t].uid,entry:e,auth:b.Base64.encode(`${e.username}:${e.password}`)};return r[t]=n,{secretEntriesArray:r}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const a=[...t.secretEntriesArray];return a.splice(e,1),{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:s.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,a)=>{const{uid:r,entry:n}=null!=t?t:{},{address:s,email:c,password:i,username:o}=null!=n?n:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:r},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(g.a,{onClick:()=>this.removeEntry(a),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(y.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(E.a,{id:a,address:s,email:c,password:i,username:o,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const k=Object(h.withTranslation)()(S)},5606:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(0),n=a(7),s=a(320);const c=({id:e,address:t,email:a,password:c,username:i,onChange:o})=>{const{t:l}=Object(n.useTranslation)(),u=(r,n)=>{const l=i.trim(),u=c.trim(),d=i&&c?s.Base64.encode(`${l}:${u}`):"";o(Object.assign({address:t,username:i,password:c,email:a,[r]:n},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return r.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},l("public~Registry server address")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),r.createElement("p",{className:"help-block",id:e+"-address-help"},l("public~For example quay.io or docker.io"))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},l("public~Username")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:i,onBlur:d,"data-test":"image-secret-username",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},l("public~Password")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:c,onBlur:d,"data-test":"image-secret-password",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:e+"-email"},l("public~Email")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:a,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(22),n=a(1973),s=a(1240),c=a(0),i=a(7),o=a(5593);class l extends c.Component{constructor(e){super(e),this.state={configFile:r.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(n.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(n.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:s.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return c.createElement(c.Fragment,null,c.createElement(o.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&c.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(i.withTranslation)()(l)},5608:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(0),n=a(7),s=a(5590);class c extends r.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(s.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),r.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),r.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const i=Object(n.withTranslation)()(c)},5609:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var r=a(840),n=a(22),s=a(50),c=a(255),i=a(1256),o=a(4434),l=a(279),u=a(0),d=a(7),p=a(320),m=a(19),h=a(408),b=a(407),g=a(973),y=a(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:r.a()}}genericSecretObjectToArray(e){return n.a(e)?[this.newGenericSecretEntry()]:s.a(e,(e,t)=>{const a=g.isBinary(null,e);return{uid:r.a(),entry:{key:t,value:a?p.Base64.encode(e):e,isBase64:a,isBinary:a}}})}genericSecretArrayToObject(e){return c.a(e,(e,t)=>{var a,r;return i.a(e,{[t.entry.key]:(null===(a=t.entry)||void 0===a?void 0:a.isBase64)||(null===(r=t.entry)||void 0===r?void 0:r.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const a=[...this.state.secretEntriesArray],r={uid:a[t].uid,entry:e};a[t]=r,this.setState({secretEntriesArray:a},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:o.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=s.a(this.state.secretEntriesArray,(t,a)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},l.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(a),variant:"link","data-test":"remove-entry-button"},u.createElement(h.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(y.a,{id:a,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const v=Object(d.withTranslation)()(f)},5610:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));var r=a(0),n=a(7),s=a(5593);class c extends r.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return r.createElement("div",{className:"co-create-generic-secret__form"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),r.createElement("div",null,r.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("div",null,r.createElement(s.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const i=Object(n.withTranslation)()(c)},5636:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var r=a(22),n=a(0),s=a(7),c=a(14),i=a(5),o=a(869),l=a(5590),u=a(5598);const d=Object(s.withTranslation)()(class extends n.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:o.c.generic}}componentDidUpdate(){if(!r.a(this.props.obj.data)){const e=Object(l.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:a}=this.state;if(!a)return n.createElement(i.S,null);const r=null==t?void 0:t.reduce((t,a)=>{var r;return Object.assign(Object.assign({},t),{[a]:(null===(r=e.data)||void 0===r?void 0:r[a])||""})},{});return n.createElement(i.wb,Object.assign({},e),n.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:a,obj:e.data,fixed:r})))}}),p=({kind:e})=>{const t=Object(c.useParams)(),{t:a}=Object(s.useTranslation)();return n.createElement(i.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},n.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:a("public~Save")}))}},5637:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(0),n=a(14),s=a(5598);const c=()=>{const e=Object(n.useParams)(),t=e.type;return r.createElement(s.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,a){}}]);
//# sourceMappingURL=create-secret-chunk-9863d55b757af203bd6d.min.js.map