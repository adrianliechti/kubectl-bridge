(window.webpackJsonp=window.webpackJsonp||[]).push([[227,42,119,181,228],{4384:function(e,t,a){"use strict";a.r(t),a.d(t,"InstallPlanTableRow",(function(){return I})),a.d(t,"InstallPlansList",(function(){return _})),a.d(t,"InstallPlansPage",(function(){return T})),a.d(t,"NeedInstallPlanPermissions",(function(){return A})),a.d(t,"InstallPlanDetails",(function(){return D})),a.d(t,"InstallPlanPreview",(function(){return V})),a.d(t,"InstallPlanDetailsPage",(function(){return F}));var n=a(0),l=a(80),r=a(19),o=a(54),s=a(18),c=a(61),i=a(255),m=a(16),d=a(7),u=a(31),p=a(14),b=a(13),v=a(972),g=a(40),E=a(131),h=a(5),f=a(773),O=a(8),N=a(15),j=a(125),y=a(146),k=a(6086),S=a(2235),C=a(1405);const w=["pf-v5-c-table__td","pf-v5-c-table__td",s("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-xl","pf-v5-c-table__td"),h.F.columnClass],P=["pf-v5-c-table__td","pf-v5-c-table__td",s("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg","pf-v5-c-table__td"),s("pf-m-hidden","pf-m-visible-on-lg","pf-v5-c-table__td")],I=({obj:e})=>{var t,a;const{t:l}=Object(d.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(g.k,{className:w[0]},n.createElement(h.hb,{kind:Object(O.Hb)(j.InstallPlanModel),namespace:e.metadata.namespace,name:e.metadata.name})),n.createElement(g.k,{className:w[1]},n.createElement(h.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(g.k,{className:w[2]},(r=null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:"Unknown",n.createElement(N.cc,{status:r}))),n.createElement(g.k,{className:w[3]},n.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},e.spec.clusterServiceVersionNames.map(t=>{var a;return n.createElement("li",{key:t},"Complete"===(null===(a=e.status)||void 0===a?void 0:a.phase)?n.createElement(h.hb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(h.fb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel)}),t))}))),n.createElement(g.k,{className:w[4]},(e.metadata.ownerReferences||[]).filter(e=>Object(O.Ib)(e)===Object(O.Hb)(j.SubscriptionModel)).map(t=>n.createElement("ul",{key:t.uid,className:"pf-v5-c-list pf-m-plain"},n.createElement("li",null,n.createElement(h.hb,{kind:Object(O.Hb)(j.SubscriptionModel),name:t.name,namespace:e.metadata.namespace,title:t.uid}))))||n.createElement("span",{className:"text-muted"},l("olm~None"))),n.createElement(g.k,{className:w[5]},n.createElement(h.gb,{actions:h.F.factory.common,kind:Object(O.Hb)(j.InstallPlanModel),resource:e})));var r},M=()=>{const{t:e}=Object(d.useTranslation)();return n.createElement(h.h,{title:e("olm~No InstallPlans found")},e("olm~InstallPlans are created automatically by subscriptions or manually using the CLI."))},_=Object(S.f)(e=>{const{t:t}=Object(d.useTranslation)();return n.createElement(g.j,Object.assign({},e,{"aria-label":t("olm~InstallPlans"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[o.a],props:{className:w[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[o.a],props:{className:w[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[o.a],props:{className:w[2]}},{title:t("olm~Components"),props:{className:w[3]}},{title:t("olm~Subscriptions"),props:{className:w[4]}},{title:"",props:{className:w[5]}}],Row:I,EmptyMsg:M}))}),T=e=>{const{t:t}=Object(d.useTranslation)(),a=Object(p.useParams)(),l=e.namespace||(null==a?void 0:a.ns);return n.createElement(g.i,Object.assign({},e,{namespace:l,resources:[{kind:Object(O.Hb)(j.InstallPlanModel),namespace:l,namespaced:!0,prop:"installPlan"},{kind:Object(O.Hb)(j.OperatorGroupModel),namespace:l,namespaced:!0,prop:"operatorGroup"}],flatten:e=>m.a(e.installPlan,"data",[]),title:t("olm~InstallPlans"),showTitle:!1,ListComponent:_}))},x=(e,t)=>e?null==t?void 0:t.username:f.b.name(),A=({installPlan:e})=>{const t=Object(N.Fe)(N.O.OPENSHIFT),a=Object(u.useSelector)(b.J),[r,o]=n.useState(x(t,a));n.useEffect(()=>{o(x(t,a))},[t,a]);const{t:s}=Object(d.useTranslation)(),c=Object(O.l)(Object(O.Db)(e));return n.createElement(l.a,{variant:"info",isInline:!0,title:s("olm~Missing sufficient privileges for manual InstallPlan approval")},r?s('olm~User "{{user}}" does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{user:r,apiGroup:c,namespace:e.metadata.namespace}):s('olm~User does not have permissions to patch resource InstallPlans in API group "{{apiGroup}}" in the namespace "{{namespace}}."',{apiGroup:c,namespace:e.metadata.namespace}))},D=({obj:e})=>{var t,a,l;const{t:o}=Object(d.useTranslation)(),s=e.spec.approval===y.e.Manual&&!1===e.spec.approved,m=Object(h.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return n.createElement(n.Fragment,null,s&&m&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.D,{title:o("olm~Review manual InstallPlan")},n.createElement("p",null,o("olm~Inspect the requirements for the components specified in this InstallPlan before approving.")),n.createElement(p.Link,{to:`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(j.InstallPlanModel)}/${e.metadata.name}/components`},n.createElement(r.a,{variant:"primary"},o("olm~Preview InstallPlan"))))),s&&!m&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(A,{installPlan:e})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.ob,{text:o("olm~InstallPlan details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(h.lb,{resource:e,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,o("olm~Status")),n.createElement("dd",null,n.createElement(N.cc,{status:null!==(a=null===(t=e.status)||void 0===t?void 0:t.phase)&&void 0!==a?a:o("olm~Unknown")})),n.createElement("dt",null,o("olm~Components")),(e.spec.clusterServiceVersionNames||[]).map(t=>n.createElement("dd",{key:t},"Complete"===e.status.phase?n.createElement(h.hb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel),name:t,namespace:e.metadata.namespace,title:t}):n.createElement(n.Fragment,null,n.createElement(h.fb,{kind:Object(O.Hb)(j.ClusterServiceVersionModel)}),t))),n.createElement("dt",null,o("olm~CatalogSources")),(e=>{var t;return i.a((null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.plan)||[],(e,{resource:{sourceName:t,sourceNamespace:a}})=>e.add(Object(c.fromJS)({sourceName:t,sourceNamespace:a})),Object(c.Set)()).toJS()})(e).map(({sourceName:e,sourceNamespace:t})=>n.createElement("dd",{key:`${t}-${e}`},n.createElement(h.hb,{kind:Object(O.Hb)(j.CatalogSourceModel),name:e,namespace:t,title:e})))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.ob,{text:o("olm~Conditions")}),n.createElement(v.b,{conditions:null===(l=e.status)||void 0===l?void 0:l.conditions})))},V=({obj:e,hideApprovalBlock:t})=>{var a,l;const{t:o}=Object(d.useTranslation)(),[s,i]=n.useState(e.spec.approval===y.e.Manual&&!1===e.spec.approved),m=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.ownerReferences.find(e=>Object(O.Ib)(e)===Object(O.Hb)(j.SubscriptionModel)),u=(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.plan)||[],p=u.reduce((e,t)=>e.update(t.resolving,[],e=>e.concat([t])),Object(c.Map)()).toArray(),b=Object(h.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e.metadata.namespace,verb:"patch"});return u.length>0?n.createElement(n.Fragment,null,s&&!t&&!b&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(A,{installPlan:e})),s&&!t&&b&&n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.D,{title:o("olm~Review manual InstallPlan")},n.createElement(C.a,{installPlan:e}),n.createElement("div",{className:"pf-v5-c-form"},n.createElement("div",{className:"pf-v5-c-form__actions"},n.createElement(r.a,{variant:"primary",isDisabled:!s,onClick:()=>Object(O.pb)(j.InstallPlanModel,e,[{op:"replace",path:"/spec/approved",value:!0}]).then(()=>i(!1)).catch(e=>Object(E.s)({error:e.toString()}))},o(s?"olm~Approve":"olm~Approved")),n.createElement(r.a,{variant:"secondary",isDisabled:!1,onClick:()=>h.Vb.push(`/k8s/ns/${e.metadata.namespace}/${Object(O.Hb)(j.SubscriptionModel)}/${m.name}?showDelete=true`)},o("olm~Deny")))))),p.map(t=>n.createElement("div",{key:t[0].resolving,className:"co-m-pane__body"},n.createElement(h.ob,{text:t[0].resolving}),n.createElement("div",{className:"co-table-container"},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr"},n.createElement("th",{className:P[0]},o("olm~Name")),n.createElement("th",{className:P[1]},o("olm~Kind")),n.createElement("th",{className:P[2]},o("olm~Status")),n.createElement("th",{className:P[3]},o("olm~API version")))),n.createElement("tbody",{className:"pf-v5-c-table__tbody"},t.map(t=>{return n.createElement("tr",{key:`${Object(C.m)(t.resource)}-${t.resource.name}`,className:"pf-v5-c-table__tr"},n.createElement("td",{className:P[0]},["Present","Created"].includes(t.status)?n.createElement(h.hb,{kind:Object(C.m)(t.resource),namespace:e.metadata.namespace,name:t.resource.name,title:t.resource.name}):n.createElement(n.Fragment,null,n.createElement(h.fb,{kind:Object(C.m)(t.resource)}),n.createElement(r.a,{type:"button",onClick:()=>Object(k.a)({stepResource:t.resource}),variant:"link"},t.resource.name))),n.createElement("td",{className:P[1]},t.resource.kind),n.createElement("td",{className:P[2]},(a=t.status,n.createElement(n.Fragment,null,"Present"===a&&n.createElement(N.X,{className:"co-icon-space-r"}),"Created"===a&&n.createElement(N.X,{className:"co-icon-space-r"}),a))),n.createElement("td",{className:P[3]},Object(O.o)(Object(C.m)(t.resource))));var a}))))))):n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.h,{title:o("olm~No components resolved")},o("olm~This InstallPlan has not been fully resolved yet.")))},F=e=>{const t=Object(p.useParams)();return n.createElement(g.a,Object.assign({},e,{namespace:t.ns,kind:Object(O.Hb)(j.InstallPlanModel),name:t.name,pages:[h.mc.details(D),h.mc.editYaml(),{href:"components",nameKey:"olm~Components",component:V}],menuActions:[...h.F.getExtensionsActionsForKind(j.InstallPlanModel),...h.F.factory.common]}))};T.displayName="InstallPlansPage"},4385:function(e,t,a){"use strict";a.r(t),a.d(t,"ClusterServiceVersionTableRow",(function(){return Oe})),a.d(t,"SubscriptionTableRow",(function(){return Ne})),a.d(t,"ClusterServiceVersionList",(function(){return Se})),a.d(t,"ClusterServiceVersionsPage",(function(){return Ce})),a.d(t,"MarkdownView",(function(){return we})),a.d(t,"CRDCard",(function(){return Pe})),a.d(t,"CRDCardRow",(function(){return Ie})),a.d(t,"ClusterServiceVersionDetails",(function(){return _e})),a.d(t,"CSVSubscription",(function(){return Te})),a.d(t,"ClusterServiceVersionDetailsPage",(function(){return xe}));var n=a(0),l=a(353),r=a(19),o=a(192),s=a(295),c=a(296),i=a(4345),m=a(80),d=a(6023),u=a(615),p=a(54),b=a(8241),v=a(18),g=a(373),E=a(22),h=a(4440),f=a(16),O=a(2328),N=a(4387),j=a(137),y=a(7),k=a(14),S=a(13),C=a(83),w=a(972),P=a(409),I=a(40),M=a(5),_=a(987),T=a(108),x=a(10),A=a(8),D=a(15),V=a(198),F=a(2269),R=a(330),L=a(30),U=a(6352),$=a(473),G=a(197),H=a(474),q=a(125),z=a(1439),K=a(146),W=a(2241),B=a(6084),J=a(6085),X=a(6353),Y=a(5893),Q=a(5737),Z=a(6037),ee=a(4388),te=a(2235),ae=a(1947),ne=a(5411),le=a(4386),re=a(1405),oe=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const se=e=>Object(A.Db)(e)===Object(A.Hb)(q.ClusterServiceVersionModel),ce=v("pf-m-hidden","pf-m-visible-on-sm"),ie=v("pf-m-hidden","pf-m-visible-on-lg"),me=v("pf-m-hidden","pf-m-visible-on-2xl"),de=v("pf-m-hidden","pf-m-visible-on-xl"),ue=e=>g.a(e)?null:{labelKey:"olm~Edit Subscription",href:Object(M.uc)(q.SubscriptionModel,e.metadata.name,e.metadata.namespace)+"/yaml"},pe=(e,t)=>g.a(e)?null:{labelKey:"olm~Uninstall Operator",callback:()=>Object(Z.a)({k8sKill:A.lb,k8sGet:A.kb,k8sPatch:A.pb,subscription:e,csv:t,blocking:!0}),accessReview:{group:q.SubscriptionModel.apiGroup,resource:q.SubscriptionModel.plural,name:e.metadata.name,namespace:e.metadata.namespace,verb:"delete"}},be=(e,t)=>E.a(t)?[M.F.factory.Delete]:[()=>ue(t),()=>pe(t,e)],ve=({muted:e=!1,subscription:t})=>{const{t:a}=Object(y.useTranslation)();if(!t)return null;if(Object(W.b)(t))return n.createElement(le.UpgradeApprovalLink,{subscription:t});const l=Object(z.b)(t);return n.createElement("span",{className:e?"text-muted":"co-icon-and-text"},e?l.title:n.createElement(D.cc,{status:l.status||a("olm~Unknown")}))},ge=({obj:e,subscription:t})=>{var a;const l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.phase;return e.metadata.deletionTimestamp?n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:K.b.CSVPhaseDeleting})):l?n.createElement(n.Fragment,null,n.createElement("span",{className:"co-icon-and-text"},n.createElement(D.cc,{status:l})),n.createElement(ve,{muted:!0,subscription:t})):null},Ee=({obj:e})=>{var t;const{t:a}=Object(y.useTranslation)(),o=(null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))||[];if(Object(B.a)(e))return n.createElement(n.Fragment,null,n.createElement(M.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}),n.createElement("span",{className:"text-muted"},e.status.message));switch(o.length){case 0:return a("olm~All Namespaces");case 1:return o[0]?n.createElement(M.hb,{kind:"Namespace",title:o[0],name:o[0]}):a("olm~All Namespaces");default:return n.createElement(l.a,{headerContent:a("olm~Managed Namespaces"),bodyContent:o.map(e=>n.createElement(M.hb,{kind:"Namespace",title:e,name:e}))},n.createElement(r.a,{variant:"link",isInline:!0},a("olm~{{count}} Namespaces",{count:o.length})))}},he=({csvPlugins:e,trusted:t})=>{const a={kind:Object(A.Hb)(x.ConsoleOperatorConfigModel),isList:!1,name:L.p},[l]=Object(T.a)(a),{t:o}=Object(y.useTranslation)(),[s]=Object(S.hc)({group:x.ConsoleOperatorConfigModel.apiGroup,resource:x.ConsoleOperatorConfigModel.plural,verb:"patch",name:L.p}),c=e.length;return n.createElement(n.Fragment,null,l&&s&&n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,o("olm~Console plugin",{count:c})),e.map(e=>n.createElement("dd",{key:e,className:"co-clusterserviceversion-details__field-description"},c>1&&n.createElement("strong",{className:"text-muted"},o("olm~{{plugin}}:",{pluginName:e})," "),n.createElement(r.a,{"data-test":"edit-console-plugin",type:"button",isInline:!0,onClick:()=>Object(F.a)({consoleOperatorConfig:l,csvPluginsCount:c,pluginName:e,trusted:t}),variant:"link"},n.createElement(n.Fragment,null,Object(G.X)(l,e)?o("olm~Enabled"):o("olm~Disabled")," ",n.createElement(u.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})))))))},fe=({csv:e,csvPlugins:t})=>{var a,o;const s={kind:Object(A.Hb)(x.ConsoleOperatorConfigModel),isList:!1,name:L.p},[c]=Object(T.a)(s),{t:i}=Object(y.useTranslation)(),[m]=Object(S.hc)({group:x.ConsoleOperatorConfigModel.apiGroup,resource:x.ConsoleOperatorConfigModel.plural,verb:"patch",name:L.p}),d=!(null===(o=null===(a=null==c?void 0:c.spec)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.length)||t.some(e=>!Object(G.X)(c,e));return c&&m&&d&&n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Console plugin available")),bodyContent:n.createElement("div",null,n.createElement("p",null,i("olm~To let this operator provide a custom interface and run its own code in your console, enable its console plugin in the operator details.")),n.createElement(k.Link,{to:Object(M.sc)(e,Object(A.Db)(e))},i("olm~View operator details")))},n.createElement(r.a,{variant:"link",isInline:!0},i("olm~Plugin available")))},Oe=Object(V.e)(({activeNamespace:e,obj:t,subscription:a,catalogSourceMissing:l})=>{var r,o,s,c;const{displayName:i,provider:m,version:d}=null!==(r=t.spec)&&void 0!==r?r:{},{t:u}=Object(y.useTranslation)(),p=null!==(o=Object(te.d)(t))&&void 0!==o?o:"",[b]=null!==(s=t.spec.icon)&&void 0!==s?s:[],v=Object(X.a)(t),g=Object(re.j)(t),f=Object(ae.b)(null===(c=null==t?void 0:t.metadata)||void 0===c?void 0:c.annotations),{deprecatedPackage:O}=Object(Q.d)(a);return n.createElement(n.Fragment,null,n.createElement(I.k,{className:""},n.createElement(k.Link,{to:v,className:"co-clusterserviceversion-link","data-test-operator-row":i},n.createElement(Y.a,{icon:b,displayName:i,version:d,provider:m}))),e===D.c?n.createElement(I.k,{className:""},n.createElement(M.hb,{kind:"Namespace",title:p,name:p})):null,n.createElement(I.k,{className:ce},n.createElement(Ee,{obj:t})),n.createElement(I.k,{className:ie},n.createElement("div",{className:"co-clusterserviceversion-row__status"},l?n.createElement(le.SourceMissingStatus,null):n.createElement(ge,{obj:t,subscription:a})),f.length>0&&n.createElement(fe,{csv:t,csvPlugins:f}),O.deprecation&&n.createElement(Q.b,{className:"pf-v5-u-mt-xs",deprecation:O.deprecation})),n.createElement(I.k,{className:me},null==t.status?"-":n.createElement(M.xb,{timestamp:t.status.lastUpdateTime})),n.createElement(I.k,{className:de},E.a(g)?"-":h.a(g,4).map(e=>n.createElement("div",{key:Object(re.l)(e)},n.createElement(k.Link,{to:`${v}/${Object(re.l)(e)}`,title:e.name},e.displayName||e.kind))),g.length>4&&n.createElement(k.Link,{to:v,title:u("olm~View {{numAPIs}} more...",{numAPIs:g.length-4})},u("olm~View {{numAPIs}} more...",{numAPIs:g.length-4}))),n.createElement(I.k,{className:M.F.columnClass},n.createElement(M.gb,{resource:t,kind:Object(A.Db)(t),actions:be(t,a)})))}),Ne=({activeNamespace:e,catalogSourceMissing:t,obj:a})=>{var l;const{t:r}=Object(y.useTranslation)(),o=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.name,s=[M.F.factory.Edit,()=>pe(a)],c=Object(D.ed)(a),i=Object(M.sc)(a,Object(A.Hb)(q.SubscriptionModel));return n.createElement(n.Fragment,null,n.createElement(I.k,{className:""},n.createElement(k.Link,{to:i},n.createElement(Y.a,{icon:null,displayName:o,version:null,provider:null}))),e===D.c?n.createElement(I.k,{className:""},n.createElement(M.hb,{kind:"Namespace",title:c,name:c})):null,n.createElement(I.k,{className:ce},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(I.k,{className:ie},t?n.createElement(le.SourceMissingStatus,null):n.createElement(ve,{subscription:a})),n.createElement(I.k,{className:me},null==a.status?"-":n.createElement(M.xb,{timestamp:a.status.lastUpdated})),n.createElement(I.k,{className:de},n.createElement("span",{className:"text-muted"},r("olm~None"))),n.createElement(I.k,{className:M.F.columnClass},n.createElement(M.gb,{resource:a,kind:Object(A.Db)(a),actions:s})))},je=({obj:e,customData:t})=>{const{catalogSources:a,subscriptions:l,activeNamespace:r}=t,o=se(e)?Object(z.c)(l,e):e,s=!E.a(a)&&!Object(le.catalogSourceForSubscription)(a,o)&&!(e=>"packageserver"===e.metadata.name&&"openshift-operator-lifecycle-manager"===e.metadata.namespace)(e);return se(e)?n.createElement(Oe,{activeNamespace:r,catalogSourceMissing:s,obj:e,subscription:o}):n.createElement(Ne,{activeNamespace:r,catalogSourceMissing:s,obj:o})},ye=()=>{const{t:e}=Object(y.useTranslation)();return n.createElement(M.h,{title:e("olm~No Operators found")})},ke=()=>{const{t:e}=Object(y.useTranslation)(),t=Object(U.a)(),a=e("olm~No Operators are available for project {{project}}.",{project:t}),l=e("olm~No Operators are available."),r=n.createElement(n.Fragment,null,n.createElement("div",null,t===D.c?l:a),n.createElement("div",null,n.createElement(y.Trans,{ns:"olm"},"Discover and install Operators from the ",n.createElement("a",{href:"/operatorhub"},"OperatorHub"),".")));return n.createElement(M.h,{title:e("olm~No Operators found")},r)},Se=e=>{var{subscriptions:t,catalogSources:a,data:l}=e,r=oe(e,["subscriptions","catalogSources","data"]);const{t:o}=Object(y.useTranslation)(),s=Object(U.a)(),c={title:o("olm~Name"),sortField:"metadata.name",transforms:[p.a],props:{className:""}},i={title:o("olm~Namespace"),sortFunc:"getOperatorNamespace",transforms:[p.a],props:{className:""}},m={title:o("olm~Managed Namespaces"),sortFunc:"formatTargetNamespaces",transforms:[p.a,b.a],props:{className:ce}},d={title:o("olm~Status"),props:{className:ie}},u={title:o("olm~Last updated"),props:{className:me}},v={title:o("olm~Provided APIs"),props:{className:de}},g={title:"",props:{className:M.F.columnClass}},E=s===D.c,h=n.useMemo(()=>{var e,n;return{catalogoperators:null!==(e=null==a?void 0:a.data)&&void 0!==e?e:[],subscriptions:null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[],activeNamespace:s}},[s,a,t]);return n.createElement("div",{className:"co-installed-operators"},n.createElement(I.j,Object.assign({data:((e,t)=>e.filter(e=>{return a=e,Object(A.Db)(a)===Object(A.Hb)(q.SubscriptionModel)||(t?!Object(B.a)(e)&&Object(B.b)(e):window.SERVER_FLAGS.copiedCSVsDisabled&&e.metadata.namespace===H.e&&s!==H.e?Object(B.a)(e)&&Object(B.b)(e):Object(B.b)(e));var a}))(l,E)},r,{"aria-label":o("olm~Installed Operators"),Header:E?()=>[c,i,m,d,u,v,g]:()=>[c,m,d,u,v,g],Row:je,EmptyMsg:ye,NoDataEmptyMsg:ke,virtualize:!0,customData:h,customSorts:{formatTargetNamespaces:e=>{var t,a;if("Subscription"===e.kind)return o("olm~None");if(Object(B.a)(e))return e.metadata.namespace;const n=null!==(a=null===(t=Object(te.i)(e))||void 0===t?void 0:t.split(","))&&void 0!==a?a:[];switch(n.length){case 0:return o("olm~All Namespaces");case 1:return n[0];default:return o("olm~{{count}} Namespaces",{count:n.length})}},getOperatorNamespace:e=>{const t=Object(te.d)(e);return null!=t?t:Object(D.ed)(e)}}})))},Ce=e=>{const{t:t}=Object(y.useTranslation)(),[a]=Object(S.hc)({group:q.SubscriptionModel.apiGroup,resource:q.SubscriptionModel.plural,verb:"list"}),l=t("olm~Installed Operators"),r=Object(M.Qb)(M.Lb.operators),o=n.createElement(n.Fragment,null,t("olm~Installed Operators are represented by ClusterServiceVersions within this Namespace."),!Object(M.hc)()&&n.createElement(y.Trans,{ns:"olm"}," ","For more information, see the"," ",n.createElement(M.z,{href:r},"Understanding Operators documentation"),". Or create an Operator and ClusterServiceVersion using the"," ",n.createElement(M.z,{href:M.n},"Operator SDK"),"."));return n.createElement(n.Fragment,null,n.createElement(j.a,null,n.createElement("title",null,l)),n.createElement(I.i,Object.assign({},e,{resources:[...!H.f.includes(e.namespace)&&window.SERVER_FLAGS.copiedCSVsDisabled?[{kind:Object(A.Hb)(q.ClusterServiceVersionModel),namespace:H.e,prop:"globalClusterServiceVersions"}]:[],{kind:Object(A.Hb)(q.ClusterServiceVersionModel),namespace:e.namespace,prop:"clusterServiceVersions"},{kind:Object(A.Hb)(q.SubscriptionModel),prop:"subscriptions",namespace:a?void 0:e.namespace,optional:!0},{kind:Object(A.Hb)(q.CatalogSourceModel),prop:"catalogSources",optional:!0}],title:l,flatten:({globalClusterServiceVersions:t,clusterServiceVersions:a,subscriptions:n})=>{var l,r,o;return[...null!==(l=null==t?void 0:t.data)&&void 0!==l?l:[],...null!==(r=null==a?void 0:a.data)&&void 0!==r?r:[],...(null!==(o=null==n?void 0:n.data)&&void 0!==o?o:[]).filter(t=>["",t.metadata.namespace].includes(e.namespace||"")&&g.a(f.a(t,"status.installedCSV")))].filter((e,t,a)=>se(e)||O.a(a.find(({metadata:t})=>{var a,n;return[null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.currentCSV,null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.startingCSV].includes(null==t?void 0:t.name)})))},namespace:e.namespace,ListComponent:Se,helpText:o,textFilter:"cluster-service-version"})))},we=e=>n.createElement(M.c,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2237)).then(e=>e.SyncMarkdownView)},e)),Pe=e=>{var t,a,l,{csv:r,crd:m,required:u}=e,p=oe(e,["csv","crd","required"]);const{t:b}=Object(y.useTranslation)(),v=Object(re.l)(m),[g]=Object($.a)(v),E=null!==(t=p.canCreate)&&void 0!==t?t:null===(l=null===(a=null==g?void 0:g.verbs)||void 0===a?void 0:a.includes)||void 0===l?void 0:l.call(a,"create"),h=n.useMemo(()=>r?`/k8s/ns/${r.metadata.namespace}/${q.ClusterServiceVersionModel.plural}/${r.metadata.name}/${v}/~new`:null,[r,v]);return n.createElement(o.a,null,n.createElement(s.a,null,n.createElement("span",{className:"co-resource-item"},n.createElement(M.hb,{kind:Object(re.l)(m),title:m.name,linkTo:!1,displayName:m.displayName||m.kind}),u&&n.createElement(S.v,{badgeAlt:!0},n.createElement(S.A,{icon:n.createElement(R.f,null),title:b("olm~Required")})))),n.createElement(c.a,null,n.createElement(we,{content:m.description,truncateContent:!0})),E&&h&&n.createElement(M.eb,{model:g,namespace:r.metadata.namespace},n.createElement(i.a,null,n.createElement(k.Link,{to:h},n.createElement(d.a,{className:"co-icon-space-r"}),b("olm~Create instance")))))},Ie=({csv:e,providedAPIs:t})=>{const{t:a}=Object(y.useTranslation)();return n.createElement("div",{className:"co-crd-card-row"},t.length?t.map(t=>n.createElement(Pe,{key:Object(re.l)(t),crd:t,csv:e})):n.createElement("span",{className:"text-muted"},a("olm~No Kubernetes APIs are being provided by this Operator.")))},Me=e=>{const{t:t}=Object(y.useTranslation)(),{initializationResource:a,csv:l}=e,r=null==a?void 0:a.kind,o=Object(A.Db)(a),[s]=Object($.a)(o),[c,i]=Object(T.a)({kind:o,namespaced:!0,isList:!0}),d=Object(S.ic)({group:null==s?void 0:s.apiGroup,resource:null==s?void 0:s.plural,namespace:(null==s?void 0:s.namespaced)?(null==a?void 0:a.metadata.namespace)||l.metadata.namespace:null,verb:"create"});return i&&0===c.length&&d?n.createElement(m.a,{isInline:!0,className:"co-alert",variant:"warning",title:t("olm~{{initializationResourceKind}} required",{initializationResourceKind:r})},n.createElement("p",null,t("olm~Create a {{initializationResourceKind}} instance to use this Operator.",{initializationResourceKind:r})),n.createElement(ne.CreateInitializationResourceButton,{obj:e.csv,initializationResource:a})):null},_e=e=>{var t,a,o,s,c;const{t:i}=Object(y.useTranslation)(),{spec:d,metadata:u,status:p}=e.obj,{subscription:b}=e.customData,v=Object(re.j)(e.obj),{"marketplace.openshift.io/support-workflow":g,"operatorframework.io/initialization-resource":h}=u.annotations||{},f=n.useMemo(()=>{if(h)try{return JSON.parse(h)}catch(e){console.error("Error while parseing CSV initialization resource JSON",e.message)}return null},[h]),O=n.useMemo(()=>{if(g)try{const e=new URL(g);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to support workflow URL",e.message)}return null},[g]),j=Object(ae.b)(null==u?void 0:u.annotations),k=N.a(null===(a=null===(t=null==d?void 0:d.install)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.permissions,"serviceAccountName"),{deprecatedPackage:S,deprecatedChannel:C,deprecatedVersion:P}=Object(Q.d)(b);return n.createElement(n.Fragment,null,n.createElement(M.nb,null),n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-9"},p&&p.phase===K.b.CSVPhaseFailed&&n.createElement(m.a,{isInline:!0,className:"co-alert",variant:"danger",title:i("olm~Operator failed")},p.reason===K.a.CSVReasonCopied?n.createElement(n.Fragment,null,n.createElement(y.Trans,{t:i,ns:"olm"},"This Operator was copied from another namespace. For the reason it failed, see"," ",n.createElement(M.hb,{name:u.name,kind:Object(A.Hb)(q.ClusterServiceVersionModel),namespace:Object(te.d)(e.obj),hideIcon:!0,inline:!0}))):p.message),f&&n.createElement(Me,{initializationResource:f,csv:e.obj}),(S.deprecation||C.deprecation||P.deprecation)&&n.createElement(Q.a,{deprecatedPackage:S,deprecatedChannel:C,deprecatedVersion:P,dismissible:!0}),n.createElement(M.ob,{text:i("olm~Provided APIs")}),n.createElement(Ie,{csv:e.obj,providedAPIs:v}),n.createElement(M.ob,{text:i("olm~Description")}),n.createElement(we,{content:d.description||i("olm~Not available")})),n.createElement("div",{className:"col-sm-3"},n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Provider")),n.createElement("dd",null,d.provider&&d.provider.name?d.provider.name:i("olm~Not available")),O&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Support")),n.createElement("dd",null,n.createElement(M.z,{href:O,text:i("olm~Get support")}))),n.createElement("dt",null,i("olm~Created at")),n.createElement("dd",null,n.createElement(M.xb,{timestamp:u.creationTimestamp}))),j.length>0&&b&&n.createElement(he,{csvPlugins:j,trusted:Object(W.a)(null===(o=null==b?void 0:b.spec)||void 0===o?void 0:o.source)}),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Links")),d.links&&d.links.length>0?d.links.map(e=>n.createElement("dd",{key:e.url,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement(M.z,{href:e.url,text:e.url||"-",additionalClassName:"co-break-all"}))):n.createElement("dd",null,i("olm~Not available"))),n.createElement("dl",{className:"co-clusterserviceversion-details__field"},n.createElement("dt",null,i("olm~Maintainers")),d.maintainers&&d.maintainers.length>0?d.maintainers.map(e=>n.createElement("dd",{key:e.email,style:{display:"flex",flexDirection:"column"}},e.name," ",n.createElement("a",{href:"mailto:"+e.email,className:"co-break-all"},e.email||"-"))):n.createElement("dd",null,i("olm~Not available"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(M.ob,{text:i("olm~ClusterServiceVersion details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(M.lb,{resource:e.obj},n.createElement("dt",null,n.createElement(l.a,{headerContent:n.createElement("div",null,i("olm~Managed Namespaces")),bodyContent:n.createElement("div",null,i("olm~Operands in this Namespace are managed by the Operator.")),maxWidth:"30rem"},n.createElement(r.a,{variant:"plain",className:"details-item__popover-button"},i("olm~Managed Namespaces")))),n.createElement("dd",null,n.createElement(Ee,{obj:e.obj})))),n.createElement("div",{className:"col-sm-6"},n.createElement("dt",null,i("olm~Status")),n.createElement("dd",null,n.createElement(D.cc,{status:p?p.phase:i("olm~Unknown")})),n.createElement("dt",null,i("olm~Status reason")),n.createElement("dd",null,p?p.message:i("olm~Unknown")),!E.a(null===(s=d.install.spec)||void 0===s?void 0:s.deployments)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator Deployments")),d.install.spec.deployments.map(({name:t})=>n.createElement("dd",{key:t},n.createElement(M.hb,{name:t,kind:"Deployment",namespace:Object(te.d)(e.obj)})))),!E.a(k)&&n.createElement(n.Fragment,null,n.createElement("dt",null,i("olm~Operator ServiceAccounts")),k.map(({serviceAccountName:t})=>n.createElement("dd",{key:t,"data-service-account-name":t},n.createElement(M.hb,{name:t,kind:"ServiceAccount",namespace:Object(te.d)(e.obj)})))),n.createElement("dt",null,i("olm~OperatorGroup")),n.createElement("dd",null,Object(te.c)(e.obj)?n.createElement(M.hb,{name:Object(te.c)(e.obj),namespace:Object(te.d)(e.obj),kind:Object(A.Hb)(q.OperatorGroupModel)}):"-"))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(M.ob,{text:i("olm~Conditions")}),n.createElement(w.b,{conditions:(null!==(c=null==p?void 0:p.conditions)&&void 0!==c?c:[]).map(e=>Object.assign(Object.assign({},e),{type:e.phase,status:"True"})),type:w.a.ClusterServiceVersion})))},Te=e=>{var{obj:t,customData:a}=e,l=oe(e,["obj","customData"]);const{t:r}=Object(y.useTranslation)(),{subscription:o,subscriptions:s,subscriptionsLoaded:c,subscriptionsLoadError:i}=null!=a?a:{};return n.createElement(M.wb,{EmptyMsg:()=>n.createElement(M.h,{title:r("olm~No Operator Subscription")},r("olm~This Operator will not receive updates.")),loaded:c,loadError:i,data:o},n.createElement(le.SubscriptionDetails,Object.assign({},l,{obj:o,clusterServiceVersions:[t],subscriptions:s})))},xe=e=>{const{t:t}=Object(y.useTranslation)(),a=Object(k.useParams)(),l=Object(k.useLocation)(),[r,o,s]=Object(J.a)(a.name,a.ns),c=Object(te.d)(r),[i,m,d]=Object(T.a)(c?{isList:!0,groupVersionKind:Object(C.getGroupVersionKindForModel)(q.SubscriptionModel),namespace:c,optional:!0}:null),[u]=Object(S.hc)({group:null===q.InstallPlanModel||void 0===q.InstallPlanModel?void 0:q.InstallPlanModel.apiGroup,resource:null===q.InstallPlanModel||void 0===q.InstallPlanModel?void 0:q.InstallPlanModel.plural,verb:"list"}),p=n.useMemo(()=>(null!=i?i:[]).find(e=>{var t;return e.status.installedCSV===(null===(t=null==r?void 0:r.metadata)||void 0===t?void 0:t.name)}),[r,i]),b=n.useCallback(p?()=>[ue(p),pe(p,r)]:()=>[M.F.factory.Delete(q.ClusterServiceVersionModel,r)],[p]),{deprecatedPackage:v}=Object(Q.d)(p),g=n.useCallback(e=>{const t=Object(re.j)(e);return[M.mc.details(_e),M.mc.editYaml(),{href:"subscription",nameKey:"olm~Subscription",component:Te},M.mc.events(P.ResourceEventStream),...t.length>1?[{href:"instances",nameKey:"olm~All instances",component:ee.ProvidedAPIsPage}]:[],...t.map(t=>({href:Object(re.l)(t),name:["Details","YAML","Subscription","Events"].includes(t.displayName)?t.displayName+" Operand":t.displayName||t.kind,component:ee.ProvidedAPIPage,pageData:{csv:e,kind:Object(re.l)(t)}}))]},[]);return n.createElement(I.a,Object.assign({},e,{obj:{data:r,loaded:o,loadError:s},customData:{subscriptions:i,subscription:p,subscriptionsLoaded:m,subscriptionsLoadError:d},breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:Object(_.b)(a)},{name:t("olm~Operator details"),path:l.pathname}],resources:[{kind:Object(A.Hb)(q.PackageManifestModel),isList:!0,prop:"packageManifests"},Object.assign({kind:Object(A.Hb)(q.InstallPlanModel),isList:!0,prop:"installPlans"},u?{}:{namespace:c})],icon:({obj:e})=>{var t,a,l,r,o;return n.createElement(Y.a,{displayName:null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.displayName,icon:null===(l=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.icon)||void 0===l?void 0:l[0],provider:null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.provider,version:null===(o=null==e?void 0:e.spec)||void 0===o?void 0:o.version,deprecation:v.deprecation})},namespace:a.ns,kind:Object(A.Hb)(q.ClusterServiceVersionModel),name:a.name,pagesFor:g,menuActions:b,createRedirect:!0}))};Se.displayName="ClusterServiceVersionList",Ce.displayName="ClusterServiceVersionsPage",Oe.displayName="ClusterServiceVersionTableRow",Pe.displayName="CRDCard",xe.displayName="ClusterServiceVersionsDetailsPage",_e.displayName="ClusterServiceVersionDetails",Te.displayName="CSVSubscription"},4386:function(e,t,a){"use strict";a.r(t),a.d(t,"catalogSourceForSubscription",(function(){return x})),a.d(t,"installedCSVForSubscription",(function(){return A})),a.d(t,"packageForSubscription",(function(){return D})),a.d(t,"installPlanForSubscription",(function(){return V})),a.d(t,"SourceMissingStatus",(function(){return F})),a.d(t,"SourceUnhealthyStatus",(function(){return R})),a.d(t,"UpgradeApprovalLink",(function(){return U})),a.d(t,"SubscriptionStatus",(function(){return $})),a.d(t,"SubscriptionTableRow",(function(){return H})),a.d(t,"SubscriptionsList",(function(){return q})),a.d(t,"SubscriptionsPage",(function(){return z})),a.d(t,"SubscriptionDetails",(function(){return J})),a.d(t,"SubscriptionUpdates",(function(){return Y})),a.d(t,"SubscriptionDetailsPage",(function(){return Q}));var n=a(0),l=a(80),r=a(19),o=a(353),s=a(874),c=a(615),i=a(54),m=a(18),d=a(22),u=a(16),p=a(489),b=a(7),v=a(14),g=a(13),E=a(83),h=a(972),f=a(40),O=a(5),N=a(983),j=a(8),y=a(15),k=a(125),S=a(146),C=a(2241),w=a(5737),P=a(6177),I=a(6178),M=a(6037),_=a(2235),T=a(1405);const x=(e=[],t)=>e.find(e=>{var a,n,l,r;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.source)&&(null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.namespace)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.sourceNamespace)}),A=(e=[],t)=>e.find(e=>{var a,n;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installedCSV)}),D=(e=[],t)=>e.find(e=>{var a,n,l,r,o,s,c,i;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.name)&&(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.packageName)===(null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.name)&&(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.catalogSource)===(null===(s=null==t?void 0:t.spec)||void 0===s?void 0:s.source)&&(null===(c=null==e?void 0:e.status)||void 0===c?void 0:c.catalogSourceNamespace)===(null===(i=null==t?void 0:t.spec)||void 0===i?void 0:i.sourceNamespace)}),V=(e=[],t)=>e.find(e=>{var a,n,l;return(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name)===(null===(l=null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.installPlanRef)||void 0===l?void 0:l.name)}),F=()=>{const{t:e}=Object(b.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(y.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource not found")))},R=()=>{const{t:e}=Object(b.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(y.rc,{title:e("olm~Cannot update")}),n.createElement("span",{className:"text-muted"},e("olm~CatalogSource unhealthy")))},L=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",O.F.columnClass],U=({subscription:e})=>{const{t:t}=Object(b.useTranslation)(),a=Object(O.uc)(k.InstallPlanModel,e.status.installPlanRef.name,e.metadata.namespace);return n.createElement("span",{className:"co-icon-and-text"},n.createElement(v.Link,{to:a},n.createElement(y.n,null)," ",t("olm~Upgrade available")))},$=({subscription:e})=>{var t;const{t:a}=Object(b.useTranslation)();switch(null===(t=e.status)||void 0===t?void 0:t.state){case S.g.SubscriptionStateUpgradeAvailable:return n.createElement("span",null,n.createElement(y.tc,null)," ",a("olm~Upgrade available"));case S.g.SubscriptionStateUpgradePending:return Object(C.b)(e)&&e.status.installPlanRef?n.createElement(U,{subscription:e}):n.createElement("span",null,n.createElement(s.a,{className:"text-primary"})," ",a("olm~Upgrading"));case S.g.SubscriptionStateAtLatest:return n.createElement("span",null,n.createElement(y.X,null)," ",a("olm~Up to date"));default:return n.createElement("span",{className:d.a(e.status.state)?"text-muted":""},e.status.state||a("olm~Unknown failure"))}},G=[O.F.factory.Edit,(e,t)=>({labelKey:"olm~Remove Subscription",callback:()=>Object(M.a)({k8sKill:j.lb,k8sGet:j.kb,k8sPatch:j.pb,subscription:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}),(e,t)=>{const a=u.a(t,"status.installedCSV");return{labelKey:"olm~View ClusterServiceVersion...",href:`/k8s/ns/${t.metadata.namespace}/${k.ClusterServiceVersionModel.plural}/${a}`,hidden:!a}}],H=({obj:e})=>{const{t:t}=Object(b.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(f.k,{className:L[0]},n.createElement(O.hb,{kind:Object(j.Hb)(k.SubscriptionModel),name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(f.k,{className:L[1]},n.createElement(O.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(f.k,{className:L[2]},n.createElement($,{subscription:e})),n.createElement(f.k,{className:m(L[3],"co-truncate","co-select-to-copy")},e.spec.channel||"default"),n.createElement(f.k,{className:L[4]},e.spec.installPlanApproval||t("olm~Automatic")),n.createElement(f.k,{className:L[5]},n.createElement(O.gb,{actions:G,kind:Object(j.Hb)(k.SubscriptionModel),resource:e})))},q=Object(_.f)(e=>{const{t:t}=Object(b.useTranslation)();return n.createElement(f.j,Object.assign({},e,{"aria-label":t("olm~Operator Subscriptions"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:L[0]}},{title:t("olm~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:L[1]}},{title:t("olm~Status"),props:{className:L[2]}},{title:t("olm~Update channel"),props:{className:L[3]}},{title:t("olm~Update approval"),props:{className:L[4]}},{title:"",props:{className:L[5]}}],Row:H,EmptyMsg:()=>n.createElement(O.h,{title:t("olm~No Subscriptions found")},t("olm~Each Namespace can subscribe to a single channel of a package for automatic updates.")),virtualize:!0}))}),z=e=>{const{t:t}=Object(b.useTranslation)();return n.createElement(f.i,Object.assign({},e,{resources:[{kind:Object(j.Hb)(k.SubscriptionModel),namespace:e.namespace,namespaced:!0,prop:"subscription"},{kind:Object(j.Hb)(k.OperatorGroupModel),namespace:e.namespace,namespaced:!0,prop:"operatorGroup"}],flatten:e=>u.a(e.subscription,"data",[]),title:t("olm~Subscriptions"),canCreate:!0,createProps:{to:"/operatorhub"},createButtonText:t("olm~Create Subscription"),ListComponent:q,filterLabel:t("olm~Subscriptions by package")}))},K=({health:e,source:t,sourceNamespace:a})=>{const{t:r}=Object(b.useTranslation)();return e?e.healthy?null:n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource unhealthy")},r('olm~This operator cannot be updated. CatalogSource "{{source}}" is unhealthy.',{source:t}),n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(E.getGroupVersionKindForModel)(k.CatalogSourceModel),name:t,namespace:a,title:t})):n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"warning",title:r("olm~CatalogSource health unknown")},r('olm~This operator cannot be updated. The health of CatalogSource "{{source}}" is unknown. It may have been disabled or removed from the cluster.',{source:t}),t&&a&&n.createElement(O.hb,{displayName:r("olm~View CatalogSource"),groupVersionKind:Object(E.getGroupVersionKindForModel)(k.CatalogSourceModel),name:t,namespace:a,title:t}))},W=({installPlan:e})=>{var t,a,r;const{t:o}=Object(b.useTranslation)(),s=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.phase,c=null===(r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===r?void 0:r.find(({type:e,status:t})=>"Installed"===e&&"False"===t),i=(null==c?void 0:c.message)||(null==c?void 0:c.reason)||o("olm~InstallPlan failed");return s===S.f.InstallPlanPhaseFailed?n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:"danger",title:s},i):null},B=({healthy:e})=>{const{t:t}=Object(b.useTranslation)();switch(e){case!0:return n.createElement(g.A,{icon:n.createElement(y.X,null),title:t("olm~Healthy")});case!1:return n.createElement(g.A,{icon:n.createElement(y.Mb,null),title:t("olm~Unhealthy")});default:return n.createElement(g.A,{icon:n.createElement(y.tc,null),title:t("olm~Health unknown")})}},J=({clusterServiceVersions:e=[],installPlans:t=[],obj:a,packageManifests:l=[],subscriptions:r=[]})=>{var o,s,c,i;const{t:m}=Object(b.useTranslation)(),{source:d,sourceNamespace:u}=null!==(o=null==a?void 0:a.spec)&&void 0!==o?o:{},v=null===(c=null===(s=null==a?void 0:a.status)||void 0===s?void 0:s.catalogHealth)||void 0===c?void 0:c.find(e=>e.catalogSourceRef.name===d),E=A(e,a),f=V(t,a),S=D(l,a);new URLSearchParams(window.location.search).has("showDelete")&&Object(M.a)({k8sKill:j.lb,k8sGet:j.kb,k8sPatch:j.pb,subscription:a}).result.then(()=>Object(N.c)("showDelete")).catch(p.a);const{deprecatedPackage:C,deprecatedChannel:P,deprecatedVersion:I}=Object(w.d)(a);return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(K,{health:v,source:d,sourceNamespace:u}),n.createElement(W,{installPlan:f}),(C.deprecation||P.deprecation||I.deprecation)&&n.createElement(w.a,{deprecatedPackage:C,deprecatedChannel:P,deprecatedVersion:I,dismissible:!0}),n.createElement(O.ob,{text:m("olm~Subscription details")}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement(Y,{catalogHealth:v,pkg:S,obj:a,installedCSV:E,installPlan:f,subscriptions:r})),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(O.lb,{resource:a,showAnnotations:!1})),n.createElement("div",{className:"col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",null,m("olm~Installed version")),n.createElement("dd",null,E?n.createElement(O.hb,{kind:Object(j.Hb)(k.ClusterServiceVersionModel),name:Object(y.dd)(E),namespace:Object(y.ed)(E),title:Object(y.dd)(E)}):m("olm~None")),n.createElement("dt",null,m("olm~Starting version")),n.createElement("dd",null,a.spec.startingCSV||m("olm~None")),n.createElement("dt",null,m("olm~CatalogSource")),n.createElement("dd",null,d&&u?n.createElement(O.hb,{kind:Object(j.Hb)(k.CatalogSourceModel),name:d,namespace:u,title:d},n.createElement(g.v,{badgeAlt:!0},n.createElement(B,{healthy:null==v?void 0:v.healthy}))):m("olm~None")),n.createElement("dt",null,m("olm~InstallPlan")),n.createElement("dd",null,f?n.createElement(O.hb,{kind:Object(j.Hb)(k.InstallPlanModel),name:Object(y.dd)(f),namespace:Object(y.ed)(f),title:Object(y.dd)(f)}):m("olm~None"))))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(O.ob,{text:m("olm~Conditions")}),n.createElement(h.b,{conditions:null===(i=null==a?void 0:a.status)||void 0===i?void 0:i.conditions})))},X=({catalogHealth:e,subscription:t})=>e?e.healthy?n.createElement($,{subscription:t}):n.createElement(R,null):n.createElement(F,null),Y=({catalogHealth:e,installedCSV:t,installPlan:a,obj:l,pkg:s,subscriptions:i})=>{var m,d,u,p,g;const{t:E}=Object(b.useTranslation)(),h=n.useRef(null===(m=null==l?void 0:l.spec)||void 0===m?void 0:m.installPlanApproval),f=n.useRef(null===(d=null==l?void 0:l.spec)||void 0===d?void 0:d.channel),[N,C]=n.useState(!1);n.useEffect(()=>{var e,t,a,n;N&&(null===(e=null==l?void 0:l.spec)||void 0===e?void 0:e.channel)===f.current&&(null===(t=null==l?void 0:l.spec)||void 0===t?void 0:t.installPlanApproval)===h.current||(C(!1),f.current=null===(a=null==l?void 0:l.spec)||void 0===a?void 0:a.channel,h.current=null===(n=null==l?void 0:l.spec)||void 0===n?void 0:n.installPlanApproval)},[l,N]);const M=(e,t)=>Object(j.rb)(e,t).then(()=>C(!0)),_=n.useMemo(()=>{var e;if(a)switch(null===(e=a.status)||void 0===e?void 0:e.phase){case S.f.InstallPlanPhaseRequiresApproval:return n.createElement("span",{"data-test":"operator-subscription-requires-approval"},E("olm~1 requires approval"));case S.f.InstallPlanPhaseFailed:return E("olm~1 failed");default:return E("olm~1 installing")}return null},[a,E]),x=Object(T.f)(i,l.metadata.namespace),{deprecatedChannel:A}=Object(w.d)(l);return n.createElement("div",{className:"co-detail-table"},n.createElement("div",{className:"co-detail-table__row row"},n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},E("olm~Update channel"),n.createElement(O.B,null,E("olm~The channel to track and receive the updates from."))),n.createElement("dd",null,N?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(I.a)({subscription:l,pkg:s,k8sUpdate:M}),variant:"link",isDisabled:!s,"data-test":"subscription-channel-update-button"},l.spec.channel||"default",s&&n.createElement(c.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"})),A.deprecation&&n.createElement(w.c,{dataTest:"deprecated-operator-warning-subscription-update-icon",deprecation:A.deprecation}))))),n.createElement("div",{className:"co-detail-table__section col-sm-3"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},E("olm~Update approval"),n.createElement(O.B,null,E("olm~The strategy to determine either manual or automatic updates."))),n.createElement("dd",null,N?n.createElement(O.T,null):n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(r.a,{type:"button",isInline:!0,onClick:()=>Object(P.a)({obj:l,k8sUpdate:M}),variant:"link"},l.spec.installPlanApproval||"Automatic",n.createElement(c.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))),l.spec.installPlanApproval===S.e.Automatic&&(null==x?void 0:x.length)>0&&n.createElement("div",null,n.createElement(o.a,{headerContent:n.createElement(n.Fragment,null,E("olm~Functioning as manual approval strategy")),bodyContent:n.createElement(T.b,{subscriptions:x,namespace:l.metadata.namespace})},n.createElement(r.a,{type:"button",isInline:!0,variant:"link"},n.createElement(y.o,{className:"co-icon-space-r"}),E("olm~Functioning as manual")))))))),n.createElement("div",{className:"co-detail-table__section co-detail-table__section--last col-sm-6"},n.createElement("dl",{className:"co-m-pane__details"},n.createElement("dt",{className:"co-detail-table__section-header"},E("olm~Upgrade status")),n.createElement("dd",null,n.createElement(X,{catalogHealth:e,subscription:l}))),e&&e.healthy&&n.createElement(n.Fragment,null,n.createElement("div",{className:"co-detail-table__bracket"}),n.createElement("div",{className:"co-detail-table__breakdown"},(null===(u=null==l?void 0:l.status)||void 0===u?void 0:u.installedCSV)&&t?n.createElement(v.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(j.Hb)(k.ClusterServiceVersionModel)}/${l.status.installedCSV}`},E("olm~1 installed")):n.createElement("span",null,E("olm~0 installed")),(null===(p=null==l?void 0:l.status)||void 0===p?void 0:p.state)===S.g.SubscriptionStateUpgradePending&&(null===(g=null==l?void 0:l.status)||void 0===g?void 0:g.installPlanRef)&&a?n.createElement(v.Link,{to:`/k8s/ns/${l.metadata.namespace}/${Object(j.Hb)(k.InstallPlanModel)}/${l.status.installPlanRef.name}`},n.createElement("span",null,_)):n.createElement("span",null,E("olm~0 installing")))))))},Q=e=>{const t=Object(v.useParams)();return n.createElement(f.a,Object.assign({},e,{namespace:t.ns,kind:Object(j.Hb)(k.SubscriptionModel),name:t.name,pages:[O.mc.details(J),O.mc.editYaml()],resources:[{kind:Object(j.Hb)(k.PackageManifestModel),isList:!0,namespace:e.namespace,prop:"packageManifests"},{kind:Object(j.Hb)(k.InstallPlanModel),isList:!0,namespace:e.namespace,prop:"installPlans"},{kind:Object(j.Hb)(k.ClusterServiceVersionModel),namespace:e.namespace,isList:!0,prop:"clusterServiceVersions"},{kind:Object(j.Hb)(k.SubscriptionModel),namespace:e.namespace,isList:!0,prop:"subscriptions"}],menuActions:G}))};z.displayName="SubscriptionsPage",J.displayName="SubscriptionDetails",Q.displayName="SubscriptionDetailsPage"},4388:function(e,t,a){"use strict";a.r(t),a.d(t,"OperandStatus",(function(){return J})),a.d(t,"OperandTableRow",(function(){return Y})),a.d(t,"OperandList",(function(){return Z})),a.d(t,"ProvidedAPIsPage",(function(){return ee})),a.d(t,"ProvidedAPIPage",(function(){return ae})),a.d(t,"OperandDetails",(function(){return le})),a.d(t,"OperandDetailsPage",(function(){return oe}));var n=a(0),l=a(54),r=a(18),o=a(447),s=a(225),c=a(460),i=a(50),m=a(22),d=a(7),u=a(31),p=a(14),b=a(13),v=a(791),g=a(972),E=a(765),h=a(409),f=a(40),O=a(1204),N=a(770),j=a(1202),y=a(1203),k=a(5),S=a(108),C=a(567),w=a(10),P=a(8),I=a(15),M=a(2282),_=a(473),T=a(2311),x=a(6610),A=a(6612),D=a(125),V=a(6085),F=a(6613),R=a(6622),L=a(5759),U=a(5796),$=a(1405),G=a(6354),H=a(5942),q=a(6623),z=a(6244);const K=["","","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-xl"),r("pf-m-hidden","pf-m-visible-on-2xl"),k.F.columnClass],W=e=>{const{phase:t,status:a,state:n,conditions:l}=(null==e?void 0:e.status)||{};if(t&&o.a(t))return{type:"Phase",value:t};if(a&&o.a(a))return{type:"Status",value:a};if(n&&o.a(n))return{type:"State",value:n};const r="object"==typeof l&&!Array.isArray(l)&&null!==l?[l]:l,s=null==r?void 0:r.filter(e=>"True"===e.status);if(null==s?void 0:s.length){const e=s.map(e=>e.type);return{type:1===e.length?"Condition":"Conditions",value:e.join(", ")}}return null},B=e=>{var t,a,n;const l=null!==(n=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a["olm.targetNamespaces"])&&void 0!==n?n:"",r=(null==l?void 0:l.split(","))||[];return 1===r.length&&""===r[0]},J=({operand:e})=>{const t=W(e);if(!t)return n.createElement(n.Fragment,null,"-");const{type:a,value:l}=t;return n.createElement("span",{className:"co-icon-and-text"},a,n.createElement("span",{className:"pf-v5-u-pr-sm"},":")," ","Running"===l?n.createElement(I.dc,{title:l}):n.createElement(I.cc,{status:l}))},X=e=>{const t=W(e);return t?`${t.type}: ${t.value}`:""},Y=({obj:e,showNamespace:t})=>{const a={[Object(P.Db)(e)]:e,"csv-actions":{resource:e}};return n.createElement(n.Fragment,null,n.createElement(f.k,{className:K[0]},n.createElement(H.a,{obj:e})),n.createElement(f.k,{className:r(K[1],"co-break-word"),"data-test-operand-kind":e.kind},e.kind),t&&n.createElement(f.k,{className:K[2]},e.metadata.namespace?n.createElement(k.hb,{kind:"Namespace",title:e.metadata.namespace,name:e.metadata.namespace}):"-"),n.createElement(f.k,{className:K[3]},n.createElement(J,{operand:e})),n.createElement(f.k,{className:K[4]},n.createElement(k.L,{kind:e.kind,labels:e.metadata.labels})),n.createElement(f.k,{className:K[5]},n.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(f.k,{className:K[6]},n.createElement(I.hb,{context:a,isDisabled:s.a(e.metadata,"deletionTimestamp")})))},Q=e=>Object(I.ed)(e),Z=e=>{const{t:t}=Object(d.useTranslation)(),{noAPIsFound:a,showNamespace:r}=e,o={title:t("public~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:K[0]}},s={title:t("public~Kind"),sortField:"kind",transforms:[l.a],props:{className:K[1]}},c={title:t("public~Namespace"),sortFunc:"getOperandNamespace",transforms:[l.a],props:{className:K[2]}},i={title:t("public~Status"),sortFunc:"operandStatus",transforms:[l.a],props:{className:K[3]}},m={title:t("public~Labels"),sortField:"metadata.labels",transforms:[l.a],props:{className:K[4]}},u={title:t("public~Last updated"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:K[5]}},p={title:"",props:{className:K[6]}},b=n.useMemo(()=>{var t,a,n;return null!==(n=null===(a=null===(t=e.data)||void 0===t?void 0:t.map)||void 0===a?void 0:a.call(t,t=>{if(t.apiVersion&&t.kind)return t;const a=e.kinds[0];return Object.assign({apiVersion:Object(P.o)(a),kind:Object(P.tb)(a)},t)}))&&void 0!==n?n:[]},[e.data,e.kinds]);return n.createElement(f.j,Object.assign({},e,{customSorts:{operandStatus:X,getOperandNamespace:Q},data:b,EmptyMsg:()=>a?n.createElement(k.h,{title:t("olm~No provided APIs defined")},t("olm~This application was not properly installed or configured.")):n.createElement(k.h,{title:t("olm~No operands found")},t("olm~Operands are declarative components used to define the behavior of the application.")),"aria-label":"Operands",Header:r?()=>[o,s,c,i,m,u,p]:()=>[o,s,i,m,u,p],Row:e=>n.createElement(Y,Object.assign({},e,{showNamespace:r})),virtualize:!0}))},ee=e=>{var t;const{t:a}=Object(d.useTranslation)(),l=Object(p.useLocation)(),[r]=Object(I.ue)(),[o]=Object(z.a)(),{obj:s,showTitle:m=!0,hideLabelFilter:g=!1,hideNameLabelFilters:E=!1,hideColumnManagement:h=!1}=e,[f,k]=Object(T.a)(),C=Object(p.useNavigate)(),w=Object(u.useDispatch)(),[M,_]=n.useState(!1),x=Object($.j)(s),A=n.useCallback(e=>c.a(e,e=>i.a(e.data,e=>e)).filter(({kind:e,metadata:t},a,n)=>{return x.filter(t=>t.kind===e).length>0||(l=t.ownerReferences||[],r=n,l.filter(({uid:e})=>r.filter(({metadata:t})=>t.uid===e).length>0)).length>0;var l,r}),[x]),D=x.some(e=>{const t=Object($.l)(e),a=f[t];return null==a?void 0:a.namespaced})&&B(s),V=D&&o,F=((e,t,a)=>t.reduce((t,n)=>{const l=Object($.l)(n),r=null==e?void 0:e[l];if(!r)return t;const{apiGroup:o,apiVersion:s,kind:c,namespaced:i}=r;return Object.assign(Object.assign({},t),{[n.kind]:Object.assign({groupVersionKind:{group:o,version:s,kind:c},isList:!0,namespaced:i},i&&a?{namespace:a}:{})})},{}))(f,x,V?null:r),R=Object(S.b)(F),L=!k&&Object.keys(F).length<x.length;n.useEffect(()=>{!M&&L&&(w(Object(v.a)()),_(!0))},[L,M,w]);const U=x.length>1?x.reduce((e,t)=>Object.assign(Object.assign({},e),{[Object($.l)(t)]:t.displayName||t.kind}),{}):{},G=n.useMemo(()=>A(R),[R,A]),H=Object.keys(F).length>1?[{filterGroupName:a("olm~Resource Kind"),type:"clusterserviceversion-resource-kind",reducer:({kind:e})=>e,items:Object.keys(F).map(e=>({id:Object(P.tb)(e),title:Object(P.tb)(e)})),filter:(e,t)=>!(e&&e.selected&&e.selected.length)||e.selected.includes(t.kind)}]:[],[K,W,J]=Object(O.useListPageFilter)(G,H),X=Object.values(R).every(e=>e.loaded),Y=null===(t=Object.values(R).find(e=>e.loadError))||void 0===t?void 0:t.loadError;return k?null:n.createElement(n.Fragment,null,n.createElement(y.default,{title:m?a("olm~All Instances"):void 0},D&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(q.a,null)),n.createElement(N.ListPageCreateDropdown,{onClick:e=>C(l.pathname.replace("instances",e)+"/~new"),items:U},a("olm~Create new"))),n.createElement(b.n,null,n.createElement(j.default,{data:K,loaded:X,rowFilters:H,onFilterChange:J,hideNameLabelFilters:E,hideLabelFilter:g,hideColumnManagement:h}),n.createElement(Z,{data:W,loaded:X,loadError:Y,noAPIsFound:0===Object.keys(F).length,showNamespace:V})))},te=e=>{const{t:t}=Object(d.useTranslation)(),a=Object(p.useLocation)(),[l]=Object(z.a)(),{namespace:r,csv:o,showTitle:s=!0,hideLabelFilter:c=!1,hideNameLabelFilters:i=!1,hideColumnManagement:m=!1}=e,u=a.pathname+"/~new",{apiGroup:v,apiVersion:g,kind:E,namespaced:h,label:f,labelPlural:k}=e.k8sModel,C=h&&B(o),w=C&&l,[P,I,M]=Object(S.a)(Object.assign({groupVersionKind:{group:v,version:g,kind:E},isList:!0,namespaced:h},!w&&h&&r?{namespace:r}:{})),[_,T,x]=Object(O.useListPageFilter)(P);return n.createElement(n.Fragment,null,n.createElement(y.default,{title:s?""+k:void 0},C&&n.createElement("div",{className:"co-operator-details__toggle-value pf-v5-u-ml-xl-on-md"},n.createElement(q.a,null)),n.createElement(N.ListPageCreateLink,{to:u},t("public~Create {{label}}",{label:f}))),n.createElement(b.n,null,n.createElement(j.default,{data:_,loaded:I,onFilterChange:x,hideNameLabelFilters:i,hideLabelFilter:c,hideColumnManagement:m}),n.createElement(Z,{data:T,loaded:I,loadError:M,showNamespace:w})))},ae=e=>{const t=Object(A.a)(e.kind),[a]=Object(I.ue)(),[l,r]=Object(_.a)(e.kind),[o,s]=n.useState(!1),c=Object(u.useDispatch)(),i=!r&&!l;if(n.useEffect(()=>{!o&&i&&(c(Object(v.a)()),s(!0))},[c,o,i]),r&&!l)return null;if(!l)return n.createElement(E.ErrorPage404,null);const{apiGroup:m,apiVersion:d,kind:p}=l;return t?n.createElement(k.c,Object.assign({},e,{name:null,model:{group:m,version:d,kind:p},kind:e.kind,namespace:a,loader:t})):n.createElement(te,Object.assign({},e,{namespace:a,k8sModel:l}))},ne=({kindObj:e,obj:t,podStatusDescriptors:a,schema:l})=>(null==a?void 0:a.length)>0?n.createElement("div",{className:"row"},a.map(a=>n.createElement(F.a,{className:"col-sm-6",key:a.path,type:L.b.status,descriptor:a,model:e,obj:t,schema:l}))):null,le=Object(C.a)(({crd:e,csv:t,kindObj:a,obj:l})=>{var r,o,s,c,i,u,p,b,v,E,h,f;const{t:O}=Object(d.useTranslation)(),{kind:N,status:j}=l,[y,S]=n.useState(null),{displayName:C,specDescriptors:w,statusDescriptors:I,version:_}=null!==(p=[...null!==(s=null===(o=null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.customresourcedefinitions)||void 0===o?void 0:o.owned)&&void 0!==s?s:[],...null!==(u=null===(i=null===(c=null==t?void 0:t.spec)||void 0===c?void 0:c.customresourcedefinitions)||void 0===i?void 0:i.required)&&void 0!==u?u:[]].find(t=>{var n;return t.name===(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)&&t.version===(null==a?void 0:a.apiVersion)}))&&void 0!==p?p:{},T=null!==(f=null===(h=null===(E=null===(v=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.versions)||void 0===v?void 0:v.find(e=>e.name===_))||void 0===E?void 0:E.schema)||void 0===h?void 0:h.openAPIV3Schema)&&void 0!==f?f:Object(P.r)(a),{podStatuses:x,mainStatusDescriptor:A,conditionsStatusDescriptors:D,otherStatusDescriptors:V}=(null!=I?I:[]).reduce((e,t)=>{var a,n,l,r,o;return Object(U.e)(t)?Object.assign(Object.assign({},e),{mainStatusDescriptor:t}):(null===(a=t["x-descriptors"])||void 0===a?void 0:a.includes(L.d.conditions))||"conditions"===t.path?Object.assign(Object.assign({},e),{conditionsStatusDescriptors:[...null!==(n=e.conditionsStatusDescriptors)&&void 0!==n?n:[],t]}):(null===(l=t["x-descriptors"])||void 0===l?void 0:l.includes(L.d.podStatuses))?Object.assign(Object.assign({},e),{podStatuses:[...null!==(r=e.podStatuses)&&void 0!==r?r:[],t]}):Object.assign(Object.assign({},e),{otherStatusDescriptors:[...null!==(o=e.otherStatusDescriptors)&&void 0!==o?o:[],t]})},{});return n.createElement("div",{className:"co-operand-details co-m-pane"},n.createElement("div",{className:"co-m-pane__body"},y&&n.createElement(M.a,{message:y}),n.createElement(k.ob,{text:O("olm~{{kind}} overview",{kind:C||N})}),n.createElement(ne,{kindObj:a,obj:l,schema:T,podStatusDescriptors:x}),n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:l})),A&&n.createElement(F.a,{key:A.path,className:"col-sm-6",descriptor:A,model:a,obj:l,schema:T,type:L.b.status}),(null==V?void 0:V.length)>0&&n.createElement(F.b,{descriptors:V,itemClassName:"col-sm-6",model:a,obj:l,schema:T,type:L.b.status})))),!m.a(w)&&n.createElement("div",{className:"co-m-pane__body"},n.createElement("div",{className:"co-operand-details__section co-operand-details__section--info"},n.createElement("div",{className:"row"},n.createElement(F.b,{descriptors:w,itemClassName:"col-sm-6",model:a,obj:l,onError:e=>S(e.message),schema:T,type:L.b.spec})))),Array.isArray(null==j?void 0:j.conditions)&&(null!=D?D:[]).every(({path:e})=>"conditions"!==e)&&n.createElement("div",{className:"co-m-pane__body","data-test":"status.conditions"},n.createElement(k.ob,{"data-test":"operand-conditions-heading",text:O("public~Conditions")}),n.createElement(g.b,{conditions:j.conditions})),(null==D?void 0:D.length)>0&&D.map(e=>n.createElement(R.a,{key:e.path,descriptor:e,schema:T,obj:l})))}),re=({k8sModel:e})=>{const{t:t}=Object(d.useTranslation)(),a=Object(p.useParams)(),{appName:l,ns:r,name:o,plural:s}=a,c=Object(p.useLocation)(),[i]=Object(V.a)(l,r),m=n.useCallback((e,t)=>{const a={[Object(P.Hb)(e)]:t,"csv-actions":{resource:t}};return n.createElement(I.hb,{context:a,variant:I.i.DROPDOWN})},[]);return n.createElement(f.a,{name:o,kind:s,namespace:r,customData:i,resources:[{kind:w.CustomResourceDefinitionModel.kind,name:Object(P.xb)(e),isList:!1,prop:"crd"}],customActionMenu:m,createRedirect:!0,breadcrumbsFor:()=>[{name:t("olm~Installed Operators"),path:`/k8s/ns/${a.ns}/${D.ClusterServiceVersionModel.plural}`},{name:a.appName,path:c.pathname.slice(0,c.pathname.lastIndexOf("/"))},{name:t("olm~{{item}} details",{item:Object(P.tb)(a.plural)}),path:""+c.pathname}],pages:[k.mc.details(e=>n.createElement(le,Object.assign({},e,{csv:i}))),k.mc.editYaml(),{nameKey:"olm~Resources",href:"resources",component:G.a},k.mc.events(h.ResourceEventStream)]})},oe=e=>{const{plural:t,ns:a,name:l}=Object(p.useParams)(),r=Object(x.a)(t),[o,s]=Object(_.a)(t);if(s&&!o)return null;if(!o)return n.createElement(E.ErrorPage404,null);const{apiVersion:c,apiGroup:i,kind:m}=o;return r?n.createElement(k.c,Object.assign({},e,{model:{group:i,version:c,kind:m},namespace:a,kind:t,name:l,loader:r})):n.createElement(re,Object.assign({},e,{k8sModel:o}))};Z.displayName="OperandList",le.displayName="OperandDetails",ee.displayName="ProvidedAPIsPage",te.displayName="DefaultProvidedAPIPage",ae.displayName="ProvidedAPIPage",re.displayName="DefaultOperandDetailsPage",oe.displayName="OperandDetailsPage",Y.displayName="OperandTableRow",ne.displayName="PodStatuses"},5409:function(e,t,a){"use strict";a.r(t),a.d(t,"getNumberOrPercent",(function(){return p})),a.d(t,"ConfigureUpdateStrategy",(function(){return b})),a.d(t,"ConfigureUpdateStrategyModal",(function(){return v})),a.d(t,"configureUpdateStrategyModal",(function(){return g}));var n=a(141),l=a(16),r=a(0),o=a(88),s=a(7),c=a(8),i=a(10),m=a(118),d=a(5),u=a(692);const p=e=>void 0===e?null:"string"==typeof e&&e.indexOf("%")>-1?e:n.a(e),b=e=>{const{showDescription:t=!0}=e,{t:a}=Object(s.useTranslation)();return r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"co-m-form-row"},r.createElement("p",null,a("public~How should the pods be replaced when a new revision is created?"))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-12"},r.createElement(u.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"RollingUpdate",checked:"RollingUpdate"===e.strategyType,title:a("public~RollingUpdate"),subTitle:a("public~(default)"),autoFocus:"RollingUpdate"===e.strategyType},r.createElement("div",{className:"co-m-radio-desc"},r.createElement("p",{className:"text-muted modal-paragraph"},a("public~Execute a smooth roll out of the new revision, based on the settings below")),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-unavailable",className:"control-label co-break-word"},a("public~Max unavailable"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-unavailable",value:e.maxUnavailable,onChange:t=>e.onChangeMaxUnavailable(t.target.value),"aria-describedby":"input-max-unavailable-help"}),e.replicas&&r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:a("public~Current desired pod count")},r.createElement("span",null,a("public~of pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-unavailable-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be unavailable during the update(optional)")))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-surge",className:"control-label co-break-word"},a("public~Max surge"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-surge",value:e.maxSurge,onChange:t=>e.onChangeMaxSurge(t.target.value),"aria-describedby":"input-max-surge-help"}),r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:a("public~Current desired pod count")},r.createElement("span",null,a("public~greater than pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-surge-help"},a("public~Percentage of total number of pods or the maximum number of pods that can be scheduled above the original number of pods(optional)"))))))),r.createElement("div",{className:"col-sm-12"},r.createElement(u.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"Recreate",checked:"Recreate"===e.strategyType,title:a("public~Recreate"),desc:a("public~Shut down all existing pods before creating new ones"),autoFocus:"Recreate"===e.strategyType}))))},v=Object(d.Oc)(e=>{const[t,a]=r.useState(l.a(e.deployment.spec,"strategy.type")),[n,o]=r.useState(l.a(e.deployment.spec,"strategy.rollingUpdate.maxUnavailable","25%")),[d,u]=r.useState(l.a(e.deployment.spec,"strategy.rollingUpdate.maxSurge","25%")),{t:v}=Object(s.useTranslation)();return r.createElement("form",{onSubmit:a=>{a.preventDefault();const l={path:"/spec/strategy/rollingUpdate",op:"remove"};"RollingUpdate"===t&&(l.value={maxUnavailable:p(n||"25%"),maxSurge:p(d||"25%")},l.op="add");const r=Object(c.pb)(i.DeploymentModel,e.deployment,[l,{path:"/spec/strategy/type",value:t,op:"replace"}]);e.handlePromise(r,e.close)},name:"form",className:"modal-content"},r.createElement(m.d,null,v("public~Edit update strategy")),r.createElement(m.a,null,r.createElement(b,{strategyType:t,maxUnavailable:n,maxSurge:d,onChangeStrategyType:a,onChangeMaxUnavailable:o,onChangeMaxSurge:u,replicas:e.deployment.spec.replicas})),r.createElement(m.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:v("public~Save"),cancel:e.cancel}))}),g=Object(m.f)(v);b.displayName="ConfigureUpdateStrategy"},5411:function(e,t,a){"use strict";a.r(t),a.d(t,"CreateInitializationResourceButton",(function(){return _})),a.d(t,"OperatorInstallStatusPage",(function(){return F}));var n=a(0),l=a(966),r=a(19),o=a(1394),s=a(404),c=a(4341),i=a(80),m=a(192),d=a(296),u=a(137),p=a(7),b=a(14),v=a(13),g=a(976),E=a(2237),h=a(131),f=a(5),O=a(8),N=a(330),j=a(125),y=a(5893),k=a(4384),S=a(59),C=a(1947),w=a(1405);const P=({namespace:e})=>{const{t:t}=Object(p.useTranslation)(),a=t("olm~View installed Operators in Namespace {{namespace}}",{namespace:e}),l=t("olm~View installed Operators in all Namespaces");return n.createElement("div",{className:"co-operator-install-page__link"},n.createElement(b.Link,{"data-test":"view-installed-operators-btn",to:Object(f.uc)(j.ClusterServiceVersionModel,null,e)},e?a:l))},I=({namespace:e,csvName:t,obj:a})=>{var o,s;const{t:c}=Object(p.useTranslation)(),i=null===(s=null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations)||void 0===s?void 0:s[S.d.InitializationResource];return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},c("olm~Operator installation failed")),n.createElement("p",null,c("olm~The operator did not install successfully."),i&&n.createElement(n.Fragment,null," ",c("olm~The required custom resource can be created in the Operator's details view."))),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(b.Link,{to:Object(f.uc)(j.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},c("olm~View error"))),n.createElement(P,{namespace:e})))},M=({namespace:e,subscriptionObj:t,installObj:a,approve:o})=>{var s;const{t:c}=Object(p.useTranslation)(),i=Object(f.Dc)({group:j.InstallPlanModel.apiGroup,resource:j.InstallPlanModel.plural,namespace:e,verb:"patch"}),m="InstallPlan"===a.kind;return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},c("olm~Manual approval required")),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},n.createElement(w.a,{installPlan:a}),(m&&i||!m)&&n.createElement(n.Fragment,null,n.createElement(r.a,{variant:"primary",onClick:o},c("olm~Approve")),n.createElement(b.Link,{to:Object(f.uc)(j.SubscriptionModel,null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.name,e)+"?showDelete=true"},n.createElement(r.a,{className:"co-clusterserviceversion__button",variant:"secondary"},c("olm~Deny")))),!i&&m&&n.createElement(k.NeedInstallPlanPermissions,{installPlan:a}),n.createElement(P,{namespace:e})))},_=({disabled:e,initializationResource:t,obj:a})=>{const{t:l}=Object(p.useTranslation)(),o=Object(O.Db)(t),s=null==t?void 0:t.kind,c=n.createElement(r.a,{"aria-disabled":e,isDisabled:e,variant:"primary"},l("olm~Create {{item}}",{item:s}));return e?c:n.createElement(b.Link,{to:`${Object(f.uc)(j.ClusterServiceVersionModel,a.metadata.name,a.metadata.namespace)}/${o}/~new?useInitializationResource`},c)},T=({initializationResource:e,obj:t})=>{var a,l,r;const{t:o}=Object(p.useTranslation)(),s=null==e?void 0:e.kind,c=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.namespace,i=null===(r=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.annotations)||void 0===r?void 0:r.description;return n.createElement("div",{className:"co-clusterserviceversion__box"},n.createElement("span",{className:"co-resource-item"},n.createElement(f.hb,{kind:s,name:s,namespace:c}),n.createElement(v.v,{badgeAlt:!0},n.createElement(v.A,{icon:n.createElement(N.f,null),title:o("olm~Required")}))),n.createElement(E.SyncMarkdownView,{content:i}))},x=({namespace:e,csvName:t,obj:a})=>{var o;const{t:s}=Object(p.useTranslation)(),c=Object(C.d)(null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations,{onError:e=>Object(h.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},s("olm~Installed operator"),":  ",s(c?"olm~custom resource required":"olm~ready for use")),c&&n.createElement(n.Fragment,null,n.createElement("span",null,s("olm~The Operator has installed successfully. Create the required custom resource to be able to use this Operator.")),n.createElement(T,{initializationResource:c,obj:a})),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},c?n.createElement(_,{initializationResource:c,obj:a}):n.createElement(b.Link,{to:Object(f.uc)(j.ClusterServiceVersionModel,t,e)},n.createElement(r.a,{variant:"primary"},s("olm~View Operator"))),n.createElement(P,{namespace:e})))},A=({namespace:e,obj:t})=>{var a,r,o,s,c;const{t:i}=Object(p.useTranslation)(),m=(null===(r=null===(a=t)||void 0===a?void 0:a.status)||void 0===r?void 0:r.reason)||"",d=(null===(s=null===(o=t)||void 0===o?void 0:o.status)||void 0===s?void 0:s.message)||"",u=Object(C.d)(null===(c=null==t?void 0:t.metadata)||void 0===c?void 0:c.annotations,{onError:e=>Object(h.s)({error:e})});return n.createElement(n.Fragment,null,n.createElement("h2",{className:"co-clusterserviceversion-install__heading"},i("olm~Installing Operator")),m&&n.createElement("p",{className:"text-muted"},m,": ",d),n.createElement("p",null,i("olm~The Operator is being installed. This may take a few minutes."),u&&n.createElement(n.Fragment,null," ",i("olm~Once the Operator is installed the required custom resource will be available for creation."))),u&&n.createElement(T,{initializationResource:u,obj:t}),n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__group--no-top-margin"},u&&n.createElement(_,{disabled:!0,initializationResource:u,obj:t}),n.createElement(P,{namespace:e})))},D=({subscription:e})=>{var t,a,l,r,o;const{t:s}=Object(p.useTranslation)(),c=s("olm~Not found"),{currentCSV:i,catalogNamespace:m,pkg:d}=Object(b.useParams)(),[u,v,E]=Object(g.xb)({groupVersionKind:{group:j.PackageManifestModel.apiGroup,version:j.PackageManifestModel.apiVersion,kind:j.PackageManifestModel.kind},selector:{matchLabels:{"catalog-namespace":m}},fieldSelector:"metadata.name="+d,isList:!0}),h=null==u?void 0:u[0];if(!v)return n.createElement(f.T,null);if(E||!h)return n.createElement(y.a,{icon:null,displayName:E?s("olm~Error: {{loadError}}",{loadError:E}):c});const O=(null===(t=null==h?void 0:h.status)||void 0===t?void 0:t.channels)||[],N=O.find(e=>e.currentCSV===i)||O[0],k=(null===(a=null==N?void 0:N.currentCSVDesc)||void 0===a?void 0:a.displayName)||c,S=(null===(r=null===(l=null==h?void 0:h.status)||void 0===l?void 0:l.provider)||void 0===r?void 0:r.name)||"",C=null===(o=null==e?void 0:e.spec)||void 0===o?void 0:o.startingCSV;return n.createElement(y.a,{displayName:k,icon:Object(w.g)(h),provider:S,version:C})},V=({resources:e})=>{var t,a,l,r,v,g,E,f,y,S,C,w;const{t:P}=Object(p.useTranslation)(),{currentCSV:_,targetNamespace:T}=Object(b.useParams)();let V=!0,F="",R=null===(t=null==e?void 0:e.clusterServiceVersion)||void 0===t?void 0:t.data;const L=null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.data;if(F=null===(l=null==R?void 0:R.status)||void 0===l?void 0:l.phase,R&&F)V=!1;else if(L){V=!1,F=(null===(r=null==L?void 0:L.status)||void 0===r?void 0:r.state)||null;const t=(null===(g=null===(v=null==L?void 0:L.status)||void 0===v?void 0:v.installPlanRef)||void 0===g?void 0:g.name)||"",a=null===(f=null===(E=null==e?void 0:e.installPlans)||void 0===E?void 0:E.data)||void 0===f?void 0:f.find(e=>e.metadata.name===t);a&&(R=a)}const U="Succeeded"===F,$="Failed"===F,G="Manual"===(null===(y=null==R?void 0:R.spec)||void 0===y?void 0:y.approval)&&!1===(null===(S=null==R?void 0:R.spec)||void 0===S?void 0:S.approved),H=()=>{Object(O.pb)(j.InstallPlanModel,R,[{op:"replace",path:"/spec/approved",value:!0}]).catch(e=>{Object(h.s)({error:e.toString()})})};let q=n.createElement(o.a,{size:"lg"});$&&(q=n.createElement(s.a,{size:"lg"},n.createElement(N.f,null))),G&&(q=n.createElement(s.a,{size:"lg"},n.createElement(N.h,null))),U&&(q=n.createElement(s.a,{size:"lg"},n.createElement(N.e,null)));let z=n.createElement(A,{namespace:T,obj:R});return $?z=n.createElement(I,{namespace:T,obj:R,csvName:_}):G?z=n.createElement(M,{namespace:T,subscriptionObj:L,installObj:R,approve:H}):U&&(z=n.createElement(x,{namespace:T,csvName:_,obj:R})),n.createElement(n.Fragment,null,n.createElement("div",{className:"co-operator-install-page__main"},n.createElement(u.a,null,n.createElement("title",null,P("olm~Installing Operator"))),n.createElement(c.a,null,n.createElement("div",{id:"operator-install-page"},V&&n.createElement("div",{className:"co-operator-install-page__indicator"},P("olm~Installing...")," ",n.createElement(o.a,{size:"lg"})),!V&&$&&n.createElement(i.a,{variant:"danger",isInline:!0,title:"Installation Failed"},F,": ",(null===(w=null===(C=R)||void 0===C?void 0:C.status)||void 0===w?void 0:w.message)||""),!V&&n.createElement(m.a,null,n.createElement(d.a,null,n.createElement("div",{className:"co-operator-install-page__pkg-indicator"},n.createElement("div",null,n.createElement(D,{subscription:e.subscription.data})),n.createElement("div",null,q)))),!V&&n.createElement(m.a,null,n.createElement(d.a,null,z))))),!V&&G&&n.createElement(k.InstallPlanPreview,{obj:R,hideApprovalBlock:!0}))},F=()=>{const{pkg:e,currentCSV:t,targetNamespace:a}=Object(b.useParams)(),l=[{kind:Object(O.Hb)(j.ClusterServiceVersionModel),namespaced:!0,isList:!1,name:t,namespace:a,prop:"clusterServiceVersion"},{kind:Object(O.Hb)(j.SubscriptionModel),namespaced:!0,isList:!1,name:e,namespace:a,optional:!0,prop:"subscription"},{kind:Object(O.Hb)(j.InstallPlanModel),prop:"installPlans",namespaced:!0,namespace:a,isList:!0,optional:!0}];return n.createElement(f.C,{resources:l},n.createElement(V,null))}},5417:function(e,t,a){"use strict";a.r(t),a.d(t,"CloudServiceTokenWarningAlert",(function(){return G})),a.d(t,"OperatorHubSubscribeForm",(function(){return q})),a.d(t,"OperatorHubSubscribePage",(function(){return K}));var n=a(0),l=a(80),r=a(1939),o=a(281),s=a(472),c=a(966),i=a(19),m=a(501),d=a(22),u=a(460),p=a(1120),b=a(838),v=a(107),g=a(373),E=a(2015),h=a(137),f=a(7),O=a(14),N=a(692),j=a(5),y=a(108),k=a(175),S=a(10),C=a(8),w=a(994),P=a(30),I=a(125),M=a(146),_=a(2241),T=a(6624),x=a(5893),A=a(4385),D=a(5737),V=a(6120),F=a(1405),R=a(2235),L=a(6355),U=a(1947),$=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};const G=({title:e,message:t,onClose:a})=>n.createElement(l.a,{isInline:!0,variant:"warning",title:e,actionClose:n.createElement(r.a,{onClose:()=>a(!1)}),className:"pf-u-mb-lg"},n.createElement("p",null,t)),H=({label:e,helpText:t,placeholder:a,ariaLabel:l,value:r,setValue:s})=>n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},e),n.createElement(j.B,null,t),n.createElement("div",{className:"co-toolbar__item"},n.createElement(o.a,{autoFocus:!0,placeholder:a,"aria-label":l,type:"text",value:r,onChange:(e,t)=>{s(t)}})))),q=e=>{var t,a,r,o,q,z,K,W,B,J,X,Y,Q,Z,ee,te,ae,ne,le,re,oe,se,ce;const ie=null===(a=null===(t=e.packageManifest)||void 0===t?void 0:t.data)||void 0===a?void 0:a[0],{name:me}=null!==(r=null==ie?void 0:ie.metadata)&&void 0!==r?r:{},{provider:de,channels:ue=[],packageName:pe,catalogSource:be,catalogSourceNamespace:ve}=null!==(o=null==ie?void 0:ie.status)&&void 0!==o?o:{},{pathname:ge}=Object(O.useLocation)(),[Ee,he]=n.useState(""),[fe,Oe]=n.useState(""),[Ne,je]=n.useState(""),[ye,ke]=n.useState(""),[Se,Ce]=n.useState(""),[we,Pe]=n.useState(""),[Ie,Me]=n.useState(""),[_e,Te]=n.useState(""),[xe,Ae]=n.useState(null),[De,Ve]=n.useState(null),{catalogNamespace:Fe,channel:Re,pkg:Le,tokenizedAuth:Ue,version:$e}=Object(j.Ub)(),Ge=Object(F.d)(ie),[He,qe]=n.useState(Re||Ge),{currentCSVDesc:ze}=null!==(q=ue.find(e=>e.name===He))&&void 0!==q?q:{},{installModes:Ke=[],version:We}=null!=ze?ze:{},[Be,Je]=n.useState($e||We),[Xe,Ye]=n.useState(!0),[Qe,Ze]=n.useState(Be!==We?M.e.Manual:M.e.Automatic),[et,tt]=n.useState(!1),[at,nt]=n.useState(!1),[lt,rt]=n.useState(!0),[ot,st]=n.useState(!0),ct=(null===(W=null===(K=null===(z=null==ie?void 0:ie.metadata)||void 0===z?void 0:z.labels)||void 0===K?void 0:K.provider)||void 0===W?void 0:W.includes("Red Hat"))&&"true"===(null===(B=ze.annotations)||void 0===B?void 0:B["console.openshift.io/operator-monitoring-default"]),[it,mt]=n.useState(ct),[dt,ut]=n.useState(""),[pt]=Object(y.a)({kind:Object(C.Hb)(S.ConsoleOperatorConfigModel),isList:!1,name:P.p}),[bt,vt]=n.useState([]),{t:gt}=Object(f.useTranslation)(),{deprecatedPackage:Et,deprecatedChannel:ht,deprecatedVersion:ft,setDeprecatedPackage:Ot}=Object(V.a)(),Nt=(null==Et?void 0:Et.deprecation)||(null==ht?void 0:ht.deprecation)||(null==ft?void 0:ft.deprecation);n.useEffect(()=>{Ot(m.a(null==ie?void 0:ie.status,"deprecation"))},[null==ie?void 0:ie.status,Ot]);const jt=new URLSearchParams({"details-item":`${new URLSearchParams(window.location.search).get("pkg")}-${new URLSearchParams(window.location.search).get("catalogNamespace")}`}),yt=De||Object(F.n)(e.packageManifest.data[0])(He).reduce((e,t)=>t.type===M.d.InstallModeTypeAllNamespaces?M.d.InstallModeTypeAllNamespaces:e,M.d.InstallModeTypeOwnNamespace),kt=null===(J=ze.annotations)||void 0===J?void 0:J["operatorframework.io/suggested-namespace"],St=null!==(X=Object(U.g)(ze.annotations,{onError:()=>console.error("Could not parse JSON annotation.")}))&&void 0!==X?X:{},Ct=null===(Y=null==St?void 0:St.metadata)||void 0===Y?void 0:Y.name,wt="true"===(null===(Q=ze.annotations)||void 0===Q?void 0:Q["operatorframework.io/cluster-monitoring"]),Pt=Object(U.d)(ze.annotations,{onError:()=>console.error("Operator Hub Subscribe: Could not get initialization resource.")}),It=Object(k.d)({group:S.ConsoleOperatorConfigModel.apiGroup,resource:S.ConsoleOperatorConfigModel.plural,verb:"patch",name:P.p}),Mt=Object(U.b)(null==ze?void 0:ze.annotations),_t=n.useMemo(()=>Pt?Object(C.Db)(Pt):null,[Pt]),Tt=(null===(te=null===(ee=((null===(Z=e.operatorGroup)||void 0===Z?void 0:Z.data)||[]).find(e=>"global-operators"===e.metadata.name))||void 0===ee?void 0:ee.metadata)||void 0===te?void 0:te.namespace)||"openshift-operators";let xt=xe||e.targetNamespace;const At=Ct||kt;yt===M.d.InstallModeTypeAllNamespaces&&(xt=At?xe||At:xe||Tt),yt===M.d.InstallModeTypeOwnNamespace&&e.targetNamespace===Tt&&(xt=xe||"");const Dt=At&&At===xt,Vt=!lt&&Dt;n.useEffect(()=>{At?(Ae(At),Object(C.kb)(S.NamespaceModel,At).then(()=>{nt(!0),rt(!1)}).catch(()=>{nt(!1),rt(!1)})):rt(!1)},[At]),n.useEffect(()=>{Object(C.ob)(I.PackageManifestModel,{ns:xt,fieldSelector:"metadata.name="+me,labelSelector:Object(w.a)([{key:"catalog",operator:"Equals",values:[be]},{key:"catalog-namespace",operator:"Equals",values:[ve]}])}).then(e=>tt(d.a(e))).catch(()=>tt(!0))},[be,ve,me,e.packageManifest.data,xt]),n.useEffect(()=>{vt(Object(_.a)(be)?Mt:[])},[be,null===(ae=null==ze?void 0:ze.annotations)||void 0===ae?void 0:ae["console.openshift.io/plugins"]]);const Ft=Object(F.f)(e.subscription.data,xt);n.useEffect(()=>{$e!==We||(null==Ft?void 0:Ft.length)>0||"AWS"===Ue||"Azure"===Ue||"GCP"===Ue?Ze(M.e.Manual):Ze(M.e.Automatic)},[$e,We,null==Ft?void 0:Ft.length,Ue]);const Rt=Ke.find(e=>e.type===M.d.InstallModeTypeOwnNamespace),Lt=Rt&&Rt.supported,Ut=Ke.find(e=>e.type===M.d.InstallModeTypeAllNamespaces),$t=Ut&&Ut.supported,Gt=n.useCallback(e=>{j.Vb.push(`/operatorhub/install/${Fe}/${Le}/${e}/to/${xt}`)},[Fe,Le,xt]);if(!Lt&&!$t)return n.createElement(j.h,{title:gt("olm~{{item}} can't be installed",{item:null===(le=null===(ne=null==ue?void 0:ue[0])||void 0===ne?void 0:ne.currentCSVDesc)||void 0===le?void 0:le.displayName})},gt("olm~The Operator does not support to be made available in a single namespace (OwnNamespace installMode) or global installation (AllNamespaces installMode).  Use the CLI to install this Operator instead."));const Ht=e=>e===M.d.InstallModeTypeAllNamespaces&&$t?gt("olm~Operator will be available in all Namespaces."):e===M.d.InstallModeTypeOwnNamespace&&Lt?gt("olm~Operator will be available in a single Namespace only."):gt("olm~This mode is not supported by this Operator"),qt=t=>Object(R.a)(e.subscription.data)(e.operatorGroup.data)(e.packageManifest.data[0])(t),zt=t=>a=>{const n=e.operatorGroup.data.find(e=>e.metadata.namespace===t);return!n||!t||Object(R.h)([{type:a,supported:!0}])(n)},Kt=t=>{const a=e.operatorGroup.data.filter(e=>{var a,n;return(null===(n=null===(a=e.status)||void 0===a?void 0:a.namespaces)||void 0===n?void 0:n.includes(t))||Object(R.b)(e)});if(d.a(a))return[];const n=u.a(a,R.e),l=Object(F.k)(e.packageManifest.data[0])(He).map(e=>Object(F.l)(e));return p.a(n,l)},Wt=wt&&E.a(xt,"openshift-"),Bt=Object(j.Qb)(j.Lb.configuringMonitoring),Jt=Vt&&n.createElement(n.Fragment,null,n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:at?"warning":"info",title:gt(at?"olm~Namespace already exists":"olm~Namespace creation")},at?n.createElement(f.Trans,{ns:"olm"},"Namespace ",n.createElement("b",null,{operatorSuggestedNamespace:At})," already exists and will be used. Other users can already have access to this namespace."):n.createElement(f.Trans,{ns:"olm"},"Namespace ",n.createElement("b",null,{operatorSuggestedNamespace:At})," does not exist and will be created.")),Wt&&!at&&n.createElement("div",{className:"co-form-subsection"},n.createElement(s.a,{id:"enable-monitoring-checkbox","data-test":"enable-monitoring",label:gt("olm~Enable Operator recommended cluster monitoring on this Namespace"),onChange:(e,t)=>mt(t),isChecked:it,"data-checked-state":it}),!(null===(re=e.packageManifest.data[0].metadata.labels.provider)||void 0===re?void 0:re.includes("Red Hat"))&&n.createElement(l.a,{isInline:!0,className:"co-alert pf-v5-c-alert--top-margin",variant:"warning",title:gt("olm~Namespace monitoring")},n.createElement(n.Fragment,null,gt("olm~Please note that installing non-Red Hat operators into OpenShift namespaces and enabling monitoring voids user support. Enabling cluster monitoring for non-Red Hat operators can lead to malicious metrics data overriding existing cluster metrics."),!Object(j.hc)()&&n.createElement(f.Trans,{ns:"olm"}," ","For more information, see the"," ",n.createElement(j.z,{href:Bt},"cluster monitoring documentation"),"."))))),Xt=n.createElement("div",{className:"form-group"},n.createElement(N.b,{onChange:()=>{st(!0),Ae(At)},value:At,checked:ot,title:gt("olm~Operator recommended Namespace:")}," ",n.createElement(j.fb,{kind:"Project"}),n.createElement("b",null,At)),n.createElement(N.b,{onChange:()=>{st(!1),Ae(null)},value:At,checked:!ot,title:gt("olm~Select a Namespace")}),!ot&&n.createElement(n.Fragment,null,n.createElement(j.W,{id:"dropdown-selectbox",selectedKey:xt,onChange:e=>Ae(e),dataTest:"dropdown-selectbox"}),n.createElement(l.a,{isInline:!0,className:"co-alert pf-v5-c-alert--top-margin",variant:"warning",title:gt("olm~Not installing the Operator into the recommended namespace can cause unexpected behavior.")}))),Yt=n.createElement("div",{className:"form-group"},n.createElement(j.W,{id:"dropdown-selectbox",selectedKey:xt,onChange:e=>Ae(e),dataTest:"dropdown-selectbox"})),Qt=n.createElement(n.Fragment,null,At?n.createElement(n.Fragment,null,Xt):n.createElement(n.Fragment,null,Yt),ot&&Jt),Zt=kt?n.createElement(n.Fragment,null,Xt,ot&&Jt):n.createElement(n.Fragment,null,Yt),ea=Object(F.k)(e.packageManifest.data[0])(He),ta=$e!==We||(null==Ft?void 0:Ft.length)>0;return n.createElement(n.Fragment,null,n.createElement(h.a,null,n.createElement("title",null,"Operator Installation")),n.createElement(j.Z,{title:gt("olm~Install Operator"),breadcrumbs:[{name:gt("olm~OperatorHub"),path:"/operatorhub?"+jt.toString()},{name:gt("olm~Operator Installation"),path:ge}],helpText:gt("olm~Install your Operator by subscribing to one of the update channels to keep the Operator up to date. The strategy determines either manual or automatic updates.")}),n.createElement("div",{className:"co-m-pane__body"},"AWS"===Ue&&Xe&&n.createElement(G,{title:gt("olm~Cluster in STS Mode"),message:gt("olm~This cluster is using AWS Security Token Service to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, you will need to provide a role ARN (with an attached policy) during installation. Manual subscriptions are highly recommended as steps should be taken prior to upgrade to ensure that the permissions required by the next version are properly accounted for in the role. Please see the operator description for more details."),onClose:()=>Ye(!1)}),"Azure"===Ue&&Xe&&n.createElement(G,{title:gt("olm~Cluster in Azure Workload Identity / Federated Identity Mode"),message:gt("olm~This cluster is using Azure Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Client ID, Tenant ID, and Subscription ID during installation. Manual subscriptions are highly recommended as steps should be taken before upgrade to ensure that the permissions required by the next version are properly accounted for in the role. See the operator description for more details."),onClose:()=>Ye(!1)})," ","GCP"===Ue&&Xe&&n.createElement(G,{title:gt("olm~Cluster in GCP Workload Identity / Federated Identity Mode"),message:gt("olm~This cluster is using GCP Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Pool ID, Provider ID, and Service Account Email during installation. Manual subscriptions are highly recommended as steps should be taken before upgrade to ensure that the permissions required by the next version are properly accounted for in the role. See the operator description for more details."),onClose:()=>Ye(!1)}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement(n.Fragment,null,"AWS"===Ue&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~role ARN"),helpText:gt("olm~The role ARN required for the operator to access the cloud API."),placeholder:gt("olm~role ARN"),ariaLabel:gt("olm~role ARN"),value:Ee,setValue:he})),"Azure"===Ue&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~Azure Client ID"),helpText:gt("olm~The Azure Client ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Client ID"),ariaLabel:gt("olm~Azure Client ID"),value:Ne,setValue:je}),n.createElement(H,{label:gt("olm~Azure Tenant ID"),helpText:gt("olm~The Azure Tenant ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Tenant ID"),ariaLabel:gt("olm~Azure Tenant ID"),value:fe,setValue:Oe}),n.createElement(H,{label:gt("olm~Azure Subscription ID"),helpText:gt("olm~The Azure Subscription ID required for the operator to access the cloud API."),placeholder:gt("olm~Azure Subscription ID"),ariaLabel:gt("olm~Azure Subscription ID"),value:ye,setValue:ke})),"GCP"===Ue&&n.createElement("div",{className:"form-group"},n.createElement(H,{label:gt("olm~GCP Project Number"),helpText:gt("olm~The GCP Project Number required for the operator to access the cloud API."),placeholder:gt("olm~GCP Project Number"),ariaLabel:gt("olm~GCP Project Number"),value:Se,setValue:Ce}),n.createElement(H,{label:gt("olm~GCP Pool ID"),helpText:gt("olm~The GCP Pool ID required for the operator to access the cloud API."),placeholder:gt("olm~GCP Pool ID"),ariaLabel:gt("olm~GCP Pool ID"),value:we,setValue:Pe}),n.createElement(H,{label:gt("olm~GCP Provider ID"),helpText:gt("olm~The GCP Provider ID required for the operator to access the cloud API."),placeholder:gt("olm~GCP Provider ID"),ariaLabel:gt("olm~GCP Provider ID"),value:Ie,setValue:Me}),n.createElement(H,{label:gt("olm~Service Account Email"),helpText:gt("olm~The GCP Service Account Email required for the operator to access the cloud API."),placeholder:gt("olm~GCP Service Account Email"),ariaLabel:gt("olm~GCP Service Account Email"),value:_e,setValue:Te})),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Update channel")),n.createElement(j.B,null,gt("olm~The channel to track and receive the updates from.")),n.createElement(L.a,{packageManifest:e.packageManifest.data[0],selectedUpdateChannel:He,setUpdateChannel:qe,setUpdateVersion:Je}))),n.createElement("div",{className:"form-group form-group--doubled-bottom-margin"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Version")),n.createElement(L.b,{packageManifest:e.packageManifest.data[0],selectedUpdateChannel:He,updateVersion:Be,setUpdateVersion:Je,showVersionAlert:!0}))),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Installation mode")),n.createElement(N.b,{onChange:e=>{Ve(e.target.value),Ae(null),tt(!1)},value:M.d.InstallModeTypeAllNamespaces,checked:yt===M.d.InstallModeTypeAllNamespaces,disabled:!$t,title:gt("olm~All namespaces on the cluster"),subTitle:gt("olm~(default)")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},Ht(M.d.InstallModeTypeAllNamespaces)))),n.createElement(N.b,{onChange:e=>{Ve(e.target.value),Ae(ot?At:null),tt(!1)},value:M.d.InstallModeTypeOwnNamespace,checked:yt===M.d.InstallModeTypeOwnNamespace,disabled:!Lt,title:gt("olm~A specific namespace on the cluster")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},Ht(M.d.InstallModeTypeOwnNamespace)))))),n.createElement("div",{className:"form-group form-group--doubled-bottom-margin"},n.createElement("label",{className:"co-required",htmlFor:"dropdown-selectbox"},gt("olm~Installed Namespace")),yt===M.d.InstallModeTypeAllNamespaces&&Qt,yt===M.d.InstallModeTypeOwnNamespace&&Zt),n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},gt("olm~Update approval")),n.createElement(j.B,null,gt("olm~The strategy to determine either manual or automatic updates.")),n.createElement(N.a,{currentValue:Qe,items:[{value:M.e.Automatic,title:gt("olm~Automatic"),disabled:ta},{value:M.e.Manual,title:gt("olm~Manual")}],onChange:e=>{const{value:t}=e.currentTarget;Ze(t),t===M.e.Automatic&&Je(We)}}),Qe===M.e.Automatic&&(null==Ft?void 0:Ft.length)>0&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--margin-top",variant:"info",title:gt("olm~Will function as manual approval strategy")},n.createElement(F.b,{subscriptions:Ft,namespace:xt})),Qe===M.e.Manual&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--margin-top",variant:"info",title:gt("olm~Manual approval applies to all operators in a namespace")},n.createElement(f.Trans,{ns:"olm"},"Installing an operator with manual approval causes all operators installed in namespace ",n.createElement("strong",null,{selectedTargetNamespace:xt})," to function as manual approval strategy and will be updated altogether. Install operators into separate namespaces for handling their updates independently. To allow automatic approval, all operators installed in the namespace must use automatic approval strategy.")))),Mt.length>0&&pt&&It&&n.createElement(T.a,{catalogSource:be,csvPlugins:Mt,enabledPlugins:bt,setPluginEnabled:(e,t)=>{vt(t?[...bt,e]:bt.filter(t=>t!==e))}})),Nt&&n.createElement(D.a,{deprecatedPackage:Et,deprecatedChannel:ht,deprecatedVersion:ft}),n.createElement("div",{className:"co-form-section__separator"}),dt&&n.createElement(l.a,{isInline:!0,className:"co-alert co-alert--scrollable",variant:"danger",title:gt("olm~An error occurred")},n.createElement("div",{className:"co-pre-line"},dt))||!zt(xt)(yt)&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Namespace does not support installation mode")},yt===M.d.InstallModeTypeOwnNamespace&&xt===Tt?n.createElement(n.Fragment,null,gt("olm~The {{namespace}} Namespace is reserved for global Operators that watch all Namespaces. To install an Operator in a single Namespace, select a different Namespace where the operand should run.",{namespace:xt})):n.createElement(n.Fragment,null,gt("olm~The OperatorGroup in the {{namespace}} Namespace does not support the {{mode}} installation mode. Select a different installation Namespace that supports this mode.",{namespace:xt,mode:yt===M.d.InstallModeTypeAllNamespaces?" global ":" single-Namespace "})))||qt(xt)&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt('olm~A Subscription for this Operator already exists in Namespace "{{namespace}}"',{namespace:xt})},n.createElement("p",null,n.createElement(f.Trans,{t:gt,ns:"olm"},"Remove the"," ",n.createElement(O.Link,{to:Object(j.uc)(I.SubscriptionModel,pe,xt)},"existing Subscription")," ","in order to install this Operator in Namespace ",'"',{selectedTargetNamespace:xt},'"')))||!d.a(Kt(xt))&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Operator conflicts exist")},gt("olm~Installing this Operator in the selected Namespace would cause conflicts with another Operator providing these APIs:"),n.createElement("ul",null,Kt(xt).map(e=>n.createElement("li",{key:e},n.createElement("strong",null,Object(C.tb)(e))," ",n.createElement("i",null,"(",Object(C.o)(e),")")))))||xt&&et&&n.createElement(l.a,{isInline:!0,className:"co-alert",variant:"danger",title:gt("olm~Operator not available for selected Namespaces")}),n.createElement(c.a,{className:"pf-v5-c-form"},n.createElement(i.a,{"data-test":"install-operator",onClick:()=>$(void 0,void 0,void 0,(function*(){var t,a,n,l,r;ut("");const o={metadata:{name:xt,labels:wt&&it?{"openshift.io/cluster-monitoring":"true"}:{}}},s=b.a({},o,St),c=xt+"-prometheus",i=null===(a=null===(t=null==ie?void 0:ie.status)||void 0===t?void 0:t.channels)||void 0===a?void 0:a.find(e=>e.name===He),m=null===(l=null===(n=null==i?void 0:i.entries)||void 0===n?void 0:n.find(e=>e.version===Be))||void 0===l?void 0:l.name,d={kind:S.RoleModel.kind,apiVersion:`${S.RoleModel.apiGroup}/${S.RoleModel.apiVersion}`,metadata:{name:c,namespace:xt},rules:[{apiGroups:[""],resources:["services","endpoints","pods"],verbs:["get","list","watch"]}]},u={kind:S.RoleBindingModel.kind,apiVersion:`${S.RoleBindingModel.apiGroup}/${S.RoleBindingModel.apiVersion}`,metadata:{name:c,namespace:xt},roleRef:{kind:"Role",name:c,apiGroup:S.RoleBindingModel.apiGroup},subjects:[{kind:"ServiceAccount",name:"prometheus-k8s",namespace:"openshift-monitoring"}]},p=Object.assign({apiVersion:Object(C.n)(I.OperatorGroupModel),kind:"OperatorGroup",metadata:{generateName:xt+"-",namespace:xt}},yt===M.d.InstallModeTypeAllNamespaces?{}:{spec:{targetNamespaces:[xt]}}),g={apiVersion:Object(C.n)(I.SubscriptionModel),kind:"Subscription",metadata:{name:pe,namespace:xt},spec:{source:be,sourceNamespace:ve,name:pe,startingCSV:m,channel:He,installPlanApproval:Qe}};switch(Ue){case"AWS":g.spec.config={env:[{name:"ROLEARN",value:Ee}]};break;case"Azure":g.spec.config={env:[{name:"CLIENTID",value:Ne},{name:"TENANTID",value:fe},{name:"SUBSCRIPTIONID",value:ye}]};break;case"GCP":g.spec.config={env:[{name:"PROJECT_NUMBER",value:Se},{name:"POOL_ID",value:we},{name:"PROVIDER_ID",value:Ie},{name:"SERVICE_ACCOUNT_EMAIL",value:_e}]}}try{Dt&&!at&&(yield Object(C.jb)(S.NamespaceModel,s),wt&&it&&(yield Object(C.jb)(S.RoleModel,d),yield Object(C.jb)(S.RoleBindingModel,u))),e.operatorGroup.data.some(e=>e.metadata.namespace===xt)||(yield Object(C.jb)(I.OperatorGroupModel,p)),yield Object(C.jb)(I.SubscriptionModel,g);const t=(null===(r=null==pt?void 0:pt.spec)||void 0===r?void 0:r.plugins)||[],a=[...t.filter(e=>!Mt.includes(e)),...bt];!v.a(t.sort(),a.sort())&&It&&(yield Object(C.pb)(S.ConsoleOperatorConfigModel,pt,[{path:"/spec/plugins",value:a,op:"add"}])),Gt(m)}catch(e){ut(e.message||gt("olm~Could not create Operator Subscription."))}})),isDisabled:[He,yt,xt,Qe].some(e=>g.a(e)||d.a(e))||qt(xt)||!zt(xt)(yt)||xt&&et||!d.a(Kt(xt))||"AWS"===Ue&&d.a(Ee)||"Azure"===Ue&&[Ne,fe,ye].some(e=>d.a(e))||"GCP"===Ue&&[Se,we,Ie,_e].some(e=>d.a(e)),variant:"primary"},gt("olm~Install")),n.createElement(i.a,{variant:"secondary",onClick:()=>j.Vb.push("/operatorhub")},gt("public~Cancel")))),n.createElement("div",{className:"col-xs-6"},n.createElement(x.a,{displayName:(null==ze?void 0:ze.displayName)||(null===(se=null===(oe=null==ue?void 0:ue[0])||void 0===oe?void 0:oe.currentCSVDesc)||void 0===se?void 0:se.displayName),icon:Object(F.g)(e.packageManifest.data[0]),provider:de,deprecation:null===(ce=null==ie?void 0:ie.status)||void 0===ce?void 0:ce.deprecation}),n.createElement("h4",null,gt("olm~Provided APIs")),n.createElement("div",{className:"co-crd-card-row"},ea.length?ea.map(e=>n.createElement(A.CRDCard,{key:Object(F.l)(e),canCreate:!1,crd:e,csv:null,required:Object(F.l)(e)===_t})):n.createElement("span",{className:"text-muted"},gt("olm~No Kubernetes APIs are provided by this Operator.")))))))},z=e=>n.createElement(j.wb,{data:e.packageManifest.data[0],loaded:e.loaded,loadError:e.loadError},n.createElement(q,Object.assign({},e))),K=e=>n.createElement(j.C,{resources:[{isList:!0,kind:Object(C.Hb)(I.OperatorGroupModel),prop:"operatorGroup"},{isList:!0,kind:Object(C.Hb)(I.PackageManifestModel),namespace:new URLSearchParams(window.location.search).get("catalogNamespace"),fieldSelector:"metadata.name="+new URLSearchParams(window.location.search).get("pkg"),selector:{matchLabels:{catalog:new URLSearchParams(window.location.search).get("catalog")}},prop:"packageManifest"},{isList:!0,kind:Object(C.Hb)(I.SubscriptionModel),prop:"subscription"}]},n.createElement(z,Object.assign({},e,{targetNamespace:new URLSearchParams(window.location.search).get("targetNamespace")||null})));z.displayName="OperatorHubSubscribe",q.displayName="OperatorHubSubscribeForm",K.displayName="OperatorHubSubscribePage"},5420:function(e,t,a){"use strict";a.r(t),a.d(t,"ExtensionCatalogDatabaseContext",(function(){return l}));var n=a(0);const l=n.createContext({done:!1,error:null});t.default=l.Provider},5452:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a(4358),r=a(688),o=a(137),s=a(7),c=a(5),i=a(59),m=a(7471),d=a(324),u=a(9591);t.default=()=>{const{t:e}=Object(s.useTranslation)("olm-v1"),[t,a,p]=Object(u.a)(),[b]=Object(d.useActiveNamespace)(),v=(null!=(g=t)?g:[]).map(({categories:e,capabilities:t,description:a,displayName:n,icon:l,infrastructureFeatures:r,keywords:o,longDescription:s,name:c,provider:m,source:d,validSubscription:u})=>Object.assign({authentication:null,capabilityLevel:t,catalogSource:"",catalogSourceNamespace:"",categories:e,cloudCredentials:null,description:a||s,infraFeatures:r,infrastructure:null,installed:!1,installState:i.c.NotInstalled,kind:null,longDescription:s||a,name:n||c,obj:null,provider:m,source:d,tags:o,uid:c,validSubscription:u},l?{imgUrl:`data:${l.mediatype};base64,${l.base64data}`}:{}));var g;return n.createElement(l.a,null,n.createElement(r.a,null,n.createElement(o.b,null,n.createElement("title",null,e("Extension Catalog"))),n.createElement(c.Z,{title:e("Extension Catalog")}),n.createElement(c.wb,{skeleton:c.yc,data:v,loaded:!a,loadError:p,label:e("Extension Catalog items"),EmptyMsg:()=>n.createElement(c.h,{title:e("No Extension Catalog items found")},e("Check that OLM v1 is configured and at least one valid ClusterCatalog has been created."))},n.createElement(m.a,{items:v,namespace:b}))))}},5737:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return g}));var n,l=a(0),r=a(88),o=a(351),s=a(6351),c=a(80),i=a(1939),m=a(7),d=a(976);!function(e){e.PackageDeprecated="PackageDeprecated",e.ChannelDeprecated="ChannelDeprecated",e.VersionDeprecated="BundleDeprecated"}(n||(n={}));const u=(e,t)=>{var a,n;return{deprecation:null===(n=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===n?void 0:n.find(e=>e.type===t)}},p=e=>({deprecatedPackage:u(e,n.PackageDeprecated),deprecatedChannel:u(e,n.ChannelDeprecated),deprecatedVersion:u(e,n.VersionDeprecated)}),b=({deprecation:e,className:t})=>{const{t:a}=Object(m.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(o.a,{"data-test":"deprecated-operator-warning-badge",color:"orange",className:t,icon:l.createElement(d.Y,null)},a("olm~Deprecated")))},v=({deprecation:e,dataTest:t})=>{const{t:a}=Object(m.useTranslation)();return l.createElement(r.a,{content:a("olm~Deprecated: {{message}}",{message:null==e?void 0:e.message})},l.createElement(d.Y,{dataTest:t,className:"pf-v5-u-ml-xs"}))},g=({deprecatedPackage:e,deprecatedChannel:t,deprecatedVersion:a,dismissible:n})=>{var r,o,d;const{t:u}=Object(m.useTranslation)(),[p,b]=l.useState(!0);return p&&l.createElement(s.a,{className:"pf-v5-u-my-md"},l.createElement(c.a,{variant:"warning",title:u("olm~Deprecated warnings"),"aria-live":"polite",isInline:!0,actionClose:n&&l.createElement(i.a,{onClose:()=>b(!1)})},l.createElement("div",{"data-test":"deprecated-operator-warning-package"},null===(r=null==e?void 0:e.deprecation)||void 0===r?void 0:r.message),l.createElement("div",{"data-test":"deprecated-operator-warning-channel"},null===(o=null==t?void 0:t.deprecation)||void 0===o?void 0:o.message),l.createElement("div",{"data-test":"deprecated-operator-warning-version"},null===(d=null==a?void 0:a.deprecation)||void 0===d?void 0:d.message)))}},5759:function(e,t,a){"use strict";var n,l,r,o;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return o})),function(e){e.spec="spec",e.status="status"}(n||(n={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.endpointList="urn:alm:descriptor:com.tectonic.ui:endpointList",e.label="urn:alm:descriptor:com.tectonic.ui:label",e.resourceRequirements="urn:alm:descriptor:com.tectonic.ui:resourceRequirements",e.selector="urn:alm:descriptor:com.tectonic.ui:selector:",e.namespaceSelector="urn:alm:descriptor:com.tectonic.ui:namespaceSelector",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.booleanSwitch="urn:alm:descriptor:com.tectonic.ui:booleanSwitch",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.checkbox="urn:alm:descriptor:com.tectonic.ui:checkbox",e.imagePullPolicy="urn:alm:descriptor:com.tectonic.ui:imagePullPolicy",e.updateStrategy="urn:alm:descriptor:com.tectonic.ui:updateStrategy",e.text="urn:alm:descriptor:com.tectonic.ui:text",e.number="urn:alm:descriptor:com.tectonic.ui:number",e.nodeAffinity="urn:alm:descriptor:com.tectonic.ui:nodeAffinity",e.podAffinity="urn:alm:descriptor:com.tectonic.ui:podAffinity",e.podAntiAffinity="urn:alm:descriptor:com.tectonic.ui:podAntiAffinity",e.fieldGroup="urn:alm:descriptor:com.tectonic.ui:fieldGroup:",e.arrayFieldGroup="urn:alm:descriptor:com.tectonic.ui:arrayFieldGroup:",e.select="urn:alm:descriptor:com.tectonic.ui:select:",e.advanced="urn:alm:descriptor:com.tectonic.ui:advanced",e.fieldDependency="urn:alm:descriptor:com.tectonic.ui:fieldDependency:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(l||(l={})),function(e){e.podStatuses="urn:alm:descriptor:com.tectonic.ui:podStatuses",e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.w3Link="urn:alm:descriptor:org.w3:link",e.conditions="urn:alm:descriptor:io.kubernetes.conditions",e.text="urn:alm:descriptor:text",e.prometheusEndpoint="urn:alm:descriptor:prometheusEndpoint",e.k8sPhase="urn:alm:descriptor:io.kubernetes.phase",e.k8sPhaseReason="urn:alm:descriptor:io.kubernetes.phase:reason",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(r||(r={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden",e.password="urn:alm:descriptor:com.tectonic.ui:password"}(o||(o={}))},5796:function(e,t,a){"use strict";a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"e",(function(){return O}));var n=a(5764),l=a(1031),r=a(663),o=a(384),s=a(16),c=a(373),i=a(70),m=a(113),d=a(15),u=a(6015),p=a(5759);const b=(e,t,a,n)=>{const c=Object(d.Gd)(a,`${e}.${t.path}`),i=[e,...l.a(t.path)],m=t.displayName||(null==c?void 0:c.title)||r.a(o.a(i));return{description:(null==t?void 0:t.description)||(null==c?void 0:c.description)||"",displayName:m,fullPath:i,propertySchema:c,value:s.a(n,i,t.value)}},v=e=>e.reduce((e,t)=>{var a,n,l,r,o,s,c,i;if(u.k.test(t.path)||(null===(a=null==t?void 0:t["x-descriptors"])||void 0===a?void 0:a.includes(p.a.hidden)))return e;if(u.g.test(t.path))return(()=>{var a,n,l,r,o,s,c,i,m,d,p,b,v,g,E;const[,h,f]=null!==(a=t.path.match(u.g))&&void 0!==a?a:[],[,O,N]=null!==(n=null==h?void 0:h.match(u.h))&&void 0!==n?n:[];return N?Object.assign(Object.assign({},e),{[O]:Object.assign(Object.assign({},null!==(l=null==e?void 0:e[O])&&void 0!==l?l:{}),{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[O])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[N]:Object.assign(Object.assign(Object.assign({},null!==(i=null===(c=null===(s=null==e?void 0:e[O])||void 0===s?void 0:s.nested)||void 0===c?void 0:c[N])&&void 0!==i?i:{}),{arrayGroupPath:h,isArrayGroup:!0}),f?{nested:Object.assign(Object.assign({},null!==(b=null===(p=null===(d=null===(m=null==e?void 0:e[O])||void 0===m?void 0:m.nested)||void 0===d?void 0:d[N])||void 0===p?void 0:p.nested)&&void 0!==b?b:{}),{[f]:t})}:{elementDescriptor:t})})})}):Object.assign(Object.assign({},e),{[O]:Object.assign(Object.assign(Object.assign({},null!==(v=null==e?void 0:e[O])&&void 0!==v?v:{}),{arrayGroupPath:h,isArrayGroup:!0}),f?{nested:Object.assign(Object.assign({},null!==(E=null===(g=null==e?void 0:e[O])||void 0===g?void 0:g.nested)&&void 0!==E?E:{}),{[f]:t})}:{elementDescriptor:t})})})();const[,m,d]=null!==(n=t.path.match(u.h))&&void 0!==n?n:[];return m?Object.assign(Object.assign({},e),{[m]:Object.assign(Object.assign({},null!==(l=null==e?void 0:e[m])&&void 0!==l?l:{}),d?{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[m])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[d]:Object.assign(Object.assign({},null!==(i=null===(c=null===(s=null==e?void 0:e[m])||void 0===s?void 0:s.nested)||void 0===c?void 0:c[d])&&void 0!==i?i:{}),{descriptor:t})})}:{descriptor:t})}):e},{}),g=e=>l.a(e.path).join("/");function E(e,t){var a;const n=(e=>{switch(e){case"object":return[...u.c,...u.e];case"array":return[...u.c,...u.a];default:return[...u.c,...u.f]}})(t);return(null!==(a=null==e?void 0:e["x-descriptors"])&&void 0!==a?a:[]).filter(a=>{const l="any"===t||n.some(e=>a.startsWith(e));return u.d.some(e=>a.startsWith(e))&&console.warn(`[Deprecated x-descriptor] "${a}" is deprecated and support will be removed in a future release.`,e),!!l||(console.warn(`[Invalid x-descriptor] "${a}" is incompatible with ${t} values and will have no effect`,e),!1)}).sort((e,t)=>{const a=u.b.findIndex(t=>e.startsWith(t)),n=u.b.findIndex(e=>t.startsWith(e));return a<0||n<0?n-a:a-n})}function h(e,t){return E(e,(e=>c.a(e)?"any":i.a(e)?"array":m.a(e)?"object":"primitive")(t))}function f(e,t){return E(e,Object(n.getSchemaType)(t))}const O=e=>"status"===e.path||"Status"===e.displayName},5893:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a(447),r=a(22),o=a(16),s=a(7),c=a(6003),i=a.n(c),m=a(5737);const d=e=>{const{icon:t,displayName:a,provider:c,version:d,deprecation:u}=e,{t:p}=Object(s.useTranslation)(),b=l.a(t)?t:r.a(t)?i.a:`data:${t.mediatype};base64,${t.base64data}`;return n.createElement("div",{className:"co-clusterserviceversion-logo"},n.createElement("div",{className:"co-clusterserviceversion-logo__icon"},n.createElement("span",{className:"co-catalog-item-icon__bg"},n.createElement("img",{className:"co-catalog-item-icon__img co-catalog-item-icon__img--large",src:b,alt:a,"aria-hidden":!0}))),n.createElement("div",{className:"co-clusterserviceversion-logo__name"},n.createElement("h1",{className:"co-clusterserviceversion-logo__name__clusterserviceversion"},a," ",u&&n.createElement(m.b,{className:"pf-v5-u-ml-sm",deprecation:u})),c&&n.createElement("span",{className:"co-clusterserviceversion-logo__name__provider text-muted"},p("olm~{{version}} provided by {{provider}}",{version:d||"",provider:o.a(c,"name",c)}))))}},5942:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return m}));var n=a(0),l=a(18),r=a(14),o=a(5),s=a(8),c=a(125);const i=()=>window.location.pathname.split("/").find((e,t,a)=>a[t-1]===Object(s.Hb)(c.ClusterServiceVersionModel)||a[t-1]===c.ClusterServiceVersionModel.plural),m=e=>{const{namespace:t,name:a}=e.obj.metadata,m=e.csvName||i(),d=Object(s.Db)(e.obj),u=t?`/k8s/ns/${t}/${c.ClusterServiceVersionModel.plural}/${m}/${d}/${a}`:`/k8s/cluster/${d}/${a}`,p=l("co-resource-item",{"co-resource-item--inline":e.inline});return n.createElement("span",{className:p},n.createElement(o.fb,{kind:Object(s.Db)(e.obj)}),n.createElement(r.Link,{to:u,className:"co-resource-item__resource-name",onClick:e.onClick,"data-test-operand-link":a,"data-test":a},a))};m.displayName="OperandLink"},6003:function(e,t,a){e.exports=a.p+"assets/packages/operator-lifecycle-manager/src/operator.svg"},6015:function(e,t,a){"use strict";a.d(t,"j",(function(){return c})),a.d(t,"l",(function(){return i})),a.d(t,"i",(function(){return m})),a.d(t,"g",(function(){return d})),a.d(t,"k",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"e",(function(){return g})),a.d(t,"a",(function(){return E})),a.d(t,"f",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a(2323),l=a(5759);const r=n.a(l.c.k8sResourcePrefix),o=n.a(l.c.fieldDependency),s=n.a(l.c.select),c=new RegExp(`^${r}(?:core[:~]v1[:~])?([^?]*)[?]?(.*)$`),i=new RegExp(s+"(.*)$"),m=new RegExp(`^${o}([^:]*):(.*)$`),d=/^(.*)\[\d+\]\.?(.*)$/,u=/^.*\[\d+\]\.?.*\[\d+\]\.?.*$/,p=/^([^.]*)\.?(.*)$/,b=[l.c.arrayFieldGroup,l.c.fieldGroup,l.c.namespaceSelector,l.c.label],v=[l.c.advanced,l.c.fieldDependency,l.c.hidden,l.c.arrayFieldGroup,l.c.fieldGroup],g=[l.d.podStatuses,l.c.updateStrategy,l.c.nodeAffinity,l.c.podAffinity,l.c.podAntiAffinity,l.c.resourceRequirements,l.c.selector,l.c.label,l.c.namespaceSelector],E=[l.c.endpointList,l.d.conditions],h=[l.d.k8sPhase,l.d.k8sPhaseReason,l.c.k8sResourcePrefix,l.c.imagePullPolicy,l.c.podCount,l.c.select,l.d.w3Link,l.c.booleanSwitch,l.c.checkbox,l.c.password,l.c.text,l.d.text,l.c.number,l.c.label],f=[l.c.hidden,l.c.endpointList,l.d.conditions,l.c.resourceRequirements,l.c.updateStrategy,l.d.podStatuses,l.c.selector,l.c.k8sResourcePrefix,l.c.podCount,l.c.password,l.d.k8sPhaseReason,l.c.booleanSwitch,l.c.checkbox,l.d.w3Link,l.c.select,l.c.imagePullPolicy,l.d.k8sPhase,l.c.text,l.d.text,l.c.number,l.c.podAntiAffinity,l.c.podAffinity,l.c.nodeAffinity,l.c.advanced,l.c.fieldDependency,...b]},6017:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const l=({name:e,label:t,checked:a,onChange:l})=>n.createElement("div",{className:"form-group"},n.createElement("div",{className:"checkbox"},n.createElement("label",{className:"control-label"},n.createElement("input",{"data-test":t+"__checkbox",className:"form-checkbox",name:e,onChange:l,checked:a,"data-checked-state":a,type:"checkbox"}),t)))},6037:function(e,t,a){"use strict";a.d(t,"a",(function(){return $}));var n=a(0),l=a(4357),r=a(80),o=a(50),s=a(7),c=a(77),i=a(697),m=a(53),d=a(109),u=a(6017),p=a(118),b=a(5),v=a(108),g=a(175),E=a(10),h=a(8),f=a(15),O=a(30),N=a(2234),j=a(6176),y=a(197),k=a(474),S=a(125),C=a(5942),w=a(59),P=a(1947),I=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};const M={kind:"DeleteOptions",apiVersion:"v1",propagationPolicy:"Foreground"},_=({cancel:e,close:t,csv:a,k8sKill:l,subscription:r})=>{var o,C,_,A,D,U,$,G,H,q;const{t:z}=Object(s.useTranslation)(),[K,W,B]=Object(N.a)(),[J,X]=n.useState(!0),[Y,Q]=n.useState(!1),[Z,ee]=n.useState(!1),[te,ae]=n.useState(!1),[ne,le]=n.useState(0),[re,oe]=n.useState(!1),[se,ce]=n.useState([]),[ie,me]=n.useState(!1),[de,ue]=n.useState(""),pe=Object(g.d)({group:E.ConsoleOperatorConfigModel.apiGroup,resource:E.ConsoleOperatorConfigModel.plural,verb:"patch",name:O.p}),be=Object(P.b)(null===(o=null==a?void 0:a.metadata)||void 0===o?void 0:o.annotations),[ve]=Object(v.a)(pe&&be.length>0?{kind:Object(h.Hb)(E.ConsoleOperatorConfigModel),isList:!1,name:O.p}:null),ge=be.filter(e=>Object(y.X)(ve,e)),Ee=!!ve&&pe&&ge.length>0,he=null===(C=null==r?void 0:r.spec)||void 0===C?void 0:C.name,fe=null===(_=null==r?void 0:r.metadata)||void 0===_?void 0:_.namespace,Oe=W||te,Ne=!Oe&&(!Z||re)&&Y,je=se.length>0||""!==B,ye="true"===(null===(D=null===(A=null==a?void 0:a.metadata)||void 0===A?void 0:A.annotations)||void 0===D?void 0:D["console.openshift.io/disable-operand-delete"]),[ke,Se,Ce]=Object(j.a)(he,fe),we=n.useCallback(()=>I(void 0,void 0,void 0,(function*(){var e;const t=Ee?Object(y.x)(ve,ge):null,a=[l(S.SubscriptionModel,r,{},M),...(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV)&&(yield I(void 0,void 0,void 0,(function*(){try{return yield Object(c.j)({model:S.ClusterServiceVersionModel,name:r.status.installedCSV,ns:r.metadata.namespace}),!0}catch(e){return 404!==e.response.status&&ue(e.message),!1}})))?[l(S.ClusterServiceVersionModel,{metadata:{name:r.status.installedCSV,namespace:r.metadata.namespace}},{},M)]:[],...Ee?[Object(h.pb)(E.ConsoleOperatorConfigModel,ve,[t])]:[]];K(Promise.all(a)).then(()=>{Q(!0)}).catch(()=>{Q(!0)})})),[ve,ge,K,l,Ee,r]),Pe=n.useCallback(e=>{ae(!1),oe(!0),e?we():(me(!0),Q(!0))},[we]),Ie=n.useCallback(()=>{const e=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${he}&namespace=${fe}`,t=setInterval(()=>{Object(d.c)(e).then(e=>{le(e.items.length),0===e.items.length&&(clearInterval(t),setTimeout(()=>Pe(!0),1e3))}).catch(()=>{Pe(!1)})},2e3);return t},[Pe,he,fe]),Me=n.useCallback(()=>{var e;t(),(window.location.pathname.split("/").includes(r.metadata.name)||window.location.pathname.split("/").includes(null===(e=null==r?void 0:r.status)||void 0===e?void 0:e.installedCSV))&&b.Vb.push(Object(b.rc)(S.ClusterServiceVersionModel,Object(m.c)()))},[t,r]);n.useEffect(()=>{Ne&&!je&&Me()},[Me,je,Ne]),n.useEffect(()=>{let e;return te&&(e=Ie()),()=>{e&&clearInterval(e)}},[te,Ie]);const _e=(null===(U=null==a?void 0:a.spec)||void 0===U?void 0:U.displayName)||(null===($=null==r?void 0:r.spec)||void 0===$?void 0:$.name),Te=null===(G=null==a?void 0:a.metadata)||void 0===G?void 0:G.name,xe=r.metadata.namespace===k.a?"all-namespaces":r.metadata.namespace,Ae=null===(q=null===(H=null==a?void 0:a.metadata)||void 0===H?void 0:H.annotations)||void 0===q?void 0:q[w.d.UninstallMessage],De=!Se||ke.length>0,Ve=n.createElement(n.Fragment,null,n.createElement("p",null,De&&n.createElement(n.Fragment,null," ",z("olm~Select the checkbox below to also remove all Operands associated with this Operator."))," ",z("olm~If your Operator configured off-cluster resources, these will continue to run and require manual cleanup.")),Ee&&n.createElement("p",null,z("olm~The console plugin provided by this operator will be disabled and removed.",{count:ge.length}))),Fe=Ce?n.createElement(x,{operandsLoadedErrorMessage:Ce}):De&&n.createElement(n.Fragment,null,n.createElement("span",{className:"co-operator-uninstall__operands-section"},n.createElement("h2",null,z("olm~Operand instances")),n.createElement(L,{operands:ke,loaded:Se,csvName:Te,cancel:e})),n.createElement(u.a,{onChange:({currentTarget:e})=>ee(e.checked),name:"delete-all-operands",label:z("olm~Delete all operand instances for this operator"),checked:Z})),Re=se.length?n.createElement(V,{operandDeletionErrors:se,csvName:Te,cancel:e}):ie?n.createElement(x,{operandsLoadedErrorMessage:z("olm~Error listing operand to verify deletion")}):n.createElement(F,{name:_e,namespace:xe}),Le=n.createElement(n.Fragment,null,n.createElement(R,{errorMessage:de||B||(se.length?z("olm~Operator could not be uninstalled due to error deleting its Operands"):""),name:_e,namespace:xe}),Z&&Re);return n.createElement("form",{onSubmit:e=>{if(e.preventDefault(),Ne)Me();else if(X(!1),Z){ae(!0),le(ke.length);const e=ke.map(e=>{const t=Object(h.vb)(Object(h.Db)(e));return l(t,e,{},M)});Object(i.a)(e).then(([,,e])=>{const t=e.reduce((e,t,a)=>"rejected"===t.status?e.concat({operand:ke[a],errorMessage:t.reason}):e,[]);t.length&&(ce(t),ae(!1),oe(!0),Q(!0))})}else oe(!0),we()},name:"form",className:"modal-content co-catalog-install-modal"},n.createElement(p.d,{className:"modal-header"},n.createElement(f.tc,{className:"co-icon-space-r"})," ",z("olm~Uninstall Operator?")),n.createElement(p.a,null,J&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(s.Trans,{t:z,ns:"olm"},"Operator ",n.createElement("strong",null,{name:_e})," will be removed from"," ",n.createElement("strong",null,{namespace:xe}),".")),!ye&&n.createElement(n.Fragment,null,Ve),Ae&&n.createElement(n.Fragment,null,n.createElement("h2",null,z("olm~Message from Operator developer")),n.createElement("p",null,Ae)),!ye&&n.createElement(n.Fragment,null,Fe)),te&&n.createElement(T,{total:ke.length,remaining:ne}),W&&n.createElement("div",null,n.createElement("p",null,z("olm~Uninstalling the Operator..."))),Ne&&Le),n.createElement(p.c,{inProgress:Oe,cancel:e,submitDanger:!Ne,submitText:z(Ne?"olm~OK":"olm~Uninstall"),submitDisabled:Oe}))},T=({total:e,remaining:t})=>{const{t:a}=Object(s.useTranslation)(),r=a("olm~Remaining Operands: {{remaining}} of {{total}} ",{remaining:t,total:e});return n.createElement("div",null,n.createElement(l.a,{value:e-t,max:e,valueText:r,label:r,title:a("olm~Cleaning up operand instances..."),size:l.b.lg}),n.createElement("div",{className:"co-alert--margin-top"},n.createElement("p",null,a("olm~The operands have been marked for deletion and are being removed. Canceling this operation will leave the Operator installed though its operand instances will continue to be deleted."))))},x=({operandsLoadedErrorMessage:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"warning",className:"co-alert",title:t("olm~Cannot load Operands"),isInline:!0},n.createElement("p",null,t("olm~There was an error loading operands for this operator. Operands will need to be deleted manually.")),n.createElement("p",null,e))},A=({name:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully uninstalled Operator"),isInline:!0},n.createElement("p",null,n.createElement(s.Trans,{t:a,ns:"olm"},"Operator ",n.createElement("strong",null,{name:e})," successfully uninstalled from"," ",n.createElement("strong",null,{namespace:t}),".")))},D=({errorMessage:e})=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:t("olm~Error uninstalling Operator"),isInline:!0},n.createElement("p",null,t("olm~There was an error uninstalling the operator."),n.createElement("br",null),e))},V=({operandDeletionErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"danger",className:"co-alert",title:l("olm~Error deleting Operands"),isInline:!0},n.createElement("p",null,l("olm~There were errors deleting the following Operands, they will need to be deleted manually:")),n.createElement(U,{operandErrors:e,csvName:t,cancel:a}))},F=({name:e,namespace:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement(r.a,{variant:"success",className:"co-alert",title:a("olm~Successfully deleted all Operand Instances"),isInline:!0},n.createElement("p",null,n.createElement(s.Trans,{t:a,ns:"olm"},"All Operand instances for Operator ",n.createElement("strong",null,{name:e})," in"," ",n.createElement("strong",null,{namespace:t})," have been deleted.")))},R=({errorMessage:e,name:t,namespace:a})=>e?n.createElement(D,{errorMessage:e}):n.createElement(A,{name:t,namespace:a}),L=({operands:e,loaded:t,csvName:a,cancel:l})=>{const{t:r}=Object(s.useTranslation)();return n.createElement(b.wb,{skeleton:n.createElement("div",{className:"loading-skeleton--table"}),data:e,loaded:t},n.createElement("table",{className:"pf-v5-c-table pf-m-compact pf-m-border-rows"},n.createElement("thead",{className:"pf-v5-c-table__thead"},n.createElement("tr",{className:"pf-v5-c-table__tr",key:"operand-table-header-row"},n.createElement("th",{className:"pf-m-width-35 pf-v5-c-table__th"},r("olm~Name")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Kind")),n.createElement("th",{className:"pf-v5-c-table__th"},r("olm~Namespace")))),n.createElement("tbody",null,e.sort((e,t)=>e.metadata.name.localeCompare(t.metadata.name)).map(e=>n.createElement("tr",{className:"pf-v5-c-table__tr",key:e.metadata.uid},n.createElement("td",{className:"pf-v5-c-table__td"},n.createElement(C.a,{obj:e,csvName:a,onClick:l})),n.createElement("td",{className:"pf-v5-c-table__td pf-m-break-word","data-test-operand-kind":e.kind},e.kind),n.createElement("td",{className:"pf-v5-c-table__td"},e.metadata.namespace?n.createElement(b.hb,{kind:"Namespace",name:e.metadata.namespace,onClick:l}):"-"))))))},U=({operandErrors:e,csvName:t,cancel:a})=>{const{t:l}=Object(s.useTranslation)();return n.createElement("ul",{className:"co-operator-uninstall-alert__list"},o.a(e,e=>n.createElement("li",{key:e.operand.metadata.uid,className:"pf-v5-c-list pf-m-plain co-operator-uninstall-alert__list-item"},n.createElement(C.a,{obj:e.operand,csvName:t,onClick:a})," ",e.operand.kind,"  ",l("olm~Error: {{error}}",{error:e.errorMessage}))))},$=Object(p.f)(_);_.displayName="UninstallOperatorModal"},6055:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return E}));var n=a(0),l=a(19),r=a(615),o=a(16),s=a(667),c=a(640),i=a(4397),m=a(7),d=a(31),u=a(118),p=a(5),b=a(8);const v=e=>{const{t:t}=Object(m.useTranslation)(),{cpu:a,memory:l,storage:r,onChangeCPU:o,onChangeMemory:s,onChangeStorage:c,path:i=""}=e;return n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".cpu"},t("olm~CPU cores")),n.createElement("input",{value:a,onChange:e=>o(e.target.value),id:i+".cpu",name:"cpu",type:"text",className:"pf-v5-c-form-control",placeholder:"500m"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".memory"},t("olm~Memory")),n.createElement("input",{value:l,onChange:e=>s(e.target.value),id:i+".memory",name:"memory",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})),n.createElement("div",{className:"col-xs-4"},n.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:i+".ephemeral-storage"},t("olm~Storage")),n.createElement("input",{value:r,onChange:e=>c(e.target.value),id:i+".ephemeral-storage",name:"ephemeral-storage",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})))},g=Object(p.Oc)(e=>{const{t:t}=Object(m.useTranslation)(),{obj:a,path:l,type:r,model:i,close:d,handlePromise:p}=e,[g,E]=n.useState(o.a(a.spec,`${l}.${r}.cpu`,"")),[h,f]=n.useState(o.a(a.spec,`${l}.${r}.memory`,"")),[O,N]=n.useState(o.a(a.spec,`${l}.${r}.ephemeral-storage`,""));return n.createElement("form",{onSubmit:e=>(e=>{e.preventDefault();const t=s.a(c.a(a),`spec.${l}.${r}`,Object.assign(Object.assign(Object.assign({},g&&{cpu:g}),h&&{memory:h}),O&&{"ephemeral-storage":O}));return p(Object(b.rb)(i,t),d)})(e),className:"modal-content"},n.createElement(u.d,null,e.title),n.createElement(u.a,null,n.createElement("div",{className:"row co-m-form-row"},n.createElement("div",{className:"col-sm-12"},e.description)),n.createElement(v,{cpu:g,memory:h,storage:O,onChangeCPU:E,onChangeMemory:f,onChangeStorage:N,path:l})),n.createElement(u.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:t("public~Save"),cancel:e.cancel}))}),E=Object(d.connect)(({k8s:e},{obj:t})=>({model:e.getIn(["RESOURCES","models",Object(b.Db)(t)])}))(e=>{const{obj:t,type:a,path:s,model:c}=e,{t:d}=Object(m.useTranslation)(),p=d("public~None"),{cpu:b,memory:v,"ephemeral-storage":E}=o.a(t.spec,`${s}.${a}`,{});return n.createElement(l.a,{type:"button",isInline:!0,"data-test-id":"configure-modal-btn",onClick:()=>{const e=Object(u.f)(g),n=d("olm~Define the resource {{type}} for this {{kind}} instance.",{type:a,kind:t.kind});return e({title:d("olm~{{kind}} Resource {{type}}",{kind:t.kind,type:i.a(a)}),description:n,obj:t,model:c,type:a,path:s})},variant:"link"},d("olm~CPU: {{cpu}}, Memory: {{memory}}, Storage: {{storage}}",{cpu:b||p,memory:v||p,storage:E||p}),n.createElement(r.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))});v.displayName="ResourceRequirements",E.displayName="ResourceRequirementsModalLink",g.displayName="ResourceRequirementsModal"},6084:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m}));var n=a(8),l=a(59),r=a(474),o=a(125),s=a(146);const c=e=>Boolean(e)&&Object(n.Db)(e)===Object(n.Hb)(o.ClusterServiceVersionModel),i=e=>{var t,a,n;return c(e)&&("Copied"===(null===(t=e.status)||void 0===t?void 0:t.reason)||Boolean(null===(n=null===(a=e.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n["olm.copiedFrom"]))},m=e=>{var t,a;return c(e)&&((null===(t=e.metadata.annotations)||void 0===t?void 0:t[l.d.OperatorType])!==r.g||(null===(a=e.status)||void 0===a?void 0:a.phase)===s.b.CSVPhaseFailed)}},6085:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a(83),r=a(474),o=a(125),s=a(6084);const c={group:o.ClusterServiceVersionModel.apiGroup,version:o.ClusterServiceVersionModel.apiVersion,kind:o.ClusterServiceVersionModel.kind},{copiedCSVsDisabled:i}=window.SERVER_FLAGS,m=(e,t)=>{const[a,o,m]=Object(l.useK8sWatchResource)({groupVersionKind:c,name:e,namespace:t,optional:i}),[d,u,p]=Object(l.useK8sWatchResource)(i?{groupVersionKind:c,name:e,namespace:r.e,optional:i}:null);return n.useMemo(()=>i&&Boolean(m)?[Object(s.a)(d)?d:null,u,p]:[a,o,m],[d,p,u,a,m,o])}},6086:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(966),r=a(19),o=a(380),s=a(7),c=a(118),i=a(5),m=a(1405);const d=({cancel:e,stepResource:t})=>{const{t:a}=Object(s.useTranslation)();return n.createElement("div",{className:"modal-content"},n.createElement(c.d,null,a("olm~InstallPlan Preview")," ",n.createElement(i.hb,{linkTo:!1,name:t.name,kind:Object(m.m)(t)})),n.createElement(c.a,null,n.createElement(i.l,{value:Object(o.safeDump)(JSON.parse(t.manifest))})),n.createElement(c.b,{inProgress:!1},n.createElement(l.a,{className:"pf-v5-c-form pf-v5-c-form__actions--right pf-v5-c-form__group--no-top-margin"},n.createElement(r.a,{type:"button",variant:"secondary",onClick:()=>e()},a("public~OK")))))},u=Object(c.f)(d);d.displayName="InstallPlanPreview"},6120:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a(31),r=a(53);const o=()=>{const e=Object(l.useDispatch)(),t=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","package"])),a=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","channel"])),o=Object(l.useSelector)(e=>e.UI.getIn(["deprecatedOperator","version"]));return{deprecatedPackage:t,setDeprecatedPackage:Object(n.useCallback)(t=>e(r.o(t)),[e]),deprecatedChannel:a,setDeprecatedChannel:Object(n.useCallback)(t=>e(r.n(t)),[e]),deprecatedVersion:o,setDeprecatedVersion:Object(n.useCallback)(t=>e(r.p(t)),[e])}}},6176:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(182);const r=(e,t)=>{const[a,r]=n.useState([]),[o,s]=n.useState(!1),[c,i]=n.useState("");return n.useEffect(()=>{const a=`${window.SERVER_FLAGS.basePath}api/list-operands/?name=${e}&namespace=${t}`;Object(l.b)(a).then(e=>{var t;r(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]),s(!0),i("")}).catch(a=>{r([]),s(!0),i(`Error loading Operands for ${e} in ${t}: ${a}`)})},[e,t]),[a,o,c]}},6177:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),l=a(640),r=a(489),o=a(7),s=a(118),c=a(692),i=a(8),m=a(2234),d=a(125),u=a(146);const p=e=>{var t,a,n,l,r,o;return null!==(o=null!==(n=null===(a=null===(t=e)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.installPlanApproval)&&void 0!==n?n:null===(r=null===(l=e)||void 0===l?void 0:l.spec)||void 0===r?void 0:r.approval)&&void 0!==o?o:u.e.Automatic},b=Object(s.f)(({cancel:e,close:t,k8sUpdate:a,obj:b})=>{const{t:v}=Object(o.useTranslation)(),[g,E,h]=Object(m.a)(),[f,O]=n.useState(p(b)),N=n.useCallback(e=>{e.preventDefault();const n=l.a(b);Object(i.Db)(n)===Object(i.Hb)(d.SubscriptionModel)?n.spec.installPlanApproval=f:Object(i.Db)(n)===Object(i.Hb)(d.InstallPlanModel)&&(n.spec.approval=f),g(a(Object(i.vb)(Object(i.Db)(b)),n)).then(()=>null==t?void 0:t()).catch(r.a)},[t,g,a,b,f]);return n.createElement("form",{onSubmit:N,name:"form",className:"modal-content"},n.createElement(s.d,{className:"modal-header"},v("olm~Change update approval strategy")),n.createElement(s.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,v("olm~What strategy is used for approving updates?"))),n.createElement("div",{className:"co-m-form-row row"},n.createElement("div",{className:"col-sm-12"},n.createElement(c.b,{onChange:e=>O(e.target.value),value:u.e.Automatic,checked:f===u.e.Automatic,title:v("olm~Automatic"),subTitle:`(${v("public~default")})`},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},v("olm~New updates will be installed as soon as they become available."))))),n.createElement("div",{className:"col-sm-12"},n.createElement(c.b,{onChange:e=>O(e.target.value),value:u.e.Manual,checked:f===u.e.Manual,title:v("olm~Manual")},n.createElement("div",{className:"co-m-radio-desc"},n.createElement("p",{className:"text-muted"},v("olm~New updates need to be manually approved before installation begins."))))))),n.createElement(s.c,{inProgress:E,errorMessage:h,cancel:e,submitText:v("public~Save"),submitDisabled:p(b)===f}))})},6178:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(7),r=a(118),o=a(692),s=a(5),c=a(8),i=a(2234),m=a(125),d=a(5737);const u=Object(r.f)(({cancel:e,close:t,k8sUpdate:a,pkg:u,subscription:p})=>{var b,v,g,E,h,f,O,N;const{t:j}=Object(l.useTranslation)(),y=null!==(v=null===(b=null==p?void 0:p.spec)||void 0===b?void 0:b.channel)&&void 0!==v?v:null===(h=null===(E=null===(g=null==u?void 0:u.status)||void 0===g?void 0:g.channels)||void 0===E?void 0:E[0])||void 0===h?void 0:h.name,[k,S,C]=Object(i.a)(),[w,P]=n.useState(y),I=n.useCallback(e=>{e.preventDefault(),k(a(m.SubscriptionModel,Object.assign(Object.assign({},p),{spec:Object.assign(Object.assign({},p.spec),{channel:w})}))).then(()=>null==t?void 0:t()).catch(()=>{})},[t,k,a,w,p]);return n.createElement("form",{onSubmit:I,name:"form",className:"modal-content"},n.createElement(r.d,{className:"modal-header"},j("olm~Change Subscription update channel")),n.createElement(r.a,null,n.createElement("div",{className:"co-m-form-row"},n.createElement("p",null,j("olm~Which channel is used to receive updates?"))),n.createElement("div",{className:"co-m-form-row row"},null===(N=null===(O=null===(f=null==u?void 0:u.status)||void 0===f?void 0:f.channels)||void 0===O?void 0:O.map)||void 0===N?void 0:N.call(O,e=>n.createElement("div",{key:e.name,className:"col-sm-12"},n.createElement(o.b,{onChange:e=>P(e.target.value),value:e.name,checked:w===e.name,title:e.name,subTitle:n.createElement(s.hb,{linkTo:!1,name:e.currentCSV,title:e.currentCSV,kind:Object(c.Hb)(m.ClusterServiceVersionModel)},(null==e?void 0:e.deprecation)?n.createElement(d.c,{deprecation:null==e?void 0:e.deprecation}):null)}))))),n.createElement(r.c,{inProgress:S,errorMessage:C,cancel:e,submitText:j("public~Save"),submitDisabled:w===y}))})},6243:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return O}));var n=a(0),l=a(19),r=a(1434),o=a(1433),s=a(22),c=a(745),i=a(7110),m=a(148),d=a(447),u=a(7),p=a(1428),b=a(5),v=a(15),g=a(6015);const E=({path:e})=>n.createElement("span",{className:"text-muted olm-descriptors__invalid-pod-descriptor"},n.createElement(v.tc,null),"  ",n.createElement(u.Trans,{ns:"olm"},"The field ",n.createElement("code",{className:"co-code"},{path:e})," is invalid.")),h=({description:e,label:t,obj:a,fullPath:l,value:r})=>{const{t:o}=Object(u.useTranslation)(),d=n.useMemo(()=>!s.a(r)||c.a(r)||i.a(r)?m.a(r):n.createElement("span",{className:"text-muted"},o("public~None")),[o,r]);return n.createElement(b.r,{description:e,label:t,obj:a,path:l},d)},f=({capability:e,description:t,descriptor:a,fullPath:l,label:r,obj:o,value:s})=>{const{t:c}=Object(u.useTranslation)(),i=n.useMemo(()=>{var t;if(!s)return n.createElement("span",{className:"text-muted"},c("public~None"));const[,l]=null!==(t=e.match(g.j))&&void 0!==t?t:[],r=null==l?void 0:l.replace(/:/g,"~");return d.a(s)?n.createElement(b.hb,{kind:r,name:s,namespace:o.metadata.namespace}):(console.warn(`[Invalid descriptor] descriptor is incompatible with property ${a.path} and will have no effect`,a),null)},[s,e,o.metadata.namespace,c,a]);return n.createElement(b.r,{description:t,label:r,obj:o,path:l},i)},O=({description:e,label:t,obj:a,fullPath:s,value:c})=>{const{t:i}=Object(u.useTranslation)(),[m,d]=n.useState(!1);return n.createElement(b.r,{description:e,label:t,obj:a,path:s},n.createElement("div",{className:"co-toggle-reveal-value"},n.createElement(l.a,{type:"button",variant:"link",isInline:!0,className:"pf-m-link--align-right co-toggle-reveal-value__btn",onClick:()=>d(!m)},m?n.createElement(n.Fragment,null,n.createElement(o.a,{className:"co-icon-space-r"}),i("olm~Hide values")):n.createElement(n.Fragment,null,n.createElement(r.a,{className:"co-icon-space-r"}),i("olm~Reveal values"))),n.createElement(p.e,{value:c,encoded:!1,reveal:m})))};E.displayName="Invalid",h.displayName="DefaultCapability",f.displayName="K8sResourceLinkCapability",O.displayName="SecretCapability"},6244:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a(31),r=a(53);const o=()=>{const e=Object(l.useDispatch)();return[Object(l.useSelector)(e=>e.UI.get("showOperandsInAllNamespaces")),n.useCallback(t=>e(r.v(t)),[e])]}},6274:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(13),r=a(986),o=a(69);const s=()=>{const e=Object(o.z)(o.v),t=Object(o.z)(l.Nb);return n.useMemo(()=>Object(r.b)(e,t),[e,t])}},6352:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(31);const l=()=>Object(n.useSelector)(({UI:e})=>e.get("activeNamespace"))},6353:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(77),l=a(5),r=a(15),o=a(125);const s=e=>{const[t]=Object(r.ue)(),a=Object(n.e)(o.ClusterServiceVersionModel);return window.SERVER_FLAGS.copiedCSVsDisabled&&"openshift"===e.metadata.namespace&&t!==r.c?Object(l.tc)(a,e.metadata.name,t):Object(l.sc)(e,a)}},6354:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return N})),a.d(t,"a",(function(){return j}));var n=a(0),l=a(54),r=a(460),o=a(50),s=a(7),c=a(14),i=a(40),m=a(5),d=a(10),u=a(8),p=a(15),b=a(5942),v=a(1405);const g=[{kind:d.DeploymentModel.kind,version:d.DeploymentModel.apiVersion},{kind:d.ServiceModel.kind,version:d.ServiceModel.apiVersion},{kind:d.ReplicaSetModel.kind,version:d.ReplicaSetModel.apiVersion},{kind:d.PodModel.kind,version:d.PodModel.apiVersion},{kind:d.SecretModel.kind,version:d.SecretModel.apiVersion},{kind:d.ConfigMapModel.kind,version:d.ConfigMapModel.apiVersion},{kind:d.JobModel.kind,version:d.JobModel.apiVersion}],E=["","pf-v5-u-w-16-on-md","pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-lg","pf-m-hidden pf-m-visible-on-sm"],h=({obj:e,customData:{linkFor:t,providedAPI:a}})=>{var l,r;return n.createElement(n.Fragment,null,n.createElement(i.k,{className:E[0]},t(e,a)),n.createElement(i.k,{className:E[1]},e.kind),n.createElement(i.k,{className:E[2]},n.createElement(p.cc,{status:null!==(r=null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.phase)&&void 0!==r?r:"Created"})),n.createElement(i.k,{className:E[3]},n.createElement(m.xb,{timestamp:e.metadata.creationTimestamp})))},f=e=>{const{t:t}=Object(s.useTranslation)();return n.createElement(i.j,Object.assign({},e,{"aria-label":t("olm~Operand Resources"),Header:()=>[{title:t("olm~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:E[0]}},{title:t("olm~Kind"),sortField:"kind",transforms:[l.a],props:{className:E[1]}},{title:t("olm~Status"),sortField:"status.phase",transforms:[l.a],props:{className:E[2]}},{title:t("olm~Created"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:E[3]}}],Row:h,EmptyMsg:()=>n.createElement(m.h,{title:t("olm~No resources found")},t("olm~There are no Kubernetes resources used by this operand.")),virtualize:!0}))},O=e=>t=>r.a(t,(e,t)=>o.a(e.data,e=>Object.assign(Object.assign({},e),{kind:t}))).reduce((t,a)=>(a.metadata.ownerReferences||[]).some(a=>a.uid===e.metadata.uid||t.some(({metadata:e})=>e.uid===a.uid))?t.concat([a]):t,[]),N=(e,t,a)=>{var l;return e.metadata.namespace&&(null!==(l=null==t?void 0:t.resources)&&void 0!==l?l:[]).some(({kind:t,name:a})=>a&&t===e.kind)?n.createElement(b.a,{obj:e,csvName:a}):n.createElement(m.hb,{kind:e.kind,name:e.metadata.name,namespace:e.metadata.namespace})},j=e=>{var t;const{t:a}=Object(s.useTranslation)(),{plural:l}=Object(c.useParams)(),r=Object(v.i)(e.customData,l),o=(null!==(t=null==r?void 0:r.resources)&&void 0!==t?t:g).map(({name:e,kind:t,version:a})=>{const n=e?e.substring(e.indexOf(".")+1):"",l=n?Object(u.Gb)(n)(a)(t):t,r=Object(u.vb)(l);return{kind:r&&!r.crd?t:l,namespaced:!r||r.namespaced,prop:t}}),m=n.useMemo(()=>({linkFor:N,providedAPI:r}),[r]);return n.createElement(i.i,{filterLabel:a("olm~Resources by name"),resources:o,rowFilters:[{type:"clusterserviceversion-resource-kind",filterGroupName:a("olm~Kind"),reducer:({kind:e})=>Object(u.tb)(e),items:o.map(({kind:e})=>({id:Object(u.tb)(e),title:Object(u.tb)(e)}))}],flatten:O(e.obj),namespace:e.obj.metadata.namespace,ListComponent:f,customData:m})};f.displayName="ResourceTable",j.displayName="Resources"},6355:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return g}));var n=a(0),l=a(205),r=a(354),o=a(165),s=a(294),c=a(80),i=a(501),m=a(7),d=a(5),u=a(15),p=a(5737),b=a(6120);const v=({packageManifest:e,selectedUpdateChannel:t,setUpdateChannel:a,setUpdateVersion:c})=>{const{t:v}=Object(m.useTranslation)(),g=n.useMemo(()=>{var t;return null!==(t=null==e?void 0:e.status.channels)&&void 0!==t?t:[]},[e]),[E,h]=n.useState(!1),{setDeprecatedChannel:f}=Object(b.a)();g.sort((e,t)=>-Object(u.uc)(e.name,t.name));const O=e=>n.createElement(n.Fragment,null,e.name," ",(null==e?void 0:e.deprecation)&&n.createElement(p.c,{deprecation:null==e?void 0:e.deprecation,dataTest:"deprecated-operator-warning-channel-icon"})),N=g.map(e=>n.createElement(l.a,{key:e.name,id:e.name,value:e.name,"data-test":"channel-option-"+e.name},O(e)));return n.useEffect(()=>{Object(d.wc)("channel",t),f(i.a(g.find(e=>e.deprecation&&e.name===t),"deprecation"))},[t,g,f]),n.createElement(n.Fragment,null,n.createElement(r.a,{toggle:a=>n.createElement(o.a,{ref:a,onClick:e=>h(e),isExpanded:E,isDisabled:!e,isFullWidth:!0,"aria-label":v("olm~Select a channel"),className:"co-operator-channel__select","data-test":"operator-channel-select-toggle"},O(g.find(e=>e.name===t))),onSelect:(e,t)=>{a(t),h(!1),c("")},selected:t||"-",onOpenChange:e=>h(e),isOpen:E},n.createElement(s.a,null,N)))},g=({packageManifest:e,selectedUpdateChannel:t,updateVersion:a,setUpdateVersion:u,showVersionAlert:v=!1})=>{var g;const{t:E}=Object(m.useTranslation)(),{setDeprecatedVersion:h}=Object(b.a)(),[f,O]=n.useState(!1),[N,j]=n.useState(""),{channels:y=[]}=null!==(g=null==e?void 0:e.status)&&void 0!==g?g:{};n.useEffect(()=>{var e,a,n;j(null!==(n=null===(a=null===(e=y.find(e=>e.name===t))||void 0===e?void 0:e.currentCSVDesc)||void 0===a?void 0:a.version)&&void 0!==n?n:"-")},[y,t]);const k=a||N,S=n.useMemo(()=>{var e,a;return null!==(a=null===(e=y.find(e=>e.name===t))||void 0===e?void 0:e.entries)&&void 0!==a?a:[]},[y,t]),C=e=>n.createElement(n.Fragment,null,null==e?void 0:e.version," ",(null==e?void 0:e.deprecation)&&n.createElement(p.c,{deprecation:null==e?void 0:e.deprecation,dataTest:"deprecated-operator-warning-version-icon"})),w=S.map(e=>n.createElement(l.a,{key:e.version,id:e.version,value:e.version,"data-test":"version-option-"+e.name},C(e)));return n.useEffect(()=>{Object(d.wc)("version",k),h(i.a(S.find(e=>e.deprecation&&e.version===k),"deprecation"))},[k,S,h]),n.createElement(n.Fragment,null,n.createElement(r.a,{toggle:t=>n.createElement(o.a,{ref:t,onClick:e=>O(e),isExpanded:f,isDisabled:!e,isFullWidth:!0,"aria-label":E("olm~Select a version"),className:"co-operator-version__select","data-test":"operator-version-select-toggle"},C(S.find(e=>e.version===k))),onSelect:(e,t)=>{u(t),O(!1)},selected:k,onOpenChange:e=>O(e),isOpen:f},n.createElement(s.a,null,w)),v&&k!==N&&n.createElement(c.a,{variant:"info",isInline:!0,className:"co-alert co-alert--margin-top co-alert__update-approval",title:E("olm~Manual update approval is required when not installing the latest version for the selected channel.")}))}},6356:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));const n=(e,t)=>new Promise((a,n)=>{const l=indexedDB.open(e,t);l.onupgradeneeded=()=>{const e=l.result;if(!e.objectStoreNames.contains("olm.package")){e.createObjectStore("olm.package",{keyPath:"id"}).createIndex("catalog","catalog",{unique:!1})}if(!e.objectStoreNames.contains("olm.channel")){const t=e.createObjectStore("olm.channel",{keyPath:"id"});t.createIndex("package","package",{unique:!1}),t.createIndex("catalog","catalog",{unique:!1})}if(!e.objectStoreNames.contains("olm.bundle")){const t=e.createObjectStore("olm.bundle",{keyPath:"id"});t.createIndex("package","package",{unique:!1}),t.createIndex("catalog","catalog",{unique:!1})}if(!e.objectStoreNames.contains("extension-catalog")){const t=e.createObjectStore("extension-catalog",{keyPath:"id"});t.createIndex("categories","categories",{unique:!1,multiEntry:!0}),t.createIndex("keywords","keywords",{unique:!1,multiEntry:!0}),t.createIndex("infrastructureFeatures","infrastructureFeatures",{unique:!1,multiEntry:!0}),t.createIndex("validSubscription","validSubscription",{unique:!1,multiEntry:!0}),t.createIndex("source","source",{unique:!1}),t.createIndex("provider","provider",{unique:!1}),t.createIndex("catalog","catalog",{unique:!1}),t.createIndex("capabilities","capabilities",{unique:!1})}},l.onsuccess=()=>{a(l.result)},l.onerror=()=>{var e;n(new Error("Database error: "+(null===(e=l.error)||void 0===e?void 0:e.message)))}}),l=(e,t,a)=>e.transaction([t],a).objectStore(t),r=(e,t,a)=>new Promise((n,r)=>{const o=l(e,t,"readwrite").put(a);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)}),o=(e,t)=>new Promise((a,n)=>{const r=l(e,t,"readonly").getAll();r.onsuccess=()=>a(r.result),r.onerror=()=>n(r.error)}),s=(e,t,a,n)=>new Promise((l,r)=>{const o=e.transaction(t,"readonly").objectStore(t).index(a),s=IDBKeyRange.only(n),c=o.openCursor(s),i=[];c.onsuccess=()=>{const e=c.result;e?(i.push(e.value),e.continue()):l(i)},c.onerror=()=>{r(c.error)}}),c=(e,...t)=>Promise.all(t.map(t=>((e,t)=>new Promise((a,n)=>{const r=l(e,t,"readwrite").clear();r.onsuccess=()=>a(),r.onerror=()=>n(r.error)}))(e,t)))},6610:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(6611);const r=e=>{const t=Object(l.a)();return n.useMemo(()=>t.get(e),[t,e])}},6611:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(13),r=a(986),o=a(69);const s=()=>{const e=Object(o.z)(o.u),t=Object(o.z)(l.Mb);return n.useMemo(()=>Object(r.a)(e,t),[e,t])}},6612:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(6274);const r=e=>{const t=Object(l.a)();return Object(n.useMemo)(()=>t.get(e),[t,e])}},6613:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return k}));var n=a(0),l=a(663),r=a(384),o=a(16),s=a(1031),c=a(7184),i=a(50),m=a(1451),d=a(7134),u=a(22),p=a(7),b=a(5),v=a(15),g=a(198),E=a(6614),h=a(6619),f=a(5759),O=a(5796);const N=Object(g.e)(({className:e,descriptor:t,model:a,obj:l,onError:r,schema:o,type:s})=>{const{displayName:c,description:i,value:m,fullPath:d}=Object(O.f)(s,t,o,l),u={className:e,description:i,descriptor:t,fullPath:d,label:c,model:a,obj:l,onError:r,value:m};switch(s){case f.b.spec:return n.createElement(E.a,Object.assign({},u));case f.b.status:return n.createElement(h.a,Object.assign({},u));default:return null}}),j=({className:e,group:t,groupPath:a,model:m,obj:d,onError:u,schema:g,type:E})=>{const{t:h}=Object(p.useTranslation)(),{arrayGroupPath:f,elementDescriptor:O,descriptor:j,nested:y}=t,k=Object(v.Gd)(g,`${E}.${f}`),S=(null==j?void 0:j.description)||(null==k?void 0:k.description),C=(null==j?void 0:j.displayName)||(null==k?void 0:k.title)||l.a(r.a(f.split("."))),w=null!=y?y:[O],P=o.a(d,[E,...s.a(f)],[]);return n.createElement("div",{className:e},n.createElement(b.r,{description:S,label:C,obj:d,path:`${E}.${a}`},n.createElement("div",{className:"details-item__array"},(null==P?void 0:P.length)?c.a(P.length,e=>n.createElement("div",{className:"details-item__value--group"},n.createElement("dl",null,i.a(w,t=>{const a=t.path.replace(/\d+/,String(e));return n.createElement(N,{descriptor:Object.assign(Object.assign({},t),{path:a}),key:`${E}.${a}`,model:m,obj:d,onError:u,schema:Object(v.Gd)(g,a),type:E})})))):n.createElement("span",{className:"text-muted"},h("public~None")))))},y=({group:e,groupPath:t,model:a,obj:r,onError:o,schema:s,type:c})=>{const{descriptor:p,nested:g}=e,E=Object(v.Gd)(s,`${c}.${t}`),h=(null==p?void 0:p.description)||(null==E?void 0:E.description),f=(null==p?void 0:p.displayName)||(null==E?void 0:E.title)||l.a(t),O=m.a(g,"isArrayGroup"),y=d.a(g,"isArrayGroup"),k=u.a(O)||u.a(y)?"col-sm-6":"col-sm-12";return n.createElement("div",{className:k},n.createElement(b.r,{description:h,label:f,obj:r,path:`${c}.${t}`},n.createElement("dl",{className:"details-item__value--group olm-descriptors__group"},!u.a(y)&&n.createElement("div",null,i.a(y,({descriptor:e})=>n.createElement(N,{descriptor:e,key:`${c}.${e.path}`,model:a,obj:r,onError:o,schema:s,type:c}))),!u.a(O)&&n.createElement("div",null,i.a(O,e=>n.createElement(j,{group:e,groupPath:e.arrayGroupPath,key:`${c}.${t}.${e.arrayGroupPath}`,model:a,obj:r,onError:o,schema:s,type:c}))))))},k=({descriptors:e,model:t,obj:a,onError:l,schema:r,type:o,itemClassName:s})=>{const c=n.useMemo(()=>Object(O.d)(e),[e]);return n.createElement("dl",{className:"olm-descriptors olm-descriptors--"+o},i.a(c,(e,c)=>{const i={group:e,groupPath:c},m={model:t,obj:a,onError:l,schema:r,type:o},{isArrayGroup:d,descriptor:p,nested:b}=e;return d?n.createElement(j,Object.assign({},i,m,{className:s})):u.a(b)?n.createElement(N,Object.assign({key:`${o}.${c}`,className:s,descriptor:p},m)):n.createElement(y,Object.assign({key:`${o}.${c}`},i,m))}))};N.displayName="DescriptorDetailsItem",y.displayName="DescriptorDetailsItemGroup",k.displayName="DescriptorDetailsItemList"},6614:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(0),l=a(2216),r=a(19),o=a(472),s=a(373),c=a(113),i=a(225),m=a(640),d=a(667),u=a(7),p=a(5),b=a(8),v=a(15),g=a(6243),E=a(5759),h=a(5796),f=a(6615),O=a(6616),N=a(6618),j=a(6055),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const k=({description:e,descriptor:t,label:a,model:l,obj:r,fullPath:o,value:c})=>n.createElement(p.r,{description:e,label:a,obj:r,path:o,onEdit:()=>Object(f.a)({kindObj:l,resource:r,specDescriptor:t,specValue:c})},s.a(c)?"-":c+" pods"),S=({description:e,label:t,obj:a,fullPath:l,value:r})=>n.createElement(p.r,{description:e,label:t,obj:a,path:l},n.createElement(N.a,{endpoints:r})),C=({description:e,label:t,model:a,obj:l,fullPath:r,value:o})=>n.createElement(p.r,{description:e,label:t,obj:l,path:r},c.a(o)?n.createElement(p.L,{kind:a.kind,labels:o}):n.createElement("span",null,o||"-")),w=({description:e,label:t,obj:a,fullPath:l,value:r})=>{var o;const{t:s}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:t,obj:a,path:l},(null===(o=null==r?void 0:r.matchNames)||void 0===o?void 0:o[0])?n.createElement(p.hb,{kind:"Namespace",name:r.matchNames[0],title:r.matchNames[0]}):n.createElement("span",{className:"text-muted"},s("public~None")))},P=({description:e,descriptor:t,label:a,obj:l,fullPath:r})=>{const{t:o}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:l,path:r},n.createElement("dl",{className:"co-spec-descriptor--resource-requirements"},n.createElement("dt",null,o("olm~Resource limits")),n.createElement("dd",null,n.createElement(j.b,{type:"limits",obj:l,path:t.path})),n.createElement("dt",null,o("olm~Resource requests")),n.createElement("dd",null,n.createElement(j.b,{type:"requests",obj:l,path:t.path}))))},I=({capability:e,description:t,label:a,obj:l,fullPath:r,value:o})=>{const[,s]=e.split(E.c.selector);return n.createElement(p.r,{description:t,label:a,obj:l,path:r},n.createElement(p.pb,{selector:o,kind:null==s?void 0:s.replace(/:/g,"~")}))},M=({model:e,obj:t,description:a,descriptor:o,label:s,onError:c,fullPath:g,value:E})=>{const{t:f}=Object(u.useTranslation)(),[O,N]=n.useState(Boolean(E)),[j,y]=n.useState(!1),[k,S]=n.useState(null),C=e=>{y(!1),N(Boolean(E)),S(e.message),c(e)};return n.createElement(p.r,{description:a,label:s,obj:t,path:g},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(l.a,{id:o.path,isChecked:O,onChange:(e,t)=>{N(t),y(!1),S(null)},label:f("public~True"),labelOff:f("public~False")}),"  ",O!==Boolean(E)&&j&&n.createElement(p.T,null),O!==Boolean(E)&&!j&&n.createElement(n.Fragment,null,"  ",n.createElement(r.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{if(y(!0),S(null),i.a(t,"spec."+o.path)){const a=e=>[{op:"add",path:"/spec/"+Object(h.a)(o),value:e}];return Object(b.pb)(e,t,a(O)).catch(e=>C(e))}const a=m.a(t);return d.a(a,"spec."+o.path,O),Object(b.rb)(e,a).catch(e=>C(e))}},n.createElement(v.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),f("olm~Confirm change")))),k&&n.createElement("div",{className:"cos-error-title co-break-word"},k||f("olm~An error occurred")))},_=({description:e,descriptor:t,label:a,model:l,obj:s,fullPath:c,value:i})=>{const{t:m}=Object(u.useTranslation)(),[d,g]=n.useState(Boolean(i)),[E,f]=n.useState(!1);return n.createElement(p.r,{description:e,label:a,obj:s,path:c},n.createElement("div",{className:"co-spec-descriptor--switch"},n.createElement(o.a,{id:t.path,style:{marginLeft:"10px"},isChecked:d,"data-checked-state":d,label:a,onChange:(e,t)=>{g(t),f(!1)}}),"  ",d!==Boolean(i)&&E&&n.createElement(p.T,null),d!==Boolean(i)&&!E&&n.createElement(n.Fragment,null,"  ",n.createElement(r.a,{className:"pf-m-link--align-left",type:"button",variant:"link",onClick:()=>{return f(!0),Object(b.pb)(l,s,(e=d,[{op:"add",path:"/spec/"+Object(h.a)(t),value:e}]));var e}},n.createElement(v.tc,{className:"co-icon-space-r pf-v5-c-button-icon--plain"}),m("olm~Confirm change")))))},T=({description:e,descriptor:t,label:a,model:l,obj:r,fullPath:o,value:s})=>{var c;const{t:i}=Object(u.useTranslation)();return n.createElement(p.r,{description:e,label:a,obj:r,onEdit:()=>Object(O.a)({kindObj:l,resource:r,specDescriptor:t,specValue:s}),path:o},null!==(c=null==s?void 0:s.type)&&void 0!==c?c:i("public~None"))},x=e=>{var t,{className:a}=e,l=y(e,["className"]);const[r]=null!==(t=Object(h.c)(l.descriptor,l.value))&&void 0!==t?t:[],o=n.useMemo(()=>{if(null==r?void 0:r.startsWith(E.c.k8sResourcePrefix))return g.c;if(null==r?void 0:r.startsWith(E.c.selector))return I;switch(r){case E.c.podCount:return k;case E.c.endpointList:return S;case E.c.label:return C;case E.c.namespaceSelector:return w;case E.c.resourceRequirements:return P;case E.c.booleanSwitch:return M;case E.c.password:return g.d;case E.c.updateStrategy:return T;case E.c.checkbox:return _;case E.c.hidden:return null;default:return c.a(l.value)?(console.warn(`[Invalid SpecDescriptor] Cannot render 'spec.${l.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):g.a}},[l.descriptor,l.value,r]);return o?n.createElement("div",{className:a},n.createElement(o,Object.assign({},l,{capability:r}))):null};k.displayName="PodCount",S.displayName="Endpoints",C.displayName="Label",w.displayName="NamespaceSelector",P.displayName="ResourceRequirements",I.displayName="BasicSelector",M.displayName="BooleanSwitch",_.displayName="CheckboxUIComponent",T.displayName="UpdateStrategy",x.displayName="SpecDescriptorDetailsItem"},6615:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(131),l=a(5796);const r=({kindObj:e,resource:t,specDescriptor:a,specValue:r})=>Object(n.h)({resourceKind:e,resource:t,defaultValue:r||0,titleKey:"olm~Modify {{item}}",titleVariables:{item:a.displayName},message:a.description,path:"/spec/"+Object(l.a)(a),buttonTextKey:"olm~Update {{item}}",buttonTextVariables:{item:a.displayName}})},6616:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(359),l=a(6617),r=a(5796);const o=({kindObj:e,resource:t,specDescriptor:a,specValue:o})=>Object(l.a)({resourceKind:e,resource:t,defaultValue:o,title:n.a.t("olm~Edit {{item}}",{item:a.displayName}),path:"/spec/"+Object(r.a)(a)})},6617:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),l=a(16),r=a(7),o=a(118),s=a(5409),c=a(8),i=a(2234);const m=({cancel:e,close:t,path:a,defaultValue:m,resource:d,resourceKind:u,title:p})=>{const{t:b}=Object(r.useTranslation)(),v=a.substring(1).replace("/","."),[g,E,h]=Object(i.a)(),[f,O]=n.useState(l.a(d,v+".type")||m),[N,j]=n.useState(l.a(d,v+".rollingUpdate.maxUnavailable","25%")),[y,k]=n.useState(l.a(d,v+".rollingUpdate.maxSurge","25%")),S=n.useCallback(e=>{e.preventDefault();const n={path:a+"/rollingUpdate",op:"remove"};"RollingUpdate"===f&&(n.value={maxUnavailable:Object(s.getNumberOrPercent)(N||"25%"),maxSurge:Object(s.getNumberOrPercent)(y||"25%")},n.op="add"),g(Object(c.pb)(u,d,[n,{path:a+"/type",value:f,op:"replace"}])).then(t).catch(()=>{})},[t,g,y,N,a,d,u,f]);return n.createElement("form",{onSubmit:S,name:"form",className:"modal-content"},n.createElement(o.d,null,p),n.createElement(o.a,null,n.createElement(s.ConfigureUpdateStrategy,{strategyType:f,maxUnavailable:N,maxSurge:y,onChangeStrategyType:O,onChangeMaxUnavailable:j,onChangeMaxSurge:k})),n.createElement(o.c,{errorMessage:h,inProgress:E,submitText:b("public~Save"),cancel:e}))},d=Object(o.f)(m);m.displayName="UpdateStrategyModal"},6618:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(7),r=a(5);const o=({endpoint:e})=>{const t=["scheme","honorLabels","targetPort"].reduce((t,a)=>(null==e?void 0:e[a])?n.createElement("span",null,n.createElement("span",{className:"text-muted"},a,":"),e[a]):t,n.createElement("span",{className:"text-muted"},"--"));return n.createElement("div",{className:"co-ip-row"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement("p",null,n.createElement(r.fb,{kind:"Service"}),e.port||"--")),n.createElement("div",{className:"col-xs-2"},n.createElement("p",null,e.interval||"--")),n.createElement("div",{className:"col-xs-4"},t)))},s=e=>{const{t:t}=Object(l.useTranslation)();return n.createElement("div",{className:"service-ips"},n.createElement("div",{className:"row co-ip-header"},n.createElement("div",{className:"col-xs-6"},t("olm~Port")),n.createElement("div",{className:"col-xs-2"},t("olm~Interval")),n.createElement("div",{className:"col-xs-4"})),n.createElement("div",{className:"rows"},e.endpoints?e.endpoints.map(e=>n.createElement(o,{endpoint:e,key:e.port})):n.createElement("span",{className:"text-muted"},t("olm~No endpoints"))))}},6619:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(0),l=a(113),r=a(313),o=a(70),s=a(400),c=a(373),i=a(22),m=a(7),d=a(5),u=a(15),p=a(6243),b=a(5759),v=a(5796),g=a(6620),E=a(6621),h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const f=({description:e,descriptor:t,fullPath:a,label:c,obj:i,value:u})=>{const{t:b}=Object(m.useTranslation)(),v=n.useMemo(()=>!l.a(u)||r.a(u,e=>!o.a(e))?n.createElement(p.b,{path:t.path}):s.a(u,e=>o.a(e)&&0===e.length)?n.createElement("span",{className:"text-muted"},b("olm~No members")):n.createElement(E.a,{statuses:u,subTitle:t.path}),[t.path,b,u]);return n.createElement("div",{className:"co-operand-details__section--info"},n.createElement(d.r,{description:e,label:c,obj:i,path:a},v))},O=({description:e,fullPath:t,label:a,obj:l,value:r})=>{const{t:o}=Object(m.useTranslation)();return n.createElement(d.r,{description:e,label:a,obj:l,path:t},c.a(r)?n.createElement("span",{className:"text-muted"},o("public~None")):n.createElement("a",{href:r},r.replace(/https?:\/\//,"")))},N=({description:e,fullPath:t,label:a,obj:l,value:r})=>n.createElement(d.r,{description:e,label:a,obj:l,path:t},n.createElement(g.a,{status:r})),j=({description:e,fullPath:t,label:a,obj:l,value:r})=>{const{t:o}=Object(m.useTranslation)();return n.createElement(d.r,{description:e,label:a,obj:l,path:t},i.a(r)?n.createElement("span",{className:"text-muted"},o("public~None")):n.createElement("pre",{className:"co-pre",style:{width:"max-content"}},r))},y=({description:e,fullPath:t,label:a,obj:l,value:r})=>n.createElement(d.r,{description:e,label:a,obj:l,path:t},"Running"===r?n.createElement(u.dc,{title:r}):n.createElement(u.cc,{status:r})),k=e=>{var t,{className:a}=e,r=h(e,["className"]);const[o]=null!==(t=Object(v.c)(r.descriptor,r.value))&&void 0!==t?t:[],s=n.useMemo(()=>{if(null==o?void 0:o.startsWith(b.d.k8sResourcePrefix))return p.c;switch(o){case b.d.podStatuses:return f;case b.d.w3Link:return O;case b.d.k8sPhase:return N;case b.d.k8sPhaseReason:return j;case b.d.password:return p.d;case b.d.hidden:return null;default:return l.a(r.value)?(console.warn(`[Invalid StatusDescriptor] Cannot render a descriptor detail item for 'status.${r.descriptor.path}'. A valid x-descriptor must be provided for non-primitive properties.`,"See https://github.com/openshift/console/blob/master/frontend/packages/operator-lifecycle-manager/src/components/descriptors/reference/reference.md#olm-descriptor-reference"),null):Object(v.e)(r.descriptor)?y:p.a}},[o,r.value,r.descriptor]);return s?n.createElement("div",{className:a},n.createElement(s,Object.assign({},r,{capability:o}))):null};g.a.displayName="Phase",f.displayName="PodStatuses",O.displayName="Link",N.displayName="K8sPhase",j.displayName="K8sPhaseReason",y.displayName="MainStatus",k.displayName="StatusDescriptorDetailsItem"},6620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a(1210);const r=({status:e})=>n.createElement("span",{className:"Failed"===e?"co-error":""},"Failed"===e&&n.createElement(l.a,{"data-test-id":"ban-icon"})," ",e);r.displayName="Phase"},6621:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),l=a(2232),r=a(5692),o=a(6431),s=a(5691),c=a(50),i=a(5),m=a(15);const d=[s.chart_color_blue_300.value,o.chart_color_blue_200.value,r.chart_color_blue_100.value],u=({statuses:e,subTitle:t})=>{const[a,r]=Object(i.Ic)(),o=c.a(e,(e,t)=>{const a=t,n=e.length;return{label:`${n} ${a}`,x:a,y:n}}),s=o.reduce((e,t)=>e+t.y,0),{podStatusInnerRadius:u,podStatusOuterRadius:p}=Object(m.vc)(130);return n.createElement("div",{ref:a,className:"graph-wrapper--gauge"},n.createElement(l.a,{colorScale:d,constrainToVisibleArea:!0,data:o,height:r,title:s.toString(),width:r,innerRadius:u,radius:p}),n.createElement("div",{className:"graph-donut-subtitle","data-test-id":"chart-donut-subtitle"},t))};u.displayName="PodStatusChart"},6622:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),l=a(70),r=a(972),o=a(5),s=a(5759),c=a(5796);const i=({descriptor:e,obj:t,schema:a})=>{const{displayName:i,value:m}=Object(c.f)(s.b.status,e,a,t);return((e,t)=>!!l.a(t)||(console.warn(`[Invalid x-descriptor] 'urn:alm:descriptor:io.kubernetes.conditions' is incompatible with ${e.path} and will have no effect`,e),!1))(e,m)?n.createElement("div",{className:"co-m-pane__body"},n.createElement(o.ob,{text:i}),n.createElement(r.b,{conditions:m})):null};i.displayName="DescriptorConditions"},6623:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(7),r=a(692),o=a(6244);const s=()=>{const{t:e}=Object(l.useTranslation)(),[t,a]=Object(o.a)();return n.createElement(r.a,{label:e("olm~Show operands in:"),currentValue:t?"true":"false",inline:!0,items:[{value:"true",title:e("olm~All namespaces")},{value:"false",title:e("olm~Current namespace only")}],onChange:({currentTarget:e})=>a("true"===e.value)})}},6624:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a(7),r=a(5),o=a(2268),s=a(2241);const c=({catalogSource:e,csvPlugins:t,enabledPlugins:a,setPluginEnabled:c})=>{const{t:i}=Object(l.useTranslation)(),m=t.length;return n.createElement("div",{className:"form-group"},n.createElement("fieldset",null,n.createElement("label",{className:"co-required"},i("olm~Console plugin",{count:m})),n.createElement(r.B,null,i("olm~This operator includes a console plugin which provides a custom interface that can be included in the console. The console plugin will prompt for the console to be refreshed once it has been enabled. Make sure you trust this console plugin before enabling.")),t.map(e=>n.createElement("fieldset",{key:e},n.createElement("div",null,m>1&&n.createElement("legend",{className:"co-legend co-legend--nested text-muted"},e),n.createElement(o.a,{name:e,enabled:a.includes(e),onChange:t=>c(e,t)})))),n.createElement(o.b,{previouslyEnabled:!1,enabled:(null==a?void 0:a.length)>0,trusted:Object(s.a)(e)})))}},7471:function(e,t,a){"use strict";a.d(t,"a",(function(){return ce}));var n,l,r=a(0),o=a(248),s=a(12094),c=a(156),i=a(405),m=a(611),d=a(355),u=a(19),p=a(566),b=a(18),v=a(22),g=a(255),E=a(313),h=a(240),f=a(57),O=a(160),N=a(117),j=a(461),y=a(640),k=a(50),S=a(667),C=a(16),w=a(373),P=a(7),I=a(14),M=a(5),_=a(983),T=a(7472),x=a(359),A=a(15),D=a(900),V=a(197),F=a(474),R=a(125),L=a(5737),U=a(7473),$=a(7474),G=a(1947),H=a(59);const q=null!==(n=window.SERVER_FLAGS.nodeOperatingSystems)&&void 0!==n?n:[],z=q.map(e=>"operatorframework.io/os."+e),K=null!==(l=window.SERVER_FLAGS.nodeArchitectures)&&void 0!==l?l:[],W=K.map(e=>"operatorframework.io/arch."+e),B=({text:e})=>r.createElement("span",{key:e,className:"pf-v5-c-badge pf-m-read"},r.createElement(s.a,{className:"pf-v5-c-truncate--no-min-width",content:e})),J=["source","provider","installState","capabilityLevel","infraFeatures","validSubscriptionFilters"],X=[", Inc.",", Inc"," Inc."," Inc",", LLC"," LLC"],Y=e=>{const t={};f.a(e,e=>{f.a(e.categories,e=>{!t[e]&&e&&(t[e]={id:e,label:e,field:"categories",values:[e]})})});const a=O.a(t).sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()));return g.a(a,(e,a)=>(e[a]=t[a],e),{})},Q=e=>"red hat"===e.value.toLowerCase()?"":e.value,Z=e=>{switch(e.value){case F.i.RedHatOperators:return 0;case F.i.CertifiedOperators:return 1;case F.i.CommunityOperators:return 2;case F.i.RedHatMarketplace:return 3;default:return 4}},ee=e=>{switch(e.value){case H.c.Installed:return 0;case H.c.NotInstalled:return 1;default:return 3}},te=e=>{switch(e.value){case H.a.BasicInstall:return 0;case H.a.SeamlessUpgrades:return 1;case H.a.FullLifecycle:return 2;case H.a.DeepInsights:return 3;default:return 5}},ae=e=>{switch(e.value){case H.b.Disconnected:return 0;case H.b.ProxyAware:return 1;case H.b.FIPSMode:return 2;case H.b.TokenAuth:return 3;case H.b.TLSProfiles:return 4;default:return 5}},ne=e=>{switch(e.value){case H.e.OpenShiftKubernetesEngine:return 0;case H.e.OpenShiftContainerPlatform:return 1;case H.e.OpenShiftPlatformPlus:return 2;case H.e.RequiresSeparateSubscription:return 3;default:return 4}},le=(e,t,a)=>{const n=y.a(e);return f.a(a,e=>{const a=[];f.a(t,t=>{let n,l=t[e];"provider"===e&&(l=(e=>{if(!e)return e;const t=N.a(X,t=>e.endsWith(t));return t?e.substring(0,e.indexOf(t)):e})(l),n=k.a(X,e=>`${l}${e}`)),void 0===l||Array.isArray(l)||E.a(a,{value:l})||a.push({label:l,synonyms:n,value:l,active:!1}),Array.isArray(l)&&f.a(l,e=>{E.a(a,{v:e})||a.push({label:e,synonyms:n,value:e,active:!1})})}),f.a(((e,t)=>{let a=["value"];return"provider"===t&&(a=Q),"source"===t?j.a(e,[Z,"value"]):("installState"===t&&(a=ee),"capabilityLevel"===t&&(a=te),"infraFeatures"===t&&(a=ae),"validSubscriptionFilters"===t&&(a=ne),j.a(e,a))})(a,e),t=>S.a(n,[e,t.value],t))}),n.installState?(S.a(n,"installState.Installed.label",x.a.t("olm~Installed")),S.a(n,"installState.Not Installed.label",x.a.t("olm~Not Installed"))):n.installState={Installed:{label:x.a.t("olm~Installed"),value:"Installed",active:!1},"Not Installed":{label:x.a.t("olm~Not Installed"),value:"Not Installed",active:!1}},n},re=(e,t)=>{var a,n;if(!e)return!0;if(!t)return!1;const l=null!==(n=null===(a=t.keywords)||void 0===a?void 0:a.map(e=>e.toLowerCase()))&&void 0!==n?n:[];return t.name.toLowerCase().includes(e)||C.a(t,"obj.metadata.name","").toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)||t.tags&&t.tags.includes(e)||l.includes(e)},oe=e=>{const t=new URL(window.location.href),a=`?${e.toString()}${t.hash}`;_.b.replace(`${t.pathname}${a}`)},se=({item:e,onClick:t})=>{const{t:a}=Object(P.useTranslation)();if(!e)return null;const{uid:n,name:l,imgUrl:s,provider:c,description:i,installed:m}=e,d=c?a("olm~provided by {{provider}}",{provider:c}):null,u=(null==e?void 0:e.source)?[r.createElement(B,{text:e.source})]:[],p=r.createElement("img",{className:"co-catalog--logo",loading:"lazy",src:s,alt:""});return r.createElement(o.b,{className:"co-catalog-tile",key:n,id:n,title:l,badges:u,icon:p,vendor:(()=>{var t,a;return r.createElement(r.Fragment,null,d,(null===(a=null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.status)||void 0===a?void 0:a.deprecation)&&r.createElement("div",null,r.createElement(L.b,{className:"pf-v5-u-mt-xs",deprecation:e.obj.status.deprecation})))})(),description:i,onClick:a=>{Object(V.U)(a)||(a.preventDefault(),t(e))},href:Object(D.d)("details-item",e.uid),footer:m&&!e.isInstalling?r.createElement("span",null,r.createElement(A.X,null)," ",a("olm~Installed")):null,"data-test":n})},ce=e=>{const{t:t}=Object(P.useTranslation)(),[a,n]=r.useState(null),[l,s]=r.useState(!1),[f,O,y]=Object(A.ff)(A.t,A.s,!1),[k,S]=r.useState(""),[C,x]=r.useState(""),[D,V]=r.useState(null),B=Object(M.Tb)("version"),X=(Q=e.items,v.a(K)&&v.a(q)?Q:Q.filter(e=>{var t,a,n;const l=g.a(null!==(n=null===(a=null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.metadata)||void 0===a?void 0:a.labels)&&void 0!==n?n:{},(e,t,a)=>(a.includes("operatorframework.io/arch.")&&"supported"===t&&e.arch.push(a),a.includes("operatorframework.io/os.")&&"supported"===t&&e.os.push(a),e),{arch:[],os:[]});return v.a(l.os)&&l.os.push("operatorframework.io/os.linux"),v.a(l.arch)&&l.arch.push("operatorframework.io/arch.amd64"),E.a(l.os,e=>h.a(z,e))&&E.a(l.arch,e=>h.a(W,e))}));var Q;r.useEffect(()=>{var e,t,a;const l=new URLSearchParams(window.location.search).get("details-item"),r=N.a(X,{uid:l});n(r),s(!w.a(r)),r&&Object(G.i)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(e=r.infraFeatures)||void 0===e?void 0:e.find(e=>e===H.b.TokenAuth))&&V("AWS"),r&&Object(G.j)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(t=r.infraFeatures)||void 0===t?void 0:t.find(e=>e===H.b.TokenAuth))&&V("Azure"),r&&Object(G.k)(r.cloudCredentials,r.infrastructure,r.authentication)&&(null===(a=r.infraFeatures)||void 0===a?void 0:a.find(e=>e===H.b.TokenAuthGCP))&&V("GCP")},[X]);const Z=e=>{if(f||e.catalogSource!==F.c.CommunityOperators){const t=new URLSearchParams(window.location.search);t.set("details-item",e.uid),oe(t),n(e),s(!0)}else Object(U.a)({showCommunityOperators:t=>(e=>(t=!1)=>{const a=new URLSearchParams(window.location.search);a.set("details-item",e.uid),oe(a),n(e),s(!0),y&&t&&O(!0)})(e)(t)})},ee=a&&a.obj&&`/operatorhub/subscribe?pkg=${a.obj.metadata.name}&catalog=${a.catalogSource}&catalogNamespace=${a.catalogSourceNamespace}&targetNamespace=${e.namespace}&channel=${k}&version=${C}&tokenizedAuth=${D}`,te=r.useMemo(()=>{if(null==a?void 0:a.marketplaceRemoteWorkflow)try{const e=new URL(null==a?void 0:a.marketplaceRemoteWorkflow);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to remote workflow URL",e.message)}return null},[a]);if(v.a(X))return r.createElement(r.Fragment,null,r.createElement(c.a,{variant:c.b.full,className:"co-status-card__alerts-msg"},r.createElement(i.a,{titleText:r.createElement(r.Fragment,null,t("olm~No Operators available")),headingLevel:"h5"}),r.createElement(m.a,null,window.SERVER_FLAGS.GOOS&&window.SERVER_FLAGS.GOARCH&&r.createElement(d.a,null,t("olm~There are no Operators that match operating system {{os}} and architecture {{arch}}.",{os:window.SERVER_FLAGS.GOOS,arch:window.SERVER_FLAGS.GOARCH})))));const ae={source:t("olm~Source"),provider:t("olm~Provider"),installState:t("olm~Install state"),capabilityLevel:t("olm~Capability level"),infraFeatures:t("olm~Infrastructure features"),validSubscriptionFilters:t("olm~Valid subscription")};return r.createElement(r.Fragment,null,r.createElement(T.a,{items:X,itemsSorter:e=>j.a(e,({name:e})=>e.toLowerCase()),getAvailableCategories:Y,getAvailableFilters:le,filterGroups:J,filterGroupNameMap:ae,keywordCompare:re,renderTile:e=>r.createElement(se,{updateChannel:k,item:e,onClick:Z}),emptyStateTitle:t("olm~No Results Match the Filter Criteria"),emptyStateInfo:t("olm~No OperatorHub items are being shown due to the filters being applied.")}),a&&r.createElement(A.lb,{className:"co-catalog-page__overlay co-catalog-page__overlay--right","data-test-id":"operator-modal-box","aria-labelledby":"catalog-item-header",header:r.createElement(r.Fragment,null,r.createElement(o.a,{className:"co-catalog-page__overlay-header",iconClass:a.iconClass,iconImg:a.imgUrl,title:(()=>{var e,t;return r.createElement(r.Fragment,null,a.name,(null===(t=null===(e=null==a?void 0:a.obj)||void 0===e?void 0:e.status)||void 0===t?void 0:t.deprecation)&&r.createElement(L.b,{className:"pf-v5-u-ml-sm",deprecation:a.obj.status.deprecation}))})(),vendor:t("olm~{{version}} provided by {{provider}}",{version:C||B||a.version,provider:a.provider}),"data-test-id":"operator-modal-header",id:"catalog-item-header"}),r.createElement("div",{className:"co-catalog-page__overlay-actions"},te&&r.createElement(M.z,{additionalClassName:"pf-v5-c-button pf-m-primary co-catalog-page__overlay-action",href:te,text:r.createElement(r.Fragment,null,r.createElement("div",{className:"co-catalog-page__overlay-action-label"},a.marketplaceActionText||t("olm~Purchase")),r.createElement(p.a,{className:"co-catalog-page__overlay-action-icon"}))}),a.installed?r.createElement(u.a,{className:"co-catalog-page__overlay-action","data-test-id":"operator-uninstall-btn",isDisabled:!a.installed,onClick:()=>_.b.push(a&&a.subscription&&`/k8s/ns/${a.subscription.metadata.namespace}/${R.SubscriptionModel.plural}/${a.subscription.metadata.name}?showDelete=true`),variant:"secondary"},t("olm~Uninstall")):r.createElement(I.Link,{className:b("pf-v5-c-button",{"pf-m-secondary":te},{"pf-m-primary":!te},{"pf-m-disabled":!a.obj||a.isInstalling},"co-catalog-page__overlay-action"),"data-test-id":"operator-install-btn",to:ee},t("olm~Install")))),isOpen:!!a&&l,onClose:()=>{const e=new URLSearchParams(window.location.search);e.delete("details-item"),e.delete("channel"),e.delete("version"),oe(e),n(null),s(!1),S(""),x(""),V("")},title:a.name},r.createElement($.a,{item:a,updateChannel:k,setUpdateChannel:S,updateVersion:C,setUpdateVersion:x})))};ce.displayName="OperatorHubTileView"},7472:function(e,t,a){"use strict";a.d(t,"a",(function(){return oe}));var n=a(0),l=a(16),r=a(22),o=a(4439),s=a(279),c=a(57),i=a(117),m=a(160),d=a(240),u=a(640),p=a(116),b=a(255),v=a(363),g=a(225),E=a(313),h=a(667),f=a(107),O=a(721),N=a(1033),j=a(50),y=a(2338),k=a(359),S=a(7),C=a(21),w=a(248),P=a(156),I=a(405),M=a(355),_=a(611),T=a(612),x=a(19),A=a(242),D=a(2209),V=a(15),F=a(14),R=a(197),L=a(131),U=a(5);const $="category",G="keyword",H=(e,t)=>{if(!e.subcategories){if(!e.values)return[];let a=l.a(t,e.field);Array.isArray(a)||(a=[a]);const n=[e.values,a].reduce((e,t)=>e.filter(e=>t.includes(e)));return r.a(n)?[]:[e]}const a=[];return o.a(e.subcategories,n=>{let o=l.a(t,e.field);Array.isArray(o)||(o=[o]);const s=[n.values,o].reduce((e,t)=>e.filter(e=>t.includes(e)));r.a(s)||a.push(n,...H(n,t))}),a},q=(e,t,a=null)=>{t.items?t.items.includes(e)||(t.items=t.items.concat(e)):t.items=[e],a&&(a.items?a.items.includes(e)||(a.items=a.items.concat(e)):a.items=[e])},z=e=>{e&&o.a(e,(t,a)=>{(({items:e})=>r.a(e))(t)?delete e[a]:z(t.subcategories)})},K=(e,t)=>{o.a(e.subcategories,a=>{a.items&&(a.numItems=s.a(a.items),a.items=t(a.items),K(a,t)),e.subcategories&&c.a(e.items,t=>{if(!i.a(m.a(e.subcategories),a=>d.a(e.subcategories[a].items,t))){let a=l.a(e.subcategories,"other");a||(a={id:e.id+"-other",label:"Other",items:[]},e.subcategories.other=a),a.items.push(t)}})})},W=(e,t)=>{o.a(e,e=>{e.items&&(e.numItems=s.a(e.items),e.items=t(e.items),K(e,t))})},B=(e,t)=>{c.a(e,e=>{let a=!1;c.a(t,t=>{const n=H(t,e);c.a(n,n=>{q(e,t,n),a=!0})}),a||q(e,t.other)}),t.all.numItems=s.a(e),t.all.items=e},J=(e,t,a)=>{const n={id:"all",label:k.a.t("public~All Items")},l={id:"other",label:k.a.t("public~Other")},r=Object.assign(Object.assign({all:n},u.a(a)),{other:l});return B(e,r),z(r),W(r,t),r},X=e=>{o.a(e,e=>{e.numItems=0,e.items=[],X(e.subcategories)})},Y=(e,t,a)=>{const{keyword:n}=t;if(!n||!n.active)return e;const l=n.value.toLowerCase();return p.a(e,e=>a(l,e))},Q=(e,t,a)=>{if(r.a(t))return e;const n=Y(e,t,a),o=((e,t)=>b.a(t,(t,a,n)=>{if(n===G)return t;const r=p.a(a,"active");if(r.length){const a=b.a(r,(e,t)=>(e.push(t.value,...l.a(t,"synonyms",[])),e),[]);t[n]=p.a(e,e=>Array.isArray(e[n])?e[n].some(e=>a.includes(e)):a.includes(e[n]))}return t},{}))(n,t);return[...v.a(o),n].reduce((e,t)=>e.filter(e=>t.includes(e)))},Z=(e,t,a,n,l)=>{const r=Q(e,a,n),o=u.a(l);return X(o),B(r,o),W(o,t),o},ee=(e,t)=>g.a(t.subcategories,e),te=(e,t)=>!!g.a(t.subcategories,e)||E.a(t.subcategories,t=>te(e,t)),ae=(e,t)=>{let a=null;return o.a(t,t=>{a||(a=t.id===e?t:ae(e,t.subcategories))}),a},ne=(e,t,a,n,r,o,i)=>{const d=Y(e,r,i),u=Z(d,t,[],i,o),b=ae(n,u),v=b?b.items:[],g={};return c.a(a,e=>{c.a(m.a(r[e]),t=>{const a=[l.a(r,[e,t,"value"]),...l.a(r,[e,t,"synonyms"],[])],n=p.a(v,t=>Array.isArray(t[e])?t[e].some(e=>a.includes(e)):a.includes(t[e]));h.a(g,[e,t],s.a(n))})}),g},le=(e,t,a)=>{const n=new URLSearchParams(window.location.search),l=n.get($),r=n.get(G),s=l||"all";let i="";a&&(i=n.get("groupBy")||a.None);const d={};c.a(t,e=>{const t=n.get(e);if(t)try{h.a(d,e,JSON.parse(t))}catch(e){console.warn("could not update filters from url params: could not parse search params",e)}});return{selectedCategoryId:s,activeFilters:((e,t,a,n=null)=>(a.keyword.value=e||"",a.keyword.active=!!e,n&&c.a(m.a(a.kind),e=>h.a(a,["kind",e,"active"],!1)),o.a(t,(e,t)=>{c.a(m.a(a[t]),e=>h.a(a,[t,e,"active"],!1)),c.a(e,e=>{h.a(a,[t,e,"active"],!0)})}),a))(r,d,e,l),groupBy:i}},re={keyword:{value:"",active:!1}},oe=e=>{const{items:t,itemsSorter:a,keywordCompare:o,filterGroups:i,filterGroupNameMap:d,getAvailableCategories:p,getAvailableFilters:v,groupByTypes:E,emptyStateTitle:C,emptyStateInfo:H,renderTile:q,groupItems:z}=e,{t:K}=Object(S.useTranslation)(),[,W]=Object(F.useSearchParams)(),B=n.useRef(),[X,Y]=n.useState(e),[Q,oe]=n.useState(J(t,a,p(t))),[se,ce]=n.useState("all"),[ie,me]=n.useState(re),[de,ue]=n.useState(null),[pe,be]=n.useState({}),[ve,ge]=n.useState(E?E.None:""),Ee=(e,t)=>{const a=new URLSearchParams(window.location.search);t?a.set(e,Array.isArray(t)?JSON.stringify(t):t):a.delete(e),W(a)},he=n.useCallback((e,n,l)=>{if(!t)return;const r=Z(t,a,l,o,e);return{activeFilters:l,selectedCategoryId:n,categories:r,filterCounts:ne(t,a,i,n,l,r,o)}},[]);n.useEffect(()=>{const e=v(re,t,i),a=le(e,i,E),n=he(Q,a.selectedCategoryId,a.activeFilters);oe(n.categories),ce(n.selectedCategoryId),me(n.activeFilters),ue(n.filterCounts),ge(null==a?void 0:a.groupBy),B.current.focus({preventScroll:!0})},[]),n.useEffect(()=>{if(!f.a(t,null==X?void 0:X.items)){const e=v(re,t,i),n=p(t),r=J(t,a,n),o=b.a(e,(e,t,a)=>a===G?(e.keyword=ie.keyword,e):(c.a(t,(t,n)=>{e[a][n].active=l.a(ie,[a,n,"active"],!1)}),e),e),s=he(r,se,o);oe(s.categories),ce(s.selectedCategoryId),me(s.activeFilters),ue(s.filterCounts)}Y(e)},[e,i,v,he,E,t,ie,p,a,se,null==X?void 0:X.items]);const fe=()=>{(()=>{const e=new URLSearchParams;se&&e.set($,se),W(e)})();const e=((e,t)=>(h.a(e,"keyword.value",""),h.a(e,"keyword.active",!1),c.a(t,t=>{c.a(m.a(e[t]),a=>h.a(e,[t,a,"active"],!1))}),e))(ie,i),t=he(Q,se,e);oe(t.categories),ce(t.selectedCategoryId),me(t.activeFilters),ue(t.filterCounts),Object(L.u)()||B.current.focus({preventScroll:!0})},Oe=(e,t,a)=>{if(e===G){O.a(()=>Ee(G,""+a),500)()}else{const n=u.a(ie[e]);h.a(n,[t,"active"],a),Ee(e,(e=>{const t=b.a(m.a(e),(t,a)=>e[a].active?t.concat(a):t,[]);return r.a(t)?"":JSON.stringify(t)})(n))}const n=((e,t,a,n)=>(t===G?(h.a(e,"keyword.value",n),h.a(e,"keyword.active",!!n)):h.a(e,[t,a,"active"],n),e))(ie,e,t,a),l=he(Q,se,n);oe(l.categories),ce(l.selectedCategoryId),me(l.activeFilters),ue(l.filterCounts)},Ne=Object(V.Ce)(e=>{Oe("keyword",null,e)}),je=(e,t)=>{const{id:a,label:l,subcategories:r,numItems:o}=e,s=a===t,c="all"===a,i="text-capitalize"+(o?"":" co-catalog-tab__empty");return n.createElement(w.j,{key:a,active:s,className:i,hasActiveDescendant:te(t,e),shown:c,"data-test":a,component:()=>n.createElement(F.Link,{to:Object(V.Kd)($,a),onClick:e=>{Object(R.U)(e)||(e.preventDefault(),(e=>{Ee($,e);const t=he(Q,e,ie);oe(t.categories),ce(t.selectedCategoryId),me(t.activeFilters),ue(t.filterCounts)})(a))}},l)},r&&n.createElement(w.i,{restrictTabs:!0,activeTab:ee(t,e)},j.a(r,e=>je(e,t))))},ye=(e,t)=>{const a=K("public~Show {{numRemaining}} more",{numRemaining:Object.keys(e).length-5});return n.createElement(w.e,{key:t,title:d[t]||t,onShowAllToggle:()=>(e=>{const t=N.a(pe);h.a(t,e,!l.a(pe,e,!1)),be(t)})(t),showAll:l.a(pe,t,!1),"data-test-group-name":t,maxShowCount:5,showText:a,hideText:K("public~Show less")},j.a(e,(e,a)=>{const{label:r,active:o}=e;return n.createElement(w.f,{key:a,count:l.a(de,[t,a],0),checked:o,onClick:e=>Oe(t,a,e.target.checked),title:r,"data-test":`${t}-${y.a(a)}`},r)}))};let ke=ae(se,Q);ke||(ke=ae("all",Q));const Se=K("public~{{totalItems}} items",{totalItems:ke.numItems});return n.createElement("div",{className:"co-catalog-page co-catalog-page--with-sidebar"},n.createElement("div",{className:"co-catalog-page__tabs"},(e=>{const t=g.a(Q,e);return n.createElement(w.i,{restrictTabs:!0,activeTab:t,shown:"true"},j.a(Q,t=>je(t,e)))})(ke.id),n.createElement(w.d,null,j.a(ie,(e,t)=>{if(t!==G)return ye(e,t)}))),n.createElement("div",{className:"co-catalog-page__content"},n.createElement("div",{className:"co-catalog-page__header"},n.createElement("div",{className:"co-catalog-page__heading text-capitalize"},ke.label),n.createElement("div",{className:"co-catalog-page__filter"},n.createElement("div",null,n.createElement(D.a,{className:"co-catalog-page__input","data-test":"search-operatorhub",ref:B,placeholder:K("public~Filter by keyword..."),value:ie.keyword.value,onChange:(e,t)=>Ne(t),onClear:()=>Ne(""),"aria-label":K("public~Filter by keyword...")}),z&&n.createElement(U.t,{className:"co-catalog-page__btn-group__group-by",menuClassName:"dropdown-menu--text-wrap",items:E,onChange:e=>{return Ee("groupBy",(t=e)===E.None?"":""+t),void ge(t);var t},titlePrefix:"Group By",title:ve})),n.createElement("div",{className:"co-catalog-page__num-items"},Se))),ke.numItems>0&&n.createElement("div",{className:"co-catalog-page__grid"},z&&ve!==E.None?(e=>{const t=z(e,ve);return n.createElement(V.pc,{items:t,renderCell:q,renderHeader:e=>n.createElement(A.a,{className:"co-catalog-page__group-title",headingLevel:"h2",size:"lg"},e," (",s.a(t[e]),")"),isItemsGrouped:!0})})(ke.items):n.createElement(V.pc,{items:ke.items,renderCell:q})),0===ke.numItems&&n.createElement(P.a,{variant:P.b.full},n.createElement(I.a,{titleText:n.createElement(n.Fragment,null,C),headingLevel:"h2"}),n.createElement(M.a,null,H),n.createElement(_.a,null,n.createElement(T.a,null,n.createElement(x.a,{variant:"link",onClick:()=>fe(),"data-test-id":"catalog-clear-filters"},k.a.t("public~Clear All Filters")))))))};oe.displayName="TileViewPage",oe.propTypes={items:C.array,itemsSorter:C.func.isRequired,getAvailableCategories:C.func.isRequired,getAvailableFilters:C.func,filterGroups:C.array.isRequired,filterGroupNameMap:C.object,renderFilterGroup:C.func,keywordCompare:C.func.isRequired,renderTile:C.func.isRequired,emptyStateTitle:C.string,emptyStateInfo:C.string,groupItems:C.func,groupByTypes:C.object},oe.defaultProps={items:null,getAvailableFilters:(e,t,a)=>{const n=u.a(e);return c.a(a,e=>{c.a(t,t=>{const a=t[e];a&&h.a(n,[e,a],{label:a,value:a,active:!1})})}),n},filterGroupNameMap:{},renderFilterGroup:null,emptyStateTitle:"No Results Match the Filter Criteria",emptyStateInfo:"No items are being shown due to the filters being applied."}},7473:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a(472),r=a(873),o=a(7),s=a(118),c=a(5),i=a(15);const m=Object(s.f)(({close:e,showCommunityOperators:t})=>{const{t:a}=Object(o.useTranslation)(),[m,d]=n.useState(!1),u=n.useCallback(a=>{a.preventDefault(),e(),t(m)},[e,m,t]);return n.createElement("form",{onSubmit:u,className:"modal-content co-modal-ignore-warning"},n.createElement(s.d,null,a("olm~Show community Operator")),n.createElement(s.a,null,n.createElement("div",{className:"co-modal-ignore-warning__content"},n.createElement("div",{className:"co-modal-ignore-warning__icon"},n.createElement(r.a,null)),n.createElement("div",null,n.createElement("p",null,a("olm~Community Operators are Operators which have not been vetted or verified by Red Hat. Community Operators should be used with caution because their stability is unknown. Red Hat provides no support for community Operators."),i.Jb&&n.createElement("span",{className:"co-modal-ignore-warning__link"},n.createElement(c.z,{href:i.Jb,text:a("olm~Learn more about Red Hat’s third party software support policy")}))),n.createElement(l.a,{className:"co-modal-ignore-warning__checkbox",onChange:(e,t)=>d(t),isChecked:m,"data-checked-state":m,id:"do-not-show-warning",label:a("olm~Do not show this warning again")})))),n.createElement(s.c,{submitText:a("olm~Continue"),inProgress:!1,errorMessage:"",cancel:e}))})},7474:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(0),l=a(248),r=a(9585),o=a(9586),s=a(9587),c=a(9588),i=a(476),m=a(18),d=a(501),u=a(7),p=a(14),b=a(5),v=a(108),g=a(8),E=a(15),h=a(474),f=a(125),O=a(4385),N=a(5737),j=a(6120),y=a(1405),k=a(6355),S=a(5417),C=a(1947),w=a(59);const P=["Basic Install","Seamless Upgrades","Full Lifecycle","Deep Insights","Auto Pilot"],I=({selectedChannelCapabilityLevel:e})=>{const{t:t}=Object(u.useTranslation)(),a=P.indexOf(e);return n.createElement("ul",{className:"properties-side-panel-pf-property-value__capability-levels"},P.map((e,l)=>{const r=a>=l;return n.createElement("li",{className:m("properties-side-panel-pf-property-value__capability-level",{"properties-side-panel-pf-property-value__capability-level--active":r}),key:e},r&&n.createElement(i.a,{color:"var(--pf-v5-global--primary-color--100)",className:"properties-side-panel-pf-property-value__capability-level-icon",title:t("olm~Checked")}),t("olm~"+e))}))},M=({latestVersion:e,subscription:t,installedChannel:a})=>{var l,i,m,d,E,h;const{t:O}=Object(u.useTranslation)(),[N]=Object(v.a)({kind:Object(g.Hb)(f.ClusterServiceVersionModel),name:null===(l=null==t?void 0:t.status)||void 0===l?void 0:l.installedCSV,namespace:null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.namespace,isList:!1,namespaced:!0}),j="/k8s/ns/"+t.metadata.namespace,y=N?`${j}/clusterserviceversions/${null!==(d=null===(m=null==N?void 0:N.metadata)||void 0===m?void 0:m.name)&&void 0!==d?d:""}`:`${j}/subscriptions/${null!==(E=t.metadata.name)&&void 0!==E?E:""}`,k=null===(h=null==N?void 0:N.spec)||void 0===h?void 0:h.version;return n.createElement(b.D,{className:"co-catalog-page__hint",title:O("olm~Installed Operator")},n.createElement("p",null,O("olm~This Operator has been installed on the cluster.")," ",n.createElement(p.Link,{to:y},O("olm~View it here."))),k!==e?n.createElement(n.Fragment,null,n.createElement(r.a,{columnModifier:{default:"2Col"}},n.createElement(o.a,null,n.createElement(s.a,null,O("olm~Installed Channel")),n.createElement(c.a,null,a)),n.createElement(o.a,null,n.createElement(s.a,null,O("olm~Installed Version")),n.createElement(c.a,null,k)))):null)},_=({subscription:e})=>{var t,a,l,r,o;const{t:s}=Object(u.useTranslation)(),[c]=Object(v.a)((null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.installedCSV)?{kind:Object(g.Hb)(f.ClusterServiceVersionModel),name:null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.installedCSV,namespace:null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.namespace,isList:!1,namespaced:!0}:null),i="/k8s/ns/"+e.metadata.namespace,m=c?`${i}/clusterserviceversions/${null===(r=null==c?void 0:c.metadata)||void 0===r?void 0:r.name}/subscription`:`${i}/subscriptions/${null!==(o=e.metadata.name)&&void 0!==o?o:""}`;return n.createElement(b.D,{className:"co-catalog-page__hint",title:s("olm~Installing Operator")},n.createElement("p",null,n.createElement("span",null,n.createElement(u.Trans,{ns:"olm"},"This Operator is being installed on the cluster."))," ",n.createElement(p.Link,{to:m},s("olm~View it here."))))},T=e=>{const{t:t}=Object(u.useTranslation)(),{installed:a,isInstalling:l,catalogSource:r}=e;return l?n.createElement(_,Object.assign({},e)):a?n.createElement(M,Object.assign({},e)):r===h.c.CommunityOperators?n.createElement(b.D,{className:"co-catalog-page__hint",title:t("olm~Community Operator")},n.createElement("p",null,t("olm~This is a community provided Operator. These are Operators which have not been vetted or verified by Red Hat. Community Operators should be used with caution because their stability is unknown. Red Hat provides no support for community Operators.")),E.Jb&&n.createElement("span",{className:"co-modal-ignore-warning__link"},n.createElement(b.z,{href:E.Jb,text:t("olm~Learn more about Red Hat’s third party software support policy")}))):r===h.c.RedHatMarketPlace?n.createElement(b.D,{title:t("olm~Marketplace Operator")},n.createElement("p",null,t("olm~This Operator is purchased through Red Hat Marketplace. After completing the purchase process, you can install the Operator on this or other OpenShift clusters. Visit Red Hat Marketplace for more details and to track your usage of this application.")),n.createElement("p",null,n.createElement(b.z,{href:"https://marketplace.redhat.com/en-us?utm_source=openshift_console",text:t("olm~Learn more about the Red Hat Marketplace")}))):null},x=({item:e,updateChannel:t,setUpdateChannel:a,updateVersion:r,setUpdateVersion:o})=>{var s,c,i,m;const{t:p}=Object(u.useTranslation)(),{catalogSource:v,source:g,description:E,infraFeatures:h,installed:f,isInstalling:P,longDescription:M,marketplaceSupportWorkflow:_,obj:x,provider:A,repository:D,subscription:V,support:F,validSubscription:R,version:L,cloudCredentials:U,infrastructure:$,authentication:G}=e,H=Object(b.Tb)("channel"),{deprecatedPackage:q,deprecatedChannel:z,deprecatedVersion:K,setDeprecatedPackage:W}=Object(j.a)(),B=(null==q?void 0:q.deprecation)||(null==z?void 0:z.deprecation)||(null==K?void 0:K.deprecation);n.useEffect(()=>{var t;W(d.a(null===(t=null==e?void 0:e.obj)||void 0===t?void 0:t.status,"deprecation"))},[null===(s=null==e?void 0:e.obj)||void 0===s?void 0:s.status,W]);const J=null==x?void 0:x.status.channels.find(e=>e.name===H),X=null==J?void 0:J.currentCSVDesc.annotations.containerImage,Y=(null==J?void 0:J.currentCSVDesc.description)||M,Q=null==J?void 0:J.currentCSVDesc.annotations.createdAt,Z=null!==(c=null==J?void 0:J.currentCSVDesc.annotations.capabilities)&&void 0!==c?c:e.capabilityLevel,ee=null===(m=null===(i=null==e?void 0:e.subscription)||void 0===i?void 0:i.spec)||void 0===m?void 0:m.channel,te=n.createElement("span",{className:"properties-side-panel-pf-property-label"},p("olm~N/A")),ae=Date.parse(Q)?n.createElement(b.xb,{timestamp:Q}):Q,[ne,le]=n.useState(!0),re=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.call(e,e=>n.createElement("div",{key:e},e)))&&void 0!==a?a:te},oe=re(h),se=re(R),ce=n.useMemo(()=>{if(_)try{const e=new URL(_);return e.searchParams.set("utm_source","openshift_console"),e.toString()}catch(e){console.error("Error while setting utm_source to support workflow URL",e.message)}return null},[_]),ie=t||Object(y.d)(x);return e?n.createElement("div",{className:"modal-body modal-body-border"},n.createElement("div",{className:"modal-body-content"},n.createElement("div",{className:"modal-body-inner-shadow-covers"},n.createElement("div",{className:"co-catalog-page__overlay-body"},n.createElement(l.g,null,n.createElement(l.h,{label:p("olm~Channel"),value:n.createElement(k.a,{packageManifest:x,selectedUpdateChannel:ie,setUpdateChannel:a,setUpdateVersion:o})}),n.createElement(l.h,{label:p("olm~Version"),value:n.createElement(k.b,{packageManifest:x,selectedUpdateChannel:ie,updateVersion:r,setUpdateVersion:o})}),n.createElement(l.h,{label:p("olm~Capability level"),value:Z?n.createElement(I,{selectedChannelCapabilityLevel:Z}):te}),n.createElement(l.h,{label:p("olm~Source"),value:g||te}),n.createElement(l.h,{label:p("olm~Provider"),value:A||te}),(null==h?void 0:h.length)>0&&n.createElement(l.h,{label:p("olm~Infrastructure features"),value:oe}),(null==R?void 0:R.length)>0&&n.createElement(l.h,{label:p("olm~Valid Subscriptions"),value:se}),n.createElement(l.h,{label:p("olm~Repository"),value:D?n.createElement(b.z,{href:D,text:D}):te}),n.createElement(l.h,{label:p("olm~Container image"),value:X?n.createElement("div",{className:"co-break-all co-select-to-copy"},X):te}),n.createElement(l.h,{label:p("olm~Created at"),value:ae||te}),n.createElement(l.h,{label:p("olm~Support"),value:ce?n.createElement(b.z,{href:ce,text:p("olm~Get support")}):F||te})),n.createElement("div",{className:"co-catalog-page__overlay-description"},Object(C.i)(U,$,G)&&ne&&(null==h?void 0:h.find(e=>e===w.b.TokenAuth))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in STS Mode"),message:p("olm~This cluster is using AWS Security Token Service to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, you must provide a role ARN (with an attached policy) during installation. Please see the operator description for more details."),onClose:()=>le(!1)}),Object(C.j)(U,$,G)&&ne&&(null==h?void 0:h.find(e=>e===w.b.TokenAuth))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in Azure Workload Identity / Federated Identity Mode"),message:p("olm~This cluster is using Azure Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Client ID, Tenant ID, and Subscription ID during installation. See the operator description for more details."),onClose:()=>le(!1)}),Object(C.k)(U,$,G)&&ne&&(null==h?void 0:h.find(e=>e===w.b.TokenAuthGCP))&&n.createElement(S.CloudServiceTokenWarningAlert,{title:p("olm~Cluster in GCP Workload Identity / Federated Identity Mode"),message:p("olm~This cluster is using GCP Workload Identity / Federated Identity to reach the cloud API. In order for this operator to take the actions it requires directly with the cloud API, provide the Pool ID, Provider ID, and Service Account Email during installation. See the operator description for more details."),onClose:()=>le(!1)}),B&&n.createElement(N.a,{deprecatedPackage:q,deprecatedChannel:z,deprecatedVersion:K}),n.createElement(T,{installed:f,isInstalling:P,latestVersion:L,catalogSource:v,subscription:V,installedChannel:ee,cloudCredentials:U,authentication:G,infrastructure:$}),Y?n.createElement(O.MarkdownView,{content:Y}):E))))):null};x.defaultProps={item:null},x.displayName="OperatorHubItemDetails"},9591:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),l=a(5),r=a(5420),o=a(6356);const s=()=>{const{done:e,error:t}=n.useContext(r.ExtensionCatalogDatabaseContext),[a,s]=n.useState([]),[c,i]=n.useState(!0),[m,d]=n.useState();n.useEffect(()=>{e&&!t||(i(!e),d(t))},[e,t]);const u=n.useCallback(()=>{e&&!t&&Object(o.d)("olm").then(e=>Object(o.c)(e,"extension-catalog")).then(e=>{s(e),d(null),i(!1)}).catch(e=>{d(e),i(!1),s([])})},[e,t]);return Object(l.Fc)(u,3e3),[a,c,m]}}}]);
//# sourceMappingURL=ExtensionCatalog-chunk-38db9a90e0aed6789abb.min.js.map