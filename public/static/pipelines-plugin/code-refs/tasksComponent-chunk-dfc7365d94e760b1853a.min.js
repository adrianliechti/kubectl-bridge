(window.webpackJsonp=window.webpackJsonp||[]).push([[248,20,44,126,283],{11430:function(e,t,n){"use strict";var a=n(0),i=n(14),r=n(409),s=n(7506);t.a=({obj:e})=>{const{ns:t}=Object(i.useParams)();return a.createElement(r.ResourcesEventStream,{filters:Object(s.b)(t,e),namespace:t})}},11431:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5586),s=n(5617),o=n(7511),l=n(11432);n(11434);t.a=({obj:e})=>{var t,n,c,u;const{t:d}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(l.a,{taskRun:e})),(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskResults)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.results)?a.createElement("div",{className:"co-m-pane__body"},a.createElement(o.a,{results:(null===(c=e.status)||void 0===c?void 0:c.taskResults)||(null===(u=e.status)||void 0===u?void 0:u.results),resourceName:d(r.TaskRunModel.labelKey),status:Object(s.i)(e)})):null)}},11432:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(5586),o=n(11433);t.a=({taskRun:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(r.ob,{text:t("pipelines-plugin~{{taskRunLabel}} details",{taskRunLabel:t(s.TaskRunModel.labelKey)})}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(r.lb,{resource:e})),a.createElement("div",{className:"col-sm-6 odc-taskrun-details__status"},a.createElement(o.a,{taskRun:e}))))}},11433:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(10),o=n(8),l=n(15),c=n(5586),u=n(5617),d=n(5623),p=n(7505),m=n(5588),b=n(7501),h=n(6858);t.a=({taskRun:e})=>{var t,n,v,g,f;const{t:y}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("dl",null,a.createElement("dt",null,y("pipelines-plugin~Status")),a.createElement("dd",null,a.createElement(l.cc,{status:Object(u.i)(e),title:Object(u.j)(e)}))),(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[m.u.pipelinerun])&&a.createElement("dl",{"data-test":"pipelineRun"},a.createElement("dt",null,y("pipelines-plugin~PipelineRun")),a.createElement("dd",null,a.createElement(r.hb,{kind:Object(o.Hb)(c.PipelineRunModel),name:e.metadata.labels[m.u.pipelinerun],namespace:e.metadata.namespace}))),a.createElement("dl",null,a.createElement("dt",null,y("pipelines-plugin~Started")),a.createElement("dd",null,a.createElement(r.xb,{timestamp:null===(v=null==e?void 0:e.status)||void 0===v?void 0:v.startTime}))),a.createElement("dl",null,a.createElement("dt",null,y("pipelines-plugin~Duration")),a.createElement("dd",null,Object(d.v)(e))),a.createElement(p.a,{logDetails:Object(h.a)(e),namespace:null===(g=e.metadata)||void 0===g?void 0:g.namespace}),(null===(f=null==e?void 0:e.status)||void 0===f?void 0:f.podName)&&a.createElement("dl",{"data-test":"pod"},a.createElement("dt",null,y("pipelines-plugin~Pod")),a.createElement("dd",null,a.createElement(r.hb,{kind:s.PodModel.kind,name:e.status.podName,namespace:e.metadata.namespace}))),a.createElement(b.a,{workspaces:e.spec.workspaces,namespace:e.metadata.namespace,ownerResourceName:e.metadata.name,ownerResourceKind:e.kind}))}},11434:function(e,t,n){},11435:function(e,t,n){},11436:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(5586),o=n(6849);n(11437);t.a=({obj:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement("div",{className:"co-m-pane__body"},a.createElement(r.ob,{text:t("pipelines-plugin~{{clusterTaskLabel}} details",{clusterTaskLabel:t(s.ClusterTaskModel.labelKey)})}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(r.lb,{resource:e})),a.createElement("div",{className:"col-sm-6 odc-cluster-task-details__status"},a.createElement(o.a,{workspaces:e.spec.workspaces}))))}},11437:function(e,t,n){},11438:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(5586),o=n(6849);n(11439);t.a=({obj:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement("div",{className:"co-m-pane__body"},a.createElement(r.ob,{text:t("pipelines-plugin~{{taskLabel}} details",{taskLabel:t(s.TaskModel.labelKey)})}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(r.lb,{resource:e})),a.createElement("div",{className:"col-sm-6 odc-task-details__status"},a.createElement(o.a,{workspaces:e.spec.workspaces}))))}},11439:function(e,t,n){},11440:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),s=n(872);t.a=e=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(i.b,null,a.createElement("title",null,t("pipelines-plugin~ClusterTasks"))),a.createElement(s.c,Object.assign({},e)))}},11441:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),s=n(872);t.a=e=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(i.b,null,a.createElement("title",null,t("pipelines-plugin~Tasks"))),a.createElement(s.c,Object.assign({},e)))}},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var i=n(869);n.d(t,"SecretTypeAbstraction",(function(){return i.c})),n.d(t,"AUTHS_KEY",(function(){return i.a})),n.d(t,"SecretType",(function(){return i.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var s=n(5604);n.d(t,"PullSecretForm",(function(){return s.a}));var o=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return o.a}));var l=n(5605);n.d(t,"CreateConfigSubform",(function(){return l.a}));var c=n(5607);n.d(t,"UploadConfigSubform",(function(){return c.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var b=n(5609);n.d(t,"GenericSecretForm",(function(){return b.a}));var h=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return h.b})),n.d(t,"KeyValueEntryForm",(function(){return h.a}));var v=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return v.b})),n.d(t,"EditSecret",(function(){return v.a}));var g=n(5637);n.d(t,"CreateSecret",(function(){return g.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var y=n(5600);n.d(t,"SecretSubForm",(function(){return y.a}));n(5638)},4381:function(e,t,n){"use strict";n.r(t),n.d(t,"StorageClassReference",(function(){return p})),n.d(t,"isDefaultClass",(function(){return h})),n.d(t,"StorageClassList",(function(){return y})),n.d(t,"StorageClassPage",(function(){return E})),n.d(t,"StorageClassDetailsPage",(function(){return k}));var a=n(0),i=n(16),r=n(499),s=n(54),o=n(7),l=n(18),c=n(40),u=n(5),d=n(10);const p="StorageClass",{common:m}=u.F.factory,b=[...u.F.getExtensionsActionsForKind(d.StorageClassModel),...m],h=e=>{const t=i.a(e,"metadata.annotations")||{};return"true"===t["storageclass.kubernetes.io/is-default-class"]||"true"===t["storageclass.beta.kubernetes.io/is-default-class"]},v=["pf-v5-u-w-42-on-md","pf-v5-u-w-42-on-md","pf-m-hidden pf-m-visible-on-md pf-v5-u-w-16-on-md",u.F.columnClass],g=({obj:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:t("public~StorageClass details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(u.lb,{resource:e},a.createElement(u.r,{label:t("public~Provisioner"),obj:e,path:"provisioner"}))),a.createElement("div",{className:"col-sm-6"},a.createElement("dl",{className:"co-m-pane__details"},a.createElement(u.r,{label:t("public~Reclaim policy"),obj:e,path:"reclaimPolicy"}),a.createElement("dt",null,t("public~Default class")),a.createElement("dd",null,h(e)?t("public~True"):t("public~False")),a.createElement(u.r,{label:t("public~Volume binding mode"),obj:e,path:"volumeBindingMode"}))))))},f=({obj:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(c.k,{className:l(v[0],"co-break-word")},a.createElement(u.hb,{kind:p,name:e.metadata.name},h(e)&&a.createElement("span",{className:"small text-muted co-resource-item__help-text"},"â€“ ",t("public~Default")))),a.createElement(c.k,{className:l(v[1],"co-break-word")},e.provisioner),a.createElement(c.k,{className:v[2]},e.reclaimPolicy||"-"),a.createElement(c.k,{className:v[3]},a.createElement(u.gb,{actions:b,kind:p,resource:e})))},y=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(c.j,Object.assign({},e,{"aria-label":t("public~StorageClasses"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[s.a],props:{className:v[0]}},{title:t("public~Provisioner"),sortField:"provisioner",transforms:[s.a],props:{className:v[1]}},{title:t("public~Reclaim policy"),sortField:"reclaimPolicy",transforms:[s.a],props:{className:v[2]}},{title:"",props:{className:v[3]}}],Row:f,virtualize:!0}))};y.displayName="StorageClassList";const E=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(c.c,Object.assign({},r.a(e,"mock"),{title:t("public~StorageClasses"),kind:p,ListComponent:y,canCreate:!0,filterLabel:e.filterLabel,createProps:{to:"/k8s/cluster/storageclasses/~new/form"},createButtonText:t("public~Create StorageClass")}))},k=e=>{const t=[u.mc.details(Object(u.Kb)(g)),u.mc.editYaml()];return a.createElement(c.a,Object.assign({},e,{kind:p,menuActions:b,pages:t}))};k.displayName="StorageClassDetailsPage"},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var i=n(5611);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"e",(function(){return i.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,i,r,s,o,l,c,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"z",(function(){return E})),n.d(t,"y",(function(){return k})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return R})),n.d(t,"n",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return N})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(s||(s={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(o||(o={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",b="1.5.2",h="pipeline",v="bridge/pipeline-run-auto-start-failed",g=275,f=375,y=60,E="pipeline.openshift.io/preferredName",k="chains.tekton.dev/signed",O="openshift-pipelines",j="openshift",R="config";var T;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(T||(T={}));const S="FLAG_TEKTON_V1_ENABLED",P="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",N="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return R})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return S})),n.d(t,"m",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"l",(function(){return w}));var a=n(5596),i=n(29),r=n(117),s=n(16),o=n(22),l=n(279),c=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),b=n(5659),h=n(5625),v=n(1400);const g=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),y=e=>{var t,n,a;const i=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==i?void 0:i.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==i?void 0:i.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},E=(e,t,n,i)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const i=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${i}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${i}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${i}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${i}`:a})(a(e),t,i);return n?`${n}/f?url=${r}&policies.create=peruser`:r},k=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},O=(e,t)=>t?e.filter(e=>s.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,j=(e,t)=>t.length>0&&!o.a(t[0].spec)?Object(u.c)(t[0]):null,R=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},T=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||R(null==e?void 0:e.getData())},S=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(R(null==e?void 0:e.getData())),P=(e,t)=>{const n=null==e?void 0:e.getData(),a=T(e);if(!e||!a||!l.a(n.resources))return Promise.reject();const r=[],s=[];r.push(a),e.getType()===b.d&&c.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(i.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));s.push(Object(h.c)(n,e,t))}return Promise.all(s)},N=(e,t,n=null)=>e&&t&&e!==t?Object(v.a)(e,t,n):Promise.reject(new Error(i.a.t("topology~Can not create a connection from a node to itself."))),w=e=>{const t=T(e.getSource()),n=T(e.getTarget());return t&&n?Object(v.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h}));var a=n(279),i=n(160),r=n(107),s=n(1404),o=n(7),l=n(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[s.WebHookSecretKey])&&1===a.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=i.a(e).sort();return r.a(t,["tls.crt","tls.key"])?l.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:r.a(t,[".dockercfg"])?l.b.dockercfg:r.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:r.a(t,["password","username"])?l.b.basicAuth:r.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},m=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:n}=Object(o.useTranslation)();switch(t){case l.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},h=e=>{const{t:t}=Object(o.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var i=n(5642);n.d(t,"e",(function(){return i.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return i(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(282);const r=e=>a.createElement(i.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var i=n(5628);n.d(t,"e",(function(){return i.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var s=n(5632);n.d(t,"a",(function(){return s.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(380),i=n(83),r=n(437),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const o="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),c=e=>s(void 0,void 0,void 0,(function*(){const t=yield i.consoleFetchJSON.post(o,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(501),i=n(838),r=n(2324),s=n(16),o=n(640),l=n(1256),c=n(0),u=n(137),d=n(7),p=n(320),m=n(966),b=n(19),h=n(14),v=n(8),g=n(5),f=n(118),y=n(10),E=n(5590),k=n(5600);const O=e=>{const{isCreate:t,modal:n,onCancel:O}=e,{t:j}=Object(d.useTranslation)(),R=Object(h.useNavigate)(),T=Object(h.useParams)(),S=a.a(e.obj,["metadata","type"]),P=Object(E.d)(e.secretTypeAbstraction),N=i.a({},e.fixed,S,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:P}),[w]=c.useState(e.secretTypeAbstraction),[C,_]=c.useState(N),[x,I]=c.useState(!1),[M,L]=c.useState(),[A,F]=c.useState(r.a(s.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[D,$]=c.useState({}),[U,q]=c.useState(!1),B=Object(E.g)(t,w),K=Object(E.f)(w),V=()=>R(`/k8s/ns/${T.ns}/core~v1~Secret`),G=e=>{F(Object.assign({},null==e?void 0:e.stringData)),$(Object.assign({},null==e?void 0:e.base64StringData))},W=e=>{L(e),I(!1)},H=e=>{const t=e.target.value,n=o.a(C);n.metadata.name=t,_(n)},z=n=>{n.preventDefault();const{metadata:a}=C;I(!0);const i=Object.assign(Object.assign({},r.a(A,e=>p.Base64.encode(e))),D),s=l.a({},C,{data:i},t?{type:Object(E.a)(A)}:{});(t?Object(v.jb)(y.SecretModel,s):Object(v.rb)(y.SecretModel,s,a.namespace,s.metadata.name)).then(t=>{I(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||R(Object(g.sc)(t,Object(v.Db)(t)))},e=>{L(e.message),I(!1)})},J=()=>{var n;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},j("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:H,value:null===(n=null==C?void 0:C.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},j("public~Unique name of the new secret."))))),c.createElement(k.a,{typeAbstraction:e.secretTypeAbstraction,onChange:G,onError:W,onFormDisable:e=>q(e),stringData:A,secretType:C.type,isCreate:t}))};return n?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:z},c.createElement(f.d,null,B),c.createElement(f.a,null,J()),c.createElement(f.c,{errorMessage:M||"",inProgress:x,submitText:j("public~Create"),cancel:O||V})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,B)),c.createElement(g.Z,{title:B,helpText:K}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:z},J(),c.createElement(g.g,{errorMessage:M,inProgress:x},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:U,variant:"primary",id:"save-changes"},e.saveButtonText||j("public~Create")),c.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:O||V},j("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return f}));var a,i=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const s={[i.b.GITHUB]:"GitHub",[i.b.GITLAB]:"GitLab",[i.b.GITEA]:"Gitea",[i.b.BITBUCKET]:"Bitbucket",[i.b.UNSURE]:"Other"};var o,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(o||(o={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:r.DeploymentConfigModel.labelKey,[l.Kubernetes]:r.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[l.OpenShift]:r.DeploymentConfigModel.kind,[l.Kubernetes]:r.DeploymentModel.kind,[l.KnativeService]:"Service"};var b,h,v,g,f,y;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(h||(h={})),function(e){e.None="None",e.Redirect="Redirect"}(v||(v={})),function(e){e.m="millicores",e[""]="cores"}(g||(g={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(y||(y={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(869),r=n(5601),s=n(5604),o=n(5608),l=n(5609),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=c(e,["typeAbstraction"]);switch(t){case i.c.source:return a.createElement(r.a,Object.assign({},n));case i.c.image:return a.createElement(s.a,Object.assign({},n));case i.c.webhook:return a.createElement(o.a,Object.assign({},n));default:return a.createElement(l.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(7),r=n(5),s=n(869),o=n(5602),l=n(5603);class c extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:s.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[s.b.basicAuth]:e("public~Basic authentication"),[s.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===s.b.basicAuth?a.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(i.withTranslation)()(c)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const s=Object(i.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5593);const s=({onChange:e,stringData:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),i=n(0),r=n(7),s=n(5),o=n(5590),l=n(869),c=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[b,h]=i.useState("credentials"),{t:v}=Object(r.useTranslation)(),g=i.useMemo(()=>{var e;try{const t=Object(o.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=i.useCallback(t=>{a.a(t)||n(!1);const i=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[i]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),y={credentials:v("public~Image registry credentials"),"config-file":v("public~Upload configuration file")};return i.createElement(i.Fragment,null,m&&i.createElement("div",{className:"form-group"},i.createElement("label",{className:"control-label",htmlFor:"secret-type"},v("public~Authentication type")),i.createElement("div",{className:"co-create-secret__dropdown"},i.createElement(s.t,{items:y,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:h}))),"credentials"===b?i.createElement(c.a,{onChange:f,stringData:g}):i.createElement(u.a,{onChange:f,stringData:g,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(22),i=n(840),r=n(4434),s=n(57),o=n(16),l=n(4437),c=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),b=n(7),h=n(320),v=n(19),g=n(408),f=n(407),y=n(869),E=n(5606);class k extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[y.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[y.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:i.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(s.a(e,(e,n)=>{const r=h.Base64.decode(o.a(e,"auth","")),s=a.a(r)?l.a(Array(2),""):c.a(r,":");t.push({entry:{address:n,username:o.a(e,"username",s[0]),password:o.a(e,"password",s[1]),email:o.a(e,"email",""),auth:o.a(e,"auth","")},uid:o.a(e,"uid",i.a())})}),t)}imageSecretArrayToObject(e){const t={};return s.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[y.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],i={uid:a[t].uid,entry:e,auth:h.Base64.encode(`${e.username}:${e.password}`)};return a[t]=i,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:i}=null!=t?t:{},{address:r,email:s,password:o,username:l}=null!=i?i:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(v.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(g.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(E.a,{id:n,address:r,email:s,password:o,username:l,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(v.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const O=Object(b.withTranslation)()(k)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(320);const s=({id:e,address:t,email:n,password:s,username:o,onChange:l})=>{const{t:c}=Object(i.useTranslation)(),u=(a,i)=>{const c=o.trim(),u=s.trim(),d=o&&s?r.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:o,password:s,email:n,[a]:i},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:o,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:s,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),i=n(1973),r=n(1240),s=n(0),o=n(7),l=n(5593);class c extends s.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(i.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(i.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&s.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(o.withTranslation)()(c)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5590);class s extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const o=Object(i.withTranslation)()(s)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(840),i=n(22),r=n(50),s=n(255),o=n(1256),l=n(4434),c=n(279),u=n(0),d=n(7),p=n(320),m=n(19),b=n(408),h=n(407),v=n(973),g=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return i.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=v.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return s.a(e,(e,t)=>{var n,a;return o.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(g.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(h.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const y=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5593);class s extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const o=Object(i.withTranslation)()(s)},5611:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(i||(i={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),i=n(5596),r=n(320),s=n(83),o=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:i,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:c}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),i=n(5707),r=(n(4360),n(83)),s=n(5597),o=n(5587),l=n(5592),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>c(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(s.c)(Object.assign({url:e,method:t||"GET",headers:Object(s.d)(r)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return o.d.Reachable}catch(e){switch(e.status){case 429:return o.d.RateLimitExceeded;case 403:return o.d.PrivateRepo;case 404:return o.d.ResourceNotFound;default:return o.d.InvalidGitTypeSelected}}return o.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>c(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},i={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},o=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(s.a,{url:o,method:"POST",headers:a,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),i=n(5708),r=n(29),s=n(320),o=n(83),l=n(5597),c=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return s.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const i=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},s={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield o.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${i}/hooks`,method:"POST",headers:r,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),i=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,i,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new i.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:i}=a(this.gitsource.url),r=(null==(s=this.gitsource.contextDir)?void 0:s.replace(/^\//,""))||"";var s;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:i,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),i=n(320),r=n(22),s=(n(4360),n(83)),o=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+i.Base64.encode(`${i.Base64.decode(e)}:${i.Base64.decode(t)}`)}}return{Authorization:"token "+i.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(o.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(o.d)(r)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:i,full_name:r}=a(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+i,defaultBranch:this.gitsource.ref,fullName:r,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},i=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:i,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],s=e=>i(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>i(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return g}));var a,i=n(29),r=n(16),s=n(240),o=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const l=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const i=n.find(e=>"Succeeded"===e.type),s=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!s)return o.a.Cancelling;if(!i||!i.status)return null;const l="True"===i.status?o.a.Succeeded:"False"===i.status?o.a.Failed:o.a.Running;if(i.reason&&i.reason!==l)switch(i.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return o.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return o.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return o.a.Pending;case a.ConditionCheckFailed:return o.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case o.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case o.a.Failed:return i.a.t("pipelines-plugin~Failed");case o.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case o.a.Pending:return i.a.t("pipelines-plugin~Pending");case o.a.Running:return i.a.t("pipelines-plugin~Running");case o.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case o.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||o.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>l(e)||o.a.Other,b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},h=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},v=e=>l(e)||o.a.Other,g=e=>c(e)||"-"},5618:function(e,t,n){"use strict";var a=n(0),i=n(297),r=n(18),s=n.n(r);n(5732);const o={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:n,children:r,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>a.createElement("div",{className:s()("pf-v5-c-form",{"co-m-pane__form":!n,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?o:{}),d||{}),"data-test":u},e&&a.createElement("h2",{className:"odc-form-section__heading"},e),t&&a.createElement(i.a,null,t),r)},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return R})),n.d(t,"b",(function(){return T})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return P}));var a=n(4413),i=n(689),r=n(5),s=n(5620),o=n(2221),l=n(5624),c=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),h=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:o.b,then:i.string().required("Required")})}),v=e=>i.object().shape({replicas:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),g=i.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),f=e=>i.object().when("resources",{is:c.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),E=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),k=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),O=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),j=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),R=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),T=i.object().shape({strategy:i.string()}),S=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),P=i.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===c.a.PIPELINES)&&n!==s.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"s",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return R}));var a=n(5654);const i=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},s={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},h={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},g={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},k={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},O={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},R={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"p",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"f",(function(){return N})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"v",(function(){return I})),n.d(t,"B",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"s",(function(){return F})),n.d(t,"w",(function(){return D})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return U})),n.d(t,"t",(function(){return q})),n.d(t,"g",(function(){return B})),n.d(t,"x",(function(){return K})),n.d(t,"y",(function(){return V})),n.d(t,"z",(function(){return G})),n.d(t,"r",(function(){return J})),n.d(t,"u",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Q})),n.d(t,"A",(function(){return Z})),n.d(t,"n",(function(){return ee}));var a=n(321),i=n(29),r=n(1557),s=n(117),o=n(16),l=n(22),c=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),b=n(5588),h=n(5650),v=n(5586),g=n(5595),f=n(5635),y=n(5617);const E=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,k=e=>e.runAfter&&e.runAfter.length>0;var O;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(O||(O={}));const j={[O.Running]:i.a.t("pipelines-plugin~Running"),[O.Failed]:i.a.t("pipelines-plugin~Failed"),[O.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[O.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[O.Other]:i.a.t("pipelines-plugin~Other")};var R;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(R||(R={}));R.Git,R.PullRequest,R.Image,R.Cluster,R.Storage,R.CloudEvent;const T=(e,t,n,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===y.a.PipelineRunCancelled?r.a(e,{status:{reason:g.a.Cancelled}}):t.spec.status===y.a.PipelineRunPending?r.a(e,{status:{reason:g.a.Idle}}):r.a(e,{status:{reason:g.a.Failed}});const l=s.a(n,t=>t.metadata.labels[b.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=r.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?o.a(s.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(y.d)(u)||g.a.Pending:u.status&&!u.status.reason&&(u.status.reason=g.a.Pending):u.status={reason:g.a.Pending},u}),S=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const i=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||l.a(e.spec.tasks))return i;const r=T(e,t,n);return r.forEach(e=>{E(e)||k(e)||(0===i.length&&i.push([]),i[0].push(e))}),r.forEach(e=>{var t;if(!k(e)&&E(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):i.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(k(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):i.splice(n+1,0,[e])}}),i},P=(e,t,n)=>T(e,t,n,!0),N=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!l.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},w=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:g.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:g.a.PipelineNotStarted};let n=Object(y.c)(t);return"-"===n&&(n=g.a.Pending),{latestPipelineRun:t,status:n}},C=e=>e&&e.map(e=>({name:e.name,value:e.default})),_=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),x=(e,t,n)=>{const a=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(h.g)(i,n)},I=e=>{var t,n,a,i;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,s=null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==i?i:null;return!r||!s&&"Running"!==Object(y.d)(e)?"-":x(r,s,!0)},M=(e,t,n)=>{const a=c.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},L=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,b.l,t).then(t=>{void 0===s.a(t.secrets,t=>t.name===e.metadata.name)&&M(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},A=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,F=(e,t={})=>{let n=0,a=A(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=A(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},D=e=>{switch(e.kind){case v.PipelineModel.kind:case v.TaskModel.kind:case v.EventListenerModel.kind:return"";case v.PipelineRunModel.kind:return"pipeline-runs";case v.PipelineResourceModel.kind:return"pipeline-resources";case v.ConditionModel.kind:return"conditions";case v.TaskRunModel.kind:return"task-runs";case v.ClusterTaskModel.kind:return"cluster-tasks";case v.TriggerTemplateModel.kind:return"trigger-templates";case v.TriggerBindingModel.kind:return"trigger-bindings";case v.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case v.RepositoryModel.kind:return"repositories";default:return null}},$=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),U=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),q=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),B=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),K=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineModelV1Beta1:v.PipelineModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineRunModelV1Beta1:v.PipelineRunModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?v.TaskModelV1Beta1:v.TaskModel;var W,H,z;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(W||(W={})),function(e){e.EXTERNAL_LINK="external-link"}(H||(H={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(z||(z={}));const J=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[W.KEY])===z.SBOM}),Y=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[W.TYPE])===H.EXTERNAL_LINK},X=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===z.SBOM))||void 0===i?void 0:i.value},Q=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===z.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},Z=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return g.a.Pending;return Object(y.d)(e)},ee=e=>{var t,n,a;const i=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),s={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);s[t.trim()]=Number(n.trim())});const o=((null==s?void 0:s.Completed)||0)-((null==s?void 0:s.Failed)||0)-((null==s?void 0:s.Cancelled)||0);return{Running:(null==s?void 0:s.Incomplete)||0,Succeeded:o||0,Cancelled:(null==s?void 0:s.Cancelled)||0,Failed:(null==s?void 0:s.Failed)||0,Skipped:(null==s?void 0:s.Skipped)||0,Completed:(null==s?void 0:s.Completed)||0,Cancelling:(null==s?void 0:s.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return S}));var a=n(29),i=n(22),r=n(16),s=n(57),o=n(640),l=n(5649),c=n(5),u=n(10),d=n(8),p=n(76),m=n(870),b=n(5586),h=n(5623),v=n(15),g=n(2221),f=n(1400),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const E=(e,t=e)=>{switch(t){case g.z:case g.b:return"";default:return e}},k=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:i.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},O=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const i=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),o=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[k(e,t,n)];if(!i)return Promise.all(l);return o&&({"app.kubernetes.io/instance":i}["app.kubernetes.io/part-of"]=o),Object(f.e)(t.metadata.namespace,i,{"app.kubernetes.io/part-of":o}).then(e=>(s.a(e,e=>{s.a(e,e=>{!o&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(k(Object(d.vb)(e.kind),e,n))})}),Promise.all(l)))},j=(e,t={},n)=>y(void 0,void 0,void 0,(function*(){var a,i;try{if(n){const n=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),R=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),T=(e,t)=>y(void 0,void 0,void 0,(function*(){var n,a;const i=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(l.c)(i["app.openshift.io/vcs-uri"]),s=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let o;if((null==t?void 0:t.length)>0)o=null==t?void 0:t.reduce((t,n)=>{var a,i;return[...t,...(null!==(i=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==i?i:[]).reduce((t,n)=>{var a,i;let o;const l=n.generic?"generic":r,c=n.generic||n[r];if(c){const t=null!==(i=null===(a=c.secretReference)||void 0===a?void 0:a.name)&&void 0!==i?i:`${e.metadata.name}-${l}-webhook-secret`;o=s.find(e=>e.metadata.name===t)}return o?[...t,R(u.SecretModel,o)]:t},[])]},[]);else{const t=s.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=s.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);o=[R(u.SecretModel,t),R(u.SecretModel,n)]}return o})),S=e=>y(void 0,void 0,void 0,(function*(){const t=[],n=yield j(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield j(u.BuildModel,{ns:e.metadata.namespace}),r=yield j(b.PipelineModel,{ns:e.metadata.namespace},!0),s=yield j(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield j(b.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),g=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},y=Object(v.Gc)(e,f),E=!i.a(y),k=Object(h.l)(e,r);let O=[],S=[];const P=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],N=[p.p,u.ImageStreamModel];i.a(k)||(P.push(b.PipelineModel),N.push(b.PipelineModel),O=Object(h.t)(k,s),S=Object(h.g)(O,l));const w=o.a(e),C=(e,n)=>{const a=R(e,n);a&&t.push(a)};E&&y.forEach(e=>{C(u.BuildConfigModel,e)});const _=(e,t)=>{e.forEach(e=>C(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&C(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&C(g,e),O.length>0&&O.forEach(e=>C(b.TriggerTemplateModel,e)),S.length>0&&S.forEach(e=>C(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:C(g,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:C(g,e),_(P,e);break;case p.p.kind:_(N,w);break;case p.b.kind:case p.k.kind:C(g,e)}return E&&t.push(...yield T(e,y)),k&&t.push(...yield T(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5587),i=n(5611),r=n(5616),s=n(5661),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:i.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:i.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:i.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:i.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],c=(e,t,n=!1)=>o(void 0,void 0,void 0,(function*(){let e,r=[],c=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(s.b)(n,t),r=yield Promise.all(l.map(e=>o(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(r=r.filter(e=>e.type!==i.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"r",(function(){return k}));var a=n(2221);const i="event-source",r="event-sink",s="kafka-sink",o="event-source-kafka",l="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",b="revision-traffic",h="knative-revision",v="sink-uri",g=a.h,f=100,y=[a.c,a.c,a.c+10,a.c],E=6,k="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return P})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return w}));var a=n(5699),i=n(1403),r=n(5692),s=n(5691),o=n(5654),l=n(2225),c=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),b=n(5617);const h=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(b.c)(n),n},v=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=h(n,"creationTimestamp"),e}),g=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:o.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:s.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},f=e=>{var t,n,a,i,r;const s=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),o=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return s&&o?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:s,namespace:e.metadata.namespace},spec:o}:null},y=(e,t,n)=>{var a,i,r,s,o;const l=(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==i?i:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=c().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||n){c().forEach(t=>{const a=Object(b.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(b.c)(e)===m.a.Cancelled,i=l>=u?l-u-d:l;t||a?p[m.a.Cancelled]+=i:p[m.a.Pending]+=i}else"False"===(null===(o=null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===s?void 0:s[0])||void 0===o?void 0:o.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?p[m.a.Cancelled]=l:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?p[m.a.Pending]+=l:p[m.a.PipelineNotStarted]++;return p},E=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,k=e=>(E(e)||p.TaskModel).kind,O=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,j=e=>(O(e)||p.TriggerBindingModel).kind,R=e=>{const t=E(e);return Object(u.Hb)(t)},T=(e,t)=>{const n=t&&y(e,void 0,t);return null==n?void 0:n.Running},S=(e,t)=>!(e&&(T(e,t)>0||Object(b.c)(e)===m.a.Running)),P=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===m.a.Running)),N=(e,t)=>!(e&&T(e,t)>0&&Object(b.c)(e)!==m.a.Cancelled),w=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),i=n(0),r=n(7),s=n(14),o=n(5),l=n(869),c=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends i.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return i.createElement(o.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return i.createElement(o.wb,Object.assign({},e),i.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(s.useParams)(),{t:n}=Object(r.useTranslation)();return i.createElement(o.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},i.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(14),r=n(5598);const s=()=>{const e=Object(i.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},i={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},s={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},o={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,i,a,o,l,d,c,u,s],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5587);function i(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4359),i=n(5587),r=n(5613),s=n(5615),o=n(5612),l=n(5614);function c(e,t,n,c,u,d,p){let m,b;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=i.e.BASIC_AUTH,b=u.data;break;case a.SecretType.sshAuth:m=i.e.SSH,b=u["ssh-privatekey"];break;default:m=i.e.NO_AUTH}const h={url:e,ref:n,contextDir:c,secretType:m,secretContent:b,devfilePath:d,dockerfilePath:p};switch(t){case i.b.GITHUB:return new o.a(h);case i.b.BITBUCKET:return new r.a(h);case i.b.GITLAB:return new l.a(h);case i.b.GITEA:return new s.a(h);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5709);class i{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"i",(function(){return T})),n.d(t,"d",(function(){return S}));var a=n(29),i=n(16),r=n(57),s=n(117),o=n(367),l=n(1401),c=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),b=n(1400),h=n(5589);const v=(e,t)=>{var n,a,i,r,s,o,l,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(i=null==e?void 0:e.buildConfigs)||void 0===i?void 0:i.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(o=null===(s=null==e?void 0:e.pipelines)||void 0===s?void 0:s.data)||void 0===o?void 0:o.find(e=>e.metadata.name===t);if(m){const e=null===(c=null===(l=null==m?void 0:m.spec)||void 0===l?void 0:l.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},g=(e,t,n,a,r=!1,s)=>{const{monitoringAlerts:o=[]}=t,c=i.a(e,"metadata.uid"),m=i.a(e,"metadata.labels",{}),b=i.a(e,"metadata.annotations",{}),h=i.a(e,"metadata.name",""),g=v(s,h),f=Object(l.d)("icon-"+m["app.openshift.io/runtime"])||Object(l.d)("icon-"+m["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:o,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:g,builderImage:f||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},f=(e,t,n,a,i,r,s)=>{var o;const l=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(o=null==e?void 0:e.metadata.labels)||void 0===o?void 0:o["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:l,type:t,label:d||c,shape:s,resource:e,resourceKind:p,data:n},i&&i.length&&{children:i}),a||{})},y={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},E=(e,t)=>{const n=i.a(e,"metadata.annotations"),o=[];return r.a(Object(b.d)(n),n=>{const r=i.a(s.a(t,e=>{var t,a,i,r,s;let o;if("string"==typeof n)return o=null!==(i=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==i?i:null===(r=e.metadata)||void 0===r?void 0:r.name,o===n;o=null===(s=e.metadata)||void 0===s?void 0:s.name;const{apiVersion:l,kind:c,name:u}=n,{kind:d,apiVersion:p}=e;let m=o===u&&d===c;return p&&(m=m&&p===l),m}),["metadata","uid"]),l=i.a(e,["metadata","uid"]);r&&o.push({id:`${l}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:l,target:r})}),o},k=e=>{const t=i.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[i.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},O=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,i,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(i=t.data)||void 0===i?void 0:i.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},j=(e,t)=>{e&&e.length&&e.forEach(e=>{O(e,t)})},R=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:i}=e;return!i||!!n.find(e=>e(i,t))}))),j(e.nodes.filter(e=>e.group),t.nodes))},T=(e,t,n=h.a)=>o.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let i,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),i=Object(u.o)(a)),Object.assign({kind:r,apiVersion:i},e)}):[])),S=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,i,r,s=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const o={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:s.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[s.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[s.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(2338),i=n(689),r=n(5591),s=n(5653),o=n(15),l=n(5655),c=n(5621);const u=e=>i.object().shape({name:Object(o.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(s.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(o.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return R}));var a,i,r=n(321),s=n(29),o=n(550),l=n(50),c=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),b=n(158),h=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const v=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[h.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:o.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[h.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[h.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),g=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>b.b.format(e),y=(e,t,n)=>{const{metric:a,values:i}=e,r=l.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),s=Number(c.a(r,"[0].x")),o=Number(c.a(u.a(r),"x")),p=n/t;return d.a(s,o,p).forEach((e,t)=>{const n=new Date(e);c.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},E=(e,t,n)=>{var a;const i=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==i?void 0:i.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,i])=>{var r,s;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(s=null==n?void 0:n(i))&&void 0!==s?s:parseFloat(i),metric:null==e?void 0:e.metric,time:a}})})},k=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<a;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,a)},O=(e,t)=>{if(0===e)return s.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,i=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(i=Math.floor(a/60),a%=60),i>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} hour",{count:i}):s.a.t("pipelines-plugin~{{hr}}h",{hr:i}),r+=" "),a>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} minute",{count:a}):s.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} second",{count:n}):s.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},j=()=>({"1d":s.a.t("pipelines-plugin~1 day"),"3d":s.a.t("pipelines-plugin~3 days"),"1w":s.a.t("pipelines-plugin~1 week"),"2w":s.a.t("pipelines-plugin~2 weeks"),"3w":s.a.t("pipelines-plugin~3 weeks"),"4w":s.a.t("pipelines-plugin~4 weeks")}),R=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),i=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},s=/ *\([^)]*\) */g,o=e=>e.replace(s,""),l=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:s,name:o}=e.spec.ref;return Object(a.n)(i.l)===r&&s===i.l.kind&&o!==t?o:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(o(e)))).map(e=>o(e)))],u=e=>e.some(e=>new RegExp(s).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,i;const r=null==t?void 0:t.find(t=>t.metadata.name===o(e));return r&&(null===(i=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===i?void 0:i.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),i=n(8),r=n(5663);class s extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(i.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=s},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"f",(function(){return N})),n.d(t,"d",(function(){return w}));var a=n(5596),i=n(320),r=n(2338),s=n(689),o=n(5621),l=n(5624),c=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),b=n(5586),h=n(5620),v=n(5656),g=n(5588),f=n(5648),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const E={dryRun:"All"},k=e=>s.object().shape({name:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:s.string().matches(o.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:s.string(),webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),O=e=>s.object().shape({webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>s.object().shape({repository:s.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===h.a.PAC&&t,then:O(e)})}),R=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),T=e=>o.f.test(e)?R(e,"github.com")?u.b.GITHUB:R(e,"bitbucket.org")?u.b.BITBUCKET:R(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,S=(e,t,n={},r)=>y(void 0,void 0,void 0,(function*(){var s,o,l;const{name:m,gitUrl:h,webhook:{secretObj:v,method:g,token:k,secret:O,user:j}}=e,R=i.Base64.encode(O),S=T(h);let P;k&&"token"===g?P=yield((e,t,n,a,r,s,o)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},s&&{"webhook.secret":s}),r===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${n}`)})};return Object(c.g)({model:p.SecretModel,data:l,ns:a,queryParams:o?E:{}})})))(m,j,k,t,S,O,r):"secret"===g&&v&&(null===(s=null==v?void 0:v.data)||void 0===s?void 0:s["webhook.secret"])!==R&&(yield Object(c.p)({model:p.SecretModel,resource:v,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(O)}]}));const N=a(h).source,w=P||v,C={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:h},w||"github.com"!==N?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(N)?{}:{url:N}),"bitbucket.org"===N?{user:j}:{}),w?{secret:{name:null===(o=null==w?void 0:w.metadata)||void 0===o?void 0:o.name,key:"provider.token"},webhook_secret:{name:null===(l=null==w?void 0:w.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:b.RepositoryModel,data:C,ns:t,queryParams:r?E:{}})})),P=(e,t,n)=>y(void 0,void 0,void 0,(function*(){var a,r,s;const{gitUrl:o,webhook:{method:l,token:c,secret:d,url:p,secretObj:m,user:b}}=e,h=T(o),v=Object(u.e)(o,h);let g,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),g=h===u.b.BITBUCKET?"token"===l?i.Base64.encode(`${b}:${c}`):i.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===l?c:i.Base64.decode(null===(s=null==m?void 0:m.data)||void 0===s?void 0:s["provider.token"]);return yield v.createRepoWebhook(g,p,f,d)})),N=e=>{if(!o.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},w=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:g.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:g.g,name:v.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689);const i=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),s=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",s="pipelines-as-code-interceptor",o="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o}));const a=e=>"Topology/ComponentFactory"===e.type,i=e=>"Topology/DataModelFactory"===e.type,r=e=>"Topology/CreateConnector"===e.type,s=e=>"Topology/DisplayFilters"===e.type,o=e=>"Topology/Decorator"===e.type},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(2221);const i="operator-backed-service",r=a.h,s=a.f,o=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(447),i=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const s=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const s=yield e.getFuncYamlContent();try{const e=a.a(s)?Object(i.c)(s):s,o=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:o,runtime:c,builderEnvs:l,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),o=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(i.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5662:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(0),i=n(5619),r=n(5589),s=n(5647),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class l{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const n=this.extensions[t].resources(this.namespace);Object.keys(n).forEach(t=>{e[t]||(e[t]=n[t])})}return e},Object(s.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,n=Object.keys(t).reduce((e,n)=>(e[n]=t[n].kind,e),{});return Object(s.i)(e,n,this.workloadKeys)},this.getExtensionModels=e=>o(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},n=this.dataModelGetters;if(!(null==n?void 0:n.length))return Promise.resolve(t);const a=this.dataModelDepicters,i=this.getWorkloadResources(e),r=n.map(t=>{try{return t(this.namespace,e,i)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(r).then(e=>{e.forEach(e=>{if(e)try{Object(s.b)(e,t,a)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(n=>{try{n(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(i.p)(this,{namespace:i.q,model:i.q.ref,loaded:i.q,loadError:i.q,extensionsLoaded:i.q,watchedResources:i.q.ref,isEmptyModel:i.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...r.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,n;return 0===(null!==(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}}const c=Object(a.createContext)(null)},5663:function(e,t,n){"use strict";var a=n(5585),i=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class s extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(i.p)(this,{anchors:i.q.shallow,dimensions:i.q.ref,dimensionsInitialized:i.q,position:i.q.ref,nodes:i.i,group:i.q,collapsed:i.q,labelPosition:i.q,shape:i.q,status:i.q,groupBounds:i.i,sourceEdges:i.i,targetEdges:i.i,setDimensions:i.f,setBounds:i.f,setPosition:i.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:i,y:r}=this.position;e.x===i&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,i=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),s=new a.Point(r.x+n,r.y+i);t.setPosition(s)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=s},5669:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return b}));const a="OPENSHIFT_PIPELINE",i="OPENSHIFT_PIPELINE_AS_CODE",r="OPENSHIFT_PIPELINE_CONDITION",s="openshift",o="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",m="resource.deleted.in.k8s",b="resource.loaded.from.tektonResults"},5684:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(8),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const s=(e,t,n,s)=>{const[o,l]=a.useState(),[c,u]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{r(void 0,void 0,void 0,(function*(){try{p(null),u(!1),l(null);const a=yield Object(i.kb)(e,t,n,s);l(a)}catch(e){p(e)}finally{u(!0)}}))},[e,t,n,s]),[o,c,d]}},5687:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return k}));var a=n(225),i=n(16),r=n(499),s=n(1557),o=n(53),l=n(15),c=n(5669),u=n(5586),d=n(5623),p=n(5588),m=n(5725);const b=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},h=(e=null,t,n)=>{var m,h,v,g,f,y;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const E=((e,t)=>{var n,a,i;return e?e.metadata.name:t?null!==(a=null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)&&void 0!==a?a:(null===(i=t.metadata.annotations)||void 0===i?void 0:i[p.z])||t.metadata.name:null})(e,t),k=null==t?void 0:t.spec.workspaces,O=null==t?void 0:t.spec.params,j=null==e?void 0:e.spec.params,R=O||Object(d.m)(j),T=s.a({},null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations,null===(h=null==t?void 0:t.metadata)||void 0===h?void 0:h.annotations,{[p.q.user]:Object(o.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(v=null==t?void 0:t.metadata.annotations)||void 0===v?void 0:v[p.z])&&{[p.z]:E});delete T["kubectl.kubernetes.io/last-applied-configuration"],delete T["tekton.dev/v1beta1TaskRuns"],delete T["results.tekton.dev/log"],delete T["results.tekton.dev/record"],delete T["results.tekton.dev/result"],delete T[c.c],delete T[c.l];return(e=>{let t=e;if(a.a(t,"spec.serviceAccount")){const e=i.a(t,"spec.serviceAccount");t=r.a(t,["spec.serviceAccount"]),t=s.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==n?void 0:n.generateName)?{generateName:E+"-"}:{name:void 0!==(null===(g=null==t?void 0:t.metadata)||void 0===g?void 0:g.name)?`${b(t)}${Object(l.wd)()}`:`${E}-${Object(l.wd)()}`}),{annotations:T,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:s.a({},null===(f=null==e?void 0:e.metadata)||void 0===f?void 0:f.labels,null===(y=null==t?void 0:t.metadata)||void 0===y?void 0:y.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":E})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:E}}),R&&{params:R}),{workspaces:k,status:null})})},v=e=>({volumeClaimTemplate:{metadata:{labels:{[p.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),g=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[p.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),f=e=>t=>{let n={type:p.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(n={type:p.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(n={type:p.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),n)},y=(e,t=!1,n="")=>{const{metadata:{namespace:a},spec:{params:i,resources:r}}=e;return{namespace:a,parameters:(i||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(r||[]).map(e=>({name:e.name,selection:t?m.a:"",data:Object.assign(Object.assign({},m.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(f(n))}},E=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),k=(e,t,n,a,i)=>{const{parameters:r,workspaces:s}=t,o={metadata:{annotations:a,labels:n},spec:{pipelineRef:{name:e.metadata.name},params:r.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(s)}};return h(e,o,i)}},569:function(e,t,n){"use strict";n.r(t);var a=n(8292);n.d(t,"TaskRunDetailsPage",(function(){return a.a})),n.d(t,"TaskRunsListPage",(function(){return a.b}));var i=n(8294);n.d(t,"ClusterTaskDetailsPage",(function(){return i.a})),n.d(t,"ClusterTaskListPage",(function(){return i.b}));var r=n(8297);n.d(t,"TaskDetailsPage",(function(){return r.a})),n.d(t,"TasksListsPage",(function(){return r.c})),n.d(t,"TaskListPage",(function(){return r.b}))},5695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,i=n(0),r=n(18),s=n(1946),o=n(5727);n(5728);!function(e){e.light="light",e.default="default"}(a||(a={}));t.b=({children:e,disabled:t,onNamespaceChange:n,hideProjects:l=!1,hideApplications:c=!1,variant:u=a.default,toolbar:d})=>i.createElement("div",{className:"odc-namespaced-page"},i.createElement(s.NamespaceBar,{isDisabled:t,onNamespaceChange:n,hideProjects:l},!c&&i.createElement(o.a,{disabled:t}),d&&i.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),i.createElement("div",{className:r("odc-namespaced-page__content",{["is-"+u]:u!==a.default})},e))},5704:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(13),s=n(5),o=n(69),l=n(15),c=n(5710),u=n(5647),d=n(5720),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var{namespace:t}=e,n=p(e,["namespace"]);const{t:m}=Object(i.useTranslation)(),b=Object(o.z)(d.a),h=Object(o.z)(r.Zb),v=a.useMemo(()=>Object(c.b)(h),[h]),g=a.useMemo(()=>{let e=Object(u.d)(t);return[...b,...v].forEach(n=>{var a,i;const r=null===(i=(a=n.properties).resources)||void 0===i?void 0:i.call(a,t);r&&(e=Object.assign(Object.assign({},r),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[v,b,t]);return a.createElement(s.C,{resources:g},a.createElement(l.Nb,Object.assign({},n,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5705:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return k}));var a=n(0),i=n(283),r=n(13),s=n(77),o=n(519),l=n(15),c=n(5586),u=n(5588),d=n(5650),p=n(5899),m=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const b=e=>m(void 0,void 0,void 0,(function*(){const t=(yield Object(s.l)(o.a,{ns:e})).filter(e=>{var t,n,a,i,r;return((null===(n=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===n?void 0:n.startsWith("openshift-pipelines-operator"))||(null===(i=null===(a=e.metadata)||void 0===a?void 0:a.name)||void 0===i?void 0:i.startsWith("redhat-openshift-pipelines")))&&(null===(r=e.status)||void 0===r?void 0:r.phase)===o.b.CSVPhaseSucceeded}).map(e=>Object(i.parse)(e.spec.version)).filter(Boolean);return t.sort(i.compare),t.length>0?t[t.length-1]:null})),h=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{b(e).then(n).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},v=e=>!!e&&Object(i.gte)(e.version,u.i),g=e=>!!e&&Object(i.gte)(e.version,u.s),f=e=>{const t=h(e),[n]=Object(p.b)(),[a]=Object(r.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var s;return{metricsLevel:!!(s=t)&&Object(i.gt)(s.version,u.m)?Object(p.a)(n):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!v(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:a}},y=e=>{const[t]=Object(l.ue)(),n=h(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=11;e(u.f,a)},E=e=>{const[t]=Object(l.ue)(),n=h(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=16;e(u.d,a)},k=e=>{const[t]=Object(l.ue)(),n=h(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=17;e(u.e,a)}},5710:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(0),i=n(13),r=n(8),s=n(69),o=n(5657),l=n(5714),c=n(5662),u=n(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((n,[a,i])=>{const s=((e,t,n,a,i={})=>{if(!a)return Object.assign({namespace:e},i);if(a.version){const t=Object(r.Fb)(a);return Object.assign({namespace:e,kind:t},i)}const s=Object(r.wb)(a.group,a.kind);if(!s)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${a.group}" and kind "${a.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${n}" will not be loaded and ignored in the topology view for now:`,t,n,a,i),null;const o=Object(r.Hb)(s);return Object.assign({namespace:e,kind:o},i)})(t,e,a,null==i?void 0:i.model,null==i?void 0:i.opts);return s&&(n[a]=s),n},{})})}));t.a=({namespace:e,children:t})=>{const[n,r]=a.useState(new c.a(e));a.useEffect(()=>{r(new c.a(e))},[e]);const p=Object(s.z)(o.c),m=Object(s.z)(i.Zb),b=a.useMemo(()=>d(m),[m]);return a.createElement(c.b.Provider,{value:n},e&&a.createElement(a.Fragment,null,[...b,...p].map(e=>a.createElement(l.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&a.createElement(u.a,null),t)}},5714:function(e,t,n){"use strict";var a=n(0),i=n(15),r=n(5662);t.a=({dataModelFactory:e})=>{const t=a.useContext(r.b),{id:n,priority:s,resources:o}=e,l=Object(i.De)(e.workloadKeys),c=a.useRef({priority:s,workloadKeys:l,resources:o});return a.useEffect(()=>{if(!t.getExtension(n)){c.current={priority:s,workloadKeys:l,resources:o},t.updateExtension(n,c.current);const{getDataModel:a,isResourceDepicted:i,getDataModelReconciler:r}=e;a?a().then(e=>{c.current.dataModelGetter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)}):(c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)),i?i().then(e=>{c.current.dataModelDepicter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)}):(c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)),r?r().then(e=>{c.current.dataModelReconciler=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current)}):(c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current))}},[t,e,n,s,o,l]),null}},5715:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(22),s=n(108),o=n(15),l=n(5662),c=n(5716),u=n(5718);t.a=Object(i.observer)(({trafficData:e})=>{const t=a.useContext(l.b),{namespace:n,extensionsLoaded:i,watchedResources:d}=t,[p,m]=a.useState(),b=Object(u.a)(n),h=a.useMemo(()=>n&&i?d:{},[i,d,n]),v=Object(o.Ce)(m,250),g=Object(s.b)(h);return a.useEffect(()=>v(g),[v,g]),a.useEffect(()=>{t.model=null},[n]),a.useEffect(()=>{r.a(p)||Object(c.a)(t,p,e,b).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,b]),null})},5716:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5717);const i=(e,t,n,i)=>{const{extensionsLoaded:r,watchedResources:s}=e;if(!r||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const o=Object.keys(t).find(e=>(e=>t[e].loadError&&!s[e].optional?t[e].loadError:"")(e));if(o)return Promise.resolve({loaded:!1,loadError:t[o].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&s[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const l=e.getWorkloadResources(t),c=e.dataModelDepicters;return e.getExtensionModels(t).then(r=>{const s=Object(a.a)(r,e.namespace,t,l,c,n,i);return e.reconcileModel(s,t),Promise.resolve({loaded:!0,loadError:"",model:s})})}},5717:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1401),i=n(15),r=n(2221),s=n(5589),o=n(5647);const l=(e,t)=>{const n=e.nodes.filter(({data:e})=>e.nodeType===r.y);return e.edges.reduce((e,{data:a})=>{const{data:i}=n.find(e=>e.data.id===a.source),{data:s}=n.find(e=>e.data.id===a.target),o=t.find(e=>e.metadata.name===i[i.nodeType]),l=t.find(e=>e.metadata.name===s[s.nodeType]);return o&&l?[...e,{id:`${o.metadata.uid}_${l.metadata.uid}`,type:r.x,source:o.metadata.uid,target:l.metadata.uid,data:a.traffic}]:e},[])},c=(e,t,n,c,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return s.a.forEach(n=>{var s,l;if(null===(l=null===(s=null==e?void 0:e[n])||void 0===s?void 0:s.data)||void 0===l?void 0:l.length){const s={nodes:[],edges:[]};e[n].data.forEach(t=>{const l=Object(i.yc)(n,t,e);if(l){const n=Object(o.c)(t,l,r.y,Object(a.d)("icon-openshift"),void 0,e);s.nodes.push(Object(o.h)(t,r.y,n,o.a)),Object(o.j)(Object(o.g)(t),s.nodes)}}),Object(o.b)(s,t)}}),t})(Object.assign(Object.assign({},n),{monitoringAlerts:p}));return Object(o.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var n,a;t.type===r.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(a=null===(n=t.children)||void 0===n?void 0:n.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==a?a:[])}),e.nodes=e.nodes.filter(e=>e.type!==r.u||e.children.length>0)})(e),((e,t)=>{t.forEach(n=>{e.edges.push(...Object(o.f)(n,t))})})(e,c),((e,t,n)=>{n&&e.edges.push(...l(n,t))})(e,c,d),e}},5718:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(5719),r=n(58),s=n(15);const o=e=>{const[t,n,o]=Object(i.a)({namespace:e}),l=a.useMemo(()=>{let e;return o||n||(e=Object(r.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!o,loadError:n}},[n,o,t]);return Object(s.De)(l)}},5719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(763),i=n(436);const r=({delay:e,namespace:t})=>{const n=Object(i.b)({endpoint:i.a.RULES,namespace:t});return Object(a.useURLPoll)(n,e,t)}},5720:function(e,t,n){"use strict";var a=n(5657);n.d(t,"a",(function(){return a.c}))},5725:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5588);const i="#CREATE_PIPELINE_RESOURCE#",r={[a.o.git]:{params:{url:"",revision:""}},[a.o.image]:{params:{url:""}},[a.o.storage]:{params:{type:"",location:"",dir:""}},[a.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5727:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(31),s=n(53),o=n(518),l=n(15),c=n(5704);t.a=Object(r.connect)(e=>({namespace:Object(o.d)(e),application:Object(o.c)(e)}),e=>({onChange:t=>{e(Object(s.k)(t))}}))(({namespace:e,application:t,onChange:n,disabled:r})=>{const{t:s}=Object(i.useTranslation)(),o=s("topology~All applications"),u=s("topology~No application group"),d=t===l.b?o:t===l.mc?u:t,[p,m]=a.useState(d);if(a.useEffect(()=>{r||m(d)},[r,d]),e===l.c)return null;return a.createElement(c.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&a.createElement("span",{className:"btn-link__title"},p),titlePrefix:s("topology~Application"),allSelectorItem:{allSelectorKey:l.b,allSelectorTitle:o},noneSelectorItem:{noneSelectorKey:l.mc,noneSelectorTitle:u},selectedKey:t||l.b,onChange:(e,t)=>{t===l.b?n(t):n(e)},userSettingsPrefix:l.f,storageKey:l.e,disabled:r})})},5728:function(e,t,n){},5732:function(e,t,n){},5760:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(7134),i=n(2328),r=n(7116),s=n(50),o=n(10),l=n(8),c=n(1415),u=n(5586),d=n(5687);const p=e=>a.a(e,e=>i.a(e)||r.a(e)||""===e),m=(e,t,n,a)=>{const i=`${t}-${Object(c.d)(6)}`,r={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:i,namespace:n},spec:Object.assign({type:t,params:Object(d.a)(p(e))},a&&{secrets:s.a(a.data,(e,t)=>({fieldName:t,secretKey:t,secretName:a.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,r)},b=(e,t,n)=>{const a={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:n},stringData:p(e)};return Object(l.jb)(o.SecretModel,a)}},5788:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(15),i=n(5705);const r=e=>e?null:Object(a.Ec)(a.m.TECH),s=e=>{const t=Object(i.h)(e);return t?r(Object(i.b)(t)):null},o=e=>{const t=Object(i.h)(e);return t?r(Object(i.c)(t)):null}},5837:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),i=n(5586),r=n(5588),s=n(5760),o=n(5725),l=n(5687),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:n}=e,a=n.reduce((e,t,n)=>t.selection===o.a?Object.assign(Object.assign({},e),{[n]:t}):e,{}),i=yield Promise.all(Object.values(a).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:n,secrets:a,type:i}}=e;return a?Object(s.b)(a,i,t).then(e=>Object(s.a)(n,i,t,e)):Object(s.a)(n,i,t)})))(e,t)));if(!i||0===i.length)return e;const r=Object.keys(a);return Object.assign(Object.assign({},e),{resources:n.map((e,t)=>{if(a[t]){const n=r.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:i[n].metadata.name})}return e})})})),d=(e,t,n,s)=>c(void 0,void 0,void 0,(function*(){let o=e;o=yield u(o),o=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==r.x.NoWorkspace)}):e})(o);const c=yield Object(a.jb)(i.PipelineRunModel,Object(l.e)(t,o,n,s));return Promise.resolve(c)}))},5846:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return T}));var a=n(14),i=n(13),r=n(436),s=n(108),o=n(763),l=n(10),c=n(8),u=n(15),d=n(5586),p=n(5635),m=n(5623),b=n(5588),h=n(5650);const v=e=>{const t="admin"===Object(i.jc)()[0],n=Object(a.useParams)(),r=Object(a.useLocation)();return Object(u.bf)(e,r,n,"pipelines",Object(m.w)(e),void 0,t)},g=e=>{const t="admin"===Object(i.jc)()[0],n=Object(a.useParams)(),r=Object(a.useLocation)();return Object(u.bf)(e,r,n,"tasks",Object(m.w)(e),void 0,t)},f=e=>{const t="admin"===Object(i.jc)()[0],n=Object(a.useParams)(),r=Object(a.useLocation)();return Object(u.bf)(e,r,n,"triggers",Object(m.w)(e),void 0,t)},y=e=>{const t="admin"===Object(i.jc)()[0]?"pipelines":"dev-pipelines",n=Object(a.useParams)(),r=Object(a.useLocation)();return Object(u.bf)(e,r,n,t,Object(m.w)(e),void 0,!0)},E=(e,t)=>{const n={kind:Object(c.Hb)(d.PipelineRunModel),namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[a,i,r]=Object(s.a)(n),o=Object(p.b)(a,"creationTimestamp");return i&&!r?o:null},k=(e,t)=>{const n={kind:l.PersistentVolumeClaimModel.kind,namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[a,i,r]=Object(s.a)(n);return[!r&&a.length>0?a[0]:null,i]},O=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:i,metricsLevel:s})=>{const l=Object(h.k)(i)[s];return Object(o.useURLPoll)(Object(r.b)({endpoint:r.a.QUERY_RANGE,query:l[h.c.PIPELINE_SUCCESS_RATIO]({name:n,namespace:t}),samples:1,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},j=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:i,metricsLevel:s})=>{const l=Object(h.k)(i)[s];return Object(o.useURLPoll)(Object(r.b)({endpoint:r.a.QUERY_RANGE,query:l[h.c.PIPELINE_RUN_TASK_RUN_DURATION]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},R=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:i,metricsLevel:s})=>{const l=Object(h.k)(i)[s];return Object(o.useURLPoll)(Object(r.b)({endpoint:r.a.QUERY_RANGE,query:l[h.c.PIPELINE_RUN_DURATION]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},T=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:i,metricsLevel:s})=>{const l=Object(h.k)(i)[s];return Object(o.useURLPoll)(Object(r.b)({endpoint:r.a.QUERY_RANGE,query:l[h.c.NUMBER_OF_PIPELINE_RUNS]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)}},5899:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(5684),i=n(5586),r=n(5595),s=n(5588);const o=()=>Object(a.a)(i.TektonConfigModel,s.h),l=e=>{if(!e)return s.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINE&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASK?s.n.PIPELINE_TASK_LEVEL:t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINERUN&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASKRUN?s.n.PIPELINERUN_TASKRUN_LEVEL:s.n.UNSUPPORTED_LEVEL}},5907:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return f}));var a=n(29),i=n(499),r=n(117),s=n(22);const o="snapshot.storage.kubernetes.io/pvc-storage-class",l="snapshot.storage.kubernetes.io/pvc-access-modes",c="snapshot.storage.kubernetes.io/pvc-volume-mode",u=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],d=["Filesystem","Block"],p=Object.freeze({"kubernetes.io/no-provisioner":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/aws-ebs":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"kubernetes.io/gce-pd":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/glusterfs":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/cinder":{Filesystem:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"]},"kubernetes.io/azure-file":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/azure-disk":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/quobyte":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"kubernetes.io/rbd":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/vsphere-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/portworx-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/scaleio":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/storageos":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"manila.csi.openstack.org":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"ebs.csi.aws.com":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"block.csi.ibm.com":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"csi.ovirt.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"cinder.csi.openstack.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"pd.csi.storage.gke.io":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"cephfs.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"rbd.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"file.csi.azure.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]}}),m=()=>[{value:"ReadWriteOnce",title:a.a.t("public~Single user (RWO)")},{value:"ReadWriteMany",title:a.a.t("public~Shared access (RWX)")},{value:"ReadOnlyMany",title:a.a.t("public~Read only (ROX)")},{value:"ReadWriteOncePod",title:a.a.t("public~Read write once pod (RWOP)")}],b=()=>[{value:"Filesystem",title:a.a.t("public~Filesystem")},{value:"Block",title:a.a.t("public~Block")}],h={i:"B",Ki:"KiB",Mi:"MiB",Gi:"GiB",Ti:"TiB",Pi:"PiB",Ei:"EiB"},v=e=>i.a(r.a(p,(t,n)=>!(!(null==t?void 0:t.partialMatch)||!(null==e?void 0:e.includes(n)))||n===e)||{},"partialMatch"),g=(e,t,n)=>{let a;const i=v(e);return a=s.a(i)?u:n?i[n]:Object.keys(i).map(e=>i[e]).flat(),a=[...new Set(a)],t?a.filter(e=>"ReadOnlyMany"!==e):a},f=(e,t)=>{const n=v(e);return s.a(n)?d:t?Object.keys(n).filter(e=>n[e].includes(t)):Object.keys(n)}},5909:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var a=n(131),i=n(10),r=n(8),s=n(5586),o=n(5588),l=n(5705),c=n(5687),u=n(5919),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const p=(e,t,n=0)=>d(void 0,void 0,void 0,(function*(){var o,l,c,d;const m=yield Object(r.kb)(s.EventListenerModel,e,t),b=null===(o=null==m?void 0:m.status)||void 0===o?void 0:o.configuration.generatedName;try{if(!b)return void(n<3?setTimeout(()=>p(e,t,n+1),500):yield Object(r.jb)(i.RouteModel,Object(u.b)(m),{ns:t}));const a=null===(d=null===(c=null===(l=(yield Object(r.kb)(i.ServiceModel,b,t)).spec)||void 0===l?void 0:l.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,s=Object(u.b)(m,b,a);yield Object(r.jb)(i.RouteModel,s,{ns:t})}catch(e){Object(a.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),m=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:n}=t,a=e.metadata.namespace,i=Object(c.e)(e,t,null,null,{generateName:!0}),o=n.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,i,o),m=yield Object(l.a)(a),b=Object(u.a)([n.resource],d,m),h={ns:a};let v;try{const e=yield Object(r.jb)(s.TriggerTemplateModel,d,h);v=[e,yield Object(r.jb)(s.EventListenerModel,b,h)]}catch(e){return Promise.reject(e)}return p(b.metadata.name,a),Promise.resolve(v)})),b=(e,t)=>d(void 0,void 0,void 0,(function*(){const n=[],a=t?t+"-push":"github-push",i=yield Object(r.kb)(s.ClusterTriggerBindingModel,a);if(i){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n;return Object.assign(Object.assign({},t),{type:o.x.VolumeClaimTemplate,data:Object(c.c)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)})}),triggerBinding:{name:a,resource:i}}),r=yield m(e,t);n.push(...r)}return Promise.resolve(n)}))},5919:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),i=n(8),r=n(15),s=n(5586),o=n(5588),l=n(5705);const c=(e,t,n)=>({apiVersion:Object(i.n)(s.TriggerTemplateModel),kind:s.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(r.wd)()}`},spec:{params:n,resourcetemplates:[t]}}),u=(e,t,n)=>{return{apiVersion:Object(i.n)(s.EventListenerModel),kind:s.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(r.wd)()},spec:{serviceAccountName:o.l,triggers:[{bindings:e.map(e=>0===(null==n?void 0:n.major)||1===(null==n?void 0:n.major)&&0===(null==n?void 0:n.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(a=t.metadata.name,Object(l.b)(n)?{ref:a}:{name:a})}]}};var a},d=(e,t,n=8080)=>{const r=e.metadata.name,o=t||"el-"+r;return{apiVersion:Object(i.n)(a.RouteModel),kind:a.RouteModel.kind,metadata:{name:o,labels:{"app.kubernetes.io/managed-by":s.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:r}},spec:{port:{targetPort:n},to:{kind:"Service",name:o,weight:100}}}}},6038:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u}));var a=n(29);const i="taskError";var r,s;!function(e){e[e.ADD_LIST_TASK=0]="ADD_LIST_TASK",e[e.ADD_FINALLY_LIST_TASK=1]="ADD_FINALLY_LIST_TASK",e[e.ADD_LOADING_TASK=2]="ADD_LOADING_TASK",e[e.ADD_FINALLY_LOADING_TASK=3]="ADD_FINALLY_LOADING_TASK",e[e.CONVERT_LOADING_TASK_TO_TASK=4]="CONVERT_LOADING_TASK_TO_TASK",e[e.CONVERT_LOADING_TASK_TO_FINALLY_TASK=5]="CONVERT_LOADING_TASK_TO_FINALLY_TASK",e[e.CONVERT_LIST_TO_TASK=6]="CONVERT_LIST_TO_TASK",e[e.CONVERT_LIST_TO_FINALLY_TASK=7]="CONVERT_LIST_TO_FINALLY_TASK",e[e.RENAME_TASK=8]="RENAME_TASK",e[e.REMOVE_TASK=9]="REMOVE_TASK",e[e.DELETE_LIST_TASK=10]="DELETE_LIST_TASK",e[e.DELETE_FINALLY_LIST_TASK=11]="DELETE_FINALLY_LIST_TASK",e[e.FIX_INVALID_LIST_TASK=12]="FIX_INVALID_LIST_TASK",e[e.FIX_INVALID_FINALLY_LIST_TASK=13]="FIX_INVALID_FINALLY_LIST_TASK"}(r||(r={})),function(e){e.NAME_ERROR="nameError",e.MISSING_REQUIRED_PARAMS="missingParams",e.MISSING_RESOURCES="missingResources",e.MISSING_WORKSPACES="missingWorkspaces",e.MISSING_REQUIRED_WHEN_EXPRESSIONS="missingWhenExpressions"}(s||(s={}));const o={[s.NAME_ERROR]:["name"],[s.MISSING_REQUIRED_PARAMS]:["params"],[s.MISSING_RESOURCES]:["resources"],[s.MISSING_WORKSPACES]:["workspaces"],[s.MISSING_REQUIRED_WHEN_EXPRESSIONS]:["when"]},l=e=>{switch(e){case s.NAME_ERROR:return a.a.t("pipelines-plugin~Invalid name");case s.MISSING_REQUIRED_PARAMS:return a.a.t("pipelines-plugin~Missing parameters");case s.MISSING_RESOURCES:return a.a.t("pipelines-plugin~Missing resources");case s.MISSING_WORKSPACES:return a.a.t("pipelines-plugin~Missing workspaces");case s.MISSING_REQUIRED_WHEN_EXPRESSIONS:return a.a.t("pipelines-plugin~Invalid when expressions");default:throw new Error("Unknown errorType, "+e)}};var c;!function(e){e.in="in",e.notin="notin"}(c||(c={}));const u={name:"new-pipeline",params:[],resources:[],workspaces:[],tasks:[],listTasks:[],finallyTasks:[],finallyListTasks:[],loadingTasks:[]}},6039:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(5588),r=n(6181);const s=(e,t,n,s)=>{const o=a.useMemo(()=>t?{matchLabels:{[i.u.pipelinerun]:t}}:n?{matchLabels:{[i.u.pipelineTask]:n}}:void 0,[n,t]),[l,c,u,d]=Object(r.d)(e,o&&{selector:o},s),p=a.useMemo(()=>null==l?void 0:l.sort((e,t)=>{var n,a,i,r,s,o,l;return(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.completionTime)?(null===(a=null==t?void 0:t.status)||void 0===a?void 0:a.completionTime)&&new Date(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.completionTime)>new Date(null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.completionTime)?1:-1:(null===(s=null==t?void 0:t.status)||void 0===s?void 0:s.startTime)||new Date(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.startTime)>new Date(null===(l=null==t?void 0:t.status)||void 0===l?void 0:l.startTime)?1:-1}),[l]);return a.useMemo(()=>[p,c,u,d],[p,c,u,d])}},6056:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return O}));var a=n(0),i=n(2324),r=n(367),s=n(2222),o=n(5684),l=n(108),c=n(10),u=n(8),d=n(5586),p=n(5635);const m=e=>e.metadata.name,b=e=>{var t;return(null===(t=e.spec.triggers)||void 0===t?void 0:t.map(e=>{var t,n;return(null===(t=e.template)||void 0===t?void 0:t.ref)||(null===(n=e.template)||void 0===n?void 0:n.name)}))||[]},h=e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.configuration.generatedName},v=e=>{const t=a.useMemo(()=>({kind:Object(u.Hb)(d.EventListenerModel),isList:!0,namespace:e}),[e]),[n,i,r]=Object(l.a)(t);return i&&!r?n:null},g=(e,t)=>{const n=v(t),o=a.useMemo(()=>n?Object(r.a)(n.map(b)).filter(e=>!!e).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:{kind:Object(u.Hb)(d.TriggerTemplateModel),name:n,namespace:t,optional:!0}}),{}):{},[n,t]),p=Object(l.b)(o),g=((e,t)=>{const n=a.useMemo(()=>(t||[]).map(h).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:{kind:c.RouteModel.kind,name:n,namespace:e,optional:!0}}),{}),[e,t]),r=Object(l.b)(n);return Object(i.a)(r,e=>e.data)})(t,n),f=Object.values(p),y=Object.keys(o).length,E=f.filter(({loaded:e})=>e).length,k=f.filter(({loadError:e})=>!!e).length;if(0===E||E!==y-k)return null;const O=f.filter(e=>e.loaded).map(e=>e.data).filter(t=>{var n,a,i,r;const s=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.resourcetemplates)||void 0===a?void 0:a.find(({kind:e})=>e===d.PipelineRunModel.kind);return(null===(r=null===(i=null==s?void 0:s.spec)||void 0===i?void 0:i.pipelineRef)||void 0===r?void 0:r.name)===e}).map(m);return(n||[]).reduce((e,t)=>{const n=b(t),a=h(t),i=O.find(e=>n.includes(e)),r=g[a];if(!i)return e;let o=null;try{r&&(o=Object(s.c)(r))}catch(e){}return[...e,{routeURL:o,triggerTemplateName:i}]},[])},f=(e,t)=>{var n;const[a,i]=Object(o.a)(c.RouteModel,h(e),t);return i&&(null===(n=null==a?void 0:a.status)||void 0===n?void 0:n.ingress)?Object(s.c)(a):null},y=e=>null==e?void 0:e.map(e=>({resourceKind:Object(p.g)(e.kind),name:e.ref||e.name})),E=e=>{var t;return(null===(t=e.spec.resourcetemplates.find(({kind:e})=>e===d.PipelineRunModel.kind))||void 0===t?void 0:t.spec.pipelineRef.name)||""},k=e=>(v(e.metadata.namespace)||[]).filter(t=>{var n;return null===(n=t.spec.triggers)||void 0===n?void 0:n.find(t=>{var n,a;return[null===(n=t.template)||void 0===n?void 0:n.ref,null===(a=t.template)||void 0===a?void 0:a.name].includes(m(e))})}).map(m),O=e=>(v(e.metadata.namespace)||[]).filter(t=>{var n;return null===(n=t.spec.triggers)||void 0===n?void 0:n.find(({bindings:t})=>null==t?void 0:t.find(({kind:t,name:n})=>m(e)===n&&Object(p.e)(t).kind===e.kind))}).map(m)},6057:function(e,t,n){"use strict";var a=n(6089);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));var i=n(6247);n.d(t,"a",(function(){return i.a}))},6087:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return P}));var a=n(0),i=n(29),r=n(16),s=n(22),o=n(225),l=n(499),c=n(131),u=n(5),d=n(8),p=n(5588),m=n(6357),b=n(5687),h=n(6122),v=n(5669),g=n(5586),f=n(5635),y=n(5623);const E=e=>{u.Vb.push(Object(u.uc)(g.PipelineRunModel,e.metadata.name,e.metadata.namespace))},k=(e,t,n)=>({labelKey:"pipelines-plugin~Start",callback:()=>{const e=r.a(t,["spec","params"],[]),a=r.a(t,["spec","resources"],[]),i=r.a(t,["spec","workspaces"],[]);s.a(e)&&s.a(a)&&s.a(i)?((e,t)=>{Object(d.jb)(g.PipelineRunModel,Object(b.d)(e)).then(t).catch(e=>Object(c.s)({error:e.message}))})(t,n):Object(m.c)({pipeline:t,modalClassName:"modal-lg",onSubmit:n})},accessReview:{group:g.PipelineRunModel.apiGroup,resource:g.PipelineRunModel.plural,namespace:t.metadata.namespace,verb:"create"}}),O=(e,t,n,a={})=>{const{labelKey:i="pipelines-plugin~Start last run",onComplete:r}=a,s={labelKey:i,accessReview:{}};return t&&o.a(t,"metadata.name")&&o.a(t,"metadata.namespace")?Object.assign(Object.assign({},s),{callback:()=>{Object(d.jb)(e,Object(b.d)(null,t)).then("function"==typeof r?r:()=>{}).catch(e=>Object(c.s)({error:e.message}))},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}):s},j=(e,t)=>O(e,t),R=(e,t)=>{var n,r,s,o,l,d,p,m;const b=(null===(r=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.annotations)||void 0===r?void 0:r["results.tekton.dev/log"])||(null===(o=null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.annotations)||void 0===o?void 0:o["results.tekton.dev/record"])||(null===(d=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.annotations)||void 0===d?void 0:d["results.tekton.dev/result"]),h=null===(m=null===(p=null==t?void 0:t.metadata)||void 0===p?void 0:p.annotations)||void 0===m?void 0:m[v.l],g=a.createElement("p",null,i.a.t("pipelines-plugin~This action will delete resource from k8s but still the resource can be fetched from Tekton Results"));return{labelKey:"pipelines-plugin~Delete {{kind}}",labelKind:{kind:e.labelKey?i.a.t(e.labelKey):e.label},callback:()=>Object(c.q)({kind:e,resource:t,message:!h&&b?g:""}),accessReview:Object(u.Eb)(e,t,"delete"),isDisabled:!!h,tooltip:h?i.a.t("pipelines-plugin~Resource is being fetched from Tekton Results."):""}},T=(e,t)=>[(e,t)=>k(0,t,E),...e?[()=>((e,t)=>O(e,t,0,{onComplete:E,labelKey:"pipelines-plugin~Start last run"}))(g.PipelineRunModel,e)]:[],(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Add Trigger",callback:()=>{const e=Object.assign(Object.assign({},t),{metadata:Object.assign(Object.assign({},t.metadata),{annotations:l.a(t.metadata.annotations,[p.q.user])})});Object(m.a)({pipeline:e,modalClassName:"modal-lg"})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(g.EventListenerModel,t),...t?[(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Remove Trigger",callback:()=>{Object(m.b)({pipeline:t})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}))(g.EventListenerModel,t)]:[],u.F.factory.ModifyLabels,u.F.factory.ModifyAnnotations,(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Edit Pipeline",callback:()=>{const{metadata:{name:e,namespace:n}}=t;u.Vb.push(`/k8s/ns/${n}/${Object(d.Hb)(g.PipelineModel)}/${e}/builder`)},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t),u.F.factory.Delete],S=(e,t,n,a)=>[n?(e,t)=>((e,t)=>O(e,t,0,{onComplete:E,labelKey:"pipelines-plugin~Rerun"}))(e,t):(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Rerun",callback:()=>{const e=r.a(t,"metadata.namespace"),{pipelineRef:n,pipelineSpec:a}=t.spec;e&&((null==n?void 0:n.name)||a)?Object(d.jb)(Object(y.y)(t),Object(b.d)(null,t)):Object(c.s)({error:i.a.t("pipelines-plugin~Invalid PipelineRun configuration, unable to start Pipeline.")})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(e,t),a?(t,n)=>((e,t,n,a)=>({labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(g.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===n.major&&n.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(f.m)(t,a),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(t,n,e,a):(n,a)=>((e,t,n,a)=>{var i;const r=Object(h.a)(a,null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.name);return{labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(g.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===n.major&&n.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(f.l)(t,r),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(n,a,e,t),a?(e,t)=>((e,t,n)=>({labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(g.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(f.k)(t,n),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t,a):(e,n)=>((e,t,n)=>{var a;const i=Object(h.a)(n,null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.name);return{labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(g.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(f.j)(t,i),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(e,n,t),(e,t)=>R(e,t)],P=()=>[(e,t)=>R(e,t)]},6088:function(e,t,n){"use strict";var a=n(0),i=n(1922),r=n(22),s=n(40);t.a=e=>{const{children:t,close:n,errors:o,isSubmitting:l,handleSubmit:c,status:u,submitBtnText:d,submitDanger:p,title:m}=e;return a.createElement(i.a,{onSubmit:c},a.createElement("div",{className:"modal-content"},a.createElement(s.h,null,m),a.createElement(s.e,null,a.createElement("div",{className:"pf-v5-c-form"},t)),a.createElement(s.g,{errorMessage:null==u?void 0:u.submitError,inProgress:l,submitText:d,submitDisabled:!r.a(o)||l,submitDanger:p,cancel:n})))}},6089:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(1557),i=n(31),r=n(13),s=n(5),o=n(5588);const l=(e,t)=>Object(a.a)({},t,{metadata:{annotations:e},spec:{}}),c=()=>{var e;const t=Object(i.useSelector)(r.J);return(null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.name)?{[o.q.user]:t.metadata.name}:{}},u=e=>{const t=c();return e&&l(t,e)},d=e=>{const t=c();return e.map(e=>Object.values(s.F.factory).includes(e)?e:(n,a,...i)=>e(n,l(t,a),...i))}},6090:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(29),i=n(689),r=n(6121),s=n(5588),o=n(5725);const l=()=>i.object().shape({parameters:i.array().of(i.object().shape({name:i.string().required(a.a.t("pipelines-plugin~Required")),default:i.string(),description:i.string(),value:i.string().test("test-if-param-can-be-empty",a.a.t("pipelines-plugin~Required"),(function(e){return!Object(r.a)(this.parent)||!!e}))})),resources:i.array().of(i.object().shape({name:i.string().required(a.a.t("pipelines-plugin~Required")),selection:i.string().required(a.a.t("pipelines-plugin~Required")),data:i.object().when("selection",{is:o.a,then:i.object().shape({type:i.string().required(a.a.t("pipelines-plugin~Required")),params:i.object().when("type",{is:s.o.git,then:i.object({url:i.string().required(a.a.t("pipelines-plugin~Required")),revision:i.string()})}).when("type",{is:s.o.image,then:i.object({url:i.string().required(a.a.t("pipelines-plugin~Required"))})}).when("type",{is:s.o.storage,then:i.object({type:i.string().required(a.a.t("pipelines-plugin~Required")),location:i.string().required(a.a.t("pipelines-plugin~Required")),dir:i.string()})}).when("type",{is:s.o.cluster,then:i.object({name:i.string().required(a.a.t("pipelines-plugin~Required")),url:i.string().required(a.a.t("pipelines-plugin~Required")),username:i.string().required(a.a.t("pipelines-plugin~Required")),password:i.string(),insecure:i.string()})}),secrets:i.object().when("type",{is:s.o.cluster,then:i.object({cadata:i.string().required(a.a.t("pipelines-plugin~Required")),token:i.string()})})})})})),workspaces:i.array().of(i.object().shape({type:i.string().required(a.a.t("pipelines-plugin~Required")),data:i.object().when("type",{is:e=>s.x[e]===s.x.Secret,then:i.object().shape({secret:i.object().shape({secretName:i.string().required(a.a.t("pipelines-plugin~Required")),items:i.array().of(i.object().shape({key:i.string().required(a.a.t("pipelines-plugin~Required")),path:i.string().required(a.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>s.x[e]===s.x.ConfigMap,then:i.object().shape({configMap:i.object().shape({name:i.string().required(a.a.t("pipelines-plugin~Required")),items:i.array().of(i.object().shape({key:i.string().required(a.a.t("pipelines-plugin~Required")),path:i.string().required(a.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>s.x[e]===s.x.PVC,then:i.object().shape({persistentVolumeClaim:i.object().shape({claimName:i.string().required(a.a.t("pipelines-plugin~Required"))})})}).when("type",{is:e=>s.x[e]===s.x.VolumeClaimTemplate,then:i.object().shape({volumeClaimTemplate:i.object().shape({spec:i.object().shape({accessModes:i.array().of(i.string().required(a.a.t("pipelines-plugin~Required"))),resources:i.object().shape({requests:i.object().shape({storage:i.string().required(a.a.t("pipelines-plugin~Required"))})}),storageClassName:i.string().required(a.a.t("pipelines-plugin~Required")),volumeMode:i.string().required(a.a.t("pipelines-plugin~Required"))})})})})}))}),c=()=>l().shape({secretOpen:i.boolean().equals([!1])}),u=()=>l().shape({triggerBinding:i.object().shape({name:i.string().required(a.a.t("pipelines-plugin~Required")),resource:i.object().shape({metadata:i.object().shape({name:i.string().required(a.a.t("pipelines-plugin~Required"))})}).required(a.a.t("pipelines-plugin~Required"))})}),d=()=>i.object().shape({secretName:i.string().required(a.a.t("pipelines-plugin~Required")),type:i.string().required(a.a.t("pipelines-plugin~Required")),annotations:i.object().shape({key:i.string().required(a.a.t("pipelines-plugin~Required")),value:i.string().required(a.a.t("pipelines-plugin~Required"))})})},6091:function(e,t,n){"use strict";n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return R})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return w}));var a=n(29),i=n(667),r=n(1557),s=n(16),o=n(547),l=n(499),c=(n(117),n(22),n(70),n(8)),u=n(15),d=n(5586),p=n(6180),m=n(6360),b=n(6038),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const v=(e,t)=>{const n=Object.keys((null==t?void 0:t[b.a])||{}),a=Object(b.f)(b.c.NAME_ERROR),{formData:s}=n.reduce((e,t)=>(i.a(e,t,a),e),{}),o=t=>{const n=(a=null==e?void 0:e[t],Array.isArray(a)&&a.some(e=>"object"==typeof e)?e[t]:[]);var a;const i=null==s?void 0:s[t];return r.a([],n,i)};return{tasks:o("tasks"),finally:o("finallyTasks")}},g=e=>t=>{const n=e[t]||{},a=Object.values(n);if(0===a.length)return null;const i=Object.values(b.c).find(e=>a.includes(Object(b.f)(e)));if(i)return Object(b.f)(i);const r=Object.keys(b.b).find(e=>{const t=b.b[e];return null==t?void 0:t.some(e=>s.a(n,e))});return r?Object(b.f)(r):null},f=(e,t)=>{if(null==t?void 0:t.taskRef){if(!(null==e?void 0:e.tasksLoaded)||!e.clusterTasks||!e.namespacedTasks)return null;const{taskRef:{kind:n,name:a}}=t,i=e=>e.metadata.name===a;return n===d.ClusterTaskModel.kind?e.clusterTasks.find(i):e.namespacedTasks.find(i)}return(null==t?void 0:t.taskSpec)?{apiVersion:Object(c.n)(d.TaskModel),kind:"EmbeddedTask",metadata:{name:a.a.t("pipelines-plugin~Embedded task")},spec:t.taskSpec}:null},y=(e,t)=>{const{taskResources:n}=e;return f(n,t)},E=(e,t,n)=>{var a;if(!(null===(a=null==n?void 0:n.runAfter)||void 0===a?void 0:a.includes(t)))return n;const i=n.runAfter.filter(e=>e!==t);return Object.assign(Object.assign({},n),{runAfter:[...i,e]})},k=(e,t)=>{var n;return(null===(n=null==t?void 0:t.runAfter)||void 0===n?void 0:n.includes(e))?Object.assign(Object.assign({},t),{runAfter:t.runAfter.filter(t=>t!==e)}):t},O=(e,t)=>{var n;if(!(null==e?void 0:e.name))return t;if(!(null==e?void 0:e.runAfter))return k(e.name,t);if(!(null===(n=null==t?void 0:t.runAfter)||void 0===n?void 0:n.includes(e.name)))return t;const a=k(e.name,t);let i=e.runAfter;return a.runAfter.length>0&&(i=[...a.runAfter,...i]),Object.assign(Object.assign({},a),{runAfter:o.a(i)})},j=(e,t,n)=>(null==n?void 0:n.name)!==t?n:Object.assign(Object.assign({},n),{runAfter:[e]}),R=(e,t,n)=>{var a;return(null===(a=null==n?void 0:n.runAfter)||void 0===a?void 0:a.includes(t))?Object.assign(Object.assign({},n),{runAfter:[...n.runAfter,e]}):n},T=(e,t)=>{if(e.includes(t)){const n=`${t}-${Object(u.wd)(3)}`;return e.includes(n)?T(e,t):n}return t},S=(e,t,n,a)=>{var i;const r=null!==(i=t.kind)&&void 0!==i?i:d.TaskModel.kind;return{name:T(e,t.metadata.name),runAfter:n?[]:a,taskRef:{kind:r,name:t.metadata.name},resource:t,isFinallyTask:n}},P=(e,t,n)=>{var a;const i=null!==(a=t.kind)&&void 0!==a?a:d.TaskModel.kind;return{name:T(e,t.metadata.name),runAfter:n,taskRef:{kind:i,name:t.metadata.name},params:Object(m.a)(t).map(e=>({name:e.name,value:e.default}))}},N=(e,t,n)=>{var a,i,r,s,o,u,m,b;const{name:v,resources:g,params:f,workspaces:y,tasks:E,listTasks:k,finallyTasks:O}=e,j=h(e,["name","resources","params","workspaces","tasks","listTasks","finallyTasks"]),R=k.map(e=>e.name),T=l.a(j,"finallyListTasks","loadingTasks");return Object.assign(Object.assign({},n),{apiVersion:Object(c.n)(d.PipelineModel),kind:d.PipelineModel.kind,metadata:Object.assign(Object.assign({},null==n?void 0:n.metadata),{name:(null===(a=null==n?void 0:n.metadata)||void 0===a?void 0:a.name)?null===(i=null==n?void 0:n.metadata)||void 0===i?void 0:i.name:v,namespace:t}),spec:Object.assign(Object.assign(Object.assign({},null==n?void 0:n.spec),T),{params:Object(p.d)(f.length>0?f:null!==(s=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.params)&&void 0!==s?s:[]),workspaces:y.length>0?y:null!==(u=null===(o=null==n?void 0:n.spec)||void 0===o?void 0:o.workspaces)&&void 0!==u?u:[],tasks:E.length>0?E:null!==(b=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.tasks)&&void 0!==b?b:[].map(e=>e&&(e=>{var t,n,a,i,r,s,o,l,c,u,d,p;let m=e;if((null===(t=e.params)||void 0===t?void 0:t.length)>0){const t=null===(n=e.params)||void 0===n?void 0:n.filter(e=>!!e.value);m=Object.assign(Object.assign({},m),{params:t})}if((null===(i=null===(a=e.resources)||void 0===a?void 0:a.inputs)||void 0===i?void 0:i.length)>0||(null===(s=null===(r=e.resources)||void 0===r?void 0:r.outputs)||void 0===s?void 0:s.length)>0){const t=null===(l=null===(o=e.resources)||void 0===o?void 0:o.inputs)||void 0===l?void 0:l.filter(e=>e.resource),n=null===(u=null===(c=e.resources)||void 0===c?void 0:c.outputs)||void 0===u?void 0:u.filter(e=>e.resource);m=Object.assign(Object.assign({},m),{resources:Object.assign(Object.assign({},m.resources),{inputs:t,outputs:n})})}if((null===(d=e.workspaces)||void 0===d?void 0:d.length)>0){const t=null===(p=e.workspaces)||void 0===p?void 0:p.filter(e=>e.workspace);m=Object.assign(Object.assign({},m),{workspaces:t})}return m})(((e,t)=>{if((null==e?void 0:e.runAfter)&&t.length>0){const n=(e.runAfter||[]).filter(e=>!t.includes(e));return Object.assign(Object.assign({},e),{runAfter:n})}return e})(e,R))),finally:O})})},w=e=>{if(!e)return null;const{metadata:{name:t},spec:{params:n=[],resources:a=[],workspaces:i=[],tasks:r=[],finally:s=[]}}=e;return{name:t,params:n,resources:a,workspaces:i.map(e=>Object.assign(Object.assign({},e),{optional:!!e.optional})),tasks:r,listTasks:[],loadingTasks:[],finallyTasks:s,finallyListTasks:[]}}},6092:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),i=n(205),r=n(165),s=n(219),o=n(354),l=n(294),c=n(255),u=n(7),d=n(5907);const p=(e,t)=>{var n;return c.a(null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.accessModes,(e,n)=>{const a=Object(d.c)().find(e=>e.value===n);return a&&e.push(a[t]),e},[])},m=e=>{var t;const{className:n,pvcResource:c,filterByVolumeMode:m,onChange:b,loaded:h,provisioner:v,availableAccessModes:g=[],description:f,ignoreReadOnly:y}=e,{t:E}=Object(u.useTranslation)(),k=c?p(c,"value"):g,O=null===(t=null==c?void 0:c.spec)||void 0===t?void 0:t.volumeMode,[j,R]=a.useState(),[T,S]=a.useState(),P=a.useCallback(e=>{S(e),b(e)},[b]),[N,w]=a.useState(!1),[C,_]=a.useState(Object(d.c)().find(e=>e.value===k[0]).title),x=()=>{w(!N)},I=Object(d.c)().map(e=>{const t=!(null==j?void 0:j.includes(e.value));return a.createElement(i.a,{key:e.title,value:{val:e.value,label:e.title},isDisabled:t,isSelected:T===e.value},e.title)});return a.useEffect(()=>{h&&R(Object(d.b)(v,y,m?O:null))},[m,y,h,v,O]),a.useEffect(()=>{j&&(!T&&j.includes(k[0])?P(k[0]):j.includes(T)||P(j[0]))},[T,j,P,k]),a.createElement(s.a,{label:E("console-app~Access mode"),isRequired:!0,fieldId:"access-mode",className:n},h&&j&&a.createElement(o.a,{isOpen:N,selected:C,onSelect:(e,t)=>{w(!N),_(t.label),P(t.val)},onOpenChange:e=>w(e),toggle:e=>a.createElement(r.a,{ref:e,onClick:x,isExpanded:N,style:{width:"200px"}},C),shouldFocusToggleOnSelect:!0},a.createElement(l.a,null,I)),j&&j&&f&&a.createElement("p",{className:"help-block",id:"access-mode-help"},f),(!h||!j)&&a.createElement("div",{className:"skeleton-text"}))}},6093:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(16),i=n(50),r=n(1992),s=n(107),o=n(57),l=n(279),c=n(839),u=n(0),d=n(230),p=n(7),m=n(5),b=n(4381),h=n(18);class v extends u.Component{constructor(){super(...arguments),this.state={items:{},name:this.props.name,selectedKey:this.props.selectedKey,title:u.createElement(m.T,null),defaultClass:this.props.defaultClass},this.autocompleteFilter=(e,t)=>d(e,t.props.name),this.getTitle=e=>e.kindLabel?u.createElement(m.jb,{kind:"StorageClass",name:e.name}):u.createElement("span",null,e.name),this.onChange=e=>{const t=a.a(this.state,["items",e],{});this.setState({selectedKey:e,title:this.getTitle(t)},()=>this.props.onChange(t.resource))}}UNSAFE_componentWillMount(){this.UNSAFE_componentWillReceiveProps(this.props)}UNSAFE_componentWillReceiveProps(e){const{loaded:t,loadError:n,resources:s,t:o}=e;if(n)return void this.setState({title:u.createElement("div",{className:"cos-error-title"},o("public~Error loading {{desc}}",{desc:e.desc}))});if(!t)return;const l={items:{},title:{},defaultClass:""};let c={};const d=o("public~No default StorageClass");i.a(s.StorageClass.data,e=>{c[e.metadata.name]={kindLabel:"StorageClass",name:e.metadata.name,description:a.a(e,"metadata.annotations.description",""),default:Object(b.isDefaultClass)(e),accessMode:a.a(e,["metadata","annotations","storage.alpha.openshift.io/access-mode"],""),provisioner:e.provisioner,parameters:e.parameters,type:a.a(e,"parameters.type",""),zone:a.a(e,"parameters.zone",""),resource:e}}),e.filter&&(c=Object.keys(c).filter(t=>e.filter(c[t])).reduce((e,t)=>(e[t]=c[t],e),{})),l.defaultClass=r.a(c,"default");const{selectedKey:p}=this.state;l.defaultClass||(c[""]={kindLabel:"",name:d}),this.props.loaded&&p&&c[p||l.defaultClass]||(l.title=u.createElement("span",{className:"text-muted"},o("public~Select StorageClass")));const m=c[p||l.defaultClass];m&&(l.title=this.getTitle(m)),Object.keys(c).sort().forEach(e=>{l.items[e]=c[e]}),this.setState(l)}componentDidMount(){const{defaultClass:e}=this.state;e&&this.onChange(e)}componentDidUpdate(){const{defaultClass:e,selectedKey:t}=this.state;t?this.onChange(t):e&&this.onChange(e)}shouldComponentUpdate(e,t){return!s.a(this.state,t)}render(){var e;const{id:t,loaded:n,describedBy:a,noSelection:i,t:r}=this.props,s={};o.a(this.state.items,(e,t)=>s[t]=t?u.createElement(y,Object.assign({},e)):u.createElement(E,Object.assign({},e)));const{selectedKey:c,defaultClass:d}=this.state,p=d||l.a(s)>1;return u.createElement(u.Fragment,null,n&&p&&u.createElement("div",null,u.createElement("label",{className:h("control-label",this.props.hideClassName,{"co-required":this.props.required}),htmlFor:t},r("public~StorageClass")),u.createElement(m.t,{className:"co-storage-class-dropdown",dropDownClassName:"dropdown--full-width",autocompleteFilter:this.autocompleteFilter,autocompletePlaceholder:r("public~Select StorageClass"),items:s,selectedKey:c,title:this.state.title,onChange:this.onChange,id:t,dataTest:null===(e=this.props)||void 0===e?void 0:e["data-test"],noSelection:i,menuClassName:"dropdown-menu--text-wrap"}),a&&u.createElement("p",{className:"help-block",id:a},r("public~StorageClass for the new claim"))))}}const g=Object(p.withTranslation)()(v),f=e=>u.createElement(m.C,{resources:[{kind:"StorageClass",prop:"StorageClass",isList:!0}]},u.createElement(g,Object.assign({},e))),y=e=>{const t=[e.default?" (default)":"",e.description,e.accessMode,e.provisioner,e.type,e.zone],n=c.a(t).join(" | ");return u.createElement("span",{className:"co-resource-item"},u.createElement(m.fb,{kind:e.kindLabel}),u.createElement("span",{className:"co-resource-item__resource-name"},e.name,u.createElement("div",{className:"text-muted small"}," ",n)))},E=e=>u.createElement("span",{className:"co-resource-item"},u.createElement("span",{className:"co-resource-item__resource-name"},e.name))},6121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>!("default"in e)},6122:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));n(77);var a=n(108),i=n(8),r=n(5586),s=n(5588);const o=(e,t)=>{const n=t?{kind:Object(i.Hb)(r.TaskRunModel),namespace:e,selector:{matchLabels:{[s.u.pipelinerun]:t}},isList:!0}:{kind:Object(i.Hb)(r.TaskRunModel),namespace:e,isList:!0};return Object(a.a)(n)},l=(e,t)=>e.filter(e=>{var n;return(null===(n=e.metadata)||void 0===n?void 0:n.labels[s.u.pipelinerun])===t})},6123:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return T}));var a=n(225),i=n(8),r=n(30),s=n(5597),o=n(5669),l=n(5586),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const u=e=>{var t,n;const i=e?JSON.parse((e=>atob(e))(e)):null;let r;a.a(null==i?void 0:i.metadata,"deletionTimestamp")&&(null===(t=null==i?void 0:i.metadata)||void 0===t||delete t.deletionTimestamp,r={[o.c]:"true"});return i?Object.assign(Object.assign({},i),{metadata:Object.assign(Object.assign({},null==i?void 0:i.metadata),{annotations:Object.assign(Object.assign(Object.assign({},null===(n=null==i?void 0:i.metadata)||void 0===n?void 0:n.annotations),{[o.l]:"true"}),r)})}):null},d=(...e)=>e.filter(e=>e).join(" && "),p=(e,t,n)=>`${e} ${n} ${t}`,m=(e,t)=>p(e,`"${t}"`,"=="),b=(e,t)=>p(e,`"${t}"`,"!=");var h;!function(e){e.PipelineRunV1Beta1="tekton.dev/v1beta1.PipelineRun",e.TaskRunV1Beta1="tekton.dev/v1beta1.TaskRun",e.PipelineRunV1="tekton.dev/v1.PipelineRun",e.TaskRunV1="tekton.dev/v1.TaskRun"}(h||(h={}));const v=e=>e?d(...Object.keys(e).map(t=>m(`data.metadata.labels["${t}"]`,e[t]))):"",g=e=>{let t="";if(e){const{matchLabels:a,matchExpressions:i,filterByName:r}=e;r&&(t=d(t,(n=r)?d(`data.metadata.name.startsWith("${n.trim().toLowerCase()}")`):"")),a||i?(a&&(t=d(t,v(a))),i&&(t=d(t,d(...i.map(e=>{var t,n,a,i,r,s,o,l,c,u;switch(e.operator){case"Exists":return`data.metadata.labels.contains("${e.key}")`;case"DoesNotExist":return`!data.metadata.labels.contains("${e.key}")`;case"NotIn":return(null===(t=e.values)||void 0===t?void 0:t.length)>0?d(...e.values.map(t=>b(`data.metadata.labels["${e.key}"]`,t))):"";case"In":return(null===(n=e.values)||void 0===n?void 0:n.length)>0?`data.metadata.labels["${e.key}"] in [${e.values.map(e=>`"${e}"`)}]`:"";case"Equals":return(null===(a=e.values)||void 0===a?void 0:a[0])?m(`data.metadata.labels["${e.key}"]`,null===(i=e.values)||void 0===i?void 0:i[0]):"";case"NotEquals":case"NotEqual":return(null===(r=e.values)||void 0===r?void 0:r[0])?b(`data.metadata.labels["${e.key}"]`,null===(s=e.values)||void 0===s?void 0:s[0]):"";case"GreaterThan":return(null===(o=e.values)||void 0===o?void 0:o[0])?p(`data.metadata.labels["${e.key}"]`,null===(l=e.values)||void 0===l?void 0:l[0],">"):"";case"LessThan":return(null===(c=e.values)||void 0===c?void 0:c[0])?p(`data.metadata.labels["${e.key}"]`,null===(u=e.values)||void 0===u?void 0:u[0],"<"):"";default:throw new Error(`Tekton results operator '${e.operator}' conversion not implemented.`)}}).filter(e=>e))))):t=v(e)}var n;return t};let f={};const y={},E=()=>c(void 0,void 0,void 0,(function*(){var e,t,n,a;const r=yield Object(i.kb)(l.TektonResultModel,"result"),s=null===(e=null==r?void 0:r.spec)||void 0===e?void 0:e.targetNamespace,o=null!==(n=null===(t=null==r?void 0:r.spec)||void 0===t?void 0:t.server_port)&&void 0!==n?n:"8080",c=null===(a=null==r?void 0:r.spec)||void 0===a?void 0:a.tls_hostname_override;let u;return u=c?`${c}:${o}`:s&&o?`tekton-results-api-service.${s}.svc.cluster.local:${o}`:"tekton-results-api-service.openshift-pipelines.svc.cluster.local:"+o,u})),k=(e,t,n,a,i,o)=>c(void 0,void 0,void 0,(function*(){if(o){const e=f[o];if(e)return e;if(y[o])return[[],{nextPageToken:null,records:[]},!0]}y[o]=!0;const l=yield c(void 0,void 0,void 0,(function*(){try{const o=yield((e,t,n,a,i)=>c(void 0,void 0,void 0,(function*(){var s;return`https://${yield E()}/apis/results.tekton.dev/v1alpha2/parents/${e&&e!==r.c?e:"-"}/results/-/records?${new URLSearchParams(Object.assign(Object.assign({page_size:""+Math.max(5,Math.min(1e4,(null==a?void 0:a.limit)>=0?a.limit:null!==(s=null==a?void 0:a.pageSize)&&void 0!==s?s:50))},i?{page_token:i}:{}),{filter:d(m("data_type",t.toString()),n,g(null==a?void 0:a.selector),null==a?void 0:a.filter)})).toString()}`})))(e,t,n,a,i);let l=yield Object(s.c)({url:o,method:"GET",allowInsecure:!0});return(null==a?void 0:a.limit)>=0&&(l={nextPageToken:null,records:l.records.slice(0,a.limit)}),[l.records.map(e=>u(e.data.value)),l]}catch(e){if(404===(null==e?void 0:e.code))return[[],{nextPageToken:null,records:[]}];throw e}}));return o&&(y[o]=!1,f[o]=l),l})),O=(e,t,n,a,i)=>((e,t,n,a,i,r)=>k(e,r?h.PipelineRunV1:h.PipelineRunV1Beta1,t,n,a,i))(e,"",t,n,a,i),j=(e,t,n,a,i)=>((e,t,n,a,i,r)=>k(e,r?h.TaskRunV1:h.TaskRunV1Beta1,t,n,a,i))(e,"",t,n,a,i),R=e=>Object(s.b)(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):e.body),T=e=>c(void 0,void 0,void 0,(function*(){e||(()=>{throw{code:404}})();const t=`https://${yield E()}/apis/results.tekton.dev/v1alpha2/parents/${e.replace("/records/","/logs/")}`;return R({url:t,method:"GET",allowInsecure:!0})}))},6180:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(29),i=n(50),r=n(499),s=n(22),o=n(5586),l=n(5635);const c=e=>{const t=(e=>i.a(e,e=>r.a(e,s.a(e.default)?["default"]:[])))(e);return t.length>0?t.map(e=>"array"===(null==e?void 0:e.type)&&"string"==typeof(null==e?void 0:e.default)?Object.assign(Object.assign({},e),{default:e.default.split(",").map(e=>e.trim())}):e):[]},u=e=>{const t=e=>e?null==e?void 0:e.map(e=>{var t;return e.taskRef?"ClusterTask"===e.taskRef.kind||"Task"===e.taskRef.kind?{resourceKind:Object(l.h)(e.taskRef.kind),name:e.taskRef.name,qualifier:e.name}:{resourceKind:null===(t=e.taskRef)||void 0===t?void 0:t.kind,name:a.a.t("pipelines-plugin~Custom Task"),qualifier:e.name,disableLink:!0}:{resourceKind:"EmbeddedTask",name:a.a.t("pipelines-plugin~Embedded task"),qualifier:e.name,disableLink:!0}}):[];return{taskLinks:t(e.spec.tasks),finallyTaskLinks:t(e.spec.finally)}},d=(e=[],t)=>null==t?void 0:t.map(t=>{const n=e.find(({name:e})=>e===t.name),i=n?n.type:void 0;return(e=>!!e.resourceRef)(t)?{resourceKind:o.PipelineResourceModel.kind,name:t.resourceRef.name,qualifier:i}:{resourceKind:"EmbeddedPipelineResource",name:a.a.t("pipelines-plugin~Embedded PipelineResource"),qualifier:i}}),p=e=>e.spec.pipelineRef?{resourceKind:o.PipelineModel.kind,resourceName:e.spec.pipelineRef.name,namespace:e.metadata.namespace}:{resourceKind:"EmbeddedPipeLine",resourceName:a.a.t("pipelines-plugin~Embedded Pipeline")}},6181:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v}));var a=n(0),i=n(4392),r=n(4387),s=n(1032),o=n(768),l=n(5595),c=n(6123),u=n(6182),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const p=(e,t,n,p)=>{const m=a.useRef([]),b=Object(s.a)(n),h=!(null==b?void 0:b.name),v=null==b?void 0:b.limit,g=a.useMemo(()=>(m.current=[],{groupVersionKind:e,namespace:t||void 0,isList:h,selector:null==b?void 0:b.selector,name:null==b?void 0:b.name}),[e,t,b,h]),[f,y,E]=Object(o.a)(g),k=a.useMemo(()=>{if(!y||E)return[];return h?f:[f]},[h,f,y,E]),O=a.useMemo(()=>{if(!k)return k;let e=m.current?[...k,...Object(i.a)(m.current,k,e=>e.metadata.name)]:[...k];return e.sort((e,t)=>t.metadata.creationTimestamp.localeCompare(e.metadata.creationTimestamp)),v&&v<e.length&&(e=e.slice(0,v)),e},[k,v]);m.current=O;const j=!v||t&&(O&&y&&b.limit>O.length||E),R=a.useMemo(()=>{if(null==b?void 0:b.name){const{name:e}=b,t=d(b,["name"]);return Object.assign(Object.assign({},t),{filter:Object(c.a)("data.metadata.name",e)})}return b},[b]),[T,S,P,N]=(e===l.e?u.b:u.d)(j?t:null,R,p);return a.useMemo(()=>{const e=O&&T?Object(r.a)([...O,...T],e=>e.metadata.uid):O||T;return[e,!!(null==e?void 0:e[0])||y&&S,t?j?h?P||E:P||(S&&!T.length?E:void 0):E:void 0,N]},[O,T,S,y,t,j,h,P,E,N])},m=(e,t)=>p(l.e,e,t),b=(e,t,n)=>p(l.f,e,t,n),h=(e,t)=>{const n=m(e,a.useMemo(()=>({name:t,limit:1}),[t]));return a.useMemo(()=>{var e,t;return[null===(e=n[0])||void 0===e?void 0:e[0],n[1],(null===(t=n[0])||void 0===t?void 0:t[0])?void 0:n[2]]},[n])},v=(e,t)=>{const n=b(e,a.useMemo(()=>({name:t,limit:1}),[t]));return a.useMemo(()=>{var e,t;return[null===(e=n[0])||void 0===e?void 0:e[0],n[1],(null===(t=n[0])||void 0===t?void 0:t[0])?void 0:n[2]]},[n])}},6182:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g}));var a=n(0),i=n(4387),r=n(695),s=n(8),o=n(206),l=n(5586),c=n(5588),u=n(5648),d=n(6123),p=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const m=(e,t,n,i)=>{const r=Object(o.a)(c.d),[s,l]=a.useState(null),[u,d]=a.useState(i);i!==u&&d(i);const[m,b]=a.useState([[],!1,void 0,void 0]);return a.useEffect(()=>{l(null)},[t,n,i]),a.useEffect(()=>{let a=!1;return p(void 0,void 0,void 0,(function*(){try{const i=yield e(t,n,s,u,r);if(!a){const e=i[1].nextPageToken,t=!!(null==i?void 0:i[2]),n=!t;t||b(t=>[s?[...t[0],...i[0]]:i[0],n,void 0,e?(()=>{let t=!1;return()=>!a&&!t&&(t=!0,l(e),!0)})():void 0])}}catch(e){a||b(s?t=>[t[0],t[1],e,void 0]:[[],!1,e,void 0])}})),()=>{a=!0}},[t,n,s,u,e,r]),m},b=(e,t,n)=>m(d.b,e,t,n),h=(e,t,n)=>m(d.d,e,t,n),v=(e,t)=>{let n;"Pipeline"===(null==t?void 0:t.kind)&&(n={matchLabels:{"tekton.dev/pipeline":null==t?void 0:t.name}}),"Repository"===(null==t?void 0:t.kind)&&(n={matchLabels:{[u.f[u.e.REPOSITORY]]:null==t?void 0:t.name}});const[a,o,c,d]=b(e,t&&{selector:n}),[p,m,h]=Object(r.c)(Object.assign({isList:!0,kind:Object(s.Hb)(l.PipelineRunModel),namespace:e},t?{selector:n}:{}));return[!o&&!m||h?[]:Object(i.a)([...p,...a],e=>e.metadata.uid),o||m,c||h,d]},g=(e,t,n)=>{const[i,r]=a.useState([null,!1,void 0]);return a.useEffect(()=>{let a=!1;return e&&t&&p(void 0,void 0,void 0,(function*(){try{const e=yield Object(d.c)(n);a||r([e,!0,void 0])}catch(e){a||r([null,!1,e])}})),()=>{a=!0}},[e,t,n]),i}},6183:function(e,t,n){"use strict";var a=n(0),i=n(6668);t.a=({children:e,logDetails:t,namespace:n})=>"podName"in t?a.createElement(i.a,{containerName:t.containerName,namespace:n,podName:t.podName,title:t.title},e):a.createElement(a.Fragment,null,e(t.staticMessage))},6245:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),s=n(40),o=n(6088),l=n(6625),c=n(6626),u=n(6629);t.a=Object(s.m)(({pipeline:e,close:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement(i.b,{initialValues:{selectedTrigger:null},onSubmit:(n,a)=>Object(l.a)(n,e).then(()=>{t()}).catch(e=>{a.setStatus({submitError:e.message})}),validationSchema:Object(u.a)()},i=>a.createElement(o.a,Object.assign({},i,{submitBtnText:n("pipelines-plugin~Remove"),submitDanger:!0,title:n("pipelines-plugin~Remove Trigger"),close:t}),a.createElement(c.a,{pipeline:e})))})},6246:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),s=n(118),o=n(131),l=n(5),c=n(6057),u=n(5846),d=n(6088),p=n(5687),m=n(6090),b=n(6630),h=n(5837);t.a=Object(s.f)(({pipeline:e,close:t,onSubmit:n})=>{var s,v,g;const{t:f}=Object(r.useTranslation)(),y=Object(c.d)(),[E,k]=Object(u.c)(null===(s=e.metadata)||void 0===s?void 0:s.name,null===(v=e.metadata)||void 0===v?void 0:v.namespace);if(!k)return a.createElement(l.S,null);const O=Object.assign(Object.assign({},Object(p.b)(e,!1,null===(g=null==E?void 0:E.metadata)||void 0===g?void 0:g.name)),{secretOpen:!1});return a.createElement(i.b,{initialValues:O,onSubmit:(a,i)=>Object(h.a)(a,e,null,y).then(e=>{n&&n(e),t()}).catch(e=>{i.setStatus({submitError:e.message}),Object(o.s)({error:e.message}),t()}),validationSchema:Object(m.c)()},e=>a.createElement(d.a,Object.assign({submitBtnText:f("pipelines-plugin~Start"),title:f("pipelines-plugin~Start Pipeline"),close:t},e),a.createElement(b.a,Object.assign({},e))))})},6247:function(e,t,n){"use strict";var a=n(0),i=n(6089),r=n(6358),s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var{actions:t}=e,n=s(e,["actions"]);const o=Object(i.a)(t);return a.createElement(r.a,Object.assign({},n,{actions:o}))}},6248:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(55),s=n(7),o=n(5618),l=n(15),c=n(6121),u=n(6359),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=({autoCompleteValues:e})=>{const{t:t}=Object(s.useTranslation)(),{setFieldValue:n,values:{parameters:p}}=Object(r.f)();return a.createElement(r.a,{name:"parameters",key:"parameters-row",render:()=>p.length>0&&a.createElement(o.a,{title:t("pipelines-plugin~Parameters"),fullWidth:!0},p.map((t,r)=>{const s=`parameters.${r}.value`,o=Object(c.a)(t),p=e=>a.createElement(l.ab,{ref:e,name:s,type:i.b.text,label:t.name,helpText:t.description,required:o,autoComplete:"off"});return"array"===t.type?a.createElement(l.lc,{name:s,label:t.name,helpText:t.description,required:o,addLabel:"Add "+t.name,"data-test":t.name+"-text-column-field"},t=>{var{name:i}=t,r=d(t,["name"]);return e?a.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>n(s,e)},e=>a.createElement(l.ab,Object.assign({ref:e,name:i},r,{autoComplete:"off"}))):a.createElement(l.ab,Object.assign({name:i},r,{autoComplete:"off"}))}):a.createElement(a.Fragment,{key:t.name},e?a.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>n(s,e)},e=>p(e)):p())}))})}},6249:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(547),i=n(6091);const r=e=>"params."+e.name,s=e=>`workspaces.${e.name}.bound`,o=e=>`tasks.${e.name}.status`,l=(e,t)=>{const n=e.filter(e=>{var n;return null===(n=e.runAfter)||void 0===n?void 0:n.includes(t)});let i=n.map(e=>e.name);return n.some(e=>e.runAfter)&&(i=[...i,...n.map(t=>l(e,t.name)).flat()]),a.a([t,...i])},c=(e,t,n)=>{const a=e[n],r=a?l(e,a.name):[];return e.filter(e=>!r.includes(e.name)).map((s=t,e=>{const t=Object(i.e)(s,e);if(!(null==t?void 0:t.spec.results))return null;const{spec:{results:n}}=t;return n.map(t=>`tasks.${e.name}.results.${t.name}`)})).flat().filter(e=>!!e);var s},u=(e,t,n="")=>{const[a,i]=t;return`${e.substring(0,a)}${n}${e.substring(i)}`}},6250:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(4397),s=n(7),o=n(5618),l=n(6632);const c=(e,t,n)=>{const a=t.data.type;return a?Object.assign(Object.assign({},e),{[a]:[...e[a]||[],{formikIndex:n,resource:t}]}):e};t.a=()=>{const{t:e}=Object(s.useTranslation)(),[{value:t}]=Object(i.e)("resources"),n=t.reduce(c,{}),u=Object.keys(n);return a.createElement(a.Fragment,null,u.map(t=>a.createElement(i.a,{name:t,key:t,render:()=>{const i=n[t];return a.createElement(o.a,{title:e("pipelines-plugin~{{type}} resources",{type:Object(r.a)(t)}),fullWidth:!0},i.map(e=>{const{formikIndex:n,resource:i}=e;return a.createElement(l.a,{key:i.name,name:"resources."+n,filterType:t,label:i.name})}))}})))}},6251:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(55),s=n(29),o=n(499),l=n(7),c=n(5618),u=n(10),d=n(15),p=n(5588),m=n(6646),b=n(6649),h=n(6651);n(6653);t.a=()=>{const{t:e}=Object(l.useTranslation)(),{setFieldValue:t}=Object(r.f)(),[{value:n}]=Object(r.e)("workspaces"),v={[p.x.NoWorkspace]:e("pipelines-plugin~No workspace"),[p.x.EmptyDirectory]:e("pipelines-plugin~Empty Directory"),[p.x.ConfigMap]:e("pipelines-plugin~Config Map"),[p.x.Secret]:e("pipelines-plugin~Secret"),[p.x.PVC]:e("pipelines-plugin~PersistentVolumeClaim"),[p.x.VolumeClaimTemplate]:e("pipelines-plugin~VolumeClaimTemplate")};return n.length>0&&a.createElement(c.a,{title:e("pipelines-plugin~Workspaces"),fullWidth:!0},n.map((e,n)=>a.createElement("div",{className:"form-group",key:e.name},a.createElement(d.I,{name:`workspaces.${n}.type`,label:e.name,items:e.optional?v:o.a(v,p.x.NoWorkspace),onChange:e=>t(`workspaces.${n}.data`,e===p.x.EmptyDirectory?{emptyDir:{}}:{},!1),fullWidth:!0,required:!e.optional,helpText:e.description}),((e,t)=>{switch(e){case p.x.Secret:return a.createElement(m.a,{resourceNameField:`workspaces.${t}.data.secret.secretName`,resourceKeysField:`workspaces.${t}.data.secret.items`,label:s.a.t("pipelines-plugin~Secret"),resourceModel:u.SecretModel,addString:s.a.t("pipelines-plugin~Add item"),required:!0});case p.x.ConfigMap:return a.createElement(m.a,{resourceNameField:`workspaces.${t}.data.configMap.name`,resourceKeysField:`workspaces.${t}.data.configMap.items`,label:s.a.t("pipelines-plugin~Config Map"),resourceModel:u.ConfigMapModel,addString:s.a.t("pipelines-plugin~Add item"),required:!0});case p.x.EmptyDirectory:return a.createElement("div",{className:"odc-PipelineWorkspacesSection__emptydir"},a.createElement(i.a,{isInline:!0,variant:"info",title:s.a.t("pipelines-plugin~Empty Directory doesn't support shared data between tasks.")}));case p.x.VolumeClaimTemplate:return a.createElement(h.a,{name:`workspaces.${t}.data.volumeClaimTemplate`,initialSizeValue:"1",initialSizeUnit:"Gi"});case p.x.PVC:return a.createElement(b.a,{name:`workspaces.${t}.data.persistentVolumeClaim.claimName`});default:return null}})(e.type,n))))}},6252:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),s=n(118),o=n(5),l=n(5846),c=n(6088),u=n(5687),d=n(6090),p=n(6654),m=n(6658),b=n(5909);t.a=Object(s.f)(({pipeline:e,close:t})=>{var n,s,h;const{t:v}=Object(r.useTranslation)(),[g,f]=Object(l.c)(null===(n=e.metadata)||void 0===n?void 0:n.name,null===(s=e.metadata)||void 0===s?void 0:s.namespace);if(!f)return a.createElement(o.S,null);const y=Object.assign(Object.assign({},Object(u.b)(e,!0,null===(h=null==g?void 0:g.metadata)||void 0===h?void 0:h.name)),{triggerBinding:{name:m.a,resource:null}});return a.createElement(i.b,{initialValues:y,onSubmit:(n,a)=>Object(b.b)(e,n).then(()=>{t()}).catch(e=>{a.setStatus({submitError:(null==e?void 0:e.message)||v("pipelines-plugin~There was an unknown error")})}),validationSchema:Object(d.a)()},e=>a.createElement(c.a,Object.assign({submitBtnText:v("pipelines-plugin~Add"),title:v("pipelines-plugin~Add Trigger"),close:t},e),a.createElement(p.a,Object.assign({},e))))})},6253:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var a=n(0),i=n(7),r=n(8),s=n(5586),o=n(5617),l=n(5623),c=n(6362),u=n(6181),d=n(6659);const p=e=>[{filterGroupName:e("pipelines-plugin~Status"),type:"pipelinerun-status",reducer:o.c,items:[{id:l.a.Succeeded,title:l.b[l.a.Succeeded]},{id:l.a.Running,title:l.b[l.a.Running]},{id:l.a.Failed,title:l.b[l.a.Failed]},{id:l.a.Cancelled,title:l.b[l.a.Cancelled]}],filter:o.e}];t.a=e=>{const{t:t}=Object(i.useTranslation)(),{obj:n}=e,o=a.useMemo(()=>({matchLabels:{"tekton.dev/pipeline":n.metadata.name}}),[n.metadata.name]),[l,m,b]=Object(u.b)(n.metadata.namespace,{selector:o}),h=a.useMemo(()=>({[Object(r.Hb)(s.PipelineRunModel)]:{data:l,kind:Object(r.Hb)(s.PipelineRunModel),loadError:b,loaded:m}}),[b,m,l]);return a.createElement(c.a,{showTitle:!1,canCreate:!1,kind:Object(r.Hb)(s.PipelineRunModel),namespace:n.metadata.namespace,selector:{matchLabels:{"tekton.dev/pipeline":n.metadata.name}},ListComponent:d.a,rowFilters:p(t),data:h})}},6254:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(29),i=n(5617),r=n(6363);const s=(e,t)=>{var n,s,o;if(!(null==e?void 0:e.status))return null;if("Failed"!==Object(i.d)(e))return null;const l=null===(n=e.status.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type);if("False"!==(null==l?void 0:l.status))return null;const c=Object.values(t||e.status.taskRuns||{}).filter(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type&&"False"===e.status)})[0];if(!c||(u=null==l?void 0:l.reason,["StoppedRunFinally","CancelledRunFinally","PipelineRunTimeout"].includes(u)))return{staticMessage:l.message||a.a.t("pipelines-plugin~Unknown failure condition"),title:a.a.t("pipelines-plugin~Failure - check logs for details.")};var u;const d=null===(o=null===(s=c.status.steps)||void 0===s?void 0:s.find(e=>{var t;return 0!==(null===(t=e.terminated)||void 0===t?void 0:t.exitCode)}))||void 0===o?void 0:o.container;return Object(r.a)(c.pipelineTaskName,c.status,d)}},6255:function(e,t,n){},6256:function(e,t,n){},6357:function(e,t,n){"use strict";var a=n(6245);n.d(t,"b",(function(){return a.a}));var i=n(6246);n.d(t,"c",(function(){return i.a}));var r=n(6252);n.d(t,"a",(function(){return r.a}))},6358:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(1122),r=n(225),s=n(7),o=n(5),l=n(567);const c=Object(l.a)(e=>{const{t:t}=Object(s.useTranslation)(),{actions:n,kindObj:l,resource:c,isDisabled:u,customData:d,terminatingTooltip:p}=e;if(!l)return null;const m=i.a(n.map(e=>e(l,c,null,d)),"hidden");return a.createElement(o.F,{options:m,key:c.metadata.uid,isDisabled:null!=u?u:0===m.length,terminatingTooltip:r.a(c.metadata,"deletionTimestamp")?p||t("pipelines-plugin~Resource is being deleted."):""})})},6359:function(e,t,n){"use strict";var a=n(0),i=n(951),r=n(685),s=n(562),o=n(684),l=n(7),c=n(5),u=n(1211),d=n(6631);t.a=({autoCompleteValues:e,children:t,onAutoComplete:n})=>{const{t:p}=Object(l.useTranslation)(),{contentRefCallback:m,focusTrapProps:b,insertAutoComplete:h,popperProps:v,menuWidth:g,options:f}=Object(d.a)(e,n);return a.createElement(a.Fragment,null,t(m),a.createElement(c.Cb,null,e=>a.createElement(u.a,Object.assign({},v,{placement:"bottom-start",closeOnEsc:!0,closeOnOutsideClick:!0,container:e,popperOptions:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1},flip:{enabled:!1}}}}),a.createElement(i.a,Object.assign({},b),a.createElement(r.a,{style:{maxHeight:200,overflow:"auto",width:g},onSelect:(e,t)=>{const n=f[t];n&&h(n)}},a.createElement(s.a,null,0===f.length?a.createElement(o.a,{key:0,itemId:-1,isDisabled:!0},p("pipelines-plugin~No options matching your criteria")):f.map((e,t)=>a.createElement(o.a,{key:t,itemId:t},e))))))))}},6360:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a,i=n(16);!function(e){e.alphaInputResources="spec.inputs.resources",e.alphaOutputResources="spec.outputs.resources",e.alphaParameters="spec.inputs.params",e.betaInputResources="spec.resources.inputs",e.betaOutputResources="spec.resources.outputs",e.betaParameters="spec.params"}(a||(a={}));const r=e=>{const t=Object(i.a)(e,a.alphaInputResources)||Object(i.a)(e,a.betaInputResources),n=Object(i.a)(e,a.alphaOutputResources)||Object(i.a)(e,a.betaOutputResources);return t||n?{inputs:t,outputs:n}:{}},s=e=>Object(i.a)(e,a.alphaParameters)||Object(i.a)(e,a.betaParameters)||[]},6361:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(55),i=n(6249);const r=e=>{const{values:{formData:{params:t,tasks:n,workspaces:r},taskResources:s}}=Object(a.f)(),{taskIndex:o,isFinallyTask:l}=e||{},c=t.map(i.c),u=r.map(i.e);let d=[];l&&(d=n.map(i.d));const p=Object(i.a)(n,s,o);return[...c,...u,"context.pipelineRun.name","context.pipelineRun.namespace","context.pipelineRun.uid","context.pipeline.name",...d,...p]},s=()=>{var e,t,n;const{values:{triggerBinding:r}}=Object(a.f)();return[...(null===(n=null===(t=null===(e=null==r?void 0:r.resource)||void 0===e?void 0:e.spec)||void 0===t?void 0:t.params)||void 0===n?void 0:n.map(e=>"tt."+Object(i.c)(e)))||[],"uid"]}},6362:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(0),i=(n(281),n(19)),r=n(18),s=n(373),o=n(22),l=n(107),c=n(333),u=n(16),d=n(50),p=n(7),m=n(31),b=n(14),h=n(121),v=n(765),g=n(1003),f=n(1436),y=n(5),E=n(8),k=n(15),O=n(198),j=n(7482);const R=e=>{const{flatten:t,ListComponent:n,reduxIDs:i,rowFilters:r,textFilter:l,nameFilterPlaceholder:c,labelFilterPlaceholder:u,hideNameLabelFilters:d,hideLabelFilter:p,columnLayout:b,name:v,nameFilter:f,data:y}=e,E=Object(m.useDispatch)(),O=Object(k.De)(i);a.useEffect(()=>{s.a(f)||O.forEach(e=>E(Object(h.b)(e,"name",{selected:[f]})))},[E,f,O]);const j=t?t(y):[],R=a.createElement(g.a,Object.assign({rowFilters:r,nameFilterPlaceholder:c,labelFilterPlaceholder:u,reduxIDs:i,textFilter:l,hideNameLabelFilters:d,hideLabelFilter:p,columnLayout:b,uniqueFilterName:v},e,{data:j}));return a.createElement("div",null,!o.a(j)&&R,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-12"},a.createElement(n,Object.assign({},e,{data:j})))))};R.displayName="ListPageWrapper_";const T=e=>{const{cluster:t,resources:n,textFilter:s,canCreate:u,createAccessReview:d,createButtonText:p,createProps:m={},helpText:h,badge:v,title:g}=e,E=Object(b.useNavigate)(),[k,O]=a.useState([]),[j]=a.useState();a.useEffect(()=>{new URLSearchParams(window.location.search).forEach((e,t)=>R(t,e));const e=n.map(e=>Object(y.lc)(Object(y.jc)(e.kind),Object(y.kc)(e.namespace,e.selector,e.fieldSelector,e.name)));O(e)},[]),a.useEffect(()=>{const e=n.map(e=>Object(y.lc)(Object(y.jc)(e.kind),Object(y.kc)(e.namespace,e.selector,e.fieldSelector,e.name)));l.a(e,k)||O(e)},[t,n]);const R=(t,n)=>{["q","kind","orderBy","sortBy"].includes(t)||0!==t.indexOf(f.c)&&(k.forEach(a=>e.filterList(a,t,n)),((e,t)=>{if(e!==s)return;const n=new URLSearchParams(window.location.search);t?n.set(e,t):n.delete(e);const a=new URL(window.location.href);E(`${a.pathname}?${n.toString()}${a.hash}`,{replace:!0})})(t,n))},T=e=>{const t=c.a(m.action)&&m.action(e);t?t():c.a(m.createLink)&&E(m.createLink(e),{replace:!0})};let S;return u&&(S=m.to?a.createElement(b.Link,{className:"co-m-primary-action",to:m.to},a.createElement(i.a,{variant:"primary",id:"yaml-create","data-test":"item-create"},p)):m.items?a.createElement("div",{className:"co-m-primary-action"},a.createElement(y.t,{buttonClassName:"pf-m-primary",id:"item-create",dataTest:"item-create",menuClassName:r({"pf-m-align-right-on-md":g}),title:p,noSelection:!0,items:m.items,onChange:T})):a.createElement("div",{className:"co-m-primary-action"},a.createElement(i.a,Object.assign({variant:"primary",id:"yaml-create","data-test":"item-create"},m),p)),o.a(d)||(S=a.createElement(y.eb,{model:d.model,namespace:d.namespace},S))),a.createElement(a.Fragment,null,a.createElement(y.Z,{title:g,badge:g?v:null,className:r({"co-m-nav-title--row":S})},S&&a.createElement("div",{className:r({"co-m-pane__createLink--no-title":!g})},S),!g&&v&&a.createElement("div",null,v)),h&&a.createElement("p",{className:"co-m-pane__help-text co-help-text"},h),a.createElement("div",{className:"co-m-pane__body co-m-pane__body--no-top-margin"},Object(y.gc)(e.children,{resources:n,expand:j,reduxIDs:k,applyFilter:R})))};T.displayName="FireMan";const S=Object(O.e)(e=>{const{autoFocus:t,canCreate:n,createButtonText:i,createHandler:r,customData:s,fieldSelector:l,filterLabel:c,labelFilterPlaceholder:d,nameFilterPlaceholder:m,filters:h,helpText:g,kind:f,limit:k,ListComponent:O,mock:j,name:R,nameFilter:T,namespace:S,selector:N,showTitle:w=!0,skipAccessReview:C,textFilter:_,badge:x,hideLabelFilter:I,hideNameLabelFilters:M,hideColumnManagement:L,columnLayout:A,data:F,flatten:D=(e=>{var t;return null===(t=u.a(e,f))||void 0===t?void 0:t.data})}=e,{t:$}=Object(p.useTranslation)(),U=Object(b.useParams)();let{createProps:q}=e;const B=Object(y.jc)(f),{label:K,labelKey:V,labelPlural:G,labelPluralKey:W,namespaced:H,plural:z}=B,J=e.title||$(W)||G,Y=!S&&H?U.ns:S;let X=Y?`/k8s/ns/${Y||"default"}/${z}/~new`:`/k8s/cluster/${z}/~new`;if(B.crd)try{const e=Object(E.Hb)(B);X=Y?`/k8s/ns/${Y||"default"}/${e}/~new`:`/k8s/cluster/${e}/~new`}catch(e){}q=q||(r?{onClick:r}:{to:X});const Q=C?null:{model:B,namespace:Y},Z=[{fieldSelector:l,filters:h,kind:f,limit:k,name:R,namespaced:H,selector:N,prop:f}],ee=o.a(h)?e.rowFilters:void 0;return!H&&Y?a.createElement(v.ErrorPage404,null):a.createElement(P,{autoFocus:t,canCreate:n,createAccessReview:Q,createButtonText:i||$("public~Create {{label}}",{label:$(V)||K}),createProps:q,customData:s,filterLabel:c||$("public~by name"),nameFilterPlaceholder:m,labelFilterPlaceholder:d,flatten:D,helpText:g,label:$(W)||G,ListComponent:O,mock:j,namespace:Y,resources:Z,rowFilters:ee,showTitle:w,textFilter:_,title:J,badge:x,hideLabelFilter:I,hideNameLabelFilters:M,hideColumnManagement:L,columnLayout:A,nameFilter:T,data:F})},O.b);S.displayName="ListPage";const P=e=>{const{autoFocus:t,canCreate:n,createAccessReview:i,createButtonText:r,createProps:s,filterLabel:o,nameFilterPlaceholder:l,labelFilterPlaceholder:c,flatten:u,helpText:m,label:b,ListComponent:h,mock:v,namespace:g,rowFilters:f,showTitle:y=!0,staticFilters:E,textFilter:k,title:O,customData:S,badge:P,hideLabelFilter:N,hideNameLabelFilters:w,hideColumnManagement:C,columnLayout:_,nameFilter:x,data:I}=e,{t:M}=Object(p.useTranslation)(),L=d.a(e.resources,e=>Object.assign(Object.assign({},e),{isList:void 0===e.isList||e.isList,namespace:e.namespaced?g:e.namespace,prop:e.kind}));return a.createElement(T,{autoFocus:t,canCreate:n,createAccessReview:i,createButtonText:r||M("public~Create"),createProps:s,filterLabel:o||M("public~by name"),helpText:m,resources:v?[]:L,textFilter:k,title:y?O:void 0,badge:P},a.createElement(j.a,{data:I},a.createElement(R,{flatten:u,kinds:d.a(L,"kind"),label:b,ListComponent:h,textFilter:k,rowFilters:f,staticFilters:E,customData:S,hideLabelFilter:N,hideNameLabelFilters:w,hideColumnManagement:C,columnLayout:_,nameFilterPlaceholder:l,labelFilterPlaceholder:c,nameFilter:x,namespace:g,resources:I,data:I})))};P.displayName="MultiListPage"},6363:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(29);const i=(e,t,n)=>{return(null==t?void 0:t.podName)&&n?{containerName:n,podName:t.podName,title:a.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})}:{staticMessage:(i=t.conditions,i.map(e=>e.message).join("\n")||a.a.t("pipelines-plugin~Unknown failure condition")),title:a.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})};var i}},6432:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(14),s=n(5),o=n(15),l=n(5586),c=n(7485);t.a=({pipelineRun:e,taskRuns:t,taskRunsLoaded:n,taskRunStatusObj:u})=>{var d,p,m,b;const{t:h}=Object(i.useTranslation)(),v=u&&(null===(d=Object.values(u))||void 0===d?void 0:d.every(e=>0===e))?a.createElement(a.Fragment,null,o.E):u?a.createElement(c.b,{taskRunStatusObj:u}):n&&(null==t?void 0:t.length)>0?a.createElement(c.a,{key:null===(p=e.metadata)||void 0===p?void 0:p.name,pipelinerun:e,taskRuns:t}):n&&0===(null==t?void 0:t.length)&&!u?a.createElement(a.Fragment,null,o.E):a.createElement(s.T,null);return(null===(m=e.metadata)||void 0===m?void 0:m.name)&&(null===(b=e.metadata)||void 0===b?void 0:b.namespace)?a.createElement(r.Link,{to:Object(s.uc)(l.PipelineRunModel,e.metadata.name,e.metadata.namespace)+"/logs",role:"button","aria-label":h("pipelines-plugin~View logs")},v):v}},6433:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(8),r=n(5586),s=n(5635);const o=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{var t;const a={spec:{tasks:[]}},o=Object(s.d)(e);if(o)n(o);else if(null===(t=e.spec.pipelineRef)||void 0===t?void 0:t.name){const t=e.spec.pipelineRef.name;Object(i.kb)(r.PipelineModel,t,e.metadata.namespace).then(e=>{n(e)}).catch(()=>n(a))}else n(a)},[e]),t}},6434:function(e,t,n){"use strict";var a=n(0),i=n(15);t.a=({status:e,children:t,title:n})=>a.createElement(i.cc,{status:e,title:n},"Failed"===e&&a.Children.toArray(t).length>0&&t)},6436:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var a=n(1416),i=n(29),r=n(109),s=n(131),o=n(5),l=n(10),c=n(8),u=n(5623),d=n(6123),p=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const m=(e,t)=>{const n=e.map(e=>e.name),a=[];return t.forEach(e=>{const t=n.indexOf(e.name);a[t]=e}),a},b=e=>{var t,n,a,i;const r=null!==(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.containers)&&void 0!==n?n:[],s=null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.containerStatuses)&&void 0!==i?i:[],l=m(r,s).findIndex(e=>Object(u.f)(e)!==o.J);return{containers:r.slice(0,-1===l?r.length:l+1),stillFetching:-1!==l}},h=(e,t,n,b)=>{const h=()=>p(void 0,void 0,void 0,(function*(){const a=yield Promise.all(e.map(e=>{var a;const{status:r}=null!==(a=t.find(t=>t.metadata.name===e))&&void 0!==a?a:{};return o=null==r?void 0:r.podName,u=n,Object(c.kb)(l.PodModel,o,u).then(e=>{var t,n,a;return m(null!==(t=e.spec.containers)&&void 0!==t?t:[],null!==(a=null===(n=e.status)||void 0===n?void 0:n.containerStatuses)&&void 0!==a?a:[])}).catch(e=>(Object(s.s)({error:e.message||i.a.t("pipelines-plugin~Error downloading logs.")}),[]));var o,u}));return e.reduce((e,i,r)=>{var s,d,p,m;const b=t.find(e=>e.metadata.name===i),h=null!==(d=null===(s=null==b?void 0:b.spec.taskRef)||void 0===s?void 0:s.name)&&void 0!==d?d:null==b?void 0:b.metadata.name,{status:v}=b,g=null==v?void 0:v.podName,f=a[r].reduce((e,t)=>{const{name:a}=t,i=Object(u.f)(t);if(i===o.K)return e;const r={ns:n,name:g,path:"log",queryParams:{container:a,follow:"true"}};return Object.assign(Object.assign({},e),{[a]:{status:i,url:Object(c.Jb)(l.PodModel,r)}})},{});return e[i]={name:h,steps:Object.assign({},f),taskRunPath:null===(m=null===(p=b.metadata)||void 0===p?void 0:p.annotations)||void 0===m?void 0:m["results.tekton.dev/record"]},e},{})}));return()=>{return t=h(),p(void 0,void 0,void 0,(function*(){const n=yield t;let i="";for(const t of e){const e=n[t],a=Object.keys(e.steps);if(i+=e.name+"\n\n",a.length>0)for(const t of a){const{url:n,status:a}=e.steps[t],s=Object(r.d)(n).then(e=>`${t.toUpperCase()}\n\n${e}\n\n`);i+=a===o.J?yield s:yield Promise.race([s,new Promise(e=>{setTimeout(()=>e(""),1e3)})])}else i+=(yield Object(d.c)(e.taskRunPath).then(e=>`${n[t].name.toUpperCase()}\n\n${e}\n\n`))}const s=new o.M(null);s.ingest(i);const l=s.getBlob({type:"text/plain;charset=utf-8"});return Object(a.saveAs)(l,b+".log"),null}));var t}}},6625:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(8),i=n(5586),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const s=(e,t)=>r(void 0,void 0,void 0,(function*(){const n=t.metadata.namespace,r=e.selectedTrigger;yield Object(a.lb)(i.TriggerTemplateModel,{metadata:{name:r,namespace:n}});const s=({template:e})=>(null==e?void 0:e.ref)===r||(null==e?void 0:e.name)===r,o=(yield Object(a.nb)(i.EventListenerModel,{ns:n})).filter(({spec:{triggers:e}})=>e.find(s)),l=({spec:{triggers:e}})=>1===e.length,c=o.filter(l);yield Promise.all(c.map(e=>Object(a.lb)(i.EventListenerModel,e)));const u=o.filter(e=>!l(e));return yield Promise.all(u.map(e=>Object(a.pb)(i.EventListenerModel,e,[{op:"replace",path:"/spec/triggers",value:e.spec.triggers.filter(s)}]))),Promise.resolve()}))},6626:function(e,t,n){"use strict";var a=n(0),i=n(516),r=n(164),s=n(404),o=n(287),l=n(996),c=n(7),u=n(6627);t.a=e=>{const{t:t}=Object(c.useTranslation)(),{pipeline:n}=e,d=n.metadata.name;return a.createElement(i.a,{className:"odc-modal-content",hasGutter:!0},a.createElement(r.a,null,a.createElement(s.a,{size:"md"},a.createElement(o.a,{color:l.global_warning_color_100.value}))),a.createElement(r.a,{isFilled:!0},a.createElement("p",{className:"co-break-word"},a.createElement(c.Trans,{t:t,ns:"pipelines-plugin"},"Select the trigger to remove from pipeline ",a.createElement("b",null,{pipelineName:d}),".")),a.createElement(u.a,{name:"selectedTrigger",placeholder:t("pipelines-plugin~Select TriggerTemplate"),pipeline:n})))}},6627:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),s=n(15),o=n(6056);n(6628);t.a=e=>{const{t:t}=Object(r.useTranslation)(),{name:n,pipeline:l,placeholder:c}=e,{metadata:{name:u,namespace:d}}=l,[p]=Object(i.e)(n),m=p.value,b=Object(o.d)(u,d)||[],h=b.reduce((e,{triggerTemplateName:t})=>Object.assign(Object.assign({},e),{[t]:t}),{});return a.createElement("div",{className:"odc-trigger-template-selector"},a.createElement(s.I,{fullWidth:!0,disabled:0===b.length,items:h,name:n,title:c}),m?a.createElement("div",{className:"co-break-word odc-trigger-template-selector__confirmationMessage"},a.createElement(r.Trans,{t:t,ns:"pipelines-plugin"},"Are you sure you want to remove ",a.createElement("b",null,{selection:m})," from ",a.createElement("b",null,{pipelineName:u}),"?")):a.createElement("div",{className:"odc-trigger-template-selector__pfModalHack"}))}},6628:function(e,t,n){},6629:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(29),i=n(689);const r=()=>i.object().shape({selectedTrigger:i.string().required(a.a.t("pipelines-plugin~Required"))})},6630:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5618),s=n(6248),o=n(6250),l=n(6640),c=n(6251);t.a=()=>{const{t:e}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.a,null),a.createElement(o.a,null),a.createElement(c.a,null),a.createElement(r.a,{title:e("pipelines-plugin~Advanced options"),fullWidth:!0},a.createElement(l.a,null)))}},6631:function(e,t,n){"use strict";var a=n(0),i=n(547),r=n(6249);const s="$(".split("");t.a=(e,t)=>{var n;const o=a.useRef([0,0]),[l,c]=a.useState(!1),u=(()=>{const[e,t]=a.useState(!1),n=a.useCallback(n=>{const{key:a,code:i,ctrlKey:r}=n;if("Space"===i&&r)return t(!0),!0;if(!s.includes(a)||e)return!1;const o=n.target.selectionStart;return n.target.value[o-2]===s[0]&&a===s[1]&&(t(!0),!0)},[e]);return{isOpen:e,shouldOpen:n,closeMenu:a.useCallback(()=>t(!1),[])}})(),d=(e=>{const[t,n]=a.useState(e),r=a.useRef({});a.useEffect(()=>{r.current=e.reduce((e,t,n)=>{const a=t.split(".").reduce((e,a)=>Object.assign(Object.assign({},e),{[`${a}|${n}`]:t}),{});return Object.assign(Object.assign(Object.assign({},e),a),{[t]:t})},{})},[e]);return[t,a.useCallback(t=>{if(!t)return void n(e);const a=i.a(Object.keys(r.current).filter(e=>e.toLowerCase().startsWith(t.toLowerCase())).map(e=>r.current[e]));n(a)},[e])]})(e),{isOpen:p,closeMenu:m}=u,[b,h]=d,v=a.useCallback(()=>{m(),h(""),c(!1),o.current=[0,0]},[m,h]),[g,f]=((e,t,n,i,r)=>{const[s,o]=a.useState(null),l=a.useRef(null);l.current=s;const{isOpen:c,shouldOpen:u}=t,[,d]=n,p=a.useCallback(t=>{const n=()=>{const t=l.current.value.substring(e.current[0],e.current[1]);d(t)};if(c){if(e.current=[e.current[0],l.current.selectionEnd],e.current[1]<e.current[0])return void r();n()}else{e.current=[l.current.selectionStart,l.current.selectionEnd];u(t)&&n()}},[c,d,u,r,e]),m=a.useCallback(e=>{c&&("Tab"!==e.code&&"ArrowDown"!==e.code||(e.stopPropagation(),e.preventDefault(),i(!0)))},[c,i]);return a.useEffect(()=>(s&&(s.addEventListener("keydown",m),s.addEventListener("keyup",p)),()=>{s&&(s.removeEventListener("keydown",m),s.removeEventListener("keyup",p))}),[m,p,s]),[l,e=>o(e)]})(o,u,d,c,v),y=a.useCallback(e=>{const n=o.current[0]-"$(".length,a=`${"$("===(n>=0?g.current.value.substr(n,"$(".length):null)?"":"$("}${e})`;t(Object(r.b)(g.current.value,o.current,a));const i=o.current[0]+a.length;setTimeout(()=>{g.current.setSelectionRange(i,i)},0),v()},[g,v,t]);return{contentRefCallback:f,focusTrapProps:{active:l,focusTrapOptions:{clickOutsideDeactivates:!0,onDeactivate:v,fallbackFocus:g.current}},insertAutoComplete:y,menuWidth:(null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect().width)||300,options:b,popperProps:{open:p,onRequestClose:v,reference:()=>g.current}}}},6632:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(55),s=n(15),o=n(6633),l=n(5725),c=n(6638);t.a=e=>{const{filterType:t,name:n,label:u}=e,[d]=Object(r.e)(n),{values:p}=Object(r.f)(),{namespace:m}=p,{value:{selection:b}}=d,h=b===l.a;return Object(s.Ge)(d.value),a.createElement(a.Fragment,null,a.createElement(i.a,{fieldId:n,label:u,isRequired:!0},a.createElement(c.a,Object.assign({},e,{autoSelect:""===b,filterType:t,namespace:m,name:n+".selection"}))),h&&a.createElement(o.a,{name:n+".data",type:t}))}},6633:function(e,t,n){"use strict";var a=n(0),i=n(5618),r=n(5588),s=n(6634),o=n(6635),l=n(6636),c=n(6637);t.a=e=>{const{name:t,type:n}=e;return a.createElement(i.a,{fullWidth:!0},(()=>{switch(n){case r.o.git:return a.createElement(o.a,{prefixName:t});case r.o.image:return a.createElement(l.a,{prefixName:t});case r.o.cluster:return a.createElement(s.a,{prefixName:t});case r.o.storage:return a.createElement(c.a,{prefixName:t});default:return null}})())}},6634:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),s=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.ab,{type:i.b.text,name:e+".params.name",label:t("pipelines-plugin~Name"),helpText:t("pipelines-plugin~Name of the cluster."),required:!0}),a.createElement(s.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Host URL of the control plane node."),required:!0}),a.createElement(s.ab,{type:i.b.text,name:e+".params.username",label:t("pipelines-plugin~Username"),helpText:t("pipelines-plugin~The user with access to the cluster."),required:!0}),a.createElement(s.ab,{type:i.b.password,name:e+".params.password",label:t("pipelines-plugin~Password"),helpText:t("pipelines-plugin~Please provide password.")}),a.createElement(s.ab,{type:i.b.text,name:e+".params.insecure",label:t("pipelines-plugin~Insecure"),helpText:t("pipelines-plugin~Indicate server should be accessed without verifying the TLS certificate.")}),a.createElement(s.J,{name:e+".secrets.cadata",label:t("pipelines-plugin~Cadata"),helpText:t("pipelines-plugin~The PEM format certificate. Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}),a.createElement(s.J,{name:e+".secrets.token",label:t("pipelines-plugin~Token"),helpText:t("pipelines-plugin~Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}))}},6635:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),s=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Git URL."),required:!0}),a.createElement(s.ab,{type:i.b.text,name:e+".params.revision",label:t("pipelines-plugin~Revision"),helpText:t("pipelines-plugin~Please provide revisions. i.e master")}))}},6636:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),s=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(s.ab,{type:i.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Image URL."),required:!0})}},6637:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),s=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.ab,{type:i.b.text,name:e+".params.type",label:t("pipelines-plugin~Type"),helpText:t("pipelines-plugin~Represents the type of blob storage i.e gcs"),required:!0}),a.createElement(s.ab,{type:i.b.text,name:e+".params.location",label:t("pipelines-plugin~Location"),helpText:t("pipelines-plugin~Represents the location of the blob storage i.e gs://some-private-bucket"),required:!0}),a.createElement(s.ab,{type:i.b.text,name:e+".params.dir",label:t("pipelines-plugin~Directory"),helpText:t("pipelines-plugin~Represents whether the blob storage is a directory or not")}))}},6638:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(117),s=n(7),o=n(5),l=n(108),c=n(8),u=n(15),d=n(5586),p=n(5725);n(6639);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{autoSelect:n,filterType:m,name:b,namespace:h}=e,{setFieldValue:v,setFieldTouched:g}=Object(i.f)(),[,{touched:f}]=Object(i.e)(b),[y,E,k]=Object(l.a)({isList:!0,namespace:h,kind:Object(c.Hb)(d.PipelineResourceModel)}),O=y.filter(e=>e.spec.type===m),j=n&&!f&&E&&!k;a.useEffect(()=>{j&&(0===O.length?v(b,p.a):v(b,O[0].metadata.name),g(b))},[j,b,O,g,v]);const R=[{value:"",label:t("pipelines-plugin~Select Pipeline resource"),isPlaceholder:!0,isDisabled:!0},{label:t("pipelines-plugin~Create Pipeline resource"),value:p.a},...O.map(e=>{var t;const n=e.metadata.name,a=(null===(t=r.a(e.spec.params,["name","url"]))||void 0===t?void 0:t.value)||"";return{label:a.trim().length>0?`${a} (${n})`:n,value:n}})];return E?a.createElement(u.T,{name:b,className:"odc-pipeline-resource-dropdown",options:R,isDisabled:E&&0===O.length}):a.createElement(o.T,null)}},6639:function(e,t,n){},6640:function(e,t,n){"use strict";var a=n(0),i=n(19),r=n(407),s=n(55),o=n(7),l=n(4359),c=n(5),u=n(10),d=n(8),p=n(5623),m=n(5588),b=n(6641),h=n(6643),v=n(6090);n(6645);const g={secretName:"",annotations:{key:m.p.Image,value:""},type:l.SecretType.dockerconfigjson,formData:{}};t.a=()=>{const{t:e}=Object(o.useTranslation)(),[t]=Object(s.e)("secretOpen"),{setFieldValue:n,values:{namespace:l}}=Object(s.f)();return a.createElement(c.x,{textExpanded:e("pipelines-plugin~Hide credential options"),textCollapsed:e("pipelines-plugin~Show credential options")},a.createElement("div",{className:"odc-pipeline-secret-section"},a.createElement("p",null,e("pipelines-plugin~The following secrets are available for all pipelines in this namespace to authenticate to the specified Git server or Image registry:")),a.createElement("div",{className:"odc-pipeline-secret-section__secrets"},a.createElement(h.a,{namespace:l}),t.value?a.createElement("div",{className:"odc-pipeline-secret-section__secret-form"},a.createElement(s.b,{initialValues:g,validationSchema:Object(v.b)(),onSubmit:(e,a)=>{const i={apiVersion:u.SecretModel.apiVersion,kind:u.SecretModel.kind,metadata:{name:e.secretName,namespace:l,annotations:Object(p.s)(e.annotations)},type:e.type,stringData:e.formData};return Object(d.jb)(u.SecretModel,i).then(a=>{n(t.name,!1),Object(p.d)(a,l,e.annotations.key===m.p.Image)}).catch(e=>{a.setStatus({submitError:e.message})})},onReset:(e,a)=>{a.resetForm({values:g,status:{}}),n(t.name,!1)}},e=>a.createElement(b.a,Object.assign({},e)))):a.createElement(i.a,{variant:"link",onClick:()=>{n(t.name,!0)},className:"odc-pipeline-secret-section__secret-action",icon:a.createElement(r.a,null)},e("pipelines-plugin~Add Secret")))))}},6641:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(2324),s=n(7),o=n(4359),l=n(5),c=n(15),u=n(5588);n(6642);t.a=({values:e,setFieldValue:t,setFieldTouched:n,handleSubmit:d,handleReset:p,status:m,isSubmitting:b})=>{const{t:h}=Object(s.useTranslation)(),[v,g]=a.useState({[o.SecretType.basicAuth]:{},[o.SecretType.sshAuth]:{},[o.SecretType.dockerconfigjson]:{}}),f=a.useMemo(()=>({[u.p.Git]:h("pipelines-plugin~Git Server"),[u.p.Image]:h("pipelines-plugin~Image Registry")}),[h]),y=a.useMemo(()=>{switch(e.annotations.key){case u.p.Git:return{[o.SecretType.basicAuth]:h("pipelines-plugin~Basic Authentication"),[o.SecretType.sshAuth]:h("pipelines-plugin~SSH Key")};case u.p.Image:return{[o.SecretType.basicAuth]:h("pipelines-plugin~Basic Authentication"),[o.SecretType.dockerconfigjson]:h("pipelines-plugin~Image Registry Credentials")};default:return{}}},[e.annotations.key,h]),E=a.useCallback(()=>{t("annotations",{key:e.annotations.key,value:""}),n("annotations",!1)},[n,t,e.annotations.key]);a.useEffect(()=>{Object.keys(y).includes(e.type)||(t("type",o.SecretType.basicAuth),E())},[y,e.type,t,E]);const k=a.useMemo(()=>({[o.SecretType.dockerconfigjson]:h("pipelines-plugin~The base server url (e.g. https://quay.io/)"),[o.SecretType.basicAuth]:h("pipelines-plugin~The base server url (e.g. https://github.com)"),[o.SecretType.sshAuth]:h("pipelines-plugin~Server hostname without schema or path (e.g. github.com)")}),[h]),O=(n,a)=>{n===o.SecretType.dockerconfigjson?t("formData",r.a({".dockerconfigjson":a[n]},JSON.stringify)):t("formData",a[n]),e.type!==n&&E()};return a.createElement("div",{className:"odc-secret-form"},a.createElement("h1",{className:"co-section-heading-tertiary odc-secret-form__title"},h("pipelines-plugin~Create Secret")),a.createElement("div",{className:"form-group"},a.createElement(c.ab,{type:i.b.text,name:"secretName",label:h("pipelines-plugin~Secret name"),helpText:h("pipelines-plugin~Unique name of the new secret."),required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.I,{name:"annotations.key",label:h("pipelines-plugin~Access to"),helpText:h("pipelines-plugin~Designate provider to be authenticated."),items:f,fullWidth:!0,required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.I,{name:"type",label:h("pipelines-plugin~Authentication type"),items:y,title:y[e.type],onChange:e=>O(e,v),fullWidth:!0,required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.ab,{name:"annotations.value",label:h("pipelines-plugin~Server URL"),helpText:k[e.type],type:i.b.text,required:!0})),((e,t,n)=>{switch(e){case o.SecretType.basicAuth:return a.createElement(o.BasicAuthSubform,{onChange:n,stringData:t[o.SecretType.basicAuth]});case o.SecretType.sshAuth:return a.createElement(o.SSHAuthSubform,{onChange:n,stringData:t[o.SecretType.sshAuth]});case o.SecretType.dockerconfigjson:return a.createElement(o.CreateConfigSubform,{onChange:n,stringData:t[o.SecretType.dockerconfigjson]});default:return null}})(e.type,v,t=>{g(n=>(O(e.type,Object.assign(Object.assign({},n),{[e.type]:t})),Object.assign(Object.assign({},n),{[e.type]:t})))}),a.createElement(l.g,{errorMessage:null==m?void 0:m.submitError,inProgress:b},a.createElement(c.g,{onSubmit:d,onClose:p})))}},6642:function(e,t,n){},6643:function(e,t,n){"use strict";var a=n(0),i=n(50),r=n(116),s=n(240),o=n(461),l=n(22),c=n(7),u=n(4359),d=n(5),p=n(10),m=n(15),b=n(5588);n(6644);const h=[u.SecretType.dockerconfigjson,u.SecretType.basicAuth,u.SecretType.sshAuth],v=({secrets:e,serviceaccounts:t})=>{const{t:n}=Object(c.useTranslation)(),u=i.a(t.data.secrets,"name"),b=r.a(e.data,e=>s.a(h,e.type)&&s.a(u,e.metadata.name)),v=o.a(b,e=>e.metadata.name);return a.createElement("div",{className:"odc-secrets-list"},v.map(e=>a.createElement(d.hb,{key:e.metadata.uid,kind:p.SecretModel.kind,name:e.metadata.name,namespace:e.metadata.namespace,linkTo:!1})),l.a(v)&&a.createElement(m.Wb,{status:n("pipelines-plugin~No secrets found")}))};t.a=({namespace:e})=>{const t=[{isList:!0,namespace:e,kind:p.SecretModel.kind,prop:p.SecretModel.plural},{isList:!1,namespace:e,kind:p.ServiceAccountModel.kind,prop:p.ServiceAccountModel.plural,name:b.l}];return a.createElement(d.C,{resources:t},a.createElement(v,null))}},6644:function(e,t,n){},6645:function(e,t,n){},6646:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),s=n(319),o=n(157),l=n(18),c=n.n(l),u=n(55),d=n(230),p=n(117),m=n(16),b=n(22),h=n(7),v=n(31),g=n(13),f=n(108),y=n(518),E=n(15),k=n(6647);t.a=Object(v.connect)(e=>({namespace:Object(y.d)(e)}))(({label:e,namespace:t,resourceModel:n,required:l,resourceNameField:v,resourceKeysField:y,addString:O})=>{const{t:j}=Object(h.useTranslation)(),{setFieldValue:R,setFieldTouched:T}=Object(u.f)(),[S,{touched:P,error:N}]=Object(u.e)(v),w=!(P&&N),C=Object(E.Kc)(v,"res-dropdown"),[_,x]=a.useState({});Object(E.Ge)(S.value);const I=a.useMemo(()=>({kind:n.kind,isList:!0,namespace:t,optional:!0}),[t,n.kind]),[M,L,A]=Object(f.a)(I);return a.createElement(i.a,{fieldId:C,label:e,className:"odc-multiple-key-selector",isRequired:l},a.createElement(E.Nb,{resources:[{kind:n.kind,loaded:L,loadError:A,data:M}],loaded:L,loadError:A,dataSelector:["metadata","name"],selectedKey:S.value,placeholder:j("pipelines-plugin~Select a {{label}}",{label:j(n.labelKey)}),autocompleteFilter:(e,t)=>{var n;return d(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},dropDownClassName:c()({"dropdown--full-width":!0}),onChange:e=>{R(y,void 0),R(v,e),T(v,!0),(e=>{var t;const n=p.a(M,t=>m.a(t,"metadata.name")===e),a=null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},i=Object.keys(a).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{});x(i)})(e)},showBadge:!0}),S.value&&!b.a(_)&&a.createElement(k.a,{name:y,keys:_,addString:O}),!w&&a.createElement(r.a,null,a.createElement(s.a,null,a.createElement(o.a,{variant:"error",icon:a.createElement(g.u,null)},N))))})},6647:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(241),s=n(130),o=n(281),l=n(88),c=n(19),u=n(408),d=n(407),p=n(55),m=n(16),b=n(7),h=n(15);n(6648);t.a=({name:e,keys:t,addString:n,tooltip:v})=>{const{t:g}=Object(b.useTranslation)(),{values:f}=Object(p.f)(),y=m.a(f,e,[]);return Object(h.Ge)(y),a.createElement(p.a,{name:e,key:"multiple-key-selector",render:({push:p,remove:m})=>a.createElement(i.a,{fieldId:Object(h.Kc)(e,"multiple-key-selector"),label:g("pipelines-plugin~Items"),className:"odc-multiple-key-selector"},y.length>0&&y.map((n,i)=>{const c=`${e}.${i}.${n.key}`;return a.createElement("div",{className:"form-group odc-multiple-key-selector__item",key:c},a.createElement(r.a,{direction:{default:"column",lg:"row"}},a.createElement(s.a,{grow:{default:"grow"}},a.createElement(h.I,{name:`${e}.${i}.key`,title:g("pipelines-plugin~Select a key"),items:t,fullWidth:!0})),a.createElement(s.a,{grow:{default:"grow"}},a.createElement(h.ab,{name:`${e}.${i}.path`,type:o.b.text,placeholder:g("pipelines-plugin~Enter a path")}))),a.createElement("div",{className:"odc-multiple-key-selector__deleteButton"},a.createElement(l.a,{content:v||g("pipelines-plugin~Remove")},a.createElement(u.a,{"aria-hidden":"true",onClick:()=>m(i)}))))}),a.createElement(c.a,{variant:"link",onClick:()=>p({key:"",path:""}),icon:a.createElement(d.a,null),isInline:!0},n||g("pipelines-plugin~Add items")))})}},6648:function(e,t,n){},6649:function(e,t,n){"use strict";var a=n(0),i=n(230),r=n(7),s=n(31),o=n(10),l=n(518),c=n(15);n(6650);t.a=Object(s.connect)(e=>({namespace:Object(l.d)(e)}))(({name:e,namespace:t})=>{const{t:n}=Object(r.useTranslation)(),s=[{isList:!0,kind:o.PersistentVolumeClaimModel.kind,namespace:t,prop:o.PersistentVolumeClaimModel.id,optional:!0}];return a.createElement(c.Ob,{name:e,className:"odc-pvc-dropdown",resources:s,dataSelector:["metadata","name"],placeholder:n("pipelines-plugin~Select a PVC"),autocompleteFilter:(e,t)=>{var n;return i(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},fullWidth:!0,showBadge:!0})})},6650:function(e,t,n){},6651:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(80),s=n(55),o=n(7),l=n(6092),c=n(692),u=n(5907),d=n(5),p=n(6093),m=n(64),b=n(197);n(6652);t.a=({name:e,initialSizeValue:t="1",initialSizeUnit:n="Gi",initialVolumeMode:h="Filesystem"})=>{const{t:v}=Object(o.useTranslation)(),[g]=Object(s.e)(e),f=v("pipelines-plugin~Permissions to the mounted drive."),[y,E]=a.useState(f),{setFieldValue:k,setFieldTouched:O,errors:j}=Object(s.f)(),[R,T]=a.useState(u.g),[S,P]=a.useState(h),[N,w]=a.useState("ReadWriteOnce"),[C,_]=a.useState(null),[x,I]=a.useState(t),[M,L]=a.useState(n),[A,F]=a.useState(""),[D,$]=a.useState("");Object(m.s)(g.value);const U=e=>{P(e.currentTarget.value)};a.useEffect(()=>{_(null);const t={spec:{accessModes:[N],storageClassName:D,volumeMode:S,resources:{requests:{storage:`${x}${M}`}}}};(!x||parseInt(x,10)<1)&&(t.spec.resources.requests.storage=null,_(v("pipelines-plugin~Size must be an integer greater than 0."))),k(e,t),O(e)},[S,N,x,M,D,e,O,k,v]);const q=C?v("pipelines-plugin~This will create a PersistentVolumeClaim."):v("pipelines-plugin~This will create a PersistentVolumeClaim with a size of {{requestSizeValue}} {{requestSizeUnit}}.",{requestSizeValue:x,requestSizeUnit:M});return a.createElement(i.a,{fieldId:e},j[e]&&a.createElement(r.a,{isInline:!0,variant:"danger",title:v("pipelines-plugin~Required")}),a.createElement("p",{className:"help-block"},q),a.createElement(d.x,{textExpanded:v("pipelines-plugin~Hide VolumeClaimTemplate options"),textCollapsed:v("pipelines-plugin~Show VolumeClaimTemplate options")},a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement(p.a,{onChange:e=>{var t;const n=(null==e?void 0:e.provisioner)||"",a=Object(u.b)(n),i=v(a?"pipelines-plugin~Access mode is set by storage class and cannot be changed":"pipelines-plugin~Permissions to the mounted drive");w("ReadWriteOnce"),E(i),T(a),$(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name),F(n),A.includes(b.g[1])&&P("Filesystem")},id:"storageclass-dropdown","data-test":"storageclass-dropdown",describedBy:"storageclass-dropdown-help",required:!1,name:"storageClass"})),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement(l.a,{onChange:w,provisioner:A,loaded:!0,availableAccessModes:R,description:y,ignoreReadOnly:!0})),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement("label",{className:"control-label co-required",htmlFor:"request-size-input"},v("pipelines-plugin~Size")),a.createElement(d.db,{name:"requestSize",required:!0,onChange:e=>{const{value:t,unit:n}=e;I(t),L(n)},defaultRequestSizeUnit:M,defaultRequestSizeValue:x,dropdownUnits:u.a,describedBy:"request-size-help",inputID:"request-size-input","data-test-id":"pvc-size-input"}),C?a.createElement("p",{className:"pf-v5-c-form__helper-text pf-m-error"},C):a.createElement("p",{className:"help-block"},v("pipelines-plugin~Desired storage capacity"))),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement("label",{className:"control-label",htmlFor:"volume-mode"},v("pipelines-plugin~Volume Mode")),a.createElement(i.a,{fieldId:"volumeMode","data-test-id":"volumeModeRadio"},Object(u.f)().map(t=>a.createElement(c.b,Object.assign({},t,{key:t.value,onChange:U,inline:!0,checked:t.value===S,name:e+".volumeMode"})))))))}},6652:function(e,t,n){},6653:function(e,t,n){},6654:function(e,t,n){"use strict";var a=n(0),i=n(6361),r=n(6248),s=n(6250),o=n(6251),l=n(6655);t.a=()=>{const e=Object(i.a)();return a.createElement(a.Fragment,null,a.createElement(l.a,null),a.createElement(r.a,{autoCompleteValues:e}),a.createElement(s.a,null),a.createElement(o.a,null))}},6655:function(e,t,n){"use strict";var a=n(0),i=n(1921),r=n(682),s=n(297),o=n(55),l=n(7),c=n(5618),u=n(5705),d=n(6656);n(6657);t.a=()=>{const{t:e}=Object(l.useTranslation)(),{values:t,setFieldValue:n}=Object(o.f)(),[p,m]=a.useState(null),b=Object(u.h)(t.namespace),h=0===(null==b?void 0:b.major)||1===(null==b?void 0:b.major)&&0===(null==b?void 0:b.minor)?"params.":"tt.params.",v=a.useCallback(e=>{m(e.spec.params),n("triggerBinding.resource",e)},[n]);return a.createElement("div",{className:"odc-trigger-binding-section"},a.createElement(c.a,{title:e("pipelines-plugin~Webhook"),fullWidth:!0},a.createElement(d.a,{description:e("pipelines-plugin~Select your Git provider type to be associated with the Trigger."),label:e("pipelines-plugin~Git provider type"),onChange:v}),p&&a.createElement(i.a,{toggleTextExpanded:e("pipelines-plugin~Hide variables"),toggleTextCollapsed:e("pipelines-plugin~Show variables")},a.createElement("div",{className:"odc-trigger-binding-section__variable-container"},a.createElement("p",{className:"odc-trigger-binding-section__variable-descriptor"},e("pipelines-plugin~The following variables can be used in the Parameters or when created new Resources.")),p.map(({name:e})=>a.createElement(r.a,{key:e,className:"odc-trigger-binding-section__variable-badge",isRead:!0},e))),a.createElement(s.a,{className:"odc-trigger-binding-section__variable-help-text"},e("pipelines-plugin~Use this format when you reference variables in this form: "),a.createElement("code",{className:"co-code"},`$(${h}parameter)`)))))}},6656:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(230),s=n(7),o=n(8),l=n(15),c=n(5586);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{description:n,label:u=t(c.TriggerBindingModel.labelKey),onChange:d}=e,{values:p}=Object(i.f)();return a.createElement(l.Ob,{name:"triggerBinding.name",resources:[{isList:!0,namespace:p.namespace,kind:Object(o.Hb)(c.TriggerBindingModel),prop:"triggerBindingData",optional:!0},{isList:!0,kind:Object(o.Hb)(c.ClusterTriggerBindingModel),prop:"clusterTriggerBindingData",optional:!0}],autocompleteFilter:(e,t)=>{var n;return r(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},dataSelector:["metadata","name"],customResourceKey:(e,t)=>{const{kind:n}=t;return`${n===c.ClusterTriggerBindingModel.kind?2:1}~${e}`},fullWidth:!0,helpText:n,label:u,placeholder:t("pipelines-plugin~Select {{label}}",{label:u}),title:t("pipelines-plugin~Select {{label}}",{label:u}),showBadge:!0,onChange:(e,t,n)=>{n&&d&&d(n)}})}},6657:function(e,t,n){},6658:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="#empty-trigger-binding#"},6659:function(e,t,n){"use strict";var a=n(0),i=n(469),r=n(137),s=n(7),o=n(13),l=n(40),c=n(15),u=n(5669),d=n(5586),p=n(5705),m=n(6660),b=n(7483),h=n(7484);n(7489);t.a=e=>{const{t:t}=Object(s.useTranslation)(),{namespace:n,loaded:v,data:g,customData:f}=e,y=Object(p.h)(n),E=Object(o.jc)()[0],[,k,O]=Object(c.ef)(u.k,"pipelines");a.useEffect(()=>{O&&"dev"===E&&k("pipeline-runs")},[E,O,k]);return a.createElement(a.Fragment,null,a.createElement(r.b,null,a.createElement("title",null,t("pipelines-plugin~PipelineRuns"))),a.createElement(l.j,Object.assign({},e,{"aria-label":t(d.PipelineRunModel.labelPluralKey),defaultSortField:"status.startTime",defaultSortOrder:i.a.desc,Header:b.a,Row:h.a,customSorts:{vulnerabilities:e=>{var t,n,a,i;const r=Object(m.a)(e);return(null==r?void 0:r.vulnerabilities)?1e9*(null!==(t=r.vulnerabilities.critical)&&void 0!==t?t:0)+1e6*(null!==(n=r.vulnerabilities.high)&&void 0!==n?n:0)+1e3*(null!==(a=r.vulnerabilities.medium)&&void 0!==a?a:0)+(null!==(i=r.vulnerabilities.low)&&void 0!==i?i:0):-1}},customData:{operatorVersion:y},onRowsRendered:({stopIndex:e})=>{var t;v&&e===g.length-1&&(null===(t=null==f?void 0:f.nextPage)||void 0===t||t.call(f))},virtualize:!0})))}},6660:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(0);const i=e=>{var t,n;const a=(null===(t=e.status)||void 0===t?void 0:t.results)||(null===(n=e.status)||void 0===n?void 0:n.pipelineResults);return null==a?void 0:a.reduce((e,t)=>{var n;if(null===(n=t.name)||void 0===n?void 0:n.endsWith("SCAN_OUTPUT")){e.vulnerabilities||(e.vulnerabilities={critical:0,high:0,medium:0,low:0});try{const n=JSON.parse(t.value);n.vulnerabilities&&(e.vulnerabilities.critical+=n.vulnerabilities.critical||0,e.vulnerabilities.high+=n.vulnerabilities.high||0,e.vulnerabilities.medium+=n.vulnerabilities.medium||0,e.vulnerabilities.low+=n.vulnerabilities.low||0)}catch(e){}}return e},{})},r=e=>a.useMemo(()=>e?i(e):null,[e])},6661:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={name:"",namespace:"",vulnerabilities:"pf-m-hidden pf-m-visible-on-md",status:"pf-m-hidden pf-m-visible-on-sm",taskStatus:"pf-m-hidden pf-m-visible-on-lg",started:"pf-m-hidden pf-m-visible-on-lg",duration:"pf-m-hidden pf-m-visible-on-xl",actions:n(5).F.columnClass}},6662:function(e,t,n){e.exports=n.p+"assets/packages/pipelines-plugin/src/images/signed-badge.svg"},6663:function(e,t,n){"use strict";var a=n(0),i=n(18),r=n.n(i);n(6664);t.a=({barGap:e,height:t,inline:n,values:i,width:s})=>a.createElement("div",{className:r()("odc-horizontal-stacked-bars",{"is-inline":n}),style:{height:t,width:s,"--bar-gap":e&&e+"px"}},a.createElement("div",{className:"odc-horizontal-stacked-bars__bars"},i.map(({color:e,name:t,size:n})=>a.createElement("div",{key:t,className:"odc-horizontal-stacked-bars__data-bar",style:{background:e,flexGrow:n}}))))},6664:function(e,t,n){},6665:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5635),i=n(6433);const r=(e,t)=>{const n=Object(i.a)(e);return Object(a.i)(e,n,t)}},6666:function(e,t,n){"use strict";var a=n(0),i=n(5595),r=n(5635);n(6667);t.a=({taskStatus:e})=>a.createElement("div",{className:"odc-task-status-tooltip"},Object.keys(i.a).map(t=>{const{message:n,pftoken:s}=Object(r.f)(t);return e[t]?a.createElement(a.Fragment,{key:t},a.createElement("div",{className:"odc-task-status-tooltip__legend",style:{background:s.value}}),a.createElement("div",null,t===i.a.PipelineNotStarted||t===i.a.FailedToStart?n:`${e[t]} ${n}`)):null}))},6667:function(e,t,n){},6668:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(7),s=n(109),o=n(5),l=n(10),c=n(8);t.a=({children:e,containerName:t,namespace:n,podName:u,title:d})=>{const{t:p}=Object(r.useTranslation)(),[m,b]=a.useState(null),[h,v]=a.useState(null);return a.useEffect(()=>{const e={ns:n,name:u,path:"log",queryParams:{container:t,tailLines:"5"}},a=Object(c.Jb)(l.PodModel,e);Object(s.d)(a).then(e=>{b(e)}).catch(e=>{v((null==e?void 0:e.message)||p("pipelines-plugin~Unknown error retrieving logs"))})},[t,n,u,p]),h?a.createElement(i.a,{isInline:!0,title:d,variant:"danger"},h):m?a.createElement(a.Fragment,null,e(m)):a.createElement(o.T,null)}},6669:function(e,t,n){},6670:function(e,t,n){"use strict";var a=n(0),i=n(6435),r=n(2283),s=n(2083),o=n(2082),l=n(2081),c=n(29),u=n(6660);n(7488);const d=()=>a.createElement(i.CriticalRiskIcon,{title:"Critical",color:l.global_palette_red_200.value}),p=()=>a.createElement(i.AngleDoubleUpIcon,{title:"High",color:o.global_palette_orange_300.value}),m=()=>a.createElement(i.EqualsIcon,{title:"Medium",color:s.global_palette_gold_400.value}),b=()=>a.createElement(i.AngleDoubleDownIcon,{title:"Low",color:r.global_palette_blue_300.value});t.a=({pipelineRun:e,condensed:t})=>{var n;const i=Object(u.b)(e);return(null==i?void 0:i.vulnerabilities)?a.createElement("div",{className:"opp-vulnerabilities","data-test":(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)+"-vulnerabilities"},a.createElement("div",{className:"opp-vulnerabilities__severity"},a.createElement("span",{className:"opp-vulnerabilities__severity-status"},a.createElement(d,null),t?null:c.a.t("pipelines-plugin~Critical")),a.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.critical)),a.createElement("div",{className:"opp-vulnerabilities__severity"},a.createElement("span",{className:"opp-vulnerabilities__severity-status"},a.createElement(p,null),t?null:c.a.t("pipelines-plugin~High")),a.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.high)),a.createElement("div",{className:"opp-vulnerabilities__severity"},a.createElement("span",{className:"opp-vulnerabilities__severity-status"},a.createElement(m,null),t?null:c.a.t("pipelines-plugin~Medium")),a.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.medium)),a.createElement("div",{className:"opp-vulnerabilities__severity"},a.createElement("span",{className:"opp-vulnerabilities__severity-status"},a.createElement(b,null),t?null:c.a.t("pipelines-plugin~Low")),a.createElement("span",{className:"opp-vulnerabilities__severity-count"},i.vulnerabilities.low))):a.createElement("div",null,"-")}},6671:function(e,t,n){"use strict";var a=n(0),i=n(241),r=n(130),s=n(19),o=n(6435),l=n(18),c=n.n(l),u=n(1416),d=n(7),p=n(5),m=n(108),b=n(15),h=n(6672),v=n(6674),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var{resource:t,taskRun:n,taskName:l,onDownloadAll:f,downloadAllLabel:y="Download all"}=e,E=g(e,["resource","taskRun","taskName","onDownloadAll","downloadAllLabel"]);const{t:k}=Object(d.useTranslation)(),O=a.useRef(null),[j,R,T]=Object(m.a)(t),[S,P,N]=Object(b.He)(),[w,C]=a.useState(!1),_=a.useRef();R&&!T&&t.name===j.metadata.name?O.current=j:T&&(O.current=null);const x=a.useCallback(e=>_.current=e,[]);return a.createElement("div",{ref:P,className:"odc-multi-stream-logs"},a.createElement(i.a,{className:c()({"odc-multi-stream-logs--fullscreen":S})},a.createElement(r.a,{className:"odc-multi-stream-logs__button",align:{default:"alignRight"}},a.createElement(s.a,{variant:"link",onClick:()=>{if(!_.current)return;const e=_.current(),t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(u.saveAs)(t,l+".log")},isInline:!0},a.createElement(o.DownloadIcon,{className:"odc-multi-stream-logs__icon"}),k("pipelines-plugin~Download"))),a.createElement(r.a,{className:"odc-multi-stream-logs__divider"},"|"),f&&a.createElement(a.Fragment,null,a.createElement(r.a,{className:"odc-multi-stream-logs__button"},a.createElement(s.a,{variant:"link",onClick:()=>{C(!0),f().then(()=>{C(!1)}).catch(e=>{C(!1),console.warn(e.message||"Error downloading logs.")})},isDisabled:w,isInline:!0},a.createElement(o.DownloadIcon,{className:"odc-multi-stream-logs__icon"}),y||k("pipelines-plugin~Download all"),w&&a.createElement(p.T,null))),a.createElement(r.a,{className:"odc-multi-stream-logs__divider"},"|")),N&&a.createElement(r.a,{className:"odc-multi-stream-logs__button"},a.createElement(s.a,{variant:"link",onClick:N,isInline:!0},S?a.createElement(a.Fragment,null,a.createElement(o.CompressIcon,{className:"odc-multi-stream-logs__icon"}),k("pipelines-plugin~Collapse")):a.createElement(a.Fragment,null,a.createElement(o.ExpandIcon,{className:"odc-multi-stream-logs__icon"}),k("pipelines-plugin~Expand"))))),T?a.createElement(v.a,{taskRun:n,setCurrentLogsGetter:x}):a.createElement(h.a,Object.assign({},E,{taskName:l,resource:O.current,setCurrentLogsGetter:x})))}},6672:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(5),r=n(15),s=n(5623),o=n(6673),l=n(6436);n(6256);const c=({resource:e,taskName:t,setCurrentLogsGetter:n})=>{var c,u;const d=a.useRef(),p=a.useRef([]),[m,b]=a.useState(0),[h,v]=Object(r.Ze)(),{containers:g,stillFetching:f}=Object(l.b)(e),y=a.useRef(null);y.current=g,a.useEffect(()=>{n(()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.innerText})},[n]);const E=a.useCallback(e=>{const t=y.current.findIndex(({name:t})=>t===e);p.current[t]=!0;const n=y.current.findIndex((e,t)=>!0!==p.current[t]);b(-1===n?y.current.length:n)},[]),k=null==h||h!==r.Vb.scrolledToBottom,O=null!==(u=null===(c=null==e?void 0:e.status)||void 0===c?void 0:c.containerStatuses)&&void 0!==u?u:[];return a.createElement(a.Fragment,null,a.createElement("div",{className:"odc-multi-stream-logs__taskName","data-test-id":"logs-taskName"},t,f&&a.createElement("span",{className:"odc-multi-stream-logs__taskName__loading-indicator"},a.createElement(i.T,null))),a.createElement("div",{className:"odc-multi-stream-logs__container",onScroll:v,"data-test-id":"logs-task-container"},a.createElement("div",{className:"odc-multi-stream-logs__container__logs",ref:d},g.map((n,r)=>{const l=O.findIndex(e=>e.name===n.name),c=Object(s.f)(O[l]);return c!==i.K&&a.createElement(o.a,{key:`${t}-${n.name}`,resource:e,container:n,resourceStatus:c,onComplete:E,render:m>=r,autoScroll:k})}))))}},6673:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(320),s=n(2360),o=n(7),l=n(109),c=n(5),u=n(8),d=n(1e3);n(6255);t.a=({resource:e,resourceStatus:t,container:n,onComplete:p,render:m,autoScroll:b=!0})=>{const{t:h}=Object(o.useTranslation)(),{name:v}=n,{kind:g,metadata:f={}}=e,{name:y,namespace:E}=f,k=a.useRef(null),O=a.useRef(null),[j,R]=a.useState(!1),T=a.useRef(t),S=a.useRef(),P=a.useRef("");S.current=p;const N=a.useCallback(Object(s.a)(()=>{O.current&&(O.current.innerText+=P.current),k.current&&k.current.scrollIntoView({behavior:"smooth",block:"end"}),P.current=""},1e3),[]),w=a.useRef();return w.current=a.useCallback(e=>{P.current+=e,k.current&&e&&m&&b&&N()},[b,m,N]),T.current!==t&&(T.current=t),a.useEffect(()=>{let e,t=!1;const n={ns:E,name:y,path:"log",queryParams:{container:v,follow:"true"}},a=Object(u.Jb)(Object(u.vb)(g),n);if(T.current===c.J)Object(l.d)(a).then(e=>{t||(w.current(e),S.current(v))}).catch(()=>{t||(R(!0),S.current(v))});else{const n={host:"auto",path:a,subprotocols:["base64.binary.k8s.io"]};e=new d.a(a,n),e.onmessage(e=>{if(t)return;const n=r.Base64.decode(e);w.current(n)}).onclose(()=>{S.current(v)}).onerror(()=>{t||(R(!0),S.current(v))})}return()=>{t=!0,e&&e.destroy()}},[g,v,y,E]),a.useEffect(()=>{k.current&&m&&b&&N()},[b,m,N]),a.createElement("div",{className:"odc-logs",style:{display:m?"":"none"}},a.createElement("p",{className:"odc-logs__name"},v),j&&a.createElement(i.a,{variant:"danger",isInline:!0,title:h("pipelines-plugin~An error occurred while retrieving the requested logs.")}),a.createElement("div",null,a.createElement("div",{className:"odc-logs__content",ref:O}),a.createElement("div",{ref:k})))}},6674:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(5),r=n(5588),s=n(6182);n(6255),n(6256);const o=({taskRun:e,setCurrentLogsGetter:t})=>{var n,o,l,c,u;const d=a.useRef(),p=(null===(o=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.labels)||void 0===o?void 0:o[r.u.pipelineTask])||"-",[m,b,h]=Object(s.c)(e.metadata.namespace,e.metadata.name,null===(c=null===(l=e.metadata)||void 0===l?void 0:l.annotations)||void 0===c?void 0:c["results.tekton.dev/record"]);a.useEffect(()=>{t(()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.innerText})},[t]),a.useEffect(()=>{!h&&b&&d.current&&m&&(d.current.scrollTop=d.current.scrollHeight)},[h,b,m]);const v=404===(null===(u=h)||void 0===u?void 0:u.code)?`Logs are no longer accessible for ${p} task`:null;return a.createElement(a.Fragment,null,a.createElement("div",{className:"odc-multi-stream-logs__taskName","data-test-id":"logs-taskName"},p,!b&&a.createElement("span",{className:"odc-multi-stream-logs__taskName__loading-indicator","data-test-id":"loading-indicator"},a.createElement(i.T,null))),a.createElement("div",{className:"odc-multi-stream-logs__container","data-test-id":"tr-logs-task-container",ref:d},a.createElement("div",{className:"odc-multi-stream-logs__container__logs","data-testid":"tr-logs-container"},v&&a.createElement("div",{className:"odc-pipeline-run-logs__logtext","data-testid":"tr-logs-error-message"},v),!v&&b?a.createElement("div",{className:"odc-logs","data-testid":"tr-logs-container"},a.createElement("p",{className:"odc-logs__name"},p),a.createElement("div",null,a.createElement("div",{className:"odc-logs__content","data-testid":"tr-logs-content"},m))):null)))}},6675:function(e,t,n){"use strict";var a=n(0),i=n(501),r=n(137),s=n(7),o=n(14),l=n(5),c=n(8),u=n(15),d=n(5586),p=n(5788),m=n(6362),b=n(6039),h=n(6253),v=n(6676),g=n(7507),f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var t,n,y,E,{hideBadge:k,showPipelineColumn:O=!0,namespace:j}=e,R=f(e,["hideBadge","showPipelineColumn","namespace"]);const{t:T}=Object(s.useTranslation)(),S=Object(o.useParams)(),P=Object(l.Ub)(),N=null==P?void 0:P.kind,w=j||(null==S?void 0:S.ns),C=Object(p.a)(w),_=R.selector&&(null===(n=null===(t=R.selector)||void 0===t?void 0:t.matchLabels)||void 0===n?void 0:n["tekton.dev/pipelineRun"]),[x,I,M,L]=Object(b.a)(w,_),A={[Object(c.Hb)(d.TaskRunModel)]:{data:x,kind:Object(c.Hb)(d.TaskRunModel),loadError:M,loaded:I}},F=a.useMemo(()=>({showPipelineColumn:O,nextPage:L}),[O,L]),D=Object(c.Hb)(d.TaskRunModel),[$,,U]=Object(u.ff)(u.q,u.r,void 0,!0);return a.createElement(a.Fragment,null,a.createElement(r.b,null,a.createElement("title",null,T("pipelines-plugin~TaskRuns"))),U&&a.createElement(m.a,Object.assign({},R,{customData:F,canCreate:null!==(y=null==N?void 0:N.includes(Object(c.Hb)(d.TaskRunModel)))&&void 0!==y&&y,kind:Object(c.Hb)(d.TaskRunModel),ListComponent:g.a,rowFilters:Object(h.b)(T),badge:k?null:C,namespace:w,columnLayout:{columns:Object(v.a)()().map(e=>i.a(e,["title","additional","id"])),id:D,selectedColumns:(null===(E=null==$?void 0:$[D])||void 0===E?void 0:E.length)>0?new Set($[D]):null,type:T("pipelines-plugin~TaskRun")},data:A})))}},6676:function(e,t,n){"use strict";var a=n(54),i=n(29),r=n(5588),s=n(6677);t.a=(e=!0)=>()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[a.a],props:{className:s.a[0]},id:"name"},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[a.a],props:{className:s.a[1]},id:"namespace"},{title:i.a.t("pipelines-plugin~Pipeline"),sortField:`metadata.labels["${r.u.pipeline}"]`,transforms:[a.a],props:{className:s.a[2]},id:"pipeline"},{title:i.a.t("pipelines-plugin~Task"),sortField:`metadata.labels["${r.u.pipelineTask}"]`,transforms:[a.a],props:{className:s.a[3]},id:"task"},{title:i.a.t("pipelines-plugin~Pod"),sortField:"status.podName",transforms:[a.a],props:{className:s.a[4]},id:"pod"},{title:i.a.t("pipelines-plugin~Status"),sortField:"status.conditions[0].reason",transforms:[a.a],props:{className:s.a[5]},id:"status"},{title:i.a.t("pipelines-plugin~Started"),sortField:"status.startTime",transforms:[a.a],props:{className:s.a[6]},id:"started"},{title:i.a.t("pipelines-plugin~Duration"),sortField:"status.completionTime",transforms:[a.a],props:{className:s.a[7]},id:"duration",additional:!0},{title:"",id:"",props:{className:s.a[8]}}].filter(t=>!("pipeline"===t.id&&!e))},6677:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["","","","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm","pf-m-hidden pf-m-visible-on-sm",n(5).F.columnClass]},6849:function(e,t,n){"use strict";var a=n(0),i=n(7);t.a=({workspaces:e})=>{const{t:t}=Object(i.useTranslation)();return e&&0!==e.length?a.createElement("dl",{"data-test-id":"workspace-definition-section"},a.createElement("dt",null,t("pipelines-plugin~Workspaces")),a.createElement("dd",null,e.map(e=>a.createElement("div",{key:e.name,"data-test-id":"workspace-definition"+(e.optional?"-optional":"")},e.optional?`${e.name} (${t("pipelines-plugin~optional")})`:""+e.name)))):null}},6852:function(e,t,n){"use strict";var a=n(0),i=n(353),r=n(19),s=n(15),o=n(5595),l=n(6434),c=n(7486);n(7487);t.a=({status:e,pipelineRun:t,title:n})=>{const[u,d]=a.useState(!1);return a.createElement(a.Fragment,null,t?e===o.a.Failed?a.createElement(i.a,{bodyContent:()=>a.createElement(a.Fragment,null,u&&a.createElement(c.a,{pipelineRun:t})),isVisible:u,shouldClose:()=>d(!1),shouldOpen:()=>d(!0),position:i.b.auto},a.createElement(r.a,{variant:"plain",className:"odc-status-column-text"},a.createElement(l.a,{status:e,title:n}))):a.createElement(l.a,{status:e,title:n}):a.createElement(a.Fragment,null,s.E))}},6857:function(e,t,n){"use strict";var a=n(0),i=n(6183);n(6669);t.a=({namespace:e,logDetails:t,link:n=null})=>a.createElement("div",{className:"odc-statuspopover-content"},a.createElement(i.a,{logDetails:t,namespace:e},e=>a.createElement(a.Fragment,null,a.createElement("pre",{className:"co-pre"},e),n)))},6858:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(29),i=n(5617),r=n(6363);const s=e=>{var t,n,s;if(!(null==e?void 0:e.status))return null;if("Failed"!==Object(i.i)(e))return null;const o=null===(t=e.status.conditions)||void 0===t?void 0:t.find(e=>"Succeeded"===e.type);if("False"!==(null==o?void 0:o.status))return null;if(l=null==o?void 0:o.reason,["TaskRunCancelled","TaskRunTimeout"].includes(l))return{staticMessage:o.message||a.a.t("pipelines-plugin~Unknown failure condition"),title:a.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e.metadata.name})};var l;const c=null===(s=null===(n=e.status.steps)||void 0===n?void 0:n.find(e=>{var t;return 0!==(null===(t=e.terminated)||void 0===t?void 0:t.exitCode)}))||void 0===s?void 0:s.container;return Object(r.a)(e.metadata.name,e.status,c)}},7482:function(e,t,n){"use strict";var a=n(0),i=n(116),r=n(400),s=n(22),o=n(50),l=n(31),c=n(5);t.a=e=>{const t=Object(l.useSelector)(({k8s:e})=>e),n=e.resources.map(({prop:t,isList:n,filters:a,optional:i,kind:r})=>({reduxID:e.reduxIDs[0],prop:t,isList:n,filters:a,optional:i,kind:r})),u={};n.forEach(e=>{u[e.prop]=Object(c.pc)({k8s:t},e)});const d=i.a(u,e=>!e.optional),p=r.a(u,e=>e.optional?e.loaded||!s.a(e.loadError):e.loaded),m=(e=>{let t=e&&e[0];for(const n of e){if(403===n.status)return n;401===n.status&&(t=n),n.status>t.status&&(t=n)}return t})(o.a(d,"loadError").filter(Boolean)),b=Object.assign({},u,{filters:Object.assign({},...o.a(u,"filters")),loaded:p,loadError:m,reduxIDs:o.a(n,"reduxID"),resources:u});return a.createElement(a.Fragment,null,Object(c.gc)(e.children,Object.assign(Object.assign(Object.assign({},e),null==e?void 0:e.data),b)))}},7483:function(e,t,n){"use strict";var a=n(54),i=n(29),r=n(6661);t.a=()=>[{title:i.a.t("pipelines-plugin~Name"),sortField:"metadata.name",transforms:[a.a],props:{className:r.a.name}},{title:i.a.t("pipelines-plugin~Namespace"),sortField:"metadata.namespace",transforms:[a.a],props:{className:r.a.namespace},id:"namespace"},{title:i.a.t("pipelines-plugin~Vulnerabilities"),sortFunc:"vulnerabilities",transforms:[a.a],props:{className:r.a.vulnerabilities}},{title:i.a.t("pipelines-plugin~Status"),sortField:"status.conditions[0].reason",transforms:[a.a],props:{className:r.a.status}},{title:i.a.t("pipelines-plugin~Task status"),sortField:"status.conditions[0].reason",transforms:[a.a],props:{className:r.a.taskStatus}},{title:i.a.t("pipelines-plugin~Started"),sortField:"status.startTime",transforms:[a.a],props:{className:r.a.started}},{title:i.a.t("pipelines-plugin~Duration"),sortField:"status.completionTime",transforms:[a.a],props:{className:r.a.duration}},{title:"",props:{className:r.a.actions}}]},7484:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(11334),s=n(7),o=n(40),l=n(5),c=n(8),u=n(5669),d=n(6662),p=n.n(d),m=n(5586),b=n(5595),h=n(6087),v=n(5617),g=n(5623),f=n(5588),y=n(6039),E=n(6432),k=n(6852),O=n(6670),j=n(6057),R=n(6661);const T=Object(c.Hb)(m.PipelineRunModel),S={},P={},N=a.memo(({obj:e})=>a.createElement(k.a,{status:Object(v.c)(e),title:Object(v.f)(e),pipelineRun:e})),w=({obj:e,PLRTaskRuns:t,taskRunsLoaded:n,taskRunStatusObj:c,operatorVersion:d})=>{var m,b,v,y,k,S;const{t:P}=Object(s.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.k,{className:R.a.name},a.createElement(l.hb,{kind:T,name:e.metadata.name,namespace:e.metadata.namespace,"data-test-id":e.metadata.name,nameSuffix:a.createElement(a.Fragment,null,"true"===(null===(b=null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations)||void 0===b?void 0:b[f.y])?a.createElement(i.a,{content:P("pipelines-plugin~Signed")},a.createElement("div",{className:"opp-pipeline-run-list__signed-indicator"},a.createElement("img",{src:p.a,alt:P("pipelines-plugin~Signed")}))):null,"true"===(null===(y=null===(v=null==e?void 0:e.metadata)||void 0===v?void 0:v.annotations)||void 0===y?void 0:y[u.c])||"true"===(null===(S=null===(k=null==e?void 0:e.metadata)||void 0===k?void 0:k.annotations)||void 0===S?void 0:S[u.l])?a.createElement(i.a,{content:P("pipelines-plugin~Archived in Tekton results")},a.createElement("div",{className:"opp-pipeline-run-list__results-indicator"},a.createElement(r.a,null))):null)})),a.createElement(o.k,{className:R.a.namespace,columnID:"namespace"},a.createElement(l.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(o.k,{className:R.a.vulnerabilities},a.createElement(O.a,{pipelineRun:e,condensed:!0})),a.createElement(o.k,{className:R.a.status},a.createElement(N,{obj:e})),a.createElement(o.k,{className:R.a.taskStatus},a.createElement(E.a,{pipelineRun:e,taskRuns:t,taskRunsLoaded:n,taskRunStatusObj:c})),a.createElement(o.k,{className:R.a.started},a.createElement(l.xb,{timestamp:e.status&&e.status.startTime})),a.createElement(o.k,{className:R.a.duration},Object(g.v)(e)),a.createElement(o.k,{className:R.a.actions},a.createElement(j.a,{actions:Object(h.b)(d,t,void 0,c),kind:T,resource:e})))},C=a.memo(({obj:e,operatorVersion:t,taskRunStatusObj:n})=>a.createElement(w,{obj:e,PLRTaskRuns:[],taskRunsLoaded:!0,operatorVersion:t,taskRunStatusObj:n})),_=a.memo(({obj:e,operatorVersion:t})=>{const n=`${e.metadata.namespace}-${e.metadata.name}`,[i,r]=Object(y.a)(e.metadata.namespace,e.metadata.name,void 0,`${e.metadata.namespace}-${e.metadata.name}`);return P[n]=!1,r&&(S[n]=i),a.createElement(w,{obj:e,PLRTaskRuns:i,taskRunsLoaded:r,operatorVersion:t,taskRunStatusObj:void 0})}),x=a.memo(({obj:e,operatorVersion:t})=>{let n,i;const r=`${e.metadata.namespace}-${e.metadata.name}`,s=S[r];if(s)n=s,i=!0;else{if(!P[r])return a.createElement(_,{obj:e,operatorVersion:t});n=[],i=!0,P[r]=!0}return a.createElement(w,{obj:e,PLRTaskRuns:n,taskRunsLoaded:i,operatorVersion:t,taskRunStatusObj:void 0})});t.a=({obj:e,customData:t})=>{var n,i;const{operatorVersion:r}=t;if(Object(v.d)(e)===b.a.Cancelled&&(null!==(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.childReferences)&&void 0!==i?i:[]).length>0)return a.createElement(x,{obj:e,operatorVersion:r});const s=Object(g.n)(e);return a.createElement(C,{obj:e,operatorVersion:r,taskRunStatusObj:s})}},7485:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(0),i=n(88),r=n(5595),s=n(5635),o=n(6663),l=n(6665),c=n(6666);const u=({pipelinerun:e,taskRuns:t})=>{const n=Object(l.a)(e,t);return a.createElement(i.a,{content:a.createElement(c.a,{taskStatus:n})},a.createElement(o.a,{height:"1em",inline:!0,values:Object.keys(r.a).map(e=>({color:Object(s.f)(r.a[e]).pftoken.value,name:e,size:n[r.a[e]]}))}))},d=({taskRunStatusObj:e})=>a.createElement(i.a,{content:a.createElement(c.a,{taskStatus:e})},a.createElement(o.a,{height:"1em",inline:!0,values:Object.keys(r.a).map(t=>({color:Object(s.f)(r.a[t]).pftoken.value,name:t,size:e[r.a[t]]}))}))},7486:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(14),s=n(5),o=n(5586),l=n(6039),c=n(6183),u=n(6254);n(6669);t.a=({pipelineRun:e})=>{const{t:t}=Object(i.useTranslation)(),[n,d]=Object(l.a)(e.metadata.namespace,e.metadata.name);if(!d)return a.createElement("div",{style:{minHeight:"300px"}},a.createElement(s.T,null));const p=Object(u.a)(e,n);return a.createElement("div",{className:"odc-statuspopover-content",style:{minHeight:"300px"}},a.createElement(c.a,{logDetails:p,namespace:e.metadata.namespace},n=>a.createElement(a.Fragment,null,a.createElement("pre",{className:"co-pre"},n),a.createElement(r.Link,{to:Object(s.uc)(o.PipelineRunModel,e.metadata.name,e.metadata.namespace)+"/logs"},t("pipelines-plugin~View logs")))))}},7487:function(e,t,n){},7488:function(e,t,n){},7489:function(e,t,n){},7501:function(e,t,n){"use strict";var a=n(0),i=n(7502),r=n(7503),s=n(7504);t.a=({workspaces:e,namespace:t,ownerResourceName:n,ownerResourceKind:o})=>e&&0!==e.length?a.createElement(a.Fragment,null,a.createElement(s.a,{namespace:t,workspaces:e}),a.createElement(r.a,{namespace:t,ownerResourceName:n,ownerResourceKind:o}),a.createElement(i.a,{workspaces:e})):null},7502:function(e,t,n){"use strict";var a=n(0),i=n(7);t.a=({workspaces:e})=>{const{t:t}=Object(i.useTranslation)();if(!e||0===e.length)return null;const n=e.filter(e=>!!e.emptyDir);return 0===n.length?null:a.createElement("dl",{"data-test-id":"empty-directories-section"},a.createElement("dt",null,t("pipelines-plugin~Empty Directories")),a.createElement("dd",null,n.map(e=>a.createElement("div",{key:e.name,"data-test-id":"empty-directory-workspace"},t("pipelines-plugin~Empty Directory ({{workspaceName}})",{workspaceName:e.name})))))}},7503:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(108),o=n(10),l=n(5586),c=n(5623);t.a=({namespace:e,ownerResourceName:t,ownerResourceKind:n=l.PipelineRunModel.kind})=>{const[u,d,p]=Object(s.a)({kind:o.PersistentVolumeClaimModel.kind,isList:!0,namespace:e}),{t:m}=Object(i.useTranslation)();if(!t||!d||p||0===(null==u?void 0:u.length))return null;const b=Object(c.k)(u,t,n);return b&&0!==b.length?a.createElement("dl",{"data-test-id":"volumeClaimTemplate-resources-section"},a.createElement("dt",null,m("pipelines-plugin~VolumeClaimTemplate Resources")),a.createElement("dd",null,b.map(e=>a.createElement(r.hb,{name:e.metadata.name,key:e.metadata.name,namespace:e.metadata.namespace,kind:o.PersistentVolumeClaimModel.kind})))):null}},7504:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5),s=n(10);t.a=({namespace:e,workspaces:t})=>{const{t:n}=Object(i.useTranslation)();if(!e||!t||0===t.length)return null;const o=t.map(t=>{if(t.persistentVolumeClaim){const n=t.persistentVolumeClaim,i=`${n.claimName} (${t.name})`;return a.createElement(r.hb,{key:t.name,name:n.claimName,namespace:e,kind:s.PersistentVolumeClaimModel.kind,displayName:i})}if(t.configMap){const n=t.configMap,i=`${n.name} (${t.name})`;return a.createElement(r.hb,{key:t.name,name:n.name,namespace:e,kind:s.ConfigMapModel.kind,displayName:i})}if(t.secret){const n=t.secret,i=`${n.secretName} (${t.name})`;return a.createElement(r.hb,{key:t.name,name:n.secretName,kind:s.SecretModel.kind,namespace:e,displayName:i})}return null}).filter(e=>!!e);return 0===o.length?null:a.createElement("dl",{"data-test-id":"workspace-resources-section"},a.createElement("dt",null,n("pipelines-plugin~Workspace Resources")),a.createElement("dd",null,o))}},7505:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(6183);t.a=({logDetails:e,namespace:t})=>{const{t:n}=Object(i.useTranslation)();return e?a.createElement(a.Fragment,null,a.createElement("dl",null,a.createElement("dt",null,n("pipelines-plugin~Message")),a.createElement("dd",null,e.title)),a.createElement("dl",null,a.createElement("dt",null,n("pipelines-plugin~Log snippet")),a.createElement("dd",null,a.createElement(r.a,{logDetails:e,namespace:t},e=>a.createElement("pre",{className:"co-pre"},e))))):null}},7506:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),i=n(108),r=n(10),s=n(8),o=n(5586),l=n(5588);const c=(e,t)=>({kind:r.PodModel.kind,selector:{matchLabels:t},namespace:e,isList:!0,optional:!0}),u=e=>t=>t.kind===o.TaskRunModel.kind&&e.data.find(e=>e.metadata.uid===t.uid),d=e=>t=>t.kind===r.PodModel.kind&&e.data.find(e=>e.metadata.uid===t.uid),p=(e,t)=>{const{taskruns:n,pods:r}=((e,t)=>{const n=a.useMemo(()=>({taskruns:{kind:Object(s.Hb)(o.TaskRunModel),namespace:e,selector:{matchLabels:{[l.u.pipelinerun]:t}},isList:!0,optional:!0},pods:c(e,{[l.u.pipelinerun]:t})}),[e,t]);return Object(i.b)(n)})(e,t.metadata.name);return[e=>e.kind===o.PipelineRunModel.kind&&e.uid===t.metadata.uid,u(n),d(r)]},m=(e,t)=>{const{pods:n}=((e,t)=>{const n=a.useMemo(()=>({pods:c(e,{[l.u.taskrun]:t})}),[e,t]);return Object(i.b)(n)})(e,t.metadata.name);return[e=>e.kind===o.TaskRunModel.kind&&e.uid===t.metadata.uid,d(n)]}},7507:function(e,t,n){"use strict";var a=n(0),i=n(469),r=n(7),s=n(40),o=n(1952),l=n(5586),c=n(6676),u=n(7508);t.a=e=>{var t;const{t:n}=Object(r.useTranslation)(),{columnLayout:{columns:d,id:p},customData:m,data:b,loaded:h}=e,[v,g]=Object(o.useActiveColumns)({columns:d,columnManagementID:p}),f=a.useMemo(()=>new Set(v.map(e=>e.id)),[v]),y=Object.assign(Object.assign({},m),{selectedColumns:f});return g&&a.createElement(s.j,Object.assign({},e,{"aria-label":n(l.TaskRunModel.labelPluralKey),defaultSortField:"status.startTime",defaultSortOrder:i.a.desc,Header:Object(c.a)(null===(t=e.customData)||void 0===t?void 0:t.showPipelineColumn),Row:u.a,virtualize:!0,activeColumns:f,customData:y,onRowsRendered:({stopIndex:e})=>{var t;h&&e===b.length-1&&(null===(t=null==m?void 0:m.nextPage)||void 0===t||t.call(m))}}))}},7508:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(11334),s=n(7),o=n(40),l=n(5),c=n(8),u=n(5669),d=n(5586),p=n(6087),m=n(5635),b=n(5617),h=n(5623),v=n(6358),g=n(5588),f=n(7509),y=n(6677);n(7510);const E=Object(c.Hb)(d.TaskRunModel),k=Object(c.Hb)(d.PipelineModel);t.a=({obj:e,customData:t})=>{var n,c,d,O,j,R,T,S;const{t:P}=Object(s.useTranslation)(),{selectedColumns:N}=t;return a.createElement(a.Fragment,null,a.createElement(o.k,{className:y.a[0]},a.createElement(l.hb,{kind:E,name:e.metadata.name,namespace:e.metadata.namespace,"data-test-id":e.metadata.name,nameSuffix:a.createElement(a.Fragment,null,"true"===(null===(c=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.annotations)||void 0===c?void 0:c[u.c])||"true"===(null===(O=null===(d=null==e?void 0:e.metadata)||void 0===d?void 0:d.annotations)||void 0===O?void 0:O[u.l])?a.createElement(i.a,{content:P("pipelines-plugin~Archived in Tekton results")},a.createElement("div",{className:"opp-task-run-list__results-indicator"},a.createElement(r.a,null))):null)})),(null==N?void 0:N.has("namespace"))&&a.createElement(o.k,{className:y.a[1],columnID:"namespace"},a.createElement(l.hb,{kind:"Namespace",name:e.metadata.namespace})),(null==t?void 0:t.showPipelineColumn)&&(null==N?void 0:N.has("pipeline"))&&a.createElement(o.k,{className:y.a[2]},e.metadata.labels[g.u.pipeline]?a.createElement(l.hb,{kind:k,name:e.metadata.labels[g.u.pipeline],namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("task"))&&a.createElement(o.k,{className:y.a[3]},(null===(j=e.spec.taskRef)||void 0===j?void 0:j.name)?a.createElement(l.hb,{kind:Object(m.c)(null===(R=e.spec.taskRef)||void 0===R?void 0:R.kind),displayName:e.metadata.labels[g.u.pipelineTask],name:e.spec.taskRef.name,namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("pod"))&&a.createElement(o.k,{className:y.a[4]},(null===(T=e.status)||void 0===T?void 0:T.podName)?a.createElement(l.hb,{kind:"Pod",name:e.status.podName,namespace:e.metadata.namespace}):"-"),(null==N?void 0:N.has("status"))&&a.createElement(o.k,{className:y.a[5]},a.createElement(f.a,{status:Object(b.i)(e),taskRun:e})),(null==N?void 0:N.has("started"))&&a.createElement(o.k,{className:y.a[6]},a.createElement(l.xb,{timestamp:null===(S=null==e?void 0:e.status)||void 0===S?void 0:S.startTime})),(null==N?void 0:N.has("duration"))&&a.createElement(o.k,{className:y.a[7]},Object(h.v)(e)),a.createElement(o.k,{className:y.a[8]},a.createElement(v.a,{actions:Object(p.c)(),kind:E,resource:e})))}},7509:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(14),s=n(5),o=n(5586),l=n(5617),c=n(6434),u=n(6857),d=n(6858);t.a=({status:e,taskRun:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(c.a,{status:e,title:Object(l.j)(t)},a.createElement(u.a,{logDetails:Object(d.a)(t),namespace:t.metadata.namespace,link:a.createElement(r.Link,{to:Object(s.uc)(o.TaskRunModel,t.metadata.name,t.metadata.namespace)+"/logs"},n("pipelines-plugin~View logs"))}))}},7510:function(e,t,n){},7511:function(e,t,n){"use strict";var a=n(0),i=n(4341),r=n(156),s=n(355),o=n(1340),l=n(2140),c=n(740),u=n(955),d=n(1373),p=n(1182),m=n(7),b=n(5),h=n(5595),v=n(7512);t.a=({results:e,resourceName:t,status:n})=>{const{t:g}=Object(m.useTranslation)();return e.length?a.createElement(a.Fragment,null,a.createElement(b.ob,{text:g("pipelines-plugin~{{resourceName}} results",{resourceName:t})}),n!==h.a.Failed?a.createElement(o.a,{"aria-label":g("pipelines-plugin~{{resourceName}} results",{resourceName:t})},a.createElement(l.a,null,a.createElement(c.a,null,a.createElement(u.a,null,g("pipelines-plugin~Name")),a.createElement(u.a,null,g("pipelines-plugin~Value")))),a.createElement(d.a,null,e.map(({name:e,value:t})=>a.createElement(c.a,{key:"row-"+e},a.createElement(p.a,null,e),a.createElement(p.a,null,Object(v.a)(t)))))):a.createElement(i.a,null,a.createElement(r.a,{variant:r.b.full},a.createElement(s.a,null,g("pipelines-plugin~No {{resourceName}} results available due to failure",{resourceName:t}))))):null}},7512:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(5);n(7513);const r=new RegExp(`^(.*\\s)?(${/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)/.source})(\\s.*)?$`,"i"),s=e=>{if("string"!=typeof e)return JSON.stringify(e,null,2);const t=e.match(r),[,n,o,l]=t||[];return o?a.createElement(a.Fragment,null,s(n),a.createElement(i.z,{additionalClassName:"opp-render-utils-external-url",href:o},o),s(l)):e}},7513:function(e,t,n){},7514:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(139),s=n(10),o=n(6671);n(7515);t.a=({obj:e})=>{var t;const{t:n}=Object(i.useTranslation)();if(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.podName){const t={kind:s.PodModel.kind,isList:!1,prop:"obj",namespace:e.metadata.namespace,name:e.status.podName};return a.createElement("div",{className:"odc-task-run-log"},a.createElement(o.a,{taskRun:e,resource:t,downloadAllLabel:n("pipelines-plugin~Download all TaskRun logs")}))}return a.createElement(r.h,{label:n("pipelines-plugin~TaskRun log"),loadError:new Error(n("pipelines-plugin~Pod not found"))})}},7515:function(e,t,n){},8292:function(e,t,n){"use strict";var a=n(8293);n.d(t,"a",(function(){return a.a}));var i=n(6675);n.d(t,"b",(function(){return i.a}))},8293:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(11334),s=n(7),o=n(40),l=n(5),c=n(5669),u=n(5788),d=n(5617),p=n(6181),m=n(5846),b=n(11430),h=n(11431),v=n(7514);n(11435);t.a=e=>{const{kindObj:t,namespace:n,name:g}=e,{t:f}=Object(s.useTranslation)(),y=Object(m.i)(t),E=Object(u.a)(e.namespace),[k,O,j]=Object(p.c)(n,g);return a.createElement(o.a,Object.assign({},e,{obj:{data:k,loaded:O,loadError:j},badge:E,breadcrumbsFor:()=>y,titleFunc:e=>{var t,n,s,o,l;return a.createElement("div",{className:"taskrun-details-page"},null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name," ",("true"===(null===(s=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.annotations)||void 0===s?void 0:s[c.c])||"true"===(null===(l=null===(o=null==e?void 0:e.metadata)||void 0===o?void 0:o.annotations)||void 0===l?void 0:l[c.l]))&&a.createElement(i.a,{content:f("pipelines-plugin~Archived in Tekton results")},a.createElement(r.a,{className:"pipelinerun-details-page__results-indicator"})))},getResourceStatus:d.i,pages:[l.mc.details(h.a),l.mc.editYaml(l.Nc),{href:"logs",path:"logs/:name?",nameKey:"pipelines-plugin~Logs",component:v.a},l.mc.events(b.a)]}))}},8294:function(e,t,n){"use strict";var a=n(8295);n.d(t,"a",(function(){return a.a}));var i=n(8296);n.d(t,"b",(function(){return i.a}))},8295:function(e,t,n){"use strict";var a=n(0),i=n(40),r=n(5),s=n(5788),o=n(5846),l=n(11436);t.a=e=>{const{kindObj:t}=e,n=Object(o.i)(t),c=Object(s.a)(e.namespace);return a.createElement(i.a,Object.assign({},e,{badge:c,menuActions:r.F.factory.common,breadcrumbsFor:()=>n,pages:[r.mc.details(l.a),r.mc.editYaml()]}))}},8296:function(e,t,n){"use strict";var a=n(0),i=n(872),r=n(40),s=n(8),o=n(5586),l=n(5788),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var t,{hideBadge:n}=e,u=c(e,["hideBadge"]);const d=Object(l.a)(u.namespace);return a.createElement(r.c,Object.assign({},u,{canCreate:null===(t=u.canCreate)||void 0===t||t,kind:Object(s.Hb)(o.ClusterTaskModel),ListComponent:i.b,badge:n?null:d}))}},8297:function(e,t,n){"use strict";var a=n(8298);n.d(t,"a",(function(){return a.a}));var i=n(8299);n.d(t,"c",(function(){return i.a}));var r=n(8300);n.d(t,"b",(function(){return r.a}))},8298:function(e,t,n){"use strict";var a=n(0),i=n(40),r=n(5),s=n(5788),o=n(5846),l=n(11438);t.a=e=>{const{kindObj:t}=e,n=Object(o.i)(t),c=Object(s.a)(e.namespace);return a.createElement(i.a,Object.assign({},e,{badge:c,menuActions:r.F.factory.common,breadcrumbsFor:()=>n,pages:[r.mc.details(l.a),r.mc.editYaml()]}))}},8299:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(14),s=n(5695),o=n(8),l=n(15),c=n(206),u=n(5586),d=n(5788),p=n(5588),m=n(6675),b=n(11440),h=n(11441);t.a=()=>{const{t:e}=Object(i.useTranslation)(),t=Object(c.a)(p.e),{ns:n}=Object(r.useParams)(),v=Object(d.a)(n),[g,f,y]=[!1,!1,!0],E=Object.assign({tasks:{model:u.TaskModel},taskRun:{model:u.TaskRunModel}},!t&&{clusterTask:{model:u.ClusterTaskModel}}),k=[{href:"",name:e("pipelines-plugin~Tasks"),component:h.a,pageData:{kind:Object(o.Hb)(u.TaskModel),canCreate:f,namespace:n,showTitle:g}},{href:"task-runs",name:e("pipelines-plugin~TaskRuns"),component:m.a,pageData:{hideBadge:y,showTitle:g}},...t?[]:[{href:"cluster-tasks",name:e("pipelines-plugin~ClusterTasks"),component:b.a,pageData:{kind:Object(o.Hb)(u.ClusterTaskModel),canCreate:f,showTitle:g}}]];return a.createElement(s.b,{variant:s.a.light,hideApplications:!0},a.createElement(l.ob,{pages:k,title:e("pipelines-plugin~Tasks"),badge:v,menuActions:E}))}},8300:function(e,t,n){"use strict";var a=n(0),i=n(872),r=n(40),s=n(8),o=n(5586),l=n(5788),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var t,{hideBadge:n}=e,u=c(e,["hideBadge"]);const d=Object(l.a)(u.namespace);return a.createElement(r.c,Object.assign({},u,{canCreate:null===(t=u.canCreate)||void 0===t||t,kind:Object(s.Hb)(o.TaskModel),ListComponent:i.b,badge:n?null:d}))}}}]);
//# sourceMappingURL=tasksComponent-chunk-dfc7365d94e760b1853a.min.js.map