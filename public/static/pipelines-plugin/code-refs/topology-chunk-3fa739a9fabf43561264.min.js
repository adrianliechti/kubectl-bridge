(window.webpackJsonp=window.webpackJsonp||[]).push([[249,20,44,126,132,258,259,283,298],{11454:function(e,t,n){"use strict";var a=n(0),r=n(241),i=n(130),o=n(4440),s=n(7),l=n(14),c=n(5),u=n(8),d=n(5586),p=n(5944),m=n(11455),b=n(11457),g=n(11459),v=n(11460),f=n(11461);t.a=({item:{pipelines:[e],pipelineRuns:t}})=>{const{metadata:{name:n,namespace:h}}=e,{t:y}=Object(s.useTranslation)(),[E,O]=a.useState(Object(p.a)(n,h));return a.useEffect(()=>{O(Object(p.a)(n,h))},[n,h]),a.createElement("div",{"data-test":"pipeline-overview"},a.createElement(c.ub,{text:y(d.PipelineRunModel.labelPluralKey)},E&&0===t.length&&a.createElement(m.a,{title:y("pipelines-plugin~Pipeline could not be started automatically"),onClose:()=>{O(!1),Object(p.b)(n,h)}}),t.length>3&&a.createElement(l.Link,{className:"sidebar__section-view-all",to:Object(c.tc)(Object(u.Hb)(d.PipelineModel),n,h)+"/Runs"},y("pipelines-plugin~View all {{pipelineRunsLength}}",{pipelineRunsLength:t.length}))),a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item pipeline-overview"},a.createElement(r.a,{justifyContent:{default:"justifyContentSpaceBetween"}},a.createElement(i.a,null,a.createElement(c.hb,{inline:!0,kind:Object(u.Hb)(d.PipelineModel),name:n,namespace:h})),a.createElement(i.a,null,0===t.length?a.createElement(g.a,{pipeline:e,namespace:h}):a.createElement(v.a,{pipelineRuns:t,namespace:h})))),o.a(t,3).map(e=>a.createElement(b.a,{key:e.metadata.uid,pipelineRun:e}))),a.createElement(f.a,{pipeline:e}))}},11455:function(e,t,n){"use strict";var a=n(0),r=n(80),i=n(1939);n(11456);t.a=({title:e,onClose:t})=>a.createElement(r.a,{className:"pipeline-overview-alert",variant:"custom",isInline:!0,title:e,actionClose:a.createElement(i.a,{onClose:t})})},11456:function(e,t,n){},11457:function(e,t,n){"use strict";var a=n(0),r=n(379),i=n(184),o=n(7),s=n(14),l=n(5),c=n(158),u=n(8),d=n(15),p=n(5586),m=n(5617),b=n(6183),g=n(6254),v=(n(11458),n(6122));t.a=({pipelineRun:e})=>{var t,n;const{t:f}=Object(o.useTranslation)(),{metadata:{name:h,namespace:y,creationTimestamp:E},status:O}=e,[j]=Object(v.b)(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name),k=Object(l.tc)(Object(u.Hb)(p.PipelineRunModel),h,y),R=O&&(O.completionTime||O.startTime)||E,S=Object(g.a)(e,j);return a.createElement("li",{className:"odc-pipeline-run-item list-group-item"},a.createElement(r.a,{hasGutter:!0},a.createElement(i.a,{span:6},a.createElement("div",null,a.createElement(s.Link,{to:""+k},h),R&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:"odc-pipeline-run-item__time text-muted"},"(",Object(c.e)(R),")")))),a.createElement(i.a,{span:3},a.createElement(d.cc,{status:Object(m.d)(e)||"Pending"})),a.createElement(i.a,{span:3,className:"pf-v5-u-text-align-right"},a.createElement(s.Link,{to:k+"/logs"},f("pipelines-plugin~View logs"))),S&&a.createElement(i.a,{span:12},a.createElement(b.a,{logDetails:S,namespace:y},e=>a.createElement(d.ib,{message:S.title,logSnippet:e})))))}},11458:function(e,t,n){},11459:function(e,t,n){"use strict";var a=n(0),r=n(19),i=n(7),o=n(31),s=n(13),l=n(5),c=n(5586),u=n(6357);t.a=Object(o.connect)(s.K)(({pipeline:e,namespace:t,impersonate:n})=>{const{t:o}=Object(i.useTranslation)(),s={group:c.PipelineRunModel.apiGroup,resource:c.PipelineRunModel.plural,namespace:t,verb:"create"};return Object(l.Dc)(s,n)&&a.createElement(r.a,{variant:"secondary",onClick:()=>Object(u.c)({pipeline:e,modalClassName:"modal-lg"})},o("pipelines-plugin~Start"))})},11460:function(e,t,n){"use strict";var a=n(0),r=n(19),i=n(22),o=n(7),s=n(31),l=n(13),c=n(5),u=n(5586),d=n(6087),p=n(5635),m=n(5623),b=n(6057);t.a=Object(s.connect)(l.K)(({pipelineRuns:e,namespace:t,impersonate:n})=>{const{t:s}=Object(o.useTranslation)(),l=Object(b.c)(Object(p.b)(e,"startTimestamp")),g=Object(m.y)(l),{labelKey:v,callback:f,accessReview:h}=Object(d.d)(g,l),y={group:u.PipelineRunModel.apiGroup,resource:u.PipelineRunModel.plural,namespace:t,verb:"create"},E=i.a(h)?y:h;return Object(c.Dc)(E,n)&&a.createElement(r.a,{variant:"secondary",onClick:f,isDisabled:0===e.length&&!f},s(v))})},11461:function(e,t,n){"use strict";var a=n(0),r=n(241),i=n(130),o=n(7),s=n(5),l=n(5586),c=n(6056),u=n(11462);t.a=({pipeline:e})=>{const{metadata:{name:t,namespace:n}}=e,{t:d}=Object(o.useTranslation)(),p=Object(c.d)(t,n)||[];return p.length>0?a.createElement(a.Fragment,null,a.createElement(s.ub,{"data-test":"triggers-heading",text:d("pipelines-plugin~Triggers")}),a.createElement("ul",{className:"list-group","data-test":"triggers-list"},a.createElement("li",{className:"list-group-item pipeline-overview","data-test":"triggers-list-item"},a.createElement(r.a,{justifyContent:{default:"justifyContentSpaceBetween"}},a.createElement(i.a,null,a.createElement(u.a,{namespace:n,model:l.TriggerTemplateModel,links:p})))))):null}},11462:function(e,t,n){"use strict";var a=n(0),r=n(5),i=n(8);n(11463);t.a=({links:e=[],namespace:t,model:n})=>0===e.length?null:a.createElement("div",null,a.createElement("dl",null,e.map(({routeURL:e,triggerTemplateName:o})=>a.createElement("dd",{key:o},a.createElement(r.hb,{kind:Object(i.Hb)(n),name:o,namespace:t,title:o,inline:!0}),e&&a.createElement("div",{className:"opp-trigger-template-link"},a.createElement(r.A,{key:e,link:e,text:e,additionalClassName:"co-external-link--block"}))))))},11463:function(e,t,n){},11464:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(7),o=n(31),s=n(14),l=n(13),c=n(5),u=n(11465),d=n(5623),p=n(15),m=n(5782),b=n(6357),g=n(6122),v=n(5586);t.a=Object(o.connect)(l.K)(({pipeline:e,pipelineRuns:t,radius:n,x:o,y:l,impersonate:f})=>{var h,y;const E=a.useRef(),{t:O}=Object(i.useTranslation)(),{latestPipelineRun:j,status:k}=Object(d.j)(t),[R,S]=Object(g.b)(null===(h=null==j?void 0:j.metadata)||void 0===h?void 0:h.namespace),T=Object(g.a)(R,null===(y=null==j?void 0:j.metadata)||void 0===y?void 0:y.namespace),N=a.createElement(p.cc,{status:k,iconOnly:!0,noTooltip:!0}),C={group:v.PipelineRunModel.apiGroup,resource:v.PipelineRunModel.plural,namespace:e.metadata.namespace,verb:"create"},P=Object(c.Dc)(C,f);let w,D,_;if(j){w=O("pipelines-plugin~Pipeline status is {{status}}. View logs.",{status:k}),D=S&&a.createElement(u.a,{pipelineRun:j,status:k,taskRuns:T});const e=Object(c.uc)(v.PipelineRunModel,j.metadata.name,j.metadata.namespace)+"/logs";_=a.createElement(s.Link,{to:e},a.createElement(m.c,{x:o,y:l,radius:n,ariaLabel:w},N))}else{w=O("pipelines-plugin~Pipeline not started. Start pipeline."),D=O("pipelines-plugin~Pipeline not started");let t=null;P&&(t=()=>{Object(b.c)({pipeline:e,modalClassName:"modal-lg"})}),_=a.createElement(m.c,{x:o,y:l,radius:n,onClick:t,ariaLabel:w},N)}return a.createElement(r.a,{triggerRef:E,content:D,position:r.b.left},a.createElement("g",{ref:E},_))})},11465:function(e,t,n){"use strict";var a=n(0),r=n(7),i=n(6663),o=n(6665),s=n(6666),l=n(5595),c=n(5635);n(11466);t.a=({pipelineRun:e,status:t,taskRuns:n})=>{const{t:u}=Object(r.useTranslation)(),d=Object(o.a)(e,n);if(!e||!t)return null;const p=a.createElement(i.a,{height:"1em",inline:!0,values:Object.keys(l.a).map(e=>({color:Object(c.f)(l.a[e]).pftoken.value,name:e,size:d[l.a[e]]}))}),m=a.createElement(s.a,{taskStatus:d});return a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip"},a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip__title"},u("pipelines-plugin~Pipeline {{status}}",{status:t})),a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip__status-bars-wrapper"},a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip__status-bars-title"},u("pipelines-plugin~Task status")),a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip__status-bars"},p)),a.createElement("div",{className:"odc-pipeline-build-decorator-tooltip__status-breakdown"},m))}},11466:function(e,t,n){},11467:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(8),n(5586);const a=(e,t)=>{var n,a;const r=new Date((null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.creationTimestamp)||Date.now());return new Date((null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.creationTimestamp)||Date.now()).getTime()-r.getTime()},r=(e,t)=>{if(!t||!t.pipelineRuns)return null;const n=t.pipelineRuns.data,r=e.metadata.name;return n.filter(e=>{var t,n,a,i;return r===((null===(n=null===(t=e.spec)||void 0===t?void 0:t.pipelineRef)||void 0===n?void 0:n.name)||(null===(i=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.labels)||void 0===i?void 0:i["tekton.dev/pipeline"]))}).sort(a)},i=(e,t)=>{var n,a,i;const o=null===(n=null==t?void 0:t.pipelines)||void 0===n?void 0:n.data;if(!o)return null;const s=(null===(i=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.labels)||void 0===i?void 0:i["app.kubernetes.io/instance"])||null;if(!s)return null;const l=o.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["app.kubernetes.io/instance"])===s});return l?{pipelines:[l],pipelineRuns:r(l,t)}:null}},2368:function(e,t,n){"use strict";n.r(t);var a=n(8306);n.d(t,"usePipelinesSideBarTabSection",(function(){return a.a}));var r=n(8307);n.d(t,"getPipelineRunDecorator",(function(){return r.a}));var i=n(8308);n.d(t,"getPipelinesDataModelReconciler",(function(){return i.a}))},322:function(e,t,n){"use strict";n.r(t);var a=n(5811);n.d(t,"useCronJobSideBarDetails",(function(){return a.a}));var r=n(5812);n.d(t,"useDaemonSetSideBarDetails",(function(){return r.a}));var i=n(5813);n.d(t,"useDeploymentConfigSideBarDetails",(function(){return i.a}));var o=n(5814);n.d(t,"useDeploymentSideBarDetails",(function(){return o.a}));var s=n(5815);n.d(t,"useJobSideBarDetails",(function(){return s.a}));var l=n(5816);n.d(t,"usePodsSideBarTabSection",(function(){return l.a}));var c=n(5818);n.d(t,"useStatefulSetSideBarDetails",(function(){return c.a}));var u=n(5819);n.d(t,"getWorkloadResourceLink",(function(){return u.a}));var d=n(5700);n.d(t,"getDataFromAdapter",(function(){return d.b})),n.d(t,"podsAdapterForWorkloads",(function(){return d.e})),n.d(t,"buildsAdapterForWorkloads",(function(){return d.a})),n.d(t,"networkAdapterForWorkloads",(function(){return d.c})),n.d(t,"podsAdapterForCronJobWorkload",(function(){return d.d}));var p=n(5820);n.d(t,"useBuildsSideBarTabSection",(function(){return p.a}));var m=n(5821);n.d(t,"useNetworkingSideBarTabSection",(function(){return m.a}));var b=n(5822);n.d(t,"useJobsSideBarTabSection",(function(){return b.a}));var g=n(5823);n.d(t,"usePodSideBarDetails",(function(){return g.a}));var v=n(5824);n.d(t,"useHealthChecksAlert",(function(){return v.a})),n.d(t,"useResourceQuotaAlert",(function(){return v.b}));var f=n(5825);n.d(t,"useVpaSideBarTabSection",(function(){return f.a}))},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var r=n(869);n.d(t,"SecretTypeAbstraction",(function(){return r.c})),n.d(t,"AUTHS_KEY",(function(){return r.a})),n.d(t,"SecretType",(function(){return r.b}));var i=n(5598);n.d(t,"SecretFormWrapper",(function(){return i.a}));var o=n(5604);n.d(t,"PullSecretForm",(function(){return o.a}));var s=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return s.a}));var l=n(5605);n.d(t,"CreateConfigSubform",(function(){return l.a}));var c=n(5607);n.d(t,"UploadConfigSubform",(function(){return c.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var b=n(5609);n.d(t,"GenericSecretForm",(function(){return b.a}));var g=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return g.b})),n.d(t,"KeyValueEntryForm",(function(){return g.a}));var v=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return v.b})),n.d(t,"EditSecret",(function(){return v.a}));var f=n(5637);n.d(t,"CreateSecret",(function(){return f.a}));var h=n(5593);n.d(t,"DroppableFileInput",(function(){return h.a}));var y=n(5600);n.d(t,"SecretSubForm",(function(){return y.a}));n(5638)},4367:function(e,t,n){"use strict";n.r(t),n.d(t,"useTopologyWorkloadActionProvider",(function(){return u})),n.d(t,"useTopologyVisualConnectorActionProvider",(function(){return d}));var a=n(0),r=n(8),i=n(473),o=n(2221),s=n(5594),l=n(5741),c=n(5750);const u=e=>{const t=Object(s.f)(e),n=Object(a.useMemo)(()=>{if(e.getType()!==o.y)return;if(!t)return[];const n=Object(r.vb)(Object(r.Db)(t));return[Object(c.a)(n,t)]},[e,t]);return Object(a.useMemo)(()=>n?[n,!0,void 0]:[[],!0,void 0],[n])},d=e=>{var t;const n=Object(s.f)(null===(t=e.getSource)||void 0===t?void 0:t.call(e)),[c,u]=Object(i.a)(Object(r.Db)(null!=n?n:{})),d=Object(a.useMemo)(()=>{if(c&&e.getType()===o.v)return[Object(l.b)(c,e),Object(l.a)(c,e)]},[e,c]);return Object(a.useMemo)(()=>d?[d,!u,void 0]:[[],!0,void 0],[d,u])}},4368:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return P})),n.d(t,"DeploymentConfigDetailsList",(function(){return D})),n.d(t,"DeploymentConfigDeprecationAlert",(function(){return _})),n.d(t,"DeploymentConfigsDetails",(function(){return x})),n.d(t,"DeploymentConfigsDetailsPage",(function(){return F})),n.d(t,"DeploymentConfigsList",(function(){return $})),n.d(t,"DeploymentConfigsPage",(function(){return K}));var a=n(0),r=n(16),i=n(313),o=n(50),s=n(15),l=n(7),c=n(5667),u=n(5721),d=n(5766),p=n(5767),m=n(8),b=n(131),g=n(10),v=n(972),f=n(409),h=n(2226),y=n(40),E=n(5),O=n(4369),j=n(5758),k=n(2224),R=n(80),S=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const{ModifyCount:T,AddStorage:N,common:C}=E.F.factory,P=[(e,t)=>({labelKey:"public~Start rollout",callback:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(m.jb)(g.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(b.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(E.Ac)(e,t).catch(e=>Object(b.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),Object(p.d)(T),u.a,p.a,p.c,N,p.b,d.a,...Object(E.Rb)(g.DeploymentConfigModel),u.b,...C],w=e=>{const t=r.a(e,"status.conditions"),n=i.a(t,{type:"Progressing",reason:"ProgressDeadlineExceeded",status:"False"}),a=i.a(t,{type:"ReplicaFailure",status:"True"});return n||a?"Failed":e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?"Up to date":"Updating"},D=({dc:e})=>{var t,n;const{t:i}=Object(l.useTranslation)(),s=r.a(e,"spec.strategy.rollingParams.timeoutSeconds"),c=r.a(e,"spec.strategy.rollingParams.updatePeriodSeconds"),u=r.a(e,"spec.strategy.rollingParams.intervalSeconds"),d=o.a(e.spec.triggers,"type").join(", ");return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(E.r,{label:i("public~Latest version"),obj:e,path:"status.latestVersion"}),a.createElement(E.r,{label:i("public~Message"),obj:e,path:"status.details.message",hideEmpty:!0}),a.createElement(E.r,{label:i("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"Rolling"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(E.r,{label:i("public~Timeout"),obj:e,path:"spec.strategy.rollingParams.timeoutSeconds",hideEmpty:!0},i("public~{{count}} second",{count:s})),a.createElement(E.r,{label:i("public~Update period"),obj:e,path:"spec.strategy.rollingParams.updatePeriodSeconds",hideEmpty:!0},i("public~{{count}} second",{count:c})),a.createElement(E.r,{label:i("public~Interval"),obj:e,path:"spec.strategy.rollingParams.intervalSeconds",hideEmpty:!0},i("public~{{count}} second",{count:u})),a.createElement(E.r,{label:i("public~Max unavailable"),obj:e,path:"spec.strategy.rollingParams.maxUnavailable"},i("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingParams.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(E.r,{label:i("public~Max surge"),obj:e,path:"spec.strategy.rollingParams.maxSurge"},i("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingParams.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(E.r,{label:i("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?i("public~{{count}} second",{count:e.spec.minReadySeconds}):i("public~Not configured")),a.createElement(E.r,{label:i("public~Triggers"),obj:e,path:"spec.triggers",hideEmpty:!0},d),a.createElement(E.mb,{obj:e}),a.createElement(k.a,{obj:e}))},_=()=>{const{t:e}=Object(l.useTranslation)();return a.createElement(R.a,{isInline:!0,variant:"info",title:e("public~DeploymentConfig is being deprecated with OpenShift 4.14")},a.createElement("p",null,e("public~Feature development of DeploymentConfigs will be deprecated in OpenShift Container Platform 4.14.")),a.createElement("p",null,e("public~DeploymentConfigs will continue to be supported for security and critical fixes, but you should migrate to Deployments wherever it is possible.")),!Object(E.hc)()&&a.createElement(E.z,{href:Object(E.Qb)(E.Lb.deprecatedDeploymentConfig),text:e("public~Learn more about Deployments"),additionalClassName:"pf-v5-u-mt-md"}))},x=({obj:e})=>{const{t:t}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(E.ob,{text:t("public~DeploymentConfig details")}),e.spec.paused&&a.createElement(E.Db,{obj:e,model:g.DeploymentConfigModel}),a.createElement(c.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(E.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,a.createElement(s.cc,{status:w(e)})))),a.createElement("div",{className:"col-sm-6"},a.createElement(D,{dc:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(E.ob,{text:t("public~Containers")}),a.createElement(E.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(E.ob,{text:t("public~Conditions")}),a.createElement(v.b,{conditions:e.status.conditions})))},A=e=>a.createElement(E.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),I=["spec","template","spec","containers"],M=[E.mc.details(x),E.mc.editYaml(),{href:"replicationcontrollers",nameKey:"public~ReplicationControllers",component:({obj:e})=>{const{metadata:{namespace:t,name:n}}=e;return a.createElement(O.ReplicationControllersPage,{showTitle:!1,namespace:t,selector:{"openshift.io/deployment-config.name":n},canCreate:!1})}},E.mc.pods(),E.mc.envEditor(e=>a.createElement(A,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:I,readOnly:!1})),E.mc.events(f.ResourceEventStream)],L=({kindObj:e,obj:t})=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(s.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(s.h,{actions:e,options:t,variant:s.i.DROPDOWN}))},F=e=>a.createElement(y.a,Object.assign({},e,{kind:"DeploymentConfig",customActionMenu:(e,t)=>a.createElement(L,{kindObj:e,obj:t}),pages:M}),a.createElement(_,null),a.createElement("br",null));F.displayName="DeploymentConfigsDetailsPage";const B=e=>{var{obj:t}=e,n=S(e,["obj"]);const r={[Object(m.Db)(t)]:t},i=a.createElement(s.hb,{context:r});return a.createElement(j.b,Object.assign({obj:t,customActionMenu:i,kind:"DeploymentConfig"},n))},U=()=>Object(j.a)();U.displayName="DeploymentConfigTableHeader";const $=e=>{const{t:t}=Object(l.useTranslation)();return a.createElement(y.j,Object.assign({},e,{"aria-label":t("public~DeploymentConfigs"),Header:U,Row:B,virtualize:!0}))};$.displayName="DeploymentConfigsList";const K=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deploymentconfigs/~new/form`};return a.createElement(y.c,Object.assign({kind:"DeploymentConfig",ListComponent:$,createProps:t,canCreate:!0,helpText:a.createElement(_,null)},e))};K.displayName="DeploymentConfigsListPage"},4369:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicationControllersDetailsPage",(function(){return S})),n.d(t,"ReplicationControllersList",(function(){return P})),n.d(t,"ReplicationControllersPage",(function(){return w}));var a=n(0),r=n(16),i=n(18),o=n(7),s=n(14),l=n(54),c=n(15),u=n(409),d=n(40),p=n(5),m=n(8),b=n(2226),g=n(2224);const v=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),f=["spec","template","spec","containers"],h=e=>a.createElement(v,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:f,readOnly:!1}),{details:y,editYaml:E,pods:O,envEditor:j,events:k}=p.mc,R=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),S=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(d.a,Object.assign({},e,{getResourceStatus:e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"])||null},customActionMenu:(e,t)=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(c.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(c.h,{actions:e,options:t,variant:c.i.DROPDOWN}))},pages:[y(({obj:e})=>{const n=r.a(e,["metadata","annotations","openshift.io/deployment-config.latest-version"]),i=r.a(e,["metadata","annotations","openshift.io/deployment.phase"]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~ReplicationController details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},n&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Deployment revision")),a.createElement("dd",null,n)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},i&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Phase")),a.createElement("dd",null,a.createElement(c.cc,{status:i}))),a.createElement(p.kb,{resource:e}),a.createElement(p.mb,{obj:e}),a.createElement(g.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(b.a,{resource:e,heading:t("public~Volumes")})))}),E(),O(R),j(h),k(u.ResourceEventStream)]}))},T="ReplicationController",N=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",p.F.columnClass],C=({obj:e})=>{var t,n;const{t:r}=Object(o.useTranslation)(),l=null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"],u={[Object(m.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:N[0]},a.createElement(p.hb,{kind:T,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:i(N[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:N[2]},a.createElement(s.Link,{to:Object(p.tc)(T,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},r("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(d.k,{className:N[3]},a.createElement(c.cc,{status:l})),a.createElement(d.k,{className:N[4]},a.createElement(p.Y,{resource:e})),a.createElement(d.k,{className:N[5]},a.createElement(p.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(d.k,{className:N[6]},a.createElement(c.hb,{context:u})))},P=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~ReplicationControllers"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:N[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[l.a],props:{className:N[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[l.a],props:{className:N[2]}},{title:t("public~Phase"),sortField:'metadata.annotations["openshift.io/deployment.phase"]',transforms:[l.a],props:{className:N[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[l.a],props:{className:N[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:N[5]}},{title:"",props:{className:N[6]}}],Row:C,virtualize:!0}))},w=e=>{const{canCreate:t=!0}=e;return a.createElement(d.c,Object.assign({canCreate:t,kind:"ReplicationController",ListComponent:P},e))}},4370:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicaSetsList",(function(){return w})),n.d(t,"ReplicaSetsPage",(function(){return D})),n.d(t,"ReplicaSetsDetailsPage",(function(){return T}));var a=n(0),r=n(16),i=n(18),o=n(14),s=n(54),l=n(7),c=n(40),u=n(5),d=n(409),p=n(2226),m=n(15),b=n(2224),g=n(8);const v=({obj:e})=>{const t=r.a(e,["metadata","annotations","deployment.kubernetes.io/revision"]),{t:n}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~ReplicaSet details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(u.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},t&&a.createElement(a.Fragment,null,a.createElement("dt",null,n("public~Deployment revision")),a.createElement("dd",null,t)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},a.createElement(u.kb,{resource:e}),a.createElement(u.mb,{obj:e}),a.createElement(b.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~Containers")}),a.createElement(u.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.a,{resource:e,heading:n("public~Volumes")})))},f=e=>a.createElement(u.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),h=["spec","template","spec","containers"],y=e=>a.createElement(f,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:h,readOnly:!1}),E=e=>a.createElement(u.ab,Object.assign({},e,{showNodes:!0})),{details:O,editYaml:j,pods:k,envEditor:R,events:S}=u.mc,T=e=>a.createElement(c.a,Object.assign({},e,{customActionMenu:(e,t)=>{const n={[Object(g.Hb)(e)]:t};return a.createElement(m.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(m.h,{actions:e,options:t,variant:m.i.DROPDOWN}))},pages:[O(v),j(),k(E),R(y),S(d.ResourceEventStream)]})),N="ReplicaSet",C=["","",i("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-xl"),u.F.columnClass],P=({obj:e})=>{const{t:t}=Object(l.useTranslation)(),n={[Object(g.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(c.k,{className:C[0]},a.createElement(u.hb,{kind:N,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(c.k,{className:i(C[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(c.k,{className:C[2]},a.createElement(o.Link,{to:Object(u.tc)(N,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},t("public~{{count1}} of {{count2}} pods",{count1:e.status.replicas||0,count2:e.spec.replicas}))),a.createElement(c.k,{className:C[3]},a.createElement(u.L,{kind:N,labels:e.metadata.labels})),a.createElement(c.k,{className:C[4]},a.createElement(u.Y,{resource:e})),a.createElement(c.k,{className:C[5]},a.createElement(u.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(c.k,{className:C[6]},a.createElement(m.hb,{context:n})))},w=e=>{const{t:t}=Object(l.useTranslation)();return a.createElement(c.j,Object.assign({},e,{"aria-label":t("public~ReplicaSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[s.a],props:{className:C[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[s.a],props:{className:C[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[s.a],props:{className:C[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[s.a],props:{className:C[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[s.a],props:{className:C[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[s.a],props:{className:C[5]}},{title:"",props:{className:C[6]}}],Row:P,virtualize:!0}))},D=e=>{const{canCreate:t=!0}=e;return a.createElement(c.c,Object.assign({canCreate:t,kind:"ReplicaSet",ListComponent:w},e))}},4371:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return f})),n.d(t,"DaemonSetDetailsList",(function(){return E})),n.d(t,"DaemonSets",(function(){return T})),n.d(t,"DaemonSetsPage",(function(){return N})),n.d(t,"DaemonSetsDetailsPage",(function(){return P}));var a=n(0),r=n(14),i=n(18),o=n(54),s=n(7),l=n(5721),c=n(15),u=n(8),d=n(40),p=n(5),m=n(409),b=n(2226),g=n(10),v=n(2224);const f=[l.a,p.F.factory.AddStorage,...p.F.getExtensionsActionsForKind(g.DaemonSetModel),l.b,...p.F.factory.common],h="DaemonSet",y=["","",i("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),p.F.columnClass],E=({ds:e})=>{const{t:t}=Object(s.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(p.r,{label:t("public~Current count"),obj:e,path:"status.currentNumberScheduled"}),a.createElement(p.r,{label:t("public~Desired count"),obj:e,path:"status.desiredNumberScheduled"}),a.createElement(v.a,{obj:e}))},O=({obj:e})=>{const{t:t}=Object(s.useTranslation)(),{podData:n,loaded:r}=Object(c.Se)(e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~DaemonSet details")}),r?a.createElement(c.Ab,{key:e.metadata.uid,pods:(null==n?void 0:n.pods)||[],obj:e,resourceKind:g.DaemonSetModel,enableScaling:!1}):a.createElement(p.T,null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"col-lg-6"},a.createElement(E,{ds:e})))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(b.a,{resource:e,heading:t("public~Volumes")})))},j=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),k=["spec","template","spec","containers"],R=e=>a.createElement(j,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:k,readOnly:!1}),S=({obj:e})=>{const{t:t}=Object(s.useTranslation)(),n={[Object(u.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:y[0]},a.createElement(p.hb,{kind:h,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:i(y[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:y[2]},a.createElement(r.Link,{to:`/k8s/ns/${e.metadata.namespace}/daemonsets/${e.metadata.name}/pods`,title:"pods"},t("public~{{currentNumber}} of {{desiredNumber}} pods",{currentNumber:e.status.currentNumberScheduled,desiredNumber:e.status.desiredNumberScheduled}))),a.createElement(d.k,{className:y[3]},a.createElement(p.L,{kind:h,labels:e.metadata.labels})),a.createElement(d.k,{className:y[4]},a.createElement(p.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(d.k,{className:y[5]},a.createElement(c.hb,{context:n})))},T=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~DaemonSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[o.a],props:{className:y[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[o.a],props:{className:y[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"daemonsetNumScheduled",transforms:[o.a],props:{className:y[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[o.a],props:{className:y[3]}},{title:t("public~Pod selector"),sortField:"spec.selector",transforms:[o.a],props:{className:y[4]}},{title:"",props:{className:y[5]}}],Row:S,virtualize:!0}))},N=e=>a.createElement(d.c,Object.assign({canCreate:!0,ListComponent:T,kind:h},e)),C=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),P=e=>{const t=Object(c.Ue)();return a.createElement(d.a,Object.assign({},e,{kind:h,customActionMenu:(e,t)=>{const n={[Object(u.Hb)(e)]:t};return a.createElement(c.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(c.h,{actions:e,options:t,variant:c.i.DROPDOWN}))},pages:[p.mc.details(Object(p.Kb)(O)),...t?[p.mc.metrics()]:[],p.mc.editYaml(),p.mc.pods(C),p.mc.envEditor(R),p.mc.events(m.ResourceEventStream)]}))}},4372:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return T})),n.d(t,"DeploymentDetailsList",(function(){return N})),n.d(t,"DeploymentsDetailsPage",(function(){return x})),n.d(t,"DeploymentsList",(function(){return M})),n.d(t,"DeploymentsPage",(function(){return L}));var a=n(0),r=n(7),i=n(15),o=n(5667),s=n(5721),l=n(5766),c=n(5767),u=n(10),d=n(8),p=n(131),m=n(972),b=n(409),g=n(2226),v=n(40),f=n(5),h=n(4370),y=n(5758),E=n(2224),O=n(5922),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const{ModifyCount:k,AddStorage:R,common:S}=f.F.factory,T=[Object(c.d)(k),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(f.Ac)(e,t).catch(e=>Object(p.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),s.a,c.a,c.c,R,(e,t)=>({labelKey:"public~Edit update strategy",callback:()=>Object(p.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),c.b,l.a,...f.F.getExtensionsActionsForKind(u.DeploymentModel),s.b,...S],N=({deployment:e})=>{var t,n;const{t:i}=Object(r.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(f.r,{label:i("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"RollingUpdate"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(f.r,{label:i("public~Max unavailable"),obj:e,path:"spec.strategy.rollingUpdate.maxUnavailable"},i("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingUpdate.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(f.r,{label:i("public~Max surge"),obj:e,path:"spec.strategy.rollingUpdate.maxSurge"},i("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingUpdate.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(f.r,{label:i("public~Progress deadline seconds"),obj:e,path:"spec.progressDeadlineSeconds"},e.spec.progressDeadlineSeconds?i("public~{{count}} second",{count:e.spec.progressDeadlineSeconds}):i("public~Not configured")),a.createElement(f.r,{label:i("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?i("public~{{count}} second",{count:e.spec.minReadySeconds}):i("public~Not configured")),a.createElement(f.mb,{obj:e}),a.createElement(E.a,{obj:e}),a.createElement(O.a,{obj:e}))};N.displayName="DeploymentDetailsList";const C=({obj:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(f.ob,{text:t("public~Deployment details")}),e.spec.paused&&a.createElement(f.Db,{obj:e,model:u.DeploymentModel}),a.createElement(o.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(f.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?a.createElement(i.cc,{status:"Up to date"}):a.createElement(i.cc,{status:"Updating"})))),a.createElement("div",{className:"col-sm-6"},a.createElement(N,{deployment:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(f.ob,{text:t("public~Containers")}),a.createElement(f.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(g.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(f.ob,{text:t("public~Conditions")}),a.createElement(m.b,{conditions:e.status.conditions})))};C.displayName="DeploymentDetails";const P=e=>a.createElement(f.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),w=["spec","template","spec","containers"],D=e=>a.createElement(P,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:w,readOnly:!1}),_=({obj:e})=>{const{metadata:{namespace:t},spec:{selector:n}}=e;return a.createElement(h.ReplicaSetsPage,{showTitle:!1,namespace:t,selector:n,canCreate:!1})},x=e=>{const t=Object(i.Ue)();return a.createElement(v.a,Object.assign({},e,{kind:"Deployment",customActionMenu:(e,t)=>{const n={[Object(d.Hb)(e)]:t};return a.createElement(i.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(i.h,{actions:e,options:t,variant:i.i.DROPDOWN}))},pages:[f.mc.details(C),...t?[f.mc.metrics()]:[],f.mc.editYaml(),{href:"replicasets",nameKey:"public~ReplicaSets",component:_},f.mc.pods(),f.mc.envEditor(D),f.mc.events(b.ResourceEventStream)]}))};x.displayName="DeploymentsDetailsPage";const A=e=>{var{obj:t}=e,n=j(e,["obj"]);const r={[Object(d.Db)(t)]:t},o=a.createElement(i.hb,{context:r});return a.createElement(y.b,Object.assign({obj:t,customActionMenu:o,kind:"Deployment"},n))},I=()=>Object(y.a)();I.displayName="DeploymentTableHeader";const M=e=>{const{t:t}=Object(r.useTranslation)();return a.createElement(v.j,Object.assign({},e,{"aria-label":t("public~Deployments"),Header:I,Row:A,virtualize:!0}))};M.displayName="DeploymentsList";const L=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deployments/~new/form`};return a.createElement(v.c,Object.assign({kind:"Deployment",canCreate:!0,createProps:t,ListComponent:M},e))};L.displayName="DeploymentsPage"},4381:function(e,t,n){"use strict";n.r(t),n.d(t,"StorageClassReference",(function(){return p})),n.d(t,"isDefaultClass",(function(){return g})),n.d(t,"StorageClassList",(function(){return y})),n.d(t,"StorageClassPage",(function(){return E})),n.d(t,"StorageClassDetailsPage",(function(){return O}));var a=n(0),r=n(16),i=n(499),o=n(54),s=n(7),l=n(18),c=n(40),u=n(5),d=n(10);const p="StorageClass",{common:m}=u.F.factory,b=[...u.F.getExtensionsActionsForKind(d.StorageClassModel),...m],g=e=>{const t=r.a(e,"metadata.annotations")||{};return"true"===t["storageclass.kubernetes.io/is-default-class"]||"true"===t["storageclass.beta.kubernetes.io/is-default-class"]},v=["pf-v5-u-w-42-on-md","pf-v5-u-w-42-on-md","pf-m-hidden pf-m-visible-on-md pf-v5-u-w-16-on-md",u.F.columnClass],f=({obj:e})=>{const{t:t}=Object(s.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:t("public~StorageClass details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(u.lb,{resource:e},a.createElement(u.r,{label:t("public~Provisioner"),obj:e,path:"provisioner"}))),a.createElement("div",{className:"col-sm-6"},a.createElement("dl",{className:"co-m-pane__details"},a.createElement(u.r,{label:t("public~Reclaim policy"),obj:e,path:"reclaimPolicy"}),a.createElement("dt",null,t("public~Default class")),a.createElement("dd",null,g(e)?t("public~True"):t("public~False")),a.createElement(u.r,{label:t("public~Volume binding mode"),obj:e,path:"volumeBindingMode"}))))))},h=({obj:e})=>{const{t:t}=Object(s.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(c.k,{className:l(v[0],"co-break-word")},a.createElement(u.hb,{kind:p,name:e.metadata.name},g(e)&&a.createElement("span",{className:"small text-muted co-resource-item__help-text"},"– ",t("public~Default")))),a.createElement(c.k,{className:l(v[1],"co-break-word")},e.provisioner),a.createElement(c.k,{className:v[2]},e.reclaimPolicy||"-"),a.createElement(c.k,{className:v[3]},a.createElement(u.gb,{actions:b,kind:p,resource:e})))},y=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(c.j,Object.assign({},e,{"aria-label":t("public~StorageClasses"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[o.a],props:{className:v[0]}},{title:t("public~Provisioner"),sortField:"provisioner",transforms:[o.a],props:{className:v[1]}},{title:t("public~Reclaim policy"),sortField:"reclaimPolicy",transforms:[o.a],props:{className:v[2]}},{title:"",props:{className:v[3]}}],Row:h,virtualize:!0}))};y.displayName="StorageClassList";const E=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(c.c,Object.assign({},i.a(e,"mock"),{title:t("public~StorageClasses"),kind:p,ListComponent:y,canCreate:!0,filterLabel:e.filterLabel,createProps:{to:"/k8s/cluster/storageclasses/~new/form"},createButtonText:t("public~Create StorageClass")}))},O=e=>{const t=[u.mc.details(Object(u.Kb)(f)),u.mc.editYaml()];return a.createElement(c.a,Object.assign({},e,{kind:p,menuActions:b,pages:t}))};O.displayName="StorageClassDetailsPage"},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var r=n(5611);n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b})),n.d(t,"e",(function(){return r.c}));var i=n(5641);n.d(t,"a",(function(){return i.a})),n.d(t,"f",(function(){return i.b}))},5588:function(e,t,n){"use strict";var a,r,i,o,s,l,c,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return r})),n.d(t,"v",(function(){return i})),n.d(t,"t",(function(){return o})),n.d(t,"w",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return y})),n.d(t,"z",(function(){return E})),n.d(t,"y",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return R})),n.d(t,"n",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return C})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(r||(r={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(i||(i={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(o||(o={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",b="1.5.2",g="pipeline",v="bridge/pipeline-run-auto-start-failed",f=275,h=375,y=60,E="pipeline.openshift.io/preferredName",O="chains.tekton.dev/signed",j="openshift-pipelines",k="openshift",R="config";var S;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(S||(S={}));const T="FLAG_TEKTON_V1_ENABLED",N="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",C="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"k",(function(){return R})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"b",(function(){return C})),n.d(t,"l",(function(){return P}));var a=n(5596),r=n(29),i=n(117),o=n(16),s=n(22),l=n(279),c=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),b=n(5659),g=n(5625),v=n(1400);const f=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],h=({FLAGS:e})=>e.get(p.a),y=e=>{var t,n,a;const r=i.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==r?void 0:r.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==r?void 0:r.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},E=(e,t,n,r)=>{if(!e)return null;const i=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const r=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${r}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${r}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${r}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${r}`:a})(a(e),t,r);return n?`${n}/f?url=${i}&policies.create=peruser`:i},O=(e,t)=>{var n,a;return(null===(a=null===(n=i.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},j=(e,t)=>t?e.filter(e=>o.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,k=(e,t)=>t.length>0&&!s.a(t[0].spec)?Object(u.c)(t[0]):null,R=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},S=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||R(null==e?void 0:e.getData())},T=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(R(null==e?void 0:e.getData())),N=(e,t)=>{const n=null==e?void 0:e.getData(),a=S(e);if(!e||!a||!l.a(n.resources))return Promise.reject();const i=[],o=[];i.push(a),e.getType()===b.d&&c.a(n.groupResources,e=>{i.push(e.resource)});for(const e of i){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(r.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));o.push(Object(g.c)(n,e,t))}return Promise.all(o)},C=(e,t,n=null)=>e&&t&&e!==t?Object(v.a)(e,t,n):Promise.reject(new Error(r.a.t("topology~Can not create a connection from a node to itself."))),P=e=>{const t=S(e.getSource()),n=S(e.getTarget());return t&&n?Object(v.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return g}));var a=n(279),r=n(160),i=n(107),o=n(1404),s=n(7),l=n(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[o.WebHookSecretKey])&&1===a.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=r.a(e).sort();return i.a(t,["tls.crt","tls.key"])?l.b.tls:i.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:i.a(t,[".dockercfg"])?l.b.dockercfg:i.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:i.a(t,["password","username"])?l.b.basicAuth:i.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},m=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:n}=Object(s.useTranslation)();switch(t){case l.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},g=e=>{const{t:t}=Object(s.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var r=n(5642);n.d(t,"e",(function(){return r.a}));var i=n(5645);n.d(t,"a",(function(){return i.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5643),r=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class i{constructor(e){this.gitsource=e}detectBuildTypes(){return r(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(282);const i=e=>a.createElement(r.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,n){"use strict";var a=n(5625);n.d(t,"a",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var r=n(5589);n.d(t,"c",(function(){return r.d})),n.d(t,"d",(function(){return r.e})),n.d(t,"f",(function(){return r.g})),n.d(t,"g",(function(){return r.h})),n.d(t,"h",(function(){return r.k}));n(1400);var i=n(5671);n.d(t,"b",(function(){return i.a}));var o=n(5679);n.d(t,"j",(function(){return o.a}));var s=n(5680);n.d(t,"i",(function(){return s.a}));var l=n(5664);n.d(t,"l",(function(){return l.a}));n(5678);var c=n(5665);n.d(t,"e",(function(){return c.a}));var u=n(5672);n.d(t,"m",(function(){return u.a}))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var r=n(5628);n.d(t,"e",(function(){return r.a}));n(5629),n(5630);var i=n(5631);n.d(t,"f",(function(){return i.a}));var o=n(5632);n.d(t,"a",(function(){return o.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(380),r=n(83),i=n(437),o=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const s="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),c=e=>o(void 0,void 0,void 0,(function*(){const t=yield r.consoleFetchJSON.post(s,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new i.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(501),r=n(838),i=n(2324),o=n(16),s=n(640),l=n(1256),c=n(0),u=n(137),d=n(7),p=n(320),m=n(966),b=n(19),g=n(14),v=n(8),f=n(5),h=n(118),y=n(10),E=n(5590),O=n(5600);const j=e=>{const{isCreate:t,modal:n,onCancel:j}=e,{t:k}=Object(d.useTranslation)(),R=Object(g.useNavigate)(),S=Object(g.useParams)(),T=a.a(e.obj,["metadata","type"]),N=Object(E.d)(e.secretTypeAbstraction),C=r.a({},e.fixed,T,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:N}),[P]=c.useState(e.secretTypeAbstraction),[w,D]=c.useState(C),[_,x]=c.useState(!1),[A,I]=c.useState(),[M,L]=c.useState(i.a(o.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[F,B]=c.useState({}),[U,$]=c.useState(!1),K=Object(E.g)(t,P),q=Object(E.f)(P),G=()=>R(`/k8s/ns/${S.ns}/core~v1~Secret`),V=e=>{L(Object.assign({},null==e?void 0:e.stringData)),B(Object.assign({},null==e?void 0:e.base64StringData))},H=e=>{I(e),x(!1)},W=e=>{const t=e.target.value,n=s.a(w);n.metadata.name=t,D(n)},z=n=>{n.preventDefault();const{metadata:a}=w;x(!0);const r=Object.assign(Object.assign({},i.a(M,e=>p.Base64.encode(e))),F),o=l.a({},w,{data:r},t?{type:Object(E.a)(M)}:{});(t?Object(v.jb)(y.SecretModel,o):Object(v.rb)(y.SecretModel,o,a.namespace,o.metadata.name)).then(t=>{x(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||R(Object(f.sc)(t,Object(v.Db)(t)))},e=>{I(e.message),x(!1)})},Y=()=>{var n;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},k("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:W,value:null===(n=null==w?void 0:w.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},k("public~Unique name of the new secret."))))),c.createElement(O.a,{typeAbstraction:e.secretTypeAbstraction,onChange:V,onError:H,onFormDisable:e=>$(e),stringData:M,secretType:w.type,isCreate:t}))};return n?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:z},c.createElement(h.d,null,K),c.createElement(h.a,null,Y()),c.createElement(h.c,{errorMessage:A||"",inProgress:_,submitText:k("public~Create"),cancel:j||G})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,K)),c.createElement(f.Z,{title:K,helpText:q}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:z},Y(),c.createElement(f.g,{errorMessage:A,inProgress:_},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:U,variant:"primary",id:"save-changes"},e.saveButtonText||k("public~Create")),c.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:j||G},k("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return h}));var a,r=n(5591),i=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const o={[r.b.GITHUB]:"GitHub",[r.b.GITLAB]:"GitLab",[r.b.GITEA]:"Gitea",[r.b.BITBUCKET]:"Bitbucket",[r.b.UNSURE]:"Other"};var s,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(s||(s={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:i.DeploymentConfigModel.labelKey,[l.Kubernetes]:i.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[l.OpenShift]:i.DeploymentConfigModel.kind,[l.Kubernetes]:i.DeploymentModel.kind,[l.KnativeService]:"Service"};var b,g,v,f,h,y;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(g||(g={})),function(e){e.None="None",e.Redirect="Redirect"}(v||(v={})),function(e){e.m="millicores",e[""]="cores"}(f||(f={})),function(e){e.Mi="Mi",e.Gi="Gi"}(h||(h={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(y||(y={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(869),i=n(5601),o=n(5604),s=n(5608),l=n(5609),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=c(e,["typeAbstraction"]);switch(t){case r.c.source:return a.createElement(i.a,Object.assign({},n));case r.c.image:return a.createElement(o.a,Object.assign({},n));case r.c.webhook:return a.createElement(s.a,Object.assign({},n));default:return a.createElement(l.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(5),o=n(869),s=n(5602),l=n(5603);class c extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:o.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[o.b.basicAuth]:e("public~Basic authentication"),[o.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(i.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===o.b.basicAuth?a.createElement(s.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(r.withTranslation)()(c)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(7);class i extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const o=Object(r.withTranslation)()(i)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(7),i=n(5593);const o=({onChange:e,stringData:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement(i.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),r=n(0),i=n(7),o=n(5),s=n(5590),l=n(869),c=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[b,g]=r.useState("credentials"),{t:v}=Object(i.useTranslation)(),f=r.useMemo(()=>{var e;try{const t=Object(s.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),h=r.useCallback(t=>{a.a(t)||n(!1);const r=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[r]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),y={credentials:v("public~Image registry credentials"),"config-file":v("public~Upload configuration file")};return r.createElement(r.Fragment,null,m&&r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"secret-type"},v("public~Authentication type")),r.createElement("div",{className:"co-create-secret__dropdown"},r.createElement(o.t,{items:y,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:g}))),"credentials"===b?r.createElement(c.a,{onChange:h,stringData:f}):r.createElement(u.a,{onChange:h,stringData:f,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(22),r=n(840),i=n(4434),o=n(57),s=n(16),l=n(4437),c=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),b=n(7),g=n(320),v=n(19),f=n(408),h=n(407),y=n(869),E=n(5606);class O extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[y.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[y.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:r.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?i.a(t,this.newImageSecretEntry()):(o.a(e,(e,n)=>{const i=g.Base64.decode(s.a(e,"auth","")),o=a.a(i)?l.a(Array(2),""):c.a(i,":");t.push({entry:{address:n,username:s.a(e,"username",o[0]),password:s.a(e,"password",o[1]),email:s.a(e,"email",""),auth:s.a(e,"auth","")},uid:s.a(e,"uid",r.a())})}),t)}imageSecretArrayToObject(e){const t={};return o.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[y.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],r={uid:a[t].uid,entry:e,auth:g.Base64.encode(`${e.username}:${e.password}`)};return a[t]=r,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:i.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:r}=null!=t?t:{},{address:i,email:o,password:s,username:l}=null!=r?r:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(v.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(E.a,{id:n,address:i,email:o,password:s,username:l,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(v.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(h.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const j=Object(b.withTranslation)()(O)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(7),i=n(320);const o=({id:e,address:t,email:n,password:o,username:s,onChange:l})=>{const{t:c}=Object(r.useTranslation)(),u=(a,r)=>{const c=s.trim(),u=o.trim(),d=s&&o?i.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:s,password:o,email:n,[a]:r},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:s,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:o,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),r=n(1973),i=n(1240),o=n(0),s=n(7),l=n(5593);class c extends o.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(r.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(r.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:i.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return o.createElement(o.Fragment,null,o.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&o.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(s.withTranslation)()(c)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(7),i=n(5590);class o extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(i.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const s=Object(r.withTranslation)()(o)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(840),r=n(22),i=n(50),o=n(255),s=n(1256),l=n(4434),c=n(279),u=n(0),d=n(7),p=n(320),m=n(19),b=n(408),g=n(407),v=n(973),f=n(5610);class h extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return r.a(e)?[this.newGenericSecretEntry()]:i.a(e,(e,t)=>{const n=v.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return o.a(e,(e,t)=>{var n,a;return s.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=i.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(f.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(g.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const y=Object(d.withTranslation)()(h)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(0),r=n(7),i=n(5593);class o extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(i.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const s=Object(r.withTranslation)()(o)},5611:function(e,t,n){"use strict";var a,r,i;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(r||(r={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(i||(i={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),r=n(5596),i=n(320),o=n(83),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:i.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const r={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},i={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:r,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:c}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),r=n(5707),i=(n(4360),n(83)),o=n(5597),s=n(5587),l=n(5592),c=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case s.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>c(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),n);if(this.isServer)return Object(o.c)(Object.assign({url:e,method:t||"GET",headers:Object(o.d)(i)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:i},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return s.d.Reachable}catch(e){switch(e.status){case 429:return s.d.RateLimitExceeded;case 403:return s.d.PrivateRepo;case 404:return s.d.ResourceNotFound;default:return s.d.InvalidGitTypeSelected}}return s.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>c(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},r={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},s=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield i.consoleFetchJSON.post(o.a,{url:s,method:"POST",headers:a,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),r=n(5708),i=n(29),o=n(320),s=n(83),l=n(5597),c=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(i.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(i.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return o.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const r=yield this.getProjectId(),i={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},o={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield s.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${r}/hooks`,method:"POST",headers:i,body:JSON.stringify(o)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),r=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,r,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new r.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:r}=a(this.gitsource.url),i=(null==(o=this.gitsource.contextDir)?void 0:o.replace(/^\//,""))||"";var o;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:r,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),r=n(320),i=n(22),o=(n(4360),n(83)),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!i.a(e)){return{authorization:"Basic "+r.Base64.encode(`${r.Base64.decode(e)}:${r.Base64.decode(t)}`)}}return{Authorization:"token "+r.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),n);if(this.isServer)return Object(s.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(s.d)(i)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:i},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:r,full_name:i}=a(this.gitsource.url),o=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+r,defaultBranch:this.gitsource.ref,fullName:i,contextDir:o,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},r=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:r,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5643),r=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const i=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>r(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],o=e=>r(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(i.map(n=>r(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return f}));var a,r=n(29),i=n(16),o=n(240),s=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const l=e=>{var t;const n=i.a(e,["status","conditions"],[]);if(0===n.length)return null;const r=n.find(e=>"Succeeded"===e.type),o=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!o)return s.a.Cancelling;if(!r||!r.status)return null;const l="True"===r.status?s.a.Succeeded:"False"===r.status?s.a.Failed:s.a.Running;if(r.reason&&r.reason!==l)switch(r.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return s.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return s.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return s.a.Pending;case a.ConditionCheckFailed:return s.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case s.a.Cancelled:return r.a.t("pipelines-plugin~Cancelled");case s.a.Failed:return r.a.t("pipelines-plugin~Failed");case s.a.Succeeded:return r.a.t("pipelines-plugin~Succeeded");case s.a.Pending:return r.a.t("pipelines-plugin~Pending");case s.a.Running:return r.a.t("pipelines-plugin~Running");case s.a.Skipped:return r.a.t("pipelines-plugin~Skipped");case s.a.Cancelling:return r.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||s.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>l(e)||s.a.Other,b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},g=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},v=e=>l(e)||s.a.Other,f=e=>c(e)||"-"},5618:function(e,t,n){"use strict";var a=n(0),r=n(297),i=n(18),o=n.n(i);n(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:n,children:i,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>a.createElement("div",{className:o()("pf-v5-c-form",{"co-m-pane__form":!n,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&a.createElement("h2",{className:"odc-form-section__heading"},e),t&&a.createElement(r.a,null,t),i)},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"m",(function(){return f})),n.d(t,"o",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return R})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"i",(function(){return N}));var a=n(4413),r=n(689),i=n(5),o=n(5620),s=n(2221),l=n(5624),c=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=r.object().shape({name:r.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),g=r.object().shape({selectedKey:r.string(),name:r.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:r.string().required("Required")})}),v=e=>r.object().shape({replicas:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),f=r.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),h=e=>r.object().when("resources",{is:c.k.KnativeService,then:r.object().shape({scaling:r.object({minpods:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:r.object().shape({autoscalewindow:r.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:r.array().of(r.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>r.object().shape({secure:r.boolean(),tls:r.object().when("secure",{is:!0,then:r.object({termination:r.string().required(e("devconsole~Please select a termination type."))})}),hostname:r.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:r.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:r.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),E=e=>r.object().shape({cpu:r.object().shape({request:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(i.Ib)(`${e}${a}`)>=Object(i.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:r.object().shape({request:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be Mi or Gi.")),limit:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(i.Ib)(`${t}${n}`)<=Object(i.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:r.string(e("devconsole~Unit must be Mi or Gi."))})}),O=e=>r.object().when("build",{is:e=>"Source"===e.strategy,then:r.object().shape({selected:r.string().required(e("devconsole~Required")),tag:r.string().required(e("devconsole~Required"))})}),j=e=>r.object().shape({url:r.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:r.string().when("showGitType",{is:!0,then:r.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:r.boolean()}),k=e=>r.object().when("build",{is:e=>"Docker"===e.strategy,then:r.object().shape({containerPort:r.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:r.string().required(e("devconsole~Required"))})}),R=e=>r.object().when("build",{is:e=>"Devfile"===e.strategy,then:r.object().shape({devfilePath:r.string().required(e("devconsole~Required")),devfileContent:r.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:r.boolean().oneOf([!1]),devfileSuggestedResources:r.object().required(e("devconsole~Required"))})}),S=r.object().shape({strategy:r.string()}),T=e=>r.object().shape({name:r.string().required(e("devconsole~Required")),image:r.object().required(e("devconsole~Required")),tag:r.string(),status:r.string().required(e("devconsole~Required"))}),N=r.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===c.a.PIPELINES)&&n!==o.a.PAC,then:r.object().shape({templateSelected:r.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"s",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"k",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return R}));var a=n(5654);const r=a.chart_color_green_400.value,i={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:r},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:r},g={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:r},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:r},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:r},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:r},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:r},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:r},O={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:r},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},R={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"h",(function(){return N})),n.d(t,"f",(function(){return C})),n.d(t,"j",(function(){return P})),n.d(t,"m",(function(){return w})),n.d(t,"o",(function(){return D})),n.d(t,"e",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"B",(function(){return A})),n.d(t,"d",(function(){return I})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return F})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return U})),n.d(t,"t",(function(){return $})),n.d(t,"g",(function(){return K})),n.d(t,"x",(function(){return q})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return V})),n.d(t,"r",(function(){return Y})),n.d(t,"u",(function(){return J})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Q})),n.d(t,"A",(function(){return Z})),n.d(t,"n",(function(){return ee}));var a=n(321),r=n(29),i=n(1557),o=n(117),s=n(16),l=n(22),c=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),b=n(5588),g=n(5650),v=n(5586),f=n(5595),h=n(5635),y=n(5617);const E=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,O=e=>e.runAfter&&e.runAfter.length>0;var j;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(j||(j={}));const k={[j.Running]:r.a.t("pipelines-plugin~Running"),[j.Failed]:r.a.t("pipelines-plugin~Failed"),[j.Succeeded]:r.a.t("pipelines-plugin~Succeeded"),[j.Cancelled]:r.a.t("pipelines-plugin~Cancelled"),[j.Other]:r.a.t("pipelines-plugin~Other")};var R;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(R||(R={}));R.Git,R.PullRequest,R.Image,R.Cluster,R.Storage,R.CloudEvent;const S=(e,t,n,r=!1)=>((r?e.spec.finally:e.spec.tasks)||[]).map(e=>{var r;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===y.a.PipelineRunCancelled?i.a(e,{status:{reason:f.a.Cancelled}}):t.spec.status===y.a.PipelineRunPending?i.a(e,{status:{reason:f.a.Idle}}):i.a(e,{status:{reason:f.a.Failed}});const l=o.a(n,t=>t.metadata.labels[b.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=i.a(e,{status:(null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.taskRuns)?s.a(o.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(y.d)(u)||f.a.Pending:u.status&&!u.status.reason&&(u.status.reason=f.a.Pending):u.status={reason:f.a.Pending},u}),T=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const r=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||l.a(e.spec.tasks))return r;const i=S(e,t,n);return i.forEach(e=>{E(e)||O(e)||(0===r.length&&r.push([]),r[0].push(e))}),i.forEach(e=>{var t;if(!O(e)&&E(e)){let n=r.length-1;for(let a=0;a<r.length;a++)for(const i of r[a])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&i.name!==e.resources.inputs[0].from[0]||(n=a);const a=r[n+1]?r[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):r.splice(n+1,0,[e])}}),i.forEach(e=>{var t;if(O(e)){let n=r.length-1;for(let a=0;a<r.length;a++)for(const i of r[a])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&i.name!==e.runAfter[0]||(n=a);const a=r[n+1]?r[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):r.splice(n+1,0,[e])}}),r},N=(e,t,n)=>S(e,t,n,!0),C=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!l.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},P=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};const t=Object(h.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};let n=Object(y.c)(t);return"-"===n&&(n=f.a.Pending),{latestPipelineRun:t,status:n}},w=e=>e&&e.map(e=>({name:e.name,value:e.default})),D=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),_=(e,t,n)=>{const a=new Date(e).getTime(),r=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(g.g)(r,n)},x=e=>{var t,n,a,r;const i=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,o=null!==(r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==r?r:null;return!i||!o&&"Running"!==Object(y.d)(e)?"-":_(i,o,!0)},A=(e,t,n)=>{const a=c.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},I=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,b.l,t).then(t=>{void 0===o.a(t.secrets,t=>t.name===e.metadata.name)&&A(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},M=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,L=(e,t={})=>{let n=0,a=M(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=M(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},F=e=>{switch(e.kind){case v.PipelineModel.kind:case v.TaskModel.kind:case v.EventListenerModel.kind:return"";case v.PipelineRunModel.kind:return"pipeline-runs";case v.PipelineResourceModel.kind:return"pipeline-resources";case v.ConditionModel.kind:return"conditions";case v.TaskRunModel.kind:return"task-runs";case v.ClusterTaskModel.kind:return"cluster-tasks";case v.TriggerTemplateModel.kind:return"trigger-templates";case v.TriggerBindingModel.kind:return"trigger-bindings";case v.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case v.RepositoryModel.kind:return"repositories";default:return null}},B=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),U=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),$=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),K=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),q=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineModelV1Beta1:v.PipelineModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?v.PipelineRunModelV1Beta1:v.PipelineRunModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?v.TaskModelV1Beta1:v.TaskModel;var H,W,z;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(H||(H={})),function(e){e.EXTERNAL_LINK="external-link"}(W||(W={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(z||(z={}));const Y=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.KEY])===z.SBOM}),J=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.TYPE])===W.EXTERNAL_LINK},X=e=>{var t,n,a,r;return null===(r=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===z.SBOM))||void 0===r?void 0:r.value},Q=e=>{var t,n,a,r;return null===(r=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===z.IMAGE_REPOSITORY))||void 0===r?void 0:r.value},Z=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return f.a.Pending;return Object(y.d)(e)},ee=e=>{var t,n,a;const r=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,i=null==r?void 0:r.match(/(\w+)(?::\s*|\s+)(\d+)/g),o={};null==i||i.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);o[t.trim()]=Number(n.trim())});const s=((null==o?void 0:o.Completed)||0)-((null==o?void 0:o.Failed)||0)-((null==o?void 0:o.Cancelled)||0);return{Running:(null==o?void 0:o.Incomplete)||0,Succeeded:s||0,Cancelled:(null==o?void 0:o.Cancelled)||0,Failed:(null==o?void 0:o.Failed)||0,Skipped:(null==o?void 0:o.Skipped)||0,Completed:(null==o?void 0:o.Completed)||0,Cancelling:(null==o?void 0:o.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),r=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return T}));var a=n(29),r=n(22),i=n(16),o=n(57),s=n(640),l=n(5649),c=n(5),u=n(10),d=n(8),p=n(76),m=n(870),b=n(5586),g=n(5623),v=n(15),f=n(2221),h=n(1400),y=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const E=(e,t=e)=>{switch(t){case f.z:case f.b:return"";default:return e}},O=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const i=[{op:r.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,i)},j=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const r=i.a(t,["metadata","labels","app.kubernetes.io/instance"]),s=i.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[O(e,t,n)];if(!r)return Promise.all(l);return s&&({"app.kubernetes.io/instance":r}["app.kubernetes.io/part-of"]=s),Object(h.e)(t.metadata.namespace,r,{"app.kubernetes.io/part-of":s}).then(e=>(o.a(e,e=>{o.a(e,e=>{!s&&i.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(O(Object(d.vb)(e.kind),e,n))})}),Promise.all(l)))},k=(e,t={},n)=>y(void 0,void 0,void 0,(function*(){var a,r;try{if(n){const n=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),R=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),S=(e,t)=>y(void 0,void 0,void 0,(function*(){var n,a;const r=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},i=Object(l.c)(r["app.openshift.io/vcs-uri"]),o=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let s;if((null==t?void 0:t.length)>0)s=null==t?void 0:t.reduce((t,n)=>{var a,r;return[...t,...(null!==(r=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==r?r:[]).reduce((t,n)=>{var a,r;let s;const l=n.generic?"generic":i,c=n.generic||n[i];if(c){const t=null!==(r=null===(a=c.secretReference)||void 0===a?void 0:a.name)&&void 0!==r?r:`${e.metadata.name}-${l}-webhook-secret`;s=o.find(e=>e.metadata.name===t)}return s?[...t,R(u.SecretModel,s)]:t},[])]},[]);else{const t=o.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=o.find(t=>t.metadata.name===`${e.metadata.name}-${i}-webhook-secret`);s=[R(u.SecretModel,t),R(u.SecretModel,n)]}return s})),T=e=>y(void 0,void 0,void 0,(function*(){const t=[],n=yield k(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield k(u.BuildModel,{ns:e.metadata.namespace}),i=yield k(b.PipelineModel,{ns:e.metadata.namespace},!0),o=yield k(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield k(b.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),f=Object(d.vb)(Object(d.Db)(e)),h={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},y=Object(v.Gc)(e,h),E=!r.a(y),O=Object(g.l)(e,i);let j=[],T=[];const N=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],C=[p.p,u.ImageStreamModel];r.a(O)||(N.push(b.PipelineModel),C.push(b.PipelineModel),j=Object(g.t)(O,o),T=Object(g.g)(j,l));const P=s.a(e),w=(e,n)=>{const a=R(e,n);a&&t.push(a)};E&&y.forEach(e=>{w(u.BuildConfigModel,e)});const D=(e,t)=>{e.forEach(e=>w(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&w(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&w(f,e),j.length>0&&j.forEach(e=>w(b.TriggerTemplateModel,e)),T.length>0&&T.forEach(e=>w(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:w(f,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:w(f,e),D(N,e);break;case p.p.kind:D(C,P);break;case p.b.kind:case p.k.kind:w(f,e)}return E&&t.push(...yield S(e,y)),O&&t.push(...yield S(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,r,i;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(r||(r={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(i||(i={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(r||(r={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5587),r=n(5611),i=n(5616),o=n(5661),s=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:r.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:r.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:r.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:r.b.S2I,expectedRegexp:/^/,priority:0,customDetection:i.a}],c=(e,t,n=!1)=>s(void 0,void 0,void 0,(function*(){let e,i=[],c=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(o.b)(n,t),i=yield Promise.all(l.map(e=>s(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(i=i.filter(e=>e.type!==r.b.SERVERLESS_FUNCTION)),i=i.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:i}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"m",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"r",(function(){return O}));var a=n(2221);const r="event-source",i="event-sink",o="kafka-sink",s="event-source-kafka",l="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",b="revision-traffic",g="knative-revision",v="sink-uri",f=a.h,h=100,y=[a.c,a.c,a.c+10,a.c],E=6,O="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return P}));var a=n(5699),r=n(1403),i=n(5692),o=n(5691),s=n(5654),l=n(2225),c=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),b=n(5617);const g=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(b.c)(n),n},v=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=g(n,"creationTimestamp"),e}),f=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:s.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:o.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:r.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:r.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:i.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:i.chart_color_blue_100}}},h=e=>{var t,n,a,r,i;const o=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),s=(null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.pipelineSpec)||(null===(i=null==e?void 0:e.spec)||void 0===i?void 0:i.pipelineSpec);return o&&s?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:o,namespace:e.metadata.namespace},spec:s}:null},y=(e,t,n)=>{var a,r,i,o,s;const l=(e=>{var t,n,a,r;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(r=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==r?r:0)})(t)-(e=>{var t,n,a,r;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(r=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==r?r:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=c().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.taskRuns)||n){c().forEach(t=>{const a=Object(b.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(b.c)(e)===m.a.Cancelled,r=l>=u?l-u-d:l;t||a?p[m.a.Cancelled]+=r:p[m.a.Pending]+=r}else"False"===(null===(s=null===(o=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.conditions)||void 0===o?void 0:o[0])||void 0===s?void 0:s.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?p[m.a.Cancelled]=l:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?p[m.a.Pending]+=l:p[m.a.PipelineNotStarted]++;return p},E=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,O=e=>(E(e)||p.TaskModel).kind,j=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,k=e=>(j(e)||p.TriggerBindingModel).kind,R=e=>{const t=E(e);return Object(u.Hb)(t)},S=(e,t)=>{const n=t&&y(e,void 0,t);return null==n?void 0:n.Running},T=(e,t)=>!(e&&(S(e,t)>0||Object(b.c)(e)===m.a.Running)),N=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===m.a.Running)),C=(e,t)=>!(e&&S(e,t)>0&&Object(b.c)(e)!==m.a.Cancelled),P=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),r=n(0),i=n(7),o=n(14),s=n(5),l=n(869),c=n(5590),u=n(5598);const d=Object(i.withTranslation)()(class extends r.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return r.createElement(s.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return r.createElement(s.wb,Object.assign({},e),r.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(o.useParams)(),{t:n}=Object(i.useTranslation)();return r.createElement(s.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},r.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(14),i=n(5598);const o=()=>{const e=Object(r.useParams)(),t=e.type;return a.createElement(i.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},r={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},i={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},o={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},s={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},i,r,a,s,l,d,c,u,o],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(5587);function r(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function i(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4359),r=n(5587),i=n(5613),o=n(5615),s=n(5612),l=n(5614);function c(e,t,n,c,u,d,p){let m,b;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=r.e.BASIC_AUTH,b=u.data;break;case a.SecretType.sshAuth:m=r.e.SSH,b=u["ssh-privatekey"];break;default:m=r.e.NO_AUTH}const g={url:e,ref:n,contextDir:c,secretType:m,secretContent:b,devfilePath:d,dockerfilePath:p};switch(t){case r.b.GITHUB:return new s.a(g);case r.b.BITBUCKET:return new i.a(g);case r.b.GITLAB:return new l.a(g);case r.b.GITEA:return new o.a(g);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5709);class r{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"b",(function(){return R})),n.d(t,"i",(function(){return S})),n.d(t,"d",(function(){return T}));var a=n(29),r=n(16),i=n(57),o=n(117),s=n(367),l=n(1401),c=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),b=n(1400),g=n(5589);const v=(e,t)=>{var n,a,r,i,o,s,l,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(i=null===(r=null==e?void 0:e.buildConfigs)||void 0===r?void 0:r.data)||void 0===i?void 0:i.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(s=null===(o=null==e?void 0:e.pipelines)||void 0===o?void 0:o.data)||void 0===s?void 0:s.find(e=>e.metadata.name===t);if(m){const e=null===(c=null===(l=null==m?void 0:m.spec)||void 0===l?void 0:l.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},f=(e,t,n,a,i=!1,o)=>{const{monitoringAlerts:s=[]}=t,c=r.a(e,"metadata.uid"),m=r.a(e,"metadata.labels",{}),b=r.a(e,"metadata.annotations",{}),g=r.a(e,"metadata.name",""),f=v(o,g),h=Object(l.d)("icon-"+m["app.openshift.io/runtime"])||Object(l.d)("icon-"+m["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:i}),data:{monitoringAlerts:s,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:f,builderImage:h||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},h=(e,t,n,a,r,i,o)=>{var s;const l=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(s=null==e?void 0:e.metadata.labels)||void 0===s?void 0:s["app.openshift.io/instance"],p=i||Object(u.Db)(e);return Object.assign(Object.assign({id:l,type:t,label:d||c,shape:o,resource:e,resourceKind:p,data:n},r&&r.length&&{children:r}),a||{})},y={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},E=(e,t)=>{const n=r.a(e,"metadata.annotations"),s=[];return i.a(Object(b.d)(n),n=>{const i=r.a(o.a(t,e=>{var t,a,r,i,o;let s;if("string"==typeof n)return s=null!==(r=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==r?r:null===(i=e.metadata)||void 0===i?void 0:i.name,s===n;s=null===(o=e.metadata)||void 0===o?void 0:o.name;const{apiVersion:l,kind:c,name:u}=n,{kind:d,apiVersion:p}=e;let m=s===u&&d===c;return p&&(m=m&&p===l),m}),["metadata","uid"]),l=r.a(e,["metadata","uid"]);i&&s.push({id:`${l}_${i}`,type:m.v,label:a.a.t("topology~Visual connector"),source:l,target:i})}),s},O=e=>{const t=r.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[r.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},j=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,r,i;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(r=t.data)||void 0===r?void 0:r.groupResources)||(t.data.groupResources=[]),(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},k=(e,t)=>{e&&e.length&&e.forEach(e=>{j(e,t)})},R=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:r}=e;return!r||!!n.find(e=>e(r,t))}))),k(e.nodes.filter(e=>e.group),t.nodes))},S=(e,t,n=g.a)=>s.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let r,i=a;return a&&Object(u.eb)(a)&&(i=Object(u.tb)(a),r=Object(u.o)(a)),Object.assign({kind:i,apiVersion:r},e)}):[])),T=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,r,i,o=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(r||(r={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(i||(i={}));const s={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[r.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[r.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[r.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[r.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:o.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[o.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[o.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(2338),r=n(689),i=n(5591),o=n(5653),s=n(15),l=n(5655),c=n(5621);const u=e=>r.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(o.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?i.b.GITHUB:d(e,"bitbucket.org")?i.b.BITBUCKET:d(e,"gitlab.com")?i.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?i.b.GITEA:i.b.UNSURE:i.b.INVALID,m=e=>{if(s.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return R}));var a,r,i=n(321),o=n(29),s=n(550),l=n(50),c=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),b=n(158),g=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(r||(r={}));const v=(e=r.TEKTON_PIPELINES_CONTROLLER)=>({[g.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:s.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[g.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[g.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),f=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),h=e=>b.b.format(e),y=(e,t,n)=>{const{metric:a,values:r}=e,i=l.a(r,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),o=Number(c.a(i,"[0].x")),s=Number(c.a(u.a(i),"x")),p=n/t;return d.a(o,s,p).forEach((e,t)=>{const n=new Date(e);c.a(i,[t,"x"])>n&&i.splice(t,0,{x:n,y:null,metric:a})}),i},E=(e,t,n)=>{var a;const r=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==r?void 0:r.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,r])=>{var i,o;return{x:null!==(i=null==t?void 0:t(e))&&void 0!==i?i:new Date(1e3*a),y:null!==(o=null==n?void 0:n(r))&&void 0!==o?o:parseFloat(r),metric:null==e?void 0:e.metric,time:a}})})},O=e=>{const t=[];if(!e)return t;const n=Object(i.b)("1d"),a=Math.round(e/n),r=new Date(Date.now());for(r.setHours(0,0,0,0);t.length-1<a;)t.push(r.getTime()),r.setDate(r.getDate()-1);return t.slice(0,a)},j=(e,t)=>{if(0===e)return o.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,r=0,i="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(r=Math.floor(a/60),a%=60),r>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} hour",{count:r}):o.a.t("pipelines-plugin~{{hr}}h",{hr:r}),i+=" "),a>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} minute",{count:a}):o.a.t("pipelines-plugin~{{min}}m",{min:a}),i+=" "),n>0&&(i+=t?o.a.t("pipelines-plugin~{{count}} second",{count:n}):o.a.t("pipelines-plugin~{{sec}}s",{sec:n})),i.trim()},k=()=>({"1d":o.a.t("pipelines-plugin~1 day"),"3d":o.a.t("pipelines-plugin~3 days"),"1w":o.a.t("pipelines-plugin~1 week"),"2w":o.a.t("pipelines-plugin~2 weeks"),"3w":o.a.t("pipelines-plugin~3 weeks"),"4w":o.a.t("pipelines-plugin~4 weeks")}),R=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),r=n(1402);const i=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},o=/ *\([^)]*\) */g,s=e=>e.replace(o,""),l=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:i,kind:o,name:s}=e.spec.ref;return Object(a.n)(r.l)===i&&o===r.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(o).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,r;const i=null==t?void 0:t.find(t=>t.metadata.name===s(e));return i&&(null===(r=null===(a=i.spec)||void 0===a?void 0:a.ref)||void 0===r?void 0:r.name)!==n?i:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),r=n(8),i=n(5663);class o extends i.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(r.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=o},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return N})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return P}));var a=n(5596),r=n(320),i=n(2338),o=n(689),s=n(5621),l=n(5624),c=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),b=n(5586),g=n(5620),v=n(5656),f=n(5588),h=n(5648),y=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const E={dryRun:"All"},O=e=>o.object().shape({name:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:o.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:o.string(),webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>o.object().shape({webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>o.object().shape({repository:o.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===g.a.PAC&&t,then:j(e)})}),R=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),S=e=>s.f.test(e)?R(e,"github.com")?u.b.GITHUB:R(e,"bitbucket.org")?u.b.BITBUCKET:R(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,T=(e,t,n={},i)=>y(void 0,void 0,void 0,(function*(){var o,s,l;const{name:m,gitUrl:g,webhook:{secretObj:v,method:f,token:O,secret:j,user:k}}=e,R=r.Base64.encode(j),T=S(g);let N;O&&"token"===f?N=yield((e,t,n,a,i,o,s)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},o&&{"webhook.secret":o}),i===u.b.BITBUCKET&&{"webhook.auth":r.Base64.encode(`${t}:${n}`)})};return Object(c.g)({model:p.SecretModel,data:l,ns:a,queryParams:s?E:{}})})))(m,k,O,t,T,j,i):"secret"===f&&v&&(null===(o=null==v?void 0:v.data)||void 0===o?void 0:o["webhook.secret"])!==R&&(yield Object(c.p)({model:p.SecretModel,resource:v,data:[{op:"replace",path:"/data/webhook.secret",value:r.Base64.encode(j)}]}));const C=a(g).source,P=N||v,w={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:g},P||"github.com"!==C?{git_provider:Object.assign(Object.assign(Object.assign({},h.j.includes(C)?{}:{url:C}),"bitbucket.org"===C?{user:k}:{}),P?{secret:{name:null===(s=null==P?void 0:P.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==P?void 0:P.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:b.RepositoryModel,data:w,ns:t,queryParams:i?E:{}})})),N=(e,t,n)=>y(void 0,void 0,void 0,(function*(){var a,i,o;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:p,secretObj:m,user:b}}=e,g=S(s),v=Object(u.e)(s,g);let f,h=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(h=!1),f=g===u.b.BITBUCKET?"token"===l?r.Base64.encode(`${b}:${c}`):r.Base64.decode(null===(i=null==m?void 0:m.data)||void 0===i?void 0:i["webhook.auth"]):"token"===l?c:r.Base64.decode(null===(o=null==m?void 0:m.data)||void 0===o?void 0:o["provider.token"]);return yield v.createRepoWebhook(f,p,h,d)})),C=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+i.a(n);var n},P=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:f.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":h.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:f.g,name:v.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(689);const r=/^\/.*$/,i=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(r,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),o=e=>a.object().shape({readinessProbe:i(e),livenessProbe:i(e),startupProbe:i(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",r="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",i="https://api.github.com/app-manifests",o="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s}));const a=e=>"Topology/ComponentFactory"===e.type,r=e=>"Topology/DataModelFactory"===e.type,i=e=>"Topology/CreateConnector"===e.type,o=e=>"Topology/DisplayFilters"===e.type,s=e=>"Topology/Decorator"===e.type},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(2221);const r="operator-backed-service",i=a.h,o=a.f,s=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(447),r=n(1941),i=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=e=>i(void 0,void 0,void 0,(function*(){var t,n,i;if(!(yield e.isFuncYamlPresent()))return{values:{}};const o=yield e.getFuncYamlContent();try{const e=a.a(o)?Object(r.c)(o):o,s=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:s,runtime:c,builderEnvs:l,runtimeEnvs:null===(i=null==e?void 0:e.run)||void 0===i?void 0:i.envs}}}catch(e){return{values:{}}}})),s=(e,t)=>i(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),i=Object(r.c)(e);if(!(null===(n=null==i?void 0:i.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==i?void 0:i.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5663:function(e,t,n){"use strict";var a=n(5585),r=n(5619);const i=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class o extends a.BaseElement{constructor(){super(),this.anchors={[i()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(r.p)(this,{anchors:r.q.shallow,dimensions:r.q.ref,dimensionsInitialized:r.q,position:r.q.ref,nodes:r.i,group:r.q,collapsed:r.q,labelPosition:r.q,shape:r.q,status:r.q,groupBounds:r.i,sourceEdges:r.i,targetEdges:r.i,setDimensions:r.f,setBounds:r.f,setPosition:r.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:r,y:i}=this.position;e.x===r&&e.y===i||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,r=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,i=t.getPosition(),o=new a.Point(i.x+n,i.y+r);t.setPosition(o)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[i(e,t)];return!n&&t&&(n=this.anchors[i(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[i(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[i(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=i(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=o},5664:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(31);const r=()=>Object(a.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5);const r=(e,t)=>{const n=t.current?t.current.pods:t.pods;let r=0,i=0;const o=[],s=[];return(null==n?void 0:n.length)&&n.forEach(({metadata:{name:t}})=>{var n,l;const c=null===(n=null==e?void 0:e.memory)||void 0===n?void 0:n[t];if(Number.isFinite(c)){r+=c;const e=Object(a.Ob)(c)+" MiB";o.push({name:t,value:c,formattedValue:e})}const u=null===(l=null==e?void 0:e.cpu)||void 0===l?void 0:l[t];if(Number.isFinite(u)){i+=u,s[t]=Object(a.Pb)(u)+" cores";const e=Object(a.Pb)(u)+" cores";s.push({name:t,value:u,formattedValue:e})}}),{totalBytes:r,totalCores:i,memoryByPod:o,cpuByPod:s}}},5667:function(e,t,n){"use strict";var a=n(0),r=n(516),i=n(164),o=n(4341),s=n(404),l=n(5794),c=n(5912),u=n(5),d=n(8),p=n(64),m=n(197),b=n(2245);t.a=({obj:e,path:t})=>{var n;const{podData:g,loadError:v,loaded:f}=Object(p.A)(e),h=Object(d.vb)(null==e?void 0:e.kind),y=a.useMemo(()=>f&&!v?Object(m.z)(Object.assign(Object.assign({},g),{obj:e})):{inProgressDeploymentData:null,completedDeploymentData:null},[v,f,g,e]),E=(null==g?void 0:g.current)&&(null==g?void 0:g.current.obj),O=(null==g?void 0:g.previous)&&(null==g?void 0:g.previous.obj),{inProgressDeploymentData:j,completedDeploymentData:k}=y,R=j&&E,S=j&&k?O:E;return f?a.createElement(r.a,{hasGutter:!0},a.createElement(i.a,null,a.createElement(b.a,{key:j?"deploy":"notDeploy",pods:k,rc:(null==g?void 0:g.isRollingOut)?S:null===(n=null==g?void 0:g.current)||void 0===n?void 0:n.obj,resourceKind:h,obj:e,path:t,enableScaling:!(null==g?void 0:g.isRollingOut)})),j&&a.createElement(a.Fragment,null,a.createElement(i.a,null,a.createElement(o.a,null,a.createElement(s.a,{size:"xl"},a.createElement(l.a,{color:c.global_Color_200.value})))),a.createElement(i.a,null,a.createElement(b.a,{pods:j,rc:R,resourceKind:h,obj:e,path:t,enableScaling:!1})))):a.createElement(u.T,null)}},5669:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return b}));const a="OPENSHIFT_PIPELINE",r="OPENSHIFT_PIPELINE_AS_CODE",i="OPENSHIFT_PIPELINE_CONDITION",o="openshift",s="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",m="resource.deleted.in.k8s",b="resource.loaded.from.tektonResults"},5671:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5589);const r=(e,t,n=null)=>Object(a.b)(Object(a.g)(e),Object(a.g)(t),n?Object(a.g)(n):null)},5672:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(5668),i=n(5),o=n(8),s=n(5589);const l=e=>t=>{const n=n=>{const r=Object(s.g)(n.element),l=Object(o.vb)(Object(o.Db)(r)),c=Object(i.Dc)({group:l.apiGroup,verb:e,resource:l.plural,name:r.metadata.name,namespace:r.metadata.namespace});return a.createElement(t,Object.assign({},n,{canEdit:c}))};return n.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(r.a)(n)}},5678:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(22),i=n(15),o=n(5665),s=n(5664);const l=e=>{const t=Object(s.a)(),{podData:n,loaded:l}=Object(i.Se)(e,e.kind,e.metadata.namespace);return a.useMemo(()=>r.a(t)||!l?null:Object(o.a)(t,n),[l,t,n])}},5679:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(7),i=n(131),o=n(15),s=n(5589);const l=e=>Object(i.n)({title:a.createElement(a.Fragment,null,a.createElement(o.tc,{className:"co-icon-space-r"})," ",a.createElement(r.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(s.l)(e).catch(e=>{e&&Object(i.s)({error:e.message})})})},5680:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(7),i=n(131),o=n(5589);const s=(e,t)=>{const n=e.getParent()!==e.getGraph()?e.getParent():void 0;if(n===t)return Promise.reject();if(n){const s=t?"topology~Move component node":"topology~Remove component node from application",l=e.getLabel(),c=n.getLabel(),u=null==t?void 0:t.getLabel(),d=t?a.createElement(r.Trans,{ns:"topology"},"Are you sure you want to move ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c}," to"," ",{targetLabel:u},"?"):a.createElement(r.Trans,{ns:"topology"},"Are you sure you want to remove ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c},"?"),p=t?"topology~Move":"topology~Remove";return new Promise((n,a)=>{Object(i.n)({titleKey:s,message:d,btnTextKey:p,close:()=>{a()},cancel:()=>{a()},executeFn:()=>Object(o.m)(e,t?t.getLabel():null).then(n).catch(e=>{const t=e.message;Object(i.s)({error:t}),a(e)})})})}return Object(o.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(i.s)({error:t})})}},5684:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(8),i=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=(e,t,n,o)=>{const[s,l]=a.useState(),[c,u]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{i(void 0,void 0,void 0,(function*(){try{p(null),u(!1),l(null);const a=yield Object(r.kb)(e,t,n,o);l(a)}catch(e){p(e)}finally{u(!0)}}))},[e,t,n,o]),[s,c,d]}},5686:function(e,t,n){"use strict";var a=n(0);n(5887);t.a=({children:e})=>a.createElement("div",{className:"ocs-sidebar-tabsection"},e)},5687:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return O}));var a=n(225),r=n(16),i=n(499),o=n(1557),s=n(53),l=n(15),c=n(5669),u=n(5586),d=n(5623),p=n(5588),m=n(5725);const b=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},g=(e=null,t,n)=>{var m,g,v,f,h,y;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const E=((e,t)=>{var n,a,r;return e?e.metadata.name:t?null!==(a=null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)&&void 0!==a?a:(null===(r=t.metadata.annotations)||void 0===r?void 0:r[p.z])||t.metadata.name:null})(e,t),O=null==t?void 0:t.spec.workspaces,j=null==t?void 0:t.spec.params,k=null==e?void 0:e.spec.params,R=j||Object(d.m)(k),S=o.a({},null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations,null===(g=null==t?void 0:t.metadata)||void 0===g?void 0:g.annotations,{[p.q.user]:Object(s.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(v=null==t?void 0:t.metadata.annotations)||void 0===v?void 0:v[p.z])&&{[p.z]:E});delete S["kubectl.kubernetes.io/last-applied-configuration"],delete S["tekton.dev/v1beta1TaskRuns"],delete S["results.tekton.dev/log"],delete S["results.tekton.dev/record"],delete S["results.tekton.dev/result"],delete S[c.c],delete S[c.l];return(e=>{let t=e;if(a.a(t,"spec.serviceAccount")){const e=r.a(t,"spec.serviceAccount");t=i.a(t,["spec.serviceAccount"]),t=o.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==n?void 0:n.generateName)?{generateName:E+"-"}:{name:void 0!==(null===(f=null==t?void 0:t.metadata)||void 0===f?void 0:f.name)?`${b(t)}${Object(l.wd)()}`:`${E}-${Object(l.wd)()}`}),{annotations:S,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:o.a({},null===(h=null==e?void 0:e.metadata)||void 0===h?void 0:h.labels,null===(y=null==t?void 0:t.metadata)||void 0===y?void 0:y.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":E})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:E}}),R&&{params:R}),{workspaces:O,status:null})})},v=e=>({volumeClaimTemplate:{metadata:{labels:{[p.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),f=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[p.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),h=e=>t=>{let n={type:p.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(n={type:p.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(n={type:p.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),n)},y=(e,t=!1,n="")=>{const{metadata:{namespace:a},spec:{params:r,resources:i}}=e;return{namespace:a,parameters:(r||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(i||[]).map(e=>({name:e.name,selection:t?m.a:"",data:Object.assign(Object.assign({},m.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(h(n))}},E=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),O=(e,t,n,a,r)=>{const{parameters:i,workspaces:o}=t,s={metadata:{annotations:a,labels:n},spec:{pipelineRef:{name:e.metadata.name},params:i.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(o)}};return g(e,s,r)}},5693:function(e,t,n){"use strict";var a,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e.graph="graph",e.list="list"}(a||(a={})),function(e){e.show="show",e.expand="expand",e.kind="kind"}(r||(r={}));const i="show-regroup-hint"},5694:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(14),o=(n(5950),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});t.a=e=>{var{x:t,y:n,radius:s,href:l,ariaLabel:c,external:u}=e,d=o(e,["x","y","radius","href","ariaLabel","external"]);const p=a.createElement(r.Decorator,Object.assign({x:t,y:n,radius:s,className:"odc-decorator",showBackground:!0},d));return l?u?a.createElement("a",{className:"odc-decorator__link",href:l,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},role:"button","aria-label":c},p):a.createElement(i.Link,{className:"odc-decorator__link",to:l,role:"button","aria-label":c},p):p}},5697:function(e,t,n){"use strict";var a=n(5703);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.c})),n.d(t,"c",(function(){return a.f}));var r=n(5751);n.d(t,"d",(function(){return r.b})),n.d(t,"e",(function(){return r.c})),n.d(t,"f",(function(){return r.g})),n.d(t,"g",(function(){return r.j})),n.d(t,"h",(function(){return r.k})),n.d(t,"i",(function(){return r.m}));var i=n(5881);n.d(t,"j",(function(){return i.a}));var o=n(5882);n.d(t,"l",(function(){return o.a}));var s=n(5773);n.d(t,"k",(function(){return s.a}));n(5883)},5698:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(18),o=n(13),s=n(8),l=n(5589),c=(n(5976),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});t.a=Object(r.observer)(e=>{var{className:t,element:n,endTerminalType:u=r.EdgeTerminalType.directional,onShowRemoveConnector:d,onHideRemoveConnector:p,targetDragRef:m,sourceDragRef:b}=e,g=c(e,["className","element","endTerminalType","onShowRemoveConnector","onHideRemoveConnector","targetDragRef","sourceDragRef"]);const v=Object(l.g)(n.getSource()),f=v&&Object(s.vb)(Object(s.Db)(v)),[h,y]=Object(r.useSelection)({controlled:!0}),E=Object(o.ic)({group:null==f?void 0:f.apiGroup,verb:"patch",resource:null==f?void 0:f.plural,name:null==v?void 0:v.metadata.name,namespace:null==v?void 0:v.metadata.namespace});return a.createElement(r.DefaultEdge,Object.assign({className:i("odc-base-edge",t),element:n,onShowRemoveConnector:E?d:void 0,onHideRemoveConnector:E?p:void 0,targetDragRef:E?m:void 0,sourceDragRef:E?b:void 0,endTerminalType:u,selected:h,onSelect:y},g))})},5700:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var a=n(0),r=n(108),i=n(10),o=n(15),s=n(5594);const l=(e,[t,n])=>n?t.reduce((t,{properties:{adapt:n}})=>{const a=n(e);return null!=a?a:t},void 0):void 0,c=e=>{const t=Object(o.ve)(e),{podData:n,loaded:r,loadError:i}=Object(o.Se)(e);return a.useMemo(()=>({pods:null==n?void 0:n.pods,loaded:r,loadError:i,buildConfigData:t}),[t,i,r,n])},u=e=>{const t=Object(s.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.JobModel.kind,i.PodModel.kind].includes(t.kind))return{resource:t,provider:c}},d=e=>{const t=Object(s.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.CronJobModel.kind].includes(t.kind))return{resource:t,provider:o.ve}},p=e=>{const t=Object(s.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.PodModel.kind].includes(t.kind))return{resource:t}},m=e=>{const{jobs:t}=Object(o.Le)(e),{metadata:{namespace:n}}=e,[i,s]=a.useState([]),[l,c]=a.useState(!1),[u,d]=a.useState(""),p=a.useMemo(()=>Object(o.Fd)("CronJob",n),[n]),m=Object(r.b)(p);return a.useEffect(()=>{const e=Object.keys(m).find(e=>m[e].loadError);if(e)d(m[e].loadError);else if(d(""),Object.keys(m).length>0&&Object.keys(m).every(e=>m[e].loaded)){const e=(null==t?void 0:t.length)?t.reduce((e,t)=>(e.push(...Object(o.vd)(t,m)),e),[]):[];s(e),c(!0)}},[t,m]),{pods:i,loaded:l,loadError:u}},b=e=>{const t=Object(s.f)(e);if(t&&t.kind===i.CronJobModel.kind)return{resource:t,provider:m}}},5702:function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"i",(function(){return V})),n.d(t,"o",(function(){return W})),n.d(t,"h",(function(){return z})),n.d(t,"l",(function(){return Y})),n.d(t,"e",(function(){return J})),n.d(t,"m",(function(){return X})),n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return ee})),n.d(t,"n",(function(){return te}));var a=n(1195),r=n(29),i=n(50),o=n(16),s=n(116),l=n(57),c=n(117),u=n(22),d=n(255),p=n(7146),m=n(655),b=n(499),g=n(1401),v=n(10),f=n(8),h=n(15),y=n(2221),E=n(5647),O=n(5589),j=n(132),k=n(76),R=n(870),S=n(5634),T=n(5726);const N=e=>{switch(e){case T.c.EventSource:case T.c.EventSink:case T.c.EventSourceKafka:case T.c.KafkaSink:return{width:y.m,height:y.k,visible:!0,shape:a.n.rhombus,style:{padding:y.l}};case T.c.KnService:return{width:S.d,height:S.b,visible:!0,collapsed:!1,group:!0,shape:a.n.rect,style:{padding:S.c}};case T.c.PubSub:return{width:y.m,height:y.k/2,visible:!0,shape:a.n.stadium,style:{padding:y.l}};case T.c.SinkUri:return{width:.75*y.m,height:.75*y.k,visible:!0,shape:a.n.circle,style:{padding:y.l}};default:return E.a}},C=({FLAGS:e})=>e.get(j.B),P=e=>{var t;return e.kind!==k.f.kind&&!!(null===(t=e.metadata)||void 0===t?void 0:t.ownerReferences)},w=(e,t,n)=>{var a,r,i;const o=null===(r=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.subscriber)||void 0===r?void 0:r.ref,s=null===(i=null==t?void 0:t.spec)||void 0===i?void 0:i.channel;return(!s||n.metadata.name===s.name&&n.kind===s.kind&&n.apiVersion===s.apiVersion)&&(o&&Object(f.o)(Object(f.Db)(e))===o.apiVersion&&e.metadata.name===o.name)},D=(e,t,n)=>{var a,r,i,o;const{name:s,kind:l,apiVersion:c}=(null===(r=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===r?void 0:r.ref)||{};if(n.metadata.name!==s||n.kind!==l||n.apiVersion!==c)return!1;if(t.kind===k.i.kind)return(null===(i=t.spec)||void 0===i?void 0:i.broker)===e.metadata.name;const u=null===(o=t.spec)||void 0===o?void 0:o.channel;return u&&u.name===e.metadata.name&&u.kind===e.kind&&u.apiVersion===e.apiVersion},_=e=>{var t,n;const a={filters:[]},r=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.attributes;if(r&&!u.a(r))for(const[e,t]of Object.entries(r))a.filters.push({key:e,value:t});return a},x=(e,t)=>t.reduce((t,n)=>{var a,r;return[...t,...null!==(r=null===(a=e[n])||void 0===a?void 0:a.data)&&void 0!==r?r:[]]},[]),A=(e,t)=>{const n=[...Object(R.getDynamicEventSourcesModelRefs)(),k.b.plural];return d.a(x(t,n),(t,n)=>{var a,r;const i=(null===(r=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.ref)||{};return e.kind===i.kind&&e.metadata.name===i.name&&e.apiVersion===i.apiVersion&&t.push(n),t},[])},I=(e,t)=>{const n=Object(R.getDynamicChannelModelRefs)(),a={Broker:[{relatedResource:"ksservices",relationshipResource:"triggers",isRelatedResource:w},{relatedResource:"services",relationshipResource:"triggers",isRelatedResource:w},{relatedResource:"kafkasinks",relationshipResource:"triggers",isRelatedResource:w}],Service:[{relatedResource:"brokers",relationshipResource:"triggers",isRelatedResource:D}]};l.a(n,e=>{a.Service.push({relatedResource:e,relationshipResource:"eventingsubscription",isRelatedResource:D}),a[e]=[{relatedResource:"ksservices",relationshipResource:"eventingsubscription",isRelatedResource:w},{relatedResource:"services",relationshipResource:"eventingsubscription",isRelatedResource:w},{relatedResource:"kafkasinks",relationshipResource:"eventingsubscription",isRelatedResource:w}]});let r=[];if(a[e.kind]||a[Object(f.Db)(e)]){const n=a[e.kind]||a[Object(f.Db)(e)];l.a(n,n=>{var a;const{relatedResource:i,relationshipResource:o,isRelatedResource:s}=n;t[i]&&(null===(a=t[i].data)||void 0===a?void 0:a.length)>0&&(r=r.concat(d.a(t[i].data,(n,a)=>{if(Object(f.Db)(a)!==Object(f.Db)(v.ServiceModel)&&P(a)||!s)return n;const r=(t[o].data||[]).filter(t=>s(a,t,e)).map(e=>Object.assign({kind:Object(f.Db)(e),name:e.metadata.name,namespace:e.metadata.namespace},_(e)));if(r.length>0){const e={kind:Object(f.Db)(a),name:a.metadata.name,namespace:a.metadata.namespace,data:r};n.push(e)}return n},[])))})}return r},M=(e=[])=>{if(0===e.length)return[[],[]];const t=Object(R.getDynamicChannelModelRefs)();return p.a(e,e=>t.includes(e.kind))},L=(e,t)=>{const n={channels:[],brokers:[]};["triggers","eventingsubscription"].forEach(a=>{if(t[a]&&t[a].data.length>0){const r=t[a].data;i.a(r,t=>{var a,r,i,o;if(!P(t)){const s=null===(r=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===r?void 0:r.ref;if(s){const a=e.kind===s.kind&&e.metadata.name===s.name;if(a&&t.kind===k.i.kind){const e=null===(i=t.spec)||void 0===i?void 0:i.broker;n.brokers.includes(e)||n.brokers.push(e)}else if(a){const e=null===(o=t.spec)||void 0===o?void 0:o.channel,{apiVersion:a,name:r,kind:i}=e||{},s=c.a(n.channels,{apiVersion:a,name:r,kind:i});e&&!s&&n.channels.push(e)}}}})}});const a=[],r=e=>{c.a(a,{kind:e.kind,metadata:{name:e.metadata.name}})||a.push(e)};return n.brokers.forEach(e=>{const n=c.a(t.brokers.data,{metadata:{name:e}});(n?A(n,t):[]).forEach(e=>{r(e)})}),n.channels.forEach(e=>{const n=(e=>{const t=Object(R.getDynamicChannelModelRefs)();return c.a(t,t=>e===Object(f.tb)(t))})(e.kind),a=t[n];if(a){const n=c.a(a.data,{metadata:{name:e.name},kind:e.kind});(n?A(n,t):[]).forEach(e=>{r(e)})}}),A(e,t).forEach(e=>{r(e)}),a},F=(e,t)=>{var n,a;const r=Object(h.pd)(e,null===(n=t.configurations)||void 0===n?void 0:n.data);return r&&r.length?Object(h.pd)(r[0],null===(a=t.revisions)||void 0===a?void 0:a.data):[]},B=(e,t,n)=>{var a,r;const i=Object(h.pd)(e,null===(a=t.configurations)||void 0===a?void 0:a.data),o={revisions:F(e,t),configurations:i,ksroutes:t.ksroutes?Object(h.pd)(e,null===(r=t.ksroutes)||void 0===r?void 0:r.data):void 0,eventSources:L(e,t)};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),o):o},U=(e,t)=>{var n;if([j.q,k.b.kind].includes(e.kind)&&t.integrations){const a=Object(h.pd)(e,t.integrations.data);return(null==a?void 0:a.length)>0?Object(h.pd)(a[0],null===(n=t.deployments)||void 0===n?void 0:n.data):[]}return[]},$=(e,t,n)=>{let a=Object(h.pd)(e,t.deployments.data);if(a=[...a,...U(e,t)],!u.a(a)){const r=Object.assign(Object.assign({},a[0]),{apiVersion:Object(f.n)(v.DeploymentModel),kind:v.DeploymentModel.kind}),i={obj:e,associatedDeployment:r};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),i):i}const r=I(e,t),i=B(e,t,n);return Object.assign({obj:e,subscribers:r},i)},K=(e,t,n,a)=>{const r=[],i=[];if(t===T.c.KnService&&a&&a.configurations){const t=Object(h.pd)(e,a.configurations.data),n=o.a(t[0],["metadata","uid"]),c=s.a(a.revisions.data,{metadata:{ownerReferences:[{uid:n}]}});l.a(((e,t)=>{if(o.a(e,"status.traffic",null))return e.status.traffic.reduce((e,n)=>{const a=t.find(e=>n.revisionName===e.metadata.name);return a?[...e,a]:e},[])})(e,c),e=>{const t=e.metadata.uid;i.push(t),r.push(Object(E.h)(e,T.c.Revision,null,N(T.c.Revision)))})}return r.push(Object(E.h)(e,t,n,N(t),i)),r},q=e=>{var t;return null===(t=Object(f.cb)(e))||void 0===t?void 0:t.group},G=(e,{data:t})=>{var n;const a=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,i=o.a(e,"spec.sink.ref",null)||o.a(e,"spec.sink",null),s=[];return i&&l.a(t,e=>{const{apiVersion:t,kind:n,metadata:{uid:o,name:l}}=e;l===i.name&&n===i.kind&&q(t)===q(i.apiVersion)&&s.push({id:`${a}_${o}`,type:T.a.EventSource,label:r.a.t("knative-plugin~Event source connector"),source:a,target:o})}),s},V=(e,t)=>{if(t&&t.length>0&&!u.a(t[0].status)){const n=c.a(t[0].status.traffic,{revisionName:e.metadata.name});return null==n?void 0:n.url}return null},H=(e,t,n,a)=>{var i,o;const s=null===(o=null===(i=e.spec)||void 0===i?void 0:i.sink)||void 0===o?void 0:o.uri;let u=((e,t)=>{var n;const a=c.a(e,({data:e})=>{var n;return t===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.sinkUri)});return null!==(n=null==a?void 0:a.id)&&void 0!==n?n:""})(a.nodes,s);if(s){if(!u){u=encodeURIComponent(s);const e=((e,t)=>{const n=[...Object(R.getDynamicEventSourcesModelRefs)(),k.b.plural];return d.a(x(t,n),(t,n)=>{var a,r;const i=(null===(r=null===(a=n.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.uri)||"";return e===i&&t.push(n),t},[])})(s,t),r={metadata:{uid:u,namespace:n.resources.obj.metadata.namespace||""},spec:{sinkUri:s},kind:S.r},i={id:u,name:"URI",type:T.c.SinkUri,resources:Object.assign(Object.assign({},n.resources),{obj:r,eventSources:e}),data:Object.assign(Object.assign({},n.data),{sinkUri:s}),resource:r};a.nodes.push(...((e,t,n)=>{const a=[],r=N(e);return a.push(Object.assign({id:t,type:e,resource:n.resource,resourceKind:"URI",data:n},r||{})),a})(T.c.SinkUri,u,i))}a.edges.push(...((e,t)=>{var n,a,i;const o=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,s=[];return(null===(i=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.sink)||void 0===i?void 0:i.uri)&&o&&s.push({id:`${o}_${t}`,type:T.a.EventSource,label:r.a.t("knative-plugin~Event source connector"),source:o,target:t}),s})(e,u))}if(!P(e)){const n=Object(R.getDynamicChannelModelRefs)();l.a(n,n=>{t[n]&&a.edges.push(...G(e,t[n]))})}a.edges.push(...G(e,t.brokers))},W=(e,t,n,i)=>{const s={nodes:[],edges:[]};return l.a(e,e=>{var u;const p=$(e,n,i);switch(t){case T.c.KafkaSink:case T.c.EventSink:{const a=((e,t,n)=>{var a,r,i;const o=Object(h.pd)(e,null===(a=n.integrations)||void 0===a?void 0:a.data),s=Object(h.pd)(o[0],null===(r=n.ksservices)||void 0===r?void 0:r.data),l=Object(h.pd)(o[0],null===(i=n.deployments)||void 0===i?void 0:i.data);let c={};return s.length>0&&(c=B(s[0],n)),Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign(Object.assign({},t.resources),{integrations:o,services:s,deployments:l}),c)})})(e,((e,t,n,a=!1)=>({id:o.a(e,"metadata.uid"),name:null==e?void 0:e.metadata.name,type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:a}),data:{kind:Object(f.Db)(e),isKnativeResource:n===T.c.EventSink,kameletType:T.b.Sink}}))(e,p,t),n);s.nodes.push(...K(e,t,a,n)),s.edges.push(...((e,t)=>{var n,a,i,o,s;const l=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,c=null===(i=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.source)||void 0===i?void 0:i.ref;if(!l||!c)return[];let u;const d=Object(f.Db)(c);return u=(null==c?void 0:c.kind)===k.f.kind?t.brokers.data.find(e=>e.metadata.name===c.name):null===(s=null===(o=t[d])||void 0===o?void 0:o.data)||void 0===s?void 0:s.find(e=>e.metadata.name===c.name),u?[{id:`${u.metadata.uid}_${l}`,type:T.a.EventSink,label:r.a.t("knative-plugin~Event sink connector"),target:l,source:u.metadata.uid}]:[]})(e,n));const i=Object(E.g)(e);Object(E.j)(i,s.nodes);break}case T.c.EventSource:{const a=Object(E.c)(e,p,t,Object(g.d)("icon-openshift"));if(Object(f.Db)(e)===Object(f.Hb)(k.b)&&(a.data=Object.assign(Object.assign({},a.data),{kameletType:T.b.Source})),e.kind!==j.w||!(null===(u=e.metadata)||void 0===u?void 0:u.ownerReferences)){const r=((e,t,n)=>{var a,r;const i=[...Object(R.getDynamicEventSourcesModelRefs)(),k.b.plural],o=x(n,i);let s=Object(h.pd)(e,o);if(e.kind===k.b.kind&&(null===(r=null===(a=n.integrations)||void 0===a?void 0:a.data)||void 0===r?void 0:r.length)>0){const t=Object(h.pd)(e,n.integrations.data);s=null==t?void 0:t.reduce((e,t)=>[...e,...Object(h.pd)(t,o)],[])}return Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign({},t.resources),{eventSources:s})})})(e,a,n);s.nodes.push(...K(e,t,r,n)),s.edges.push(...n.ksservices?G(e,n.ksservices):[],...n.kafkasinks?G(e,n.kafkasinks):[]),H(e,n,a,s);const i=Object(E.g)(e);Object(E.j)(i,s.nodes)}break}case T.c.KnService:{const a=((e,t,n,a)=>{var r;const{obj:i}=t,s=o.a(i,"metadata.uid"),l=o.a(i,"metadata.labels",{}),c=o.a(i,"metadata.annotations",{}),u=o.a(i,"metadata.name"),d=Object(E.e)(a,u);return{id:s,name:o.a(i,"metadata.name")||l["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign({},t),data:{url:(null===(r=i.status)||void 0===r?void 0:r.url)||"",kind:Object(f.Db)(i),editURL:c["app.openshift.io/edit-url"],vcsURI:c["app.openshift.io/vcs-uri"],vcsRef:c["app.openshift.io/vcs-ref"],isKnativeResource:!0,contextDir:d}}})(e,p,t,n);s.nodes.push(...K(e,t,a,n)),s.edges.push(...((e,{data:t})=>{const n=o.a(e,["metadata","uid"]),a=o.a(e,["status","traffic"],[]),i=[];return l.a(a,e=>{const a=o.a(e,["revisionName"]),s=o.a(e,["percent"]),l=c.a(t,e=>o.a(e,["metadata","name"])===a),u=o.a(l,["metadata","uid"],null);if(u){const e=m.a(i,e=>e.id===`${n}_${u}`);e>=0?i[e].data.percent+=s:i.push({id:`${n}_${u}`,type:T.a.Traffic,label:r.a.t("knative-plugin~Traffic distribution connector"),source:n,target:u,data:{percent:s}})}}),i})(e,n.revisions));const i=Object(E.g)(e);Object(E.j)(i,s.nodes);break}case T.c.PubSub:if(!P(e)){const a=((e,t,n)=>{const{obj:{metadata:{name:a,uid:r,labels:i}}}=t;return{id:r,name:a||(null==i?void 0:i["app.kubernetes.io/instance"]),type:n,resource:e,resources:Object.assign({},t),data:{kind:Object(f.Db)(t.obj),isKnativeResource:!0}}})(e,((e,t)=>{var n,a,r,i;const{kind:s,metadata:{name:u},spec:p}=e,b=Object(R.getDynamicChannelModelRefs)(),g=Object(h.pd)(e,x(t,b)),f=null!==(a=null===(n=null==t?void 0:t.eventingsubscription)||void 0===n?void 0:n.data)&&void 0!==a?a:[],y=null!==(i=null===(r=null==t?void 0:t.triggers)||void 0===r?void 0:r.data)&&void 0!==i?i:[];let E={};const O=A(e,t),j=d.a(f,(e,n)=>{var a,r;const i=o.a(n,"metadata.uid"),s=(null===(a=null==p?void 0:p.subscribable)||void 0===a?void 0:a.subscribers)||(null==p?void 0:p.subscribers);if(-1!==m.a(s,(function({uid:e}){return e===i}))){e.eventingsubscription.push(n);const a=o.a(n,"spec.subscriber.ref",null);l.a(null===(r=null==t?void 0:t.ksservices)||void 0===r?void 0:r.data,t=>{t.kind===(null==a?void 0:a.kind)&&t.metadata.name===(null==a?void 0:a.name)&&e.ksservices.push(t)})}return e},{eventingsubscription:[],ksservices:[]});return s===k.f.kind&&(E=d.a(y,(e,n)=>{var a,r,i,o,s,l,d,p,m,b,g,v;const f=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.broker,h=c.a(null===(r=null==t?void 0:t.ksservices)||void 0===r?void 0:r.data,{metadata:{name:null===(s=null===(o=null===(i=null==n?void 0:n.spec)||void 0===i?void 0:i.subscriber)||void 0===o?void 0:o.ref)||void 0===s?void 0:s.name},kind:null===(p=null===(d=null===(l=null==n?void 0:n.spec)||void 0===l?void 0:l.subscriber)||void 0===d?void 0:d.ref)||void 0===p?void 0:p.kind,apiVersion:null===(g=null===(b=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.subscriber)||void 0===b?void 0:b.ref)||void 0===g?void 0:g.apiVersion}),y=h&&(null===(v=e.ksservices)||void 0===v?void 0:v.filter(e=>e.metadata.name===h.metadata.name).length)>0;return u===f&&(e.triggers=[...e.triggers,n],e.ksservices=h&&!y?[...e.ksservices,h]:e.ksservices),e},{ksservices:[],triggers:[],pods:[],deployments:[]}),[v.PodModel,v.DeploymentModel].forEach(({kind:e,plural:n})=>{var a;E[n]=null===(a=null==t?void 0:t[n])||void 0===a?void 0:a.data.filter(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["eventing.knative.dev/broker"])===u}).map(t=>Object.assign(Object.assign({},t),{kind:e}))})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({obj:e},g&&{channels:g}),{eventSources:O}),j),E),{subscribers:I(e,t)})})(e,n),t);s.nodes.push(...K(e,t,a,n)),e.kind===k.f.kind?s.edges.push(...((e,t)=>{const{metadata:{uid:n,name:a}}=e,{triggers:r,ksservices:i,kafkasinks:o}=t,s=[...(null==i?void 0:i.data.length)>0?i.data:[],...(null==o?void 0:o.data.length)>0?o.data:[]],u=[];return l.a(null==r?void 0:r.data,r=>{var i,o,l;const d=null===(i=null==r?void 0:r.spec)||void 0===i?void 0:i.broker,p=null===(l=null===(o=r.spec)||void 0===o?void 0:o.subscriber)||void 0===l?void 0:l.ref;if(a===d&&s.length>0){const a=c.a(s,{metadata:{name:p.name}});if(a&&q(p.apiVersion)===Object(f.l)(Object(f.Db)(a))){const{metadata:{uid:i}}=a;u.push({id:`${n}_${i}`,type:T.a.EventPubSubLink,source:n,target:i,data:{resources:{obj:r,eventSources:A(e,t),brokers:[e],subscriberRes:[a],filters:_(r).filters}}})}}}),u})(e,n)):s.edges.push(...((e,t)=>{const{kind:n,metadata:{uid:a,name:r}}=e,{eventingsubscription:i,ksservices:o,kafkasinks:s}=t,c=[...(null==o?void 0:o.data.length)>0?o.data:[],...(null==s?void 0:s.data.length)>0?s.data:[]],u=[];return l.a(null==i?void 0:i.data,i=>{var o,s,d;const p=null===(o=null==i?void 0:i.spec)||void 0===o?void 0:o.channel;if(r===(null==p?void 0:p.name)&&n===(null==p?void 0:p.kind)&&c.length>0){const n=null===(d=null===(s=null==i?void 0:i.spec)||void 0===s?void 0:s.subscriber)||void 0===d?void 0:d.ref;n&&l.a(c,r=>{const{metadata:{uid:o,name:s}}=r;s===n.name&&Object(f.cb)(n.apiVersion).group===Object(f.l)(Object(f.Db)(r))&&u.push({id:`${a}_${o}`,type:T.a.EventPubSubLink,source:a,target:o,data:{resources:{obj:i,eventSources:A(e,t),channels:[e],subscriberRes:[r]}}})})}}),u})(e,n));const r=Object(E.g)(e);Object(E.j)(r,s.nodes)}break;case T.c.EventSourceKafka:{const i=Object(E.c)(e,p,t,Object(g.d)("icon-openshift"));s.nodes.push(...K(e,t,i,n)),s.edges.push(...((e,t)=>{if(!(null==t?void 0:t.data))return[];const{data:n}=t;return n.reduce((t,n)=>{var i,o,s,l,c,u,d,p,m,b,g,v,f,h,y,E,O,j;const k=null===(o=null===(i=null==n?void 0:n.spec)||void 0===i?void 0:i.credentials)||void 0===o?void 0:o.serviceAccountSecretName,R=null===(d=null===(u=null===(c=null===(l=null===(s=e.spec)||void 0===s?void 0:s.net)||void 0===l?void 0:l.sasl)||void 0===c?void 0:c.password)||void 0===u?void 0:u.secretKeyRef)||void 0===d?void 0:d.name,S=null===(v=null===(g=null===(b=null===(m=null===(p=e.spec)||void 0===p?void 0:p.net)||void 0===m?void 0:m.sasl)||void 0===b?void 0:b.user)||void 0===g?void 0:g.secretKeyRef)||void 0===v?void 0:v.name,N=null===(f=n.status)||void 0===f?void 0:f.bootstrapServerHost;if(k&&k===R&&k===S&&N&&(null===(h=e.spec)||void 0===h?void 0:h.bootstrapServers.includes(N))){const i=`${null===(y=null==e?void 0:e.metadata)||void 0===y?void 0:y.uid}_${null===(E=null==n?void 0:n.metadata)||void 0===E?void 0:E.uid}`;t.push({id:i,type:T.a.EventSourceKafkaLink,edgeStyle:a.f.dashedMd,label:r.a.t("knative-plugin~Kafka connector"),source:null===(O=e.metadata)||void 0===O?void 0:O.uid,target:null===(j=n.metadata)||void 0===j?void 0:j.uid})}return t},[])})(e,n.kafkaConnections),...G(e,n.ksservices),...G(e,n.kafkasinks)),H(e,n,i,s);const o=Object(E.g)(e);Object(E.j)(o,s.nodes);break}}}),s},z=(e,t,n)=>{const a={};return l.a(e,e=>{const{uid:r}=e.metadata,i=$(e,t,n);a[r]=Object(E.c)(e,i,T.c.Revision,Object(g.d)("icon-openshift"))}),a},Y=(e,t)=>{const n=Object(R.getDynamicEventSourcesModelRefs)();return!!c.a(x(t,n),t=>{var n,a,r;return null===(r=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[j.f])||void 0===r?void 0:r.startsWith(t.metadata.name)})},J=e=>{var t,n,a,r,i,o;const s=null!==(n=null===(t=null==e?void 0:e.kameletbindings)||void 0===t?void 0:t.data)&&void 0!==n?n:[],l=((null===(r=null===(a=null==e?void 0:e.kamelets)||void 0===a?void 0:a.data)||void 0===r?void 0:r.length)>0?e.kamelets.data:null!==(o=null===(i=null==e?void 0:e.kameletGlobalNS)||void 0===i?void 0:i.data)&&void 0!==o?o:[]).filter(e=>"sink"===e.metadata.labels["camel.apache.org/kamelet.type"]);return s.reduce(({camelSinkKameletBindings:e,camelSourceKameletBindings:t},n)=>{var a,r,i;const o=null===(i=null===(r=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.ref)||void 0===i?void 0:i.name;return l.findIndex(e=>e.metadata.name===o)>-1?e.push(n):t.push(n),{camelSinkKameletBindings:e,camelSourceKameletBindings:t}},{camelSinkKameletBindings:[],camelSourceKameletBindings:[]})},X=(e,t)=>!!c.a(t,t=>{var n,a,r;return null===(r=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[j.f])||void 0===r?void 0:r.startsWith(t.metadata.name)}),Q=(e,t)=>{if(!e||!t||e===t)return Promise.reject();return((e,t)=>{var n;if(!e||!t||e===t)return Promise.reject();const a=b.a(e,"status");let r={};if(t.kind===S.r)r={uri:null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.sinkUri};else{const e=o.a(t,"metadata.name");r={ref:{apiVersion:t.apiVersion,kind:t.kind,name:e}}}const i=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{sink:r})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(e)),i)})(Object(O.g)(e),Object(O.g)(t))},Z=(e,t)=>{var n,a,i;if(!e||!t||e===t)return Promise.reject();const o=Object(O.g)(e),s=Object(O.g)(t),l=null===(n=null==s?void 0:s.status)||void 0===n?void 0:n.bootstrapServerHost,c=null===(i=null===(a=null==s?void 0:s.spec)||void 0===a?void 0:a.credentials)||void 0===i?void 0:i.serviceAccountSecretName,u=b.a(o,"status");if(!l||!c)return Promise.reject(new Error(r.a.t("knative-plugin~Unable to create kafka connector as bootstrapServerHost or secret is not available in target resource.")));const d=Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},u.spec),{bootstrapServers:[l],net:{sasl:{enable:!0,user:{secretKeyRef:{name:c,key:"client-id"}},password:{secretKeyRef:{name:c,key:"client-secret"}}},tls:{enable:!0}}})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(u)),d)},ee=(e,t)=>{const{resources:n}=e.getData(),a=t.getData();if(!a||!(null==n?void 0:n.obj))return Promise.reject();const r=Object(O.k)(a);return((e,t)=>{var n;if(!e||!t)return Promise.reject();const a=b.a(e,"status"),r={ref:{apiVersion:t.apiVersion,kind:t.kind,name:null===(n=t.metadata)||void 0===n?void 0:n.name}},i=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{subscriber:Object.assign({},r)})});return Object(f.rb)(Object(f.vb)(Object(f.Db)(a)),i)})(n.obj,r)},te=e=>{if(!e)return!1;const{metadata:{labels:t}}=e;return!(!(null==t?void 0:t[j.Z])&&!(null==t?void 0:t[j.ab]))}},5703:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(5693);const r="show-pod-count",i="show-labels",o="expand-app-groups",s="expand-groups",l=[{type:a.b.expand,id:s,labelKey:"topology~Expand groups",priority:1,value:!0},{type:a.b.show,id:r,labelKey:"topology~Pod count",priority:10,value:!1},{type:a.b.show,id:i,labelKey:"topology~Labels",priority:900,value:!0},{type:a.b.expand,id:o,labelKey:"topology~Application groupings",priority:10,value:!0}],c=[r,i]},5705:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return O}));var a=n(0),r=n(283),i=n(13),o=n(77),s=n(519),l=n(15),c=n(5586),u=n(5588),d=n(5650),p=n(5899),m=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const b=e=>m(void 0,void 0,void 0,(function*(){const t=(yield Object(o.l)(s.a,{ns:e})).filter(e=>{var t,n,a,r,i;return((null===(n=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===n?void 0:n.startsWith("openshift-pipelines-operator"))||(null===(r=null===(a=e.metadata)||void 0===a?void 0:a.name)||void 0===r?void 0:r.startsWith("redhat-openshift-pipelines")))&&(null===(i=e.status)||void 0===i?void 0:i.phase)===s.b.CSVPhaseSucceeded}).map(e=>Object(r.parse)(e.spec.version)).filter(Boolean);return t.sort(r.compare),t.length>0?t[t.length-1]:null})),g=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{b(e).then(n).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},v=e=>!!e&&Object(r.gte)(e.version,u.i),f=e=>!!e&&Object(r.gte)(e.version,u.s),h=e=>{const t=g(e),[n]=Object(p.b)(),[a]=Object(i.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var o;return{metricsLevel:!!(o=t)&&Object(r.gt)(o.version,u.m)?Object(p.a)(n):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!v(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:a}},y=e=>{const[t]=Object(l.ue)(),n=g(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=11;e(u.f,a)},E=e=>{const[t]=Object(l.ue)(),n=g(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=16;e(u.d,a)},O=e=>{const[t]=Object(l.ue)(),n=g(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=17;e(u.e,a)}},5721:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(400),r=n(8);const i=e=>{var t,n,r;const i=null===(r=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.spec)||void 0===r?void 0:r.containers;return a.a(i,e=>e.readinessProbe||e.livenessProbe||e.startupProbe)},o=(e,t)=>{var n,a,i,o;const{kind:s,metadata:{name:l,namespace:c}}=t,u=e.crd?Object(r.Db)(t):s,d=null===(i=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers;return`/k8s/ns/${c}/${u}/${l}/containers/${null===(o=null==d?void 0:d[0])||void 0===o?void 0:o.name}/health-checks`},s=(e,t)=>({labelKey:"console-app~Add Health Checks",hidden:i(t),href:o(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),l=(e,t)=>({labelKey:"console-app~Edit Health Checks",hidden:!i(t),href:o(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"get"}})},5722:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(29),r=n(131),i=n(5),o=n(8);const s={Delete:(e,t,n,o)=>({id:"delete-resource",label:a.a.t("console-app~Delete {{kind}}",{kind:e.kind}),cta:()=>Object(r.q)({kind:e,resource:t,message:o}),accessReview:Object(i.Eb)(e,t,"delete")}),Edit:(e,t)=>({id:"edit-resource",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(i.sc)(t,e.crd?Object(o.Hb)(e):e.kind)+"/yaml"},accessReview:Object(i.Eb)(e,t,"update")}),ModifyLabels:(e,t)=>({id:"edit-labels",label:a.a.t("console-app~Edit labels"),cta:()=>Object(r.v)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyAnnotations:(e,t)=>({id:"edit-annotations",label:a.a.t("console-app~Edit annotations"),cta:()=>Object(r.b)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyCount:(e,t)=>({id:"edit-pod-count",label:a.a.t("console-app~Edit Pod count"),cta:()=>Object(r.l)({resourceKind:e,resource:t}),accessReview:Object(i.Eb)(e,t,"patch","scale")}),ModifyPodSelector:(e,t)=>({id:"edit-pod-selector",label:a.a.t("console-app~Edit Pod selector"),cta:()=>Object(r.x)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyTolerations:(e,t)=>({id:"edit-toleration",label:a.a.t("console-app~Edit tolerations"),cta:()=>Object(r.D)({resourceKind:e,resource:t,modalClassName:"modal-lg"}),accessReview:Object(i.Eb)(e,t,"patch")}),AddStorage:(e,t)=>({id:"add-storage",label:a.a.t("console-app~Add storage"),cta:{href:Object(i.sc)(t,e.crd?Object(o.Hb)(e):e.kind)+"/attach-storage"},accessReview:Object(i.Eb)(e,t,"patch")})},l=(e,t,n)=>[s.ModifyLabels(e,t),s.ModifyAnnotations(e,t),s.Edit(e,t),s.Delete(e,t,void 0,n)]},5725:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(5588);const r="#CREATE_PIPELINE_RESOURCE#",i={[a.o.git]:{params:{url:"",revision:""}},[a.o.image]:{params:{url:""}},[a.o.storage]:{params:{type:"",location:"",dir:""}},[a.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5726:function(e,t,n){"use strict";var a,r,i;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.EventSource="event-source",e.EventSink="event-sink",e.KnService="knative-service",e.Revision="knative-revision",e.PubSub="event-pubsub",e.SinkUri="sink-uri",e.EventSourceKafka="event-source-kafka",e.Kafka="knative-kafka",e.KafkaSink="kafka-sink"}(a||(a={})),function(e){e.Traffic="revision-traffic",e.EventSource="event-source-link",e.EventSink="event-sink-link",e.EventPubSubLink="event-pubsub-link",e.EventSourceKafkaLink="event-source-kafka-link"}(r||(r={})),function(e){e.Sink="Sink",e.Source="Source"}(i||(i={}))},5730:function(e,t,n){"use strict";var a=n(0),r=n(6024),i=n(5585);t.a=({id:e,dx:t=0,dy:n=1,stdDeviation:o=2,floodColor:s=r.global_palette_black_1000.value,floodOpacity:l=.2})=>window.navigator.userAgent.includes("Edge")?a.createElement(i.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*o}%`,y:`-${12.5*o}%`,width:100+25*o+"%",height:100+25*o+"%"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:o}),a.createElement("feOffset",{dx:t,dy:n,result:"offsetblur"}),a.createElement("feFlood",{floodColor:s,floodOpacity:l}),a.createElement("feComposite",{in2:"offsetblur",operator:"in"}),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"})))):a.createElement(i.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*o}%`,y:`-${12.5*o}%`,width:100+25*o+"%",height:100+25*o+"%"},a.createElement("feDropShadow",{dx:t,dy:n,stdDeviation:o,floodColor:s,floodOpacity:l})))},5732:function(e,t,n){},5741:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v}));var a=n(5585),r=n(29),i=n(5),o=n(8),s=n(5634),l=n(5829),c=n(5920),u=n(2221),d=n(5594),p=n(5589);const m=(e,t)=>{const n=e.getSource().getSourceEdges().map(e=>e.getTarget().getId());return t.filter(t=>{if(t.getId()===e.getSource().getId())return!1;if(t.getId()!==e.getTarget().getId()&&n.includes(t.getId()))return!1;if(t.getType()===s.i)return!1;switch(e.getType()){case u.v:return t.getType()!==s.n&&t.getType()!==s.o;case u.w:return!1;case s.k:return t.getType()===s.o||t.getType()===s.e;case s.p:case u.x:return!1;case s.l:return t.getType()===l.d;default:return!0}}).sort((e,t)=>e.getLabel().localeCompare(t.getLabel()))},b=(e,t)=>{const n=Object(p.g)(t.getSource()),o=t.getController().getElements().filter(e=>Object(a.isNode)(e)&&!e.isGroup()),s=m(t,o);return{id:"move-visual-connector",label:r.a.t("topology~Move connector"),cta:()=>{Object(c.a)({edge:t,availableTargets:s})},disabled:s.length<=1,accessReview:Object(i.Eb)(e,n,"delete")}},g=(e,t)=>{const n=Object(p.g)(t.getSource());return{id:"delete-connector",label:r.a.t("topology~Delete connector"),cta:()=>{Object(d.j)(t)},accessReview:Object(i.Eb)(e,n,"delete")}},v=(e,t)=>{const n=[],a=m(e,t);return n.push(((e,t)=>{const n=Object(p.g)(e.getSource()),a=Object(o.vb)(Object(o.Db)(n));return{labelKey:"topology~Move connector",callback:()=>{Object(c.a)({edge:e,availableTargets:t})},isDisabled:t.length<=1,accessReview:Object(i.Eb)(a,n,"delete")}})(e,a)),n}},5742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Promise.all([n.e(0),n.e(1),n.e(20),n.e(261)]).then(n.bind(null,6018)).then(t=>t.resourceLimitsModal(e))},5750:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(29),r=n(5921);const i=(e,t,n)=>{var i;return{id:"modify-application",label:a.a.t("topology~Edit application grouping"),insertBefore:null!=n?n:"edit-pod-count",cta:()=>Object(r.a)({resourceKind:e,resource:t,blocking:!0,initialApplication:""}),accessReview:{verb:"patch",group:e.apiGroup,resource:e.plural,namespace:null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.namespace}}}},5751:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"k",(function(){return f})),n.d(t,"m",(function(){return h}));var a=n(5),r=n(5693),i=n(5703);const o="searchQuery",s="labels";var l;!function(e){e.Name="Name",e.Label="Label"}(l||(l={}));const c=e=>{e.length>0?Object(a.wc)(o,e):Object(a.qc)(o)},u=()=>{c("")},d=()=>{Object(a.qc)(s)},p=()=>{u(),d()},m=e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.plugins)||void 0===t?void 0:t.devconsole)||void 0===n?void 0:n.topology;return a?a.get("supportedFilters"):i.b.map(e=>e.id)},b=e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.plugins)||void 0===t?void 0:t.devconsole)||void 0===n?void 0:n.topology;return a?a.get("supportedKinds"):{}},g=()=>{var e,t;return null!==(t=null!==(e=Object(a.Tb)(o))&&void 0!==e?e:Object(a.Tb)(s))&&void 0!==t?t:""},v=(e,t)=>t?t.find(t=>t.id===e):null,f=(e,t)=>{var n,a;if(!t)return!0;if(!(null===(a=null===(n=v(i.d,t))||void 0===n?void 0:n.value)||void 0===a||a))return!1;const o=v(e,t);return!o||o.type!==r.b.expand||o.value},h=(e,t)=>{var n,a;if(!t||!e)return!0;return 0===t.filter(e=>e.type===r.b.kind&&e.value).length||null!==(a=null===(n=v(e,t))||void 0===n?void 0:n.value)&&void 0!==a&&a}},5757:function(e,t,n){"use strict";var a=n(5762);n.d(t,"a",(function(){return a.a}));var r=n(5886);n.d(t,"e",(function(){return r.a})),n.d(t,"f",(function(){return r.b}));var i=n(5777);n.d(t,"d",(function(){return i.a}));var o=n(5888);n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b}))},5758:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),r=n(18),i=n(54),o=n(14),s=n(40),l=n(7),c=n(29),u=n(5);const d=["","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),u.F.columnClass],p=({obj:e,kind:t,menuActions:n,customActionMenu:i,customData:c})=>{const{t:p}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.k,{className:d[0]},a.createElement(u.hb,{kind:t,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(s.k,{className:r(d[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(s.k,{className:d[2]},a.createElement(o.Link,{to:Object(u.tc)(t,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},p("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(s.k,{className:d[3]},a.createElement(u.L,{kind:t,labels:e.metadata.labels})),a.createElement(s.k,{className:d[4]},a.createElement(u.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(s.k,{className:d[5]},i||a.createElement(u.gb,{actions:n,kind:t,resource:e,customData:c})))};p.displayName="WorkloadTableRow";const m=()=>[{title:c.a.t("public~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:d[0]}},{title:c.a.t("public~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:d[1]},id:"namespace"},{title:c.a.t("public~Status"),sortFunc:"numReplicas",transforms:[i.a],props:{className:d[2]}},{title:c.a.t("public~Labels"),sortField:"metadata.labels",transforms:[i.a],props:{className:d[3]}},{title:c.a.t("public~Pod selector"),sortField:"spec.selector",transforms:[i.a],props:{className:d[4]}},{title:"",props:{className:d[5]}}];m.displayName="WorkloadTableHeader"},5760:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(7134),r=n(2328),i=n(7116),o=n(50),s=n(10),l=n(8),c=n(1415),u=n(5586),d=n(5687);const p=e=>a.a(e,e=>r.a(e)||i.a(e)||""===e),m=(e,t,n,a)=>{const r=`${t}-${Object(c.d)(6)}`,i={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:r,namespace:n},spec:Object.assign({type:t,params:Object(d.a)(p(e))},a&&{secrets:o.a(a.data,(e,t)=>({fieldName:t,secretKey:t,secretName:a.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,i)},b=(e,t,n)=>{const a={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:n},stringData:p(e)};return Object(l.jb)(s.SecretModel,a)}},5761:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),r=n(5585),i=n(13),o=n(8),s=n(15),l=n(1421),c=n(5594);const u=e=>Object(s.me)(e).map(e=>{switch(Object(s.cd)(e)){case i.o.SUB_MENU:return a.createElement(r.ContextSubMenuItem,{label:e.label,key:e.id},u(e.children));case i.o.GROUP_MENU:return a.createElement(a.Fragment,{key:e.id},e.label&&a.createElement("h1",{className:"pf-v5-c-dropdown__group-title"},e.label),u(e.children));default:return a.createElement(l.a,{key:e.id,action:e,component:r.ContextMenuItem})}}),d=(e,t)=>({"topology-context-actions":{element:e,connectorSource:t}}),p=(e,t)=>({"topology-context-actions":{element:e,connectorSource:t}}),m=e=>{var t,n;const a=Object(c.f)(e),{csvName:r}=null!==(n=null===(t=e.getData())||void 0===t?void 0:t.data)&&void 0!==n?n:{};return Object.assign(Object.assign({"topology-actions":e},a?{[Object(o.Db)(a)]:a}:{}),r?{"csv-actions":{csvName:r,resource:a}}:{})}},5762:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(18),o=n.n(i),s=n(5),l=n(8),c=n(15),u=n(5873),d=n(5697),p=n(5809),m=n(5589),b=n(5810),g=(n(5885),n(5989),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});t.a=Object(r.observer)(e=>{var t,{className:n,innerRadius:i,icon:v,kind:f,element:h,hoverRef:y,children:E,onShowCreateConnector:O,onContextMenu:j,contextMenuOpen:k,createConnectorAccessVerb:R="patch",createConnectorDrag:S,alertVariant:T}=e,N=g(e,["className","innerRadius","icon","kind","element","hoverRef","children","onShowCreateConnector","onContextMenu","contextMenuOpen","createConnectorAccessVerb","createConnectorDrag","alertVariant"]);const[C,P]=a.useState(!1),[w,D]=Object(u.a)(200,200,[C]),_=Object(r.useCombineRefs)(D,y),{width:x,height:A}=h.getDimensions(),I=x/2,M=A/2,L=Object(m.k)(h.getData()),F=Object(l.vb)(Object(l.Db)(L)),B=.9*i,U=Object(s.Dc)({group:null==F?void 0:F.apiGroup,verb:R,resource:null==F?void 0:F.plural,name:L.metadata.name,namespace:L.metadata.namespace}),[$]=Object(d.l)(h.getLabel(),null===(t=null==L?void 0:L.metadata)||void 0===t?void 0:t.labels),K=Object(p.a)(w||k),q=f&&Object(b.a)(f),G=h.getController().getGraph().getDetailsLevel(),V=w||k||G!==r.ScaleDetailsLevel.low,H=q?o()("odc-resource-icon",{["odc-resource-icon-"+q.kindStr.toLowerCase()]:!q.kindColor}):"";return a.useEffect(()=>{S||P(e=>!e)},[S]),a.createElement(r.Layer,{id:w||k?r.TOP_LAYER:r.DEFAULT_LAYER},a.createElement("g",{ref:_,"data-test-id":h.getLabel()},a.createElement(r.DefaultNode,Object.assign({className:o()("odc-base-node",n,T&&r.StatusModifier[T],{"is-filtered":$}),truncateLength:c.Ib,element:h,showLabel:K,scaleNode:(w||k)&&G!==r.ScaleDetailsLevel.high,onShowCreateConnector:U&&G!==r.ScaleDetailsLevel.low&&O,onContextMenu:j,contextMenuOpen:k,badge:null==q?void 0:q.kindAbbr,badgeColor:null==q?void 0:q.kindColor,badgeClassName:H,showStatusBackground:!V},N),a.createElement("g",{"data-test-id":"base-node-handler"},v&&V&&a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--pf-v5-global--palette--white)",cx:I,cy:M,r:i+6}),a.createElement("image",{x:I-B,y:M-B,width:2*B,height:2*B,xlinkHref:v})),V&&E))))})},5763:function(e,t,n){"use strict";var a=n(0),r=n(5694),i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=e=>{var{children:t,radius:n,x:o,y:s}=e,l=i(e,["children","radius","x","y"]);return a.createElement(r.a,Object.assign({x:o,y:s,radius:n},l),a.createElement("g",{transform:`translate(-${n/2}, -${n/2})`},a.createElement("foreignObject",{width:n,height:n,style:{fontSize:n}},t)))}},5765:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(5585),o=n(18),s=n(5),l=n(15),c=n(5697),u=n(5774),d=n(5775),p=n(5776),m=(n(5984),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});const b={length:l.Ib};t.a=Object(i.observer)(e=>{var{element:t,bgClassName:n,badge:l,badgeColor:g,badgeClassName:v,children:f,emptyValue:h,typeIconClass:y}=e,E=m(e,["element","bgClassName","badge","badgeColor","badgeClassName","children","emptyValue","typeIconClass"]);const O=a.useRef(),[j]=Object(c.l)(t.getLabel()),[k,R]=Object(i.useHover)(),[S,T]=Object(i.useSize)([l]),N=S?S.width:0,C=S?S.height:0,P=t.getLabel(),{groupResources:w}=t.getData(),[D,_]=Object(i.useSize)([w]),x=D?D.width:0,A=D?D.height:0;Object(i.useAnchor)(a.useCallback(e=>new d.a(e,x,A,1.5),[x,A]));return a.createElement(i.DefaultNode,Object.assign({element:t,className:o("odc-group-node",{"is-filtered":j}),badge:l,badgeColor:g,badgeClassName:v,showLabel:!1,getCustomShape:()=>()=>a.createElement("rect",{className:o("odc-group-node__bg",n),x:0,y:0,width:x,height:A,rx:"5",ry:"5"})},E),a.createElement("g",{ref:_},y&&a.createElement(u.a,{className:"odc-group-node__type-icon",x:10,y:-10,width:20,height:20,iconClass:y}),a.createElement("g",{ref:_},a.createElement(i.LabelBadge,{ref:T,x:20,y:18,badge:l,badgeClassName:v,badgeColor:g}),P&&a.createElement("g",{ref:R},a.createElement(r.a,{content:P,position:r.b.top,trigger:"manual",isVisible:k&&Object(s.xc)(P,b),triggerRef:O},a.createElement("text",{ref:O,className:"odc-group-node__title",x:20+N+10,y:20+C,textAnchor:"start",dy:"-0.25em"},Object(s.Bc)(P,b)))),(f||w||h)&&a.createElement("g",{transform:`translate(20, ${20+C})`},(w||h)&&a.createElement(p.a,{groupResources:w,emptyValue:h}),f))))})},5766:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5742);const r=(e,t)=>({labelKey:"console-app~Edit resource limits",callback:()=>Object(a.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}})},5767:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(10),r=n(8),i=n(15);const o=e=>Array.isArray(null==e?void 0:e.hpas)&&e.hpas.length>0,s=({metadata:{name:e,namespace:t}},n)=>`/workload-hpa/ns/${t}/${Object(r.Hb)(n)}/${e}`,l=(e,t)=>Object(i.Qd)(e)||((e,t)=>(null==t?void 0:t.isOperatorBacked)||Object(i.Ud)(e,null==t?void 0:t.csvs))(e,t),c=(e,t,n,r)=>({labelKey:"console-app~Add HorizontalPodAutoscaler",href:s(t,e),hidden:o(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"create"}}),u=(e,t,n,r)=>({labelKey:"console-app~Edit HorizontalPodAutoscaler",href:s(t,e),hidden:!o(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"update"}}),d=(e,t,n,r)=>({labelKey:"console-app~Remove HorizontalPodAutoscaler",callback:()=>{var e;Object(i.zc)({workload:t,hpa:null===(e=null==n?void 0:n.hpas)||void 0===e?void 0:e[0]})},hidden:!o(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"delete"}}),p=e=>(t,n,a)=>{const r=e(t,n);return Object.assign(Object.assign({},r),{hidden:o(a)||r.hidden})}},5768:function(e,t,n){"use strict";var a=n(5769);n.d(t,"f",(function(){return a.a})),n.d(t,"h",(function(){return a.c})),n.d(t,"p",(function(){return a.e})),n.d(t,"r",(function(){return a.f})),n.d(t,"s",(function(){return a.i})),n.d(t,"t",(function(){return a.j})),n.d(t,"u",(function(){return a.k})),n.d(t,"v",(function(){return a.l})),n.d(t,"w",(function(){return a.m})),n.d(t,"x",(function(){return a.n})),n.d(t,"y",(function(){return a.o}));var r=n(5875);n.d(t,"q",(function(){return r.a}));n(5770);var i=n(5757);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"e",(function(){return i.c})),n.d(t,"l",(function(){return i.d})),n.d(t,"n",(function(){return i.e})),n.d(t,"o",(function(){return i.f}));var o=n(5771);n.d(t,"a",(function(){return o.b})),n.d(t,"d",(function(){return o.d})),n.d(t,"m",(function(){return o.e}));var s=n(5772);n.d(t,"g",(function(){return s.b}));var l=n(5889);n.d(t,"i",(function(){return l.a})),n.d(t,"j",(function(){return l.b})),n.d(t,"k",(function(){return l.c}))},5769:function(e,t,n){"use strict";n.d(t,"m",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return N})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"o",(function(){return R})),n.d(t,"n",(function(){return S})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return g}));var a=n(5585),r=n(29),i=n(5619),o=n(131),s=n(5594),l=n(5770),c=n(5974),u=(n(5975),function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))});const d="#moveConnector#",p="#node#",m="#edge#",b=(e,t,n)=>t.getSource()!==n&&(t.getTarget()===n||!n.getTargetEdges().find(e=>e.getSource()===t.getSource())),g=(e,t)=>{const n=e.getOperation();return!(!e.isDragging()||!n)&&(n.type===a.CREATE_CONNECTOR_OPERATION?e.getItem()!==t&&e.getItem().getParent()!==t&&!e.getItem().getSourceEdges().find(e=>e.getTarget()===t):n.canDropOnNode&&n.canDropOnNode(n.type,e.getItem(),t))},v=(e,t=!0,n=!1)=>({item:{type:p},operation:(e,r)=>(n||r.canEdit)&&t&&Object(l.c)(r.element)?{[a.Modifiers.SHIFT]:{type:"regroup",edit:!0}}:void 0,canCancel:e=>{var t;return"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type)},begin:(e,a)=>({element:a.element,allowRegroup:(n||a.canEdit)&&t&&Object(l.c)(a.element)}),end:(e,t,n)=>u(void 0,void 0,void 0,(function*(){var r;if(!t.isCancelled()&&"regroup"===(null===(r=t.getOperation())||void 0===r?void 0:r.type)){if(!(t.didDrop()&&e&&n&&n.element.getParent()!==e))return Promise.reject();{const t=n.element.getController();yield Object(s.i)(n.element,Object(a.isNode)(e)?e:null),Object(i.f)(()=>{t.getNodeById(n.element.getId())&&e.appendChild(n.element)})()}}})),collect:e=>{var t;return{dragging:e.isDragging(),regrouping:"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type)}}}),f={item:{type:p},collect:e=>({dragging:e.isDragging()})},h=(e,t)=>{var n,r;return!!e.isDragging()&&("moveconnector"===(null===(n=e.getOperation())||void 0===n?void 0:n.type)?e.getItem().getSource()===t.element:(null===(r=e.getOperation())||void 0===r?void 0:r.type)===a.CREATE_CONNECTOR_OPERATION&&e.getItem()===t.element)},y={accept:[m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:(e,t,n)=>{var r;return Object(a.isEdge)(e)?b(null===(r=t.getOperation())||void 0===r?void 0:r.type,e,n.element):!(!n.element||e===n.element)&&!n.element.getTargetEdges().find(t=>t.getSource()===e)},collect:(e,t)=>({canDrop:g(e,t.element),dropTarget:e.isOver({shallow:!0}),edgeDragging:h(e,t)})},E={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],hitTest:()=>!0,canDrop:(e,t,n)=>{var r;return t.isOver({shallow:t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE})&&("regroup"===(null===(r=t.getOperation())||void 0===r?void 0:r.type)&&e.element.hasParent()&&e.element.getParent()!==n.element||t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE)},collect:e=>{const t=e.getOperation(),n=e.isDragging(),r=e.isDragging()&&((null==t?void 0:t.type)===a.CREATE_CONNECTOR_OPERATION||(null==t?void 0:t.edit));return{dragInProgress:n,dragEditInProgress:r,dragCreate:r&&(e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE||e.getItemType()===d),hasDropTarget:r&&e.hasDropTarget()}},dropHint:"create"},O={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:(e,t)=>{var n;return t.isOver({shallow:t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE})&&("regroup"===(null===(n=t.getOperation())||void 0===n?void 0:n.type)||t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE)},collect:e=>{var t,n,r;return{droppable:e.isDragging()&&"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type),dropTarget:e.isOver({shallow:e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE}),canDrop:e.isDragging()&&("regroup"===(null===(n=e.getOperation())||void 0===n?void 0:n.type)||e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE),dragRegroupable:e.isDragging()&&(null===(r=e.getItem())||void 0===r?void 0:r.allowRegroup)}},dropHint:"create"},j=(e,t,n)=>({item:{type:m},operation:{type:"moveconnector",edit:!0,canDropOnNode:b},begin:(e,t)=>(t.element.raise(),t.element),drag:(e,t,n)=>{n.element.setEndPoint(e.x,e.y)},end:(e,a,i)=>{var s;const l=i.element;if(l.setEndPoint(),a.didDrop()&&e&&b(null===(s=a.getOperation())||void 0===s?void 0:s.type,l,e)){const a=void 0!==n?n:r.a.t("topology~Error moving connection");t(l.getSource(),e,l.getTarget()).catch(e=>{Object(o.s)({title:a,error:e.message,showIcon:!0})})}},collect:e=>({dragging:e.isDragging()})}),k={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:()=>!1},R=()=>Object(a.withDndDrop)(k),S=e=>Object(c.a)(e,document.getElementById("popper-container"),"odc-topology-context-menu"),T=(e,t)=>Object(a.isGraph)(t)?Object(l.a)(t,e):t.isGroup()?Object(l.b)(t,e):(Object(s.b)(e,t,null).catch(e=>{Object(o.s)({title:r.a.t("topology~Error creating connection"),error:e.message})}),null),N=()=>(e,t,n,r)=>{var i,o,s,l;if(e===t)return null;const c=null===(o=null===(i=t.getGraph())||void 0===i?void 0:i.getData())||void 0===o?void 0:o.relationshipProviderExtensions,u=null==c?void 0:c.find(({uid:e})=>r.includes(e));if(u)return u.properties.create(e,t);const d=null===(l=null===(s=t.getGraph())||void 0===s?void 0:s.getData())||void 0===l?void 0:l.createConnectorExtensions;if(Object(a.isGraph)(t)||!d)return Promise.resolve(T(e,t));const p=d.find(n=>!!n(r,e,t));return p?p(r,e,t)(e,t):Promise.resolve(T(e,t))}},5770:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(0),r=n(5585),i=n(15),o=n(2221),s=n(5761);const l=e=>Object(r.isGraph)(null==e?void 0:e.getParent())||(null==e?void 0:e.getParent().getType())===o.u,c=(e,t)=>[a.createElement(i.j,{key:"topology",context:{"topology-context-actions":{element:e,connectorSource:t}}},({options:e,loaded:t})=>t&&Object(s.b)(e))],u=(e,t)=>[a.createElement(i.j,{key:"topology",context:{"topology-context-actions":{element:e,connectorSource:t}}},({options:e,loaded:t})=>t&&Object(s.b)(e))]},5771:function(e,t,n){"use strict";var a=n(5698);n.d(t,"b",(function(){return a.a}));var r=n(5876);n.d(t,"a",(function(){return r.a}));var i=n(5877);n.d(t,"c",(function(){return i.a}));var o=n(5878);n.d(t,"d",(function(){return o.a}));var s=n(5879);n.d(t,"e",(function(){return s.a}));var l=n(5880);n.d(t,"f",(function(){return l.a}))},5772:function(e,t,n){"use strict";var a=n(5765);n.d(t,"b",(function(){return a.a}));n(5775);var r=n(5884);n.d(t,"a",(function(){return r.a}));n(5776)},5773:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(15),i=n(5785);const o=()=>{const{filters:e}=Object(a.useContext)(i.a);return Object(r.De)(e)}},5774:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(1401),o=n(5730);const s="SvgTypedIconDropShadowFilterId";t.a=a.forwardRef(({className:e,x:t,y:n,width:l,height:c,iconClass:u,icon:d,padding:p=4},m)=>{const[b,g]=Object(r.useSize)([]);let v=0,f=0;return b&&({width:v,height:f}=b),a.createElement("g",{className:e},a.createElement(o.a,{id:s}),a.createElement("circle",{key:"circle-"+s,ref:m,filter:Object(r.createSvgIdUrl)(s),cx:t-v/2,cy:n+f/2,r:v/2+p}),d?a.createElement("g",{ref:g},a.createElement("foreignObject",{key:"image-"+s,x:t-v+4,y:n,width:l,height:c},d)):a.createElement("g",{ref:g},a.createElement("image",{key:"image-"+s,x:t-v,y:n,width:l,height:c,xlinkHref:Object(i.d)(u)||u,filter:Object(r.createSvgIdUrl)(s)})))})},5775:function(e,t,n){"use strict";var a=n(5585);class r extends a.AbstractAnchor{constructor(e,t,n,a=0){super(e,a),this.width=t,this.height=n}getLocation(e){const t=new a.Point(this.owner.getPosition().x+this.width/2,this.owner.getPosition().y+this.height/2),n=2*this.offset;return Object(a.getRectAnchorPoint)(t,this.width+n,this.height+n,e)}}t.a=r},5776:function(e,t,n){"use strict";var a=n(0),r=n(57),i=n(160),o=n(663),s=n(5),l=n(8);n(5983);t.a=({groupResources:e,emptyValue:t})=>{const n={};r.a(e,e=>{var t;if(!e)return;const a=e.resourceKind||(null===(t=e.resource)||void 0===t?void 0:t.kind);n[a]=[...n[a]?n[a]:[],e.resource]});const c=i.a(n);return c.length?a.createElement("foreignObject",{width:250,height:32+29*c.length},a.createElement("div",{className:"odc-resource-kinds-info"},a.createElement("table",{className:"odc-resource-kinds-info__table"},a.createElement("tbody",{className:"odc-resource-kinds-info__body"},c.map(e=>{const t=Object(l.vb)(e);let r,i;return t?(r=t.crd?Object(l.Hb)(t):t.kind,i=n[e].length>1?t.labelPlural:t.label):(r=e,i=n[e].length>1?Object(l.yb)(e):o.a(e)),a.createElement("tr",{key:e,className:"odc-resource-kinds-info__row"},a.createElement("td",{className:"odc-resource-kinds-info__count"},n[e].length),a.createElement("td",{className:"odc-resource-kinds-info__resource-icon"},a.createElement(s.fb,{kind:r})),a.createElement("td",{className:"odc-resource-kinds-info__kind"},i))}))))):a.createElement("foreignObject",{width:250,height:61},a.createElement("div",{className:"odc-resource-kinds-info"},t))}},5777:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(0),r=n(7),i=n(76),o=n(15);const s=(e,t)=>{const n=e-3;return{innerPodStatusOuterRadius:n,innerPodStatusInnerRadius:n-.6*t}},l=(e,t)=>{const{podStatusInnerRadius:n,podStatusStrokeWidth:a}=Object(o.vc)(e);let r=n;if(t&&Object(o.ne)(t.obj,t.current,t.isRollingOut)){const{innerPodStatusInnerRadius:e}=s(r,a);r=e}const{podStatusStrokeWidth:i,podStatusInset:l}=Object(o.vc)(2*r);return r-i-l},c=a.memo((function({size:e,data:t,x:n=0,y:l=0,showPodCount:c}){var u,d,p,m,b,g,v,f;const{t:h}=Object(r.useTranslation)(),{podStatusOuterRadius:y,podStatusInnerRadius:E,podStatusStrokeWidth:O}=Object(o.vc)(e),{innerPodStatusOuterRadius:j,innerPodStatusInnerRadius:k}=s(E,O),{inProgressDeploymentData:R,completedDeploymentData:S}=Object(o.td)(t),[T]=Object(o.We)(null===(u=t.obj)||void 0===u?void 0:u.apiVersion,null===(d=t.obj)||void 0===d?void 0:d.kind,null===(m=null===(p=t.obj)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.name,null===(g=null===(b=t.obj)||void 0===b?void 0:b.metadata)||void 0===g?void 0:g.namespace),N=!!T,C=(null===(v=t.current)||void 0===v?void 0:v.obj)||t.obj,P=i.n.kind===(null===(f=t.obj)||void 0===f?void 0:f.kind)?t.obj.kind:C.kind,{title:w,subTitle:D,titleComponent:_}=Object(o.Re)(C,P,null==t?void 0:t.pods,N,h,T);return a.createElement(a.Fragment,null,a.createElement(o.Bb,{key:R?"deploy":"notDeploy",x:n-e/2,y:l-e/2,innerRadius:E,outerRadius:y,data:S,size:e,subTitle:c?D:void 0,title:c?w:void 0,titleComponent:c?_:void 0}),R&&a.createElement(o.Bb,{x:n-e/2,y:l-e/2,innerRadius:k,outerRadius:j,data:R,size:e}))}));t.a=c},5778:function(e,t,n){"use strict";var a=n(0);t.a=({style:e,topology:t})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t?"0 20 650 587":"0 20 650 450",fill:"currentColor","aria-hidden":"true",role:"img",width:"1em",height:"1em",style:e},a.createElement("path",{d:"m395.9 484.2-126.9-61c-12.5-6-17.9-21.2-11.8-33.8l61-126.9c6-12.5 21.2-17.9 33.8-11.8 17.2 8.3 27.1 13 27.1 13l-.1-109.2 16.7-.1.1 117.1s57.4 24.2 83.1 40.1c3.7 2.3 10.2 6.8 12.9 14.4 2.1 6.1 2 13.1-1 19.3l-61 126.9c-6.2 12.7-21.4 18.1-33.9 12z",style:{fill:"#fff"}}),a.createElement("path",{d:"M622.7 149.8c-4.1-4.1-9.6-4-9.6-4s-117.2 6.6-177.9 8c-13.3.3-26.5.6-39.6.7v117.2c-5.5-2.6-11.1-5.3-16.6-7.9 0-36.4-.1-109.2-.1-109.2-29 .4-89.2-2.2-89.2-2.2s-141.4-7.1-156.8-8.5c-9.8-.6-22.5-2.1-39 1.5-8.7 1.8-33.5 7.4-53.8 26.9C-4.9 212.4 6.6 276.2 8 285.8c1.7 11.7 6.9 44.2 31.7 72.5 45.8 56.1 144.4 54.8 144.4 54.8s12.1 28.9 30.6 55.5c25 33.1 50.7 58.9 75.7 62 63 0 188.9-.1 188.9-.1s12 .1 28.3-10.3c14-8.5 26.5-23.4 26.5-23.4S547 483 565 451.5c5.5-9.7 10.1-19.1 14.1-28 0 0 55.2-117.1 55.2-231.1-1.1-34.5-9.6-40.6-11.6-42.6zM125.6 353.9c-25.9-8.5-36.9-18.7-36.9-18.7S69.6 321.8 60 295.4c-16.5-44.2-1.4-71.2-1.4-71.2s8.4-22.5 38.5-30c13.8-3.7 31-3.1 31-3.1s7.1 59.4 15.7 94.2c7.2 29.2 24.8 77.7 24.8 77.7s-26.1-3.1-43-9.1zm300.3 107.6s-6.1 14.5-19.6 15.4c-5.8.4-10.3-1.2-10.3-1.2s-.3-.1-5.3-2.1l-112.9-55s-10.9-5.7-12.8-15.6c-2.2-8.1 2.7-18.1 2.7-18.1L322 273s4.8-9.7 12.2-13c.6-.3 2.3-1 4.5-1.5 8.1-2.1 18 2.8 18 2.8L467.4 315s12.6 5.7 15.3 16.2c1.9 7.4-.5 14-1.8 17.2-6.3 15.4-55 113.1-55 113.1z",style:{fill:"currentColor"}}),a.createElement("path",{d:"M326.8 380.1c-8.2.1-15.4 5.8-17.3 13.8-1.9 8 2 16.3 9.1 20 7.7 4 17.5 1.8 22.7-5.4 5.1-7.1 4.3-16.9-1.8-23.1l24-49.1c1.5.1 3.7.2 6.2-.5 4.1-.9 7.1-3.6 7.1-3.6 4.2 1.8 8.6 3.8 13.2 6.1 4.8 2.4 9.3 4.9 13.4 7.3.9.5 1.8 1.1 2.8 1.9 1.6 1.3 3.4 3.1 4.7 5.5 1.9 5.5-1.9 14.9-1.9 14.9-2.3 7.6-18.4 40.6-18.4 40.6-8.1-.2-15.3 5-17.7 12.5-2.6 8.1 1.1 17.3 8.9 21.3 7.8 4 17.4 1.7 22.5-5.3 5-6.8 4.6-16.3-1.1-22.6 1.9-3.7 3.7-7.4 5.6-11.3 5-10.4 13.5-30.4 13.5-30.4.9-1.7 5.7-10.3 2.7-21.3-2.5-11.4-12.6-16.7-12.6-16.7-12.2-7.9-29.2-15.2-29.2-15.2s0-4.1-1.1-7.1c-1.1-3.1-2.8-5.1-3.9-6.3 4.7-9.7 9.4-19.3 14.1-29-4.1-2-8.1-4-12.2-6.1-4.8 9.8-9.7 19.7-14.5 29.5-6.7-.1-12.9 3.5-16.1 9.4-3.4 6.3-2.7 14.1 1.9 19.8l-24.6 50.4z",style:{fill:"currentColor"}}))},5779:function(e,t,n){"use strict";var a=n(5585),r=n(5619);class i extends a.BaseEdge{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(r.p)(this,{resource:r.q.ref,resourceKind:r.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=i},5782:function(e,t,n){"use strict";var a=n(5768);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g})),n.d(t,"h",(function(){return a.h})),n.d(t,"i",(function(){return a.i})),n.d(t,"j",(function(){return a.j})),n.d(t,"k",(function(){return a.k})),n.d(t,"l",(function(){return a.l})),n.d(t,"m",(function(){return a.n})),n.d(t,"n",(function(){return a.o})),n.d(t,"o",(function(){return a.p})),n.d(t,"p",(function(){return a.r})),n.d(t,"q",(function(){return a.t})),n.d(t,"r",(function(){return a.u})),n.d(t,"s",(function(){return a.v})),n.d(t,"t",(function(){return a.w})),n.d(t,"u",(function(){return a.x})),n.d(t,"v",(function(){return a.y}));n(5890)},5785:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(0),r=n(15),i=n(5982),o=n(5703);const s=e=>(null==e?void 0:e.length)?e.reduce((e,t)=>(e[t.id]=t.value,e),{}):{},l=()=>{const[e,t,n]=Object(r.ff)("devconsole.topology.filters",i.a,s(o.b)),[l,c]=a.useState(!1),[u,d]=a.useState([]);a.useEffect(()=>{n&&!l&&(d((e=>{const t=[...o.b];return t.forEach(t=>{void 0!==e[t.id]&&(t.value=e[t.id])}),t})(e)),c(!0))},[e,n,l]);const p=a.useCallback(e=>{d(e),t(s(e))},[t]);return[u,e,e&&l,p]},c=a.createContext({}),u=({children:e})=>{const[t,n,r,i]=l();return a.createElement(c.Provider,{value:{filters:t,appliedFilters:n,setTopologyFilters:i}},r?e:null)}},5808:function(e,t,n){"use strict";n(5741),n(5872),n(5750);var a=n(5761);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));n(4367)},5809:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5585),r=n(5703),i=n(5751),o=n(5773);const s=e=>{const t=Object(o.a)(),n=Object(a.useVisualizationController)().getGraph().getDetailsLevel(),s=Object(i.g)(r.e,t);return e||n===a.ScaleDetailsLevel.high&&(null==s?void 0:s.value)}},5810:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(16),r=n(8);const i=e=>{const t=Object(r.vb)(e),n=Object(a.a)(t,"kind",e),i=Object(a.a)(t,"color",void 0);return{kindStr:n,kindAbbr:t&&t.abbr||Object(r.ub)(n),kindColor:i}}},5811:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(5),o=n(10),s=n(5667),l=n(5594);const c=({cronjob:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(s.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement(i.lb,{resource:e,showPodSelector:!0},a.createElement(i.r,{label:t("topology~Schedule"),obj:e,path:"spec.schedule"}),a.createElement(i.r,{label:t("topology~Concurrency policy"),obj:e,path:"spec.concurrencyPolicy"}),a.createElement(i.r,{label:t("topology~Starting deadline seconds"),obj:e,path:"spec.startingDeadlineSeconds"},e.spec.startingDeadlineSeconds?t("topology~second",{count:e.spec.startingDeadlineSeconds}):t("topology~Not configured")),a.createElement(i.r,{label:t("topology~Last schedule time"),obj:e,path:"status.lastScheduleTime"},a.createElement(i.xb,{timestamp:e.status.lastScheduleTime}))))},u=e=>{const t=Object(l.f)(e);if(!t||t.kind!==o.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{cronjob:t}),!0,void 0]}},5812:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(4371),i=n(5),o=n(10),s=n(15),l=n(5594);const c=({ds:e})=>{var t;const{namespace:n}=e.metadata,{podData:l,loaded:c,loadError:u}=Object(s.Se)(e,"DaemonSet",n);return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(i.wb,{loaded:c,data:l,loadError:u},a.createElement(s.Ab,{pods:null!==(t=null==l?void 0:l.pods)&&void 0!==t?t:[],resourceKind:o.DaemonSetModel,obj:e,enableScaling:!1}))),a.createElement("div",{className:"resource-overview__summary"},a.createElement(i.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.DaemonSetDetailsList,{ds:e})))},u=e=>{const t=Object(l.f)(e);if(!t||t.kind!==o.DaemonSetModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{ds:t}),!0,void 0]}},5813:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(4368),o=n(5),s=n(10),l=n(5667),c=n(5594);const u=({dc:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(o.Db,{obj:e,model:s.DeploymentConfigModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(o.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(o.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(i.DeploymentConfigDetailsList,{dc:e})))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==s.DeploymentConfigModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{dc:t}),!0,void 0]}},5814:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(4372),o=n(5),s=n(10),l=n(5667),c=n(5594);const u=({deployment:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(o.Db,{obj:e,model:s.DeploymentModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(o.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(o.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(i.DeploymentDetailsList,{deployment:e})))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==s.DeploymentModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{deployment:t}),!0,void 0]}},5815:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(5),o=n(10),s=n(15),l=n(5667),c=n(5594);const u=({job:e})=>{var t;const{namespace:n}=e.metadata,{podData:o,loaded:c,loadError:u}=Object(s.Se)(e,"Job",n),{t:d}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(i.wb,{loaded:c,data:o,loadError:u},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:""}))),a.createElement(i.lb,{resource:e,showPodSelector:!0},a.createElement(i.r,{label:d("topology~Desired completions"),obj:e,path:"spec.completions"}),a.createElement(i.r,{label:d("topology~Parallelism"),obj:e,path:"spec.parallelism"}),a.createElement(i.r,{label:d("topology~Active deadline seconds"),obj:e,path:"spec.activeDeadlineSeconds"},(null===(t=e.spec)||void 0===t?void 0:t.activeDeadlineSeconds)?Object(i.oc)(e.spec.activeDeadlineSeconds,"second"):d("topology~Not configured"))))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==o.JobModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{job:t}),!0,void 0]}},5816:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(13),i=n(5945),o=n(5686),s=n(5817),l=n(5700);const c=({id:e,podAdapter:t,podAdapterExtensionResolved:n})=>{const[{data:r,loaded:l},c]=a.useState({loaded:!1}),u=a.useCallback(e=>{var n;"CronJob"===(null===(n=null==t?void 0:t.resource)||void 0===n?void 0:n.kind)?setTimeout(()=>c({data:e,loaded:!0}),3e3):c({data:e,loaded:!0})},[t]);return t?a.createElement(o.a,null,n&&a.createElement(s.a,{key:e,resource:t.resource,data:t.data,useAdapterHook:t.provider,onAdapterDataResolved:u}),l&&r.loaded&&!r.loadError&&a.createElement(i.a,Object.assign({obj:t.resource},r))):null},u=e=>{const[t,n]=Object(r.kc)(r.Db),i=a.useMemo(()=>Object(l.b)(e,[t,n]),[e,t,n]);if(!i)return[void 0,!0,void 0];return[a.createElement(c,{id:e.getId(),podAdapter:i,podAdapterExtensionResolved:n}),!0,void 0]}},5817:function(e,t,n){"use strict";var a=n(0);t.a=({resource:e,data:t,useAdapterHook:n,onAdapterDataResolved:r})=>{const i=n(e,t);return a.useEffect(()=>{i&&r(i)},[i]),null}},5818:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(5),i=n(10),o=n(5667),s=n(5594);const l=({ss:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(o.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement(r.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),c=e=>{const t=Object(s.f)(e);if(!t||t.kind!==i.StatefulSetModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{ss:t}),!0,void 0]}},5819:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(14),i=n(5),o=n(8),s=n(5594);const l=e=>{const t=Object(s.f)(e);if(!t)return null;const n=Object(o.Db)(t);return a.createElement(a.Fragment,null,a.createElement(i.fb,{className:"co-m-resource-icon--lg",kind:n}),a.createElement(r.Link,{to:Object(i.tc)(n,t.metadata.name,t.metadata.namespace),className:"co-resource-item__resource-name"},t.metadata.name))}},5820:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(13),i=n(5686),o=n(5946),s=n(5817),l=n(5700);const c=({id:e,buildAdapter:t,extensionsResolved:n})=>{const[{data:r,loaded:l},c]=a.useState({loaded:!1}),u=a.useCallback(e=>{c({data:e,loaded:!0})},[]);return t?a.createElement(i.a,null,n&&a.createElement(s.a,{key:e,resource:t.resource,useAdapterHook:t.provider,onAdapterDataResolved:u}),l&&a.createElement(o.a,{buildConfigs:r.buildConfigs})):null},u=e=>{const[t,n]=Object(r.kc)(r.S),i=a.useMemo(()=>Object(l.b)(e,[t,n]),[t,e,n]);if(!i)return[void 0,!0,void 0];return[a.createElement(c,{id:e.getId(),buildAdapter:i,extensionsResolved:n}),!0,void 0]}},5821:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(13),i=n(5686),o=n(5947),s=n(5700);const l=({networkAdapter:e})=>e?a.createElement(i.a,null,a.createElement(o.a,{obj:e.resource})):null,c=e=>{const[t,n]=Object(r.kc)(r.zb),i=a.useMemo(()=>Object(s.b)(e,[t,n]),[e,n,t]);if(!i)return[void 0,!0,void 0];return[a.createElement(l,{networkAdapter:i}),!0,void 0]}},5822:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(10),i=n(15),o=n(5594),s=n(5686),l=n(5948);const c=({resource:e})=>{const{jobs:t}=Object(i.Le)(e);return a.createElement(s.a,null,a.createElement(l.a,{obj:e,jobs:t}))},u=e=>{const t=Object(o.f)(e);if(!t||t.kind!==r.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{resource:t}),!0,void 0]}},5823:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1410),i=n(10),o=n(5667),s=n(5594);const l=({pod:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(o.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(r.PodResourceSummary,{pod:e})),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.PodDetailsList,{pod:e}))),c=e=>{const t=Object(s.f)(e);if(!t||t.kind!==i.PodModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{pod:t}),!0,void 0]}},5824:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f}));var a=n(0),r=n(1923),i=n(7),o=n(14),s=n(5722),l=n(5847),c=n(13),u=n(10),d=n(8),p=n(1402),m=n(172),b=n(5594);const g=[Object(d.Hb)(u.DeploymentConfigModel),Object(d.Hb)(u.DeploymentModel),Object(d.Hb)(u.DaemonSetModel),Object(d.Hb)(u.StatefulSetModel),Object(d.Hb)(p.l)],v=e=>{var t,n,r,s,l;const u=Object(b.f)(e),p=null==u?void 0:u.kind,m=null===(t=null==u?void 0:u.metadata)||void 0===t?void 0:t.name,v=null===(n=null==u?void 0:u.metadata)||void 0===n?void 0:n.namespace,{t:f}=Object(i.useTranslation)(),h=u?Object(d.Db)(u):void 0,y=h?Object(d.vb)(h):void 0,E=(null==y?void 0:y.crd)?h:p,[O,j]=Object(c.hc)({group:null==y?void 0:y.apiGroup,resource:null==y?void 0:y.plural,namespace:v,name:m,verb:"update"});if(!u||!g.includes(Object(d.Db)(u)))return null;const k=null===(l=null===(s=null===(r=null==u?void 0:u.spec)||void 0===r?void 0:r.template)||void 0===s?void 0:s.spec)||void 0===l?void 0:l.containers,R=null==k?void 0:k.map(e=>e.name),S=!(null==k?void 0:k.every(e=>e.readinessProbe||e.livenessProbe||e.startupProbe))&&O&&!j,T=`/k8s/ns/${v}/${E}/${m}/containers/${R[0]}/health-checks`,N=(null==R?void 0:R.length)>1?f("topology~Not all Containers have health checks to ensure your application is running correctly."):f("topology~Container {{containersName}} does not have health checks to ensure your application is running correctly.",{containersName:R});return S?{title:f("topology~Health checks"),dismissible:!0,content:a.createElement(a.Fragment,null,N," ",a.createElement(o.Link,{to:T},f("topology~Add health checks"))),variant:"custom"}:null},f=e=>{var t,n,o,p,g,v,f;const{t:h}=Object(i.useTranslation)(),y=Object(m.a)(),E=Object(b.f)(e),O=null===(t=null==E?void 0:E.metadata)||void 0===t?void 0:t.name,j=null===(n=null==E?void 0:E.metadata)||void 0===n?void 0:n.namespace,[k,R]=Object(c.hc)({group:u.DeploymentModel.apiGroup,resource:u.DeploymentModel.plural,namespace:j,name:O,verb:"patch"});if(!E||Object(d.Hb)(u.DeploymentModel)!==Object(d.Db)(E))return null;const S=(null!==(p=null===(o=E.status)||void 0===o?void 0:o.conditions)&&void 0!==p?p:[]).find(e=>"ReplicaFailure"===e.type),T=null!==(g=null==S?void 0:S.message)&&void 0!==g?g:"",N=null!==(f=null===(v=T.split(":"))||void 0===v?void 0:v[3])&&void 0!==f?f:"";let C;N.includes("limits")?C=l.a.EditResourceLimits(u.DeploymentModel,E):N.includes("pods")&&(C=s.a.ModifyCount(u.DeploymentModel,E));const P=C&&k&&!R,w=null==C?void 0:C.cta,D=P?a.createElement(r.a,{onClick:()=>{y("Resource Quota Warning Alert Action Link Clicked"),w()}},C.label):void 0;return S?{title:h("topology~Resource Quotas"),dismissible:!0,content:T,actionLinks:D,variant:"warning"}:null}},5825:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),r=n(7),i=n(91),o=n(5),s=n(108),l=n(15),c=n(2221),u=n(5594),d=n(5686);const p=({vpas:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.ub,{text:t("topology~VerticalPodAutoscalers")}),a.createElement("ul",{className:"list-group"},e.map(e=>a.createElement("li",{key:e.metadata.name,className:"list-group-item"},a.createElement(o.hb,{groupVersionKind:Object(i.d)(e),name:e.metadata.name,namespace:e.metadata.namespace})))))},m=e=>{const[t]=Object(s.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},isList:!0,namespaced:!0});if(e.getType()!==c.y)return[void 0,!0,void 0];const n=Object(u.f)(e),r=Object(l.Ld)(t,n);return[r.length>0?a.createElement(d.a,null,a.createElement(p,{vpas:r})):void 0,!0,void 0]}},5829:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n(2221);const r=a.m,i=a.k,o=a.l,s="KafkaConnection"},5830:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(7),o=n(5),s=n(10),l=n(15),c=n(5594),u=n(5763);t.a=({element:e,radius:t,x:n,y:d})=>{var p,m,b;const g=a.useRef(),{t:v}=Object(i.useTranslation)(),f=Object(c.f)(e),{buildConfigs:h}=Object(l.ve)(f),y=null===(m=null===(p=null==h?void 0:h[0])||void 0===p?void 0:p.builds)||void 0===m?void 0:m[0];if(!y)return null;const E=v("topology~Build {{status}}",{status:null===(b=y.status)||void 0===b?void 0:b.phase}),O=Object(o.uc)(s.BuildModel,y.metadata.name,y.metadata.namespace)+"/logs";return a.createElement(r.a,{triggerRef:g,content:E,position:r.b.left},a.createElement("g",{ref:g},a.createElement(u.a,{x:n,y:d,radius:t,ariaLabel:E,href:O},a.createElement(l.cc,{status:y.status.phase,iconOnly:!0,noTooltip:!0}))))}},5831:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(7),o=n(5901),s=n(108),l=n(10),c=n(8),u=n(5594),d=n(5694);t.a=({element:e,radius:t,x:n,y:p})=>{const m=a.useRef(),{t:b}=Object(i.useTranslation)(),[g]=Object(s.a)({isList:!0,kind:Object(c.Hb)(l.ConsoleLinkModel),optional:!0}),{cheURL:v,cheIconURL:f}=Object(u.c)(g),h=e.getData().data,{editURL:y,vcsURI:E,vcsRef:O,contextDir:j}=h,k=!!v,R=y||Object(u.d)(E,O,v,j),S=Object(o.a)(R,t,b,k,f);if(!S)return null;const T=b("topology~Edit source code");return a.createElement(r.a,{triggerRef:m,content:T,position:r.b.right},a.createElement("g",{ref:m},a.createElement(d.a,{x:n,y:p,radius:t,href:R,external:!0,ariaLabel:T},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},S))))}},5832:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(5585),o=n(7),s=n(31),l=n(53),c=n(15),u=n(5694);t.a=Object(s.connect)(null,e=>({showMonitoringOverview:()=>e(Object(l.j)("Observe"))}))(({element:e,radius:t,x:n,y:s,showMonitoringOverview:l})=>{const d=a.useRef(),{t:p}=Object(o.useTranslation)(),m=e.getData().data,{monitoringAlerts:b}=m,g=Object(c.Lc)(b),v=Object(c.Hd)(g);if(Object(c.oe)(v))return null;const f=p("topology~Monitoring alert");return a.createElement(r.a,{triggerRef:d,key:"monitoringAlert",content:f,position:r.b.left},a.createElement("g",{ref:d},a.createElement(u.a,{x:n,y:s,radius:t,onClick:t=>{t.stopPropagation(),l(),e.getGraph().getController().fireEvent(i.SELECTION_EVENT,[e.getId()])},ariaLabel:f},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},a.createElement(c.k,{severityAlertType:v,fontSize:t})))))})},5833:function(e,t,n){"use strict";var a=n(0),r=n(88),i=n(566),o=n(7),s=n(5951),l=n(5594),c=n(5694);t.a=({element:e,radius:t,x:n,y:u})=>{const d=a.useRef(),{t:p}=Object(o.useTranslation)(),m=Object(l.f)(e),b=Object(s.a)(m);if(!b)return null;const g=p("topology~Open URL");return a.createElement(r.a,{triggerRef:d,key:"route",content:g,position:r.b.right},a.createElement("g",{ref:d},a.createElement(c.a,{x:n,y:u,radius:t,href:b,external:!0,ariaLabel:g},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},a.createElement(i.a,{style:{fontSize:t},title:g})))))}},5837:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),r=n(5586),i=n(5588),o=n(5760),s=n(5725),l=n(5687),c=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:n}=e,a=n.reduce((e,t,n)=>t.selection===s.a?Object.assign(Object.assign({},e),{[n]:t}):e,{}),r=yield Promise.all(Object.values(a).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:n,secrets:a,type:r}}=e;return a?Object(o.b)(a,r,t).then(e=>Object(o.a)(n,r,t,e)):Object(o.a)(n,r,t)})))(e,t)));if(!r||0===r.length)return e;const i=Object.keys(a);return Object.assign(Object.assign({},e),{resources:n.map((e,t)=>{if(a[t]){const n=i.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:r[n].metadata.name})}return e})})})),d=(e,t,n,o)=>c(void 0,void 0,void 0,(function*(){let s=e;s=yield u(s),s=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==i.x.NoWorkspace)}):e})(s);const c=yield Object(a.jb)(r.PipelineRunModel,Object(l.e)(t,s,n,o));return Promise.resolve(c)}))},5846:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return k})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return S}));var a=n(14),r=n(13),i=n(436),o=n(108),s=n(763),l=n(10),c=n(8),u=n(15),d=n(5586),p=n(5635),m=n(5623),b=n(5588),g=n(5650);const v=e=>{const t="admin"===Object(r.jc)()[0],n=Object(a.useParams)(),i=Object(a.useLocation)();return Object(u.bf)(e,i,n,"pipelines",Object(m.w)(e),void 0,t)},f=e=>{const t="admin"===Object(r.jc)()[0],n=Object(a.useParams)(),i=Object(a.useLocation)();return Object(u.bf)(e,i,n,"tasks",Object(m.w)(e),void 0,t)},h=e=>{const t="admin"===Object(r.jc)()[0],n=Object(a.useParams)(),i=Object(a.useLocation)();return Object(u.bf)(e,i,n,"triggers",Object(m.w)(e),void 0,t)},y=e=>{const t="admin"===Object(r.jc)()[0]?"pipelines":"dev-pipelines",n=Object(a.useParams)(),i=Object(a.useLocation)();return Object(u.bf)(e,i,n,t,Object(m.w)(e),void 0,!0)},E=(e,t)=>{const n={kind:Object(c.Hb)(d.PipelineRunModel),namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[a,r,i]=Object(o.a)(n),s=Object(p.b)(a,"creationTimestamp");return r&&!i?s:null},O=(e,t)=>{const n={kind:l.PersistentVolumeClaimModel.kind,namespace:t,selector:{matchLabels:{[b.u.pipeline]:e}},optional:!0,isList:!0},[a,r,i]=Object(o.a)(n);return[!i&&a.length>0?a[0]:null,r]},j=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:r,metricsLevel:o})=>{const l=Object(g.k)(r)[o];return Object(s.useURLPoll)(Object(i.b)({endpoint:i.a.QUERY_RANGE,query:l[g.c.PIPELINE_SUCCESS_RATIO]({name:n,namespace:t}),samples:1,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},k=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:r,metricsLevel:o})=>{const l=Object(g.k)(r)[o];return Object(s.useURLPoll)(Object(i.b)({endpoint:i.a.QUERY_RANGE,query:l[g.c.PIPELINE_RUN_TASK_RUN_DURATION]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},R=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:r,metricsLevel:o})=>{const l=Object(g.k)(r)[o];return Object(s.useURLPoll)(Object(i.b)({endpoint:i.a.QUERY_RANGE,query:l[g.c.PIPELINE_RUN_DURATION]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)},S=({delay:e,namespace:t,name:n,timespan:a,queryPrefix:r,metricsLevel:o})=>{const l=Object(g.k)(r)[o];return Object(s.useURLPoll)(Object(i.b)({endpoint:i.a.QUERY_RANGE,query:l[g.c.NUMBER_OF_PIPELINE_RUNS]({name:n,namespace:t}),samples:b.c,endTime:Date.now(),timespan:a,namespace:t}),e,t,a)}},5847:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(29),r=n(77),i=n(131),o=n(5),s=n(10),l=n(8),c=n(769),u=n(5742),d=n(2240);const p=(e,t)=>Object(r.p)({model:e,resource:t,data:[{path:"/metadata/annotations/openshift.io~1deployment.phase",op:"replace",value:"New"},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"add",value:""},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"remove"},{path:"/metadata/annotations/openshift.io~1deployment.status-reason",op:"remove"}]}),m={EditDeployment:(e,t)=>({id:"edit-deployment",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(o.sc)(t,e.crd?Object(l.Hb)(e):e.kind)+"/form"},accessReview:Object(o.Eb)(e,t,"update")}),UpdateStrategy:(e,t)=>({id:"edit-update-strategy",label:a.a.t("console-app~Edit update strategy"),cta:()=>Object(i.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),PauseRollout:(e,t)=>({id:"pause-rollout",label:t.spec.paused?a.a.t("console-app~Resume rollouts"):a.a.t("console-app~Pause rollouts"),cta:()=>Object(o.Ac)(e,t).catch(e=>Object(i.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),RestartRollout:(e,t)=>({id:"restart-rollout",label:a.a.t("console-app~Restart rollout"),cta:()=>((e,t)=>{const n=[];return"annotations"in t.spec.template.metadata||n.push({path:"/spec/template/metadata/annotations",op:"add",value:{}}),n.push({path:"/spec/template/metadata/annotations/openshift.openshift.io~1restartedAt",op:"add",value:new Date}),Object(r.p)({model:e,resource:t,data:n})})(e,t).catch(e=>Object(i.s)({error:e.message})),disabled:t.spec.paused||!1,disabledTooltip:"The deployment is paused and cannot be restarted.",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),StartDCRollout:(e,t)=>({id:"start-rollout",label:a.a.t("console-app~Start rollout"),cta:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(l.jb)(s.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(i.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),EditResourceLimits:(e,t)=>({id:"edit-resource-limits",label:a.a.t("console-app~Edit resource limits"),cta:()=>Object(u.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),CreateServiceBinding:(e,t)=>({id:"create-service-binding",label:a.a.t("console-app~Create Service Binding"),cta:()=>Object(d.a)({model:e,source:t}),accessReview:Object(o.Eb)(c.a,t,"create")})}},5872:function(e,t,n){"use strict";n(50),n(5),n(8)},5873:function(e,t,n){"use strict";var a=n(0),r=n(5585);const i=[];t.a=(e=200,t=200,n=i)=>{const[o,s]=a.useState(!1),l=a.useRef(!0);a.useEffect(()=>()=>{l.current=!1},[]),a.useEffect(()=>{s(!1)},n);const c=a.useRef();return[o,Object(r.useCallbackRef)(a.useCallback(n=>{if(n){let a;const r=(e,t)=>{clearTimeout(c.current),clearTimeout(a),null!=t?a=window.setTimeout(()=>{clearTimeout(c.current),s(e)},t):s(e)},i=()=>{r(!0,e)},o=()=>{r(!1,t)};return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",o),()=>{n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",o),clearTimeout(a),l.current&&(c.current=window.setTimeout(()=>{l.current&&s(!1)},Math.max(e,t)))}}},[e,t]))]}},5874:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(0),r=n(4),i=n(5585),o=n(5841),s=n.n(o),l=n(5668),c=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const d=Math.PI/180,p=1.5*Math.PI,m=32,b=Object(l.a)(e=>{const{element:t,onKeepAlive:n,onCreate:o,ConnectorComponent:l,handleAngle:u=d,handleAngleTop:b=p,handleLength:g=m,contextMenuClass:v,dragItem:f,dragOperation:h,hideConnectorMenu:y}=e,[E,O]=a.useState(null),[j,k]=a.useState(!1),R=a.useRef(),S=a.useMemo(()=>({item:f||{type:"#createConnector#"},operation:h||{type:"#createconnector#"},begin:(e,t)=>(k(!0),t.element),drag:(e,t,n)=>{n.element.raise()},end:(e,t,n)=>c(void 0,void 0,void 0,(function*(){const a=t.getDragEvent();if((Object(i.isNode)(e)||Object(i.isGraph)(e))&&a){const r=yield n.onCreate(n.element,e,a,t.getDropHints());if(r&&r.length&&!y)return void O({element:n.element,target:e,event:a,choices:r})}k(!1),n.onKeepAlive(!1)})),collect:e=>({dragging:!!e.getItem(),event:e.isDragging()?e.getDragEvent():void 0,hints:e.getDropHints()})}),[k,f,h,y]),[{dragging:T,event:N,hints:C},P]=Object(i.useDndDrag)(S,e),[w,D]=Object(i.useHover)(),_=Object(i.useCombineRefs)(P,D);if(!j&&T&&!N)return null;T&&(R.current=C);const x=E?E.event:N;let A,I;if(x)I=new i.Point(x.x,x.y),A=t.getAnchor(i.AnchorEnd.source).getLocation(I);else{const e=t.getBounds(),n=t.getLabelPosition()===i.LabelPosition.right,a=n?new i.Point(e.x+e.width/2,e.y):new i.Point(e.right(),Math.tan(u)*(e.width/2)+e.y+e.height/2);A=t.getAnchor(i.AnchorEnd.source).getLocation(a),I=new i.Point(Math.cos(n?b:u)*g+A.x,Math.sin(n?b:u)*g+A.y)}t.translateFromParent(A),t.translateFromParent(I);const M=a.createElement("g",{className:Object(r.css)(s.a.topologyDefaultCreateConnector),ref:_,onMouseEnter:j?void 0:()=>n(!0),onMouseLeave:j?void 0:()=>n(!1)},a.createElement(l,{startPoint:A,endPoint:I,dragging:T,hints:R.current||[],hover:w}),a.createElement("path",{d:Object(i.hullPath)([[A.x,A.y],[I.x,I.y]],7),fillOpacity:"0"}));return a.createElement(a.Fragment,null,j?a.createElement(i.Layer,{id:i.TOP_LAYER},M):M,E&&a.createElement(i.ContextMenu,{reference:{x:E.event.pageX,y:E.event.pageY},className:v,open:!0,onRequestClose:()=>{k(!1),n(!1)}},(L=E.choices,a.isValidElement(L[0])?E.choices:E.choices.map(e=>a.createElement(i.ContextMenuItem,{key:e.label,onClick:()=>{o(E.element,E.target,E.event,R.current,e)}},e.label)))));var L}),g=(e,t=i.DefaultCreateConnector,n,r)=>i=>{const o=o=>{var{children:s}=o,l=u(o,["children"]);const[c,d]=a.useState(!1),[p,m]=a.useState(!1),g=a.useCallback(()=>d(!0),[]),v=a.useCallback(()=>d(!1),[]),f=a.useCallback(e=>{m(t=>(t&&!e&&v(),e))},[v]);return a.createElement(i,Object.assign({},l,{onShowCreateConnector:g,onHideCreateConnector:v,createConnectorDrag:p}),s,(c||p)&&a.createElement(b,Object.assign({},r,{element:l.element,onCreate:e,onKeepAlive:f,ConnectorComponent:t,contextMenuClass:n})))};return o.displayName=`withCreateConnector(${i.displayName||i.name})`,Object(l.a)(o)}},5875:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5585),r=n(5808),i=n(5874),o=n(2221),s=n(5671),l=n(5672),c=n(5769),u=n(5771),d=n(5981),p=n(5772),m=n(5757);n(5991);const b=(e,t)=>{switch(t){case o.u:return Object(a.withDndDrop)(c.d)(Object(a.withDragNode)(Object(c.k)(t,!1,!1))(Object(a.withSelection)({controlled:!0})(Object(c.n)(r.d)(p.a))));case o.y:return Object(i.a)(Object(c.f)(),u.d)(Object(a.withDndDrop)(c.l)(Object(l.a)("patch")(Object(a.withDragNode)(Object(c.k)(t))(Object(a.withSelection)({controlled:!0})(Object(c.n)(r.a)(m.e))))));case o.v:return Object(a.withTargetDrag)(Object(c.g)(c.b,s.a))(Object(c.n)(r.a)(u.c));case o.t:return u.a;case o.x:return u.f;default:switch(e){case a.ModelKind.graph:return Object(a.withDndDrop)(c.h)(Object(a.withPanZoom)()(Object(a.withSelection)({controlled:!0})(Object(c.n)(r.c)(d.a))));default:return}}}},5876:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(5698),o=(n(5977),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});t.a=Object(r.observer)(e=>{var{element:t}=e,n=o(e,["element"]);const{bidirectional:s}=t.getData(),l=s||t.getSource().isCollapsed()&&t.getTarget().isCollapsed()?r.EdgeTerminalType.none:r.EdgeTerminalType.directional;return a.createElement(i.a,Object.assign({"data-test-id":"edge-handler",element:t,className:"odc-base-edge odc-aggregate-edge",endTerminalType:l},n))})},5877:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(5698);n(5978);t.a=Object(r.observer)(e=>a.createElement(i.a,Object.assign({className:"odc-connects-to",endTerminalType:r.EdgeTerminalType.directionalAlt},e)))},5878:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(7);t.a=({startPoint:e,endPoint:t,dragging:n,hover:o,hints:s})=>{const{t:l}=Object(i.useTranslation)();return a.createElement(r.DefaultCreateConnector,{startPoint:e,endPoint:t,dragging:n,hints:s,hover:o,tipContents:o&&n?l("topology~Add resources"):null})}},5879:function(e,t,n){"use strict";var a=n(0),r=n(4),i=n(5585),o=n(5841),s=n.n(o),l=n(1954),c=n(1419),u=n(5698);n(5979);t.a=Object(i.observer)(e=>{const{sbr:t}=e.element.getData(),n=Object(c.b)(t)===l.a.ERROR;let o;if(n){const t=e.element.getStartPoint(),n=e.element.getEndPoint(),l=(t.x+n.x)/2,c=(t.y+n.y)/2,u=Math.atan2(n.y-t.y,n.x-t.x)*(180/Math.PI),d=Object(r.css)(s.a.topologyEdge,i.StatusModifier[i.NodeStatus.danger],s.a.topologyConnectorArrow);o=a.createElement("g",{transform:`translate(${l}, ${c}) rotate(${u})`,className:d},a.createElement("line",{x1:-8,y1:-8,x2:8,y2:8,strokeWidth:2}),a.createElement("line",{x1:-8,y1:8,x2:8,y2:-8,strokeWidth:2}))}return a.createElement(u.a,Object.assign({className:"odc-service-binding",endTerminalStatus:n?i.NodeStatus.danger:void 0,endTerminalType:i.EdgeTerminalType.directional},e),o)})},5880:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(5698);n(5980);t.a=e=>a.createElement(i.a,Object.assign({className:"odc-traffic-connector",endTerminalType:r.EdgeTerminalType.directionalAlt},e))},5881:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(5785);const i=()=>Object(a.useContext)(r.a).appliedFilters},5882:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(230),i=n(549),o=n(15);const s=[],l=(e,t={})=>{var n,l;const c=Object(o.Ve)(),u=c.get("searchQuery"),d=null!==(l=null===(n=c.get("labels"))||void 0===n?void 0:n.split(","))&&void 0!==l?l:s,p=a.useMemo(()=>{const e=Object.entries(t).map(e=>e.join("="));return d.every(t=>e.includes(t))},[t,d]);return[a.useMemo(()=>{return t=u,n=e,r(Object(i.a)(t),Object(i.a)(n));var t,n},[u,e])&&!!u||p&&d.length>0,u]}},5883:function(e,t,n){"use strict"},5884:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(18),o=n.n(i),s=n(5697),l=n(5809),c=n(2242),u=n(5693),d=n(5810),p=n(5985),m=n(5987),b=n(5765),g=(n(5988),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});t.a=Object(r.observer)(e=>{var{element:t,dragNodeRef:n,canDrop:i,dropTarget:v,dragRegroupable:f}=e,h=g(e,["element","dragNodeRef","canDrop","dropTarget","dragRegroupable"]);const[y,E]=Object(r.useHover)(),O=Object(r.useCombineRefs)(n,E),[j]=Object(s.l)(t.getLabel()),k=a.useRef(!1);a.useEffect(()=>{const e=v&&!i&&f;e!==k.current&&(k.current=e,t.getController().fireEvent(u.a,t,e?a.createElement(p.a,null):null))},[v,i,t,f]);const R=Object(l.a)(y),{kindAbbr:S,kindStr:T,kindColor:N}=Object(d.a)(c.ApplicationModel.kind),C=o()("odc-resource-icon",{["odc-resource-icon-"+T.toLowerCase()]:!N}),P=o()("odc-application-group",{"is-filtered":j});return t.isCollapsed()?a.createElement(b.a,Object.assign({bgClassName:"odc-application-group__bg",element:t,canDrop:i,dropTarget:v,badge:S,badgeColor:N,badgeClassName:C,dragNodeRef:O},h)):a.createElement(m.a,Object.assign({className:P,showLabel:R,element:t,canDrop:i,dropTarget:v,dragNodeRef:O,badge:S,badgeColor:N,badgeClassName:C},h))})},5885:function(e,t,n){},5886:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return y}));var a=n(0),r=n(88),i=n(5585),o=n(7),s=n(13),l=n(1401),c=n(15),u=n(5697),d=n(5589),p=n(322),m=n(5762),b=n(5949),g=n(5777),v=(n(5990),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});const f={danger:["ContainerCannotRun","CrashLoopBackOff","Critical","ErrImagePull","Error","Failed","Failure","ImagePullBackOff","InstallCheckFailed","Lost","Rejected","UpgradeFailed"],warning:["Cancelled","Deleting","Expired","Not Ready","Terminating","Warning","RequiresApproval"],normal:["New","Pending","Planning","ContainerCreating","UpgradePending","In Progress","Installing","InstallReady","Replacing","Running","Updating","Upgrading","Accepted","Active","Bound","Complete","Completed","Created","Enabled","Succeeded","Ready","Up to date","Provisioned as node","Preferred","Connected","Info","Unknown","PipelineNotStarted"]},h=(e,t,n,a,r)=>{var o,l;const u=null!==(l=null===(o=null==e?void 0:e.pods)||void 0===o?void 0:o.reduce((e,t)=>Math.max(e,(e=>{switch(e){case c.l.Failed:case c.l.CrashLoopBackOff:return 3;case c.l.Warning:return 2;default:return 1}})(Object(c.ud)(t))),1))&&void 0!==l?l:i.NodeStatus.default;return 3===u||t===s.a.Critical||f.danger.includes(n)||f.danger.includes(a)?i.NodeStatus.danger:2===u||t===s.a.Warning||f.warning.includes(n)||f.warning.includes(a)||r===i.NodeStatus.warning?i.NodeStatus.warning:i.NodeStatus.default},y=Object(i.observer)((function(e){var t,n,s,f,y,E,O,j,k,{donutStatus:R,element:S,children:T,urlAnchorRef:N,canDrop:C,dropTarget:P,dropTooltip:w,contextMenuOpen:D}=e,_=v(e,["donutStatus","element","children","urlAnchorRef","canDrop","dropTarget","dropTooltip","contextMenuOpen"]);const{t:x}=Object(o.useTranslation)(),{width:A,height:I}=S.getDimensions(),M=S.getData().data,L=Object(u.k)(),[F,B]=Object(i.useHover)(),U=Math.min(A,I),{radius:$,decoratorRadius:K}=Object(c.vc)(U),q=A/2,G=I/2,V=w||x("topology~Create a visual connector"),H=Object(u.f)(u.c,L),W=null!==(t=null==H?void 0:H.value)&&void 0!==t&&t,{decorators:z}=S.getGraph().getData(),Y=Object(i.useVisualizationController)().getGraph().getDetailsLevel(),J=null!==(n=Object(l.d)(M.builderImage))&&void 0!==n?n:M.builderImage,X=F||D||Y!==i.ScaleDetailsLevel.low,Q=X?Object(b.a)(S,z,q,G,$,K):null,{monitoringAlerts:Z}=M,ee=Object(c.Lc)(Z),te=Object(c.Hd)(ee),ne=Object(d.g)(S),{buildConfigs:ae}=Object(c.ve)(ne),re=null===(E=null===(y=null===(f=null===(s=null==ae?void 0:ae[0])||void 0===s?void 0:s.builds)||void 0===f?void 0:f[0])||void 0===y?void 0:y.status)||void 0===E?void 0:E.phase,ie=null!==(k=null===(j=null===(O=S.getData())||void 0===O?void 0:O.resources)||void 0===j?void 0:j.pipelineRunStatus)&&void 0!==k?k:"Unknown",oe=Object(p.useResourceQuotaAlert)(S),se=(null==oe?void 0:oe.variant)||i.NodeStatus.default;return a.createElement("g",{className:"odc-workload-node"},a.createElement(r.a,{content:V,trigger:"manual",isVisible:P&&C,animationDuration:0},a.createElement(m.a,Object.assign({className:"odc-workload-node",hoverRef:B,innerRadius:Object(g.b)(U,R),icon:X&&!W?J:void 0,kind:M.kind,element:S,dropTarget:P,canDrop:C,nodeStatus:!X&&h(R,te,re,ie,se),attachments:Q,contextMenuOpen:D,alertVariant:se},_),R&&X?a.createElement(g.a,{size:U,x:q,y:G,data:R,showPodCount:W}):null,T)))})),E=Object(i.observer)((function(e){var{element:t}=e,n=v(e,["element"]);const r=Object(d.k)(t.getData()),{podData:i,loadError:o,loaded:s}=Object(c.Se)(r,r.kind,r.metadata.namespace);return a.createElement(y,Object.assign({element:t,donutStatus:s&&!o?i:null},n))}))},5887:function(e,t,n){},5888:function(e,t,n){"use strict";var a=n(5694);n.d(t,"b",(function(){return a.a}));n(5830);var r=n(5763);n.d(t,"a",(function(){return r.a}));n(5831),n(5832),n(5833)},5889:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(0),r=n(5730);const i="NodeShadowsFilterId",o="NodeShadowsFilterId--hover",s=()=>a.createElement(a.Fragment,null,a.createElement(r.a,{id:i}),a.createElement(r.a,{id:o,dy:3,stdDeviation:7,floodOpacity:.24}))},5890:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(721),o=n(107),s=n(5619),l=n(31),c=n(13),u=n(15),d=n(198),p=n(2221),m=n(5923),b=n(5657),g=n(5924),v=n(5693),f=n(5768),h=n(5992),y=n(5995);n(5997);const E=["id","x","y"],O=a.memo(({visualizationReady:e,visualization:t,controlsDisabled:n,selectedId:i,dragHint:o})=>e?a.createElement("div",{className:"odc-topology-graph-view"},a.createElement(r.VisualizationProvider,{controller:t},a.createElement(r.VisualizationSurface,{state:{selectedIds:[i]}}),o&&a.createElement("div",{className:"odc-topology__hint-container"},a.createElement("div",{className:"odc-topology__hint-background"},o)),a.createElement(y.a,{visualization:t,isDisabled:n}))):null),j={graph:{id:"odc-topology-graph",type:"graph",layout:h.a,layers:[r.BOTTOM_LAYER,r.GROUPS_LAYER,"groups2",r.DEFAULT_LAYER,r.TOP_LAYER]}};t.a=Object(d.e)(Object(l.connect)(e=>({getStoredGraphModel:t=>Object(g.b)(e,t)}),e=>({onGraphModelChange:(t,n)=>{e(Object(g.e)(t,n))}}))(Object(u.if)(p.p,p.q,{})(a.memo(({model:e,application:t,namespace:n,onSelect:l,setVisualization:d,onGraphModelChange:p,getStoredGraphModel:g,userSettingState:y,setUserSettingState:k})=>{const R=a.useRef(null),[S,T]=a.useState(!1),[N,C]=a.useState(""),P=a.useRef(!1),w=Object(u.Ve)().get("selectId"),[D,_]=Object(c.kc)(b.a),[x,A]=Object(c.kc)(c.Xb),I=a.useCallback(()=>{const e=null==y?void 0:y[n],t=new r.Visualization;t.registerElementFactory(m.c),t.registerLayoutFactory(h.c);const a=i.a(()=>{const e=t.toModel(),a={id:e.graph.id,type:e.graph.type,x:e.graph.x,y:e.graph.y,scale:e.graph.scale,scaleExtent:e.graph.scaleExtent};p(n,a)},200),o=i.a(()=>{const e=t.toModel(),a=((e,t,n)=>{const a={};return a[e]={nodes:null==t?void 0:t.map(e=>Object.keys(e).reduce((t,n)=>(E.includes(n)&&(t[n]=e[n]),t),{})),layout:n},a})(n,e.nodes,e.graph.layout);k(e=>Object.assign(Object.assign({},e),a))},200);return t.addEventListener(r.NODE_POSITIONED_EVENT,o),t.addEventListener(r.GRAPH_POSITION_CHANGE_EVENT,a),e&&(h.b.includes(e.layout)?j.graph.layout=e.layout:(j.graph.layout=h.a,k(e=>Object.assign(Object.assign({},e),{layout:h.a})))),t.fromModel(j),t.addEventListener(r.SELECTION_EVENT,e=>{const n=e[0]?t.getElementById(e[0]):null;l(n)}),t},[n,p,l,k,y]),M=a.useRef();M.current||(M.current=I());const L=M.current;return a.useEffect(()=>{L&&d(L)},[d,L]),a.useEffect(()=>{var t;if(e&&S){if(!P.current){const a=g(n);a&&(e.graph=Object.assign(Object.assign({},j.graph),{x:a.x,y:a.y,scale:a.scale,scaleExtent:a.scaleExtent,data:null===(t=L.getGraph())||void 0===t?void 0:t.getData()}));const r=null==y?void 0:y[n];r&&e.nodes.forEach(e=>{const t=r.nodes.find(t=>t.id===e.id);t&&E.forEach(n=>{e[n]=t[n]})})}if(e.nodes.forEach(e=>{const t=L.getNodeById(e.id);t&&o.a(t.getData(),e.data)&&(e.data=t.getData())}),e.edges.forEach(e=>{const t=L.getEdgeById(e.id);t&&o.a(t.getData(),e.data)&&(e.data=t.getData())}),L.fromModel(e),!P.current&&(P.current=!0,null==y?void 0:y[n])){const e=L.getGraph(),t=L.getElements().filter(r.isNode);if(t.length){if(!t.find(t=>e.isNodeInView(t,{padding:0}))){const n=e.getBounds(),[a]=t.reduce(([e,t],a)=>{const r=((e,t)=>{const n=e.getBounds(),a=n.x+n.width/2,r=n.y+n.height/2,i=Math.max(t.x-a,0,a-(t.x+t.width)),o=Math.max(t.y-r,0,r-(t.y+t.height));return Math.sqrt(i*i+o*o)})(a,n);return!e||r<t?[a,r]:[e,t]},[null,0]);e.panIntoView(a)}}}const a=w?L.getElementById(w):null;a&&a.isVisible()?l(a):l()}},[e,L,S]),a.useEffect(()=>{_&&A&&(L.registerComponentFactory(f.q),[...D,...x].forEach(e=>{L.registerComponentFactory(e.properties.getFactory)}),L.addEventListener(v.a,(e,t)=>{C(t)}),T(!0))},[L,_,A,D,x]),a.useEffect(()=>{R.current?t!==R.current&&(R.current=t,L&&(L.getGraph().reset(),L.getGraph().layout())):R.current=t},[t,L]),a.useEffect(()=>{let e=null;if(L&&w){const t=L.getElementById(w);if(t){const n=Object(r.isNode)(t)?t:t.getSource();e=setTimeout(Object(s.f)(()=>{L.getGraph().panIntoView(n,{offset:20,minimumVisible:100}),e=null}),500)}}return()=>{e&&clearTimeout(e)}},[w,L]),a.createElement(O,{visualizationReady:S,visualization:L,controlsDisabled:!(null==e?void 0:e.nodes.length),dragHint:N,selectedId:w})}))),d.b)},5891:function(e,t,n){"use strict";var a=n(5585),r=n(5779),i=n(5652);t.a=e=>{switch(e){case a.ModelKind.graph:return new a.BaseGraph;case a.ModelKind.node:return new i.a;case a.ModelKind.edge:return new r.a;default:return}}},5899:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(5684),r=n(5586),i=n(5595),o=n(5588);const s=()=>Object(a.a)(r.TektonConfigModel,o.h),l=e=>{if(!e)return o.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[i.d.METRICS_PIPELINERUN_DURATION_TYPE]===i.b.HISTOGRAM&&t[i.d.METRICS_TASKRUN_DURATION_TYPE]===i.b.HISTOGRAM&&t[i.d.METRICS_PIPELINERUN_LEVEL]===i.c.PIPELINE&&t[i.d.METRICS_TASKRUN_LEVEL]===i.c.TASK?o.n.PIPELINE_TASK_LEVEL:t[i.d.METRICS_PIPELINERUN_DURATION_TYPE]===i.b.LASTVALUE&&t[i.d.METRICS_TASKRUN_DURATION_TYPE]===i.b.LASTVALUE&&t[i.d.METRICS_PIPELINERUN_LEVEL]===i.c.PIPELINERUN&&t[i.d.METRICS_TASKRUN_LEVEL]===i.c.TASKRUN?o.n.PIPELINERUN_TASKRUN_LEVEL:o.n.UNSUPPORTED_LEVEL}},5901:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),r=n(5932),i=n(4373),o=n(5931),s=n(5933),l=n(5591),c=n(5902),u=n(5778),d=n(5649);const p=(e,t,n,p,m)=>{if(p&&e)return m?a.createElement("image",{xlinkHref:m,width:t,height:t}):a.createElement(c.a,{style:{fontSize:t}});switch(Object(d.c)(e)){case l.b.INVALID:return null;case l.b.GITHUB:return a.createElement(o.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case l.b.BITBUCKET:return a.createElement(r.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case l.b.GITLAB:return a.createElement(s.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case l.b.GITEA:return a.createElement(u.a,{style:{fontSize:t},topology:!0});default:return a.createElement(i.a,{style:{fontSize:t},title:n("devconsole~Edit source code")})}}},5902:function(e,t,n){"use strict";var a=n(0);t.a=({style:e})=>a.createElement("svg",{height:"1em",width:"1em",version:"1.1",viewBox:"0 0 47 57",style:e},a.createElement("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",fill:"none"},a.createElement("path",{d:"M0.032227,30.88l-0.032227-17.087,23.853-13.793,23.796,13.784-14.691,8.51-9.062-5.109-23.864,13.695z",fill:"#fdb940"}),a.createElement("path",{d:"M0,43.355l23.876,13.622,23.974-13.937v-16.902l-23.974,13.506-23.876-13.506v17.217z",fill:"#525c86"})))},5907:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h}));var a=n(29),r=n(499),i=n(117),o=n(22);const s="snapshot.storage.kubernetes.io/pvc-storage-class",l="snapshot.storage.kubernetes.io/pvc-access-modes",c="snapshot.storage.kubernetes.io/pvc-volume-mode",u=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],d=["Filesystem","Block"],p=Object.freeze({"kubernetes.io/no-provisioner":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/aws-ebs":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"kubernetes.io/gce-pd":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/glusterfs":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/cinder":{Filesystem:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod","ReadWriteOncePod"]},"kubernetes.io/azure-file":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]},"kubernetes.io/azure-disk":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"kubernetes.io/quobyte":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"kubernetes.io/rbd":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/vsphere-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/portworx-volume":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"kubernetes.io/scaleio":{Filesystem:["ReadWriteOnce","ReadOnlyMany"],Block:["ReadWriteOnce","ReadOnlyMany"]},"kubernetes.io/storageos":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"manila.csi.openstack.org":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"]},"ebs.csi.aws.com":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"block.csi.ibm.com":{Filesystem:["ReadWriteOnce","ReadWriteMany"],Block:["ReadWriteOnce","ReadWriteMany"]},"csi.ovirt.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"cinder.csi.openstack.org":{Filesystem:["ReadWriteOnce"],Block:["ReadWriteOnce"]},"pd.csi.storage.gke.io":{Filesystem:["ReadWriteOnce","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteOncePod"]},"cephfs.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"rbd.csi.ceph.com":{Filesystem:["ReadWriteOnce","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],partialMatch:!0},"file.csi.azure.com":{Filesystem:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"],Block:["ReadWriteOnce","ReadWriteMany","ReadOnlyMany","ReadWriteOncePod"]}}),m=()=>[{value:"ReadWriteOnce",title:a.a.t("public~Single user (RWO)")},{value:"ReadWriteMany",title:a.a.t("public~Shared access (RWX)")},{value:"ReadOnlyMany",title:a.a.t("public~Read only (ROX)")},{value:"ReadWriteOncePod",title:a.a.t("public~Read write once pod (RWOP)")}],b=()=>[{value:"Filesystem",title:a.a.t("public~Filesystem")},{value:"Block",title:a.a.t("public~Block")}],g={i:"B",Ki:"KiB",Mi:"MiB",Gi:"GiB",Ti:"TiB",Pi:"PiB",Ei:"EiB"},v=e=>r.a(i.a(p,(t,n)=>!(!(null==t?void 0:t.partialMatch)||!(null==e?void 0:e.includes(n)))||n===e)||{},"partialMatch"),f=(e,t,n)=>{let a;const r=v(e);return a=o.a(r)?u:n?r[n]:Object.keys(r).map(e=>r[e]).flat(),a=[...new Set(a)],t?a.filter(e=>"ReadOnlyMany"!==e):a},h=(e,t)=>{const n=v(e);return o.a(n)?d:t?Object.keys(n).filter(e=>n[e].includes(t)):Object.keys(n)}},5909:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var a=n(131),r=n(10),i=n(8),o=n(5586),s=n(5588),l=n(5705),c=n(5687),u=n(5919),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const p=(e,t,n=0)=>d(void 0,void 0,void 0,(function*(){var s,l,c,d;const m=yield Object(i.kb)(o.EventListenerModel,e,t),b=null===(s=null==m?void 0:m.status)||void 0===s?void 0:s.configuration.generatedName;try{if(!b)return void(n<3?setTimeout(()=>p(e,t,n+1),500):yield Object(i.jb)(r.RouteModel,Object(u.b)(m),{ns:t}));const a=null===(d=null===(c=null===(l=(yield Object(i.kb)(r.ServiceModel,b,t)).spec)||void 0===l?void 0:l.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,o=Object(u.b)(m,b,a);yield Object(i.jb)(r.RouteModel,o,{ns:t})}catch(e){Object(a.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),m=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:n}=t,a=e.metadata.namespace,r=Object(c.e)(e,t,null,null,{generateName:!0}),s=n.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,r,s),m=yield Object(l.a)(a),b=Object(u.a)([n.resource],d,m),g={ns:a};let v;try{const e=yield Object(i.jb)(o.TriggerTemplateModel,d,g);v=[e,yield Object(i.jb)(o.EventListenerModel,b,g)]}catch(e){return Promise.reject(e)}return p(b.metadata.name,a),Promise.resolve(v)})),b=(e,t)=>d(void 0,void 0,void 0,(function*(){const n=[],a=t?t+"-push":"github-push",r=yield Object(i.kb)(o.ClusterTriggerBindingModel,a);if(r){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n;return Object.assign(Object.assign({},t),{type:s.x.VolumeClaimTemplate,data:Object(c.c)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)})}),triggerBinding:{name:a,resource:r}}),i=yield m(e,t);n.push(...i)}return Promise.resolve(n)}))},5919:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),r=n(8),i=n(15),o=n(5586),s=n(5588),l=n(5705);const c=(e,t,n)=>({apiVersion:Object(r.n)(o.TriggerTemplateModel),kind:o.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(i.wd)()}`},spec:{params:n,resourcetemplates:[t]}}),u=(e,t,n)=>{return{apiVersion:Object(r.n)(o.EventListenerModel),kind:o.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(i.wd)()},spec:{serviceAccountName:s.l,triggers:[{bindings:e.map(e=>0===(null==n?void 0:n.major)||1===(null==n?void 0:n.major)&&0===(null==n?void 0:n.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(a=t.metadata.name,Object(l.b)(n)?{ref:a}:{name:a})}]}};var a},d=(e,t,n=8080)=>{const i=e.metadata.name,s=t||"el-"+i;return{apiVersion:Object(r.n)(a.RouteModel),kind:a.RouteModel.kind,metadata:{name:s,labels:{"app.kubernetes.io/managed-by":o.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:i}},spec:{port:{targetPort:n},to:{kind:"Service",name:s,weight:100}}}}},5920:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),r=n(165),i=n(242),o=n(219),s=n(354),l=n(294),c=n(205),u=n(55),d=n(7),p=n(118),m=n(5),b=n(5634),g=n(5702),v=n(2221),f=n(5594);const h=e=>{var t;return a.createElement("span",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(m.fb,{kind:null===(t=e.getData().data)||void 0===t?void 0:t.kind})),e.getLabel())},y=({handleSubmit:e,isSubmitting:t,setTranslator:n,cancel:u,values:m,edge:b,availableTargets:g,status:v})=>{const{t:f}=Object(d.useTranslation)(),[y,E]=a.useState(!1),O=m.target.getId()!==b.getTarget().getId();n(f);const j=b.getSource().getLabel();return a.createElement("form",{onSubmit:e,className:"modal-content"},a.createElement(p.d,null,f("topology~Move connector")),a.createElement(p.a,null,a.createElement(i.a,{headingLevel:"h2",size:"md",className:"co-m-form-row"},a.createElement(d.Trans,{ns:"topology",t:f},"Connect ",a.createElement("strong",null,{sourceLabel:j})," to")),a.createElement("div",{className:"pf-v5-c-form"},a.createElement(o.a,{fieldId:"target-node",label:"Target"},a.createElement(s.a,{id:"target-node-dropdown",className:"dropdown--full-width",onSelect:(e,t)=>{t&&(m.target=t),E(!1)},toggle:e=>a.createElement(r.a,{id:"toggle-id",ref:e,onClick:()=>E(!y),isExpanded:y,isFullWidth:!0},h(m.target)),isOpen:y,onOpenChange:e=>E(e)},a.createElement(l.a,null,g.map(e=>a.createElement(c.a,{key:e.getId(),value:e,isSelected:m.target.getId()===e.getId()},h(e)))))))),a.createElement(p.c,{submitText:f("topology~Move"),submitDisabled:!O||t,cancel:u,inProgress:t,errorMessage:v&&v.submitError}))};class E extends m.bb{constructor(){super(...arguments),this.onSubmit=e=>{const{edge:t}=this.props;switch(t.getType()){case v.v:case v.w:return Object(f.b)(t.getSource(),e,t.getTarget());case b.k:return Object(g.b)(t.getSource(),e);case b.l:return Object(g.a)(t.getSource(),e);default:return Promise.reject(new Error(this.t("topology~Unable to move connector of type {{type}}.",{type:t.getType()})))}},this.handleSubmit=(e,t)=>{const{close:n}=this.props;return this.handlePromise(this.onSubmit(e.target)).then(()=>{n()}).catch(e=>{t.setStatus({submitError:e})})},this.setTranslator=e=>{this.t=e}}render(){const{edge:e}=this.props,t={target:e.getTarget()};return a.createElement(u.b,{initialValues:t,onSubmit:this.handleSubmit},e=>a.createElement(y,Object.assign({setTranslator:this.setTranslator},e,this.props)))}}const O=Object(p.f)(e=>a.createElement(E,Object.assign({},e)))},5921:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>n.e(297).then(n.bind(null,6125)).then(t=>t.editApplicationModal(e))},5922:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(91),o=n(108),s=n(99),l=n(15);const c=({obj:e})=>{var t,n,i;const{t:o}=Object(r.useTranslation)(),s=null!==(i=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.recommendation)||void 0===n?void 0:n.containerRecommendations)&&void 0!==i?i:[];return a.createElement(a.Fragment,null,s.length>0&&a.createElement("p",null,o("console-app~Recommended")),s.map(e=>a.createElement(a.Fragment,{key:e.containerName},a.createElement("div",null,o("console-app~Container name"),": ",e.containerName),a.createElement("div",null,o("console-app~CPU"),": ",e.target.cpu),a.createElement("div",null,o("console-app~Memory"),": ",e.target.memory))))},u=({obj:e})=>{var t;const{t:n}=Object(r.useTranslation)(),[u]=Object(o.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},namespace:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,isList:!0,namespaced:!0}),d=Object(l.Ld)(u,e);return a.createElement(a.Fragment,null,a.createElement("dt",null,n("console-app~VerticalPodAutoscalers")),a.createElement("dd",null,d.length>0?d.map(e=>{var t,n;return a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(s.ResourceLink,{groupVersionKind:Object(i.d)(e),name:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name,namespace:null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.namespace})),a.createElement(c,{obj:e}))}):n("console-app~No VerticalPodAutoscalers")))}},5923:function(e,t,n){"use strict";var a=n(5779);n.d(t,"a",(function(){return a.a}));var r=n(5652);n.d(t,"b",(function(){return r.a}));var i=n(5891);n.d(t,"c",(function(){return i.a}))},5924:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l}));var a,r=n(42);!function(e){e.topologyFilters="topologyFilters",e.supportedTopologyFilters="supportedTopologyFilters",e.supportedTopologyKinds="supportedTopologyKinds",e.topologyGraphModel="topologyGraphModel"}(a||(a={}));const i=e=>Object(r.action)(a.supportedTopologyFilters,{supportedFilters:e}),o=e=>Object(r.action)(a.supportedTopologyKinds,{supportedKinds:e}),s=(e,t)=>Object(r.action)(a.topologyGraphModel,{namespace:e,graphModel:t}),l=(e,t)=>{var n,a,r;const i=null===(a=null===(n=null==e?void 0:e.plugins)||void 0===n?void 0:n.devconsole)||void 0===a?void 0:a.topology;return null===(r=null==i?void 0:i.get("topologyGraphModel"))||void 0===r?void 0:r[t]}},5944:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(5588);const r=()=>{var e;try{return JSON.parse(null!==(e=sessionStorage.getItem(a.k))&&void 0!==e?e:"{}")}catch(e){return{}}},i=e=>{var t;return null!==(t=r()[e])&&void 0!==t?t:[]},o=(e,t)=>i(t).includes(e),s=(e,t)=>{if(!e||!t)return;const n=i(t).filter(t=>t!==e);sessionStorage.setItem(a.k,JSON.stringify(Object.assign(Object.assign({},r()),{[t]:n})))},l=(e,t)=>{if(!e||!t)return;const n=r();n[t]||(n[t]=[]),n[t].includes(e)||(n[t].push(e),sessionStorage.setItem(a.k,JSON.stringify(n)))}},5945:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(0),r=n(80),i=n(1923),o=n(16),s=n(255),l=n(1533),c=n(6772),u=n(240),d=n(50),p=n(279),m=n(116),b=n(22),g=n(4440),v=n(7),f=n(14),h=n(1410),y=n(1955),E=n(5),O=n(108),j=n(8);n(15);const k=e=>{const t=[...o.a(e,"status.containerStatuses",[]),...o.a(e,"status.initContainerStatuses",[])],n=s.a(t,(t,n)=>n.state.running?[...t,o.a(n,"state.running.startedAt")]:n.state.terminated?[...t,o.a(n,"state.terminated.finishedAt")]:n.lastState.running?[...t,o.a(n,"lastState.running.startedAt")]:n.lastState.terminated?[...t,o.a(n,"lastState.terminated.finishedAt")]:[...t,o.a(n,o.a(e,"startTime"))],[]);return l.a(c.a(n.sort()))},R=["ContainerCannotRun","CrashLoopBackOff","Critical","Error","Failed","InstallCheckFailed","Cancelled","Expired","Not Ready","Terminating"],S=e=>u.a(R,Object(j.zb)(e)),T=e=>"Evicted"===Object(j.zb)(e),N=(e,t)=>{const n=S(e);if(n!==S(t))return n?-1:1;const a=T(e);if(a!==T(t))return a?1:-1;const r=k(e),i=k(t);return r<i?1:r>i?-1:e.metadata.name.localeCompare(t.metadata.name)},C=({pod:e})=>{const{metadata:{name:t,namespace:n}}=e,{t:r}=Object(v.useTranslation)();return a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"row"},a.createElement("span",{className:"col-xs-5"},a.createElement(E.hb,{kind:"Pod",name:t,namespace:n})),a.createElement("span",{className:"col-xs-3"},a.createElement(h.PodStatus,{pod:e})),a.createElement("span",{className:"col-xs-1"},a.createElement(y.a,{podName:t,namespace:n,tooltipFlag:!0})),a.createElement("span",{className:"col-xs-3 text-right"},a.createElement(f.Link,{to:Object(E.tc)("Pod",t,n)+"/logs"},r("public~View logs")))))};C.displayName="PodOverviewItem";const P=({pods:e})=>a.createElement("ul",{className:"list-group"},d.a(e,e=>a.createElement(C,{key:e.metadata.uid,pod:e})));P.displayName="PodsOverviewList";const w=({obj:e,pods:t,loaded:n,loadError:o,allPodsLink:s,emptyText:l,buildConfigData:c})=>{var u;const{metadata:{name:d,namespace:h}}=e,{t:y}=Object(v.useTranslation)(),[k,R]=a.useState(!1),T=((e,t)=>{const n={buildRunBeta:{groupVersionKind:{group:"shipwright.io",version:"v1beta1",kind:"BuildRun"},namespace:e},buildRunAlpha:{groupVersionKind:{group:"shipwright.io",version:"v1alpha1",kind:"BuildRun"},namespace:e}},r=Object(O.b)(n);return a.useMemo(()=>{const e=Object.assign(Object.assign({},r.buildRunBeta.data||{}),r.buildRunAlpha.data||{});return Object.keys(e).filter(n=>{var a,r;return(null===(r=null===(a=e[n].spec)||void 0===a?void 0:a.build)||void 0===r?void 0:r.name)===t}).map(t=>e[t])},[r,t])})(h,d),C=(null===(u=null==c?void 0:c.buildConfigs)||void 0===u?void 0:u.length)>0&&!c.buildConfigs[0].builds.some(e=>(e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.completionTimestamp})(e)),w=(null==T?void 0:T.length)>0&&!T.some(e=>(e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type);return("True"===(null==a?void 0:a.status)||"False"===(null==a?void 0:a.status))&&"Succeeded"===(null==a?void 0:a.reason)})(e)),D=(C||w)&&(e=>{var t,n;return"Deployment"===e.kind&&"OpenShiftWebConsole"===(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/generated-by"])})(e);let _=[...t];D&&!k&&(_=_.filter(e=>!(e=>{var t,n,a;return"Pending"===(null===(t=e.status)||void 0===t?void 0:t.phase)&&(null===(a=null===(n=e.status)||void 0===n?void 0:n.containerStatuses)||void 0===a?void 0:a.some(e=>!e.imageID))})(e))),_.sort(N);const x=p.a(m.a(t,e=>S(e))),A=Math.max(Math.min(x,10),3),I=s||Object(E.tc)(Object(j.Db)(e),d,h)+"/pods",M=l||y("console-shared~No Pods found for this resource."),L=D?a.createElement(r.a,{isInline:!0,variant:"info",title:y("public~Waiting for the build"),actionLinks:a.createElement(i.a,{onClick:()=>R(!k),"data-test":"waiting-pods"},y(k?"console-shared~Hide waiting pods with errors":"console-shared~Show waiting pods with errors"))},y('console-shared~Waiting for the first build to run successfully. You may temporarily see "ImagePullBackOff" and "ErrImagePull" errors while waiting.')):null;return a.createElement(a.Fragment,null,a.createElement(E.ub,{text:y("public~Pods")},p.a(t)>A&&a.createElement(f.Link,{className:"sidebar__section-view-all",to:I},y("console-shared~View all {{podSize}}",{podSize:p.a(t)}))),(null==c?void 0:c.loaded)&&!(null==c?void 0:c.loadError)&&L,b.a(_)?a.createElement("span",{className:"text-muted"},n||o?M:a.createElement(E.S,null)):a.createElement(P,{pods:g.a(_,A)}))};w.displayName="PodsOverviewContent"},5946:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),r=n(19),i=n(1196),o=n(7),s=n(14),l=n(13),c=n(974),u=n(1942),d=n(5),p=n(158),m=n(10),b=n(8),g=n(415),v=n(15);const f=({build:e})=>{var t,n;const{t:r}=Object(o.useTranslation)();switch(e.status.phase){case g.a.Cancelled:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," was cancelled");case g.a.Complete:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," was complete");case g.a.Error:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," encountered an error");case g.a.Failed:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," failed");case g.a.New:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is new");case g.a.Pending:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is pending");case g.a.Running:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is running");default:return a.createElement(o.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is ",null===(n=null===(t=e.status)||void 0===t?void 0:t.phase)||void 0===n?void 0:n.toLowerCase())}},h=({build:e})=>{const{status:{logSnippet:t,message:n,phase:r}}=e;return[g.a.Error,g.a.Failed].includes(r)?a.createElement(v.ib,{message:n,logSnippet:t}):null},y=({build:e})=>{const{metadata:{creationTimestamp:t},status:{completionTimestamp:n,startTimestamp:r,phase:o}}=e,s=n||r||t;return a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",{className:"build-overview__status co-icon-and-text"},a.createElement("div",{className:"co-icon-and-text__icon co-icon-flex-child"},"Running"===o?a.createElement(l.A,{icon:a.createElement(i.a,null),title:o,spin:!0,iconOnly:!0}):a.createElement(v.cc,{status:o,iconOnly:!0})),a.createElement("div",null,a.createElement(f,{build:e}),s&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:"build-overview__item-time text-muted"},"(",Object(p.e)(s),")")))),a.createElement("div",null,a.createElement(c.BuildLogLink,{build:e}))),a.createElement(h,{build:e}))},E=({buildConfig:e})=>{const{metadata:{name:t,namespace:n},builds:i}=e,{t:l}=Object(o.useTranslation)(),c=Object(d.Dc)({group:m.BuildConfigModel.apiGroup,resource:m.BuildConfigModel.plural,subresource:"instantiate",name:t,namespace:n,verb:"create"});return a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",null,a.createElement(d.hb,{inline:!0,kind:"BuildConfig",name:t,namespace:n})),i.length>3&&a.createElement("div",null,a.createElement(s.Link,{className:"sidebar__section-view-all",to:Object(d.tc)(Object(b.Db)(e),t,n)+"/builds"},l("topology~View all {{buildsLength}}",{buildsLength:i.length}))),c&&a.createElement("div",null,a.createElement(r.a,{variant:"secondary",onClick:()=>{Object(g.d)(e).catch(e=>{const t=e.message;Object(u.errorModal)({error:t})})},"data-test-id":"start-build-action"},l("topology~Start Build"))))),(null==i?void 0:i.length)>0?i.slice(0,3).map(e=>a.createElement(y,{key:e.metadata.uid,build:e})):a.createElement("li",{className:"list-group-item"},a.createElement("span",{className:"text-muted"},l("topology~No Builds found for this Build Config."))))},O=({buildConfigs:e})=>{const{t:t}=Object(o.useTranslation)();return(null==e?void 0:e.length)>0?a.createElement("div",{className:"build-overview"},a.createElement(d.ub,{text:t("topology~Builds")}),e.map(e=>a.createElement(E,{key:e.metadata.uid,buildConfig:e}))):null}},5947:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),r=n(5794),i=n(7),o=n(2222),s=n(5),l=n(15);const c=({service:e})=>{var t,n;const o=null!==(n=null===(t=e.spec)||void 0===t?void 0:t.ports)&&void 0!==n?n:[],{t:s}=Object(i.useTranslation)();return a.createElement("ul",{className:"port-list"},o.map(({name:e,port:t,protocol:n,targetPort:i})=>a.createElement("li",{key:e||`${n}/${t}`},a.createElement("span",{className:"text-muted"},s("topology~Service port:"))," ",e||`${n}/${t}`," ",a.createElement(r.a,null)," ",a.createElement("span",{className:"text-muted"},s("topology~Pod port:"))," ",i)))},u=({service:e})=>{const{name:t,namespace:n}=e.metadata;return a.createElement("li",{className:"list-group-item"},a.createElement(s.hb,{kind:"Service",name:t,namespace:n}),a.createElement(c,{service:e}))},d=({services:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,service:e}))),p=({route:e})=>{const{name:t,namespace:n}=e.metadata,{t:r}=Object(i.useTranslation)();return a.createElement("li",{className:"list-group-item"},a.createElement(s.hb,{kind:"Route",name:t,namespace:n}),a.createElement("span",{className:"text-muted"},r("topology~Location:")),a.createElement(o.b,{obj:e}))},m=({routes:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(p,{key:e.metadata.uid,route:e}))),b=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),n=Object(l.af)(e),r=n.loaded&&!n.loadError?n.services:[],o=Object(l.Ye)(e),c=o.loaded&&!o.loadError?o.routes:[];return a.createElement(a.Fragment,null,a.createElement(s.ub,{text:t("topology~Services")}),(null==r?void 0:r.length)>0?a.createElement(d,{services:r}):a.createElement("span",{className:"text-muted"},t("topology~No Services found for this resource.")),a.createElement(s.ub,{text:t("topology~Routes")}),(null==c?void 0:c.length)>0?a.createElement(m,{routes:c}):a.createElement("span",{className:"text-muted"},t("topology~No Routes found for this resource.")))}},5948:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),r=n(270),i=n(7),o=n(14),s=n(5),l=n(8),c=n(15);const u=({job:e})=>{const{metadata:{name:t,namespace:n}}=e,i=Object(s.tc)(Object(l.Db)(e),t,n)+"/pods",{podData:u,loaded:d,loadError:p}=Object(c.Se)(e,"Job",n);return d&&!p?a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"job-overview__item"},a.createElement(s.hb,{kind:"Job",name:t,namespace:n}),a.createElement(o.Link,{to:i,className:"overview__pod-donut-sm"},a.createElement(c.Bb,{standalone:!0,data:u.pods,size:25,innerRadius:8,outerRadius:12,title:""+u.pods.length,titleComponent:a.createElement(r.a,{style:{fontSize:"10px"}}),showTooltip:!1})))):null};u.displayName="JobOverviewItem";const d=({jobs:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,job:e})));d.displayName="JobsOverviewList";const p=({jobs:e,obj:t,allJobsLink:n,emptyText:r})=>{const{metadata:{name:c,namespace:u}}=t,{t:p}=Object(i.useTranslation)(),m=n||Object(s.tc)(Object(l.Db)(t),c,u)+"/jobs",b=r||p("topology~No Jobs found for this resource.");return a.createElement(a.Fragment,null,a.createElement(s.ub,{text:"Jobs"},(null==e?void 0:e.length)>3&&a.createElement(o.Link,{className:"sidebar__section-view-all",to:m},p("topology~View all ({{jobCount}})",{jobCount:e.length}))),(null==e?void 0:e.length)>0?a.createElement(d,{jobs:e.slice(0,3)}):a.createElement("span",{className:"text-muted"},b))}},5949:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(1195);const i=(e,t,n,i,o,s,l,c)=>{const u=t?Object.keys(t):[];return a.createElement(a.Fragment,null,u.map(a=>((e,t,n,a,i,o,s,l,c)=>{var u,d;let p,m;const b=o>0?o:l/2,g=o>0?o:c/2,v=o>0?.7*s:0;switch(e){case r.r.upperRight:p=a+b-v,m=i-g+v;break;case r.r.lowerRight:p=a+b-v,m=i+g-v;break;case r.r.upperLeft:p=a-b+v,m=i-g+v;break;case r.r.lowerLeft:p=a-b+v,m=i+g-v;break;default:p=a,m=i}let f,h=0;const y=null!==(d=null===(u=null==n?void 0:n[e])||void 0===u?void 0:u.length)&&void 0!==d?d:0;for(;!f&&h<y;)f=n[e][h++].decorator(t,s,p,m);return f})(a,e,t,n,i,o,s,l,c)))}},5950:function(e,t,n){},5951:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(15),i=n(2221),o=n(5589);const s=e=>{var t,n,s,l;const c="true"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[i.n]),u=null===(l=null===(s=null==e?void 0:e.metadata)||void 0===s?void 0:s.annotations)||void 0===l?void 0:l[i.o],d=Object(r.Ye)(e),p=a.useMemo(()=>d.loaded&&!d.loadError?d.routes:[],[d]),m=a.useMemo(()=>Object(o.i)(e,p),[e,p]),b=u||m;return c||!b||!b.startsWith("http://")&&!b.startsWith("https://")?null:b}},5974:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(5668),o=n(15),s=n(5808);t.a=(e,t,n,l=!0)=>c=>{const u=i=>{const u=a.useContext(r.ElementContext),[d,p]=a.useState(null),m=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p(l?{x:e.pageX,y:e.pageY}:e.currentTarget)},[]);return a.createElement(a.Fragment,null,a.createElement(c,Object.assign({},i,{onContextMenu:m,contextMenuOpen:!!d})),d?a.createElement(o.j,{context:e(u)},({options:e,loaded:i})=>i?a.createElement(r.ContextMenu,{reference:d,container:t,className:n,open:!0,onRequestClose:()=>p(null)},Object(s.b)(e)):null):null)};return u.displayName=`withContextMenu(${c.displayName||c.name})`,Object(i.a)(u)}},5975:function(e,t,n){},5976:function(e,t,n){},5977:function(e,t,n){},5978:function(e,t,n){},5979:function(e,t,n){},5980:function(e,t,n){},5981:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(18);t.a=e=>{const{dragInProgress:t,dragEditInProgress:n,hasDropTarget:o,dragCreate:s}=e,l=i("odc-graph",{"odc-m-drag-create":s}),c=e.element.getController();return a.useEffect(()=>{c.setRenderConstraint(!t)},[c,t]),a.useEffect(()=>{const e=[],t=[];n?e.push("odc-m-drag-active"):t.push("odc-m-drag-active"),o?e.push("odc-m-valid-drop-target"):t.push("odc-m-valid-drop-target"),e.length&&e.forEach(e=>document.body.classList.add(e)),t.length&&t.forEach(e=>document.body.classList.remove(e))},[n,o]),a.createElement("g",{className:l},a.createElement(r.GraphComponent,Object.assign({},e)))}},5982:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="bridge/topology-display-filters"},5983:function(e,t,n){},5984:function(e,t,n){},5985:function(e,t,n){"use strict";var a=n(0),r=n(873),i=n(7),o=n(15);n(5986);t.a=()=>{const{t:e}=Object(i.useTranslation)();return a.createElement("div",{className:"odc-regroup-hint"},a.createElement(r.a,{className:"odc-regroup-hint__icon"}),a.createElement("span",{className:"odc-regroup-hint__text"},a.createElement(o.Yb,null,a.createElement(o.Xb,{shift:!0,drag:!0},e("topology~Edit application grouping")))))}},5986:function(e,t,n){},5987:function(e,t,n){"use strict";var a=n(0),r=n(6102),i=n(4),o=n(5585),s=n(5841),l=n.n(s),c=n(6210),u=n(57),d=n(4425),p=n(4426),m=n(5668);t.a=Object(m.a)(({className:e,element:t,collapsible:n,selected:s,onSelect:m,hover:b,label:g,secondaryLabel:v,showLabel:f=!0,truncateLength:h,dndDropRef:y,droppable:E,canDrop:O,dropTarget:j,onContextMenu:k,contextMenuOpen:R,dragging:S,dragNodeRef:T,badge:N,badgeColor:C,badgeTextColor:P,badgeBorderColor:w,badgeClassName:D,badgeLocation:_,labelIconClass:x,labelIcon:A,labelIconPadding:I,onCollapseChange:M})=>{const[L,F]=Object(o.useHover)(),[B,U]=Object(o.useHover)(),$=Object(o.useDragNode)()[1],K=Object(o.useCombineRefs)(F,T),q=void 0!==b?b:L,G=Object(o.useSvgAnchor)(),V=Object(o.useCombineRefs)(y,G),H=a.useRef(),W=a.useRef();let z=t.getParent(),Y=!1;for(;!Object(o.isGraph)(z);)Y=!Y,z=z.getParent();const J=Object(o.maxPadding)(t.getStyle().padding),X=e=>(e[2]||0)+J;if(!E||!W.current||!H.current){const e=t.getNodes().filter(e=>e.isVisible());if(0===e.length)return null;const n=[];u.a(e,e=>{if(e.getNodeShape()===o.NodeShape.circle){const t=e.getBounds(),{width:a,height:r}=t,{x:i,y:o}=t.getCenter(),s=Math.max(a,r)/2;n.push([i,o,s])}else{const{width:t,height:a,x:r,y:i}=e.getBounds();n.push([r,i,0]),n.push([r+t,i,0]),n.push([r,i+a,0]),n.push([r+t,i+a,0])}});const a=n.length>2?Object(c.a)(n):n;if(!a)return null;W.current=Object(o.hullPath)(a,X),H.current=function(e){let t;return u.a(e,e=>{const n=t?Math.round(e[1])-Math.round(t[0][1]):1/0;n>5?t=[e]:Math.abs(n)<=5&&t.push(e)}),[(d.a(t,e=>e[0])[0]+p.a(t,e=>e[0])[0])/2,t[0][1],p.a(t,e=>e[2])[2]]}(a)}const Q=Object(i.css)(l.a.topologyGroup,e,Y&&"pf-m-alt-group",O&&"pf-m-highlight",S&&"pf-m-dragging",s&&"pf-m-selected"),Z=Object(i.css)(l.a.topologyGroup,e,Y&&"pf-m-alt-group",O&&"pf-m-highlight",S&&"pf-m-dragging",s&&"pf-m-selected",(q||B)&&"pf-m-hover",O&&j&&"pf-m-drop-target");return a.createElement("g",{ref:U,onContextMenu:k,onClick:m,className:Q},a.createElement(o.Layer,{id:o.GROUPS_LAYER},a.createElement("g",{ref:K,onContextMenu:k,onClick:m,className:Z},a.createElement("path",{ref:V,className:l.a.topologyGroupBackground,d:W.current}))),f&&a.createElement(o.NodeLabel,{className:l.a.topologyGroupLabel,"data-test":"group-label-text",x:H.current[0],y:H.current[1]+X(H.current)+24,paddingX:8,paddingY:5,dragRef:T?$:void 0,status:t.getNodeStatus(),secondaryLabel:v,truncateLength:h,badge:N,badgeColor:C,badgeTextColor:P,badgeBorderColor:w,badgeClassName:D,badgeLocation:_,labelIconClass:x,labelIcon:A,labelIconPadding:I,onContextMenu:k,contextMenuOpen:R,hover:q||B,actionIcon:n?a.createElement(r.a,null):void 0,onActionIconClick:()=>M(t,!0)},g||t.getLabel()))})},5988:function(e,t,n){},5989:function(e,t,n){},5990:function(e,t,n){},5991:function(e,t,n){},5992:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(5993);const r="Cola",i=["Cola"],o=(e,t)=>"Cola"===e?new a.a(t,{layoutOnDrag:!1}):void 0},5993:function(e,t,n){"use strict";var a=n(5585),r=n(5994);class i extends a.ColaLayout{getConstraints(e,t,n){return Object(r.a)(e,t,n,this.options)}startLayout(e,t,n){var a;0!==(null===(a=e.getNodes())||void 0===a?void 0:a.filter(e=>e.isVisible()).length)&&super.startLayout(e,t,n)}}t.a=i},5994:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5585),r=n(16),i=n(1533),o=n(5634);const s=e=>{const t=e.element.getData();return new Date(r.a(t,"resources.obj.metadata.creationTimestamp",0))},l=(e,t)=>s(e)>s(t)?-1:1,c=(e,t,n,r,i)=>{const s=[],c=e.filter(e=>!(e.element.getType()!==t||e.target.isFixed||e.source.isFixed||e.target.element!==n.element&&e.source.element!==n.element&&e.target.element.getParent()!==n.element)).sort((e,t)=>l(e.source,t.source));if(c.length){const e=c.reduce((e,t)=>e+t.source.height,0),l=n instanceof a.ColaGroup?i.radius+Object(a.getGroupPadding)(n.element):i.width/2,u={type:"alignment",axis:"y",offsets:[{node:c[0].target.index,offset:0}]};let d=-e/2;c.forEach(e=>{t===o.f?u.offsets.push({node:e.target.index,offset:d+e.target.height/2}):u.offsets.push({node:e.source.index,offset:d+e.source.height/2}),t===o.h?s.push({axis:"x",left:e.source.index,right:e.target.index,gap:l+e.source.width/2+r.linkDistance,equality:!0}):s.push({axis:"x",left:e.source.index,right:i.index,gap:l+e.source.width/2+r.linkDistance,equality:!0}),d+=e.source.height}),s.push(u)}return s},u=(e,t,n,r)=>{let s=[];return[...t,...e].filter(e=>[o.e,o.q,o.o].includes(e.element.getType())).forEach(e=>{const t=e instanceof a.ColaGroup&&e.leaves.sort(l).filter(e=>!e.isFixed),u=t&&i.a(t)||e;if(e.element.getType()===o.o){const e={type:"alignment",axis:"y",offsets:[]};if(t){for(let n=0;n<t.length;n++)e.offsets.push({node:t[n].index,offset:0}),n<t.length-1&&s.push({axis:"x",left:t[n].index,right:t[n+1].index,gap:t[n].width,equality:!0});e.offsets.length&&s.push(e)}}const d=c(n,o.k,e,r,u),p=c(n,o.f,e,r,u),m=c(n,o.h,e,r,u);s=[...s,...d,...p,...m]}),s}},5995:function(e,t,n){"use strict";var a=n(0),r=n(5585),i=n(7);n(5996);const o=Object(r.observer)(({visualization:e,isDisabled:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement("span",{className:"pf-topology-control-bar odc-topology-control-bar"},a.createElement(r.TopologyControlBar,{controlButtons:[...Object(r.createTopologyControlButtons)(Object.assign(Object.assign({},r.defaultControlButtonsOptions),{zoomInCallback:Object(r.action)(()=>{e.getGraph().scaleBy(4/3)}),zoomInTip:n("topology~Zoom in"),zoomInAriaLabel:n("topology~Zoom in"),zoomInDisabled:t,zoomOutCallback:Object(r.action)(()=>{e.getGraph().scaleBy(.75)}),zoomOutTip:n("topology~Zoom out"),zoomOutAriaLabel:n("topology~Zoom out"),zoomOutDisabled:t,fitToScreenCallback:Object(r.action)(()=>{e.getGraph().fit(80)}),fitToScreenTip:n("topology~Fit to screen"),fitToScreenAriaLabel:n("topology~Fit to screen"),fitToScreenDisabled:t,resetViewCallback:Object(r.action)(()=>{e.getGraph().reset(),e.getGraph().layout()}),resetViewTip:n("topology~Reset view"),resetViewAriaLabel:n("topology~Reset view"),resetViewDisabled:t,legend:!1}))]}))});t.a=o},5996:function(e,t,n){},5997:function(e,t,n){},6038:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u}));var a=n(29);const r="taskError";var i,o;!function(e){e[e.ADD_LIST_TASK=0]="ADD_LIST_TASK",e[e.ADD_FINALLY_LIST_TASK=1]="ADD_FINALLY_LIST_TASK",e[e.ADD_LOADING_TASK=2]="ADD_LOADING_TASK",e[e.ADD_FINALLY_LOADING_TASK=3]="ADD_FINALLY_LOADING_TASK",e[e.CONVERT_LOADING_TASK_TO_TASK=4]="CONVERT_LOADING_TASK_TO_TASK",e[e.CONVERT_LOADING_TASK_TO_FINALLY_TASK=5]="CONVERT_LOADING_TASK_TO_FINALLY_TASK",e[e.CONVERT_LIST_TO_TASK=6]="CONVERT_LIST_TO_TASK",e[e.CONVERT_LIST_TO_FINALLY_TASK=7]="CONVERT_LIST_TO_FINALLY_TASK",e[e.RENAME_TASK=8]="RENAME_TASK",e[e.REMOVE_TASK=9]="REMOVE_TASK",e[e.DELETE_LIST_TASK=10]="DELETE_LIST_TASK",e[e.DELETE_FINALLY_LIST_TASK=11]="DELETE_FINALLY_LIST_TASK",e[e.FIX_INVALID_LIST_TASK=12]="FIX_INVALID_LIST_TASK",e[e.FIX_INVALID_FINALLY_LIST_TASK=13]="FIX_INVALID_FINALLY_LIST_TASK"}(i||(i={})),function(e){e.NAME_ERROR="nameError",e.MISSING_REQUIRED_PARAMS="missingParams",e.MISSING_RESOURCES="missingResources",e.MISSING_WORKSPACES="missingWorkspaces",e.MISSING_REQUIRED_WHEN_EXPRESSIONS="missingWhenExpressions"}(o||(o={}));const s={[o.NAME_ERROR]:["name"],[o.MISSING_REQUIRED_PARAMS]:["params"],[o.MISSING_RESOURCES]:["resources"],[o.MISSING_WORKSPACES]:["workspaces"],[o.MISSING_REQUIRED_WHEN_EXPRESSIONS]:["when"]},l=e=>{switch(e){case o.NAME_ERROR:return a.a.t("pipelines-plugin~Invalid name");case o.MISSING_REQUIRED_PARAMS:return a.a.t("pipelines-plugin~Missing parameters");case o.MISSING_RESOURCES:return a.a.t("pipelines-plugin~Missing resources");case o.MISSING_WORKSPACES:return a.a.t("pipelines-plugin~Missing workspaces");case o.MISSING_REQUIRED_WHEN_EXPRESSIONS:return a.a.t("pipelines-plugin~Invalid when expressions");default:throw new Error("Unknown errorType, "+e)}};var c;!function(e){e.in="in",e.notin="notin"}(c||(c={}));const u={name:"new-pipeline",params:[],resources:[],workspaces:[],tasks:[],listTasks:[],finallyTasks:[],finallyListTasks:[],loadingTasks:[]}},6056:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return j}));var a=n(0),r=n(2324),i=n(367),o=n(2222),s=n(5684),l=n(108),c=n(10),u=n(8),d=n(5586),p=n(5635);const m=e=>e.metadata.name,b=e=>{var t;return(null===(t=e.spec.triggers)||void 0===t?void 0:t.map(e=>{var t,n;return(null===(t=e.template)||void 0===t?void 0:t.ref)||(null===(n=e.template)||void 0===n?void 0:n.name)}))||[]},g=e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.configuration.generatedName},v=e=>{const t=a.useMemo(()=>({kind:Object(u.Hb)(d.EventListenerModel),isList:!0,namespace:e}),[e]),[n,r,i]=Object(l.a)(t);return r&&!i?n:null},f=(e,t)=>{const n=v(t),s=a.useMemo(()=>n?Object(i.a)(n.map(b)).filter(e=>!!e).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:{kind:Object(u.Hb)(d.TriggerTemplateModel),name:n,namespace:t,optional:!0}}),{}):{},[n,t]),p=Object(l.b)(s),f=((e,t)=>{const n=a.useMemo(()=>(t||[]).map(g).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:{kind:c.RouteModel.kind,name:n,namespace:e,optional:!0}}),{}),[e,t]),i=Object(l.b)(n);return Object(r.a)(i,e=>e.data)})(t,n),h=Object.values(p),y=Object.keys(s).length,E=h.filter(({loaded:e})=>e).length,O=h.filter(({loadError:e})=>!!e).length;if(0===E||E!==y-O)return null;const j=h.filter(e=>e.loaded).map(e=>e.data).filter(t=>{var n,a,r,i;const o=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.resourcetemplates)||void 0===a?void 0:a.find(({kind:e})=>e===d.PipelineRunModel.kind);return(null===(i=null===(r=null==o?void 0:o.spec)||void 0===r?void 0:r.pipelineRef)||void 0===i?void 0:i.name)===e}).map(m);return(n||[]).reduce((e,t)=>{const n=b(t),a=g(t),r=j.find(e=>n.includes(e)),i=f[a];if(!r)return e;let s=null;try{i&&(s=Object(o.c)(i))}catch(e){}return[...e,{routeURL:s,triggerTemplateName:r}]},[])},h=(e,t)=>{var n;const[a,r]=Object(s.a)(c.RouteModel,g(e),t);return r&&(null===(n=null==a?void 0:a.status)||void 0===n?void 0:n.ingress)?Object(o.c)(a):null},y=e=>null==e?void 0:e.map(e=>({resourceKind:Object(p.g)(e.kind),name:e.ref||e.name})),E=e=>{var t;return(null===(t=e.spec.resourcetemplates.find(({kind:e})=>e===d.PipelineRunModel.kind))||void 0===t?void 0:t.spec.pipelineRef.name)||""},O=e=>(v(e.metadata.namespace)||[]).filter(t=>{var n;return null===(n=t.spec.triggers)||void 0===n?void 0:n.find(t=>{var n,a;return[null===(n=t.template)||void 0===n?void 0:n.ref,null===(a=t.template)||void 0===a?void 0:a.name].includes(m(e))})}).map(m),j=e=>(v(e.metadata.namespace)||[]).filter(t=>{var n;return null===(n=t.spec.triggers)||void 0===n?void 0:n.find(({bindings:t})=>null==t?void 0:t.find(({kind:t,name:n})=>m(e)===n&&Object(p.e)(t).kind===e.kind))}).map(m)},6057:function(e,t,n){"use strict";var a=n(6089);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));var r=n(6247);n.d(t,"a",(function(){return r.a}))},6087:function(e,t,n){"use strict";n.d(t,"d",(function(){return k})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return N}));var a=n(0),r=n(29),i=n(16),o=n(22),s=n(225),l=n(499),c=n(131),u=n(5),d=n(8),p=n(5588),m=n(6357),b=n(5687),g=n(6122),v=n(5669),f=n(5586),h=n(5635),y=n(5623);const E=e=>{u.Vb.push(Object(u.uc)(f.PipelineRunModel,e.metadata.name,e.metadata.namespace))},O=(e,t,n)=>({labelKey:"pipelines-plugin~Start",callback:()=>{const e=i.a(t,["spec","params"],[]),a=i.a(t,["spec","resources"],[]),r=i.a(t,["spec","workspaces"],[]);o.a(e)&&o.a(a)&&o.a(r)?((e,t)=>{Object(d.jb)(f.PipelineRunModel,Object(b.d)(e)).then(t).catch(e=>Object(c.s)({error:e.message}))})(t,n):Object(m.c)({pipeline:t,modalClassName:"modal-lg",onSubmit:n})},accessReview:{group:f.PipelineRunModel.apiGroup,resource:f.PipelineRunModel.plural,namespace:t.metadata.namespace,verb:"create"}}),j=(e,t,n,a={})=>{const{labelKey:r="pipelines-plugin~Start last run",onComplete:i}=a,o={labelKey:r,accessReview:{}};return t&&s.a(t,"metadata.name")&&s.a(t,"metadata.namespace")?Object.assign(Object.assign({},o),{callback:()=>{Object(d.jb)(e,Object(b.d)(null,t)).then("function"==typeof i?i:()=>{}).catch(e=>Object(c.s)({error:e.message}))},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}):o},k=(e,t)=>j(e,t),R=(e,t)=>{var n,i,o,s,l,d,p,m;const b=(null===(i=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.annotations)||void 0===i?void 0:i["results.tekton.dev/log"])||(null===(s=null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.annotations)||void 0===s?void 0:s["results.tekton.dev/record"])||(null===(d=null===(l=null==t?void 0:t.metadata)||void 0===l?void 0:l.annotations)||void 0===d?void 0:d["results.tekton.dev/result"]),g=null===(m=null===(p=null==t?void 0:t.metadata)||void 0===p?void 0:p.annotations)||void 0===m?void 0:m[v.l],f=a.createElement("p",null,r.a.t("pipelines-plugin~This action will delete resource from k8s but still the resource can be fetched from Tekton Results"));return{labelKey:"pipelines-plugin~Delete {{kind}}",labelKind:{kind:e.labelKey?r.a.t(e.labelKey):e.label},callback:()=>Object(c.q)({kind:e,resource:t,message:!g&&b?f:""}),accessReview:Object(u.Eb)(e,t,"delete"),isDisabled:!!g,tooltip:g?r.a.t("pipelines-plugin~Resource is being fetched from Tekton Results."):""}},S=(e,t)=>[(e,t)=>O(0,t,E),...e?[()=>((e,t)=>j(e,t,0,{onComplete:E,labelKey:"pipelines-plugin~Start last run"}))(f.PipelineRunModel,e)]:[],(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Add Trigger",callback:()=>{const e=Object.assign(Object.assign({},t),{metadata:Object.assign(Object.assign({},t.metadata),{annotations:l.a(t.metadata.annotations,[p.q.user])})});Object(m.a)({pipeline:e,modalClassName:"modal-lg"})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(f.EventListenerModel,t),...t?[(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Remove Trigger",callback:()=>{Object(m.b)({pipeline:t})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}))(f.EventListenerModel,t)]:[],u.F.factory.ModifyLabels,u.F.factory.ModifyAnnotations,(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Edit Pipeline",callback:()=>{const{metadata:{name:e,namespace:n}}=t;u.Vb.push(`/k8s/ns/${n}/${Object(d.Hb)(f.PipelineModel)}/${e}/builder`)},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t),u.F.factory.Delete],T=(e,t,n,a)=>[n?(e,t)=>((e,t)=>j(e,t,0,{onComplete:E,labelKey:"pipelines-plugin~Rerun"}))(e,t):(e,t)=>((e,t)=>({labelKey:"pipelines-plugin~Rerun",callback:()=>{const e=i.a(t,"metadata.namespace"),{pipelineRef:n,pipelineSpec:a}=t.spec;e&&((null==n?void 0:n.name)||a)?Object(d.jb)(Object(y.y)(t),Object(b.d)(null,t)):Object(c.s)({error:r.a.t("pipelines-plugin~Invalid PipelineRun configuration, unable to start Pipeline.")})},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}))(e,t),a?(t,n)=>((e,t,n,a)=>({labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===n.major&&n.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(h.m)(t,a),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(t,n,e,a):(n,a)=>((e,t,n,a)=>{var r;const i=Object(g.a)(a,null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.name);return{labelKey:"pipelines-plugin~Stop",tooltipKey:"pipelines-plugin~Let the running tasks complete, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:1===n.major&&n.minor<9?"PipelineRunCancelled":"StoppedRunFinally"}])},hidden:Object(h.l)(t,i),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(n,a,e,t),a?(e,t)=>((e,t,n)=>({labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(h.k)(t,n),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}))(e,t,a):(e,n)=>((e,t,n)=>{var a;const r=Object(g.a)(n,null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.name);return{labelKey:"pipelines-plugin~Cancel",tooltipKey:"pipelines-plugin~Interrupt any executing non finally tasks, then execute finally tasks",callback:()=>{Object(d.pb)(f.PipelineRunModel,{metadata:{name:t.metadata.name,namespace:t.metadata.namespace}},[{op:"replace",path:"/spec/status",value:"CancelledRunFinally"}])},hidden:Object(h.j)(t,r),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}})(e,n,t),(e,t)=>R(e,t)],N=()=>[(e,t)=>R(e,t)]},6088:function(e,t,n){"use strict";var a=n(0),r=n(1922),i=n(22),o=n(40);t.a=e=>{const{children:t,close:n,errors:s,isSubmitting:l,handleSubmit:c,status:u,submitBtnText:d,submitDanger:p,title:m}=e;return a.createElement(r.a,{onSubmit:c},a.createElement("div",{className:"modal-content"},a.createElement(o.h,null,m),a.createElement(o.e,null,a.createElement("div",{className:"pf-v5-c-form"},t)),a.createElement(o.g,{errorMessage:null==u?void 0:u.submitError,inProgress:l,submitText:d,submitDisabled:!i.a(s)||l,submitDanger:p,cancel:n})))}},6089:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(1557),r=n(31),i=n(13),o=n(5),s=n(5588);const l=(e,t)=>Object(a.a)({},t,{metadata:{annotations:e},spec:{}}),c=()=>{var e;const t=Object(r.useSelector)(i.J);return(null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.name)?{[s.q.user]:t.metadata.name}:{}},u=e=>{const t=c();return e&&l(t,e)},d=e=>{const t=c();return e.map(e=>Object.values(o.F.factory).includes(e)?e:(n,a,...r)=>e(n,l(t,a),...r))}},6090:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(29),r=n(689),i=n(6121),o=n(5588),s=n(5725);const l=()=>r.object().shape({parameters:r.array().of(r.object().shape({name:r.string().required(a.a.t("pipelines-plugin~Required")),default:r.string(),description:r.string(),value:r.string().test("test-if-param-can-be-empty",a.a.t("pipelines-plugin~Required"),(function(e){return!Object(i.a)(this.parent)||!!e}))})),resources:r.array().of(r.object().shape({name:r.string().required(a.a.t("pipelines-plugin~Required")),selection:r.string().required(a.a.t("pipelines-plugin~Required")),data:r.object().when("selection",{is:s.a,then:r.object().shape({type:r.string().required(a.a.t("pipelines-plugin~Required")),params:r.object().when("type",{is:o.o.git,then:r.object({url:r.string().required(a.a.t("pipelines-plugin~Required")),revision:r.string()})}).when("type",{is:o.o.image,then:r.object({url:r.string().required(a.a.t("pipelines-plugin~Required"))})}).when("type",{is:o.o.storage,then:r.object({type:r.string().required(a.a.t("pipelines-plugin~Required")),location:r.string().required(a.a.t("pipelines-plugin~Required")),dir:r.string()})}).when("type",{is:o.o.cluster,then:r.object({name:r.string().required(a.a.t("pipelines-plugin~Required")),url:r.string().required(a.a.t("pipelines-plugin~Required")),username:r.string().required(a.a.t("pipelines-plugin~Required")),password:r.string(),insecure:r.string()})}),secrets:r.object().when("type",{is:o.o.cluster,then:r.object({cadata:r.string().required(a.a.t("pipelines-plugin~Required")),token:r.string()})})})})})),workspaces:r.array().of(r.object().shape({type:r.string().required(a.a.t("pipelines-plugin~Required")),data:r.object().when("type",{is:e=>o.x[e]===o.x.Secret,then:r.object().shape({secret:r.object().shape({secretName:r.string().required(a.a.t("pipelines-plugin~Required")),items:r.array().of(r.object().shape({key:r.string().required(a.a.t("pipelines-plugin~Required")),path:r.string().required(a.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>o.x[e]===o.x.ConfigMap,then:r.object().shape({configMap:r.object().shape({name:r.string().required(a.a.t("pipelines-plugin~Required")),items:r.array().of(r.object().shape({key:r.string().required(a.a.t("pipelines-plugin~Required")),path:r.string().required(a.a.t("pipelines-plugin~Required"))}))})})}).when("type",{is:e=>o.x[e]===o.x.PVC,then:r.object().shape({persistentVolumeClaim:r.object().shape({claimName:r.string().required(a.a.t("pipelines-plugin~Required"))})})}).when("type",{is:e=>o.x[e]===o.x.VolumeClaimTemplate,then:r.object().shape({volumeClaimTemplate:r.object().shape({spec:r.object().shape({accessModes:r.array().of(r.string().required(a.a.t("pipelines-plugin~Required"))),resources:r.object().shape({requests:r.object().shape({storage:r.string().required(a.a.t("pipelines-plugin~Required"))})}),storageClassName:r.string().required(a.a.t("pipelines-plugin~Required")),volumeMode:r.string().required(a.a.t("pipelines-plugin~Required"))})})})})}))}),c=()=>l().shape({secretOpen:r.boolean().equals([!1])}),u=()=>l().shape({triggerBinding:r.object().shape({name:r.string().required(a.a.t("pipelines-plugin~Required")),resource:r.object().shape({metadata:r.object().shape({name:r.string().required(a.a.t("pipelines-plugin~Required"))})}).required(a.a.t("pipelines-plugin~Required"))})}),d=()=>r.object().shape({secretName:r.string().required(a.a.t("pipelines-plugin~Required")),type:r.string().required(a.a.t("pipelines-plugin~Required")),annotations:r.object().shape({key:r.string().required(a.a.t("pipelines-plugin~Required")),value:r.string().required(a.a.t("pipelines-plugin~Required"))})})},6091:function(e,t,n){"use strict";n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return j})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return R})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return P}));var a=n(29),r=n(667),i=n(1557),o=n(16),s=n(547),l=n(499),c=(n(117),n(22),n(70),n(8)),u=n(15),d=n(5586),p=n(6180),m=n(6360),b=n(6038),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const v=(e,t)=>{const n=Object.keys((null==t?void 0:t[b.a])||{}),a=Object(b.f)(b.c.NAME_ERROR),{formData:o}=n.reduce((e,t)=>(r.a(e,t,a),e),{}),s=t=>{const n=(a=null==e?void 0:e[t],Array.isArray(a)&&a.some(e=>"object"==typeof e)?e[t]:[]);var a;const r=null==o?void 0:o[t];return i.a([],n,r)};return{tasks:s("tasks"),finally:s("finallyTasks")}},f=e=>t=>{const n=e[t]||{},a=Object.values(n);if(0===a.length)return null;const r=Object.values(b.c).find(e=>a.includes(Object(b.f)(e)));if(r)return Object(b.f)(r);const i=Object.keys(b.b).find(e=>{const t=b.b[e];return null==t?void 0:t.some(e=>o.a(n,e))});return i?Object(b.f)(i):null},h=(e,t)=>{if(null==t?void 0:t.taskRef){if(!(null==e?void 0:e.tasksLoaded)||!e.clusterTasks||!e.namespacedTasks)return null;const{taskRef:{kind:n,name:a}}=t,r=e=>e.metadata.name===a;return n===d.ClusterTaskModel.kind?e.clusterTasks.find(r):e.namespacedTasks.find(r)}return(null==t?void 0:t.taskSpec)?{apiVersion:Object(c.n)(d.TaskModel),kind:"EmbeddedTask",metadata:{name:a.a.t("pipelines-plugin~Embedded task")},spec:t.taskSpec}:null},y=(e,t)=>{const{taskResources:n}=e;return h(n,t)},E=(e,t,n)=>{var a;if(!(null===(a=null==n?void 0:n.runAfter)||void 0===a?void 0:a.includes(t)))return n;const r=n.runAfter.filter(e=>e!==t);return Object.assign(Object.assign({},n),{runAfter:[...r,e]})},O=(e,t)=>{var n;return(null===(n=null==t?void 0:t.runAfter)||void 0===n?void 0:n.includes(e))?Object.assign(Object.assign({},t),{runAfter:t.runAfter.filter(t=>t!==e)}):t},j=(e,t)=>{var n;if(!(null==e?void 0:e.name))return t;if(!(null==e?void 0:e.runAfter))return O(e.name,t);if(!(null===(n=null==t?void 0:t.runAfter)||void 0===n?void 0:n.includes(e.name)))return t;const a=O(e.name,t);let r=e.runAfter;return a.runAfter.length>0&&(r=[...a.runAfter,...r]),Object.assign(Object.assign({},a),{runAfter:s.a(r)})},k=(e,t,n)=>(null==n?void 0:n.name)!==t?n:Object.assign(Object.assign({},n),{runAfter:[e]}),R=(e,t,n)=>{var a;return(null===(a=null==n?void 0:n.runAfter)||void 0===a?void 0:a.includes(t))?Object.assign(Object.assign({},n),{runAfter:[...n.runAfter,e]}):n},S=(e,t)=>{if(e.includes(t)){const n=`${t}-${Object(u.wd)(3)}`;return e.includes(n)?S(e,t):n}return t},T=(e,t,n,a)=>{var r;const i=null!==(r=t.kind)&&void 0!==r?r:d.TaskModel.kind;return{name:S(e,t.metadata.name),runAfter:n?[]:a,taskRef:{kind:i,name:t.metadata.name},resource:t,isFinallyTask:n}},N=(e,t,n)=>{var a;const r=null!==(a=t.kind)&&void 0!==a?a:d.TaskModel.kind;return{name:S(e,t.metadata.name),runAfter:n,taskRef:{kind:r,name:t.metadata.name},params:Object(m.a)(t).map(e=>({name:e.name,value:e.default}))}},C=(e,t,n)=>{var a,r,i,o,s,u,m,b;const{name:v,resources:f,params:h,workspaces:y,tasks:E,listTasks:O,finallyTasks:j}=e,k=g(e,["name","resources","params","workspaces","tasks","listTasks","finallyTasks"]),R=O.map(e=>e.name),S=l.a(k,"finallyListTasks","loadingTasks");return Object.assign(Object.assign({},n),{apiVersion:Object(c.n)(d.PipelineModel),kind:d.PipelineModel.kind,metadata:Object.assign(Object.assign({},null==n?void 0:n.metadata),{name:(null===(a=null==n?void 0:n.metadata)||void 0===a?void 0:a.name)?null===(r=null==n?void 0:n.metadata)||void 0===r?void 0:r.name:v,namespace:t}),spec:Object.assign(Object.assign(Object.assign({},null==n?void 0:n.spec),S),{params:Object(p.d)(h.length>0?h:null!==(o=null===(i=null==n?void 0:n.spec)||void 0===i?void 0:i.params)&&void 0!==o?o:[]),workspaces:y.length>0?y:null!==(u=null===(s=null==n?void 0:n.spec)||void 0===s?void 0:s.workspaces)&&void 0!==u?u:[],tasks:E.length>0?E:null!==(b=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.tasks)&&void 0!==b?b:[].map(e=>e&&(e=>{var t,n,a,r,i,o,s,l,c,u,d,p;let m=e;if((null===(t=e.params)||void 0===t?void 0:t.length)>0){const t=null===(n=e.params)||void 0===n?void 0:n.filter(e=>!!e.value);m=Object.assign(Object.assign({},m),{params:t})}if((null===(r=null===(a=e.resources)||void 0===a?void 0:a.inputs)||void 0===r?void 0:r.length)>0||(null===(o=null===(i=e.resources)||void 0===i?void 0:i.outputs)||void 0===o?void 0:o.length)>0){const t=null===(l=null===(s=e.resources)||void 0===s?void 0:s.inputs)||void 0===l?void 0:l.filter(e=>e.resource),n=null===(u=null===(c=e.resources)||void 0===c?void 0:c.outputs)||void 0===u?void 0:u.filter(e=>e.resource);m=Object.assign(Object.assign({},m),{resources:Object.assign(Object.assign({},m.resources),{inputs:t,outputs:n})})}if((null===(d=e.workspaces)||void 0===d?void 0:d.length)>0){const t=null===(p=e.workspaces)||void 0===p?void 0:p.filter(e=>e.workspace);m=Object.assign(Object.assign({},m),{workspaces:t})}return m})(((e,t)=>{if((null==e?void 0:e.runAfter)&&t.length>0){const n=(e.runAfter||[]).filter(e=>!t.includes(e));return Object.assign(Object.assign({},e),{runAfter:n})}return e})(e,R))),finally:j})})},P=e=>{if(!e)return null;const{metadata:{name:t},spec:{params:n=[],resources:a=[],workspaces:r=[],tasks:i=[],finally:o=[]}}=e;return{name:t,params:n,resources:a,workspaces:r.map(e=>Object.assign(Object.assign({},e),{optional:!!e.optional})),tasks:i,listTasks:[],loadingTasks:[],finallyTasks:o,finallyListTasks:[]}}},6092:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),r=n(205),i=n(165),o=n(219),s=n(354),l=n(294),c=n(255),u=n(7),d=n(5907);const p=(e,t)=>{var n;return c.a(null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.accessModes,(e,n)=>{const a=Object(d.c)().find(e=>e.value===n);return a&&e.push(a[t]),e},[])},m=e=>{var t;const{className:n,pvcResource:c,filterByVolumeMode:m,onChange:b,loaded:g,provisioner:v,availableAccessModes:f=[],description:h,ignoreReadOnly:y}=e,{t:E}=Object(u.useTranslation)(),O=c?p(c,"value"):f,j=null===(t=null==c?void 0:c.spec)||void 0===t?void 0:t.volumeMode,[k,R]=a.useState(),[S,T]=a.useState(),N=a.useCallback(e=>{T(e),b(e)},[b]),[C,P]=a.useState(!1),[w,D]=a.useState(Object(d.c)().find(e=>e.value===O[0]).title),_=()=>{P(!C)},x=Object(d.c)().map(e=>{const t=!(null==k?void 0:k.includes(e.value));return a.createElement(r.a,{key:e.title,value:{val:e.value,label:e.title},isDisabled:t,isSelected:S===e.value},e.title)});return a.useEffect(()=>{g&&R(Object(d.b)(v,y,m?j:null))},[m,y,g,v,j]),a.useEffect(()=>{k&&(!S&&k.includes(O[0])?N(O[0]):k.includes(S)||N(k[0]))},[S,k,N,O]),a.createElement(o.a,{label:E("console-app~Access mode"),isRequired:!0,fieldId:"access-mode",className:n},g&&k&&a.createElement(s.a,{isOpen:C,selected:w,onSelect:(e,t)=>{P(!C),D(t.label),N(t.val)},onOpenChange:e=>P(e),toggle:e=>a.createElement(i.a,{ref:e,onClick:_,isExpanded:C,style:{width:"200px"}},w),shouldFocusToggleOnSelect:!0},a.createElement(l.a,null,x)),k&&k&&h&&a.createElement("p",{className:"help-block",id:"access-mode-help"},h),(!g||!k)&&a.createElement("div",{className:"skeleton-text"}))}},6093:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(16),r=n(50),i=n(1992),o=n(107),s=n(57),l=n(279),c=n(839),u=n(0),d=n(230),p=n(7),m=n(5),b=n(4381),g=n(18);class v extends u.Component{constructor(){super(...arguments),this.state={items:{},name:this.props.name,selectedKey:this.props.selectedKey,title:u.createElement(m.T,null),defaultClass:this.props.defaultClass},this.autocompleteFilter=(e,t)=>d(e,t.props.name),this.getTitle=e=>e.kindLabel?u.createElement(m.jb,{kind:"StorageClass",name:e.name}):u.createElement("span",null,e.name),this.onChange=e=>{const t=a.a(this.state,["items",e],{});this.setState({selectedKey:e,title:this.getTitle(t)},()=>this.props.onChange(t.resource))}}UNSAFE_componentWillMount(){this.UNSAFE_componentWillReceiveProps(this.props)}UNSAFE_componentWillReceiveProps(e){const{loaded:t,loadError:n,resources:o,t:s}=e;if(n)return void this.setState({title:u.createElement("div",{className:"cos-error-title"},s("public~Error loading {{desc}}",{desc:e.desc}))});if(!t)return;const l={items:{},title:{},defaultClass:""};let c={};const d=s("public~No default StorageClass");r.a(o.StorageClass.data,e=>{c[e.metadata.name]={kindLabel:"StorageClass",name:e.metadata.name,description:a.a(e,"metadata.annotations.description",""),default:Object(b.isDefaultClass)(e),accessMode:a.a(e,["metadata","annotations","storage.alpha.openshift.io/access-mode"],""),provisioner:e.provisioner,parameters:e.parameters,type:a.a(e,"parameters.type",""),zone:a.a(e,"parameters.zone",""),resource:e}}),e.filter&&(c=Object.keys(c).filter(t=>e.filter(c[t])).reduce((e,t)=>(e[t]=c[t],e),{})),l.defaultClass=i.a(c,"default");const{selectedKey:p}=this.state;l.defaultClass||(c[""]={kindLabel:"",name:d}),this.props.loaded&&p&&c[p||l.defaultClass]||(l.title=u.createElement("span",{className:"text-muted"},s("public~Select StorageClass")));const m=c[p||l.defaultClass];m&&(l.title=this.getTitle(m)),Object.keys(c).sort().forEach(e=>{l.items[e]=c[e]}),this.setState(l)}componentDidMount(){const{defaultClass:e}=this.state;e&&this.onChange(e)}componentDidUpdate(){const{defaultClass:e,selectedKey:t}=this.state;t?this.onChange(t):e&&this.onChange(e)}shouldComponentUpdate(e,t){return!o.a(this.state,t)}render(){var e;const{id:t,loaded:n,describedBy:a,noSelection:r,t:i}=this.props,o={};s.a(this.state.items,(e,t)=>o[t]=t?u.createElement(y,Object.assign({},e)):u.createElement(E,Object.assign({},e)));const{selectedKey:c,defaultClass:d}=this.state,p=d||l.a(o)>1;return u.createElement(u.Fragment,null,n&&p&&u.createElement("div",null,u.createElement("label",{className:g("control-label",this.props.hideClassName,{"co-required":this.props.required}),htmlFor:t},i("public~StorageClass")),u.createElement(m.t,{className:"co-storage-class-dropdown",dropDownClassName:"dropdown--full-width",autocompleteFilter:this.autocompleteFilter,autocompletePlaceholder:i("public~Select StorageClass"),items:o,selectedKey:c,title:this.state.title,onChange:this.onChange,id:t,dataTest:null===(e=this.props)||void 0===e?void 0:e["data-test"],noSelection:r,menuClassName:"dropdown-menu--text-wrap"}),a&&u.createElement("p",{className:"help-block",id:a},i("public~StorageClass for the new claim"))))}}const f=Object(p.withTranslation)()(v),h=e=>u.createElement(m.C,{resources:[{kind:"StorageClass",prop:"StorageClass",isList:!0}]},u.createElement(f,Object.assign({},e))),y=e=>{const t=[e.default?" (default)":"",e.description,e.accessMode,e.provisioner,e.type,e.zone],n=c.a(t).join(" | ");return u.createElement("span",{className:"co-resource-item"},u.createElement(m.fb,{kind:e.kindLabel}),u.createElement("span",{className:"co-resource-item__resource-name"},e.name,u.createElement("div",{className:"text-muted small"}," ",n)))},E=e=>u.createElement("span",{className:"co-resource-item"},u.createElement("span",{className:"co-resource-item__resource-name"},e.name))},6121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>!("default"in e)},6122:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n(77);var a=n(108),r=n(8),i=n(5586),o=n(5588);const s=(e,t)=>{const n=t?{kind:Object(r.Hb)(i.TaskRunModel),namespace:e,selector:{matchLabels:{[o.u.pipelinerun]:t}},isList:!0}:{kind:Object(r.Hb)(i.TaskRunModel),namespace:e,isList:!0};return Object(a.a)(n)},l=(e,t)=>e.filter(e=>{var n;return(null===(n=e.metadata)||void 0===n?void 0:n.labels[o.u.pipelinerun])===t})},6180:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(29),r=n(50),i=n(499),o=n(22),s=n(5586),l=n(5635);const c=e=>{const t=(e=>r.a(e,e=>i.a(e,o.a(e.default)?["default"]:[])))(e);return t.length>0?t.map(e=>"array"===(null==e?void 0:e.type)&&"string"==typeof(null==e?void 0:e.default)?Object.assign(Object.assign({},e),{default:e.default.split(",").map(e=>e.trim())}):e):[]},u=e=>{const t=e=>e?null==e?void 0:e.map(e=>{var t;return e.taskRef?"ClusterTask"===e.taskRef.kind||"Task"===e.taskRef.kind?{resourceKind:Object(l.h)(e.taskRef.kind),name:e.taskRef.name,qualifier:e.name}:{resourceKind:null===(t=e.taskRef)||void 0===t?void 0:t.kind,name:a.a.t("pipelines-plugin~Custom Task"),qualifier:e.name,disableLink:!0}:{resourceKind:"EmbeddedTask",name:a.a.t("pipelines-plugin~Embedded task"),qualifier:e.name,disableLink:!0}}):[];return{taskLinks:t(e.spec.tasks),finallyTaskLinks:t(e.spec.finally)}},d=(e=[],t)=>null==t?void 0:t.map(t=>{const n=e.find(({name:e})=>e===t.name),r=n?n.type:void 0;return(e=>!!e.resourceRef)(t)?{resourceKind:s.PipelineResourceModel.kind,name:t.resourceRef.name,qualifier:r}:{resourceKind:"EmbeddedPipelineResource",name:a.a.t("pipelines-plugin~Embedded PipelineResource"),qualifier:r}}),p=e=>e.spec.pipelineRef?{resourceKind:s.PipelineModel.kind,resourceName:e.spec.pipelineRef.name,namespace:e.metadata.namespace}:{resourceKind:"EmbeddedPipeLine",resourceName:a.a.t("pipelines-plugin~Embedded Pipeline")}},6183:function(e,t,n){"use strict";var a=n(0),r=n(6668);t.a=({children:e,logDetails:t,namespace:n})=>"podName"in t?a.createElement(r.a,{containerName:t.containerName,namespace:n,podName:t.podName,title:t.title},e):a.createElement(a.Fragment,null,e(t.staticMessage))},6245:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(7),o=n(40),s=n(6088),l=n(6625),c=n(6626),u=n(6629);t.a=Object(o.m)(({pipeline:e,close:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.b,{initialValues:{selectedTrigger:null},onSubmit:(n,a)=>Object(l.a)(n,e).then(()=>{t()}).catch(e=>{a.setStatus({submitError:e.message})}),validationSchema:Object(u.a)()},r=>a.createElement(s.a,Object.assign({},r,{submitBtnText:n("pipelines-plugin~Remove"),submitDanger:!0,title:n("pipelines-plugin~Remove Trigger"),close:t}),a.createElement(c.a,{pipeline:e})))})},6246:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(7),o=n(118),s=n(131),l=n(5),c=n(6057),u=n(5846),d=n(6088),p=n(5687),m=n(6090),b=n(6630),g=n(5837);t.a=Object(o.f)(({pipeline:e,close:t,onSubmit:n})=>{var o,v,f;const{t:h}=Object(i.useTranslation)(),y=Object(c.d)(),[E,O]=Object(u.c)(null===(o=e.metadata)||void 0===o?void 0:o.name,null===(v=e.metadata)||void 0===v?void 0:v.namespace);if(!O)return a.createElement(l.S,null);const j=Object.assign(Object.assign({},Object(p.b)(e,!1,null===(f=null==E?void 0:E.metadata)||void 0===f?void 0:f.name)),{secretOpen:!1});return a.createElement(r.b,{initialValues:j,onSubmit:(a,r)=>Object(g.a)(a,e,null,y).then(e=>{n&&n(e),t()}).catch(e=>{r.setStatus({submitError:e.message}),Object(s.s)({error:e.message}),t()}),validationSchema:Object(m.c)()},e=>a.createElement(d.a,Object.assign({submitBtnText:h("pipelines-plugin~Start"),title:h("pipelines-plugin~Start Pipeline"),close:t},e),a.createElement(b.a,Object.assign({},e))))})},6247:function(e,t,n){"use strict";var a=n(0),r=n(6089),i=n(6358),o=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=e=>{var{actions:t}=e,n=o(e,["actions"]);const s=Object(r.a)(t);return a.createElement(i.a,Object.assign({},n,{actions:s}))}},6248:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(55),o=n(7),s=n(5618),l=n(15),c=n(6121),u=n(6359),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=({autoCompleteValues:e})=>{const{t:t}=Object(o.useTranslation)(),{setFieldValue:n,values:{parameters:p}}=Object(i.f)();return a.createElement(i.a,{name:"parameters",key:"parameters-row",render:()=>p.length>0&&a.createElement(s.a,{title:t("pipelines-plugin~Parameters"),fullWidth:!0},p.map((t,i)=>{const o=`parameters.${i}.value`,s=Object(c.a)(t),p=e=>a.createElement(l.ab,{ref:e,name:o,type:r.b.text,label:t.name,helpText:t.description,required:s,autoComplete:"off"});return"array"===t.type?a.createElement(l.lc,{name:o,label:t.name,helpText:t.description,required:s,addLabel:"Add "+t.name,"data-test":t.name+"-text-column-field"},t=>{var{name:r}=t,i=d(t,["name"]);return e?a.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>n(o,e)},e=>a.createElement(l.ab,Object.assign({ref:e,name:r},i,{autoComplete:"off"}))):a.createElement(l.ab,Object.assign({name:r},i,{autoComplete:"off"}))}):a.createElement(a.Fragment,{key:t.name},e?a.createElement(u.a,{autoCompleteValues:e,onAutoComplete:e=>n(o,e)},e=>p(e)):p())}))})}},6249:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(547),r=n(6091);const i=e=>"params."+e.name,o=e=>`workspaces.${e.name}.bound`,s=e=>`tasks.${e.name}.status`,l=(e,t)=>{const n=e.filter(e=>{var n;return null===(n=e.runAfter)||void 0===n?void 0:n.includes(t)});let r=n.map(e=>e.name);return n.some(e=>e.runAfter)&&(r=[...r,...n.map(t=>l(e,t.name)).flat()]),a.a([t,...r])},c=(e,t,n)=>{const a=e[n],i=a?l(e,a.name):[];return e.filter(e=>!i.includes(e.name)).map((o=t,e=>{const t=Object(r.e)(o,e);if(!(null==t?void 0:t.spec.results))return null;const{spec:{results:n}}=t;return n.map(t=>`tasks.${e.name}.results.${t.name}`)})).flat().filter(e=>!!e);var o},u=(e,t,n="")=>{const[a,r]=t;return`${e.substring(0,a)}${n}${e.substring(r)}`}},6250:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(4397),o=n(7),s=n(5618),l=n(6632);const c=(e,t,n)=>{const a=t.data.type;return a?Object.assign(Object.assign({},e),{[a]:[...e[a]||[],{formikIndex:n,resource:t}]}):e};t.a=()=>{const{t:e}=Object(o.useTranslation)(),[{value:t}]=Object(r.e)("resources"),n=t.reduce(c,{}),u=Object.keys(n);return a.createElement(a.Fragment,null,u.map(t=>a.createElement(r.a,{name:t,key:t,render:()=>{const r=n[t];return a.createElement(s.a,{title:e("pipelines-plugin~{{type}} resources",{type:Object(i.a)(t)}),fullWidth:!0},r.map(e=>{const{formikIndex:n,resource:r}=e;return a.createElement(l.a,{key:r.name,name:"resources."+n,filterType:t,label:r.name})}))}})))}},6251:function(e,t,n){"use strict";var a=n(0),r=n(80),i=n(55),o=n(29),s=n(499),l=n(7),c=n(5618),u=n(10),d=n(15),p=n(5588),m=n(6646),b=n(6649),g=n(6651);n(6653);t.a=()=>{const{t:e}=Object(l.useTranslation)(),{setFieldValue:t}=Object(i.f)(),[{value:n}]=Object(i.e)("workspaces"),v={[p.x.NoWorkspace]:e("pipelines-plugin~No workspace"),[p.x.EmptyDirectory]:e("pipelines-plugin~Empty Directory"),[p.x.ConfigMap]:e("pipelines-plugin~Config Map"),[p.x.Secret]:e("pipelines-plugin~Secret"),[p.x.PVC]:e("pipelines-plugin~PersistentVolumeClaim"),[p.x.VolumeClaimTemplate]:e("pipelines-plugin~VolumeClaimTemplate")};return n.length>0&&a.createElement(c.a,{title:e("pipelines-plugin~Workspaces"),fullWidth:!0},n.map((e,n)=>a.createElement("div",{className:"form-group",key:e.name},a.createElement(d.I,{name:`workspaces.${n}.type`,label:e.name,items:e.optional?v:s.a(v,p.x.NoWorkspace),onChange:e=>t(`workspaces.${n}.data`,e===p.x.EmptyDirectory?{emptyDir:{}}:{},!1),fullWidth:!0,required:!e.optional,helpText:e.description}),((e,t)=>{switch(e){case p.x.Secret:return a.createElement(m.a,{resourceNameField:`workspaces.${t}.data.secret.secretName`,resourceKeysField:`workspaces.${t}.data.secret.items`,label:o.a.t("pipelines-plugin~Secret"),resourceModel:u.SecretModel,addString:o.a.t("pipelines-plugin~Add item"),required:!0});case p.x.ConfigMap:return a.createElement(m.a,{resourceNameField:`workspaces.${t}.data.configMap.name`,resourceKeysField:`workspaces.${t}.data.configMap.items`,label:o.a.t("pipelines-plugin~Config Map"),resourceModel:u.ConfigMapModel,addString:o.a.t("pipelines-plugin~Add item"),required:!0});case p.x.EmptyDirectory:return a.createElement("div",{className:"odc-PipelineWorkspacesSection__emptydir"},a.createElement(r.a,{isInline:!0,variant:"info",title:o.a.t("pipelines-plugin~Empty Directory doesn't support shared data between tasks.")}));case p.x.VolumeClaimTemplate:return a.createElement(g.a,{name:`workspaces.${t}.data.volumeClaimTemplate`,initialSizeValue:"1",initialSizeUnit:"Gi"});case p.x.PVC:return a.createElement(b.a,{name:`workspaces.${t}.data.persistentVolumeClaim.claimName`});default:return null}})(e.type,n))))}},6252:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(7),o=n(118),s=n(5),l=n(5846),c=n(6088),u=n(5687),d=n(6090),p=n(6654),m=n(6658),b=n(5909);t.a=Object(o.f)(({pipeline:e,close:t})=>{var n,o,g;const{t:v}=Object(i.useTranslation)(),[f,h]=Object(l.c)(null===(n=e.metadata)||void 0===n?void 0:n.name,null===(o=e.metadata)||void 0===o?void 0:o.namespace);if(!h)return a.createElement(s.S,null);const y=Object.assign(Object.assign({},Object(u.b)(e,!0,null===(g=null==f?void 0:f.metadata)||void 0===g?void 0:g.name)),{triggerBinding:{name:m.a,resource:null}});return a.createElement(r.b,{initialValues:y,onSubmit:(n,a)=>Object(b.b)(e,n).then(()=>{t()}).catch(e=>{a.setStatus({submitError:(null==e?void 0:e.message)||v("pipelines-plugin~There was an unknown error")})}),validationSchema:Object(d.a)()},e=>a.createElement(c.a,Object.assign({submitBtnText:v("pipelines-plugin~Add"),title:v("pipelines-plugin~Add Trigger"),close:t},e),a.createElement(p.a,Object.assign({},e))))})},6254:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(29),r=n(5617),i=n(6363);const o=(e,t)=>{var n,o,s;if(!(null==e?void 0:e.status))return null;if("Failed"!==Object(r.d)(e))return null;const l=null===(n=e.status.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type);if("False"!==(null==l?void 0:l.status))return null;const c=Object.values(t||e.status.taskRuns||{}).filter(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type&&"False"===e.status)})[0];if(!c||(u=null==l?void 0:l.reason,["StoppedRunFinally","CancelledRunFinally","PipelineRunTimeout"].includes(u)))return{staticMessage:l.message||a.a.t("pipelines-plugin~Unknown failure condition"),title:a.a.t("pipelines-plugin~Failure - check logs for details.")};var u;const d=null===(s=null===(o=c.status.steps)||void 0===o?void 0:o.find(e=>{var t;return 0!==(null===(t=e.terminated)||void 0===t?void 0:t.exitCode)}))||void 0===s?void 0:s.container;return Object(i.a)(c.pipelineTaskName,c.status,d)}},6357:function(e,t,n){"use strict";var a=n(6245);n.d(t,"b",(function(){return a.a}));var r=n(6246);n.d(t,"c",(function(){return r.a}));var i=n(6252);n.d(t,"a",(function(){return i.a}))},6358:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1122),i=n(225),o=n(7),s=n(5),l=n(567);const c=Object(l.a)(e=>{const{t:t}=Object(o.useTranslation)(),{actions:n,kindObj:l,resource:c,isDisabled:u,customData:d,terminatingTooltip:p}=e;if(!l)return null;const m=r.a(n.map(e=>e(l,c,null,d)),"hidden");return a.createElement(s.F,{options:m,key:c.metadata.uid,isDisabled:null!=u?u:0===m.length,terminatingTooltip:i.a(c.metadata,"deletionTimestamp")?p||t("pipelines-plugin~Resource is being deleted."):""})})},6359:function(e,t,n){"use strict";var a=n(0),r=n(951),i=n(685),o=n(562),s=n(684),l=n(7),c=n(5),u=n(1211),d=n(6631);t.a=({autoCompleteValues:e,children:t,onAutoComplete:n})=>{const{t:p}=Object(l.useTranslation)(),{contentRefCallback:m,focusTrapProps:b,insertAutoComplete:g,popperProps:v,menuWidth:f,options:h}=Object(d.a)(e,n);return a.createElement(a.Fragment,null,t(m),a.createElement(c.Cb,null,e=>a.createElement(u.a,Object.assign({},v,{placement:"bottom-start",closeOnEsc:!0,closeOnOutsideClick:!0,container:e,popperOptions:{modifiers:{hide:{enabled:!1},preventOverflow:{enabled:!1},flip:{enabled:!1}}}}),a.createElement(r.a,Object.assign({},b),a.createElement(i.a,{style:{maxHeight:200,overflow:"auto",width:f},onSelect:(e,t)=>{const n=h[t];n&&g(n)}},a.createElement(o.a,null,0===h.length?a.createElement(s.a,{key:0,itemId:-1,isDisabled:!0},p("pipelines-plugin~No options matching your criteria")):h.map((e,t)=>a.createElement(s.a,{key:t,itemId:t},e))))))))}},6360:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a,r=n(16);!function(e){e.alphaInputResources="spec.inputs.resources",e.alphaOutputResources="spec.outputs.resources",e.alphaParameters="spec.inputs.params",e.betaInputResources="spec.resources.inputs",e.betaOutputResources="spec.resources.outputs",e.betaParameters="spec.params"}(a||(a={}));const i=e=>{const t=Object(r.a)(e,a.alphaInputResources)||Object(r.a)(e,a.betaInputResources),n=Object(r.a)(e,a.alphaOutputResources)||Object(r.a)(e,a.betaOutputResources);return t||n?{inputs:t,outputs:n}:{}},o=e=>Object(r.a)(e,a.alphaParameters)||Object(r.a)(e,a.betaParameters)||[]},6361:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(55),r=n(6249);const i=e=>{const{values:{formData:{params:t,tasks:n,workspaces:i},taskResources:o}}=Object(a.f)(),{taskIndex:s,isFinallyTask:l}=e||{},c=t.map(r.c),u=i.map(r.e);let d=[];l&&(d=n.map(r.d));const p=Object(r.a)(n,o,s);return[...c,...u,"context.pipelineRun.name","context.pipelineRun.namespace","context.pipelineRun.uid","context.pipeline.name",...d,...p]},o=()=>{var e,t,n;const{values:{triggerBinding:i}}=Object(a.f)();return[...(null===(n=null===(t=null===(e=null==i?void 0:i.resource)||void 0===e?void 0:e.spec)||void 0===t?void 0:t.params)||void 0===n?void 0:n.map(e=>"tt."+Object(r.c)(e)))||[],"uid"]}},6363:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(29);const r=(e,t,n)=>{return(null==t?void 0:t.podName)&&n?{containerName:n,podName:t.podName,title:a.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})}:{staticMessage:(r=t.conditions,r.map(e=>e.message).join("\n")||a.a.t("pipelines-plugin~Unknown failure condition")),title:a.a.t("pipelines-plugin~Failure on task {{taskName}} - check logs for details.",{taskName:e})};var r}},6433:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(8),i=n(5586),o=n(5635);const s=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{var t;const a={spec:{tasks:[]}},s=Object(o.d)(e);if(s)n(s);else if(null===(t=e.spec.pipelineRef)||void 0===t?void 0:t.name){const t=e.spec.pipelineRef.name;Object(r.kb)(i.PipelineModel,t,e.metadata.namespace).then(e=>{n(e)}).catch(()=>n(a))}else n(a)},[e]),t}},6625:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(8),r=n(5586),i=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=(e,t)=>i(void 0,void 0,void 0,(function*(){const n=t.metadata.namespace,i=e.selectedTrigger;yield Object(a.lb)(r.TriggerTemplateModel,{metadata:{name:i,namespace:n}});const o=({template:e})=>(null==e?void 0:e.ref)===i||(null==e?void 0:e.name)===i,s=(yield Object(a.nb)(r.EventListenerModel,{ns:n})).filter(({spec:{triggers:e}})=>e.find(o)),l=({spec:{triggers:e}})=>1===e.length,c=s.filter(l);yield Promise.all(c.map(e=>Object(a.lb)(r.EventListenerModel,e)));const u=s.filter(e=>!l(e));return yield Promise.all(u.map(e=>Object(a.pb)(r.EventListenerModel,e,[{op:"replace",path:"/spec/triggers",value:e.spec.triggers.filter(o)}]))),Promise.resolve()}))},6626:function(e,t,n){"use strict";var a=n(0),r=n(516),i=n(164),o=n(404),s=n(287),l=n(996),c=n(7),u=n(6627);t.a=e=>{const{t:t}=Object(c.useTranslation)(),{pipeline:n}=e,d=n.metadata.name;return a.createElement(r.a,{className:"odc-modal-content",hasGutter:!0},a.createElement(i.a,null,a.createElement(o.a,{size:"md"},a.createElement(s.a,{color:l.global_warning_color_100.value}))),a.createElement(i.a,{isFilled:!0},a.createElement("p",{className:"co-break-word"},a.createElement(c.Trans,{t:t,ns:"pipelines-plugin"},"Select the trigger to remove from pipeline ",a.createElement("b",null,{pipelineName:d}),".")),a.createElement(u.a,{name:"selectedTrigger",placeholder:t("pipelines-plugin~Select TriggerTemplate"),pipeline:n})))}},6627:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(7),o=n(15),s=n(6056);n(6628);t.a=e=>{const{t:t}=Object(i.useTranslation)(),{name:n,pipeline:l,placeholder:c}=e,{metadata:{name:u,namespace:d}}=l,[p]=Object(r.e)(n),m=p.value,b=Object(s.d)(u,d)||[],g=b.reduce((e,{triggerTemplateName:t})=>Object.assign(Object.assign({},e),{[t]:t}),{});return a.createElement("div",{className:"odc-trigger-template-selector"},a.createElement(o.I,{fullWidth:!0,disabled:0===b.length,items:g,name:n,title:c}),m?a.createElement("div",{className:"co-break-word odc-trigger-template-selector__confirmationMessage"},a.createElement(i.Trans,{t:t,ns:"pipelines-plugin"},"Are you sure you want to remove ",a.createElement("b",null,{selection:m})," from ",a.createElement("b",null,{pipelineName:u}),"?")):a.createElement("div",{className:"odc-trigger-template-selector__pfModalHack"}))}},6628:function(e,t,n){},6629:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(29),r=n(689);const i=()=>r.object().shape({selectedTrigger:r.string().required(a.a.t("pipelines-plugin~Required"))})},6630:function(e,t,n){"use strict";var a=n(0),r=n(7),i=n(5618),o=n(6248),s=n(6250),l=n(6640),c=n(6251);t.a=()=>{const{t:e}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.a,null),a.createElement(s.a,null),a.createElement(c.a,null),a.createElement(i.a,{title:e("pipelines-plugin~Advanced options"),fullWidth:!0},a.createElement(l.a,null)))}},6631:function(e,t,n){"use strict";var a=n(0),r=n(547),i=n(6249);const o="$(".split("");t.a=(e,t)=>{var n;const s=a.useRef([0,0]),[l,c]=a.useState(!1),u=(()=>{const[e,t]=a.useState(!1),n=a.useCallback(n=>{const{key:a,code:r,ctrlKey:i}=n;if("Space"===r&&i)return t(!0),!0;if(!o.includes(a)||e)return!1;const s=n.target.selectionStart;return n.target.value[s-2]===o[0]&&a===o[1]&&(t(!0),!0)},[e]);return{isOpen:e,shouldOpen:n,closeMenu:a.useCallback(()=>t(!1),[])}})(),d=(e=>{const[t,n]=a.useState(e),i=a.useRef({});a.useEffect(()=>{i.current=e.reduce((e,t,n)=>{const a=t.split(".").reduce((e,a)=>Object.assign(Object.assign({},e),{[`${a}|${n}`]:t}),{});return Object.assign(Object.assign(Object.assign({},e),a),{[t]:t})},{})},[e]);return[t,a.useCallback(t=>{if(!t)return void n(e);const a=r.a(Object.keys(i.current).filter(e=>e.toLowerCase().startsWith(t.toLowerCase())).map(e=>i.current[e]));n(a)},[e])]})(e),{isOpen:p,closeMenu:m}=u,[b,g]=d,v=a.useCallback(()=>{m(),g(""),c(!1),s.current=[0,0]},[m,g]),[f,h]=((e,t,n,r,i)=>{const[o,s]=a.useState(null),l=a.useRef(null);l.current=o;const{isOpen:c,shouldOpen:u}=t,[,d]=n,p=a.useCallback(t=>{const n=()=>{const t=l.current.value.substring(e.current[0],e.current[1]);d(t)};if(c){if(e.current=[e.current[0],l.current.selectionEnd],e.current[1]<e.current[0])return void i();n()}else{e.current=[l.current.selectionStart,l.current.selectionEnd];u(t)&&n()}},[c,d,u,i,e]),m=a.useCallback(e=>{c&&("Tab"!==e.code&&"ArrowDown"!==e.code||(e.stopPropagation(),e.preventDefault(),r(!0)))},[c,r]);return a.useEffect(()=>(o&&(o.addEventListener("keydown",m),o.addEventListener("keyup",p)),()=>{o&&(o.removeEventListener("keydown",m),o.removeEventListener("keyup",p))}),[m,p,o]),[l,e=>s(e)]})(s,u,d,c,v),y=a.useCallback(e=>{const n=s.current[0]-"$(".length,a=`${"$("===(n>=0?f.current.value.substr(n,"$(".length):null)?"":"$("}${e})`;t(Object(i.b)(f.current.value,s.current,a));const r=s.current[0]+a.length;setTimeout(()=>{f.current.setSelectionRange(r,r)},0),v()},[f,v,t]);return{contentRefCallback:h,focusTrapProps:{active:l,focusTrapOptions:{clickOutsideDeactivates:!0,onDeactivate:v,fallbackFocus:f.current}},insertAutoComplete:y,menuWidth:(null===(n=f.current)||void 0===n?void 0:n.getBoundingClientRect().width)||300,options:b,popperProps:{open:p,onRequestClose:v,reference:()=>f.current}}}},6632:function(e,t,n){"use strict";var a=n(0),r=n(219),i=n(55),o=n(15),s=n(6633),l=n(5725),c=n(6638);t.a=e=>{const{filterType:t,name:n,label:u}=e,[d]=Object(i.e)(n),{values:p}=Object(i.f)(),{namespace:m}=p,{value:{selection:b}}=d,g=b===l.a;return Object(o.Ge)(d.value),a.createElement(a.Fragment,null,a.createElement(r.a,{fieldId:n,label:u,isRequired:!0},a.createElement(c.a,Object.assign({},e,{autoSelect:""===b,filterType:t,namespace:m,name:n+".selection"}))),g&&a.createElement(s.a,{name:n+".data",type:t}))}},6633:function(e,t,n){"use strict";var a=n(0),r=n(5618),i=n(5588),o=n(6634),s=n(6635),l=n(6636),c=n(6637);t.a=e=>{const{name:t,type:n}=e;return a.createElement(r.a,{fullWidth:!0},(()=>{switch(n){case i.o.git:return a.createElement(s.a,{prefixName:t});case i.o.image:return a.createElement(l.a,{prefixName:t});case i.o.cluster:return a.createElement(o.a,{prefixName:t});case i.o.storage:return a.createElement(c.a,{prefixName:t});default:return null}})())}},6634:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(7),o=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.ab,{type:r.b.text,name:e+".params.name",label:t("pipelines-plugin~Name"),helpText:t("pipelines-plugin~Name of the cluster."),required:!0}),a.createElement(o.ab,{type:r.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Host URL of the control plane node."),required:!0}),a.createElement(o.ab,{type:r.b.text,name:e+".params.username",label:t("pipelines-plugin~Username"),helpText:t("pipelines-plugin~The user with access to the cluster."),required:!0}),a.createElement(o.ab,{type:r.b.password,name:e+".params.password",label:t("pipelines-plugin~Password"),helpText:t("pipelines-plugin~Please provide password.")}),a.createElement(o.ab,{type:r.b.text,name:e+".params.insecure",label:t("pipelines-plugin~Insecure"),helpText:t("pipelines-plugin~Indicate server should be accessed without verifying the TLS certificate.")}),a.createElement(o.J,{name:e+".secrets.cadata",label:t("pipelines-plugin~Cadata"),helpText:t("pipelines-plugin~The PEM format certificate. Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}),a.createElement(o.J,{name:e+".secrets.token",label:t("pipelines-plugin~Token"),helpText:t("pipelines-plugin~Upload file by dragging & dropping, selecting it, or pasting from the clipboard."),required:!0}))}},6635:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(7),o=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.ab,{type:r.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Git URL."),required:!0}),a.createElement(o.ab,{type:r.b.text,name:e+".params.revision",label:t("pipelines-plugin~Revision"),helpText:t("pipelines-plugin~Please provide revisions. i.e master")}))}},6636:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(7),o=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(o.ab,{type:r.b.text,name:e+".params.url",label:t("pipelines-plugin~URL"),helpText:t("pipelines-plugin~Please provide Image URL."),required:!0})}},6637:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(7),o=n(15);t.a=({prefixName:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.ab,{type:r.b.text,name:e+".params.type",label:t("pipelines-plugin~Type"),helpText:t("pipelines-plugin~Represents the type of blob storage i.e gcs"),required:!0}),a.createElement(o.ab,{type:r.b.text,name:e+".params.location",label:t("pipelines-plugin~Location"),helpText:t("pipelines-plugin~Represents the location of the blob storage i.e gs://some-private-bucket"),required:!0}),a.createElement(o.ab,{type:r.b.text,name:e+".params.dir",label:t("pipelines-plugin~Directory"),helpText:t("pipelines-plugin~Represents whether the blob storage is a directory or not")}))}},6638:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(117),o=n(7),s=n(5),l=n(108),c=n(8),u=n(15),d=n(5586),p=n(5725);n(6639);t.a=e=>{const{t:t}=Object(o.useTranslation)(),{autoSelect:n,filterType:m,name:b,namespace:g}=e,{setFieldValue:v,setFieldTouched:f}=Object(r.f)(),[,{touched:h}]=Object(r.e)(b),[y,E,O]=Object(l.a)({isList:!0,namespace:g,kind:Object(c.Hb)(d.PipelineResourceModel)}),j=y.filter(e=>e.spec.type===m),k=n&&!h&&E&&!O;a.useEffect(()=>{k&&(0===j.length?v(b,p.a):v(b,j[0].metadata.name),f(b))},[k,b,j,f,v]);const R=[{value:"",label:t("pipelines-plugin~Select Pipeline resource"),isPlaceholder:!0,isDisabled:!0},{label:t("pipelines-plugin~Create Pipeline resource"),value:p.a},...j.map(e=>{var t;const n=e.metadata.name,a=(null===(t=i.a(e.spec.params,["name","url"]))||void 0===t?void 0:t.value)||"";return{label:a.trim().length>0?`${a} (${n})`:n,value:n}})];return E?a.createElement(u.T,{name:b,className:"odc-pipeline-resource-dropdown",options:R,isDisabled:E&&0===j.length}):a.createElement(s.T,null)}},6639:function(e,t,n){},6640:function(e,t,n){"use strict";var a=n(0),r=n(19),i=n(407),o=n(55),s=n(7),l=n(4359),c=n(5),u=n(10),d=n(8),p=n(5623),m=n(5588),b=n(6641),g=n(6643),v=n(6090);n(6645);const f={secretName:"",annotations:{key:m.p.Image,value:""},type:l.SecretType.dockerconfigjson,formData:{}};t.a=()=>{const{t:e}=Object(s.useTranslation)(),[t]=Object(o.e)("secretOpen"),{setFieldValue:n,values:{namespace:l}}=Object(o.f)();return a.createElement(c.x,{textExpanded:e("pipelines-plugin~Hide credential options"),textCollapsed:e("pipelines-plugin~Show credential options")},a.createElement("div",{className:"odc-pipeline-secret-section"},a.createElement("p",null,e("pipelines-plugin~The following secrets are available for all pipelines in this namespace to authenticate to the specified Git server or Image registry:")),a.createElement("div",{className:"odc-pipeline-secret-section__secrets"},a.createElement(g.a,{namespace:l}),t.value?a.createElement("div",{className:"odc-pipeline-secret-section__secret-form"},a.createElement(o.b,{initialValues:f,validationSchema:Object(v.b)(),onSubmit:(e,a)=>{const r={apiVersion:u.SecretModel.apiVersion,kind:u.SecretModel.kind,metadata:{name:e.secretName,namespace:l,annotations:Object(p.s)(e.annotations)},type:e.type,stringData:e.formData};return Object(d.jb)(u.SecretModel,r).then(a=>{n(t.name,!1),Object(p.d)(a,l,e.annotations.key===m.p.Image)}).catch(e=>{a.setStatus({submitError:e.message})})},onReset:(e,a)=>{a.resetForm({values:f,status:{}}),n(t.name,!1)}},e=>a.createElement(b.a,Object.assign({},e)))):a.createElement(r.a,{variant:"link",onClick:()=>{n(t.name,!0)},className:"odc-pipeline-secret-section__secret-action",icon:a.createElement(i.a,null)},e("pipelines-plugin~Add Secret")))))}},6641:function(e,t,n){"use strict";var a=n(0),r=n(281),i=n(2324),o=n(7),s=n(4359),l=n(5),c=n(15),u=n(5588);n(6642);t.a=({values:e,setFieldValue:t,setFieldTouched:n,handleSubmit:d,handleReset:p,status:m,isSubmitting:b})=>{const{t:g}=Object(o.useTranslation)(),[v,f]=a.useState({[s.SecretType.basicAuth]:{},[s.SecretType.sshAuth]:{},[s.SecretType.dockerconfigjson]:{}}),h=a.useMemo(()=>({[u.p.Git]:g("pipelines-plugin~Git Server"),[u.p.Image]:g("pipelines-plugin~Image Registry")}),[g]),y=a.useMemo(()=>{switch(e.annotations.key){case u.p.Git:return{[s.SecretType.basicAuth]:g("pipelines-plugin~Basic Authentication"),[s.SecretType.sshAuth]:g("pipelines-plugin~SSH Key")};case u.p.Image:return{[s.SecretType.basicAuth]:g("pipelines-plugin~Basic Authentication"),[s.SecretType.dockerconfigjson]:g("pipelines-plugin~Image Registry Credentials")};default:return{}}},[e.annotations.key,g]),E=a.useCallback(()=>{t("annotations",{key:e.annotations.key,value:""}),n("annotations",!1)},[n,t,e.annotations.key]);a.useEffect(()=>{Object.keys(y).includes(e.type)||(t("type",s.SecretType.basicAuth),E())},[y,e.type,t,E]);const O=a.useMemo(()=>({[s.SecretType.dockerconfigjson]:g("pipelines-plugin~The base server url (e.g. https://quay.io/)"),[s.SecretType.basicAuth]:g("pipelines-plugin~The base server url (e.g. https://github.com)"),[s.SecretType.sshAuth]:g("pipelines-plugin~Server hostname without schema or path (e.g. github.com)")}),[g]),j=(n,a)=>{n===s.SecretType.dockerconfigjson?t("formData",i.a({".dockerconfigjson":a[n]},JSON.stringify)):t("formData",a[n]),e.type!==n&&E()};return a.createElement("div",{className:"odc-secret-form"},a.createElement("h1",{className:"co-section-heading-tertiary odc-secret-form__title"},g("pipelines-plugin~Create Secret")),a.createElement("div",{className:"form-group"},a.createElement(c.ab,{type:r.b.text,name:"secretName",label:g("pipelines-plugin~Secret name"),helpText:g("pipelines-plugin~Unique name of the new secret."),required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.I,{name:"annotations.key",label:g("pipelines-plugin~Access to"),helpText:g("pipelines-plugin~Designate provider to be authenticated."),items:h,fullWidth:!0,required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.I,{name:"type",label:g("pipelines-plugin~Authentication type"),items:y,title:y[e.type],onChange:e=>j(e,v),fullWidth:!0,required:!0})),a.createElement("div",{className:"form-group"},a.createElement(c.ab,{name:"annotations.value",label:g("pipelines-plugin~Server URL"),helpText:O[e.type],type:r.b.text,required:!0})),((e,t,n)=>{switch(e){case s.SecretType.basicAuth:return a.createElement(s.BasicAuthSubform,{onChange:n,stringData:t[s.SecretType.basicAuth]});case s.SecretType.sshAuth:return a.createElement(s.SSHAuthSubform,{onChange:n,stringData:t[s.SecretType.sshAuth]});case s.SecretType.dockerconfigjson:return a.createElement(s.CreateConfigSubform,{onChange:n,stringData:t[s.SecretType.dockerconfigjson]});default:return null}})(e.type,v,t=>{f(n=>(j(e.type,Object.assign(Object.assign({},n),{[e.type]:t})),Object.assign(Object.assign({},n),{[e.type]:t})))}),a.createElement(l.g,{errorMessage:null==m?void 0:m.submitError,inProgress:b},a.createElement(c.g,{onSubmit:d,onClose:p})))}},6642:function(e,t,n){},6643:function(e,t,n){"use strict";var a=n(0),r=n(50),i=n(116),o=n(240),s=n(461),l=n(22),c=n(7),u=n(4359),d=n(5),p=n(10),m=n(15),b=n(5588);n(6644);const g=[u.SecretType.dockerconfigjson,u.SecretType.basicAuth,u.SecretType.sshAuth],v=({secrets:e,serviceaccounts:t})=>{const{t:n}=Object(c.useTranslation)(),u=r.a(t.data.secrets,"name"),b=i.a(e.data,e=>o.a(g,e.type)&&o.a(u,e.metadata.name)),v=s.a(b,e=>e.metadata.name);return a.createElement("div",{className:"odc-secrets-list"},v.map(e=>a.createElement(d.hb,{key:e.metadata.uid,kind:p.SecretModel.kind,name:e.metadata.name,namespace:e.metadata.namespace,linkTo:!1})),l.a(v)&&a.createElement(m.Wb,{status:n("pipelines-plugin~No secrets found")}))};t.a=({namespace:e})=>{const t=[{isList:!0,namespace:e,kind:p.SecretModel.kind,prop:p.SecretModel.plural},{isList:!1,namespace:e,kind:p.ServiceAccountModel.kind,prop:p.ServiceAccountModel.plural,name:b.l}];return a.createElement(d.C,{resources:t},a.createElement(v,null))}},6644:function(e,t,n){},6645:function(e,t,n){},6646:function(e,t,n){"use strict";var a=n(0),r=n(219),i=n(297),o=n(319),s=n(157),l=n(18),c=n.n(l),u=n(55),d=n(230),p=n(117),m=n(16),b=n(22),g=n(7),v=n(31),f=n(13),h=n(108),y=n(518),E=n(15),O=n(6647);t.a=Object(v.connect)(e=>({namespace:Object(y.d)(e)}))(({label:e,namespace:t,resourceModel:n,required:l,resourceNameField:v,resourceKeysField:y,addString:j})=>{const{t:k}=Object(g.useTranslation)(),{setFieldValue:R,setFieldTouched:S}=Object(u.f)(),[T,{touched:N,error:C}]=Object(u.e)(v),P=!(N&&C),w=Object(E.Kc)(v,"res-dropdown"),[D,_]=a.useState({});Object(E.Ge)(T.value);const x=a.useMemo(()=>({kind:n.kind,isList:!0,namespace:t,optional:!0}),[t,n.kind]),[A,I,M]=Object(h.a)(x);return a.createElement(r.a,{fieldId:w,label:e,className:"odc-multiple-key-selector",isRequired:l},a.createElement(E.Nb,{resources:[{kind:n.kind,loaded:I,loadError:M,data:A}],loaded:I,loadError:M,dataSelector:["metadata","name"],selectedKey:T.value,placeholder:k("pipelines-plugin~Select a {{label}}",{label:k(n.labelKey)}),autocompleteFilter:(e,t)=>{var n;return d(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},dropDownClassName:c()({"dropdown--full-width":!0}),onChange:e=>{R(y,void 0),R(v,e),S(v,!0),(e=>{var t;const n=p.a(A,t=>m.a(t,"metadata.name")===e),a=null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},r=Object.keys(a).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{});_(r)})(e)},showBadge:!0}),T.value&&!b.a(D)&&a.createElement(O.a,{name:y,keys:D,addString:j}),!P&&a.createElement(i.a,null,a.createElement(o.a,null,a.createElement(s.a,{variant:"error",icon:a.createElement(f.u,null)},C))))})},6647:function(e,t,n){"use strict";var a=n(0),r=n(219),i=n(241),o=n(130),s=n(281),l=n(88),c=n(19),u=n(408),d=n(407),p=n(55),m=n(16),b=n(7),g=n(15);n(6648);t.a=({name:e,keys:t,addString:n,tooltip:v})=>{const{t:f}=Object(b.useTranslation)(),{values:h}=Object(p.f)(),y=m.a(h,e,[]);return Object(g.Ge)(y),a.createElement(p.a,{name:e,key:"multiple-key-selector",render:({push:p,remove:m})=>a.createElement(r.a,{fieldId:Object(g.Kc)(e,"multiple-key-selector"),label:f("pipelines-plugin~Items"),className:"odc-multiple-key-selector"},y.length>0&&y.map((n,r)=>{const c=`${e}.${r}.${n.key}`;return a.createElement("div",{className:"form-group odc-multiple-key-selector__item",key:c},a.createElement(i.a,{direction:{default:"column",lg:"row"}},a.createElement(o.a,{grow:{default:"grow"}},a.createElement(g.I,{name:`${e}.${r}.key`,title:f("pipelines-plugin~Select a key"),items:t,fullWidth:!0})),a.createElement(o.a,{grow:{default:"grow"}},a.createElement(g.ab,{name:`${e}.${r}.path`,type:s.b.text,placeholder:f("pipelines-plugin~Enter a path")}))),a.createElement("div",{className:"odc-multiple-key-selector__deleteButton"},a.createElement(l.a,{content:v||f("pipelines-plugin~Remove")},a.createElement(u.a,{"aria-hidden":"true",onClick:()=>m(r)}))))}),a.createElement(c.a,{variant:"link",onClick:()=>p({key:"",path:""}),icon:a.createElement(d.a,null),isInline:!0},n||f("pipelines-plugin~Add items")))})}},6648:function(e,t,n){},6649:function(e,t,n){"use strict";var a=n(0),r=n(230),i=n(7),o=n(31),s=n(10),l=n(518),c=n(15);n(6650);t.a=Object(o.connect)(e=>({namespace:Object(l.d)(e)}))(({name:e,namespace:t})=>{const{t:n}=Object(i.useTranslation)(),o=[{isList:!0,kind:s.PersistentVolumeClaimModel.kind,namespace:t,prop:s.PersistentVolumeClaimModel.id,optional:!0}];return a.createElement(c.Ob,{name:e,className:"odc-pvc-dropdown",resources:o,dataSelector:["metadata","name"],placeholder:n("pipelines-plugin~Select a PVC"),autocompleteFilter:(e,t)=>{var n;return r(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},fullWidth:!0,showBadge:!0})})},6650:function(e,t,n){},6651:function(e,t,n){"use strict";var a=n(0),r=n(219),i=n(80),o=n(55),s=n(7),l=n(6092),c=n(692),u=n(5907),d=n(5),p=n(6093),m=n(64),b=n(197);n(6652);t.a=({name:e,initialSizeValue:t="1",initialSizeUnit:n="Gi",initialVolumeMode:g="Filesystem"})=>{const{t:v}=Object(s.useTranslation)(),[f]=Object(o.e)(e),h=v("pipelines-plugin~Permissions to the mounted drive."),[y,E]=a.useState(h),{setFieldValue:O,setFieldTouched:j,errors:k}=Object(o.f)(),[R,S]=a.useState(u.g),[T,N]=a.useState(g),[C,P]=a.useState("ReadWriteOnce"),[w,D]=a.useState(null),[_,x]=a.useState(t),[A,I]=a.useState(n),[M,L]=a.useState(""),[F,B]=a.useState("");Object(m.s)(f.value);const U=e=>{N(e.currentTarget.value)};a.useEffect(()=>{D(null);const t={spec:{accessModes:[C],storageClassName:F,volumeMode:T,resources:{requests:{storage:`${_}${A}`}}}};(!_||parseInt(_,10)<1)&&(t.spec.resources.requests.storage=null,D(v("pipelines-plugin~Size must be an integer greater than 0."))),O(e,t),j(e)},[T,C,_,A,F,e,j,O,v]);const $=w?v("pipelines-plugin~This will create a PersistentVolumeClaim."):v("pipelines-plugin~This will create a PersistentVolumeClaim with a size of {{requestSizeValue}} {{requestSizeUnit}}.",{requestSizeValue:_,requestSizeUnit:A});return a.createElement(r.a,{fieldId:e},k[e]&&a.createElement(i.a,{isInline:!0,variant:"danger",title:v("pipelines-plugin~Required")}),a.createElement("p",{className:"help-block"},$),a.createElement(d.x,{textExpanded:v("pipelines-plugin~Hide VolumeClaimTemplate options"),textCollapsed:v("pipelines-plugin~Show VolumeClaimTemplate options")},a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement(p.a,{onChange:e=>{var t;const n=(null==e?void 0:e.provisioner)||"",a=Object(u.b)(n),r=v(a?"pipelines-plugin~Access mode is set by storage class and cannot be changed":"pipelines-plugin~Permissions to the mounted drive");P("ReadWriteOnce"),E(r),S(a),B(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name),L(n),M.includes(b.g[1])&&N("Filesystem")},id:"storageclass-dropdown","data-test":"storageclass-dropdown",describedBy:"storageclass-dropdown-help",required:!1,name:"storageClass"})),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement(l.a,{onChange:P,provisioner:M,loaded:!0,availableAccessModes:R,description:y,ignoreReadOnly:!0})),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement("label",{className:"control-label co-required",htmlFor:"request-size-input"},v("pipelines-plugin~Size")),a.createElement(d.db,{name:"requestSize",required:!0,onChange:e=>{const{value:t,unit:n}=e;x(t),I(n)},defaultRequestSizeUnit:A,defaultRequestSizeValue:_,dropdownUnits:u.a,describedBy:"request-size-help",inputID:"request-size-input","data-test-id":"pvc-size-input"}),w?a.createElement("p",{className:"pf-v5-c-form__helper-text pf-m-error"},w):a.createElement("p",{className:"help-block"},v("pipelines-plugin~Desired storage capacity"))),a.createElement("div",{className:"odc-VolumeClaimTemplateForm--section"},a.createElement("label",{className:"control-label",htmlFor:"volume-mode"},v("pipelines-plugin~Volume Mode")),a.createElement(r.a,{fieldId:"volumeMode","data-test-id":"volumeModeRadio"},Object(u.f)().map(t=>a.createElement(c.b,Object.assign({},t,{key:t.value,onChange:U,inline:!0,checked:t.value===T,name:e+".volumeMode"})))))))}},6652:function(e,t,n){},6653:function(e,t,n){},6654:function(e,t,n){"use strict";var a=n(0),r=n(6361),i=n(6248),o=n(6250),s=n(6251),l=n(6655);t.a=()=>{const e=Object(r.a)();return a.createElement(a.Fragment,null,a.createElement(l.a,null),a.createElement(i.a,{autoCompleteValues:e}),a.createElement(o.a,null),a.createElement(s.a,null))}},6655:function(e,t,n){"use strict";var a=n(0),r=n(1921),i=n(682),o=n(297),s=n(55),l=n(7),c=n(5618),u=n(5705),d=n(6656);n(6657);t.a=()=>{const{t:e}=Object(l.useTranslation)(),{values:t,setFieldValue:n}=Object(s.f)(),[p,m]=a.useState(null),b=Object(u.h)(t.namespace),g=0===(null==b?void 0:b.major)||1===(null==b?void 0:b.major)&&0===(null==b?void 0:b.minor)?"params.":"tt.params.",v=a.useCallback(e=>{m(e.spec.params),n("triggerBinding.resource",e)},[n]);return a.createElement("div",{className:"odc-trigger-binding-section"},a.createElement(c.a,{title:e("pipelines-plugin~Webhook"),fullWidth:!0},a.createElement(d.a,{description:e("pipelines-plugin~Select your Git provider type to be associated with the Trigger."),label:e("pipelines-plugin~Git provider type"),onChange:v}),p&&a.createElement(r.a,{toggleTextExpanded:e("pipelines-plugin~Hide variables"),toggleTextCollapsed:e("pipelines-plugin~Show variables")},a.createElement("div",{className:"odc-trigger-binding-section__variable-container"},a.createElement("p",{className:"odc-trigger-binding-section__variable-descriptor"},e("pipelines-plugin~The following variables can be used in the Parameters or when created new Resources.")),p.map(({name:e})=>a.createElement(i.a,{key:e,className:"odc-trigger-binding-section__variable-badge",isRead:!0},e))),a.createElement(o.a,{className:"odc-trigger-binding-section__variable-help-text"},e("pipelines-plugin~Use this format when you reference variables in this form: "),a.createElement("code",{className:"co-code"},`$(${g}parameter)`)))))}},6656:function(e,t,n){"use strict";var a=n(0),r=n(55),i=n(230),o=n(7),s=n(8),l=n(15),c=n(5586);t.a=e=>{const{t:t}=Object(o.useTranslation)(),{description:n,label:u=t(c.TriggerBindingModel.labelKey),onChange:d}=e,{values:p}=Object(r.f)();return a.createElement(l.Ob,{name:"triggerBinding.name",resources:[{isList:!0,namespace:p.namespace,kind:Object(s.Hb)(c.TriggerBindingModel),prop:"triggerBindingData",optional:!0},{isList:!0,kind:Object(s.Hb)(c.ClusterTriggerBindingModel),prop:"clusterTriggerBindingData",optional:!0}],autocompleteFilter:(e,t)=>{var n;return i(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},dataSelector:["metadata","name"],customResourceKey:(e,t)=>{const{kind:n}=t;return`${n===c.ClusterTriggerBindingModel.kind?2:1}~${e}`},fullWidth:!0,helpText:n,label:u,placeholder:t("pipelines-plugin~Select {{label}}",{label:u}),title:t("pipelines-plugin~Select {{label}}",{label:u}),showBadge:!0,onChange:(e,t,n)=>{n&&d&&d(n)}})}},6657:function(e,t,n){},6658:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="#empty-trigger-binding#"},6663:function(e,t,n){"use strict";var a=n(0),r=n(18),i=n.n(r);n(6664);t.a=({barGap:e,height:t,inline:n,values:r,width:o})=>a.createElement("div",{className:i()("odc-horizontal-stacked-bars",{"is-inline":n}),style:{height:t,width:o,"--bar-gap":e&&e+"px"}},a.createElement("div",{className:"odc-horizontal-stacked-bars__bars"},r.map(({color:e,name:t,size:n})=>a.createElement("div",{key:t,className:"odc-horizontal-stacked-bars__data-bar",style:{background:e,flexGrow:n}}))))},6664:function(e,t,n){},6665:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5635),r=n(6433);const i=(e,t)=>{const n=Object(r.a)(e);return Object(a.i)(e,n,t)}},6666:function(e,t,n){"use strict";var a=n(0),r=n(5595),i=n(5635);n(6667);t.a=({taskStatus:e})=>a.createElement("div",{className:"odc-task-status-tooltip"},Object.keys(r.a).map(t=>{const{message:n,pftoken:o}=Object(i.f)(t);return e[t]?a.createElement(a.Fragment,{key:t},a.createElement("div",{className:"odc-task-status-tooltip__legend",style:{background:o.value}}),a.createElement("div",null,t===r.a.PipelineNotStarted||t===r.a.FailedToStart?n:`${e[t]} ${n}`)):null}))},6667:function(e,t,n){},6668:function(e,t,n){"use strict";var a=n(0),r=n(80),i=n(7),o=n(109),s=n(5),l=n(10),c=n(8);t.a=({children:e,containerName:t,namespace:n,podName:u,title:d})=>{const{t:p}=Object(i.useTranslation)(),[m,b]=a.useState(null),[g,v]=a.useState(null);return a.useEffect(()=>{const e={ns:n,name:u,path:"log",queryParams:{container:t,tailLines:"5"}},a=Object(c.Jb)(l.PodModel,e);Object(o.d)(a).then(e=>{b(e)}).catch(e=>{v((null==e?void 0:e.message)||p("pipelines-plugin~Unknown error retrieving logs"))})},[t,n,u,p]),g?a.createElement(r.a,{isInline:!0,title:d,variant:"danger"},g):m?a.createElement(a.Fragment,null,e(m)):a.createElement(s.T,null)}},8306:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(5686),i=n(11454);const o=e=>{const t=e.getData(),n=null==t?void 0:t.resources;if(!(null==n?void 0:n.pipelines))return[void 0,!0,void 0];return[a.createElement(r.a,null,a.createElement(i.a,{item:n})),!0,void 0]}},8307:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(11464);const i=(e,t,n,i)=>{var o;const s=null===(o=e.getData())||void 0===o?void 0:o.resources,{pipelines:l,pipelineRuns:c}=s||{};return c?a.createElement(r.a,{key:"pipeline-run",radius:t,x:n,y:i,pipeline:l[0],pipelineRuns:c}):null}},8308:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5594),r=n(11467),i=n(5623);const o=(e,t)=>{e&&e.nodes&&e.nodes.forEach(e=>{const n=Object(a.h)(e.data);if(n){const a=Object(r.a)(n,t);if(a){e.data.resources.pipelines=a.pipelines,e.data.resources.pipelineRuns=a.pipelineRuns;const{status:t}=Object(i.j)(a.pipelineRuns);e.data.resources.pipelineRunStatus=t}}})}}}]);
//# sourceMappingURL=topology-chunk-3fa739a9fabf43561264.min.js.map