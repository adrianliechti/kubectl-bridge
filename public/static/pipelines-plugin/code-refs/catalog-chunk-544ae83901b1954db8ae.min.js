(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{2369:function(e,n,t){"use strict";t.r(n);var i=t(8309);t.d(n,"TektonTaskProvider",(function(){return i.c})),t.d(n,"TektonHubTaskProvider",(function(){return i.b})),t.d(n,"ArtifactHubTaskProvider",(function(){return i.a}))},5586:function(e,n,t){"use strict";t.r(n);var i=t(5622);t.d(n,"PipelineModel",(function(){return i.f})),t.d(n,"PipelineModelV1Beta1",(function(){return i.g})),t.d(n,"PipelineRunModel",(function(){return i.i})),t.d(n,"PipelineRunModelV1Beta1",(function(){return i.j})),t.d(n,"TaskModel",(function(){return i.l})),t.d(n,"TaskModelV1Beta1",(function(){return i.m})),t.d(n,"TaskRunModel",(function(){return i.n})),t.d(n,"TaskRunModelV1Beta1",(function(){return i.o})),t.d(n,"CustomRunModelV1Beta1",(function(){return i.d})),t.d(n,"PipelineResourceModel",(function(){return i.h})),t.d(n,"ClusterTaskModel",(function(){return i.a})),t.d(n,"ConditionModel",(function(){return i.c})),t.d(n,"TriggerBindingModel",(function(){return i.s})),t.d(n,"ClusterTriggerBindingModel",(function(){return i.b})),t.d(n,"TriggerTemplateModel",(function(){return i.t})),t.d(n,"EventListenerModel",(function(){return i.e})),t.d(n,"RepositoryModel",(function(){return i.k})),t.d(n,"TektonConfigModel",(function(){return i.p})),t.d(n,"TektonHubModel",(function(){return i.q})),t.d(n,"TektonResultModel",(function(){return i.r}))},5588:function(e,n,t){"use strict";var i,r,a,l,u,o,s,d,c;t.d(n,"r",(function(){return i})),t.d(n,"q",(function(){return r})),t.d(n,"v",(function(){return a})),t.d(n,"t",(function(){return l})),t.d(n,"w",(function(){return u})),t.d(n,"u",(function(){return o})),t.d(n,"o",(function(){return s})),t.d(n,"x",(function(){return d})),t.d(n,"p",(function(){return c})),t.d(n,"i",(function(){return p})),t.d(n,"s",(function(){return f})),t.d(n,"m",(function(){return v})),t.d(n,"l",(function(){return g})),t.d(n,"k",(function(){return b})),t.d(n,"a",(function(){return k})),t.d(n,"b",(function(){return m})),t.d(n,"c",(function(){return T})),t.d(n,"z",(function(){return R})),t.d(n,"y",(function(){return P})),t.d(n,"j",(function(){return h})),t.d(n,"g",(function(){return C})),t.d(n,"h",(function(){return y})),t.d(n,"n",(function(){return E})),t.d(n,"f",(function(){return S})),t.d(n,"d",(function(){return O})),t.d(n,"e",(function(){return _})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(i||(i={})),function(e){e.user="pipeline.openshift.io/started-by"}(r||(r={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(a||(a={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(l||(l={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(u||(u={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(o||(o={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(s||(s={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(d||(d={})),function(e){e.Git="git",e.Image="docker"}(c||(c={}));c.Git,c.Image;const p="1.4.0",f="1.6.0",v="1.5.2",g="pipeline",b="bridge/pipeline-run-auto-start-failed",k=275,m=375,T=60,R="pipeline.openshift.io/preferredName",P="chains.tekton.dev/signed",h="openshift-pipelines",C="openshift",y="config";var E;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(E||(E={}));const S="FLAG_TEKTON_V1_ENABLED",O="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",_="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5595:function(e,n,t){"use strict";var i=t(5626);t.d(n,"b",(function(){return i.a})),t.d(n,"c",(function(){return i.b})),t.d(n,"d",(function(){return i.c}));t(5627);var r=t(5628);t.d(n,"e",(function(){return r.a}));t(5629),t(5630);var a=t(5631);t.d(n,"f",(function(){return a.a}));var l=t(5632);t.d(n,"a",(function(){return l.a}))},5597:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return d}));var i=t(380),r=t(83),a=t(437),l=function(e,n,t,i){return new(t||(t=Promise))((function(r,a){function l(e){try{o(i.next(e))}catch(e){a(e)}}function u(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}o((i=i.apply(e,n||[])).next())}))};const u="/api/dev-console/proxy/internet",o=e=>Object.keys(e).reduce((n,t)=>(n[t]=[e[t]],n),{}),s=e=>l(void 0,void 0,void 0,(function*(){const n=yield r.consoleFetchJSON.post(u,e);if(!n.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(n.statusCode<200||n.statusCode>=300)throw new a.a("Unexpected status code: "+n.statusCode,n.statusCode,null,n);return n})),d=e=>s(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(i.safeLoad)(e.body))},5617:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return d})),t.d(n,"h",(function(){return c})),t.d(n,"f",(function(){return p})),t.d(n,"c",(function(){return f})),t.d(n,"g",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"i",(function(){return b})),t.d(n,"j",(function(){return k}));var i,r=t(29),a=t(16),l=t(240),u=t(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(i||(i={}));const o=e=>{var n;const t=a.a(e,["status","conditions"],[]);if(0===t.length)return null;const r=t.find(e=>"Succeeded"===e.type),l=t.find(e=>"Cancelled"===e.reason);if([i.PipelineRunStopped,i.PipelineRunCancelled].includes(null===(n=e.spec)||void 0===n?void 0:n.status)&&!l)return u.a.Cancelling;if(!r||!r.status)return null;const o="True"===r.status?u.a.Succeeded:"False"===r.status?u.a.Failed:u.a.Running;if(r.reason&&r.reason!==o)switch(r.reason){case i.PipelineRunCancelled:case i.TaskRunCancelled:case i.Cancelled:case i.PipelineRunStopped:return u.a.Cancelled;case i.PipelineRunStopping:case i.TaskRunStopping:return u.a.Failed;case i.CreateContainerConfigError:case i.ExceededNodeResources:case i.ExceededResourceQuota:case i.PipelineRunPending:return u.a.Pending;case i.ConditionCheckFailed:return u.a.Skipped;default:return o}return o},s=e=>{const n=o(e);if(!n)return"-";switch(n){case u.a.Cancelled:return r.a.t("pipelines-plugin~Cancelled");case u.a.Failed:return r.a.t("pipelines-plugin~Failed");case u.a.Succeeded:return r.a.t("pipelines-plugin~Succeeded");case u.a.Pending:return r.a.t("pipelines-plugin~Pending");case u.a.Running:return r.a.t("pipelines-plugin~Running");case u.a.Skipped:return r.a.t("pipelines-plugin~Skipped");case u.a.Cancelling:return r.a.t("pipelines-plugin~Cancelling");default:return n}},d=e=>e.latestRun&&o(e.latestRun)||u.a.Other,c=e=>e.latestRun&&s(e.latestRun)||"-",p=e=>s(e)||"-",f=e=>o(e)||u.a.Other,v=(e,n)=>{var t;if(!e||!e.selected||!e.selected.length)return!0;const i=d(n);return(null===(t=e.selected)||void 0===t?void 0:t.includes(i))||!l.a(e.all,i)},g=(e,n)=>{var t;if(!e||!e.selected||!e.selected.length)return!0;const i=f(n);return(null===(t=e.selected)||void 0===t?void 0:t.includes(i))||!l.a(e.all,i)},b=e=>o(e)||u.a.Other,k=e=>s(e)||"-"},5622:function(e,n,t){"use strict";t.d(n,"f",(function(){return a})),t.d(n,"g",(function(){return l})),t.d(n,"i",(function(){return u})),t.d(n,"j",(function(){return o})),t.d(n,"l",(function(){return s})),t.d(n,"m",(function(){return d})),t.d(n,"n",(function(){return c})),t.d(n,"o",(function(){return p})),t.d(n,"d",(function(){return f})),t.d(n,"h",(function(){return v})),t.d(n,"a",(function(){return g})),t.d(n,"c",(function(){return b})),t.d(n,"s",(function(){return k})),t.d(n,"b",(function(){return m})),t.d(n,"t",(function(){return T})),t.d(n,"e",(function(){return R})),t.d(n,"k",(function(){return P})),t.d(n,"p",(function(){return h})),t.d(n,"q",(function(){return C})),t.d(n,"r",(function(){return y}));var i=t(5654);const r=i.chart_color_green_400.value,a={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},u={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},d={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},f={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:r},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:r},g={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:r},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:r},k={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:r},m={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:r},T={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:r},R={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:r},P={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:r},h={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},C={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},y={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5626:function(e,n,t){"use strict";var i,r,a;t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(i||(i={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(r||(r={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(a||(a={}))},5627:function(e,n,t){},5628:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));const i={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,n,t){},5630:function(e,n,t){},5631:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));const i={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,n,t){"use strict";var i,r;t.d(n,"a",(function(){return i})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(i||(i={})),function(e){e.RunCancelled="RunCancelled"}(r||(r={}))},5635:function(e,n,t){"use strict";t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return b})),t.d(n,"f",(function(){return k})),t.d(n,"d",(function(){return m})),t.d(n,"i",(function(){return T})),t.d(n,"h",(function(){return P})),t.d(n,"e",(function(){return h})),t.d(n,"g",(function(){return C})),t.d(n,"c",(function(){return y})),t.d(n,"l",(function(){return S})),t.d(n,"m",(function(){return O})),t.d(n,"j",(function(){return _})),t.d(n,"k",(function(){return j}));var i=t(5699),r=t(1403),a=t(5692),l=t(5691),u=t(5654),o=t(2225),s=t(29),d=t(8),c=t(5588),p=t(5586),f=t(5595),v=t(5617);const g=(e,n)=>{if(!(e&&e.length>0&&n))return null;let t=e[0];if("creationTimestamp"===n)for(let i=1;i<e.length;i++)t=e[i]&&e[i].metadata&&e[i].metadata[n]&&new Date(e[i].metadata[n])>new Date(t.metadata[n])?e[i]:t;else if("startTime"===n||"completionTime"===n)for(let i=1;i<e.length;i++)t=e[i]&&e[i].status&&e[i].status[n]&&new Date(e[i].status[n])>new Date(t.status[n])?e[i]:t;else t=e[e.length-1];return t.status||(t=Object.assign(Object.assign({},t),{status:{pipelineSpec:{tasks:[]}}})),t.status.succeededCondition||(t.status=Object.assign(Object.assign({},t.status),{succeededCondition:""})),t.status.succeededCondition=Object(v.c)(t),t},b=(e,n)=>e.map(e=>{const t=n.filter(n=>{var t;return(null===(t=n.metadata.labels)||void 0===t?void 0:t["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=g(t,"creationTimestamp"),e}),k=e=>{switch(e){case f.a.Succeeded:return{message:s.a.t("pipelines-plugin~Succeeded"),pftoken:u.chart_color_green_400};case f.a.Failed:return{message:s.a.t("pipelines-plugin~Failed"),pftoken:o.global_danger_color_100};case f.a.FailedToStart:return{message:s.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:o.global_danger_color_100};case f.a.Running:case f.a["In Progress"]:return{message:s.a.t("pipelines-plugin~Running"),pftoken:l.chart_color_blue_300};case f.a.Skipped:return{message:s.a.t("pipelines-plugin~Skipped"),pftoken:i.chart_color_black_400};case f.a.Cancelled:return{message:s.a.t("pipelines-plugin~Cancelled"),pftoken:r.chart_color_black_500};case f.a.Cancelling:return{message:s.a.t("pipelines-plugin~Cancelling"),pftoken:r.chart_color_black_500};case f.a.Idle:case f.a.Pending:return{message:s.a.t("pipelines-plugin~Pending"),pftoken:a.chart_color_blue_100};default:return{message:s.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:a.chart_color_blue_100}}},m=e=>{var n,t,i,r,a;const l=(null===(t=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.labels)||void 0===t?void 0:t[c.u.pipeline])||(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.name),u=(null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.pipelineSpec)||(null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.pipelineSpec);return l&&u?{apiVersion:Object(d.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:l,namespace:e.metadata.namespace},spec:u}:null},T=(e,n,t)=>{var i,r,a,l,u;const o=(e=>{var n,t,i,r;if(!e)return 0;return(null!==(t=((null===(n=e.spec)||void 0===n?void 0:n.tasks)||[]).length)&&void 0!==t?t:0)+(null!==(r=((null===(i=e.spec)||void 0===i?void 0:i.finally)||[]).length)&&void 0!==r?r:0)})(n)-(e=>{var n,t,i,r;if(!e)return 0;return(null!==(t=((null===(n=e.spec)||void 0===n?void 0:n.tasks)||[]).filter(e=>{var n,t;return"Task"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)&&"ClusterTask"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)}).length)&&void 0!==t?t:0)+(null!==(r=((null===(i=e.spec)||void 0===i?void 0:i.finally)||[]).filter(e=>{var n,t;return"Task"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)&&"ClusterTask"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)}).length)&&void 0!==r?r:0)})(n),s=()=>{var n;return(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskRuns)?Object.keys(e.status.taskRuns):t?null==t?void 0:t.map(e=>e.metadata.name):[]},d=s().length,c=((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:c};if((null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.taskRuns)||t){s().forEach(n=>{const i=Object(v.c)((null==t?void 0:t.find(e=>e.metadata.name===n))||e.status.taskRuns[n]);"Succeeded"===i?p[f.a.Succeeded]++:"Running"===i?p[f.a.Running]++:"Failed"===i?p[f.a.Failed]++:"Cancelled"===i?p[f.a.Cancelled]++:p[f.a.Pending]++});const n=p[f.a.Failed]>0,i=Object(v.c)(e)===f.a.Cancelled,r=o>=d?o-d-c:o;n||i?p[f.a.Cancelled]+=r:p[f.a.Pending]+=r}else"False"===(null===(u=null===(l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.conditions)||void 0===l?void 0:l[0])||void 0===u?void 0:u.status)||(null==e?void 0:e.spec.status)===v.a.PipelineRunCancelled?p[f.a.Cancelled]=o:(null==e?void 0:e.spec.status)===v.a.PipelineRunPending?p[f.a.Pending]+=o:p[f.a.PipelineNotStarted]++;return p},R=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,P=e=>(R(e)||p.TaskModel).kind,h=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,C=e=>(h(e)||p.TriggerBindingModel).kind,y=e=>{const n=R(e);return Object(d.Hb)(n)},E=(e,n)=>{const t=n&&T(e,void 0,n);return null==t?void 0:t.Running},S=(e,n)=>!(e&&(E(e,n)>0||Object(v.c)(e)===f.a.Running)),O=(e,n)=>!(e&&((null==n?void 0:n.Running)>0||Object(v.c)(e)===f.a.Running)),_=(e,n)=>!(e&&E(e,n)>0&&Object(v.c)(e)!==f.a.Cancelled),j=(e,n)=>!(e&&(null==n?void 0:n.Running)>0&&Object(v.c)(e)!==f.a.Cancelled)},5669:function(e,n,t){"use strict";t.d(n,"d",(function(){return i})),t.d(n,"e",(function(){return r})),t.d(n,"f",(function(){return a})),t.d(n,"b",(function(){return l})),t.d(n,"h",(function(){return u})),t.d(n,"i",(function(){return o})),t.d(n,"j",(function(){return s})),t.d(n,"k",(function(){return d})),t.d(n,"g",(function(){return c})),t.d(n,"a",(function(){return p})),t.d(n,"c",(function(){return f})),t.d(n,"l",(function(){return v}));const i="OPENSHIFT_PIPELINE",r="OPENSHIFT_PIPELINE_AS_CODE",a="OPENSHIFT_PIPELINE_CONDITION",l="openshift",u="pipeline.openshift.io/runtime",o="pipeline.openshift.io/runtime-version",s="pipeline.openshift.io/strategy",d="pipeline.preferredPipelinePageTab",c="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",f="resource.deleted.in.k8s",v="resource.loaded.from.tektonResults"},5684:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t(0),r=t(8),a=function(e,n,t,i){return new(t||(t=Promise))((function(r,a){function l(e){try{o(i.next(e))}catch(e){a(e)}}function u(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}o((i=i.apply(e,n||[])).next())}))};const l=(e,n,t,l)=>{const[u,o]=i.useState(),[s,d]=i.useState(!1),[c,p]=i.useState();return i.useEffect(()=>{a(void 0,void 0,void 0,(function*(){try{p(null),d(!1),o(null);const i=yield Object(r.kb)(e,n,t,l);o(i)}catch(e){p(e)}finally{d(!0)}}))},[e,n,t,l]),[u,s,c]}},6364:function(e,n,t){"use strict";var i;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return a})),function(e){e.Add="Add",e.Install="Install",e.Update="Update"}(i||(i={}));const r="Tektonhub",a="ArtifactHub"},6854:function(e,n,t){"use strict";t.d(n,"b",(function(){return f})),t.d(n,"d",(function(){return v})),t.d(n,"a",(function(){return g})),t.d(n,"c",(function(){return b}));var i=t(0),r=t(1557),a=t(8),l=t(5597),u=t(5669),o=t(5586),s=t(5588),d=t(6364),c=function(e,n,t,i){return new(t||(t=Promise))((function(r,a){function l(e){try{o(i.next(e))}catch(e){a(e)}}function u(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}o((i=i.apply(e,n||[])).next())}))};const p=u.a+"/packages/search?offset=0&limit=60&facets=false&kind=7&deprecated=false&sort=relevance",f=(e,n)=>c(void 0,void 0,void 0,(function*(){const t=u.a+"/packages/tekton-task",{name:i,data:r}=e,{task:{version:a,repository:{name:o}}}=r,s=`${t}/${o}/${i}/${n||a}`;return Object(l.c)({url:s,method:"GET"})})),v=e=>{const[n,t]=i.useState([]),[r,a]=i.useState(!1),[u,o]=i.useState();return i.useEffect(()=>{let n=!0;return e?Object(l.c)({url:p,method:"GET"}).then(({packages:e})=>{n&&(a(!0),t(e))}).catch(e=>{n&&(a(!0),o(null==e?void 0:e.message))}):a(!0),()=>{n=!1}},[e]),[n,r,u]},g=(e,n,t)=>Object(l.c)({url:e,method:"GET"}).then(e=>(e.metadata.namespace=n,e.metadata.annotations=Object.assign(Object.assign({},e.metadata.annotations),{[s.v.installedFrom]:d.a,[s.v.semVersion]:t}),Object(a.jb)("tekton.dev/v1"===e.apiVersion?o.TaskModel:o.TaskModelV1Beta1,e))).catch(e=>{throw console.warn("Error while importing ArtifactHub Task:",e),e}),b=(e,n,t,i,u)=>c(void 0,void 0,void 0,(function*(){return Object(l.c)({url:e,method:"GET"}).then(e=>(e.metadata.namespace=t,e.metadata.annotations=Object.assign(Object.assign({},e.metadata.annotations),{[s.v.semVersion]:u}),e.metadata=r.a({},n.data.metadata,e.metadata),Object(a.rb)("tekton.dev/v1"===e.apiVersion?o.TaskModel:o.TaskModelV1Beta1,e,t,i))).catch(e=>{throw console.warn("Error while updating ArtifactHub Task:",e),e})}))},6855:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"e",(function(){return c})),t.d(n,"c",(function(){return p}));var i=t(109),r=t(5684),a=t(5586),l=t(7496),u=function(e,n,t,i){return new(t||(t=Promise))((function(r,a){function l(e){try{o(i.next(e))}catch(e){a(e)}}function u(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}o((i=i.apply(e,n||[])).next())}))};const o="enable-devconsole-integration",s=(e="",n="https://hub.tekton.dev")=>e?`${n}/${e}`:null,d=()=>{var e,n;const[t,i]=Object(r.a)(a.TektonHubModel,"hub");return{loaded:i,apiURL:(null===(e=null==t?void 0:t.status)||void 0===e?void 0:e.apiUrl)||"https://api.hub.tekton.dev",uiURL:(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.uiUrl)||"https://hub.tekton.dev"}},c=(e,n)=>Object(l.a)(e+"/v1/resources",n),p=(e,n)=>u(void 0,void 0,void 0,(function*(){var t,r;const a=n||"https://api.hub.tekton.dev",l=yield(o=`${a}/v1/resource/${e}/versions`,u(void 0,void 0,void 0,(function*(){return(yield Object(i.b)(o)).json()})));var o;return null!==(r=null===(t=null==l?void 0:l.data)||void 0===t?void 0:t.versions)&&void 0!==r?r:[]}))},7496:function(e,n,t){"use strict";var i=t(0),r=t(109),a=function(e,n,t,i){return new(t||(t=Promise))((function(r,a){function l(e){try{o(i.next(e))}catch(e){a(e)}}function u(e){try{o(i.throw(e))}catch(e){a(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}o((i=i.apply(e,n||[])).next())}))};n.a=(e,n)=>{const[t,l]=i.useState([]),[u,o]=i.useState(!1),[s,d]=i.useState();return i.useEffect(()=>{let t=!0;return n?Object(r.b)(e).then(e=>a(void 0,void 0,void 0,(function*(){const n=yield e.json();t&&(o(!0),l(n.data))}))).catch(e=>{t&&(o(!0),d(null==e?void 0:e.message))}):o(!0),()=>{t=!1}},[e,n]),[t,u,s]}},8309:function(e,n,t){"use strict";var i=t(8310);t.d(n,"c",(function(){return i.a}));var r=t(8311);t.d(n,"b",(function(){return r.a}));var a=t(8313);t.d(n,"a",(function(){return a.a}))},8310:function(e,n,t){"use strict";var i=t(0),r=t(55),a=t(29),l=t(255),u=t(116),o=t(5),s=t(5635),d=t(5588),c=t(6364);n.a=()=>{const{values:e,status:n}=Object(r.f)(),{taskResources:{namespacedTasks:t,clusterTasks:p,tasksLoaded:f}}=e,v=i.useMemo(()=>u.a([...t,...p]),[t,p]);return[i.useMemo(()=>(e=>l.a(e,(e,n)=>{var t,r;const{uid:l,name:u,annotations:p={},creationTimestamp:f,labels:v={}}=n.metadata,{description:g}=n.spec,b=(null===(t=p[d.v.tags])||void 0===t?void 0:t.split(/\s*,\s*/))||[],k=(null===(r=p[d.v.categories])||void 0===r?void 0:r.split(/\s*,\s*/))||[],m=p[d.v.installedFrom]||d.t.redhat,T=p[d.v.installedFrom]===c.a?v[d.w.version]?[{id:p[d.v.semVersion],version:p[d.v.semVersion]}]:[]:v[d.w.version]?[{id:v[d.w.version],version:v[d.w.version]}]:[],R={uid:l,type:d.t.redhat,name:u,description:g,provider:m,tags:b,creationTimestamp:f,icon:{node:i.createElement(o.fb,{kind:Object(s.c)(n.kind)})},attributes:{installed:p[d.v.installedFrom]===c.a?p[d.v.semVersion]:v[d.w.version],versions:T,categories:k},cta:{label:a.a.t("pipelines-plugin~Add"),callback:()=>{}},data:n};return e.push(R),e},[]))(v),[v]),f,null==n?void 0:n.taskLoadingError]}},8311:function(e,n,t){"use strict";var i=t(0),r=t(351),a=t(29),l=t(5),u=t(8),o=t(5622),s=t(5588),d=t(6855),c=t(8312);n.a=({namespace:e})=>{const[n,t]=i.useState([]),p=Object(l.Dc)({group:o.l.apiGroup,resource:o.l.plural,namespace:e,verb:"create"}),f=Object(l.Dc)({group:o.l.apiGroup,resource:o.l.plural,namespace:e,verb:"update"}),v=Object(c.b)(),{apiURL:g,uiURL:b,loaded:k}=Object(d.d)(),[m,T,R]=Object(d.e)(g,p&&f&&v&&k);return i.useMemo(()=>t(((e,n,t)=>e.filter(c.a).reduce((e,d)=>{var c,p,f,v;if(d.kind!==o.l.kind)return e;const{id:g,name:b}=d,{description:k}=d.latestVersion,m=s.t.tektonHub,T=null!==(p=null===(c=d.tags)||void 0===c?void 0:c.map(e=>e.name))&&void 0!==p?p:[],R=null!==(v=null===(f=d.categories)||void 0===f?void 0:f.map(e=>e.name))&&void 0!==v?v:[],[P]=R,h={uid:g.toString(),type:s.t.community,name:b,description:k,provider:m,tags:T,secondaryLabel:P&&i.createElement(r.a,{color:"blue"},P),icon:{node:i.createElement(l.fb,{kind:Object(u.Hb)(o.l)})},attributes:{installed:"",versions:[],categories:R,apiURL:n,uiURL:t},cta:{label:a.a.t("pipelines-plugin~Add")},data:d};return e.push(h),e},[]))(m,g,b)),[g,m,b]),[n,T,R]}},8312:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return u}));var i=t(5684),r=t(5586),a=t(6855);const l=e=>{var n;return(null!==(n=null==e?void 0:e.platforms.map(e=>e.name))&&void 0!==n?n:[]).includes(`${window.SERVER_FLAGS.GOOS}/${window.SERVER_FLAGS.GOARCH}`)},u=()=>{var e,n,t,l;const[u,o,s]=Object(i.a)(r.TektonConfigModel,"config");if(!o)return!1;if(u&&o&&!s){const i=null===(t=null===(n=null===(e=u.spec)||void 0===e?void 0:e.hub)||void 0===n?void 0:n.params)||void 0===t?void 0:t.find(e=>e.name===a.a);return"false"!==(null===(l=null==i?void 0:i.value)||void 0===l?void 0:l.toLowerCase())}return!0}},8313:function(e,n,t){"use strict";var i=t(0),r=t(29),a=t(5),l=t(8),u=t(5622),o=t(5588),s=t(6364),d=t(6854),c=t(8312);n.a=({namespace:e})=>{const n=Object(c.b)(),t=Object(a.Dc)({group:u.l.apiGroup,resource:u.l.plural,namespace:e,verb:"create"}),p=Object(a.Dc)({group:u.l.apiGroup,resource:u.l.plural,namespace:e,verb:"update"}),[f,v,g]=Object(d.d)(t&&p&&n);return[i.useMemo(()=>(e=>e.reduce((e,n)=>{const{package_id:t,name:d,description:c}=n,p=o.t.artifactHub,f={uid:t.toString(),type:o.t.community,name:d,description:c,provider:p,icon:{node:i.createElement(a.fb,{kind:Object(l.Hb)(u.l)})},attributes:{installed:""},cta:{label:r.a.t("pipelines-plugin~Add")},data:{task:n,source:s.a}};return e.push(f),e},[]))(f),[f]),v,g]}}}]);
//# sourceMappingURL=catalog-chunk-544ae83901b1954db8ae.min.js.map