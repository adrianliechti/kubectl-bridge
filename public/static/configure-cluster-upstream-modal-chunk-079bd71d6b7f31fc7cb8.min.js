(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{5485:function(e,t,r){"use strict";r.r(t),r.d(t,"ConfigureClusterUpstreamModal",(function(){return p})),r.d(t,"configureClusterUpstreamModal",(function(){return d}));var a=r(0),l=r(10),n=r(8),c=r(118),u=r(5),o=r(7),s=r(692),i=r(30),m=r(281);const p=Object(u.Oc)(e=>{var t;const{cv:r,handlePromise:p,close:d}=e,f=null===(t=null==r?void 0:r.spec)||void 0===t?void 0:t.upstream,[v,b]=a.useState(!!f),[E,g]=a.useState(f),[h,O]=a.useState(!1),{t:C}=Object(o.useTranslation)(),j=Object(u.Qb)(u.Lb.updateService);return a.createElement("form",{onSubmit:e=>{if(e.preventDefault(),v){if(!E)return void O(!0);if(E===f)return p(Promise.resolve(),d)}else if(!f)return p(Promise.resolve(),d);const t=[{op:"add",path:"/spec/upstream",value:v?E:null}];return p(Object(n.pb)(l.ClusterVersionModel,r,t),d)},name:"form",className:"modal-content"},a.createElement(c.d,null,C("public~Edit upstream configuration")),a.createElement(c.a,null,a.createElement("p",null,C("public~Select a configuration to receive updates. Updates can be configured to receive information from Red Hat or a custom update service.")),!Object(u.hc)()&&!Object(u.ic)()&&a.createElement("p",null,a.createElement(u.z,{href:j,text:C("public~Learn more about OpenShift local update services.")})),a.createElement("div",{className:"form-group"},a.createElement("fieldset",null,a.createElement("label",null,C("public~Configuration")),a.createElement(s.b,{value:"default",onChange:()=>{b(!1),O(!1)},checked:!v,title:C("public~Default. Receive update information from Red Hat.")},a.createElement(m.a,{id:"cluster-version-default-upstream-server-url",type:"url",isDisabled:!0,value:i.j,readOnlyVariant:"default"})),a.createElement(s.b,{value:"custom",onChange:()=>b(!0),checked:v,title:C("public~Custom update service.")},a.createElement(m.a,{id:"cluster-version-custom-upstream-server-url",type:"url",placeholder:"https://example.com/api/upgrades_info/v1/graph",value:E,onChange:(e,t)=>{b(!0),g(t),O(!1)},validated:h?"error":"default"}),h&&a.createElement("div",{className:"pf-v5-c-form"},a.createElement("div",{className:"pf-v5-c-form__helper-text pf-m-error"},C("public~Please enter a URL"))))))),a.createElement(c.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:C("public~Save"),cancel:e.cancel,submitDisabled:h}))}),d=Object(c.f)(p)}}]);
//# sourceMappingURL=configure-cluster-upstream-modal-chunk-079bd71d6b7f31fc7cb8.min.js.map