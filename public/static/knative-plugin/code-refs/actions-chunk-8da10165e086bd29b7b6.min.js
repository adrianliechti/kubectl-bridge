(window.webpackJsonp=window.webpackJsonp||[]).push([[187,20,44,126],{360:function(e,t,n){"use strict";n.r(t),n.d(t,"useMakeServerlessActionProvider",(function(){return N})),n.d(t,"useSinkPubSubActionProvider",(function(){return A})),n.d(t,"useKnativeServiceActionsProvider",(function(){return D})),n.d(t,"useBrokerActionProvider",(function(){return I})),n.d(t,"useCommonActionsProvider",(function(){return x})),n.d(t,"useChannelActionProvider",(function(){return _})),n.d(t,"useTopologyActionsProvider",(function(){return $})),n.d(t,"useEventSourcesActionsProvider",(function(){return L})),n.d(t,"useEventSourcesActionsProviderForTopology",(function(){return M})),n.d(t,"useModifyApplicationActionProvider",(function(){return U})),n.d(t,"useUriActionsProvider",(function(){return F})),n.d(t,"useKnativeConnectorActionProvider",(function(){return B})),n.d(t,"topologyServerlessActionsFilter",(function(){return K})),n.d(t,"useKnativeEventSinkActionProvider",(function(){return G}));var a=n(0),i=n(5585),r=n(5722),s=n(5847),o=n(6402),c=n(6137),l=n(5960),u=n(8),d=n(15),p=n(473),m=n(5741),v=n(5750),h=n(2221),b=n(6845),g=n(6336),f=n(132),k=n(76),y=n(5634),j=n(870),O=n(9548),E=n(9549),S=n(9550),R=n(2342),P=n(2345),T=n(2344),w=n(9551),C=n(2346);const N=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e));return[a.useMemo(()=>Object(C.b)(e)?[]:Object(C.a)(t,e),[t,e]),!n,void 0]},A=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e));return[a.useMemo(()=>[Object(w.h)(t,e),...Object(r.b)(t,e)],[t,e]),!n,void 0]},D=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e)),i=a.useContext(g.a);return[a.useMemo(()=>{var n,a,c;return[Object(w.j)(t,e),Object(o.a)(t,e),Object(w.e)(t,e),s.a.EditResourceLimits(t,e),r.a.ModifyLabels(t,e),r.a.ModifyAnnotations(t,e),Object(w.f)(t,e,i),..."OpenShiftWebConsole"===(null===(n=e.metadata.annotations)||void 0===n?void 0:n["openshift.io/generated-by"])?[Object(w.c)(t,e,i,!0)]:[Object(w.c)(t,e,i,!1)],..."true"===(null===(c=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.labels)||void 0===c?void 0:c["function.knative.dev"])?[Object(w.k)(t,e)]:[]]},[t,e,i]),!n,void 0]},I=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e)),i=Object(d.Nd)(f.m);return[a.useMemo(()=>{const n=[],a=`${Object(u.Db)(e)}/${e.metadata.name}`;return n.push(Object(w.b)(t,e)),i&&n.push(Object(S.b)(e.metadata.namespace,void 0,a)),n.push(...Object(r.b)(t,e)),n},[i,t,e]),!n,void 0]},x=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e));return[a.useMemo(()=>{let n=Object(r.b)(t,e);return e.kind===k.n.kind&&n.findIndex(e=>"delete-resource"===e.id)&&(n=n.filter(e=>"delete-resource"!==e.id),n.push(Object(w.d)(t,e))),n},[t,e]),!n,void 0]},_=e=>{const[t,n]=Object(p.a)(Object(u.Db)(e)),i=Object(d.Nd)(f.m);return[a.useMemo(()=>{const n=[],a=`${Object(u.Db)(e)}/${e.metadata.name}`;return n.push(Object(w.a)(t,e)),i&&n.push(Object(S.b)(e.metadata.namespace,void 0,a)),n.push(...Object(r.b)(t,e)),n},[i,t,e]),!n,void 0]},$=({element:e,connectorSource:t})=>{const n=Object(d.Nd)(f.m),r=Object(d.Nd)(f.r),s=Object(b.c)(),{isEventSourceAddEnabled:o,isEventSinkAddEnabled:p,isChannelAddEnabled:m,isBrokerAddEnabled:v}=(()=>{const e=Object(l.a)();return{isEventSourceAddEnabled:!(null==e?void 0:e.includes(f.o)),isEventSinkAddEnabled:!(null==e?void 0:e.includes(f.l)),isChannelAddEnabled:!(null==e?void 0:e.includes(f.h)),isBrokerAddEnabled:!(null==e?void 0:e.includes(f.g))}})(),[g]=Object(d.ue)();return[a.useMemo(()=>{const a=e.getLabel();if(!t){if(!Object(i.isGraph)(e)&&e.getType()!==h.u)return[];const t=a?"add-to-application":"add-to-project",l=[];return p&&n&&s&&l.push(Object(S.a)(g,a,void 0,t)),o&&r&&s&&l.push(Object(R.a)(g,a,void 0,t)),s&&m&&l.push(Object(E.a)(g,a,t)),s&&v&&l.push(Object(O.a)(g,a,t)),l.filter(c.d)}if(t.getData().type===y.j)return[];const l=t.getData().data.kind,d=t.getData().resource;if(Object(j.isEventingChannelResourceKind)(l)){const e=[];return e.push(Object(P.a)(d)),n&&e.push(Object(S.b)(g,a,`${l}/${d.metadata.name}`)),e}switch(l){case Object(u.Hb)(k.p):return r&&o&&s?[Object(R.a)(g,a,`${l}/${d.metadata.name}`,"")].filter(c.d):[];case Object(u.Hb)(k.f):{const e=[];return e.push(Object(T.a)(d)),n&&e.push(Object(S.b)(g,a,`${l}/${d.metadata.name}`)),e}default:return[]}},[t,e,v,m,p,n,o,r,s,g]),!0,void 0]},L=e=>a.useMemo(()=>{if(!e||"URI"===e.kind)return[[],!0,void 0];const t=Object(u.vb)(Object(u.Db)(e));return[[Object(w.i)(t,e),...Object(r.b)(t,e)],!0,void 0]},[e]),M=e=>{const t=a.useMemo(()=>{if([y.i,y.j].includes(e.getType()))return e.getData().resources.obj},[e]);return L(t)},U=e=>{const t=a.useMemo(()=>{if(![y.o,y.e,y.i,y.j].includes(e.getType()))return;const t=e.getData().resources.obj,n=Object(u.vb)(Object(u.Db)(t));return[Object(v.a)(n,t,["set-traffic-distribution","add-tigger-broker","add-subscription-channel","move-sink-source"])]},[e]);return a.useMemo(()=>t?[t,!0,void 0]:[[],!0,void 0],[t])},F=e=>{const t=a.useMemo(()=>{if(e.getType()!==y.q)return;const{obj:t,eventSources:n}=e.getData().resources;if(n.length>0){const e=Object(u.vb)(Object(u.Db)(n[0]));return[Object(w.g)(e,t,n)]}return null},[e]);return a.useMemo(()=>t?[t,!0,void 0]:[[],!0,void 0],[t])},B=e=>{const t=a.useMemo(()=>{var t;const n=e.getType()===y.k;if(Object(i.isEdge)(e)&&(null===(t=e.getSource())||void 0===t?void 0:t.getData())){const{resource:t}=e.getSource().getData(),a=Object(u.vb)(Object(u.Db)(t));if(n)return[Object(w.i)(a,t)];if([y.p,y.l].includes(e.getType()))return[Object(m.b)(a,e)]}return null},[e]);return a.useMemo(()=>t?[t,!0,void 0]:[[],!0,void 0],[t])},K=(e,t)=>{var n;return!([y.j,y.e].includes(null===(n=e.connectorSource)||void 0===n?void 0:n.getData().type)&&![T.b,P.b,S.c].includes(t.id))},G=e=>{const t=a.useMemo(()=>{var t,n;return(null===(n=null===(t=e.getData())||void 0===t?void 0:t.resources)||void 0===n?void 0:n.obj)||{}},[e]),[n]=Object(p.a)(Object(u.Db)(t)),i=a.useMemo(()=>{const a=e.getType();if((a===y.g||a===y.m)&&n)return n&&t?[Object(v.a)(n,t),...Object(r.b)(n,t)]:void 0},[e,n,t]);return a.useMemo(()=>i?[i,!0,void 0]:[[],!0,void 0],[i])}},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var i=n(869);n.d(t,"SecretTypeAbstraction",(function(){return i.c})),n.d(t,"AUTHS_KEY",(function(){return i.a})),n.d(t,"SecretType",(function(){return i.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var s=n(5604);n.d(t,"PullSecretForm",(function(){return s.a}));var o=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return o.a}));var c=n(5605);n.d(t,"CreateConfigSubform",(function(){return c.a}));var l=n(5607);n.d(t,"UploadConfigSubform",(function(){return l.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var v=n(5609);n.d(t,"GenericSecretForm",(function(){return v.a}));var h=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return h.b})),n.d(t,"KeyValueEntryForm",(function(){return h.a}));var b=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return b.b})),n.d(t,"EditSecret",(function(){return b.a}));var g=n(5637);n.d(t,"CreateSecret",(function(){return g.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var k=n(5600);n.d(t,"SecretSubForm",(function(){return k.a}));n(5638)},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var i=n(5611);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"e",(function(){return i.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,i,r,s,o,c,l,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"u",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return k})),n.d(t,"z",(function(){return y})),n.d(t,"y",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"n",(function(){return R})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return w})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(s||(s={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(o||(o={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(c||(c={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(l||(l={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",v="1.5.2",h="pipeline",b="bridge/pipeline-run-auto-start-failed",g=275,f=375,k=60,y="pipeline.openshift.io/preferredName",j="chains.tekton.dev/signed",O="openshift-pipelines",E="openshift",S="config";var R;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(R||(R={}));const P="FLAG_TEKTON_V1_ENABLED",T="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",w="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return P})),n.d(t,"m",(function(){return T})),n.d(t,"b",(function(){return w})),n.d(t,"l",(function(){return C}));var a=n(5596),i=n(29),r=n(117),s=n(16),o=n(22),c=n(279),l=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),v=n(5659),h=n(5625),b=n(1400);const g=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),k=e=>{var t,n,a;const i=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==i?void 0:i.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==i?void 0:i.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},y=(e,t,n,i)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const i=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${i}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${i}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${i}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${i}`:a})(a(e),t,i);return n?`${n}/f?url=${r}&policies.create=peruser`:r},j=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},O=(e,t)=>t?e.filter(e=>s.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,E=(e,t)=>t.length>0&&!o.a(t[0].spec)?Object(u.c)(t[0]):null,S=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},R=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||S(null==e?void 0:e.getData())},P=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(S(null==e?void 0:e.getData())),T=(e,t)=>{const n=null==e?void 0:e.getData(),a=R(e);if(!e||!a||!c.a(n.resources))return Promise.reject();const r=[],s=[];r.push(a),e.getType()===v.d&&l.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(i.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));s.push(Object(h.c)(n,e,t))}return Promise.all(s)},w=(e,t,n=null)=>e&&t&&e!==t?Object(b.a)(e,t,n):Promise.reject(new Error(i.a.t("topology~Can not create a connection from a node to itself."))),C=e=>{const t=R(e.getSource()),n=R(e.getTarget());return t&&n?Object(b.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return h}));var a=n(279),i=n(160),r=n(107),s=n(1404),o=n(7),c=n(869);const l=e=>{switch(e){case c.c.source:return c.b.basicAuth;case c.c.image:return c.b.dockerconfigjson;default:return c.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case c.b.basicAuth:case c.b.sshAuth:return c.c.source;case c.b.dockerconfigjson:case c.b.dockercfg:return c.c.image;default:return(null==t?void 0:t[s.WebHookSecretKey])&&1===a.a(t)?c.c.webhook:c.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=i.a(e).sort();return r.a(t,["tls.crt","tls.key"])?c.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?c.b.serviceAccountToken:r.a(t,[".dockercfg"])?c.b.dockercfg:r.a(t,[".dockerconfigjson"])?c.b.dockerconfigjson:r.a(t,["password","username"])?c.b.basicAuth:r.a(t,["ssh-privatekey"])?c.b.sshAuth:c.b.opaque},m=e=>{switch(e){case c.b.dockercfg:return".dockercfg";case c.b.dockerconfigjson:return".dockerconfigjson";default:return e}},v=(e,t)=>{const{t:n}=Object(o.useTranslation)();switch(t){case c.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case c.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},h=e=>{const{t:t}=Object(o.useTranslation)();switch(e){case c.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case c.c.source:return t("public~Source secrets let you authenticate against a Git server.");case c.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case c.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var i=n(5642);n.d(t,"e",(function(){return i.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return i(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(282);const r=e=>a.createElement(i.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,n){"use strict";var a=n(5625);n.d(t,"a",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var i=n(5589);n.d(t,"c",(function(){return i.d})),n.d(t,"d",(function(){return i.e})),n.d(t,"f",(function(){return i.g})),n.d(t,"g",(function(){return i.h})),n.d(t,"h",(function(){return i.k}));n(1400);var r=n(5671);n.d(t,"b",(function(){return r.a}));var s=n(5679);n.d(t,"j",(function(){return s.a}));var o=n(5680);n.d(t,"i",(function(){return o.a}));var c=n(5664);n.d(t,"l",(function(){return c.a}));n(5678);var l=n(5665);n.d(t,"e",(function(){return l.a}));var u=n(5672);n.d(t,"m",(function(){return u.a}))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var i=n(5628);n.d(t,"e",(function(){return i.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var s=n(5632);n.d(t,"a",(function(){return s.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(380),i=n(83),r=n(437),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const o="/api/dev-console/proxy/internet",c=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),l=e=>s(void 0,void 0,void 0,(function*(){const t=yield i.consoleFetchJSON.post(o,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>l(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(501),i=n(838),r=n(2324),s=n(16),o=n(640),c=n(1256),l=n(0),u=n(137),d=n(7),p=n(320),m=n(966),v=n(19),h=n(14),b=n(8),g=n(5),f=n(118),k=n(10),y=n(5590),j=n(5600);const O=e=>{const{isCreate:t,modal:n,onCancel:O}=e,{t:E}=Object(d.useTranslation)(),S=Object(h.useNavigate)(),R=Object(h.useParams)(),P=a.a(e.obj,["metadata","type"]),T=Object(y.d)(e.secretTypeAbstraction),w=i.a({},e.fixed,P,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:T}),[C]=l.useState(e.secretTypeAbstraction),[N,A]=l.useState(w),[D,I]=l.useState(!1),[x,_]=l.useState(),[$,L]=l.useState(r.a(s.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[M,U]=l.useState({}),[F,B]=l.useState(!1),K=Object(y.g)(t,C),G=Object(y.f)(C),V=()=>S(`/k8s/ns/${R.ns}/core~v1~Secret`),q=e=>{L(Object.assign({},null==e?void 0:e.stringData)),U(Object.assign({},null==e?void 0:e.base64StringData))},H=e=>{_(e),I(!1)},J=e=>{const t=e.target.value,n=o.a(N);n.metadata.name=t,A(n)},z=n=>{n.preventDefault();const{metadata:a}=N;I(!0);const i=Object.assign(Object.assign({},r.a($,e=>p.Base64.encode(e))),M),s=c.a({},N,{data:i},t?{type:Object(y.a)($)}:{});(t?Object(b.jb)(k.SecretModel,s):Object(b.rb)(k.SecretModel,s,a.namespace,s.metadata.name)).then(t=>{I(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||S(Object(g.sc)(t,Object(b.Db)(t)))},e=>{_(e.message),I(!1)})},W=()=>{var n;return l.createElement(l.Fragment,null,l.createElement("fieldset",{disabled:!t},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},E("public~Secret name")),l.createElement("div",null,l.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:J,value:null===(n=null==N?void 0:N.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),l.createElement("p",{className:"help-block",id:"secret-name-help"},E("public~Unique name of the new secret."))))),l.createElement(j.a,{typeAbstraction:e.secretTypeAbstraction,onChange:q,onError:H,onFormDisable:e=>B(e),stringData:$,secretType:N.type,isCreate:t}))};return n?l.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:z},l.createElement(f.d,null,K),l.createElement(f.a,null,W()),l.createElement(f.c,{errorMessage:x||"",inProgress:D,submitText:E("public~Create"),cancel:O||V})):l.createElement("div",{className:"co-m-pane__form"},l.createElement(u.a,null,l.createElement("title",null,K)),l.createElement(g.Z,{title:K,helpText:G}),l.createElement("div",{className:"co-m-pane__body"},l.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:z},W(),l.createElement(g.g,{errorMessage:x,inProgress:D},l.createElement(m.a,{className:"pf-v5-c-form"},l.createElement(v.a,{type:"submit","data-test":"save-changes",isDisabled:F,variant:"primary",id:"save-changes"},e.saveButtonText||E("public~Create")),l.createElement(v.a,{type:"button",variant:"secondary",id:"cancel",onClick:O||V},E("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return f}));var a,i=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const s={[i.b.GITHUB]:"GitHub",[i.b.GITLAB]:"GitLab",[i.b.GITEA]:"Gitea",[i.b.BITBUCKET]:"Bitbucket",[i.b.UNSURE]:"Other"};var o,c,l,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(o||(o={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(c||(c={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(l||(l={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[c.OpenShift]:r.DeploymentConfigModel.labelKey,[c.Kubernetes]:r.DeploymentModel.labelKey,[c.KnativeService]:"devconsole~Serverless Deployment"},p={[l.BUILDS]:"devconsole~BuildConfig",[l.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[l.PIPELINES]:"devconsole~Build using pipelines",[l.DISABLED]:"devconsole~Disabled"},m={[c.OpenShift]:r.DeploymentConfigModel.kind,[c.Kubernetes]:r.DeploymentModel.kind,[c.KnativeService]:"Service"};var v,h,b,g,f,k;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(v||(v={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(h||(h={})),function(e){e.None="None",e.Redirect="Redirect"}(b||(b={})),function(e){e.m="millicores",e[""]="cores"}(g||(g={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(k||(k={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(869),r=n(5601),s=n(5604),o=n(5608),c=n(5609),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=l(e,["typeAbstraction"]);switch(t){case i.c.source:return a.createElement(r.a,Object.assign({},n));case i.c.image:return a.createElement(s.a,Object.assign({},n));case i.c.webhook:return a.createElement(o.a,Object.assign({},n));default:return a.createElement(c.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(7),r=n(5),s=n(869),o=n(5602),c=n(5603);class l extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:s.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[s.b.basicAuth]:e("public~Basic authentication"),[s.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===s.b.basicAuth?a.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(c.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(i.withTranslation)()(l)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const s=Object(i.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5593);const s=({onChange:e,stringData:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),i=n(0),r=n(7),s=n(5),o=n(5590),c=n(869),l=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[v,h]=i.useState("credentials"),{t:b}=Object(r.useTranslation)(),g=i.useMemo(()=>{var e;try{const t=Object(o.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=i.useCallback(t=>{a.a(t)||n(!1);const i=t[c.a]?".dockerconfigjson":".dockercfg";e({stringData:{[i]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),k={credentials:b("public~Image registry credentials"),"config-file":b("public~Upload configuration file")};return i.createElement(i.Fragment,null,m&&i.createElement("div",{className:"form-group"},i.createElement("label",{className:"control-label",htmlFor:"secret-type"},b("public~Authentication type")),i.createElement("div",{className:"co-create-secret__dropdown"},i.createElement(s.t,{items:k,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:v,onChange:h}))),"credentials"===v?i.createElement(l.a,{onChange:f,stringData:g}):i.createElement(u.a,{onChange:f,stringData:g,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(22),i=n(840),r=n(4434),s=n(57),o=n(16),c=n(4437),l=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),v=n(7),h=n(320),b=n(19),g=n(408),f=n(407),k=n(869),y=n(5606);class j extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[k.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[k.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:i.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(s.a(e,(e,n)=>{const r=h.Base64.decode(o.a(e,"auth","")),s=a.a(r)?c.a(Array(2),""):l.a(r,":");t.push({entry:{address:n,username:o.a(e,"username",s[0]),password:o.a(e,"password",s[1]),email:o.a(e,"email",""),auth:o.a(e,"auth","")},uid:o.a(e,"uid",i.a())})}),t)}imageSecretArrayToObject(e){const t={};return s.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[k.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],i={uid:a[t].uid,entry:e,auth:h.Base64.encode(`${e.username}:${e.password}`)};return a[t]=i,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:i}=null!=t?t:{},{address:r,email:s,password:o,username:c}=null!=i?i:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(b.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(g.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(y.a,{id:n,address:r,email:s,password:o,username:c,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(b.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const O=Object(v.withTranslation)()(j)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(320);const s=({id:e,address:t,email:n,password:s,username:o,onChange:c})=>{const{t:l}=Object(i.useTranslation)(),u=(a,i)=>{const l=o.trim(),u=s.trim(),d=o&&s?r.Base64.encode(`${l}:${u}`):"";c(Object.assign({address:t,username:o,password:s,email:n,[a]:i},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},l("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},l("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},l("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:o,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},l("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:s,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},l("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),i=n(1973),r=n(1240),s=n(0),o=n(7),c=n(5593);class l extends s.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(i.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(i.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(c.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&s.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(o.withTranslation)()(l)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5590);class s extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const o=Object(i.withTranslation)()(s)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(840),i=n(22),r=n(50),s=n(255),o=n(1256),c=n(4434),l=n(279),u=n(0),d=n(7),p=n(320),m=n(19),v=n(408),h=n(407),b=n(973),g=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return i.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=b.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return s.a(e,(e,t)=>{var n,a;return o.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:c.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},l.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(g.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(h.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const k=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5593);class s extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const o=Object(i.withTranslation)()(s)},5611:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(i||(i={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),i=n(5596),r=n(320),s=n(83),o=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.BASIC_AUTH:case c.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return c.d.Reachable}catch(e){switch(e.status){case 403:return c.d.RateLimitExceeded;case 404:return c.d.PrivateRepo;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}return c.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},c="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:`${c}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:i,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const l="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:l}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),i=n(5707),r=(n(4360),n(83)),s=n(5597),o=n(5587),c=n(5592),l=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};class u extends c.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>l(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(s.c)(Object.assign({url:e,method:t||"GET",headers:Object(s.d)(r)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return o.d.Reachable}catch(e){switch(e.status){case 429:return o.d.RateLimitExceeded;case 403:return o.d.PrivateRepo;case 404:return o.d.ResourceNotFound;default:return o.d.InvalidGitTypeSelected}}return o.d.Unreachable})),this.getRepoBranchList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>l(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>l(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},i={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},o=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(s.a,{url:o,method:"POST",headers:a,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),i=n(5708),r=n(29),s=n(320),o=n(83),c=n(5597),l=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.OAUTH:case l.e.BASIC_AUTH:return s.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),l.d.Reachable}catch(e){switch(e.status){case 429:return l.d.RateLimitExceeded;case 403:return l.d.PrivateRepo;case 404:return l.d.ResourceNotFound;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const i=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},s={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield o.consoleFetchJSON.post(c.a,{url:`${this.metadata.host}/api/v4/projects/${i}/hooks`,method:"POST",headers:r,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),i=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,i,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new i.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:i}=a(this.gitsource.url),r=(null==(s=this.gitsource.contextDir)?void 0:s.replace(/^\//,""))||"";var s;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:i,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),i=n(320),r=n(22),s=(n(4360),n(83)),o=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===c.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+i.Base64.encode(`${i.Base64.decode(e)}:${i.Base64.decode(t)}`)}}return{Authorization:"token "+i.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(o.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(o.d)(r)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:i,full_name:r}=a(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+i,defaultBranch:this.gitsource.ref,fullName:r,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return c.d.Reachable}catch(e){return c.d.GiteaRepoUnreachable}return c.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},i=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:i,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],s=e=>i(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>i(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return g}));var a,i=n(29),r=n(16),s=n(240),o=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const c=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const i=n.find(e=>"Succeeded"===e.type),s=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!s)return o.a.Cancelling;if(!i||!i.status)return null;const c="True"===i.status?o.a.Succeeded:"False"===i.status?o.a.Failed:o.a.Running;if(i.reason&&i.reason!==c)switch(i.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return o.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return o.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return o.a.Pending;case a.ConditionCheckFailed:return o.a.Skipped;default:return c}return c},l=e=>{const t=c(e);if(!t)return"-";switch(t){case o.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case o.a.Failed:return i.a.t("pipelines-plugin~Failed");case o.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case o.a.Pending:return i.a.t("pipelines-plugin~Pending");case o.a.Running:return i.a.t("pipelines-plugin~Running");case o.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case o.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&c(e.latestRun)||o.a.Other,d=e=>e.latestRun&&l(e.latestRun)||"-",p=e=>l(e)||"-",m=e=>c(e)||o.a.Other,v=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},h=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},b=e=>c(e)||o.a.Other,g=e=>l(e)||"-"},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return k})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return R})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return T}));var a=n(4413),i=n(689),r=n(5),s=n(5620),o=n(2221),c=n(5624),l=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,v=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),h=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:o.b,then:i.string().required("Required")})}),b=e=>i.object().shape({replicas:i.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),g=i.string().oneOf([l.k.OpenShift,l.k.Kubernetes,l.k.KnativeService]).required(),f=e=>i.object().when("resources",{is:l.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),k=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),y=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),j=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),O=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),E=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(c.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),S=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),R=i.object().shape({strategy:i.string()}),P=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),T=i.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===l.a.PIPELINES)&&n!==s.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"s",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return k})),n.d(t,"e",(function(){return y})),n.d(t,"k",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return E})),n.d(t,"r",(function(){return S}));var a=n(5654);const i=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},s={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},h={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},g={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},k={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},j={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},O={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},E={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},S={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return R})),n.d(t,"p",(function(){return P})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"j",(function(){return C})),n.d(t,"m",(function(){return N})),n.d(t,"o",(function(){return A})),n.d(t,"e",(function(){return D})),n.d(t,"v",(function(){return I})),n.d(t,"B",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return M})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"t",(function(){return B})),n.d(t,"g",(function(){return K})),n.d(t,"x",(function(){return G})),n.d(t,"y",(function(){return V})),n.d(t,"z",(function(){return q})),n.d(t,"r",(function(){return W})),n.d(t,"u",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Q})),n.d(t,"A",(function(){return Z})),n.d(t,"n",(function(){return ee}));var a=n(321),i=n(29),r=n(1557),s=n(117),o=n(16),c=n(22),l=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),v=n(5588),h=n(5650),b=n(5586),g=n(5595),f=n(5635),k=n(5617);const y=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,j=e=>e.runAfter&&e.runAfter.length>0;var O;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(O||(O={}));const E={[O.Running]:i.a.t("pipelines-plugin~Running"),[O.Failed]:i.a.t("pipelines-plugin~Failed"),[O.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[O.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[O.Other]:i.a.t("pipelines-plugin~Other")};var S;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(S||(S={}));S.Git,S.PullRequest,S.Image,S.Cluster,S.Storage,S.CloudEvent;const R=(e,t,n,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===k.a.PipelineRunCancelled?r.a(e,{status:{reason:g.a.Cancelled}}):t.spec.status===k.a.PipelineRunPending?r.a(e,{status:{reason:g.a.Idle}}):r.a(e,{status:{reason:g.a.Failed}});const c=s.a(n,t=>t.metadata.labels[v.u.pipelineTask]===e.name),l=null==c?void 0:c.status,u=r.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?o.a(s.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):l});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(k.d)(u)||g.a.Pending:u.status&&!u.status.reason&&(u.status.reason=g.a.Pending):u.status={reason:g.a.Pending},u}),P=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const i=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||c.a(e.spec.tasks))return i;const r=R(e,t,n);return r.forEach(e=>{y(e)||j(e)||(0===i.length&&i.push([]),i[0].push(e))}),r.forEach(e=>{var t;if(!j(e)&&y(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):i.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(j(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):i.splice(n+1,0,[e])}}),i},T=(e,t,n)=>R(e,t,n,!0),w=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!c.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},C=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:g.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:g.a.PipelineNotStarted};let n=Object(k.c)(t);return"-"===n&&(n=g.a.Pending),{latestPipelineRun:t,status:n}},N=e=>e&&e.map(e=>({name:e.name,value:e.default})),A=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),D=(e,t,n)=>{const a=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(h.g)(i,n)},I=e=>{var t,n,a,i;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,s=null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==i?i:null;return!r||!s&&"Running"!==Object(k.d)(e)?"-":D(r,s,!0)},x=(e,t,n)=>{const a=l.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},_=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,v.l,t).then(t=>{void 0===s.a(t.secrets,t=>t.name===e.metadata.name)&&x(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},$=(e,t)=>e===v.p.Git?`tekton.dev/${v.p.Git}-${t}`:e===v.p.Image?`tekton.dev/${v.p.Image}-${t}`:null,L=(e,t={})=>{let n=0,a=$(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=$(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},M=e=>{switch(e.kind){case b.PipelineModel.kind:case b.TaskModel.kind:case b.EventListenerModel.kind:return"";case b.PipelineRunModel.kind:return"pipeline-runs";case b.PipelineResourceModel.kind:return"pipeline-resources";case b.ConditionModel.kind:return"conditions";case b.TaskRunModel.kind:return"task-runs";case b.ClusterTaskModel.kind:return"cluster-tasks";case b.TriggerTemplateModel.kind:return"trigger-templates";case b.TriggerBindingModel.kind:return"trigger-bindings";case b.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case b.RepositoryModel.kind:return"repositories";default:return null}},U=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),F=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),B=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),K=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),G=e=>"tekton.dev/v1beta1"===e.apiVersion?b.PipelineModelV1Beta1:b.PipelineModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?b.PipelineRunModelV1Beta1:b.PipelineRunModel,q=e=>"tekton.dev/v1beta1"===e.apiVersion?b.TaskModelV1Beta1:b.TaskModel;var H,J,z;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(H||(H={})),function(e){e.EXTERNAL_LINK="external-link"}(J||(J={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(z||(z={}));const W=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.KEY])===z.SBOM}),Y=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.TYPE])===J.EXTERNAL_LINK},X=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===z.SBOM))||void 0===i?void 0:i.value},Q=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===z.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},Z=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return g.a.Pending;return Object(k.d)(e)},ee=e=>{var t,n,a;const i=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),s={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);s[t.trim()]=Number(n.trim())});const o=((null==s?void 0:s.Completed)||0)-((null==s?void 0:s.Failed)||0)-((null==s?void 0:s.Cancelled)||0);return{Running:(null==s?void 0:s.Incomplete)||0,Succeeded:o||0,Cancelled:(null==s?void 0:s.Cancelled)||0,Failed:(null==s?void 0:s.Failed)||0,Skipped:(null==s?void 0:s.Skipped)||0,Completed:(null==s?void 0:s.Completed)||0,Cancelling:(null==s?void 0:s.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return P}));var a=n(29),i=n(22),r=n(16),s=n(57),o=n(640),c=n(5649),l=n(5),u=n(10),d=n(8),p=n(76),m=n(870),v=n(5586),h=n(5623),b=n(15),g=n(2221),f=n(1400),k=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const y=(e,t=e)=>{switch(t){case g.z:case g.b:return"";default:return e}},j=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:i.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},O=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const i=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),o=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),c=[j(e,t,n)];if(!i)return Promise.all(c);return o&&({"app.kubernetes.io/instance":i}["app.kubernetes.io/part-of"]=o),Object(f.e)(t.metadata.namespace,i,{"app.kubernetes.io/part-of":o}).then(e=>(s.a(e,e=>{s.a(e,e=>{!o&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||c.push(j(Object(d.vb)(e.kind),e,n))})}),Promise.all(c)))},E=(e,t={},n)=>k(void 0,void 0,void 0,(function*(){var a,i;try{if(n){const n=yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),S=(e,t)=>k(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),R=(e,t)=>k(void 0,void 0,void 0,(function*(){var n,a;const i=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(c.c)(i["app.openshift.io/vcs-uri"]),s=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let o;if((null==t?void 0:t.length)>0)o=null==t?void 0:t.reduce((t,n)=>{var a,i;return[...t,...(null!==(i=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==i?i:[]).reduce((t,n)=>{var a,i;let o;const c=n.generic?"generic":r,l=n.generic||n[r];if(l){const t=null!==(i=null===(a=l.secretReference)||void 0===a?void 0:a.name)&&void 0!==i?i:`${e.metadata.name}-${c}-webhook-secret`;o=s.find(e=>e.metadata.name===t)}return o?[...t,S(u.SecretModel,o)]:t},[])]},[]);else{const t=s.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=s.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);o=[S(u.SecretModel,t),S(u.SecretModel,n)]}return o})),P=e=>k(void 0,void 0,void 0,(function*(){const t=[],n=yield E(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield E(u.BuildModel,{ns:e.metadata.namespace}),r=yield E(v.PipelineModel,{ns:e.metadata.namespace},!0),s=yield E(v.TriggerTemplateModel,{ns:e.metadata.namespace},!0),c=yield E(v.EventListenerModel,{ns:e.metadata.namespace},!0),l=yield Object(m.fetchChannelsCrd)(),g=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},k=Object(b.Gc)(e,f),y=!i.a(k),j=Object(h.l)(e,r);let O=[],P=[];const T=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],w=[p.p,u.ImageStreamModel];i.a(j)||(T.push(v.PipelineModel),w.push(v.PipelineModel),O=Object(h.t)(j,s),P=Object(h.g)(O,c));const C=o.a(e),N=(e,n)=>{const a=S(e,n);a&&t.push(a)};y&&k.forEach(e=>{N(u.BuildConfigModel,e)});const A=(e,t)=>{e.forEach(e=>N(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&N(Object(d.vb)(Object(d.Db)(e)),e),l.find(t=>t.kind===e.kind)&&N(g,e),O.length>0&&O.forEach(e=>N(v.TriggerTemplateModel,e)),P.length>0&&P.forEach(e=>N(v.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:N(g,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:N(g,e),A(T,e);break;case p.p.kind:A(w,C);break;case p.b.kind:case p.k.kind:N(g,e)}return y&&t.push(...yield R(e,k)),j&&t.push(...yield R(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5587),i=n(5611),r=n(5616),s=n(5661),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const c=[{name:"Devfile",type:i.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:i.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:i.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:i.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],l=(e,t,n=!1)=>o(void 0,void 0,void 0,(function*(){let e,r=[],l=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(s.b)(n,t),r=yield Promise.all(c.map(e=>o(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),l=!0}catch(e){l=!0,u=e.message}else l=!0;return e||(r=r.filter(e=>e.type!==i.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:l,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"q",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return y})),n.d(t,"r",(function(){return j}));var a=n(2221);const i="event-source",r="event-sink",s="kafka-sink",o="event-source-kafka",c="event-source-link",l="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",v="revision-traffic",h="knative-revision",b="sink-uri",g=a.h,f=100,k=[a.c,a.c,a.c+10,a.c],y=6,j="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return T})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return C}));var a=n(5699),i=n(1403),r=n(5692),s=n(5691),o=n(5654),c=n(2225),l=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),v=n(5617);const h=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(v.c)(n),n},b=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=h(n,"creationTimestamp"),e}),g=e=>{switch(e){case m.a.Succeeded:return{message:l.a.t("pipelines-plugin~Succeeded"),pftoken:o.chart_color_green_400};case m.a.Failed:return{message:l.a.t("pipelines-plugin~Failed"),pftoken:c.global_danger_color_100};case m.a.FailedToStart:return{message:l.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:c.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:l.a.t("pipelines-plugin~Running"),pftoken:s.chart_color_blue_300};case m.a.Skipped:return{message:l.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:l.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case m.a.Cancelling:return{message:l.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:l.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:l.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},f=e=>{var t,n,a,i,r;const s=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),o=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return s&&o?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:s,namespace:e.metadata.namespace},spec:o}:null},k=(e,t,n)=>{var a,i,r,s,o;const c=(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==i?i:0)})(t),l=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=l().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||n){l().forEach(t=>{const a=Object(v.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(v.c)(e)===m.a.Cancelled,i=c>=u?c-u-d:c;t||a?p[m.a.Cancelled]+=i:p[m.a.Pending]+=i}else"False"===(null===(o=null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===s?void 0:s[0])||void 0===o?void 0:o.status)||(null==e?void 0:e.spec.status)===v.a.PipelineRunCancelled?p[m.a.Cancelled]=c:(null==e?void 0:e.spec.status)===v.a.PipelineRunPending?p[m.a.Pending]+=c:p[m.a.PipelineNotStarted]++;return p},y=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,j=e=>(y(e)||p.TaskModel).kind,O=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,E=e=>(O(e)||p.TriggerBindingModel).kind,S=e=>{const t=y(e);return Object(u.Hb)(t)},R=(e,t)=>{const n=t&&k(e,void 0,t);return null==n?void 0:n.Running},P=(e,t)=>!(e&&(R(e,t)>0||Object(v.c)(e)===m.a.Running)),T=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(v.c)(e)===m.a.Running)),w=(e,t)=>!(e&&R(e,t)>0&&Object(v.c)(e)!==m.a.Cancelled),C=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(v.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),i=n(0),r=n(7),s=n(14),o=n(5),c=n(869),l=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends i.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:c.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(l.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return i.createElement(o.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return i.createElement(o.wb,Object.assign({},e),i.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(s.useParams)(),{t:n}=Object(r.useTranslation)();return i.createElement(o.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},i.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(14),r=n(5598);const s=()=>{const e=Object(i.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},i={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},s={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},o={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,i,a,o,c,d,l,u,s],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5587);function i(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4359),i=n(5587),r=n(5613),s=n(5615),o=n(5612),c=n(5614);function l(e,t,n,l,u,d,p){let m,v;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=i.e.BASIC_AUTH,v=u.data;break;case a.SecretType.sshAuth:m=i.e.SSH,v=u["ssh-privatekey"];break;default:m=i.e.NO_AUTH}const h={url:e,ref:n,contextDir:l,secretType:m,secretContent:v,devfilePath:d,dockerfilePath:p};switch(t){case i.b.GITHUB:return new o.a(h);case i.b.BITBUCKET:return new r.a(h);case i.b.GITLAB:return new c.a(h);case i.b.GITEA:return new s.a(h);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5709);class i{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return R})),n.d(t,"d",(function(){return P}));var a=n(29),i=n(16),r=n(57),s=n(117),o=n(367),c=n(1401),l=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),v=n(1400),h=n(5589);const b=(e,t)=>{var n,a,i,r,s,o,c,l;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(i=null==e?void 0:e.buildConfigs)||void 0===i?void 0:i.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(o=null===(s=null==e?void 0:e.pipelines)||void 0===s?void 0:s.data)||void 0===o?void 0:o.find(e=>e.metadata.name===t);if(m){const e=null===(l=null===(c=null==m?void 0:m.spec)||void 0===c?void 0:c.params)||void 0===l?void 0:l.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},g=(e,t,n,a,r=!1,s)=>{const{monitoringAlerts:o=[]}=t,l=i.a(e,"metadata.uid"),m=i.a(e,"metadata.labels",{}),v=i.a(e,"metadata.annotations",{}),h=i.a(e,"metadata.name",""),g=b(s,h),f=Object(c.d)("icon-"+m["app.openshift.io/runtime"])||Object(c.d)("icon-"+m["app.kubernetes.io/name"]);return{id:l,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:o,kind:Object(u.Db)(e),editURL:v["app.openshift.io/edit-url"],vcsURI:v["app.openshift.io/vcs-uri"],vcsRef:v["app.openshift.io/vcs-ref"],contextDir:g,builderImage:f||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},f=(e,t,n,a,i,r,s)=>{var o;const c=null==e?void 0:e.metadata.uid,l=null==e?void 0:e.metadata.name,d=null===(o=null==e?void 0:e.metadata.labels)||void 0===o?void 0:o["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:c,type:t,label:d||l,shape:s,resource:e,resourceKind:p,data:n},i&&i.length&&{children:i}),a||{})},k={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},y=(e,t)=>{const n=i.a(e,"metadata.annotations"),o=[];return r.a(Object(v.d)(n),n=>{const r=i.a(s.a(t,e=>{var t,a,i,r,s;let o;if("string"==typeof n)return o=null!==(i=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==i?i:null===(r=e.metadata)||void 0===r?void 0:r.name,o===n;o=null===(s=e.metadata)||void 0===s?void 0:s.name;const{apiVersion:c,kind:l,name:u}=n,{kind:d,apiVersion:p}=e;let m=o===u&&d===l;return p&&(m=m&&p===c),m}),["metadata","uid"]),c=i.a(e,["metadata","uid"]);r&&o.push({id:`${c}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:c,target:r})}),o},j=e=>{const t=i.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[i.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},O=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,i,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(i=t.data)||void 0===i?void 0:i.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},E=(e,t)=>{e&&e.length&&e.forEach(e=>{O(e,t)})},S=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:i}=e;return!i||!!n.find(e=>e(i,t))}))),E(e.nodes.filter(e=>e.group),t.nodes))},R=(e,t,n=h.a)=>o.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let i,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),i=Object(u.o)(a)),Object.assign({kind:r,apiVersion:i},e)}):[])),P=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:l.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:l.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,i,r,s=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const o={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},c={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var l;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(l||(l={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:s.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[s.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[s.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var a=n(2338),i=n(689),r=n(5591),s=n(5653),o=n(15),c=n(5655),l=n(5621);const u=e=>i.object().shape({name:Object(o.Zd)(e),project:l.l,application:l.a,image:Object(l.h)(e),git:Object(l.g)(e),docker:Object(l.e)(e),devfile:Object(l.d)(e),deployment:Object(l.c)(e),serverless:Object(l.o)(e),route:Object(l.n)(e),limits:Object(l.k)(e),build:l.b,resources:l.m,healthChecks:Object(c.a)(e),pac:Object(s.e)(e),pipeline:l.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>l.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(o.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},v=e=>{if(!l.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return k})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return S}));var a,i,r=n(321),s=n(29),o=n(550),c=n(50),l=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),v=n(158),h=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const b=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[h.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:o.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[h.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[h.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),g=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>v.b.format(e),k=(e,t,n)=>{const{metric:a,values:i}=e,r=c.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),s=Number(l.a(r,"[0].x")),o=Number(l.a(u.a(r),"x")),p=n/t;return d.a(s,o,p).forEach((e,t)=>{const n=new Date(e);l.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},y=(e,t,n)=>{var a;const i=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==i?void 0:i.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,i])=>{var r,s;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(s=null==n?void 0:n(i))&&void 0!==s?s:parseFloat(i),metric:null==e?void 0:e.metric,time:a}})})},j=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<a;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,a)},O=(e,t)=>{if(0===e)return s.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,i=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(i=Math.floor(a/60),a%=60),i>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} hour",{count:i}):s.a.t("pipelines-plugin~{{hr}}h",{hr:i}),r+=" "),a>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} minute",{count:a}):s.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} second",{count:n}):s.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},E=()=>({"1d":s.a.t("pipelines-plugin~1 day"),"3d":s.a.t("pipelines-plugin~3 days"),"1w":s.a.t("pipelines-plugin~1 week"),"2w":s.a.t("pipelines-plugin~2 weeks"),"3w":s.a.t("pipelines-plugin~3 weeks"),"4w":s.a.t("pipelines-plugin~4 weeks")}),S=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),i=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},s=/ *\([^)]*\) */g,o=e=>e.replace(s,""),c=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:s,name:o}=e.spec.ref;return Object(a.n)(i.l)===r&&s===i.l.kind&&o!==t?o:null},l=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(o(e)))).map(e=>o(e)))],u=e=>e.some(e=>new RegExp(s).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,i;const r=null==t?void 0:t.find(t=>t.metadata.name===o(e));return r&&(null===(i=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===i?void 0:i.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),i=n(8),r=n(5663);class s extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(i.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=s},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return C}));var a=n(5596),i=n(320),r=n(2338),s=n(689),o=n(5621),c=n(5624),l=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),v=n(5586),h=n(5620),b=n(5656),g=n(5588),f=n(5648),k=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const y={dryRun:"All"},j=e=>s.object().shape({name:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:s.string().matches(o.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:s.string(),webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(c.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),O=e=>s.object().shape({webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),E=e=>s.object().shape({repository:s.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===h.a.PAC&&t,then:O(e)})}),S=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),R=e=>o.f.test(e)?S(e,"github.com")?u.b.GITHUB:S(e,"bitbucket.org")?u.b.BITBUCKET:S(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,P=(e,t,n={},r)=>k(void 0,void 0,void 0,(function*(){var s,o,c;const{name:m,gitUrl:h,webhook:{secretObj:b,method:g,token:j,secret:O,user:E}}=e,S=i.Base64.encode(O),P=R(h);let T;j&&"token"===g?T=yield((e,t,n,a,r,s,o)=>k(void 0,void 0,void 0,(function*(){const c={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},s&&{"webhook.secret":s}),r===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${n}`)})};return Object(l.g)({model:p.SecretModel,data:c,ns:a,queryParams:o?y:{}})})))(m,E,j,t,P,O,r):"secret"===g&&b&&(null===(s=null==b?void 0:b.data)||void 0===s?void 0:s["webhook.secret"])!==S&&(yield Object(l.p)({model:p.SecretModel,resource:b,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(O)}]}));const w=a(h).source,C=T||b,N={kind:v.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:h},C||"github.com"!==w?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(w)?{}:{url:w}),"bitbucket.org"===w?{user:E}:{}),C?{secret:{name:null===(o=null==C?void 0:C.metadata)||void 0===o?void 0:o.name,key:"provider.token"},webhook_secret:{name:null===(c=null==C?void 0:C.metadata)||void 0===c?void 0:c.name,key:"webhook.secret"}}:{})}:{})};return yield Object(l.g)({model:v.RepositoryModel,data:N,ns:t,queryParams:r?y:{}})})),T=(e,t,n)=>k(void 0,void 0,void 0,(function*(){var a,r,s;const{gitUrl:o,webhook:{method:c,token:l,secret:d,url:p,secretObj:m,user:v}}=e,h=R(o),b=Object(u.e)(o,h);let g,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),g=h===u.b.BITBUCKET?"token"===c?i.Base64.encode(`${v}:${l}`):i.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===c?l:i.Base64.decode(null===(s=null==m?void 0:m.data)||void 0===s?void 0:s["provider.token"]);return yield b.createRepoWebhook(g,p,f,d)})),w=e=>{if(!o.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},C=(e,t)=>k(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(l.n)({model:p.ConfigMapModel,queryParams:{ns:g.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>k(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(l.j)({model:p.ConfigMapModel,ns:g.g,name:b.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689);const i=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),s=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",s="pipelines-as-code-interceptor",o="pipelines-as-code-secret",c="pipelines-ci-clustername",l="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(2221);const i="operator-backed-service",r=a.h,s=a.f,o=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(447),i=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const s=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const s=yield e.getFuncYamlContent();try{const e=a.a(s)?Object(i.c)(s):s,o=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,c=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,l=null==e?void 0:e.runtime;return{values:{builder:o,runtime:l,builderEnvs:c,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),o=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(i.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5663:function(e,t,n){"use strict";var a=n(5585),i=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class s extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(i.p)(this,{anchors:i.q.shallow,dimensions:i.q.ref,dimensionsInitialized:i.q,position:i.q.ref,nodes:i.i,group:i.q,collapsed:i.q,labelPosition:i.q,shape:i.q,status:i.q,groupBounds:i.i,sourceEdges:i.i,targetEdges:i.i,setDimensions:i.f,setBounds:i.f,setPosition:i.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:i,y:r}=this.position;e.x===i&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,i=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),s=new a.Point(r.x+n,r.y+i);t.setPosition(s)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=s},5664:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(31);const i=()=>Object(a.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5);const i=(e,t)=>{const n=t.current?t.current.pods:t.pods;let i=0,r=0;const s=[],o=[];return(null==n?void 0:n.length)&&n.forEach(({metadata:{name:t}})=>{var n,c;const l=null===(n=null==e?void 0:e.memory)||void 0===n?void 0:n[t];if(Number.isFinite(l)){i+=l;const e=Object(a.Ob)(l)+" MiB";s.push({name:t,value:l,formattedValue:e})}const u=null===(c=null==e?void 0:e.cpu)||void 0===c?void 0:c[t];if(Number.isFinite(u)){r+=u,o[t]=Object(a.Pb)(u)+" cores";const e=Object(a.Pb)(u)+" cores";o.push({name:t,value:u,formattedValue:e})}}),{totalBytes:i,totalCores:r,memoryByPod:s,cpuByPod:o}}},5671:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5589);const i=(e,t,n=null)=>Object(a.b)(Object(a.g)(e),Object(a.g)(t),n?Object(a.g)(n):null)},5672:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(5668),r=n(5),s=n(8),o=n(5589);const c=e=>t=>{const n=n=>{const i=Object(o.g)(n.element),c=Object(s.vb)(Object(s.Db)(i)),l=Object(r.Dc)({group:c.apiGroup,verb:e,resource:c.plural,name:i.metadata.name,namespace:i.metadata.namespace});return a.createElement(t,Object.assign({},n,{canEdit:l}))};return n.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(i.a)(n)}},5678:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(22),r=n(15),s=n(5665),o=n(5664);const c=e=>{const t=Object(o.a)(),{podData:n,loaded:c}=Object(r.Se)(e,e.kind,e.metadata.namespace);return a.useMemo(()=>i.a(t)||!c?null:Object(s.a)(t,n),[c,t,n])}},5679:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(7),r=n(131),s=n(15),o=n(5589);const c=e=>Object(r.n)({title:a.createElement(a.Fragment,null,a.createElement(s.tc,{className:"co-icon-space-r"})," ",a.createElement(i.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(o.l)(e).catch(e=>{e&&Object(r.s)({error:e.message})})})},5680:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(131),s=n(5589);const o=(e,t)=>{const n=e.getParent()!==e.getGraph()?e.getParent():void 0;if(n===t)return Promise.reject();if(n){const o=t?"topology~Move component node":"topology~Remove component node from application",c=e.getLabel(),l=n.getLabel(),u=null==t?void 0:t.getLabel(),d=t?a.createElement(i.Trans,{ns:"topology"},"Are you sure you want to move ",a.createElement("strong",null,{nodeLabel:c})," from ",{sourceLabel:l}," to"," ",{targetLabel:u},"?"):a.createElement(i.Trans,{ns:"topology"},"Are you sure you want to remove ",a.createElement("strong",null,{nodeLabel:c})," from ",{sourceLabel:l},"?"),p=t?"topology~Move":"topology~Remove";return new Promise((n,a)=>{Object(r.n)({titleKey:o,message:d,btnTextKey:p,close:()=>{a()},cancel:()=>{a()},executeFn:()=>Object(s.m)(e,t?t.getLabel():null).then(n).catch(e=>{const t=e.message;Object(r.s)({error:t}),a(e)})})})}return Object(s.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(r.s)({error:t})})}},5684:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(8),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const s=(e,t,n,s)=>{const[o,c]=a.useState(),[l,u]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{r(void 0,void 0,void 0,(function*(){try{p(null),u(!1),c(null);const a=yield Object(i.kb)(e,t,n,s);c(a)}catch(e){p(e)}finally{u(!0)}}))},[e,t,n,s]),[o,l,d]}},5702:function(e,t,n){"use strict";n.d(t,"d",(function(){return w})),n.d(t,"k",(function(){return D})),n.d(t,"f",(function(){return I})),n.d(t,"j",(function(){return $})),n.d(t,"g",(function(){return M})),n.d(t,"i",(function(){return q})),n.d(t,"o",(function(){return J})),n.d(t,"h",(function(){return z})),n.d(t,"l",(function(){return W})),n.d(t,"e",(function(){return Y})),n.d(t,"m",(function(){return X})),n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return ee})),n.d(t,"n",(function(){return te}));var a=n(1195),i=n(29),r=n(50),s=n(16),o=n(116),c=n(57),l=n(117),u=n(22),d=n(255),p=n(7146),m=n(655),v=n(499),h=n(1401),b=n(10),g=n(8),f=n(15),k=n(2221),y=n(5647),j=n(5589),O=n(132),E=n(76),S=n(870),R=n(5634),P=n(5726);const T=e=>{switch(e){case P.c.EventSource:case P.c.EventSink:case P.c.EventSourceKafka:case P.c.KafkaSink:return{width:k.m,height:k.k,visible:!0,shape:a.n.rhombus,style:{padding:k.l}};case P.c.KnService:return{width:R.d,height:R.b,visible:!0,collapsed:!1,group:!0,shape:a.n.rect,style:{padding:R.c}};case P.c.PubSub:return{width:k.m,height:k.k/2,visible:!0,shape:a.n.stadium,style:{padding:k.l}};case P.c.SinkUri:return{width:.75*k.m,height:.75*k.k,visible:!0,shape:a.n.circle,style:{padding:k.l}};default:return y.a}},w=({FLAGS:e})=>e.get(O.B),C=e=>{var t;return e.kind!==E.f.kind&&!!(null===(t=e.metadata)||void 0===t?void 0:t.ownerReferences)},N=(e,t,n)=>{var a,i,r;const s=null===(i=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.subscriber)||void 0===i?void 0:i.ref,o=null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.channel;return(!o||n.metadata.name===o.name&&n.kind===o.kind&&n.apiVersion===o.apiVersion)&&(s&&Object(g.o)(Object(g.Db)(e))===s.apiVersion&&e.metadata.name===s.name)},A=(e,t,n)=>{var a,i,r,s;const{name:o,kind:c,apiVersion:l}=(null===(i=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===i?void 0:i.ref)||{};if(n.metadata.name!==o||n.kind!==c||n.apiVersion!==l)return!1;if(t.kind===E.i.kind)return(null===(r=t.spec)||void 0===r?void 0:r.broker)===e.metadata.name;const u=null===(s=t.spec)||void 0===s?void 0:s.channel;return u&&u.name===e.metadata.name&&u.kind===e.kind&&u.apiVersion===e.apiVersion},D=e=>{var t,n;const a={filters:[]},i=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.attributes;if(i&&!u.a(i))for(const[e,t]of Object.entries(i))a.filters.push({key:e,value:t});return a},I=(e,t)=>t.reduce((t,n)=>{var a,i;return[...t,...null!==(i=null===(a=e[n])||void 0===a?void 0:a.data)&&void 0!==i?i:[]]},[]),x=(e,t)=>{const n=[...Object(S.getDynamicEventSourcesModelRefs)(),E.b.plural];return d.a(I(t,n),(t,n)=>{var a,i;const r=(null===(i=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===i?void 0:i.ref)||{};return e.kind===r.kind&&e.metadata.name===r.name&&e.apiVersion===r.apiVersion&&t.push(n),t},[])},_=(e,t)=>{const n=Object(S.getDynamicChannelModelRefs)(),a={Broker:[{relatedResource:"ksservices",relationshipResource:"triggers",isRelatedResource:N},{relatedResource:"services",relationshipResource:"triggers",isRelatedResource:N},{relatedResource:"kafkasinks",relationshipResource:"triggers",isRelatedResource:N}],Service:[{relatedResource:"brokers",relationshipResource:"triggers",isRelatedResource:A}]};c.a(n,e=>{a.Service.push({relatedResource:e,relationshipResource:"eventingsubscription",isRelatedResource:A}),a[e]=[{relatedResource:"ksservices",relationshipResource:"eventingsubscription",isRelatedResource:N},{relatedResource:"services",relationshipResource:"eventingsubscription",isRelatedResource:N},{relatedResource:"kafkasinks",relationshipResource:"eventingsubscription",isRelatedResource:N}]});let i=[];if(a[e.kind]||a[Object(g.Db)(e)]){const n=a[e.kind]||a[Object(g.Db)(e)];c.a(n,n=>{var a;const{relatedResource:r,relationshipResource:s,isRelatedResource:o}=n;t[r]&&(null===(a=t[r].data)||void 0===a?void 0:a.length)>0&&(i=i.concat(d.a(t[r].data,(n,a)=>{if(Object(g.Db)(a)!==Object(g.Db)(b.ServiceModel)&&C(a)||!o)return n;const i=(t[s].data||[]).filter(t=>o(a,t,e)).map(e=>Object.assign({kind:Object(g.Db)(e),name:e.metadata.name,namespace:e.metadata.namespace},D(e)));if(i.length>0){const e={kind:Object(g.Db)(a),name:a.metadata.name,namespace:a.metadata.namespace,data:i};n.push(e)}return n},[])))})}return i},$=(e=[])=>{if(0===e.length)return[[],[]];const t=Object(S.getDynamicChannelModelRefs)();return p.a(e,e=>t.includes(e.kind))},L=(e,t)=>{const n={channels:[],brokers:[]};["triggers","eventingsubscription"].forEach(a=>{if(t[a]&&t[a].data.length>0){const i=t[a].data;r.a(i,t=>{var a,i,r,s;if(!C(t)){const o=null===(i=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===i?void 0:i.ref;if(o){const a=e.kind===o.kind&&e.metadata.name===o.name;if(a&&t.kind===E.i.kind){const e=null===(r=t.spec)||void 0===r?void 0:r.broker;n.brokers.includes(e)||n.brokers.push(e)}else if(a){const e=null===(s=t.spec)||void 0===s?void 0:s.channel,{apiVersion:a,name:i,kind:r}=e||{},o=l.a(n.channels,{apiVersion:a,name:i,kind:r});e&&!o&&n.channels.push(e)}}}})}});const a=[],i=e=>{l.a(a,{kind:e.kind,metadata:{name:e.metadata.name}})||a.push(e)};return n.brokers.forEach(e=>{const n=l.a(t.brokers.data,{metadata:{name:e}});(n?x(n,t):[]).forEach(e=>{i(e)})}),n.channels.forEach(e=>{const n=(e=>{const t=Object(S.getDynamicChannelModelRefs)();return l.a(t,t=>e===Object(g.tb)(t))})(e.kind),a=t[n];if(a){const n=l.a(a.data,{metadata:{name:e.name},kind:e.kind});(n?x(n,t):[]).forEach(e=>{i(e)})}}),x(e,t).forEach(e=>{i(e)}),a},M=(e,t)=>{var n,a;const i=Object(f.pd)(e,null===(n=t.configurations)||void 0===n?void 0:n.data);return i&&i.length?Object(f.pd)(i[0],null===(a=t.revisions)||void 0===a?void 0:a.data):[]},U=(e,t,n)=>{var a,i;const r=Object(f.pd)(e,null===(a=t.configurations)||void 0===a?void 0:a.data),s={revisions:M(e,t),configurations:r,ksroutes:t.ksroutes?Object(f.pd)(e,null===(i=t.ksroutes)||void 0===i?void 0:i.data):void 0,eventSources:L(e,t)};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),s):s},F=(e,t)=>{var n;if([O.q,E.b.kind].includes(e.kind)&&t.integrations){const a=Object(f.pd)(e,t.integrations.data);return(null==a?void 0:a.length)>0?Object(f.pd)(a[0],null===(n=t.deployments)||void 0===n?void 0:n.data):[]}return[]},B=(e,t,n)=>{let a=Object(f.pd)(e,t.deployments.data);if(a=[...a,...F(e,t)],!u.a(a)){const i=Object.assign(Object.assign({},a[0]),{apiVersion:Object(g.n)(b.DeploymentModel),kind:b.DeploymentModel.kind}),r={obj:e,associatedDeployment:i};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),r):r}const i=_(e,t),r=U(e,t,n);return Object.assign({obj:e,subscribers:i},r)},K=(e,t,n,a)=>{const i=[],r=[];if(t===P.c.KnService&&a&&a.configurations){const t=Object(f.pd)(e,a.configurations.data),n=s.a(t[0],["metadata","uid"]),l=o.a(a.revisions.data,{metadata:{ownerReferences:[{uid:n}]}});c.a(((e,t)=>{if(s.a(e,"status.traffic",null))return e.status.traffic.reduce((e,n)=>{const a=t.find(e=>n.revisionName===e.metadata.name);return a?[...e,a]:e},[])})(e,l),e=>{const t=e.metadata.uid;r.push(t),i.push(Object(y.h)(e,P.c.Revision,null,T(P.c.Revision)))})}return i.push(Object(y.h)(e,t,n,T(t),r)),i},G=e=>{var t;return null===(t=Object(g.cb)(e))||void 0===t?void 0:t.group},V=(e,{data:t})=>{var n;const a=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,r=s.a(e,"spec.sink.ref",null)||s.a(e,"spec.sink",null),o=[];return r&&c.a(t,e=>{const{apiVersion:t,kind:n,metadata:{uid:s,name:c}}=e;c===r.name&&n===r.kind&&G(t)===G(r.apiVersion)&&o.push({id:`${a}_${s}`,type:P.a.EventSource,label:i.a.t("knative-plugin~Event source connector"),source:a,target:s})}),o},q=(e,t)=>{if(t&&t.length>0&&!u.a(t[0].status)){const n=l.a(t[0].status.traffic,{revisionName:e.metadata.name});return null==n?void 0:n.url}return null},H=(e,t,n,a)=>{var r,s;const o=null===(s=null===(r=e.spec)||void 0===r?void 0:r.sink)||void 0===s?void 0:s.uri;let u=((e,t)=>{var n;const a=l.a(e,({data:e})=>{var n;return t===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.sinkUri)});return null!==(n=null==a?void 0:a.id)&&void 0!==n?n:""})(a.nodes,o);if(o){if(!u){u=encodeURIComponent(o);const e=((e,t)=>{const n=[...Object(S.getDynamicEventSourcesModelRefs)(),E.b.plural];return d.a(I(t,n),(t,n)=>{var a,i;const r=(null===(i=null===(a=n.spec)||void 0===a?void 0:a.sink)||void 0===i?void 0:i.uri)||"";return e===r&&t.push(n),t},[])})(o,t),i={metadata:{uid:u,namespace:n.resources.obj.metadata.namespace||""},spec:{sinkUri:o},kind:R.r},r={id:u,name:"URI",type:P.c.SinkUri,resources:Object.assign(Object.assign({},n.resources),{obj:i,eventSources:e}),data:Object.assign(Object.assign({},n.data),{sinkUri:o}),resource:i};a.nodes.push(...((e,t,n)=>{const a=[],i=T(e);return a.push(Object.assign({id:t,type:e,resource:n.resource,resourceKind:"URI",data:n},i||{})),a})(P.c.SinkUri,u,r))}a.edges.push(...((e,t)=>{var n,a,r;const s=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,o=[];return(null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.uri)&&s&&o.push({id:`${s}_${t}`,type:P.a.EventSource,label:i.a.t("knative-plugin~Event source connector"),source:s,target:t}),o})(e,u))}if(!C(e)){const n=Object(S.getDynamicChannelModelRefs)();c.a(n,n=>{t[n]&&a.edges.push(...V(e,t[n]))})}a.edges.push(...V(e,t.brokers))},J=(e,t,n,r)=>{const o={nodes:[],edges:[]};return c.a(e,e=>{var u;const p=B(e,n,r);switch(t){case P.c.KafkaSink:case P.c.EventSink:{const a=((e,t,n)=>{var a,i,r;const s=Object(f.pd)(e,null===(a=n.integrations)||void 0===a?void 0:a.data),o=Object(f.pd)(s[0],null===(i=n.ksservices)||void 0===i?void 0:i.data),c=Object(f.pd)(s[0],null===(r=n.deployments)||void 0===r?void 0:r.data);let l={};return o.length>0&&(l=U(o[0],n)),Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign(Object.assign({},t.resources),{integrations:s,services:o,deployments:c}),l)})})(e,((e,t,n,a=!1)=>({id:s.a(e,"metadata.uid"),name:null==e?void 0:e.metadata.name,type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:a}),data:{kind:Object(g.Db)(e),isKnativeResource:n===P.c.EventSink,kameletType:P.b.Sink}}))(e,p,t),n);o.nodes.push(...K(e,t,a,n)),o.edges.push(...((e,t)=>{var n,a,r,s,o;const c=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,l=null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.source)||void 0===r?void 0:r.ref;if(!c||!l)return[];let u;const d=Object(g.Db)(l);return u=(null==l?void 0:l.kind)===E.f.kind?t.brokers.data.find(e=>e.metadata.name===l.name):null===(o=null===(s=t[d])||void 0===s?void 0:s.data)||void 0===o?void 0:o.find(e=>e.metadata.name===l.name),u?[{id:`${u.metadata.uid}_${c}`,type:P.a.EventSink,label:i.a.t("knative-plugin~Event sink connector"),target:c,source:u.metadata.uid}]:[]})(e,n));const r=Object(y.g)(e);Object(y.j)(r,o.nodes);break}case P.c.EventSource:{const a=Object(y.c)(e,p,t,Object(h.d)("icon-openshift"));if(Object(g.Db)(e)===Object(g.Hb)(E.b)&&(a.data=Object.assign(Object.assign({},a.data),{kameletType:P.b.Source})),e.kind!==O.w||!(null===(u=e.metadata)||void 0===u?void 0:u.ownerReferences)){const i=((e,t,n)=>{var a,i;const r=[...Object(S.getDynamicEventSourcesModelRefs)(),E.b.plural],s=I(n,r);let o=Object(f.pd)(e,s);if(e.kind===E.b.kind&&(null===(i=null===(a=n.integrations)||void 0===a?void 0:a.data)||void 0===i?void 0:i.length)>0){const t=Object(f.pd)(e,n.integrations.data);o=null==t?void 0:t.reduce((e,t)=>[...e,...Object(f.pd)(t,s)],[])}return Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign({},t.resources),{eventSources:o})})})(e,a,n);o.nodes.push(...K(e,t,i,n)),o.edges.push(...n.ksservices?V(e,n.ksservices):[],...n.kafkasinks?V(e,n.kafkasinks):[]),H(e,n,a,o);const r=Object(y.g)(e);Object(y.j)(r,o.nodes)}break}case P.c.KnService:{const a=((e,t,n,a)=>{var i;const{obj:r}=t,o=s.a(r,"metadata.uid"),c=s.a(r,"metadata.labels",{}),l=s.a(r,"metadata.annotations",{}),u=s.a(r,"metadata.name"),d=Object(y.e)(a,u);return{id:o,name:s.a(r,"metadata.name")||c["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign({},t),data:{url:(null===(i=r.status)||void 0===i?void 0:i.url)||"",kind:Object(g.Db)(r),editURL:l["app.openshift.io/edit-url"],vcsURI:l["app.openshift.io/vcs-uri"],vcsRef:l["app.openshift.io/vcs-ref"],isKnativeResource:!0,contextDir:d}}})(e,p,t,n);o.nodes.push(...K(e,t,a,n)),o.edges.push(...((e,{data:t})=>{const n=s.a(e,["metadata","uid"]),a=s.a(e,["status","traffic"],[]),r=[];return c.a(a,e=>{const a=s.a(e,["revisionName"]),o=s.a(e,["percent"]),c=l.a(t,e=>s.a(e,["metadata","name"])===a),u=s.a(c,["metadata","uid"],null);if(u){const e=m.a(r,e=>e.id===`${n}_${u}`);e>=0?r[e].data.percent+=o:r.push({id:`${n}_${u}`,type:P.a.Traffic,label:i.a.t("knative-plugin~Traffic distribution connector"),source:n,target:u,data:{percent:o}})}}),r})(e,n.revisions));const r=Object(y.g)(e);Object(y.j)(r,o.nodes);break}case P.c.PubSub:if(!C(e)){const a=((e,t,n)=>{const{obj:{metadata:{name:a,uid:i,labels:r}}}=t;return{id:i,name:a||(null==r?void 0:r["app.kubernetes.io/instance"]),type:n,resource:e,resources:Object.assign({},t),data:{kind:Object(g.Db)(t.obj),isKnativeResource:!0}}})(e,((e,t)=>{var n,a,i,r;const{kind:o,metadata:{name:u},spec:p}=e,v=Object(S.getDynamicChannelModelRefs)(),h=Object(f.pd)(e,I(t,v)),g=null!==(a=null===(n=null==t?void 0:t.eventingsubscription)||void 0===n?void 0:n.data)&&void 0!==a?a:[],k=null!==(r=null===(i=null==t?void 0:t.triggers)||void 0===i?void 0:i.data)&&void 0!==r?r:[];let y={};const j=x(e,t),O=d.a(g,(e,n)=>{var a,i;const r=s.a(n,"metadata.uid"),o=(null===(a=null==p?void 0:p.subscribable)||void 0===a?void 0:a.subscribers)||(null==p?void 0:p.subscribers);if(-1!==m.a(o,(function({uid:e}){return e===r}))){e.eventingsubscription.push(n);const a=s.a(n,"spec.subscriber.ref",null);c.a(null===(i=null==t?void 0:t.ksservices)||void 0===i?void 0:i.data,t=>{t.kind===(null==a?void 0:a.kind)&&t.metadata.name===(null==a?void 0:a.name)&&e.ksservices.push(t)})}return e},{eventingsubscription:[],ksservices:[]});return o===E.f.kind&&(y=d.a(k,(e,n)=>{var a,i,r,s,o,c,d,p,m,v,h,b;const g=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.broker,f=l.a(null===(i=null==t?void 0:t.ksservices)||void 0===i?void 0:i.data,{metadata:{name:null===(o=null===(s=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.subscriber)||void 0===s?void 0:s.ref)||void 0===o?void 0:o.name},kind:null===(p=null===(d=null===(c=null==n?void 0:n.spec)||void 0===c?void 0:c.subscriber)||void 0===d?void 0:d.ref)||void 0===p?void 0:p.kind,apiVersion:null===(h=null===(v=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.subscriber)||void 0===v?void 0:v.ref)||void 0===h?void 0:h.apiVersion}),k=f&&(null===(b=e.ksservices)||void 0===b?void 0:b.filter(e=>e.metadata.name===f.metadata.name).length)>0;return u===g&&(e.triggers=[...e.triggers,n],e.ksservices=f&&!k?[...e.ksservices,f]:e.ksservices),e},{ksservices:[],triggers:[],pods:[],deployments:[]}),[b.PodModel,b.DeploymentModel].forEach(({kind:e,plural:n})=>{var a;y[n]=null===(a=null==t?void 0:t[n])||void 0===a?void 0:a.data.filter(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["eventing.knative.dev/broker"])===u}).map(t=>Object.assign(Object.assign({},t),{kind:e}))})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({obj:e},h&&{channels:h}),{eventSources:j}),O),y),{subscribers:_(e,t)})})(e,n),t);o.nodes.push(...K(e,t,a,n)),e.kind===E.f.kind?o.edges.push(...((e,t)=>{const{metadata:{uid:n,name:a}}=e,{triggers:i,ksservices:r,kafkasinks:s}=t,o=[...(null==r?void 0:r.data.length)>0?r.data:[],...(null==s?void 0:s.data.length)>0?s.data:[]],u=[];return c.a(null==i?void 0:i.data,i=>{var r,s,c;const d=null===(r=null==i?void 0:i.spec)||void 0===r?void 0:r.broker,p=null===(c=null===(s=i.spec)||void 0===s?void 0:s.subscriber)||void 0===c?void 0:c.ref;if(a===d&&o.length>0){const a=l.a(o,{metadata:{name:p.name}});if(a&&G(p.apiVersion)===Object(g.l)(Object(g.Db)(a))){const{metadata:{uid:r}}=a;u.push({id:`${n}_${r}`,type:P.a.EventPubSubLink,source:n,target:r,data:{resources:{obj:i,eventSources:x(e,t),brokers:[e],subscriberRes:[a],filters:D(i).filters}}})}}}),u})(e,n)):o.edges.push(...((e,t)=>{const{kind:n,metadata:{uid:a,name:i}}=e,{eventingsubscription:r,ksservices:s,kafkasinks:o}=t,l=[...(null==s?void 0:s.data.length)>0?s.data:[],...(null==o?void 0:o.data.length)>0?o.data:[]],u=[];return c.a(null==r?void 0:r.data,r=>{var s,o,d;const p=null===(s=null==r?void 0:r.spec)||void 0===s?void 0:s.channel;if(i===(null==p?void 0:p.name)&&n===(null==p?void 0:p.kind)&&l.length>0){const n=null===(d=null===(o=null==r?void 0:r.spec)||void 0===o?void 0:o.subscriber)||void 0===d?void 0:d.ref;n&&c.a(l,i=>{const{metadata:{uid:s,name:o}}=i;o===n.name&&Object(g.cb)(n.apiVersion).group===Object(g.l)(Object(g.Db)(i))&&u.push({id:`${a}_${s}`,type:P.a.EventPubSubLink,source:a,target:s,data:{resources:{obj:r,eventSources:x(e,t),channels:[e],subscriberRes:[i]}}})})}}),u})(e,n));const i=Object(y.g)(e);Object(y.j)(i,o.nodes)}break;case P.c.EventSourceKafka:{const r=Object(y.c)(e,p,t,Object(h.d)("icon-openshift"));o.nodes.push(...K(e,t,r,n)),o.edges.push(...((e,t)=>{if(!(null==t?void 0:t.data))return[];const{data:n}=t;return n.reduce((t,n)=>{var r,s,o,c,l,u,d,p,m,v,h,b,g,f,k,y,j,O;const E=null===(s=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.credentials)||void 0===s?void 0:s.serviceAccountSecretName,S=null===(d=null===(u=null===(l=null===(c=null===(o=e.spec)||void 0===o?void 0:o.net)||void 0===c?void 0:c.sasl)||void 0===l?void 0:l.password)||void 0===u?void 0:u.secretKeyRef)||void 0===d?void 0:d.name,R=null===(b=null===(h=null===(v=null===(m=null===(p=e.spec)||void 0===p?void 0:p.net)||void 0===m?void 0:m.sasl)||void 0===v?void 0:v.user)||void 0===h?void 0:h.secretKeyRef)||void 0===b?void 0:b.name,T=null===(g=n.status)||void 0===g?void 0:g.bootstrapServerHost;if(E&&E===S&&E===R&&T&&(null===(f=e.spec)||void 0===f?void 0:f.bootstrapServers.includes(T))){const r=`${null===(k=null==e?void 0:e.metadata)||void 0===k?void 0:k.uid}_${null===(y=null==n?void 0:n.metadata)||void 0===y?void 0:y.uid}`;t.push({id:r,type:P.a.EventSourceKafkaLink,edgeStyle:a.f.dashedMd,label:i.a.t("knative-plugin~Kafka connector"),source:null===(j=e.metadata)||void 0===j?void 0:j.uid,target:null===(O=n.metadata)||void 0===O?void 0:O.uid})}return t},[])})(e,n.kafkaConnections),...V(e,n.ksservices),...V(e,n.kafkasinks)),H(e,n,r,o);const s=Object(y.g)(e);Object(y.j)(s,o.nodes);break}}}),o},z=(e,t,n)=>{const a={};return c.a(e,e=>{const{uid:i}=e.metadata,r=B(e,t,n);a[i]=Object(y.c)(e,r,P.c.Revision,Object(h.d)("icon-openshift"))}),a},W=(e,t)=>{const n=Object(S.getDynamicEventSourcesModelRefs)();return!!l.a(I(t,n),t=>{var n,a,i;return null===(i=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[O.f])||void 0===i?void 0:i.startsWith(t.metadata.name)})},Y=e=>{var t,n,a,i,r,s;const o=null!==(n=null===(t=null==e?void 0:e.kameletbindings)||void 0===t?void 0:t.data)&&void 0!==n?n:[],c=((null===(i=null===(a=null==e?void 0:e.kamelets)||void 0===a?void 0:a.data)||void 0===i?void 0:i.length)>0?e.kamelets.data:null!==(s=null===(r=null==e?void 0:e.kameletGlobalNS)||void 0===r?void 0:r.data)&&void 0!==s?s:[]).filter(e=>"sink"===e.metadata.labels["camel.apache.org/kamelet.type"]);return o.reduce(({camelSinkKameletBindings:e,camelSourceKameletBindings:t},n)=>{var a,i,r;const s=null===(r=null===(i=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name;return c.findIndex(e=>e.metadata.name===s)>-1?e.push(n):t.push(n),{camelSinkKameletBindings:e,camelSourceKameletBindings:t}},{camelSinkKameletBindings:[],camelSourceKameletBindings:[]})},X=(e,t)=>!!l.a(t,t=>{var n,a,i;return null===(i=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[O.f])||void 0===i?void 0:i.startsWith(t.metadata.name)}),Q=(e,t)=>{if(!e||!t||e===t)return Promise.reject();return((e,t)=>{var n;if(!e||!t||e===t)return Promise.reject();const a=v.a(e,"status");let i={};if(t.kind===R.r)i={uri:null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.sinkUri};else{const e=s.a(t,"metadata.name");i={ref:{apiVersion:t.apiVersion,kind:t.kind,name:e}}}const r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{sink:i})});return Object(g.rb)(Object(g.vb)(Object(g.Db)(e)),r)})(Object(j.g)(e),Object(j.g)(t))},Z=(e,t)=>{var n,a,r;if(!e||!t||e===t)return Promise.reject();const s=Object(j.g)(e),o=Object(j.g)(t),c=null===(n=null==o?void 0:o.status)||void 0===n?void 0:n.bootstrapServerHost,l=null===(r=null===(a=null==o?void 0:o.spec)||void 0===a?void 0:a.credentials)||void 0===r?void 0:r.serviceAccountSecretName,u=v.a(s,"status");if(!c||!l)return Promise.reject(new Error(i.a.t("knative-plugin~Unable to create kafka connector as bootstrapServerHost or secret is not available in target resource.")));const d=Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},u.spec),{bootstrapServers:[c],net:{sasl:{enable:!0,user:{secretKeyRef:{name:l,key:"client-id"}},password:{secretKeyRef:{name:l,key:"client-secret"}}},tls:{enable:!0}}})});return Object(g.rb)(Object(g.vb)(Object(g.Db)(u)),d)},ee=(e,t)=>{const{resources:n}=e.getData(),a=t.getData();if(!a||!(null==n?void 0:n.obj))return Promise.reject();const i=Object(j.k)(a);return((e,t)=>{var n;if(!e||!t)return Promise.reject();const a=v.a(e,"status"),i={ref:{apiVersion:t.apiVersion,kind:t.kind,name:null===(n=t.metadata)||void 0===n?void 0:n.name}},r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{subscriber:Object.assign({},i)})});return Object(g.rb)(Object(g.vb)(Object(g.Db)(a)),r)})(n.obj,i)},te=e=>{if(!e)return!1;const{metadata:{labels:t}}=e;return!(!(null==t?void 0:t[O.Z])&&!(null==t?void 0:t[O.ab]))}},5711:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return f}));var a=n(499),i=n(22),r=n(1557),s=n(655),o=n(255),c=n(15),l=n(2221),u=n(5599);const d=({name:e,applicationName:t,imageStreamName:n,runtimeIcon:a,selectedTag:i,namespace:r})=>{const s=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},n&&{"app.openshift.io/runtime":n});return a&&(s["app.openshift.io/runtime"]=a),t&&t.trim().length>0&&(s["app.kubernetes.io/part-of"]=t),i&&(s["app.openshift.io/runtime-version"]=i),r&&(s["app.openshift.io/runtime-namespace"]=r),s},p=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),m=()=>({[l.n]:"false"}),v=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),h=(e,t,n,a,i="latest")=>({[c.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${i}`,namespace:n},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!a}])}),b=(e,t)=>{const n=u.l[e];return n?{app:t,[n.toLowerCase()]:t}:{app:t}},g=(e,t)=>{var n,o,c,l,u,d,p,m,v,h,b,g,f,k,y,j,O,E,S,R,P,T,w,C,N,A,D,I,x;if(i.a(e))return t;const _=r.a({},e||{},t),$=null===(o=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.annotations)||void 0===o?void 0:o.isFromDevfile;var L;if(_.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),$?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.labels:{}),_.metadata.annotations&&(_.metadata.annotations=Object.assign(Object.assign({},$?null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.annotations:(L=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,a.a(L,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(m=null===(p=null===(d=_.spec)||void 0===d?void 0:d.template)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.labels)&&(_.spec.template.metadata.labels=null===(b=null===(h=null===(v=t.spec)||void 0===v?void 0:v.template)||void 0===h?void 0:h.metadata)||void 0===b?void 0:b.labels),!i.a(null===(k=null===(f=null===(g=e.spec)||void 0===g?void 0:g.template)||void 0===f?void 0:f.spec)||void 0===k?void 0:k.containers)){_.spec.template.spec.containers=e.spec.template.spec.containers;const n=s.a(e.spec.template.spec.containers,{name:e.metadata.name});n>=0?_.spec.template.spec.containers[n]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[n]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[n].volumeMounts}):_.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(y=null==_?void 0:_.spec)||void 0===y?void 0:y.hasOwnProperty("strategy"))&&(_.spec.strategy=null!==(O=null===(j=t.spec)||void 0===j?void 0:j.strategy)&&void 0!==O?O:null===(E=e.spec)||void 0===E?void 0:E.strategy),(null===(S=_.spec)||void 0===S?void 0:S.triggers)&&(_.spec.triggers=t.spec.triggers),(null===(P=null===(R=t.spec)||void 0===R?void 0:R.source)||void 0===P?void 0:P.sourceSecret)||null===(w=null===(T=null==_?void 0:_.spec)||void 0===T?void 0:T.source)||void 0===w||delete w.sourceSecret,(null===(A=null===(N=null===(C=_.spec)||void 0===C?void 0:C.template)||void 0===N?void 0:N.spec)||void 0===A?void 0:A.hasOwnProperty("volumes"))&&(_.spec.template.spec.volumes=null===(x=null===(I=null===(D=e.spec)||void 0===D?void 0:D.template)||void 0===I?void 0:I.spec)||void 0===x?void 0:x.volumes),_},f=e=>{var t,n,a;return o.a(null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.metadata)||void 0===a?void 0:a.labels,(t,n,a)=>{var i,r;return(null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.hasOwnProperty(a))||(t[a]=n),t},{})}},5722:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(29),i=n(131),r=n(5),s=n(8);const o={Delete:(e,t,n,s)=>({id:"delete-resource",label:a.a.t("console-app~Delete {{kind}}",{kind:e.kind}),cta:()=>Object(i.q)({kind:e,resource:t,message:s}),accessReview:Object(r.Eb)(e,t,"delete")}),Edit:(e,t)=>({id:"edit-resource",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(r.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/yaml"},accessReview:Object(r.Eb)(e,t,"update")}),ModifyLabels:(e,t)=>({id:"edit-labels",label:a.a.t("console-app~Edit labels"),cta:()=>Object(i.v)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyAnnotations:(e,t)=>({id:"edit-annotations",label:a.a.t("console-app~Edit annotations"),cta:()=>Object(i.b)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyCount:(e,t)=>({id:"edit-pod-count",label:a.a.t("console-app~Edit Pod count"),cta:()=>Object(i.l)({resourceKind:e,resource:t}),accessReview:Object(r.Eb)(e,t,"patch","scale")}),ModifyPodSelector:(e,t)=>({id:"edit-pod-selector",label:a.a.t("console-app~Edit Pod selector"),cta:()=>Object(i.x)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyTolerations:(e,t)=>({id:"edit-toleration",label:a.a.t("console-app~Edit tolerations"),cta:()=>Object(i.D)({resourceKind:e,resource:t,modalClassName:"modal-lg"}),accessReview:Object(r.Eb)(e,t,"patch")}),AddStorage:(e,t)=>({id:"add-storage",label:a.a.t("console-app~Add storage"),cta:{href:Object(r.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/attach-storage"},accessReview:Object(r.Eb)(e,t,"patch")})},c=(e,t,n)=>[o.ModifyLabels(e,t),o.ModifyAnnotations(e,t),o.Edit(e,t),o.Delete(e,t,void 0,n)]},5726:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.EventSource="event-source",e.EventSink="event-sink",e.KnService="knative-service",e.Revision="knative-revision",e.PubSub="event-pubsub",e.SinkUri="sink-uri",e.EventSourceKafka="event-source-kafka",e.Kafka="knative-kafka",e.KafkaSink="kafka-sink"}(a||(a={})),function(e){e.Traffic="revision-traffic",e.EventSource="event-source-link",e.EventSink="event-sink-link",e.EventPubSubLink="event-pubsub-link",e.EventSourceKafkaLink="event-source-kafka-link"}(i||(i={})),function(e){e.Sink="Sink",e.Source="Source"}(r||(r={}))},5741:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return b}));var a=n(5585),i=n(29),r=n(5),s=n(8),o=n(5634),c=n(5829),l=n(5920),u=n(2221),d=n(5594),p=n(5589);const m=(e,t)=>{const n=e.getSource().getSourceEdges().map(e=>e.getTarget().getId());return t.filter(t=>{if(t.getId()===e.getSource().getId())return!1;if(t.getId()!==e.getTarget().getId()&&n.includes(t.getId()))return!1;if(t.getType()===o.i)return!1;switch(e.getType()){case u.v:return t.getType()!==o.n&&t.getType()!==o.o;case u.w:return!1;case o.k:return t.getType()===o.o||t.getType()===o.e;case o.p:case u.x:return!1;case o.l:return t.getType()===c.d;default:return!0}}).sort((e,t)=>e.getLabel().localeCompare(t.getLabel()))},v=(e,t)=>{const n=Object(p.g)(t.getSource()),s=t.getController().getElements().filter(e=>Object(a.isNode)(e)&&!e.isGroup()),o=m(t,s);return{id:"move-visual-connector",label:i.a.t("topology~Move connector"),cta:()=>{Object(l.a)({edge:t,availableTargets:o})},disabled:o.length<=1,accessReview:Object(r.Eb)(e,n,"delete")}},h=(e,t)=>{const n=Object(p.g)(t.getSource());return{id:"delete-connector",label:i.a.t("topology~Delete connector"),cta:()=>{Object(d.j)(t)},accessReview:Object(r.Eb)(e,n,"delete")}},b=(e,t)=>{const n=[],a=m(e,t);return n.push(((e,t)=>{const n=Object(p.g)(e.getSource()),a=Object(s.vb)(Object(s.Db)(n));return{labelKey:"topology~Move connector",callback:()=>{Object(l.a)({edge:e,availableTargets:t})},isDisabled:t.length<=1,accessReview:Object(r.Eb)(a,n,"delete")}})(e,a)),n}},5742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Promise.all([n.e(0),n.e(1),n.e(20),n.e(261)]).then(n.bind(null,6018)).then(t=>t.resourceLimitsModal(e))},5750:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(29),i=n(5921);const r=(e,t,n)=>{var r;return{id:"modify-application",label:a.a.t("topology~Edit application grouping"),insertBefore:null!=n?n:"edit-pod-count",cta:()=>Object(i.a)({resourceKind:e,resource:t,blocking:!0,initialApplication:""}),accessReview:{verb:"patch",group:e.apiGroup,resource:e.plural,namespace:null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.namespace}}}},5829:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var a=n(2221);const i=a.m,r=a.k,s=a.l,o="KafkaConnection"},5843:function(e,t,n){"use strict";n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"i",(function(){return R})),n.d(t,"h",(function(){return P})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return N})),n.d(t,"m",(function(){return A})),n.d(t,"a",(function(){return D}));var a=n(499),i=n(5711),r=n(5),s=n(8),o=n(614),c=n(30),l=n(1941),u=n(2221),d=n(6342),p=n(5844),m=n(5845),v=n(132),h=n(76),b=n(5956),g=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((a=a.apply(e,t||[])).next())}))};const f=e=>Object.keys(p.a).includes(e),k=e=>{const{type:t,name:n,apiVersion:a,application:{name:r},project:{name:s},data:o,sinkType:c,sink:l}=e,u=Object(i.a)({name:n,applicationName:r}),d=o[t],{name:m,kind:v,apiVersion:h,uri:b}=l;return{apiVersion:a,kind:t,metadata:{name:n,namespace:s,labels:Object.assign({},u),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},d&&d),c===p.b.Resource&&m&&h&&v?{sink:{ref:{apiVersion:h,kind:v,name:m}}}:{sink:{uri:b}})}},y=e=>{var t,n;return!(!(null===(t=null==e?void 0:e.secretKeyRef)||void 0===t?void 0:t.name)&&!(null===(n=null==e?void 0:e.secretKeyRef)||void 0===n?void 0:n.key))},j=e=>{var t;const{formData:{project:{name:n}},yamlData:a}=e;let i=Object(l.c)(a);const r=i&&Object(s.vb)(Object(s.Db)(i));return(null==i?void 0:i.metadata)&&(null==r?void 0:r.namespaced)&&!(null===(t=i.metadata)||void 0===t?void 0:t.namespace)&&(i=Object.assign(Object.assign({},i),{metadata:Object.assign(Object.assign({},i.metadata),{namespace:n})})),i},O=e=>{switch(e.type){case p.a.KafkaSource:return(e=>{var t,n,a,i,r,s,o,c,l;const u=k(e),{net:d}=u.spec;return u.spec.net=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),!(null===(t=d.sasl)||void 0===t?void 0:t.enable)&&{sasl:{user:{},password:{}}}),(null===(n=d.sasl)||void 0===n?void 0:n.enable)&&!y(null===(a=d.sasl)||void 0===a?void 0:a.user)&&!y(null===(i=d.sasl)||void 0===i?void 0:i.password)&&{sasl:{enable:!0,user:{},password:{}}}),!(null===(r=d.tls)||void 0===r?void 0:r.enable)&&{tls:{caCert:{},cert:{},key:{}}}),(null===(s=d.tls)||void 0===s?void 0:s.enable)&&!y(null===(o=d.tls)||void 0===o?void 0:o.caCert)&&!y(null===(c=d.tls)||void 0===c?void 0:c.cert)&&!y(null===(l=d.tls)||void 0===l?void 0:l.key)&&{tls:{enable:!0,caCert:{},cert:{},key:{}}}),u})(e);default:return k(e)}},E=e=>{if(e.editorType===o.b.YAML)return j(e);const{formData:t}=e;return O(t)},S=e=>({[p.a.PingSource]:{data:"",schedule:""},[p.a.SinkBinding]:{subject:{apiVersion:"",kind:"",selector:{matchLabels:{}}}},[p.a.ApiServerSource]:{mode:"Reference",serviceAccountName:"",resources:[{apiVersion:"",kind:""}]},[p.a.KafkaSource]:{bootstrapServers:[],topics:[],consumerGroup:"",net:{sasl:{enable:!1,user:{secretKeyRef:{name:"",key:""}},password:{secretKeyRef:{name:"",key:""}}},tls:{enable:!1,caCert:{secretKeyRef:{name:"",key:""}},cert:{secretKeyRef:{name:"",key:""}},key:{secretKeyRef:{name:"",key:""}}}}},[p.a.ContainerSource]:{template:{spec:{containers:[{image:"",name:"",args:[""],env:[]}]}}}}[e]),R=e=>({source:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),P=e=>{var t,n;let a={};if((null==e?void 0:e.kind)===h.c.kind){const{kind:i,metadata:{name:r,annotations:s},spec:o}=e,c=(null==s?void 0:s[v.d])||"",l=Object(b.a)(i,e);a={name:(null===(t=null==o?void 0:o.definition)||void 0===t?void 0:t.title)||r,description:(null===(n=null==o?void 0:o.definition)||void 0===n?void 0:n.description)||"",provider:c,iconUrl:l}}return a},T=(e,t)=>{var n;let a={};if(e){const{kind:i,label:r}=e,{description:o,provider:c}=null!==(n=Object(d.a)(i,t))&&void 0!==n?n:{};a={name:r,description:o,provider:c,iconUrl:Object(b.a)(Object(s.Hb)(e))}}return a},w=(e,t)=>t.map(t=>{const{apiGroup:n,plural:a}=t;return Object(r.Fb)({group:n,resource:a,namespace:e,verb:"create"}).then(e=>e.status.allowed?t:null).catch(e=>(console.warn("Could not check access for event source models",e),null))}),C=e=>null==e?void 0:e.reduce((e,t)=>{var n,a,i;const r=[...(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.listeners)?null===(a=t.status.listeners.map(e=>{var t;return null===(t=null==e?void 0:e.bootstrapServers)||void 0===t?void 0:t.split(",")}))||void 0===a?void 0:a.flat():[],...(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.bootstrapServerHost)?[t.status.bootstrapServerHost]:[]];return e.push(...r),e},[]),N=(e,t,n)=>g(void 0,void 0,void 0,(function*(){const a=n.find(e=>e.properties.id===t),i=(yield a.properties.importRedirectURL())(e);r.Vb.push(i)})),A=(e,t,n)=>{var i,r,s,o,l,d;const v=e.spec,h=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],b=null===(s=null==v?void 0:v.sink)||void 0===s?void 0:s.ref,g=Object.assign(Object.assign({},t),{application:Object.assign(Object.assign(Object.assign({},t.application),h&&h!==t.application.name&&{name:h,selectedKey:t.application.selectedKey?u.b:""}),!h&&{name:"",selectedKey:c.cb}),name:null===(o=e.metadata)||void 0===o?void 0:o.name,sinkType:b?p.b.Resource:p.b.Uri,sink:{apiVersion:null==b?void 0:b.apiVersion,kind:null==b?void 0:b.kind,name:null==b?void 0:b.name,key:Object(m.a)(null==b?void 0:b.name,{kind:null==b?void 0:b.kind,apiVersion:null==b?void 0:b.apiVersion}),uri:(null===(l=null==v?void 0:v.sink)||void 0===l?void 0:l.uri)||""},data:Object.assign({[t.type]:Object.assign({},a.a(v,"sink"))},n&&{[t.type]:{source:{ref:{apiVersion:n.apiVersion,kind:n.kind,name:n.metadata.name},properties:null===(d=null==v?void 0:v.source)||void 0===d?void 0:d.properties}}})});return t.type===p.a.KafkaSource?(e=>{var t,n,a,i,r,s,o,c,l,u,d,m,v,h,b,g,f,k,y;const j=(null===(t=e.data)||void 0===t?void 0:t[p.a.KafkaSource])||{},O={secretKeyRef:{name:"",key:""}};return Object.assign(Object.assign({},e),{data:{[p.a.KafkaSource]:{bootstrapServers:Array.isArray(j.bootstrapServers)?j.bootstrapServers:[],topics:Array.isArray(j.topics)?j.topics:[],consumerGroup:"string"==typeof j.consumerGroup?j.consumerGroup:"",net:{sasl:{enable:"boolean"==typeof(null===(a=null===(n=j.net)||void 0===n?void 0:n.sasl)||void 0===a?void 0:a.enable)&&(null===(r=null===(i=j.net)||void 0===i?void 0:i.sasl)||void 0===r?void 0:r.enable),user:"object"==typeof(null===(o=null===(s=j.net)||void 0===s?void 0:s.sasl)||void 0===o?void 0:o.user)?Object.assign(Object.assign({},O),j.net.sasl.user):O,password:"object"==typeof(null===(l=null===(c=j.net)||void 0===c?void 0:c.sasl)||void 0===l?void 0:l.password)?Object.assign(Object.assign({},O),j.net.sasl.password):O},tls:{enable:"boolean"==typeof(null===(d=null===(u=j.net)||void 0===u?void 0:u.tls)||void 0===d?void 0:d.enable)&&(null===(v=null===(m=j.net)||void 0===m?void 0:m.tls)||void 0===v?void 0:v.enable),caCert:"object"==typeof(null===(b=null===(h=j.net)||void 0===h?void 0:h.tls)||void 0===b?void 0:b.caCert)?Object.assign(Object.assign({},O),j.net.tls.caCert):O,cert:"object"==typeof(null===(f=null===(g=j.net)||void 0===g?void 0:g.tls)||void 0===f?void 0:f.cert)?Object.assign(Object.assign({},O),j.net.tls.cert):O,key:"object"==typeof(null===(y=null===(k=j.net)||void 0===k?void 0:k.tls)||void 0===y?void 0:y.key)?Object.assign(Object.assign({},O),j.net.tls.key):O}}}}})})(g):g},D=(e,t=[],n="")=>{for(const a in e)if(e.hasOwnProperty(a)&&"object"==typeof e[a]){const i=""!==n?`${n}.${a}`:a;"object"===e[a].type?D(e[a].properties,t,i):"array"===e[a].type&&e[a].items?"object"===e[a].items.type?D(e[a].items.properties,t,i+"[0]"):"array"===e[a].items.type?D(e[a].items,t,i+"[0]"):t.push(Object.assign(Object.assign(Object.assign(Object.assign({},e[a].items.hasOwnProperty("title")&&{displayName:e[a].items.title}),e[a].items.hasOwnProperty("description")&&{description:e[a].items.description}),{path:i+"[0]"}),e[a].items.hasOwnProperty("x-descriptors")&&{"x-descriptors":e[a].items["x-descriptors"]})):t.push(Object.assign({displayName:e[a].title,description:e[a].description,path:i},e[a]["x-descriptors"]&&{"x-descriptors":e[a]["x-descriptors"]}))}return t}},5844:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c}));var a=n(132),i=n(76);const r={ApiServerSource:a.p,ContainerSource:a.s,KafkaSource:a.u,PingSource:a.v,SinkBinding:a.w,KameletBinding:i.b.kind},s={InMemoryChannel:a.j,KafkaChannel:a.k};var o;!function(e){e.Resource="resource",e.Uri="uri"}(o||(o={}));const c=e=>({Resource:{value:o.Resource,label:e("knative-plugin~Resource")},Uri:{value:o.Uri,label:e("knative-plugin~URI")}})},5845:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(8);const i=e=>{var t;return null!==(t={"serving.knative.dev":1,"messaging.knative.dev":2,"eventing.knative.dev":3}[(e=>e.split("/")[0])(e)])&&void 0!==t?t:4},r=(e,t)=>{if(!(null==t?void 0:t.apiVersion))return;const{apiVersion:n}=t;return e?[i(n),Object(a.Db)(t),e].join("#"):void 0},s=e=>{var t;return null!==(t=null==e?void 0:e.split("#").pop())&&void 0!==t?t:""},o=e=>{const t=Object.assign({},e);return t.spec.subscriber.ref.name=s(e.spec.subscriber.ref.name),t}},5847:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(29),i=n(77),r=n(131),s=n(5),o=n(10),c=n(8),l=n(769),u=n(5742),d=n(2240);const p=(e,t)=>Object(i.p)({model:e,resource:t,data:[{path:"/metadata/annotations/openshift.io~1deployment.phase",op:"replace",value:"New"},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"add",value:""},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"remove"},{path:"/metadata/annotations/openshift.io~1deployment.status-reason",op:"remove"}]}),m={EditDeployment:(e,t)=>({id:"edit-deployment",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(s.sc)(t,e.crd?Object(c.Hb)(e):e.kind)+"/form"},accessReview:Object(s.Eb)(e,t,"update")}),UpdateStrategy:(e,t)=>({id:"edit-update-strategy",label:a.a.t("console-app~Edit update strategy"),cta:()=>Object(r.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),PauseRollout:(e,t)=>({id:"pause-rollout",label:t.spec.paused?a.a.t("console-app~Resume rollouts"):a.a.t("console-app~Pause rollouts"),cta:()=>Object(s.Ac)(e,t).catch(e=>Object(r.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),RestartRollout:(e,t)=>({id:"restart-rollout",label:a.a.t("console-app~Restart rollout"),cta:()=>((e,t)=>{const n=[];return"annotations"in t.spec.template.metadata||n.push({path:"/spec/template/metadata/annotations",op:"add",value:{}}),n.push({path:"/spec/template/metadata/annotations/openshift.openshift.io~1restartedAt",op:"add",value:new Date}),Object(i.p)({model:e,resource:t,data:n})})(e,t).catch(e=>Object(r.s)({error:e.message})),disabled:t.spec.paused||!1,disabledTooltip:"The deployment is paused and cannot be restarted.",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),StartDCRollout:(e,t)=>({id:"start-rollout",label:a.a.t("console-app~Start rollout"),cta:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(c.jb)(o.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(r.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),EditResourceLimits:(e,t)=>({id:"edit-resource-limits",label:a.a.t("console-app~Edit resource limits"),cta:()=>Object(u.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),CreateServiceBinding:(e,t)=>({id:"create-service-binding",label:a.a.t("console-app~Create Service Binding"),cta:()=>Object(d.a)({model:e,source:t}),accessReview:Object(s.Eb)(l.a,t,"create")})}},5920:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(0),i=n(165),r=n(242),s=n(219),o=n(354),c=n(294),l=n(205),u=n(55),d=n(7),p=n(118),m=n(5),v=n(5634),h=n(5702),b=n(2221),g=n(5594);const f=e=>{var t;return a.createElement("span",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(m.fb,{kind:null===(t=e.getData().data)||void 0===t?void 0:t.kind})),e.getLabel())},k=({handleSubmit:e,isSubmitting:t,setTranslator:n,cancel:u,values:m,edge:v,availableTargets:h,status:b})=>{const{t:g}=Object(d.useTranslation)(),[k,y]=a.useState(!1),j=m.target.getId()!==v.getTarget().getId();n(g);const O=v.getSource().getLabel();return a.createElement("form",{onSubmit:e,className:"modal-content"},a.createElement(p.d,null,g("topology~Move connector")),a.createElement(p.a,null,a.createElement(r.a,{headingLevel:"h2",size:"md",className:"co-m-form-row"},a.createElement(d.Trans,{ns:"topology",t:g},"Connect ",a.createElement("strong",null,{sourceLabel:O})," to")),a.createElement("div",{className:"pf-v5-c-form"},a.createElement(s.a,{fieldId:"target-node",label:"Target"},a.createElement(o.a,{id:"target-node-dropdown",className:"dropdown--full-width",onSelect:(e,t)=>{t&&(m.target=t),y(!1)},toggle:e=>a.createElement(i.a,{id:"toggle-id",ref:e,onClick:()=>y(!k),isExpanded:k,isFullWidth:!0},f(m.target)),isOpen:k,onOpenChange:e=>y(e)},a.createElement(c.a,null,h.map(e=>a.createElement(l.a,{key:e.getId(),value:e,isSelected:m.target.getId()===e.getId()},f(e)))))))),a.createElement(p.c,{submitText:g("topology~Move"),submitDisabled:!j||t,cancel:u,inProgress:t,errorMessage:b&&b.submitError}))};class y extends m.bb{constructor(){super(...arguments),this.onSubmit=e=>{const{edge:t}=this.props;switch(t.getType()){case b.v:case b.w:return Object(g.b)(t.getSource(),e,t.getTarget());case v.k:return Object(h.b)(t.getSource(),e);case v.l:return Object(h.a)(t.getSource(),e);default:return Promise.reject(new Error(this.t("topology~Unable to move connector of type {{type}}.",{type:t.getType()})))}},this.handleSubmit=(e,t)=>{const{close:n}=this.props;return this.handlePromise(this.onSubmit(e.target)).then(()=>{n()}).catch(e=>{t.setStatus({submitError:e})})},this.setTranslator=e=>{this.t=e}}render(){const{edge:e}=this.props,t={target:e.getTarget()};return a.createElement(u.b,{initialValues:t,onSubmit:this.handleSubmit},e=>a.createElement(k,Object.assign({setTranslator:this.setTranslator},e,this.props)))}}const j=Object(p.f)(e=>a.createElement(y,Object.assign({},e)))},5921:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>n.e(297).then(n.bind(null,6125)).then(t=>t.editApplicationModal(e))},5956:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(8),i=n(15),r=n(132),s=n(6343),o=n.n(s),c=n(6344),l=n.n(c),u=n(6345),d=n.n(u),p=n(6346),m=n.n(p),v=n(6347),h=n.n(v),b=n(6348),g=n.n(b),f=n(5634),k=n(616);const y=(e,t,n)=>{var s;const c=null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.annotations;return Object(i.Wd)(null==c?void 0:c[r.t])?null==c?void 0:c[r.t]:Object(i.Wd)(null==c?void 0:c[r.b])?null==c?void 0:c[r.b]:((e,t)=>{switch(Object(a.tb)(e)){case r.p:return o.a;case r.q:return l.a;case r.s:return d.a;case r.v:return h.a;case r.u:return m.a;case r.w:return g.a;case r.n:return m.a;default:return t===f.g?k.eventSinkIconSVG:k.eventSourceIconSVG}})(e,n)}},5960:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(13);const i=()=>{if(window.SERVER_FLAGS.addPage){const e=JSON.parse(window.SERVER_FLAGS.addPage),{disabledActions:t}=e;return t}},r=()=>{const[e,t]=Object(a.kc)(a.O),n=i(),r=(null==n?void 0:n.length)===(null==e?void 0:e.length);if(e&&n&&n.length>0){return[e.filter(e=>!n.includes(e.properties.id)),t,r]}return[e,t,r]}},6065:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(5),i=n(15);const r=(e,t)=>{if(!e||!t)return[];const n=t.map(e=>Object.assign(Object.assign({},e),{items:[]}));return e.reduce((e,t)=>{const n=e.filter(e=>t.properties.groupId===e.id);return n.length?n.forEach(e=>e.items.push(t)):e.push({id:t.properties.id,name:t.properties.label,items:[t]}),e},n).filter(e=>e.items.length)},s=(e,t)=>{a.Vb.push(t),e.preventDefault()},o=(e,t)=>e&&t?e.replace(/:namespace\b/g,t):null,c=(e,t)=>e&&t?e===i.c?t.filter(({properties:{href:e}})=>!(null==e?void 0:e.match(/:namespace\b/))):t:[]},6115:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),i=n(4387),r=n(108),s=n(8),o=n(132),c=n(76);const l=e=>{const[t,n]=a.useState([]),[l,u]=a.useState(!1),[d,p]=a.useState(null),m=a.useMemo(()=>({kamelets:{isList:!0,kind:Object(s.Hb)(c.c),namespace:e,optional:!0},kameletsGlobalNs:{isList:!0,kind:Object(s.Hb)(c.c),namespace:o.N,optional:!0},kameletsGlobalNs2:{isList:!0,kind:Object(s.Hb)(c.c),namespace:o.c,optional:!0}}),[e]),v=Object(r.b)(m);return a.useEffect(()=>{const e=Object.keys(v).some(e=>v[e].loaded),t=Object.keys(v).every(e=>v[e].loadError),{kamelets:a,kameletsGlobalNs:r,kameletsGlobalNs2:s}=v;if(e){const e=Object(i.a)([...a.data,...r.data,...s.data],e=>{var t;return null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.uid});n(e),u(a.loaded||r.loaded||s.loaded)}else t&&p(r.loadError||r.loadError||s.loadError)},[v]),[t,l,d]}},6137:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return O}));var a=n(0),i=n(6528),r=n(6208),s=n(6527),o=n(6529),c=n(4373),l=n(4393),u=n(6526),d=n(29),p=n(616),m=n(2221),v=n(761),h=n(6065),b=n(5960);const g="allImportResourceAccess",f="allCatalogImageResourceAccess",k=(e,t,n,a,i)=>{const r=Object(h.d)(e,t),s=new URLSearchParams;return n||a?(n?s.append(v.r.APPLICATION,n):s.append(v.r.APPLICATION,m.z),a&&s.append(v.r.CONTEXT_ACTION,JSON.stringify({type:i?v.j:v.i,payload:a})),`${r}${r.indexOf("?")>-1?"&":"?"}${s.toString()}`):r},y={FromGit:(e,t,n,i,r)=>({id:"import-from-git",label:d.a.t("devconsole~Import from Git"),icon:a.createElement(c.a,null),cta:{href:k("/import/ns/:namespace",e,t,n)},path:i,disabled:r}),ContainerImage:(e,t,n,i,r)=>({id:"deploy-image",label:d.a.t("devconsole~Container Image"),icon:a.createElement(u.a,null),cta:{href:k("/deploy-image/ns/:namespace",e,t,n)},path:i,disabled:r}),DevCatalog:(e,t,n,i,s)=>({id:"dev-catalog",label:d.a.t("devconsole~From Catalog"),icon:a.createElement(r.a,null),cta:{href:k("/catalog/ns/:namespace",e,t,n)},path:i,disabled:s}),DatabaseCatalog:(e,t,n,i,r)=>({id:"dev-catalog-databases",label:d.a.t("devconsole~Database"),icon:a.createElement(s.a,null),cta:{href:k("/catalog/ns/:namespace?category=databases",e,t,n)},path:i,disabled:r}),Samples:(e,t,n,i,r)=>({id:"import-from-samples",label:d.a.t("devconsole~Samples"),icon:a.createElement(l.a,null),cta:{href:k("/samples/ns/:namespace",e,t,n)},path:i,disabled:r}),OperatorBacked:(e,t,n,r,s,o)=>({id:"operator-backed",label:d.a.t("devconsole~Operator Backed"),icon:a.createElement(i.a,null),cta:{href:k("/catalog/ns/:namespace?catalogType=OperatorBackedService",e,t,n,o)},path:r,disabled:s}),UploadJarFile:(e,t,n,i,r)=>({id:"upload-jar",label:d.a.t("devconsole~Upload JAR file"),icon:a.createElement(o.a,null),cta:{href:k("/upload-jar/ns/:namespace",e,t,n)},path:i,disabled:r}),CreateServerlessFunction:(e,t,n,i,r)=>({id:"create-serverless-function",label:d.a.t("devconsole~Create Serverless function"),icon:a.createElement(p.ServerlessFunctionIcon,{style:p.eventIconStyle}),cta:{href:k("/serverless-function/ns/:namespace",e,t,n)},path:i,disabled:r}),CreateServerlessFunctionUsingSamples:(e,t,n,i,r)=>({id:"create-serverless-function-samples",label:d.a.t("devconsole~Serverless function using Samples"),icon:a.createElement(p.ServerlessFunctionIcon,{style:p.eventIconStyle}),cta:{href:k("/samples/ns/:namespace?sampleType=Serverless function",e,t,n)},path:i,disabled:r})},j=Object(b.a)(),O=e=>!(null==j?void 0:j.includes(e.id))},6169:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(7),r=n(13),s=n(5684),o=n(132),c=n(76),l=n(6349),u=n(5843);const d=(e,t,n)=>{const{t:d}=Object(i.useTranslation)(),[p,m]=Object(s.a)(c.c,n,e),[v,h]=Object(s.a)(c.c,n,o.N),[b,g]=Object(s.a)(c.c,n,o.c),f=m&&h&&g,k=n&&f&&(p||v||b),y=n&&t===c.b.kind,j=t||y,O=t&&!y&&c.k.kind===t&&c.k,E=y?c.b:O,[S,R]=Object(r.hc)({group:null==E?void 0:E.apiGroup,resource:null==E?void 0:E.plural,verb:"create",namespace:e}),P=a.useMemo(()=>j?{isValidSink:!!O||f&&k&&y,loaded:y?f:!!O,normalizedSink:y?Object(u.h)(k):Object(l.c)(O,d)}:{isValidSink:!1,loaded:!0,normalizedSink:{}},[j,O,f,k,y,d]);return Object.assign(Object.assign({},P),{createSinkAccessLoading:R,createSinkAccess:S,kamelet:k})}},6236:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(5843),r=n(870);const s=e=>{const{loaded:t,eventSourceModels:n}=Object(r.useEventSourceModels)(),[s,o]=a.useState({loaded:!1,eventSourceModelsList:[]});return a.useEffect(()=>{if(t){const t=Object(i.f)(e,n);Promise.all([...t]).then(e=>{const t=null==e?void 0:e.reduce((e,t)=>[...e,...t?[t]:[]],[]);o({loaded:!0,eventSourceModelsList:t})}).catch(e=>console.warn("Failed to get event source models",e.message))}},[t]),s}},6237:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(7),r=n(5),s=n(5684),o=n(132),c=n(76),l=n(5843),u=n(870);const d=(e,t,n)=>{const{t:d}=Object(i.useTranslation)(),{eventSourceModels:p,loaded:m}=Object(u.useEventSourceModels)(),[v,h]=Object(s.a)(c.c,n,e),[b,g]=Object(s.a)(c.c,n,o.N),[f,k]=Object(s.a)(c.c,n,o.c),y=h&&g&&k,j=y&&(v||b||f),O=n&&t===c.b.kind,E=t||O,S=t&&!O&&(null==p?void 0:p.find(e=>e.kind===t)),R=O?c.b:S,[P,T]=Object(r.Ec)({group:null==R?void 0:R.apiGroup,resource:null==R?void 0:R.plural,verb:"create",namespace:e}),w=a.useMemo(()=>E?{isValidSource:!!S||y&&j&&O,loaded:O?y:m,normalizedSource:O?Object(l.h)(j):Object(l.e)(S,d)}:{isValidSource:!1,loaded:!0,normalizedSource:{}},[E,S,y,j,O,m,d]);return Object.assign(Object.assign({},w),{createSourceAccessLoading:T,createSourceAccess:P,kamelet:j})}},6238:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(22),r=n(50),s=n(7),o=n(108),c=n(5843),l=n(1412);const u=e=>{const{t:t}=Object(s.useTranslation)(),n=a.useMemo(()=>Object(l.l)(e),[e]),{kafkas:u,kafkaconnections:d}=Object(o.b)(n);return a.useMemo(()=>{let e=[],n="";const a=u.loaded&&!u.loadError||d.loaded&&!d.loadError,s=!(!u.loadError||!d.loadError);if(a){const a=[...u.data?u.data:[],...d.data?d.data:[]];e=i.a(a)?[{value:t("knative-plugin~No bootstrap servers found"),disabled:!0}]:r.a(Object(c.b)(a),e=>({value:e,disabled:!1})),n=t("knative-plugin~Add bootstrap servers")}else s?n=t("knative-plugin~{{loadErrorMessage}}. Try adding bootstrap servers manually.",{loadErrorMessage:`${u.loadError.message}, ${d.loadError.message}`}):(e=[{value:t("knative-plugin~Loading bootstrap servers..."),disabled:!0}],n="...");return[e,n]},[u.loaded,u.loadError,u.data,d.loaded,d.loadError,d.data,t])}},6336:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(2230);const r=a.createContext(i.g.Service)},6341:function(e,t,n){"use strict";var a=n(6236);n.d(t,"b",(function(){return a.a}));var i=n(6237);n.d(t,"c",(function(){return i.a}));n(6115),n(6169);var r=n(6238);n.d(t,"a",(function(){return r.a}))},6342:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(132);const i=(e,t)=>({[a.p]:{description:t("knative-plugin~This object can be used to connect an event sink, such as a Service, Channel, or Broker to the Kubernetes API server. ApiServerSource watches for Kubernetes events and forwards them to the sink."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.s]:{description:t("knative-plugin~Starts a user-provided Container which will generate events and send messages to a sink URI. The sink URI is injected into the Container as an environment variable. A ContainerSource is an easy way to implement your own event sources in Knative."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.u]:{description:t("knative-plugin~A distributed messaging system consisting of servers and clients that communicate via a high-performance TCP network protocol. This source will send Apache Kafka messages from monitored Apache Kafka topics to a configured sink, packaged as CloudEvents."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.v]:{description:t("knative-plugin~Used to periodically send ping events with a constant payload to a sink. A PingSource is a timer that emits CloudEvents at a fixed schedule that is configured as a crontab expression."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.w]:{description:t("knative-plugin~Used to connect OpenShift managed applications like Deployments, StatefulSets, or Jobs to an event sink, for example, a Knative Service, Channel, or Broker. SinkBinding is similar to a ContainerSource but works on existing OpenShift Application resources, whereas the ContainerSource Container lifecycle is fully managed by OpenShift Serverless itself."),provider:"Red Hat",support:t("knative-plugin~Supported")}}[e])},6343:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/apiserversource.svg"},6344:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/camelsource.svg"},6345:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/containersource.svg"},6346:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/kafkasource.svg"},6347:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/pingsource.svg"},6348:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/sinkbindingsource.svg"},6349:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return k}));var a=n(499),i=n(5711),r=n(8),s=n(614),o=n(30),c=n(2221),l=n(6426),u=n(5845),d=n(132),p=n(5843),m=n(5956);const v=e=>{const{type:t,name:n,apiVersion:a,application:{name:r},project:{name:s},data:o,source:c}=e,l=Object(i.a)({name:n,applicationName:r}),u=o[t],{name:d,kind:p,apiVersion:m}=null!=c?c:{};return{apiVersion:a,kind:t,metadata:{name:n,namespace:s,labels:Object.assign({},l),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},u&&u),d&&m&&p&&{source:{ref:{apiVersion:m,kind:p,name:d}}})}},h=e=>{if(e.editorType===s.b.YAML)return Object(p.l)(e);const{formData:t}=e;return t.type===d.n?(e=>{var t,n,i,r,s,o,c,l;const u=v(e);return Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},a.a(u.spec,"auth")),(null===(r=null===(i=null===(n=null===(t=u.spec)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(l=null===(c=null===(o=null===(s=u.spec)||void 0===s?void 0:s.auth)||void 0===o?void 0:o.secret)||void 0===c?void 0:c.ref)||void 0===l?void 0:l.name}}}})})})(t):v(t)},b=e=>({sink:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),g=(e,t,n)=>{var i,r,s,l;const p=e.spec,{ref:m}=(null==p?void 0:p.source)||{},v=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],h=Object.assign(Object.assign(Object.assign(Object.assign({},t),{application:Object.assign(Object.assign(Object.assign({},t.application),v&&v!==t.application.name&&{name:v,selectedKey:t.application.selectedKey?c.b:""}),!v&&{name:"",selectedKey:o.cb}),name:null===(s=e.metadata)||void 0===s?void 0:s.name}),(null==m?void 0:m.name)&&(null==m?void 0:m.kind)&&(null==m?void 0:m.apiVersion)&&{source:{apiVersion:m.apiVersion,kind:m.kind,name:m.name,key:Object(u.a)(m.name,m)}}),{data:Object.assign({[t.type]:Object.assign({},a.a(p,"source"))},n&&{[t.type]:{sink:{ref:{apiVersion:n.apiVersion,kind:n.kind,name:n.metadata.name},properties:null===(l=null==p?void 0:p.sink)||void 0===l?void 0:l.properties}}})});return t.type===d.n?(e=>{var t,n,a,i,r,s,o,c;const l=(null===(t=e.data)||void 0===t?void 0:t[d.n])||{};return Object.assign(Object.assign({},e),{data:{[d.n]:Object.assign({bootstrapServers:Array.isArray(l.bootstrapServers)?l.bootstrapServers:[],topic:null!==(n=l.topic)&&void 0!==n?n:""},(null===(r=null===(i=null===(a=l.auth)||void 0===a?void 0:a.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(c=null===(o=null===(s=l.auth)||void 0===s?void 0:s.secret)||void 0===o?void 0:o.ref)||void 0===c?void 0:c.name}}}})}})})(h):h},f=(e,t)=>{var n;let a={};if(e){const{kind:i,label:s}=e,{description:o,provider:c}=null!==(n=Object(l.a)(i,t))&&void 0!==n?n:{};a={name:s,description:o,provider:c,iconUrl:Object(m.a)(Object(r.Hb)(e))}}return a},k=e=>({[d.n]:{bootstrapServers:[],topic:"",auth:{secret:{ref:{name:""}}}}}[e])},6402:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(29),i=n(400),r=n(8);const s=(e,t)=>{var n,a,i,s;const{kind:o,metadata:{name:c,namespace:l}}=t,u=e.crd?Object(r.Db)(t):o,d=null===(i=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers;return`/k8s/ns/${l}/${u}/${c}/containers/${null===(s=null==d?void 0:d[0])||void 0===s?void 0:s.name}/health-checks`},o=(e,t)=>({id:"add-health-checks",label:a.a.t("console-app~Add Health Checks"),cta:{href:s(e,t)},accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),c=(e,t)=>({id:"edit-health-checks",label:a.a.t("console-app~Edit Health Checks"),cta:{href:s(e,t)},insertBefore:"edit-labels",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),l=(e,t)=>(e=>{var t,n,a;const r=null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.spec)||void 0===a?void 0:a.containers;return i.a(r,e=>e.readinessProbe||e.livenessProbe||e.startupProbe)})(t)?c(e,t):o(e,t)},6426:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(132);const i=(e,t)=>({[a.n]:{description:t("knative-plugin~A KafkaSink takes a CloudEvent, and sends it to an Apache Kafka Topic. Events can be specified in either Structured or Binary mode."),provider:"Red Hat",support:t("knative-plugin~Supported")}}[e])},6845:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v}));var a=n(0),i=n(7),r=n(8),s=n(15),o=n(132),c=n(6341),l=n(5956),u=n(6342);const d=({namespace:e})=>{const{t:t}=Object(i.useTranslation)(),{loaded:n,eventSourceModelsList:s}=Object(c.b)(e);return[a.useMemo(()=>n?((e,t,n)=>e.map(e=>{var a;const{kind:i,label:s,id:o}=e,c=`/catalog/ns/${t}/eventsource?sourceKind=${i}`,{description:d,provider:p,support:m}=null!==(a=Object(u.a)(i,n))&&void 0!==a?a:{};return{uid:o,name:s,description:d,icon:{url:Object(l.a)(Object(r.Hb)(e)),class:null},type:"EventSource",provider:p,cta:{label:n("knative-plugin~Create Event Source"),href:c},details:{properties:[{label:n("knative-plugin~Support"),value:m}]}}}))(s,e,t):[],[n,e,t,s]),n,void 0]},p=e=>{e(o.G,Object(s.Nd)(o.r)),e(o.F,Object(s.Nd)(o.m))},m=()=>{const e=Object(s.Fe)(o.D),t=Object(s.Fe)(o.C),n=Object(s.Fe)(o.A);return e||t||n},v=e=>{const t=m();e(o.E,t)}},9548:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(29),r=n(761),s=n(2221),o=n(2343),c=n.n(o);const l={width:"1em",height:"1em"},u=()=>a.createElement("img",{style:l,src:c.a,alt:"Eventking Broker icon"}),d=(e,t,n)=>{const o=new URLSearchParams,c="/broker/ns/"+e;return t?o.append(r.r.APPLICATION,t):o.append(r.r.APPLICATION,s.z),{id:"broker-add",label:i.a.t("knative-plugin~Broker"),icon:a.createElement(u,null),cta:{href:`${c}?${o.toString()}`},path:n,insertAfter:"channel-add"}}},9549:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(29),r=n(761),s=n(2221),o=n(2343),c=n.n(o);const l={width:"1em",height:"1em"},u=()=>a.createElement("img",{style:l,src:c.a,alt:"Eventing Channel logo"}),d=(e,t,n)=>{const o=new URLSearchParams,c="/channel/ns/"+e;return t?o.append(r.r.APPLICATION,t):o.append(r.r.APPLICATION,s.z),{id:"channel-add",label:i.a.t("knative-plugin~Channel"),icon:a.createElement(u,null),cta:{href:`${c}?${o.toString()}`},path:n,insertAfter:"event-source-add"}}},9550:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(0),i=n(29),r=n(761),s=n(2221),o=n(616);const c="event-sink-add-connector-action",l=(e,t,n,c)=>{const l=new URLSearchParams,u="/catalog/ns/"+e;return l.append("catalogType","EventSink"),n&&l.append(r.r.CONTEXT_SOURCE,n),t?l.append(r.r.APPLICATION,t):l.append(r.r.APPLICATION,s.z),{id:"event-sink-add",label:i.a.t("knative-plugin~Event Sink"),icon:a.createElement(o.EventSinkIcon,{style:o.eventIconStyle}),cta:{href:`${u}?${l.toString()}`},path:c,insertAfter:"upload-jar"}},u=(e,t,n)=>{const a=new URLSearchParams,o="/catalog/ns/"+e;return a.append("catalogType","EventSink"),n&&a.append(r.r.CONTEXT_SOURCE,n),t?a.append(r.r.APPLICATION,t):a.append(r.r.APPLICATION,s.z),{id:c,label:i.a.t("knative-plugin~Add Event Sink"),cta:{href:`${o}?${a.toString()}`}}}},9551:function(e,t,n){"use strict";n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"k",(function(){return S}));var a=n(29),i=n(131),r=n(5),s=n(2340),o=n(8),c=n(30),l=n(5594),u=n(2267),d=n(1073),p=n(76),m=n(2230);const v=(e,t)=>({id:"set-traffic-distribution",label:a.a.t("knative-plugin~Set traffic distribution"),cta:()=>Object(u.e)({obj:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),h=(e,t)=>({id:"move-sink-pubsub",label:a.a.t("knative-plugin~Move {{kind}}",{kind:e.label}),cta:()=>Object(u.c)({source:t,resourceType:e.labelKey?a.a.t(e.labelKey):e.label}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),b=(e,t)=>({id:"add-tigger-broker",label:a.a.t("knative-plugin~Add Trigger"),cta:()=>Object(d.a)({source:t}),accessReview:{group:p.i.apiGroup,resource:p.i.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),g=(e,t)=>({id:"add-subscription-channel",label:a.a.t("knative-plugin~Add Subscription"),cta:()=>Object(d.a)({source:t}),accessReview:{group:p.h.apiGroup,resource:p.h.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),f=(e,t)=>({id:"edit-knative-service",label:a.a.t("knative-plugin~Edit {{applicationName}}",{applicationName:Object(s.b)(t.metadata.name,{length:c.R})}),cta:{href:`/edit/ns/${t.metadata.namespace}?name=${t.metadata.name}&kind=${t.kind||e.kind}`},insertAfter:"edit-resource-limits",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),k=(e,t,n)=>({id:"edit-service",label:n===m.g.Function?a.a.t("knative-plugin~Edit Function"):a.a.t("knative-plugin~Edit Service"),cta:{href:n===m.g.Function?`/functions/ns/${t.metadata.namespace}/${t.metadata.name}/yaml`:Object(r.sc)(t,e.crd?Object(o.Hb)(e):e.kind)+"/yaml"},insertAfter:"edit-annotations",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),y=(e,t,n,s)=>({id:"delete-resource",label:n===m.g.Function?a.a.t("knative-plugin~Delete Function"):a.a.t("knative-plugin~Delete Service"),cta:()=>Object(i.q)(s?{kind:e,resource:t,deleteAllResources:()=>Object(l.a)(t)}:{kind:e,resource:t}),accessReview:Object(r.Eb)(e,t,"delete")}),j=(e,t)=>({id:"move-sink-source",label:a.a.t("knative-plugin~Move sink"),cta:()=>Object(u.d)({source:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),O=(e,t)=>({id:"delete-revision",label:a.a.t("knative-plugin~Delete Revision"),cta:()=>Object(u.a)({revision:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"delete"}}),E=(e,t,n)=>({id:"edit-sink-uri",label:a.a.t("knative-plugin~Edit URI"),cta:()=>Object(u.b)({source:t,eventSourceList:n}),accessReview:{group:e.apiGroup,resource:e.plural,name:n[0].metadata.name,namespace:n[0].metadata.namespace,verb:"update"}}),S=(e,t)=>({id:"test-serverless-function",label:a.a.t("knative-plugin~Test Serverless Function"),cta:()=>Object(u.f)({obj:t}),insertBefore:"create-service-binding"})}}]);
//# sourceMappingURL=actions-chunk-8da10165e086bd29b7b6.min.js.map