(window.webpackJsonp=window.webpackJsonp||[]).push([[188,20,44,119,126,364],{1442:function(e,t,n){"use strict";n.r(t);var a=n(8190);n.d(t,"EventSourcePage",(function(){return a.a}));var i=n(8220);n.d(t,"EventingChannelPage",(function(){return i.a}));var r=n(8221);n.d(t,"EventingBrokerPage",(function(){return r.a}));var o=n(8223);n.d(t,"EventSinkPage",(function(){return o.a}));var s=n(8224);n.d(t,"SubscribePage",(function(){return s.a}))},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var i=n(869);n.d(t,"SecretTypeAbstraction",(function(){return i.c})),n.d(t,"AUTHS_KEY",(function(){return i.a})),n.d(t,"SecretType",(function(){return i.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var o=n(5604);n.d(t,"PullSecretForm",(function(){return o.a}));var s=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return s.a}));var l=n(5605);n.d(t,"CreateConfigSubform",(function(){return l.a}));var c=n(5607);n.d(t,"UploadConfigSubform",(function(){return c.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var v=n(5609);n.d(t,"GenericSecretForm",(function(){return v.a}));var b=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return b.b})),n.d(t,"KeyValueEntryForm",(function(){return b.a}));var g=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return g.b})),n.d(t,"EditSecret",(function(){return g.a}));var h=n(5637);n.d(t,"CreateSecret",(function(){return h.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var y=n(5600);n.d(t,"SecretSubForm",(function(){return y.a}));n(5638)},4362:function(e,t,n){"use strict";n.r(t),n.d(t,"getAnnotationTags",(function(){return M})),n.d(t,"getBuilderTags",(function(){return $})),n.d(t,"getBuilderTagsSortedByVersion",(function(){return F})),n.d(t,"getMostRecentBuilderTag",(function(){return U})),n.d(t,"isBuilder",(function(){return B})),n.d(t,"ExampleDockerCommandPopover",(function(){return G})),n.d(t,"ImageStreamsDetails",(function(){return H})),n.d(t,"ImageStreamsDetailsPage",(function(){return J})),n.d(t,"ImageStreamsList",(function(){return Z})),n.d(t,"buildPhase",(function(){return Q})),n.d(t,"ImageStreamsPage",(function(){return ee}));var a=n(0),i=n(7),r=n(16),o=n(240),s=n(2050),l=n(116),c=n(1533),u=n(22),d=n(225),p=n(7187),m=n(117),v=n(50),b=n(283),g=n(18),h=n(54),f=n(353),y=n(19),k=n(80),j=n(979),O=n(10),E=n(40),S=n(5),T=n(1198),P=n(1414),C=n(173),R=n(981),w=n(284),N=n(1413),x=n(1948),D=n(99),A=n(1411),I=n(693),_=n(5781),L=n(15);const M=e=>r.a(e,"annotations.tags","").split(/\s*,\s*/),$=e=>{const t=(e=>{const t=r.a(e,"status.tags");return s.a(t,"tag")})(e);return l.a(e.spec.tags,e=>(e=>{const t=M(e);return o.a(t,"builder")&&!o.a(t,"hidden")})(e)&&t[e.name])},F=e=>$(e).sort(({name:e},{name:t})=>{const n=b.coerce(e),a=b.coerce(t);return n||a?n?a?b.rcompare(n,a):-1:1:e.localeCompare(t)}),U=e=>{const t=F(e);return c.a(t)},B=e=>!u.a($(e)),{common:q}=R.a.factory,K=[...R.a.getExtensionsActionsForKind(O.ImageStreamModel),...q],V=({imageStream:e,specTag:t,statusTag:n})=>{const o=r.a(e,"status"),s=r.a(n,["items",0]),l=r.a(t,"from"),c="ImageStreamTag"===r.a(t,"from.kind"),u=r.a(s,"image"),p=r.a(s,"created"),m=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:v}=Object(i.useTranslation)();return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},a.createElement(D.ResourceLink,{kind:"ImageStreamTag",name:Object(_.b)(e.metadata.name,n.tag),namespace:e.metadata.namespace,title:n.tag,linkTo:!!u})),a.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},l&&c&&a.createElement(D.ResourceLink,{kind:"ImageStreamTag",name:l.name,namespace:e.metadata.namespace,title:l.name}),l&&!c&&a.createElement(a.Fragment,null,l.name),!l&&a.createElement("span",{className:"text-muted"},v("public~pushed image"))),a.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!o&&m&&a.createElement(a.Fragment,null,a.createElement(L.tc,null)," ",v("public~Unable to resolve")),!o&&!m&&!l&&a.createElement(a.Fragment,null,v("public~Not synced yet")),!o&&!m&&l&&a.createElement(a.Fragment,null,v("public~Unresolved")),o&&u&&a.createElement(a.Fragment,null,u),o&&!u&&a.createElement(a.Fragment,null,a.createElement(L.tc,null)," ",v("public~There is no image associated with this tag"))),a.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},p&&a.createElement(I.Timestamp,{timestamp:p}),!p&&"-"))},G=({imageStream:e,tag:t})=>{const n=r.a(e,"status.publicDockerImageRepository"),{t:o}=Object(i.useTranslation)();if(!n)return null;const s=`docker push ${n}:${t||"<tag>"}`,l=`docker pull ${n}:${t||"<tag>"}`;return a.createElement(f.a,{headerContent:a.createElement(a.Fragment,null,o("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:a.createElement("div",null,a.createElement("p",null,o("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),a.createElement("br",null),a.createElement("p",null,o("public~Authenticate to the internal registry")),a.createElement(T.a,{value:"oc registry login"}),a.createElement("br",null),a.createElement("p",null,o("public~Push an image to this ImageStream")),a.createElement(T.a,{value:s}),a.createElement("br",null),a.createElement("p",null,o("public~Pull an image from this ImageStream")),a.createElement(T.a,{value:l}),a.createElement("br",null),a.createElement("p",null,a.createElement(i.Trans,{t:o,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",a.createElement("strong",null,"podman")," ","commands."," "),a.createElement(C.a,{href:S.p,text:o("public~Learn more.")})))},a.createElement(y.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},a.createElement(j.a,{className:"co-icon-space-r"}),o("public~Do you need to work with this ImageStream outside of the web console?")))},H=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),n=r.a(e,"status.dockerImageRepository"),o=r.a(e,"status.publicDockerImageRepository"),l=r.a(e,"status.tags.length"),c=s.a(e.spec.tags,"name"),d=p.a(e.status.tags,(n,a)=>{const i=m.a(a.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);i&&n.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${a.tag}`,message:i.message}))});return a.createElement("div",null,a.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&a.createElement(P.a,{variant:k.b.warning,alerts:v.a(d,(e,t)=>a.createElement(a.Fragment,{key:t},e))}),a.createElement(w.c,{text:t("public~ImageStream details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(A.b,{resource:e},n&&a.createElement("dt",null,t("public~Image repository")),n&&a.createElement("dd",null,n),o&&a.createElement("dt",null,t("public~Public image repository")),o&&a.createElement("dd",null,o),a.createElement("dt",null,t("public~Image count")),a.createElement("dd",null,l||0)),a.createElement(G,{imageStream:e})))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(w.c,{text:t("public~Tags")}),u.a(e.status.tags)?a.createElement("span",{className:"text-muted"},t("public~No tags")):a.createElement("div",{className:"row"},a.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},a.createElement("div",{className:"row co-m-table-grid__head"},a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),a.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),a.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),a.createElement("div",{className:"co-m-table-grid__body"},v.a(e.status.tags,t=>a.createElement(V,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},W=({obj:e})=>{const t=r.a(e,"status.tags");return a.createElement(_.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};W.displayName="ImageStreamHistory";const z=[x.navFactory.details(H),x.navFactory.editYaml(),x.navFactory.history(W)],J=e=>a.createElement(E.a,Object.assign({},e,{kind:"ImageStream",menuActions:K,pages:z}));J.displayName="ImageStreamsDetailsPage";const Y=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",R.a.columnClass],X=({obj:e})=>a.createElement(a.Fragment,null,a.createElement(E.k,{className:Y[0]},a.createElement(D.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(E.k,{className:g(Y[1],"co-break-word"),columnID:"namespace"},a.createElement(D.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(E.k,{className:Y[2]},a.createElement(N.a,{kind:"ImageStream",labels:e.metadata.labels})),a.createElement(E.k,{className:Y[3]},a.createElement(I.Timestamp,{timestamp:e.metadata.creationTimestamp})),a.createElement(E.k,{className:Y[4]},a.createElement(R.d,{actions:K,kind:"ImageStream",resource:e}))),Z=e=>{const{t:t}=Object(i.useTranslation)(),n=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[h.a],props:{className:Y[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[h.a],props:{className:Y[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[h.a],props:{className:Y[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[h.a],props:{className:Y[3]}},{title:"",props:{className:Y[4]}}];return n.displayName="ImageStreamsTableHeader",a.createElement(E.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:n,Row:X,virtualize:!0}))};Z.displayName="ImageStreamsList";const Q=e=>e.status.phase,ee=e=>{const{t:t}=Object(i.useTranslation)();return a.createElement(E.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Z,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},5409:function(e,t,n){"use strict";n.r(t),n.d(t,"getNumberOrPercent",(function(){return m})),n.d(t,"ConfigureUpdateStrategy",(function(){return v})),n.d(t,"ConfigureUpdateStrategyModal",(function(){return b})),n.d(t,"configureUpdateStrategyModal",(function(){return g}));var a=n(141),i=n(16),r=n(0),o=n(88),s=n(7),l=n(8),c=n(10),u=n(118),d=n(5),p=n(692);const m=e=>void 0===e?null:"string"==typeof e&&e.indexOf("%")>-1?e:a.a(e),v=e=>{const{showDescription:t=!0}=e,{t:n}=Object(s.useTranslation)();return r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"co-m-form-row"},r.createElement("p",null,n("public~How should the pods be replaced when a new revision is created?"))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-12"},r.createElement(p.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"RollingUpdate",checked:"RollingUpdate"===e.strategyType,title:n("public~RollingUpdate"),subTitle:n("public~(default)"),autoFocus:"RollingUpdate"===e.strategyType},r.createElement("div",{className:"co-m-radio-desc"},r.createElement("p",{className:"text-muted modal-paragraph"},n("public~Execute a smooth roll out of the new revision, based on the settings below")),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-unavailable",className:"control-label co-break-word"},n("public~Max unavailable"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-unavailable",value:e.maxUnavailable,onChange:t=>e.onChangeMaxUnavailable(t.target.value),"aria-describedby":"input-max-unavailable-help"}),e.replicas&&r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:n("public~Current desired pod count")},r.createElement("span",null,n("public~of pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-unavailable-help"},n("public~Percentage of total number of pods or the maximum number of pods that can be unavailable during the update(optional)")))),r.createElement("div",{className:"row co-m-form-row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:"input-max-surge",className:"control-label co-break-word"},n("public~Max surge"))),r.createElement("div",{className:"co-m-form-col col-sm-9"},r.createElement("div",{className:"form-inline"},r.createElement("div",{className:"pf-v5-c-input-group"},r.createElement("input",{disabled:"RollingUpdate"!==e.strategyType,placeholder:"25%",size:5,type:"text",className:"pf-v5-c-form-control",id:"input-max-surge",value:e.maxSurge,onChange:t=>e.onChangeMaxSurge(t.target.value),"aria-describedby":"input-max-surge-help"}),r.createElement("span",{className:"pf-v5-c-input-group__text"},r.createElement(o.a,{content:n("public~Current desired pod count")},r.createElement("span",null,n("public~greater than pod",{count:e.replicas})))))),r.createElement("p",{className:"help-block text-muted",id:"input-max-surge-help"},n("public~Percentage of total number of pods or the maximum number of pods that can be scheduled above the original number of pods(optional)"))))))),r.createElement("div",{className:"col-sm-12"},r.createElement(p.b,{name:(e.uid||"update-strategy")+"-type",onChange:t=>{e.onChangeStrategyType(t.target.value)},value:"Recreate",checked:"Recreate"===e.strategyType,title:n("public~Recreate"),desc:n("public~Shut down all existing pods before creating new ones"),autoFocus:"Recreate"===e.strategyType}))))},b=Object(d.Oc)(e=>{const[t,n]=r.useState(i.a(e.deployment.spec,"strategy.type")),[a,o]=r.useState(i.a(e.deployment.spec,"strategy.rollingUpdate.maxUnavailable","25%")),[d,p]=r.useState(i.a(e.deployment.spec,"strategy.rollingUpdate.maxSurge","25%")),{t:b}=Object(s.useTranslation)();return r.createElement("form",{onSubmit:n=>{n.preventDefault();const i={path:"/spec/strategy/rollingUpdate",op:"remove"};"RollingUpdate"===t&&(i.value={maxUnavailable:m(a||"25%"),maxSurge:m(d||"25%")},i.op="add");const r=Object(l.pb)(c.DeploymentModel,e.deployment,[i,{path:"/spec/strategy/type",value:t,op:"replace"}]);e.handlePromise(r,e.close)},name:"form",className:"modal-content"},r.createElement(u.d,null,b("public~Edit update strategy")),r.createElement(u.a,null,r.createElement(v,{strategyType:t,maxUnavailable:a,maxSurge:d,onChangeStrategyType:n,onChangeMaxUnavailable:o,onChangeMaxSurge:p,replicas:e.deployment.spec.replicas})),r.createElement(u.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:b("public~Save"),cancel:e.cancel}))}),g=Object(u.f)(b);v.displayName="ConfigureUpdateStrategy"},5414:function(e,t,n){"use strict";n.r(t),n.d(t,"DynamicForm",(function(){return O}));var a=n(0),i=n(80),r=n(1934),o=n(966),s=n(19),l=n(6838),c=n(489),u=n(50),d=n(838),p=n(7),m=n(5),v=n(198),b=n(5897),g=n(6116),h=n(6606),f=n(5955),y=n(6350),k=(n(6607),n(6036));n.d(t,"JSONSchemaType",(function(){return k.a})),n.d(t,"K8S_UI_SCHEMA",(function(){return b.d})),n.d(t,"JSON_SCHEMA_GROUP_TYPES",(function(){return b.b})),n.d(t,"JSON_SCHEMA_NUMBER_TYPES",(function(){return b.c})),n.d(t,"THOUSAND",(function(){return b.f})),n.d(t,"MILLION",(function(){return b.e})),n.d(t,"BILLION",(function(){return b.a}));var j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const O=e=>{var{ArrayFieldTemplate:t=h.a,errors:n=[],ErrorTemplate:k=h.b,fields:O={},FieldTemplate:E=h.c,formContext:S,formData:T={},noValidate:P=!1,ObjectFieldTemplate:C=h.d,onChange:R=c.a,onError:w=c.a,onSubmit:N=c.a,onCancel:x,schema:D,uiSchema:A={},widgets:I={},customUISchema:_,noActions:L,showAlert:M=!0}=e,$=j(e,["ArrayFieldTemplate","errors","ErrorTemplate","fields","FieldTemplate","formContext","formData","noValidate","ObjectFieldTemplate","onChange","onError","onSubmit","onCancel","schema","uiSchema","widgets","customUISchema","noActions","showAlert"]);const{t:F}=Object(p.useTranslation)(),U=Object(f.b)(D);if(U.length)return console.warn("A form could not be generated for this resource.",U),a.createElement(i.a,{isInline:!0,className:"co-alert co-break-word",variant:"info",title:F("console-shared~A form is not available for this resource. Please use the YAML view.")});return a.createElement(a.Fragment,null,M&&a.createElement(i.a,{isInline:!0,className:"co-alert co-break-word",variant:"info",title:F('console-shared~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.')}),a.createElement(r.a,{asDefinitionList:!1,className:"co-dynamic-form__accordion"},a.createElement(v.a,{FallbackComponent:()=>a.createElement(i.a,{isInline:!0,className:"co-alert co-break-word",variant:"danger",title:F('console-shared~There is some issue in this form view. Please select "YAML view" for full control.')})},a.createElement(l.a,Object.assign({},$,{className:"co-dynamic-form",noValidate:P,ArrayFieldTemplate:t,fields:Object.assign(Object.assign({},g.g),O),FieldTemplate:E,formContext:Object.assign(Object.assign({},S),{formData:T}),formData:T,noHtml5Validate:!0,ObjectFieldTemplate:C,onChange:e=>R(e.formData),onError:e=>w(u.a(e,e=>e.stack)),onSubmit:N,schema:D,showErrorList:!1,uiSchema:_?A:d.a({},b.d,A),widgets:Object.assign(Object.assign({},y.i),I)}),n.length>0&&a.createElement(k,{errors:n}),!L&&a.createElement("div",{style:{paddingBottom:"30px"}},a.createElement(o.a,{className:"pf-v5-c-form"},a.createElement(s.a,{type:"submit",variant:"primary","data-test":"create-dynamic-form"},F("console-shared~Create")),a.createElement(s.a,{onClick:x||m.Vb.goBack,variant:"secondary"},F("console-shared~Cancel"))))))))}},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var i=n(5611);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"e",(function(){return i.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,i,r,o,s,l,c,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"w",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"z",(function(){return k})),n.d(t,"y",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return R})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(o||(o={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",v="1.5.2",b="pipeline",g="bridge/pipeline-run-auto-start-failed",h=275,f=375,y=60,k="pipeline.openshift.io/preferredName",j="chains.tekton.dev/signed",O="openshift-pipelines",E="openshift",S="config";var T;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(T||(T={}));const P="FLAG_TEKTON_V1_ENABLED",C="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",R="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return R})),n.d(t,"l",(function(){return w}));var a=n(5596),i=n(29),r=n(117),o=n(16),s=n(22),l=n(279),c=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),v=n(5659),b=n(5625),g=n(1400);const h=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),y=e=>{var t,n,a;const i=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==i?void 0:i.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==i?void 0:i.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},k=(e,t,n,i)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const i=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${i}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${i}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${i}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${i}`:a})(a(e),t,i);return n?`${n}/f?url=${r}&policies.create=peruser`:r},j=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},O=(e,t)=>t?e.filter(e=>o.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,E=(e,t)=>t.length>0&&!s.a(t[0].spec)?Object(u.c)(t[0]):null,S=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},T=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||S(null==e?void 0:e.getData())},P=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(S(null==e?void 0:e.getData())),C=(e,t)=>{const n=null==e?void 0:e.getData(),a=T(e);if(!e||!a||!l.a(n.resources))return Promise.reject();const r=[],o=[];r.push(a),e.getType()===v.d&&c.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(i.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));o.push(Object(b.c)(n,e,t))}return Promise.all(o)},R=(e,t,n=null)=>e&&t&&e!==t?Object(g.a)(e,t,n):Promise.reject(new Error(i.a.t("topology~Can not create a connection from a node to itself."))),w=e=>{const t=T(e.getSource()),n=T(e.getTarget());return t&&n?Object(g.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return b}));var a=n(279),i=n(160),r=n(107),o=n(1404),s=n(7),l=n(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[o.WebHookSecretKey])&&1===a.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=i.a(e).sort();return r.a(t,["tls.crt","tls.key"])?l.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:r.a(t,[".dockercfg"])?l.b.dockercfg:r.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:r.a(t,["password","username"])?l.b.basicAuth:r.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},m=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},v=(e,t)=>{const{t:n}=Object(s.useTranslation)();switch(t){case l.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},b=e=>{const{t:t}=Object(s.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var i=n(5642);n.d(t,"e",(function(){return i.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return i(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(282);const r=e=>a.createElement(i.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,n){"use strict";var a=n(5625);n.d(t,"a",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var i=n(5589);n.d(t,"c",(function(){return i.d})),n.d(t,"d",(function(){return i.e})),n.d(t,"f",(function(){return i.g})),n.d(t,"g",(function(){return i.h})),n.d(t,"h",(function(){return i.k}));n(1400);var r=n(5671);n.d(t,"b",(function(){return r.a}));var o=n(5679);n.d(t,"j",(function(){return o.a}));var s=n(5680);n.d(t,"i",(function(){return s.a}));var l=n(5664);n.d(t,"l",(function(){return l.a}));n(5678);var c=n(5665);n.d(t,"e",(function(){return c.a}));var u=n(5672);n.d(t,"m",(function(){return u.a}))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var i=n(5628);n.d(t,"e",(function(){return i.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var o=n(5632);n.d(t,"a",(function(){return o.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(380),i=n(83),r=n(437),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const s="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),c=e=>o(void 0,void 0,void 0,(function*(){const t=yield i.consoleFetchJSON.post(s,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(501),i=n(838),r=n(2324),o=n(16),s=n(640),l=n(1256),c=n(0),u=n(137),d=n(7),p=n(320),m=n(966),v=n(19),b=n(14),g=n(8),h=n(5),f=n(118),y=n(10),k=n(5590),j=n(5600);const O=e=>{const{isCreate:t,modal:n,onCancel:O}=e,{t:E}=Object(d.useTranslation)(),S=Object(b.useNavigate)(),T=Object(b.useParams)(),P=a.a(e.obj,["metadata","type"]),C=Object(k.d)(e.secretTypeAbstraction),R=i.a({},e.fixed,P,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:C}),[w]=c.useState(e.secretTypeAbstraction),[N,x]=c.useState(R),[D,A]=c.useState(!1),[I,_]=c.useState(),[L,M]=c.useState(r.a(o.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[$,F]=c.useState({}),[U,B]=c.useState(!1),q=Object(k.g)(t,w),K=Object(k.f)(w),V=()=>S(`/k8s/ns/${T.ns}/core~v1~Secret`),G=e=>{M(Object.assign({},null==e?void 0:e.stringData)),F(Object.assign({},null==e?void 0:e.base64StringData))},H=e=>{_(e),A(!1)},W=e=>{const t=e.target.value,n=s.a(N);n.metadata.name=t,x(n)},z=n=>{n.preventDefault();const{metadata:a}=N;A(!0);const i=Object.assign(Object.assign({},r.a(L,e=>p.Base64.encode(e))),$),o=l.a({},N,{data:i},t?{type:Object(k.a)(L)}:{});(t?Object(g.jb)(y.SecretModel,o):Object(g.rb)(y.SecretModel,o,a.namespace,o.metadata.name)).then(t=>{A(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||S(Object(h.sc)(t,Object(g.Db)(t)))},e=>{_(e.message),A(!1)})},J=()=>{var n;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},E("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:W,value:null===(n=null==N?void 0:N.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},E("public~Unique name of the new secret."))))),c.createElement(j.a,{typeAbstraction:e.secretTypeAbstraction,onChange:G,onError:H,onFormDisable:e=>B(e),stringData:L,secretType:N.type,isCreate:t}))};return n?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:z},c.createElement(f.d,null,q),c.createElement(f.a,null,J()),c.createElement(f.c,{errorMessage:I||"",inProgress:D,submitText:E("public~Create"),cancel:O||V})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,q)),c.createElement(h.Z,{title:q,helpText:K}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:z},J(),c.createElement(h.g,{errorMessage:I,inProgress:D},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(v.a,{type:"submit","data-test":"save-changes",isDisabled:U,variant:"primary",id:"save-changes"},e.saveButtonText||E("public~Create")),c.createElement(v.a,{type:"button",variant:"secondary",id:"cancel",onClick:O||V},E("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f}));var a,i=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const o={[i.b.GITHUB]:"GitHub",[i.b.GITLAB]:"GitLab",[i.b.GITEA]:"Gitea",[i.b.BITBUCKET]:"Bitbucket",[i.b.UNSURE]:"Other"};var s,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(s||(s={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:r.DeploymentConfigModel.labelKey,[l.Kubernetes]:r.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[l.OpenShift]:r.DeploymentConfigModel.kind,[l.Kubernetes]:r.DeploymentModel.kind,[l.KnativeService]:"Service"};var v,b,g,h,f,y;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(v||(v={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(b||(b={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(h||(h={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(y||(y={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(869),r=n(5601),o=n(5604),s=n(5608),l=n(5609),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=c(e,["typeAbstraction"]);switch(t){case i.c.source:return a.createElement(r.a,Object.assign({},n));case i.c.image:return a.createElement(o.a,Object.assign({},n));case i.c.webhook:return a.createElement(s.a,Object.assign({},n));default:return a.createElement(l.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(7),r=n(5),o=n(869),s=n(5602),l=n(5603);class c extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:o.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[o.b.basicAuth]:e("public~Basic authentication"),[o.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===o.b.basicAuth?a.createElement(s.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(i.withTranslation)()(c)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const o=Object(i.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5593);const o=({onChange:e,stringData:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),i=n(0),r=n(7),o=n(5),s=n(5590),l=n(869),c=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[v,b]=i.useState("credentials"),{t:g}=Object(r.useTranslation)(),h=i.useMemo(()=>{var e;try{const t=Object(s.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=i.useCallback(t=>{a.a(t)||n(!1);const i=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[i]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),y={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return i.createElement(i.Fragment,null,m&&i.createElement("div",{className:"form-group"},i.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),i.createElement("div",{className:"co-create-secret__dropdown"},i.createElement(o.t,{items:y,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:v,onChange:b}))),"credentials"===v?i.createElement(c.a,{onChange:f,stringData:h}):i.createElement(u.a,{onChange:f,stringData:h,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(22),i=n(840),r=n(4434),o=n(57),s=n(16),l=n(4437),c=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),v=n(7),b=n(320),g=n(19),h=n(408),f=n(407),y=n(869),k=n(5606);class j extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[y.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[y.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:i.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(o.a(e,(e,n)=>{const r=b.Base64.decode(s.a(e,"auth","")),o=a.a(r)?l.a(Array(2),""):c.a(r,":");t.push({entry:{address:n,username:s.a(e,"username",o[0]),password:s.a(e,"password",o[1]),email:s.a(e,"email",""),auth:s.a(e,"auth","")},uid:s.a(e,"uid",i.a())})}),t)}imageSecretArrayToObject(e){const t={};return o.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[y.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],i={uid:a[t].uid,entry:e,auth:b.Base64.encode(`${e.username}:${e.password}`)};return a[t]=i,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:i}=null!=t?t:{},{address:r,email:o,password:s,username:l}=null!=i?i:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(g.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(h.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(k.a,{id:n,address:r,email:o,password:s,username:l,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const O=Object(v.withTranslation)()(j)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(320);const o=({id:e,address:t,email:n,password:o,username:s,onChange:l})=>{const{t:c}=Object(i.useTranslation)(),u=(a,i)=>{const c=s.trim(),u=o.trim(),d=s&&o?r.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:s,password:o,email:n,[a]:i},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:s,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:o,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),i=n(1973),r=n(1240),o=n(0),s=n(7),l=n(5593);class c extends o.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(i.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(i.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return o.createElement(o.Fragment,null,o.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&o.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(s.withTranslation)()(c)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5590);class o extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const s=Object(i.withTranslation)()(o)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(840),i=n(22),r=n(50),o=n(255),s=n(1256),l=n(4434),c=n(279),u=n(0),d=n(7),p=n(320),m=n(19),v=n(408),b=n(407),g=n(973),h=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return i.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=g.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return o.a(e,(e,t)=>{var n,a;return s.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(h.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const y=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5593);class o extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const s=Object(i.withTranslation)()(o)},5611:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(i||(i={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),i=n(5596),r=n(320),o=n(83),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:i,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:c}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),i=n(5707),r=(n(4360),n(83)),o=n(5597),s=n(5587),l=n(5592),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case s.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>c(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(o.c)(Object.assign({url:e,method:t||"GET",headers:Object(o.d)(r)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return s.d.Reachable}catch(e){switch(e.status){case 429:return s.d.RateLimitExceeded;case 403:return s.d.PrivateRepo;case 404:return s.d.ResourceNotFound;default:return s.d.InvalidGitTypeSelected}}return s.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>c(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},i={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},s=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(o.a,{url:s,method:"POST",headers:a,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),i=n(5708),r=n(29),o=n(320),s=n(83),l=n(5597),c=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return o.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const i=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},o={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield s.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${i}/hooks`,method:"POST",headers:r,body:JSON.stringify(o)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),i=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,i,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new i.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:i}=a(this.gitsource.url),r=(null==(o=this.gitsource.contextDir)?void 0:o.replace(/^\//,""))||"";var o;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:i,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),i=n(320),r=n(22),o=(n(4360),n(83)),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+i.Base64.encode(`${i.Base64.decode(e)}:${i.Base64.decode(t)}`)}}return{Authorization:"token "+i.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(s.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(s.d)(r)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:i,full_name:r}=a(this.gitsource.url),o=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+i,defaultBranch:this.gitsource.ref,fullName:r,contextDir:o,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},i=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:i,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],o=e=>i(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>i(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return h}));var a,i=n(29),r=n(16),o=n(240),s=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const l=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const i=n.find(e=>"Succeeded"===e.type),o=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!o)return s.a.Cancelling;if(!i||!i.status)return null;const l="True"===i.status?s.a.Succeeded:"False"===i.status?s.a.Failed:s.a.Running;if(i.reason&&i.reason!==l)switch(i.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return s.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return s.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return s.a.Pending;case a.ConditionCheckFailed:return s.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case s.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case s.a.Failed:return i.a.t("pipelines-plugin~Failed");case s.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case s.a.Pending:return i.a.t("pipelines-plugin~Pending");case s.a.Running:return i.a.t("pipelines-plugin~Running");case s.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case s.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||s.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>l(e)||s.a.Other,v=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},g=e=>l(e)||s.a.Other,h=e=>c(e)||"-"},5618:function(e,t,n){"use strict";var a=n(0),i=n(297),r=n(18),o=n.n(r);n(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:n,children:r,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>a.createElement("div",{className:o()("pf-v5-c-form",{"co-m-pane__form":!n,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&a.createElement("h2",{className:"odc-form-section__heading"},e),t&&a.createElement(i.a,null,t),r)},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return C}));var a=n(4413),i=n(689),r=n(5),o=n(5620),s=n(2221),l=n(5624),c=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,v=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),b=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:i.string().required("Required")})}),g=e=>i.object().shape({replicas:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),h=i.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),f=e=>i.object().when("resources",{is:c.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),k=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),j=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),O=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),E=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),S=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),T=i.object().shape({strategy:i.string()}),P=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),C=i.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===c.a.PIPELINES)&&n!==o.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"s",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"k",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return E})),n.d(t,"r",(function(){return S}));var a=n(5654);const i=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},b={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},k={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},j={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},O={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},E={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},S={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"p",(function(){return P})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return N})),n.d(t,"o",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"v",(function(){return A})),n.d(t,"B",(function(){return I})),n.d(t,"d",(function(){return _})),n.d(t,"s",(function(){return M})),n.d(t,"w",(function(){return $})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return U})),n.d(t,"t",(function(){return B})),n.d(t,"g",(function(){return q})),n.d(t,"x",(function(){return K})),n.d(t,"y",(function(){return V})),n.d(t,"z",(function(){return G})),n.d(t,"r",(function(){return J})),n.d(t,"u",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"A",(function(){return Q})),n.d(t,"n",(function(){return ee}));var a=n(321),i=n(29),r=n(1557),o=n(117),s=n(16),l=n(22),c=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),v=n(5588),b=n(5650),g=n(5586),h=n(5595),f=n(5635),y=n(5617);const k=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,j=e=>e.runAfter&&e.runAfter.length>0;var O;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(O||(O={}));const E={[O.Running]:i.a.t("pipelines-plugin~Running"),[O.Failed]:i.a.t("pipelines-plugin~Failed"),[O.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[O.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[O.Other]:i.a.t("pipelines-plugin~Other")};var S;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(S||(S={}));S.Git,S.PullRequest,S.Image,S.Cluster,S.Storage,S.CloudEvent;const T=(e,t,n,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===y.a.PipelineRunCancelled?r.a(e,{status:{reason:h.a.Cancelled}}):t.spec.status===y.a.PipelineRunPending?r.a(e,{status:{reason:h.a.Idle}}):r.a(e,{status:{reason:h.a.Failed}});const l=o.a(n,t=>t.metadata.labels[v.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=r.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?s.a(o.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(y.d)(u)||h.a.Pending:u.status&&!u.status.reason&&(u.status.reason=h.a.Pending):u.status={reason:h.a.Pending},u}),P=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const i=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||l.a(e.spec.tasks))return i;const r=T(e,t,n);return r.forEach(e=>{k(e)||j(e)||(0===i.length&&i.push([]),i[0].push(e))}),r.forEach(e=>{var t;if(!j(e)&&k(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):i.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(j(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):i.splice(n+1,0,[e])}}),i},C=(e,t,n)=>T(e,t,n,!0),R=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!l.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},w=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};let n=Object(y.c)(t);return"-"===n&&(n=h.a.Pending),{latestPipelineRun:t,status:n}},N=e=>e&&e.map(e=>({name:e.name,value:e.default})),x=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),D=(e,t,n)=>{const a=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(b.g)(i,n)},A=e=>{var t,n,a,i;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,o=null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==i?i:null;return!r||!o&&"Running"!==Object(y.d)(e)?"-":D(r,o,!0)},I=(e,t,n)=>{const a=c.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},_=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,v.l,t).then(t=>{void 0===o.a(t.secrets,t=>t.name===e.metadata.name)&&I(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},L=(e,t)=>e===v.p.Git?`tekton.dev/${v.p.Git}-${t}`:e===v.p.Image?`tekton.dev/${v.p.Image}-${t}`:null,M=(e,t={})=>{let n=0,a=L(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=L(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},$=e=>{switch(e.kind){case g.PipelineModel.kind:case g.TaskModel.kind:case g.EventListenerModel.kind:return"";case g.PipelineRunModel.kind:return"pipeline-runs";case g.PipelineResourceModel.kind:return"pipeline-resources";case g.ConditionModel.kind:return"conditions";case g.TaskRunModel.kind:return"task-runs";case g.ClusterTaskModel.kind:return"cluster-tasks";case g.TriggerTemplateModel.kind:return"trigger-templates";case g.TriggerBindingModel.kind:return"trigger-bindings";case g.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case g.RepositoryModel.kind:return"repositories";default:return null}},F=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),U=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),B=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),q=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),K=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineModelV1Beta1:g.PipelineModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineRunModelV1Beta1:g.PipelineRunModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?g.TaskModelV1Beta1:g.TaskModel;var H,W,z;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(H||(H={})),function(e){e.EXTERNAL_LINK="external-link"}(W||(W={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(z||(z={}));const J=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.KEY])===z.SBOM}),Y=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[H.TYPE])===W.EXTERNAL_LINK},X=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===z.SBOM))||void 0===i?void 0:i.value},Z=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===z.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},Q=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return h.a.Pending;return Object(y.d)(e)},ee=e=>{var t,n,a;const i=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),o={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);o[t.trim()]=Number(n.trim())});const s=((null==o?void 0:o.Completed)||0)-((null==o?void 0:o.Failed)||0)-((null==o?void 0:o.Cancelled)||0);return{Running:(null==o?void 0:o.Incomplete)||0,Succeeded:s||0,Cancelled:(null==o?void 0:o.Cancelled)||0,Failed:(null==o?void 0:o.Failed)||0,Skipped:(null==o?void 0:o.Skipped)||0,Completed:(null==o?void 0:o.Completed)||0,Cancelling:(null==o?void 0:o.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return P}));var a=n(29),i=n(22),r=n(16),o=n(57),s=n(640),l=n(5649),c=n(5),u=n(10),d=n(8),p=n(76),m=n(870),v=n(5586),b=n(5623),g=n(15),h=n(2221),f=n(1400),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const k=(e,t=e)=>{switch(t){case h.z:case h.b:return"";default:return e}},j=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:i.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},O=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const i=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),s=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[j(e,t,n)];if(!i)return Promise.all(l);return s&&({"app.kubernetes.io/instance":i}["app.kubernetes.io/part-of"]=s),Object(f.e)(t.metadata.namespace,i,{"app.kubernetes.io/part-of":s}).then(e=>(o.a(e,e=>{o.a(e,e=>{!s&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(j(Object(d.vb)(e.kind),e,n))})}),Promise.all(l)))},E=(e,t={},n)=>y(void 0,void 0,void 0,(function*(){var a,i;try{if(n){const n=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),S=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),T=(e,t)=>y(void 0,void 0,void 0,(function*(){var n,a;const i=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(l.c)(i["app.openshift.io/vcs-uri"]),o=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let s;if((null==t?void 0:t.length)>0)s=null==t?void 0:t.reduce((t,n)=>{var a,i;return[...t,...(null!==(i=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==i?i:[]).reduce((t,n)=>{var a,i;let s;const l=n.generic?"generic":r,c=n.generic||n[r];if(c){const t=null!==(i=null===(a=c.secretReference)||void 0===a?void 0:a.name)&&void 0!==i?i:`${e.metadata.name}-${l}-webhook-secret`;s=o.find(e=>e.metadata.name===t)}return s?[...t,S(u.SecretModel,s)]:t},[])]},[]);else{const t=o.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=o.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);s=[S(u.SecretModel,t),S(u.SecretModel,n)]}return s})),P=e=>y(void 0,void 0,void 0,(function*(){const t=[],n=yield E(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield E(u.BuildModel,{ns:e.metadata.namespace}),r=yield E(v.PipelineModel,{ns:e.metadata.namespace},!0),o=yield E(v.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield E(v.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),h=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},y=Object(g.Gc)(e,f),k=!i.a(y),j=Object(b.l)(e,r);let O=[],P=[];const C=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],R=[p.p,u.ImageStreamModel];i.a(j)||(C.push(v.PipelineModel),R.push(v.PipelineModel),O=Object(b.t)(j,o),P=Object(b.g)(O,l));const w=s.a(e),N=(e,n)=>{const a=S(e,n);a&&t.push(a)};k&&y.forEach(e=>{N(u.BuildConfigModel,e)});const x=(e,t)=>{e.forEach(e=>N(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&N(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&N(h,e),O.length>0&&O.forEach(e=>N(v.TriggerTemplateModel,e)),P.length>0&&P.forEach(e=>N(v.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:N(h,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:N(h,e),x(C,e);break;case p.p.kind:x(R,w);break;case p.b.kind:case p.k.kind:N(h,e)}return k&&t.push(...yield T(e,y)),j&&t.push(...yield T(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5587),i=n(5611),r=n(5616),o=n(5661),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:i.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:i.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:i.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:i.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],c=(e,t,n=!1)=>s(void 0,void 0,void 0,(function*(){let e,r=[],c=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(o.b)(n,t),r=yield Promise.all(l.map(e=>s(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(r=r.filter(e=>e.type!==i.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"r",(function(){return j}));var a=n(2221);const i="event-source",r="event-sink",o="kafka-sink",s="event-source-kafka",l="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",v="revision-traffic",b="knative-revision",g="sink-uri",h=a.h,f=100,y=[a.c,a.c,a.c+10,a.c],k=6,j="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return C})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return w}));var a=n(5699),i=n(1403),r=n(5692),o=n(5691),s=n(5654),l=n(2225),c=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),v=n(5617);const b=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(v.c)(n),n},g=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=b(n,"creationTimestamp"),e}),h=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:s.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:o.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},f=e=>{var t,n,a,i,r;const o=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),s=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return o&&s?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:o,namespace:e.metadata.namespace},spec:s}:null},y=(e,t,n)=>{var a,i,r,o,s;const l=(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==i?i:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=c().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||n){c().forEach(t=>{const a=Object(v.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(v.c)(e)===m.a.Cancelled,i=l>=u?l-u-d:l;t||a?p[m.a.Cancelled]+=i:p[m.a.Pending]+=i}else"False"===(null===(s=null===(o=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===o?void 0:o[0])||void 0===s?void 0:s.status)||(null==e?void 0:e.spec.status)===v.a.PipelineRunCancelled?p[m.a.Cancelled]=l:(null==e?void 0:e.spec.status)===v.a.PipelineRunPending?p[m.a.Pending]+=l:p[m.a.PipelineNotStarted]++;return p},k=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,j=e=>(k(e)||p.TaskModel).kind,O=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,E=e=>(O(e)||p.TriggerBindingModel).kind,S=e=>{const t=k(e);return Object(u.Hb)(t)},T=(e,t)=>{const n=t&&y(e,void 0,t);return null==n?void 0:n.Running},P=(e,t)=>!(e&&(T(e,t)>0||Object(v.c)(e)===m.a.Running)),C=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(v.c)(e)===m.a.Running)),R=(e,t)=>!(e&&T(e,t)>0&&Object(v.c)(e)!==m.a.Cancelled),w=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(v.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),i=n(0),r=n(7),o=n(14),s=n(5),l=n(869),c=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends i.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return i.createElement(s.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return i.createElement(s.wb,Object.assign({},e),i.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(o.useParams)(),{t:n}=Object(r.useTranslation)();return i.createElement(s.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},i.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(14),r=n(5598);const o=()=>{const e=Object(i.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},i={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},o={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},s={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,i,a,s,l,d,c,u,o],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5587);function i(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4359),i=n(5587),r=n(5613),o=n(5615),s=n(5612),l=n(5614);function c(e,t,n,c,u,d,p){let m,v;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=i.e.BASIC_AUTH,v=u.data;break;case a.SecretType.sshAuth:m=i.e.SSH,v=u["ssh-privatekey"];break;default:m=i.e.NO_AUTH}const b={url:e,ref:n,contextDir:c,secretType:m,secretContent:v,devfilePath:d,dockerfilePath:p};switch(t){case i.b.GITHUB:return new s.a(b);case i.b.BITBUCKET:return new r.a(b);case i.b.GITLAB:return new l.a(b);case i.b.GITEA:return new o.a(b);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5709);class i{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"d",(function(){return P}));var a=n(29),i=n(16),r=n(57),o=n(117),s=n(367),l=n(1401),c=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),v=n(1400),b=n(5589);const g=(e,t)=>{var n,a,i,r,o,s,l,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(i=null==e?void 0:e.buildConfigs)||void 0===i?void 0:i.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(s=null===(o=null==e?void 0:e.pipelines)||void 0===o?void 0:o.data)||void 0===s?void 0:s.find(e=>e.metadata.name===t);if(m){const e=null===(c=null===(l=null==m?void 0:m.spec)||void 0===l?void 0:l.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},h=(e,t,n,a,r=!1,o)=>{const{monitoringAlerts:s=[]}=t,c=i.a(e,"metadata.uid"),m=i.a(e,"metadata.labels",{}),v=i.a(e,"metadata.annotations",{}),b=i.a(e,"metadata.name",""),h=g(o,b),f=Object(l.d)("icon-"+m["app.openshift.io/runtime"])||Object(l.d)("icon-"+m["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:s,kind:Object(u.Db)(e),editURL:v["app.openshift.io/edit-url"],vcsURI:v["app.openshift.io/vcs-uri"],vcsRef:v["app.openshift.io/vcs-ref"],contextDir:h,builderImage:f||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},f=(e,t,n,a,i,r,o)=>{var s;const l=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(s=null==e?void 0:e.metadata.labels)||void 0===s?void 0:s["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:l,type:t,label:d||c,shape:o,resource:e,resourceKind:p,data:n},i&&i.length&&{children:i}),a||{})},y={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},k=(e,t)=>{const n=i.a(e,"metadata.annotations"),s=[];return r.a(Object(v.d)(n),n=>{const r=i.a(o.a(t,e=>{var t,a,i,r,o;let s;if("string"==typeof n)return s=null!==(i=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==i?i:null===(r=e.metadata)||void 0===r?void 0:r.name,s===n;s=null===(o=e.metadata)||void 0===o?void 0:o.name;const{apiVersion:l,kind:c,name:u}=n,{kind:d,apiVersion:p}=e;let m=s===u&&d===c;return p&&(m=m&&p===l),m}),["metadata","uid"]),l=i.a(e,["metadata","uid"]);r&&s.push({id:`${l}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:l,target:r})}),s},j=e=>{const t=i.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[i.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},O=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,i,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(i=t.data)||void 0===i?void 0:i.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},E=(e,t)=>{e&&e.length&&e.forEach(e=>{O(e,t)})},S=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:i}=e;return!i||!!n.find(e=>e(i,t))}))),E(e.nodes.filter(e=>e.group),t.nodes))},T=(e,t,n=b.a)=>s.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let i,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),i=Object(u.o)(a)),Object.assign({kind:r,apiVersion:i},e)}):[])),P=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,i,r,o=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const s={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:o.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[o.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[o.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var a=n(2338),i=n(689),r=n(5591),o=n(5653),s=n(15),l=n(5655),c=n(5621);const u=e=>i.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(o.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(s.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},v=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return S}));var a,i,r=n(321),o=n(29),s=n(550),l=n(50),c=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),v=n(158),b=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const g=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[b.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:s.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[b.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[b.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),h=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>v.b.format(e),y=(e,t,n)=>{const{metric:a,values:i}=e,r=l.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),o=Number(c.a(r,"[0].x")),s=Number(c.a(u.a(r),"x")),p=n/t;return d.a(o,s,p).forEach((e,t)=>{const n=new Date(e);c.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},k=(e,t,n)=>{var a;const i=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==i?void 0:i.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,i])=>{var r,o;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(o=null==n?void 0:n(i))&&void 0!==o?o:parseFloat(i),metric:null==e?void 0:e.metric,time:a}})})},j=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<a;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,a)},O=(e,t)=>{if(0===e)return o.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,i=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(i=Math.floor(a/60),a%=60),i>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} hour",{count:i}):o.a.t("pipelines-plugin~{{hr}}h",{hr:i}),r+=" "),a>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} minute",{count:a}):o.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} second",{count:n}):o.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},E=()=>({"1d":o.a.t("pipelines-plugin~1 day"),"3d":o.a.t("pipelines-plugin~3 days"),"1w":o.a.t("pipelines-plugin~1 week"),"2w":o.a.t("pipelines-plugin~2 weeks"),"3w":o.a.t("pipelines-plugin~3 weeks"),"4w":o.a.t("pipelines-plugin~4 weeks")}),S=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),i=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},o=/ *\([^)]*\) */g,s=e=>e.replace(o,""),l=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:o,name:s}=e.spec.ref;return Object(a.n)(i.l)===r&&o===i.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(o).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,i;const r=null==t?void 0:t.find(t=>t.metadata.name===s(e));return r&&(null===(i=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===i?void 0:i.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),i=n(8),r=n(5663);class o extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(i.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=o},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"d",(function(){return w}));var a=n(5596),i=n(320),r=n(2338),o=n(689),s=n(5621),l=n(5624),c=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),v=n(5586),b=n(5620),g=n(5656),h=n(5588),f=n(5648),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const k={dryRun:"All"},j=e=>o.object().shape({name:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:o.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:o.string(),webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),O=e=>o.object().shape({webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),E=e=>o.object().shape({repository:o.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===b.a.PAC&&t,then:O(e)})}),S=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),T=e=>s.f.test(e)?S(e,"github.com")?u.b.GITHUB:S(e,"bitbucket.org")?u.b.BITBUCKET:S(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,P=(e,t,n={},r)=>y(void 0,void 0,void 0,(function*(){var o,s,l;const{name:m,gitUrl:b,webhook:{secretObj:g,method:h,token:j,secret:O,user:E}}=e,S=i.Base64.encode(O),P=T(b);let C;j&&"token"===h?C=yield((e,t,n,a,r,o,s)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},o&&{"webhook.secret":o}),r===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${n}`)})};return Object(c.g)({model:p.SecretModel,data:l,ns:a,queryParams:s?k:{}})})))(m,E,j,t,P,O,r):"secret"===h&&g&&(null===(o=null==g?void 0:g.data)||void 0===o?void 0:o["webhook.secret"])!==S&&(yield Object(c.p)({model:p.SecretModel,resource:g,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(O)}]}));const R=a(b).source,w=C||g,N={kind:v.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:b},w||"github.com"!==R?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(R)?{}:{url:R}),"bitbucket.org"===R?{user:E}:{}),w?{secret:{name:null===(s=null==w?void 0:w.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==w?void 0:w.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:v.RepositoryModel,data:N,ns:t,queryParams:r?k:{}})})),C=(e,t,n)=>y(void 0,void 0,void 0,(function*(){var a,r,o;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:p,secretObj:m,user:v}}=e,b=T(s),g=Object(u.e)(s,b);let h,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),h=b===u.b.BITBUCKET?"token"===l?i.Base64.encode(`${v}:${c}`):i.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===l?c:i.Base64.decode(null===(o=null==m?void 0:m.data)||void 0===o?void 0:o["provider.token"]);return yield g.createRepoWebhook(h,p,f,d)})),R=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},w=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:h.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:h.g,name:g.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(689);const i=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),o=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",o="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s}));const a=e=>"Topology/ComponentFactory"===e.type,i=e=>"Topology/DataModelFactory"===e.type,r=e=>"Topology/CreateConnector"===e.type,o=e=>"Topology/DisplayFilters"===e.type,s=e=>"Topology/Decorator"===e.type},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(2221);const i="operator-backed-service",r=a.h,o=a.f,s=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(447),i=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const o=yield e.getFuncYamlContent();try{const e=a.a(o)?Object(i.c)(o):o,s=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:s,runtime:c,builderEnvs:l,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),s=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(i.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5662:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(0),i=n(5619),r=n(5589),o=n(5647),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class l{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const n=this.extensions[t].resources(this.namespace);Object.keys(n).forEach(t=>{e[t]||(e[t]=n[t])})}return e},Object(o.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,n=Object.keys(t).reduce((e,n)=>(e[n]=t[n].kind,e),{});return Object(o.i)(e,n,this.workloadKeys)},this.getExtensionModels=e=>s(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},n=this.dataModelGetters;if(!(null==n?void 0:n.length))return Promise.resolve(t);const a=this.dataModelDepicters,i=this.getWorkloadResources(e),r=n.map(t=>{try{return t(this.namespace,e,i)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(r).then(e=>{e.forEach(e=>{if(e)try{Object(o.b)(e,t,a)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(n=>{try{n(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(i.p)(this,{namespace:i.q,model:i.q.ref,loaded:i.q,loadError:i.q,extensionsLoaded:i.q,watchedResources:i.q.ref,isEmptyModel:i.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...r.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,n;return 0===(null!==(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}}const c=Object(a.createContext)(null)},5663:function(e,t,n){"use strict";var a=n(5585),i=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class o extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(i.p)(this,{anchors:i.q.shallow,dimensions:i.q.ref,dimensionsInitialized:i.q,position:i.q.ref,nodes:i.i,group:i.q,collapsed:i.q,labelPosition:i.q,shape:i.q,status:i.q,groupBounds:i.i,sourceEdges:i.i,targetEdges:i.i,setDimensions:i.f,setBounds:i.f,setPosition:i.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:i,y:r}=this.position;e.x===i&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,i=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),o=new a.Point(r.x+n,r.y+i);t.setPosition(o)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=o},5664:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(31);const i=()=>Object(a.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5);const i=(e,t)=>{const n=t.current?t.current.pods:t.pods;let i=0,r=0;const o=[],s=[];return(null==n?void 0:n.length)&&n.forEach(({metadata:{name:t}})=>{var n,l;const c=null===(n=null==e?void 0:e.memory)||void 0===n?void 0:n[t];if(Number.isFinite(c)){i+=c;const e=Object(a.Ob)(c)+" MiB";o.push({name:t,value:c,formattedValue:e})}const u=null===(l=null==e?void 0:e.cpu)||void 0===l?void 0:l[t];if(Number.isFinite(u)){r+=u,s[t]=Object(a.Pb)(u)+" cores";const e=Object(a.Pb)(u)+" cores";s.push({name:t,value:u,formattedValue:e})}}),{totalBytes:i,totalCores:r,memoryByPod:o,cpuByPod:s}}},5669:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return v}));const a="OPENSHIFT_PIPELINE",i="OPENSHIFT_PIPELINE_AS_CODE",r="OPENSHIFT_PIPELINE_CONDITION",o="openshift",s="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",m="resource.deleted.in.k8s",v="resource.loaded.from.tektonResults"},5671:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5589);const i=(e,t,n=null)=>Object(a.b)(Object(a.g)(e),Object(a.g)(t),n?Object(a.g)(n):null)},5672:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),i=n(5668),r=n(5),o=n(8),s=n(5589);const l=e=>t=>{const n=n=>{const i=Object(s.g)(n.element),l=Object(o.vb)(Object(o.Db)(i)),c=Object(r.Dc)({group:l.apiGroup,verb:e,resource:l.plural,name:i.metadata.name,namespace:i.metadata.namespace});return a.createElement(t,Object.assign({},n,{canEdit:c}))};return n.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(i.a)(n)}},5673:function(e,t,n){"use strict";n.d(t,"m",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"p",(function(){return k})),n.d(t,"o",(function(){return j})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"l",(function(){return P})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"c",(function(){return w}));var a=n(255),i=n(745),r=n(117),o=n(384),s=n(1533),l=n(70),c=n(22),u=n(283),d=n(1401),p=n(4362),m=n(10);const v=["app.kubernetes.io/name","app.openshift.io/runtime"],b=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==n?n:""},g=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==n?n:""},h=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==n?n:""},f=e=>{var t,n,r,o,s,l;return(e=>a.a(e,(e,t,n)=>{const a=n.split("/");1===a.length&&a.push("tcp");const r=parseInt(a[0],10);return i.a(r)?e.push({containerPort:r,protocol:a[1].toUpperCase()}):console.warn("Unrecognized image port format",n),e},[]))((null===(r=null===(n=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===n?void 0:n.Config)||void 0===r?void 0:r.ExposedPorts)||(null===(l=null===(s=null===(o=null==e?void 0:e.image)||void 0===o?void 0:o.dockerImageMetadata)||void 0===s?void 0:s.ContainerConfig)||void 0===l?void 0:l.ExposedPorts))},y=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),k=e=>e.replace(/(-|^)([^-]?)/g,(e,t,n)=>(t&&" ")+n.toUpperCase()),j=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(p.isBuilder)(e)).reduce((e,t)=>{var n,a,i;const r=Object(p.getBuilderTagsSortedByVersion)(t),o=Object(p.getMostRecentBuilderTag)(t),{name:s}=t.metadata,l=null===(a=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.annotations)||void 0===a?void 0:a["openshift.io/display-name"],c=null===(i=null==o?void 0:o.annotations)||void 0===i?void 0:i.description,u=t.metadata.namespace,m=l&&l.length<14?l:k(s),v=Object(d.e)(o),b=Object(d.d)(v);return e[s]={obj:t,name:s,displayName:l,description:c,title:m,iconUrl:b,tags:r,recentTag:o,imageStreamNamespace:u},e},{}),O=(e,t,n)=>{var a,i;const o=r.a(e,{name:t});return[o,null!==(i=null===(a=null==o?void 0:o.annotations)||void 0===a?void 0:a["openshift.io/display-name"])&&void 0!==i?i:n]},E=e=>{if(!e)return;const t=o.a(e.split("/"));return s.a(t.split(/[^a-z0-9-]/))};var S,T;!function(e){e.External="external",e.Internal="internal"}(S||(S={})),function(e){e.Openshift="openshift"}(T||(T={}));const P=e=>({External:{value:S.External,label:e("devconsole~Image name from external registry")},Internal:{value:S.Internal,label:e("devconsole~Image stream tag from internal registry")}}),C=e=>(e&&!c.a(e)?(e=>l.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const n=u.coerce(e),a=u.coerce(t);return n||a?n?a?u.rcompare(n,a):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),R=()=>[{isList:!0,kind:m.ProjectModel.kind,prop:m.ProjectModel.id}],w=e=>{const t=[];return e&&t.push({isList:!0,kind:m.ImageStreamModel.kind,prop:m.ImageStreamModel.id,namespace:e}),t}},5678:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),i=n(22),r=n(15),o=n(5665),s=n(5664);const l=e=>{const t=Object(s.a)(),{podData:n,loaded:l}=Object(r.Se)(e,e.kind,e.metadata.namespace);return a.useMemo(()=>i.a(t)||!l?null:Object(o.a)(t,n),[l,t,n])}},5679:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),i=n(7),r=n(131),o=n(15),s=n(5589);const l=e=>Object(r.n)({title:a.createElement(a.Fragment,null,a.createElement(o.tc,{className:"co-icon-space-r"})," ",a.createElement(i.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(s.l)(e).catch(e=>{e&&Object(r.s)({error:e.message})})})},5680:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(131),o=n(5589);const s=(e,t)=>{const n=e.getParent()!==e.getGraph()?e.getParent():void 0;if(n===t)return Promise.reject();if(n){const s=t?"topology~Move component node":"topology~Remove component node from application",l=e.getLabel(),c=n.getLabel(),u=null==t?void 0:t.getLabel(),d=t?a.createElement(i.Trans,{ns:"topology"},"Are you sure you want to move ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c}," to"," ",{targetLabel:u},"?"):a.createElement(i.Trans,{ns:"topology"},"Are you sure you want to remove ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c},"?"),p=t?"topology~Move":"topology~Remove";return new Promise((n,a)=>{Object(r.n)({titleKey:s,message:d,btnTextKey:p,close:()=>{a()},cancel:()=>{a()},executeFn:()=>Object(o.m)(e,t?t.getLabel():null).then(n).catch(e=>{const t=e.message;Object(r.s)({error:t}),a(e)})})})}return Object(o.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(r.s)({error:t})})}},5684:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(8),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=(e,t,n,o)=>{const[s,l]=a.useState(),[c,u]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{r(void 0,void 0,void 0,(function*(){try{p(null),u(!1),l(null);const a=yield Object(i.kb)(e,t,n,o);l(a)}catch(e){p(e)}finally{u(!0)}}))},[e,t,n,o]),[s,c,d]}},5687:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"e",(function(){return j}));var a=n(225),i=n(16),r=n(499),o=n(1557),s=n(53),l=n(15),c=n(5669),u=n(5586),d=n(5623),p=n(5588),m=n(5725);const v=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},b=(e=null,t,n)=>{var m,b,g,h,f,y;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const k=((e,t)=>{var n,a,i;return e?e.metadata.name:t?null!==(a=null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)&&void 0!==a?a:(null===(i=t.metadata.annotations)||void 0===i?void 0:i[p.z])||t.metadata.name:null})(e,t),j=null==t?void 0:t.spec.workspaces,O=null==t?void 0:t.spec.params,E=null==e?void 0:e.spec.params,S=O||Object(d.m)(E),T=o.a({},null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations,null===(b=null==t?void 0:t.metadata)||void 0===b?void 0:b.annotations,{[p.q.user]:Object(s.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(g=null==t?void 0:t.metadata.annotations)||void 0===g?void 0:g[p.z])&&{[p.z]:k});delete T["kubectl.kubernetes.io/last-applied-configuration"],delete T["tekton.dev/v1beta1TaskRuns"],delete T["results.tekton.dev/log"],delete T["results.tekton.dev/record"],delete T["results.tekton.dev/result"],delete T[c.c],delete T[c.l];return(e=>{let t=e;if(a.a(t,"spec.serviceAccount")){const e=i.a(t,"spec.serviceAccount");t=r.a(t,["spec.serviceAccount"]),t=o.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==n?void 0:n.generateName)?{generateName:k+"-"}:{name:void 0!==(null===(h=null==t?void 0:t.metadata)||void 0===h?void 0:h.name)?`${v(t)}${Object(l.wd)()}`:`${k}-${Object(l.wd)()}`}),{annotations:T,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:o.a({},null===(f=null==e?void 0:e.metadata)||void 0===f?void 0:f.labels,null===(y=null==t?void 0:t.metadata)||void 0===y?void 0:y.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":k})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:k}}),S&&{params:S}),{workspaces:j,status:null})})},g=e=>({volumeClaimTemplate:{metadata:{labels:{[p.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),h=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[p.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),f=e=>t=>{let n={type:p.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(n={type:p.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(n={type:p.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),n)},y=(e,t=!1,n="")=>{const{metadata:{namespace:a},spec:{params:i,resources:r}}=e;return{namespace:a,parameters:(i||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(r||[]).map(e=>({name:e.name,selection:t?m.a:"",data:Object.assign(Object.assign({},m.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(f(n))}},k=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),j=(e,t,n,a,i)=>{const{parameters:r,workspaces:o}=t,s={metadata:{annotations:a,labels:n},spec:{pipelineRef:{name:e.metadata.name},params:r.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(o)}};return b(e,s,i)}},5695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,i=n(0),r=n(18),o=n(1946),s=n(5727);n(5728);!function(e){e.light="light",e.default="default"}(a||(a={}));t.b=({children:e,disabled:t,onNamespaceChange:n,hideProjects:l=!1,hideApplications:c=!1,variant:u=a.default,toolbar:d})=>i.createElement("div",{className:"odc-namespaced-page"},i.createElement(o.NamespaceBar,{isDisabled:t,onNamespaceChange:n,hideProjects:l},!c&&i.createElement(s.a,{disabled:t}),d&&i.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),i.createElement("div",{className:r("odc-namespaced-page__content",{["is-"+u]:u!==a.default})},e))},5704:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(13),o=n(5),s=n(69),l=n(15),c=n(5710),u=n(5647),d=n(5720),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var{namespace:t}=e,n=p(e,["namespace"]);const{t:m}=Object(i.useTranslation)(),v=Object(s.z)(d.a),b=Object(s.z)(r.Zb),g=a.useMemo(()=>Object(c.b)(b),[b]),h=a.useMemo(()=>{let e=Object(u.d)(t);return[...v,...g].forEach(n=>{var a,i;const r=null===(i=(a=n.properties).resources)||void 0===i?void 0:i.call(a,t);r&&(e=Object.assign(Object.assign({},r),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[g,v,t]);return a.createElement(o.C,{resources:h},a.createElement(l.Nb,Object.assign({},n,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5705:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return j}));var a=n(0),i=n(283),r=n(13),o=n(77),s=n(519),l=n(15),c=n(5586),u=n(5588),d=n(5650),p=n(5899),m=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const v=e=>m(void 0,void 0,void 0,(function*(){const t=(yield Object(o.l)(s.a,{ns:e})).filter(e=>{var t,n,a,i,r;return((null===(n=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===n?void 0:n.startsWith("openshift-pipelines-operator"))||(null===(i=null===(a=e.metadata)||void 0===a?void 0:a.name)||void 0===i?void 0:i.startsWith("redhat-openshift-pipelines")))&&(null===(r=e.status)||void 0===r?void 0:r.phase)===s.b.CSVPhaseSucceeded}).map(e=>Object(i.parse)(e.spec.version)).filter(Boolean);return t.sort(i.compare),t.length>0?t[t.length-1]:null})),b=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{v(e).then(n).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},g=e=>!!e&&Object(i.gte)(e.version,u.i),h=e=>!!e&&Object(i.gte)(e.version,u.s),f=e=>{const t=b(e),[n]=Object(p.b)(),[a]=Object(r.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var o;return{metricsLevel:!!(o=t)&&Object(i.gt)(o.version,u.m)?Object(p.a)(n):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!g(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:a}},y=e=>{const[t]=Object(l.ue)(),n=b(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=11;e(u.f,a)},k=e=>{const[t]=Object(l.ue)(),n=b(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=16;e(u.d,a)},j=e=>{const[t]=Object(l.ue)(),n=b(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=17;e(u.e,a)}},5710:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(0),i=n(13),r=n(8),o=n(69),s=n(5657),l=n(5714),c=n(5662),u=n(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((n,[a,i])=>{const o=((e,t,n,a,i={})=>{if(!a)return Object.assign({namespace:e},i);if(a.version){const t=Object(r.Fb)(a);return Object.assign({namespace:e,kind:t},i)}const o=Object(r.wb)(a.group,a.kind);if(!o)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${a.group}" and kind "${a.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${n}" will not be loaded and ignored in the topology view for now:`,t,n,a,i),null;const s=Object(r.Hb)(o);return Object.assign({namespace:e,kind:s},i)})(t,e,a,null==i?void 0:i.model,null==i?void 0:i.opts);return o&&(n[a]=o),n},{})})}));t.a=({namespace:e,children:t})=>{const[n,r]=a.useState(new c.a(e));a.useEffect(()=>{r(new c.a(e))},[e]);const p=Object(o.z)(s.c),m=Object(o.z)(i.Zb),v=a.useMemo(()=>d(m),[m]);return a.createElement(c.b.Provider,{value:n},e&&a.createElement(a.Fragment,null,[...v,...p].map(e=>a.createElement(l.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&a.createElement(u.a,null),t)}},5711:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return f}));var a=n(499),i=n(22),r=n(1557),o=n(655),s=n(255),l=n(15),c=n(2221),u=n(5599);const d=({name:e,applicationName:t,imageStreamName:n,runtimeIcon:a,selectedTag:i,namespace:r})=>{const o=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},n&&{"app.openshift.io/runtime":n});return a&&(o["app.openshift.io/runtime"]=a),t&&t.trim().length>0&&(o["app.kubernetes.io/part-of"]=t),i&&(o["app.openshift.io/runtime-version"]=i),r&&(o["app.openshift.io/runtime-namespace"]=r),o},p=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),m=()=>({[c.n]:"false"}),v=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),b=(e,t,n,a,i="latest")=>({[l.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${i}`,namespace:n},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!a}])}),g=(e,t)=>{const n=u.l[e];return n?{app:t,[n.toLowerCase()]:t}:{app:t}},h=(e,t)=>{var n,s,l,c,u,d,p,m,v,b,g,h,f,y,k,j,O,E,S,T,P,C,R,w,N,x,D,A,I;if(i.a(e))return t;const _=r.a({},e||{},t),L=null===(s=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.annotations)||void 0===s?void 0:s.isFromDevfile;var M;if(_.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),L?null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.labels:{}),_.metadata.annotations&&(_.metadata.annotations=Object.assign(Object.assign({},L?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations:(M=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,a.a(M,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(m=null===(p=null===(d=_.spec)||void 0===d?void 0:d.template)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.labels)&&(_.spec.template.metadata.labels=null===(g=null===(b=null===(v=t.spec)||void 0===v?void 0:v.template)||void 0===b?void 0:b.metadata)||void 0===g?void 0:g.labels),!i.a(null===(y=null===(f=null===(h=e.spec)||void 0===h?void 0:h.template)||void 0===f?void 0:f.spec)||void 0===y?void 0:y.containers)){_.spec.template.spec.containers=e.spec.template.spec.containers;const n=o.a(e.spec.template.spec.containers,{name:e.metadata.name});n>=0?_.spec.template.spec.containers[n]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[n]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[n].volumeMounts}):_.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(k=null==_?void 0:_.spec)||void 0===k?void 0:k.hasOwnProperty("strategy"))&&(_.spec.strategy=null!==(O=null===(j=t.spec)||void 0===j?void 0:j.strategy)&&void 0!==O?O:null===(E=e.spec)||void 0===E?void 0:E.strategy),(null===(S=_.spec)||void 0===S?void 0:S.triggers)&&(_.spec.triggers=t.spec.triggers),(null===(P=null===(T=t.spec)||void 0===T?void 0:T.source)||void 0===P?void 0:P.sourceSecret)||null===(R=null===(C=null==_?void 0:_.spec)||void 0===C?void 0:C.source)||void 0===R||delete R.sourceSecret,(null===(x=null===(N=null===(w=_.spec)||void 0===w?void 0:w.template)||void 0===N?void 0:N.spec)||void 0===x?void 0:x.hasOwnProperty("volumes"))&&(_.spec.template.spec.volumes=null===(I=null===(A=null===(D=e.spec)||void 0===D?void 0:D.template)||void 0===A?void 0:A.spec)||void 0===I?void 0:I.volumes),_},f=e=>{var t,n,a;return s.a(null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.metadata)||void 0===a?void 0:a.labels,(t,n,a)=>{var i,r;return(null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.hasOwnProperty(a))||(t[a]=n),t},{})}},5714:function(e,t,n){"use strict";var a=n(0),i=n(15),r=n(5662);t.a=({dataModelFactory:e})=>{const t=a.useContext(r.b),{id:n,priority:o,resources:s}=e,l=Object(i.De)(e.workloadKeys),c=a.useRef({priority:o,workloadKeys:l,resources:s});return a.useEffect(()=>{if(!t.getExtension(n)){c.current={priority:o,workloadKeys:l,resources:s},t.updateExtension(n,c.current);const{getDataModel:a,isResourceDepicted:i,getDataModelReconciler:r}=e;a?a().then(e=>{c.current.dataModelGetter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)}):(c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)),i?i().then(e=>{c.current.dataModelDepicter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)}):(c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)),r?r().then(e=>{c.current.dataModelReconciler=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current)}):(c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current))}},[t,e,n,o,s,l]),null}},5715:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(22),o=n(108),s=n(15),l=n(5662),c=n(5716),u=n(5718);t.a=Object(i.observer)(({trafficData:e})=>{const t=a.useContext(l.b),{namespace:n,extensionsLoaded:i,watchedResources:d}=t,[p,m]=a.useState(),v=Object(u.a)(n),b=a.useMemo(()=>n&&i?d:{},[i,d,n]),g=Object(s.Ce)(m,250),h=Object(o.b)(b);return a.useEffect(()=>g(h),[g,h]),a.useEffect(()=>{t.model=null},[n]),a.useEffect(()=>{r.a(p)||Object(c.a)(t,p,e,v).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,v]),null})},5716:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5717);const i=(e,t,n,i)=>{const{extensionsLoaded:r,watchedResources:o}=e;if(!r||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const s=Object.keys(t).find(e=>(e=>t[e].loadError&&!o[e].optional?t[e].loadError:"")(e));if(s)return Promise.resolve({loaded:!1,loadError:t[s].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&o[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const l=e.getWorkloadResources(t),c=e.dataModelDepicters;return e.getExtensionModels(t).then(r=>{const o=Object(a.a)(r,e.namespace,t,l,c,n,i);return e.reconcileModel(o,t),Promise.resolve({loaded:!0,loadError:"",model:o})})}},5717:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1401),i=n(15),r=n(2221),o=n(5589),s=n(5647);const l=(e,t)=>{const n=e.nodes.filter(({data:e})=>e.nodeType===r.y);return e.edges.reduce((e,{data:a})=>{const{data:i}=n.find(e=>e.data.id===a.source),{data:o}=n.find(e=>e.data.id===a.target),s=t.find(e=>e.metadata.name===i[i.nodeType]),l=t.find(e=>e.metadata.name===o[o.nodeType]);return s&&l?[...e,{id:`${s.metadata.uid}_${l.metadata.uid}`,type:r.x,source:s.metadata.uid,target:l.metadata.uid,data:a.traffic}]:e},[])},c=(e,t,n,c,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return o.a.forEach(n=>{var o,l;if(null===(l=null===(o=null==e?void 0:e[n])||void 0===o?void 0:o.data)||void 0===l?void 0:l.length){const o={nodes:[],edges:[]};e[n].data.forEach(t=>{const l=Object(i.yc)(n,t,e);if(l){const n=Object(s.c)(t,l,r.y,Object(a.d)("icon-openshift"),void 0,e);o.nodes.push(Object(s.h)(t,r.y,n,s.a)),Object(s.j)(Object(s.g)(t),o.nodes)}}),Object(s.b)(o,t)}}),t})(Object.assign(Object.assign({},n),{monitoringAlerts:p}));return Object(s.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var n,a;t.type===r.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(a=null===(n=t.children)||void 0===n?void 0:n.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==a?a:[])}),e.nodes=e.nodes.filter(e=>e.type!==r.u||e.children.length>0)})(e),((e,t)=>{t.forEach(n=>{e.edges.push(...Object(s.f)(n,t))})})(e,c),((e,t,n)=>{n&&e.edges.push(...l(n,t))})(e,c,d),e}},5718:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(5719),r=n(58),o=n(15);const s=e=>{const[t,n,s]=Object(i.a)({namespace:e}),l=a.useMemo(()=>{let e;return s||n||(e=Object(r.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!s,loadError:n}},[n,s,t]);return Object(o.De)(l)}},5719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(763),i=n(436);const r=({delay:e,namespace:t})=>{const n=Object(i.b)({endpoint:i.a.RULES,namespace:t});return Object(a.useURLPoll)(n,e,t)}},5720:function(e,t,n){"use strict";var a=n(5657);n.d(t,"a",(function(){return a.c}))},5723:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(141),i=n(225),r=n(22),o=n(5599),s=n(5790),l=n(5724);const c=(e,t)=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.failureThreshold&&{failureThreshold:a.a(e.failureThreshold)}),e.successThreshold&&{successThreshold:a.a(e.successThreshold)}),e.requestType===l.b.ContainerCommand&&{exec:e.exec}),e.requestType===l.b.HTTPGET&&{httpGet:Object.assign(Object.assign({},e[e.requestType]),{scheme:(null===(n=e[e.requestType])||void 0===n?void 0:n.scheme)?e[e.requestType].scheme[0]:"HTTP",port:t===o.k.KnativeService?0:a.a(e.httpGet.port)})}),e.requestType===l.b.TCPSocket&&{tcpSocket:{port:t===o.k.KnativeService?0:a.a(e.tcpSocket.port)}}),e.initialDelaySeconds&&{initialDelaySeconds:a.a(e.initialDelaySeconds)}),e.periodSeconds&&{periodSeconds:a.a(e.periodSeconds)}),e.timeoutSeconds&&{timeoutSeconds:a.a(e.timeoutSeconds)})},u=e=>{var t,n,a,r,o,s,c,u;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{requestType:(u=e,i.a(u,l.b.HTTPGET)?l.b.HTTPGET:i.a(u,l.b.TCPSocket)?l.b.TCPSocket:i.a(u,"exec.command")?l.b.ContainerCommand:""),failureThreshold:(null===(t=e.failureThreshold)||void 0===t?void 0:t.toString())||"",successThreshold:(null===(n=e.successThreshold)||void 0===n?void 0:n.toString())||"",initialDelaySeconds:(null===(a=e.initialDelaySeconds)||void 0===a?void 0:a.toString())||"",periodSeconds:(null===(r=e.periodSeconds)||void 0===r?void 0:r.toString())||"",timeoutSeconds:(null===(o=e.timeoutSeconds)||void 0===o?void 0:o.toString())||""}),e.httpGet&&{httpGet:Object.assign(Object.assign({},e.httpGet),{port:(null===(s=e.httpGet.port)||void 0===s?void 0:s.toString())||"",scheme:"HTTP"===e.httpGet.scheme?void 0:["HTTPS"]})}),e.tcpSocket&&{tcpSocket:{port:(null===(c=e.tcpSocket.port)||void 0===c?void 0:c.toString())||""}})},d=(e,t=0)=>{var n,a,i,o,c,d,p,m,v,b;const g=null!==(o=null===(i=null===(a=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers)&&void 0!==o?o:[],h=null!==(d=null===(c=null==g?void 0:g[t])||void 0===c?void 0:c[l.a.ReadinessProbe])&&void 0!==d?d:{},f=null!==(m=null===(p=null==g?void 0:g[t])||void 0===p?void 0:p[l.a.LivenessProbe])&&void 0!==m?m:{},y=null!==(b=null===(v=null==g?void 0:g[t])||void 0===v?void 0:v[l.a.StartupProbe])&&void 0!==b?b:{};return{readinessProbe:{showForm:!1,modified:!1,enabled:!r.a(h),data:r.a(h)?s.b.data:Object.assign({},u(h))},livenessProbe:{showForm:!1,modified:!1,enabled:!r.a(f),data:r.a(f)?s.b.data:Object.assign({},u(f))},startupProbe:{showForm:!1,modified:!1,enabled:!r.a(y),data:r.a(y)?s.b.data:Object.assign({},u(y))}}},p=(e,t)=>{const{readinessProbe:n,livenessProbe:a,startupProbe:i}=e;return Object.assign(Object.assign(Object.assign({},n.enabled?{readinessProbe:c(n.data,t)}:{}),a.enabled?{livenessProbe:c(a.data,t)}:{}),t!==o.k.KnativeService&&(null==i?void 0:i.enabled)?{startupProbe:c(i.data)}:{})}},5724:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),function(e){e.ReadinessProbe="readinessProbe",e.LivenessProbe="livenessProbe",e.StartupProbe="startupProbe"}(a||(a={})),function(e){e.HTTPGET="httpGet",e.ContainerCommand="command",e.TCPSocket="tcpSocket"}(i||(i={}))},5725:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5588);const i="#CREATE_PIPELINE_RESOURCE#",r={[a.o.git]:{params:{url:"",revision:""}},[a.o.image]:{params:{url:""}},[a.o.storage]:{params:{type:"",location:"",dir:""}},[a.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5727:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(31),o=n(53),s=n(518),l=n(15),c=n(5704);t.a=Object(r.connect)(e=>({namespace:Object(s.d)(e),application:Object(s.c)(e)}),e=>({onChange:t=>{e(Object(o.k)(t))}}))(({namespace:e,application:t,onChange:n,disabled:r})=>{const{t:o}=Object(i.useTranslation)(),s=o("topology~All applications"),u=o("topology~No application group"),d=t===l.b?s:t===l.mc?u:t,[p,m]=a.useState(d);if(a.useEffect(()=>{r||m(d)},[r,d]),e===l.c)return null;return a.createElement(c.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&a.createElement("span",{className:"btn-link__title"},p),titlePrefix:o("topology~Application"),allSelectorItem:{allSelectorKey:l.b,allSelectorTitle:s},noneSelectorItem:{noneSelectorKey:l.mc,noneSelectorTitle:u},selectedKey:t||l.b,onChange:(e,t)=>{t===l.b?n(t):n(e)},userSettingsPrefix:l.f,storageKey:l.e,disabled:r})})},5728:function(e,t,n){},5729:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(5731);const i={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:a.a,apiVersion:"v1alpha1",kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},r={id:"buildstrategy",plural:"buildstrategies",apiGroup:a.a,apiVersion:"v1alpha1",kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},o={id:"build",plural:"builds",apiGroup:a.a,apiVersion:"v1alpha1",kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},s={id:"buildrun",plural:"buildruns",apiGroup:a.a,apiVersion:"v1alpha1",kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"},l={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:a.a,apiVersion:a.b,kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},c={id:"buildstrategy",plural:"buildstrategies",apiGroup:a.a,apiVersion:a.b,kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},u={id:"build",plural:"builds",apiGroup:a.a,apiVersion:a.b,kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},d={id:"buildrun",plural:"buildruns",apiGroup:a.a,apiVersion:a.b,kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"}},5731:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l}));const a="shipwright.io",i="v1beta1",r="build.shipwright.io/name",o="app.kubernetes.io/instance",s="image-registry.openshift-image-registry.svc:5000",l="quay.io"},5732:function(e,t,n){},5759:function(e,t,n){"use strict";var a,i,r,o;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.spec="spec",e.status="status"}(a||(a={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.endpointList="urn:alm:descriptor:com.tectonic.ui:endpointList",e.label="urn:alm:descriptor:com.tectonic.ui:label",e.resourceRequirements="urn:alm:descriptor:com.tectonic.ui:resourceRequirements",e.selector="urn:alm:descriptor:com.tectonic.ui:selector:",e.namespaceSelector="urn:alm:descriptor:com.tectonic.ui:namespaceSelector",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.booleanSwitch="urn:alm:descriptor:com.tectonic.ui:booleanSwitch",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.checkbox="urn:alm:descriptor:com.tectonic.ui:checkbox",e.imagePullPolicy="urn:alm:descriptor:com.tectonic.ui:imagePullPolicy",e.updateStrategy="urn:alm:descriptor:com.tectonic.ui:updateStrategy",e.text="urn:alm:descriptor:com.tectonic.ui:text",e.number="urn:alm:descriptor:com.tectonic.ui:number",e.nodeAffinity="urn:alm:descriptor:com.tectonic.ui:nodeAffinity",e.podAffinity="urn:alm:descriptor:com.tectonic.ui:podAffinity",e.podAntiAffinity="urn:alm:descriptor:com.tectonic.ui:podAntiAffinity",e.fieldGroup="urn:alm:descriptor:com.tectonic.ui:fieldGroup:",e.arrayFieldGroup="urn:alm:descriptor:com.tectonic.ui:arrayFieldGroup:",e.select="urn:alm:descriptor:com.tectonic.ui:select:",e.advanced="urn:alm:descriptor:com.tectonic.ui:advanced",e.fieldDependency="urn:alm:descriptor:com.tectonic.ui:fieldDependency:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(i||(i={})),function(e){e.podStatuses="urn:alm:descriptor:com.tectonic.ui:podStatuses",e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.w3Link="urn:alm:descriptor:org.w3:link",e.conditions="urn:alm:descriptor:io.kubernetes.conditions",e.text="urn:alm:descriptor:text",e.prometheusEndpoint="urn:alm:descriptor:prometheusEndpoint",e.k8sPhase="urn:alm:descriptor:io.kubernetes.phase",e.k8sPhaseReason="urn:alm:descriptor:io.kubernetes.phase:reason",e.password="urn:alm:descriptor:com.tectonic.ui:password",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden"}(r||(r={})),function(e){e.podCount="urn:alm:descriptor:com.tectonic.ui:podCount",e.k8sResourcePrefix="urn:alm:descriptor:io.kubernetes:",e.hidden="urn:alm:descriptor:com.tectonic.ui:hidden",e.password="urn:alm:descriptor:com.tectonic.ui:password"}(o||(o={}))},5760:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var a=n(7134),i=n(2328),r=n(7116),o=n(50),s=n(10),l=n(8),c=n(1415),u=n(5586),d=n(5687);const p=e=>a.a(e,e=>i.a(e)||r.a(e)||""===e),m=(e,t,n,a)=>{const i=`${t}-${Object(c.d)(6)}`,r={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:i,namespace:n},spec:Object.assign({type:t,params:Object(d.a)(p(e))},a&&{secrets:o.a(a.data,(e,t)=>({fieldName:t,secretKey:t,secretName:a.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,r)},v=(e,t,n)=>{const a={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:n},stringData:p(e)};return Object(l.jb)(s.SecretModel,a)}},5781:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var a=n(0),i=n(4436),r=n(655),o=n(313),s=n(367),l=n(50),c=n(599),u=n(5797),d=n(5804),p=n(7),m=n(99),v=n(693),b=n(139);const g=(e,t)=>`${e}:${t}`,h=({tag:e,imageStreamName:t,imageStreamNamespace:n,linkToTag:r})=>{const o=i.a(e.dockerImageReference,"@");return a.createElement(a.Fragment,null,a.createElement("li",null,a.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},a.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},a.createElement(u.a,null)),a.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},a.createElement(v.Timestamp,{timestamp:e.created,simple:!0}))),a.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},a.createElement("span",{className:"co-images-stream-tag-timeline__line"}),a.createElement("div",{className:"co-images-stream-tag-timeline__info"},a.createElement(m.ResourceLink,{kind:"ImageStreamTag",name:g(t,e.tag),namespace:n,title:e.tag,linkTo:r}),a.createElement("div",{className:"co-break-all"},"from ",o[0]),a.createElement("div",{className:"co-break-all"},o[1])))))},f=(e,t,n)=>t===r.a(n,t=>t.tag===e),y=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:n})=>{const{t:i}=Object(p.useTranslation)();if(!o.a(e,"items"))return a.createElement(b.c,{label:i("public~Images")});const r=s.a(l.a(e,({tag:e,items:t})=>l.a(t,({created:t,dockerImageReference:n})=>({tag:e,created:t,dockerImageReference:n})))),u=c.a(r,["created"],["desc"]),m=l.a(u,(e,i)=>a.createElement(h,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:n,linkToTag:f(e.tag,i,u)}));return a.createElement(a.Fragment,null,a.createElement("ul",{className:"co-images-stream-tag-timeline"},m,a.createElement("div",null,a.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},a.createElement(d.a,null)))))}},5790:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=n(5724);const i=(e,t)=>{switch(e){case a.a.ReadinessProbe:return{formTitle:t("devconsole~Readiness probe"),formSubtitle:t("devconsole~A readiness probe checks if the Container is ready to handle requests. A failed readiness probe means that a Container should not receive any traffic from a proxy, even if it's running.")};case a.a.LivenessProbe:return{formTitle:t("devconsole~Liveness probe"),formSubtitle:t("devconsole~A liveness probe checks if the Container is still running. If the liveness probe fails the Container is killed.")};case a.a.StartupProbe:return{formTitle:t("devconsole~Startup probe"),formSubtitle:t("devconsole~A startup probe checks if the application within the Container is started. If the startup probe fails the Container is killed.")};default:return}},r={showForm:!1,enabled:!1,modified:!1,data:{failureThreshold:"3",requestType:a.b.HTTPGET,httpGet:{scheme:void 0,path:"/",port:"8080",httpHeaders:[]},tcpSocket:{port:"8080"},exec:{command:[""]},initialDelaySeconds:"0",periodSeconds:"10",timeoutSeconds:"1",successThreshold:"1"}},o={readinessProbe:r,livenessProbe:r,startupProbe:r}},5796:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return k}));var a=n(5764),i=n(1031),r=n(663),o=n(384),s=n(16),l=n(373),c=n(70),u=n(113),d=n(15),p=n(6015),m=n(5759);const v=(e,t,n,a)=>{const l=Object(d.Gd)(n,`${e}.${t.path}`),c=[e,...i.a(t.path)],u=t.displayName||(null==l?void 0:l.title)||r.a(o.a(c));return{description:(null==t?void 0:t.description)||(null==l?void 0:l.description)||"",displayName:u,fullPath:c,propertySchema:l,value:s.a(a,c,t.value)}},b=e=>e.reduce((e,t)=>{var n,a,i,r,o,s,l,c;if(p.k.test(t.path)||(null===(n=null==t?void 0:t["x-descriptors"])||void 0===n?void 0:n.includes(m.a.hidden)))return e;if(p.g.test(t.path))return(()=>{var n,a,i,r,o,s,l,c,u,d,m,v,b,g,h;const[,f,y]=null!==(n=t.path.match(p.g))&&void 0!==n?n:[],[,k,j]=null!==(a=null==f?void 0:f.match(p.h))&&void 0!==a?a:[];return j?Object.assign(Object.assign({},e),{[k]:Object.assign(Object.assign({},null!==(i=null==e?void 0:e[k])&&void 0!==i?i:{}),{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[k])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[j]:Object.assign(Object.assign(Object.assign({},null!==(c=null===(l=null===(s=null==e?void 0:e[k])||void 0===s?void 0:s.nested)||void 0===l?void 0:l[j])&&void 0!==c?c:{}),{arrayGroupPath:f,isArrayGroup:!0}),y?{nested:Object.assign(Object.assign({},null!==(v=null===(m=null===(d=null===(u=null==e?void 0:e[k])||void 0===u?void 0:u.nested)||void 0===d?void 0:d[j])||void 0===m?void 0:m.nested)&&void 0!==v?v:{}),{[y]:t})}:{elementDescriptor:t})})})}):Object.assign(Object.assign({},e),{[k]:Object.assign(Object.assign(Object.assign({},null!==(b=null==e?void 0:e[k])&&void 0!==b?b:{}),{arrayGroupPath:f,isArrayGroup:!0}),y?{nested:Object.assign(Object.assign({},null!==(h=null===(g=null==e?void 0:e[k])||void 0===g?void 0:g.nested)&&void 0!==h?h:{}),{[y]:t})}:{elementDescriptor:t})})})();const[,u,d]=null!==(a=t.path.match(p.h))&&void 0!==a?a:[];return u?Object.assign(Object.assign({},e),{[u]:Object.assign(Object.assign({},null!==(i=null==e?void 0:e[u])&&void 0!==i?i:{}),d?{nested:Object.assign(Object.assign({},null!==(o=null===(r=null==e?void 0:e[u])||void 0===r?void 0:r.nested)&&void 0!==o?o:{}),{[d]:Object.assign(Object.assign({},null!==(c=null===(l=null===(s=null==e?void 0:e[u])||void 0===s?void 0:s.nested)||void 0===l?void 0:l[d])&&void 0!==c?c:{}),{descriptor:t})})}:{descriptor:t})}):e},{}),g=e=>i.a(e.path).join("/");function h(e,t){var n;const a=(e=>{switch(e){case"object":return[...p.c,...p.e];case"array":return[...p.c,...p.a];default:return[...p.c,...p.f]}})(t);return(null!==(n=null==e?void 0:e["x-descriptors"])&&void 0!==n?n:[]).filter(n=>{const i="any"===t||a.some(e=>n.startsWith(e));return p.d.some(e=>n.startsWith(e))&&console.warn(`[Deprecated x-descriptor] "${n}" is deprecated and support will be removed in a future release.`,e),!!i||(console.warn(`[Invalid x-descriptor] "${n}" is incompatible with ${t} values and will have no effect`,e),!1)}).sort((e,t)=>{const n=p.b.findIndex(t=>e.startsWith(t)),a=p.b.findIndex(e=>t.startsWith(e));return n<0||a<0?a-n:n-a})}function f(e,t){return h(e,(e=>l.a(e)?"any":c.a(e)?"array":u.a(e)?"object":"primitive")(t))}function y(e,t){return h(e,Object(a.getSchemaType)(t))}const k=e=>"status"===e.path||"Status"===e.displayName},5837:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),i=n(5586),r=n(5588),o=n(5760),s=n(5725),l=n(5687),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:n}=e,a=n.reduce((e,t,n)=>t.selection===s.a?Object.assign(Object.assign({},e),{[n]:t}):e,{}),i=yield Promise.all(Object.values(a).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:n,secrets:a,type:i}}=e;return a?Object(o.b)(a,i,t).then(e=>Object(o.a)(n,i,t,e)):Object(o.a)(n,i,t)})))(e,t)));if(!i||0===i.length)return e;const r=Object.keys(a);return Object.assign(Object.assign({},e),{resources:n.map((e,t)=>{if(a[t]){const n=r.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:i[n].metadata.name})}return e})})})),d=(e,t,n,o)=>c(void 0,void 0,void 0,(function*(){let s=e;s=yield u(s),s=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==r.x.NoWorkspace)}):e})(s);const c=yield Object(a.jb)(i.PipelineRunModel,Object(l.e)(t,s,n,o));return Promise.resolve(c)}))},5843:function(e,t,n){"use strict";n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return N})),n.d(t,"m",(function(){return x})),n.d(t,"a",(function(){return D}));var a=n(499),i=n(5711),r=n(5),o=n(8),s=n(614),l=n(30),c=n(1941),u=n(2221),d=n(6342),p=n(5844),m=n(5845),v=n(132),b=n(76),g=n(5956),h=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const f=e=>Object.keys(p.a).includes(e),y=e=>{const{type:t,name:n,apiVersion:a,application:{name:r},project:{name:o},data:s,sinkType:l,sink:c}=e,u=Object(i.a)({name:n,applicationName:r}),d=s[t],{name:m,kind:v,apiVersion:b,uri:g}=c;return{apiVersion:a,kind:t,metadata:{name:n,namespace:o,labels:Object.assign({},u),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},d&&d),l===p.b.Resource&&m&&b&&v?{sink:{ref:{apiVersion:b,kind:v,name:m}}}:{sink:{uri:g}})}},k=e=>{var t,n;return!(!(null===(t=null==e?void 0:e.secretKeyRef)||void 0===t?void 0:t.name)&&!(null===(n=null==e?void 0:e.secretKeyRef)||void 0===n?void 0:n.key))},j=e=>{var t;const{formData:{project:{name:n}},yamlData:a}=e;let i=Object(c.c)(a);const r=i&&Object(o.vb)(Object(o.Db)(i));return(null==i?void 0:i.metadata)&&(null==r?void 0:r.namespaced)&&!(null===(t=i.metadata)||void 0===t?void 0:t.namespace)&&(i=Object.assign(Object.assign({},i),{metadata:Object.assign(Object.assign({},i.metadata),{namespace:n})})),i},O=e=>{switch(e.type){case p.a.KafkaSource:return(e=>{var t,n,a,i,r,o,s,l,c;const u=y(e),{net:d}=u.spec;return u.spec.net=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),!(null===(t=d.sasl)||void 0===t?void 0:t.enable)&&{sasl:{user:{},password:{}}}),(null===(n=d.sasl)||void 0===n?void 0:n.enable)&&!k(null===(a=d.sasl)||void 0===a?void 0:a.user)&&!k(null===(i=d.sasl)||void 0===i?void 0:i.password)&&{sasl:{enable:!0,user:{},password:{}}}),!(null===(r=d.tls)||void 0===r?void 0:r.enable)&&{tls:{caCert:{},cert:{},key:{}}}),(null===(o=d.tls)||void 0===o?void 0:o.enable)&&!k(null===(s=d.tls)||void 0===s?void 0:s.caCert)&&!k(null===(l=d.tls)||void 0===l?void 0:l.cert)&&!k(null===(c=d.tls)||void 0===c?void 0:c.key)&&{tls:{enable:!0,caCert:{},cert:{},key:{}}}),u})(e);default:return y(e)}},E=e=>{if(e.editorType===s.b.YAML)return j(e);const{formData:t}=e;return O(t)},S=e=>({[p.a.PingSource]:{data:"",schedule:""},[p.a.SinkBinding]:{subject:{apiVersion:"",kind:"",selector:{matchLabels:{}}}},[p.a.ApiServerSource]:{mode:"Reference",serviceAccountName:"",resources:[{apiVersion:"",kind:""}]},[p.a.KafkaSource]:{bootstrapServers:[],topics:[],consumerGroup:"",net:{sasl:{enable:!1,user:{secretKeyRef:{name:"",key:""}},password:{secretKeyRef:{name:"",key:""}}},tls:{enable:!1,caCert:{secretKeyRef:{name:"",key:""}},cert:{secretKeyRef:{name:"",key:""}},key:{secretKeyRef:{name:"",key:""}}}}},[p.a.ContainerSource]:{template:{spec:{containers:[{image:"",name:"",args:[""],env:[]}]}}}}[e]),T=e=>({source:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),P=e=>{var t,n;let a={};if((null==e?void 0:e.kind)===b.c.kind){const{kind:i,metadata:{name:r,annotations:o},spec:s}=e,l=(null==o?void 0:o[v.d])||"",c=Object(g.a)(i,e);a={name:(null===(t=null==s?void 0:s.definition)||void 0===t?void 0:t.title)||r,description:(null===(n=null==s?void 0:s.definition)||void 0===n?void 0:n.description)||"",provider:l,iconUrl:c}}return a},C=(e,t)=>{var n;let a={};if(e){const{kind:i,label:r}=e,{description:s,provider:l}=null!==(n=Object(d.a)(i,t))&&void 0!==n?n:{};a={name:r,description:s,provider:l,iconUrl:Object(g.a)(Object(o.Hb)(e))}}return a},R=(e,t)=>t.map(t=>{const{apiGroup:n,plural:a}=t;return Object(r.Fb)({group:n,resource:a,namespace:e,verb:"create"}).then(e=>e.status.allowed?t:null).catch(e=>(console.warn("Could not check access for event source models",e),null))}),w=e=>null==e?void 0:e.reduce((e,t)=>{var n,a,i;const r=[...(null===(n=null==t?void 0:t.status)||void 0===n?void 0:n.listeners)?null===(a=t.status.listeners.map(e=>{var t;return null===(t=null==e?void 0:e.bootstrapServers)||void 0===t?void 0:t.split(",")}))||void 0===a?void 0:a.flat():[],...(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.bootstrapServerHost)?[t.status.bootstrapServerHost]:[]];return e.push(...r),e},[]),N=(e,t,n)=>h(void 0,void 0,void 0,(function*(){const a=n.find(e=>e.properties.id===t),i=(yield a.properties.importRedirectURL())(e);r.Vb.push(i)})),x=(e,t,n)=>{var i,r,o,s,c,d;const v=e.spec,b=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],g=null===(o=null==v?void 0:v.sink)||void 0===o?void 0:o.ref,h=Object.assign(Object.assign({},t),{application:Object.assign(Object.assign(Object.assign({},t.application),b&&b!==t.application.name&&{name:b,selectedKey:t.application.selectedKey?u.b:""}),!b&&{name:"",selectedKey:l.cb}),name:null===(s=e.metadata)||void 0===s?void 0:s.name,sinkType:g?p.b.Resource:p.b.Uri,sink:{apiVersion:null==g?void 0:g.apiVersion,kind:null==g?void 0:g.kind,name:null==g?void 0:g.name,key:Object(m.a)(null==g?void 0:g.name,{kind:null==g?void 0:g.kind,apiVersion:null==g?void 0:g.apiVersion}),uri:(null===(c=null==v?void 0:v.sink)||void 0===c?void 0:c.uri)||""},data:Object.assign({[t.type]:Object.assign({},a.a(v,"sink"))},n&&{[t.type]:{source:{ref:{apiVersion:n.apiVersion,kind:n.kind,name:n.metadata.name},properties:null===(d=null==v?void 0:v.source)||void 0===d?void 0:d.properties}}})});return t.type===p.a.KafkaSource?(e=>{var t,n,a,i,r,o,s,l,c,u,d,m,v,b,g,h,f,y,k;const j=(null===(t=e.data)||void 0===t?void 0:t[p.a.KafkaSource])||{},O={secretKeyRef:{name:"",key:""}};return Object.assign(Object.assign({},e),{data:{[p.a.KafkaSource]:{bootstrapServers:Array.isArray(j.bootstrapServers)?j.bootstrapServers:[],topics:Array.isArray(j.topics)?j.topics:[],consumerGroup:"string"==typeof j.consumerGroup?j.consumerGroup:"",net:{sasl:{enable:"boolean"==typeof(null===(a=null===(n=j.net)||void 0===n?void 0:n.sasl)||void 0===a?void 0:a.enable)&&(null===(r=null===(i=j.net)||void 0===i?void 0:i.sasl)||void 0===r?void 0:r.enable),user:"object"==typeof(null===(s=null===(o=j.net)||void 0===o?void 0:o.sasl)||void 0===s?void 0:s.user)?Object.assign(Object.assign({},O),j.net.sasl.user):O,password:"object"==typeof(null===(c=null===(l=j.net)||void 0===l?void 0:l.sasl)||void 0===c?void 0:c.password)?Object.assign(Object.assign({},O),j.net.sasl.password):O},tls:{enable:"boolean"==typeof(null===(d=null===(u=j.net)||void 0===u?void 0:u.tls)||void 0===d?void 0:d.enable)&&(null===(v=null===(m=j.net)||void 0===m?void 0:m.tls)||void 0===v?void 0:v.enable),caCert:"object"==typeof(null===(g=null===(b=j.net)||void 0===b?void 0:b.tls)||void 0===g?void 0:g.caCert)?Object.assign(Object.assign({},O),j.net.tls.caCert):O,cert:"object"==typeof(null===(f=null===(h=j.net)||void 0===h?void 0:h.tls)||void 0===f?void 0:f.cert)?Object.assign(Object.assign({},O),j.net.tls.cert):O,key:"object"==typeof(null===(k=null===(y=j.net)||void 0===y?void 0:y.tls)||void 0===k?void 0:k.key)?Object.assign(Object.assign({},O),j.net.tls.key):O}}}}})})(h):h},D=(e,t=[],n="")=>{for(const a in e)if(e.hasOwnProperty(a)&&"object"==typeof e[a]){const i=""!==n?`${n}.${a}`:a;"object"===e[a].type?D(e[a].properties,t,i):"array"===e[a].type&&e[a].items?"object"===e[a].items.type?D(e[a].items.properties,t,i+"[0]"):"array"===e[a].items.type?D(e[a].items,t,i+"[0]"):t.push(Object.assign(Object.assign(Object.assign(Object.assign({},e[a].items.hasOwnProperty("title")&&{displayName:e[a].items.title}),e[a].items.hasOwnProperty("description")&&{description:e[a].items.description}),{path:i+"[0]"}),e[a].items.hasOwnProperty("x-descriptors")&&{"x-descriptors":e[a].items["x-descriptors"]})):t.push(Object.assign({displayName:e[a].title,description:e[a].description,path:i},e[a]["x-descriptors"]&&{"x-descriptors":e[a]["x-descriptors"]}))}return t}},5844:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n(132),i=n(76);const r={ApiServerSource:a.p,ContainerSource:a.s,KafkaSource:a.u,PingSource:a.v,SinkBinding:a.w,KameletBinding:i.b.kind},o={InMemoryChannel:a.j,KafkaChannel:a.k};var s;!function(e){e.Resource="resource",e.Uri="uri"}(s||(s={}));const l=e=>({Resource:{value:s.Resource,label:e("knative-plugin~Resource")},Uri:{value:s.Uri,label:e("knative-plugin~URI")}})},5845:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(8);const i=e=>{var t;return null!==(t={"serving.knative.dev":1,"messaging.knative.dev":2,"eventing.knative.dev":3}[(e=>e.split("/")[0])(e)])&&void 0!==t?t:4},r=(e,t)=>{if(!(null==t?void 0:t.apiVersion))return;const{apiVersion:n}=t;return e?[i(n),Object(a.Db)(t),e].join("#"):void 0},o=e=>{var t;return null!==(t=null==e?void 0:e.split("#").pop())&&void 0!==t?t:""},s=e=>{const t=Object.assign({},e);return t.spec.subscriber.ref.name=o(e.spec.subscriber.ref.name),t}},5849:function(e,t,n){"use strict";n.d(t,"f",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return $})),n.d(t,"d",(function(){return F})),n.d(t,"b",(function(){return q})),n.d(t,"e",(function(){return K})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return z}));var a=n(5596),i=n(599),r=n(22),o=n(117),s=n(225),l=n(16),c=n(313),u=n(5591),d=n(974),p=n(4359),m=n(5),v=n(10),b=n(8),g=n(1402),h=n(5898),f=n(5620),y=n(5850),k=n(5588),j=n(5909),O=n(5944),E=n(5653),S=n(5623),T=n(197),P=n(1941),C=n(5731),R=n(5729),w=n(2221),N=n(761),x=n(5711),D=n(5910),A=n(5723),I=n(5599),_=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const L=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},M=e=>{const t={metadata:{name:e.name},displayName:e.displayName,description:e.description};return Object(b.jb)(v.ProjectRequestModel,t)},$=(e,t,n,a,o="create",s="")=>{var l,c,u,d;const{name:p,project:{name:m},application:{name:g},labels:h,image:{tag:f},labels:y}=e,k="app.kubernetes.io/name",j=null===(l=e.git)||void 0===l?void 0:l.url,O=null===(c=e.git)||void 0===c?void 0:c.ref,E=null===(d=null===(u=null==a?void 0:a.imageStream)||void 0===u?void 0:u.data)||void 0===d?void 0:d.filter(e=>{var t,n;return(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[k])===(y[k]||p)}),S=i.a(E,["metadata.resourceVersion"],["desc"]),T=S.length&&S[0]||{},P=t&&t.metadata.name,C=Object(x.a)({name:p,applicationName:g,imageStreamName:P,selectedTag:f}),R=Object.assign(Object.assign({},j&&Object(x.c)(j,O)),Object(x.b)()),w="update"!==o||r.a(T)?p:T.metadata.labels[k],N={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:s||w,namespace:m,labels:Object.assign(Object.assign(Object.assign({},C),h),{[k]:w}),annotations:R}},A=Object(x.h)(T,N);return"update"===o&&(A.metadata.name=T.metadata.name),"update"===o?Object(b.rb)(v.ImageStreamModel,A):Object(b.jb)(v.ImageStreamModel,N,n?D.c:{})},F=(e,t,n,a)=>{const{name:i,application:{name:r},project:{name:o},image:{tag:s},labels:l}=e,c=t&&t.metadata.name,u=Object(x.a)({name:i,applicationName:r,imageStreamName:c,selectedTag:s}),d={apiVersion:"v1",data:{},kind:"Secret",metadata:{name:`${i}-${n}-webhook-secret`,namespace:o,labels:Object.assign(Object.assign({},u),l)},stringData:{WebHookSecretKey:L()},type:p.SecretType.opaque};return Object(b.jb)(v.SecretModel,d,a?D.c:{})},U=(e,t,n,a,i="create",o="")=>{var s,l,c;const{name:d,project:{name:p},application:{name:m},git:{url:g,type:h,ref:f="master",dir:y,secret:k},docker:{dockerfilePath:j},image:{tag:O,imageEnv:E},build:{env:S,triggers:T,strategy:P},labels:C}=e,R=t&&t.metadata.name,w=t&&t.metadata.namespace,N=Object(x.a)({name:d,applicationName:m,imageStreamName:R,selectedTag:O}),A=Object.assign(Object.assign({},Object(x.c)(g,f)),Object(x.b)());let _,L=y;const M=E?Object.keys(E):[],$=M.filter(e=>!!E[e]).map(e=>({name:e,value:E[e]})),F=S.filter(e=>!M.includes(e.name));switch(P){case"Devfile":_=(null===(s=null==a?void 0:a.spec)||void 0===s?void 0:s.strategy)||{dockerStrategy:{env:S,dockerfilePath:j}},L=(null===(c=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.source)||void 0===c?void 0:c.contextDir)||y;break;case"Docker":_={dockerStrategy:{env:S,dockerfilePath:j}};break;default:_={sourceStrategy:{env:[...$,...F],from:{kind:"ImageStreamTag",name:`${R}:${O}`,namespace:w}}}}const U={type:I.c[h],[h]:{secretReference:{name:`${d}-${h}-webhook-secret`}}},B=[u.b.UNSURE,u.b.GITEA],q="update"!==i||r.a(a)?d:a.metadata.labels["app.kubernetes.io/name"],K={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:o||q,namespace:p,labels:Object.assign(Object.assign(Object.assign({},N),C),{"app.kubernetes.io/name":q}),annotations:A},spec:{output:{to:{kind:"ImageStreamTag",name:(o||q)+":latest"}},source:Object.assign({contextDir:L,git:{uri:g,ref:f}},k?{sourceSecret:{name:k}}:{}),strategy:Object.assign({type:P},_),triggers:[{type:"Generic",generic:{secretReference:{name:d+"-generic-webhook-secret"}}},...T.webhook&&!B.includes(h)?[U]:[],...T.image?[{type:"ImageChange",imageChange:{}}]:[],...T.config?[{type:"ConfigChange"}]:[]]}},V=Object(x.h)(a,K);return"update"===i&&(V.metadata.name=a.metadata.name),"update"===i?Object(b.rb)(v.BuildConfigModel,V):Object(b.jb)(v.BuildConfigModel,K,n?D.c:{})},B=(e,t,n,a,i="create")=>{var r;const{name:o,project:{name:s},application:{name:l},image:{ports:c,tag:u},deployment:{env:d,replicas:p,triggers:{image:m}},labels:g,limits:{cpu:h,memory:f},git:{url:y,ref:k},healthChecks:j}=e,O=t&&t.metadata.name,E=t&&(null===(r=t.metadata.labels)||void 0===r?void 0:r[N.s]),S=Object(x.a)({name:o,applicationName:l,imageStreamName:O,selectedTag:u,runtimeIcon:E}),P=o,C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(x.b)()),Object(x.c)(y,k)),Object(x.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(x.g)(o,P,s,m)),R=Object(x.d)(I.k.Kubernetes,o),w=Object(x.f)(a),_={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:o,namespace:s,labels:Object.assign(Object.assign({},S),g),annotations:C},spec:{selector:{matchLabels:{app:o}},replicas:p,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},w),g),R)},spec:{containers:[Object.assign({name:o,image:o+":latest",ports:c,env:d,resources:Object(T.H)({cpu:h,memory:f})},Object(A.b)(j))]}}}},L=Object(x.h)(a,_);return"update"===i?Object(b.rb)(v.DeploymentModel,L):Object(b.jb)(v.DeploymentModel,L,n?D.c:{})},q=(e,t,n,i,c=!1,u="create",p)=>_(void 0,void 0,void 0,(function*(){var m,P,w,L,q,K,V,G,H,W,z,J,Y,X,Z,Q,ee,te,ne;const{name:ae,project:{name:ie},route:{create:re,disable:oe},image:{ports:se},build:{strategy:le,triggers:{webhook:ce},option:ue},deployment:{triggers:{image:de}},git:{url:pe,type:me,ref:ve},pipeline:be,resources:ge}=t,he=l.a(n,"metadata.name"),fe=null!==(K=null===(q=null===(L=null===(w=null===(P=null===(m=null==p?void 0:p.buildConfig)||void 0===m?void 0:m.data)||void 0===P?void 0:P.spec)||void 0===w?void 0:w.source)||void 0===L?void 0:L.git)||void 0===q?void 0:q.uri)&&void 0!==K?K:null===(z=null===(W=null===(H=null===(G=null===(V=null==p?void 0:p.pipeline)||void 0===V?void 0:V.data)||void 0===G?void 0:G.spec)||void 0===H?void 0:H.params)||void 0===W?void 0:W.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===z?void 0:z.default;i&&(yield M(t.project));const ye=[];let ke="";if(ge===I.k.KnativeService&&fe&&fe!==pe&&(ke=`${ae}-${Object(T.D)()}`),le===d.BuildStrategyType.Devfile){if("create"!==u)throw new Error(e("devconsole~Cannot update Devfile resources"));return((e,t,n,a="")=>_(void 0,void 0,void 0,(function*(){const{name:i,project:{name:r},devfile:{devfileSuggestedResources:o,devfileProjectType:s}}=e,l=Object.keys(o).reduce((e,t)=>{var n,a;const l=o[t];return l?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},l),{metadata:Object.assign(Object.assign({},l.metadata),{annotations:Object.assign(Object.assign({},null===(n=l.metadata)||void 0===n?void 0:n.annotations),{isFromDevfile:"true"}),name:i,namespace:r,labels:Object.assign(Object.assign({},null===(a=l.metadata)||void 0===a?void 0:a.labels),s?{[N.s]:s}:{})})})}):e},{}),c=yield $(e,l.imageStream,t,n,"create",a),u=yield U(e,l.imageStream,t,l.buildResource,"create",a),d=yield F(e,l.imageStream,"generic",t),p=yield B(e,l.imageStream,t,l.deployResource,"create"),m=l.service&&(yield Object(b.jb)(v.ServiceModel,Object(D.b)(e,l.imageStream,l.service),t?D.c:{})),g=l.route&&(yield Object(b.jb)(v.RouteModel,Object(D.a)(e,l.imageStream,l.route),t?D.c:{})),h=[c,u,d,p];return m&&h.push(m),g&&h.push(g),h})))(t,c,p,ke)}if(be.type===f.a.PAC&&(null===(J=null==t?void 0:t.pipeline)||void 0===J?void 0:J.enabled)){const e=null===(Y=null==t?void 0:t.pac)||void 0===Y?void 0:Y.repository,n=null==t?void 0:t.labels,a=yield Object(E.b)(e,ie,n,c);ye.push(a)}const je=yield $(t,n,c,p,ke?"create":u,ke);if(ye.push(je),be.enabled&&be.type!==f.a.PAC){if(!c){const e=yield((e,t)=>_(void 0,void 0,void 0,(function*(){var n,i;const l=[];if(!e)return Promise.resolve([]);const{name:c,git:u,pipeline:d,project:p,docker:m,image:g,build:h,labels:f}=e;let E;const T=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.name;if(r.a(t)||T!==c){if(d.template){E=yield Object(y.a)(c,p.name,u.url,u.ref,u.dir,d,m.dockerfilePath,g.tag,h.env,f),l.push(E);try{const e=yield Object(j.a)(E,u.detectedType);l.push(...e)}catch(e){console.warn("Error occured while creating triggers",e)}}}else E=yield Object(y.d)(t,d.template,c,p.name,u.url,u.ref,u.dir,m.dockerfilePath,g.tag,h.env,f);if(u.secret){const e=yield Object(b.kb)(v.SecretModel,u.secret,p.name),t=a(u.url);e.metadata.annotations=Object(S.s)({key:"git",value:"ssh"===t.protocol?t.resource:`${t.protocol}://${t.resource}`},e.metadata.annotations),yield Object(b.rb)(v.SecretModel,e,p.name);const n=yield Object(b.kb)(v.ServiceAccountModel,k.l,p.name);void 0===o.a(n.secrets,e=>e.name===u.secret)&&(yield Object(S.B)(u.secret,n,!1))}if(s.a(null===(i=null==E?void 0:E.metadata)||void 0===i?void 0:i.labels,"app.kubernetes.io/instance"))try{const e=yield Object(y.b)(E);l.push(e)}catch(e){console.log("Failed to create PipelineRun for import flow",e),Object(O.c)(E.metadata.name,E.metadata.namespace)}return Promise.all(l)})))(t,null===(X=null==p?void 0:p.pipeline)||void 0===X?void 0:X.data);ye.push(...e)}}else ue===I.a.BUILDS?ye.push(yield U(t,n,c,null===(Z=null==p?void 0:p.buildConfig)||void 0===Z?void 0:Z.data,ke?"create":u,ke)):ue===I.a.SHIPWRIGHT_BUILD&&ye.push(yield((e,t,n,a,i="create",o="")=>{var s;const{name:l,project:{name:c},application:{name:u},git:{url:p,ref:m="master",dir:v,secret:g},docker:{dockerfilePath:h},image:{tag:f,imageEnv:y},build:{env:k,strategy:j,clusterBuildStrategy:O},labels:E}=e,S=t&&t.metadata.name,T=t&&(null===(s=t.status)||void 0===s?void 0:s.dockerImageRepository),P=Object(x.a)({name:l,applicationName:u,imageStreamName:S,selectedTag:f}),w=Object.assign(Object.assign({},Object(x.c)(p,m)),Object(x.b)()),N=y?Object.keys(y):[],A=N.filter(e=>!!y[e]).map(e=>({name:e,value:y[e]})),I=k.filter(e=>!N.includes(e.name));let _=[];switch(j){case d.BuildStrategyType.Docker:_=[{name:"dockerfile",value:h}];break;case d.BuildStrategyType.Source:_=[{name:"builder-image",value:`${T}:${f}`}]}const L="update"!==i||r.a(a)?l:a.metadata.labels["app.kubernetes.io/name"],M={apiVersion:"shipwright.io/v1beta1",kind:"Build",metadata:{name:o||L,namespace:c,labels:Object.assign(Object.assign(Object.assign({},P),E),{"app.kubernetes.io/name":L}),annotations:w},spec:{source:{type:"Git",git:Object.assign({url:p,revision:m},g?{cloneSecret:g}:{}),contextDir:v},env:[...A,...I],strategy:{name:O,kind:"ClusterBuildStrategy"},paramValues:_,output:{image:`${C.e}/${c}/${o||L}:latest`}}},$=Object(x.h)(a,M);return"update"===i&&($.metadata.name=a.metadata.name),"update"===i?Object(b.rb)(R.a,$):Object(b.jb)(R.a,M,n?D.c:{})})(t,n,c,null===(Q=null==p?void 0:p.shipwrightBuild)||void 0===Q?void 0:Q.data,ke?"create":u,ke));if("create"===u&&(ye.push(yield F(t,n,"generic",c)),ce&&ye.push(yield F(t,n,me,c))),t.resources===I.k.KnativeService){const e=je.status.dockerImageRepository,n=(null===(ne=null===(te=null===(ee=null==p?void 0:p.editAppResource)||void 0===ee?void 0:ee.data)||void 0===te?void 0:te.metadata)||void 0===ne?void 0:ne.annotations)||{},a=Object(x.g)(ae,ke||ae,ie,de),i=Object.keys(n).length>0?Object.assign(Object.assign(Object.assign({},n),Object(x.c)(pe,ve)),a):Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Object(x.b)()),Object(x.e)()),Object(x.c)(pe,ve)),a),r=Object(h.c)(t,e,he,void 0,void 0,i,l.a(p,"editAppResource.data"),ke),o=yield Object(h.b)(t,r,c);return[...yield Promise.all(["update"===u?Object(b.rb)(g.l,r,null,null,c?D.c:{}):Object(b.jb)(g.l,r,c?D.c:{}),...o]),...ye]}if(t.resources===I.k.Kubernetes?ye.push(yield B(t,n,c,l.a(p,"editAppResource.data"),u)):t.resources===I.k.OpenShift&&ye.push(yield((e,t,n,a,i="create")=>{const{name:r,project:{name:o},application:{name:s},image:{ports:l,tag:c},deployment:{env:u,replicas:d,triggers:p},labels:m,limits:{cpu:g,memory:h},git:{url:f,ref:y},healthChecks:k}=e,j=t&&t.metadata.name,O=Object(x.a)({name:r,applicationName:s,imageStreamName:j,selectedTag:c}),E=Object.assign(Object.assign(Object.assign({},Object(x.b)()),Object(x.c)(f,y)),Object(x.e)()),S=Object(x.d)(I.k.OpenShift,r),P=Object(x.f)(a),C={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:r,namespace:o,labels:Object.assign(Object.assign({},O),m),annotations:E},spec:{selector:S,replicas:d,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},P),m),S)},spec:{containers:[Object.assign({name:r,image:r+":latest",ports:l,env:u,resources:Object(T.H)({cpu:g,memory:h})},Object(A.b)(k))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:p.image,containerNames:[r],from:{kind:"ImageStreamTag",name:r+":latest"}}},...p.config?[{type:"ConfigChange"}]:[]]}},R=Object(x.h)(a,C);return"update"===i?Object(b.rb)(v.DeploymentConfigModel,R):Object(b.jb)(v.DeploymentConfigModel,R,n?D.c:{})})(t,n,c,l.a(p,"editAppResource.data"),u)),!r.a(se)||le===d.BuildStrategyType.Docker||le===d.BuildStrategyType.Source){const e=l.a(p,"service.data"),a=Object(D.b)(t,n,e);"create"===u?ye.push(yield Object(b.jb)(v.ServiceModel,a,c?D.c:{})):"update"!==u||r.a(e)||ye.push(yield Object(b.rb)(v.ServiceModel,a));const i=l.a(p,"route.data"),o=Object(D.a)(t,n,i);"update"===u&&oe?ye.push(yield Object(b.rb)(v.RouteModel,o,ie,ae)):re&&ye.push(yield Object(b.jb)(v.RouteModel,o,c?D.c:{}))}return ye})),K=e=>e.filter(e=>e.kind===v.DeploymentModel.kind||e.kind===v.DeploymentConfigModel.kind||e.kind===g.l.kind&&e.apiVersion===`${g.l.apiGroup}/${g.l.apiVersion}`),V=(e,t,n,a)=>_(void 0,void 0,void 0,(function*(){const i=n.find(e=>e.properties.id===t),r=(yield i.properties.importRedirectURL())(e);a?m.Vb.push(((e,t)=>{const n=new URL(e,"thismessage:/");return n.search=new URLSearchParams(Object.assign(Object.assign({},Object.fromEntries(n.searchParams)),t?Object.fromEntries(t):{})).toString(),n.toString().replace(n.protocol,"")})(r,a)):m.Vb.push(r)})),G=(e,t,n)=>{var a;if(e!==I.k.KnativeService&&t){if(t.hostname||t.path||!t.secure)return!0;if(null==t?void 0:t.tls)for(const e in t.tls)if(t.tls.hasOwnProperty(e)){if(["caCertificate","certificate","destinationCACertificate","key"].includes(e)&&t.tls[e])return!0;if("insecureEdgeTerminationPolicy"===e&&"None"!==t.tls[e])return!0;if("termination"===e&&"reencrypt"!==t.tls[e])return!0}return!1}return(null===(a=n.domainMapping)||void 0===a?void 0:a.length)>0},H=(e,t,n)=>{if(e!==I.k.KnativeService&&(null==t?void 0:t.replicas)>1)return!0;const a=null==n?void 0:n.scaling;if(a)for(const e in a)if(a.hasOwnProperty(e)){if(["concurrencylimit","maxpods","minpods"].includes(e)&&a[e])return!0;if("concurrencytarget"===e&&a[e]!==a.defaultConcurrencytarget)return!0;if("concurrencyutilization"===e&&a[e]!==a.defaultConcurrencyutilization)return!0;if("autoscale"===e&&a[e]){const t=a[e];for(const e in t)if(t.hasOwnProperty(e)){if("autoscalewindow"===e&&t[e]!==t.defaultAutoscalewindow)return!0;if("autoscalewindowUnit"===e&&t[e]!==t.defaultAutoscalewindowUnit)return!0}}}return!1},W=e=>{const t=e=>{for(const t in e)if(e.hasOwnProperty(t)){if(["limit","request"].includes(t)&&e[t])return!0;if("limitUnit"===t&&e[t]!==e.defaultLimitUnit)return!0;if("requestUnit"===t&&e[t]!==e.defaultRequestUnit)return!0}return!1};return!(!t(e.cpu)&&!t(e.memory))},z=e=>{var t,n,a,i,o,s,l,u,d,p,m,v,b,g,h,f,y,k,j,O,E,S,T,C,R,N,x,D,A,_,L;if(!e)return{};let M;(null===(t=e.devfile)||void 0===t?void 0:t.devfileContent)&&(M=Object(P.c)(e.devfile.devfileContent));const $=!(null===(n=e.application)||void 0===n?void 0:n.selectedKey)&&(null===(a=e.application)||void 0===a?void 0:a.name)||(null===(i=e.application)||void 0===i?void 0:i.selectedKey)===(null===(o=e.application)||void 0===o?void 0:o.name)?"default":(null===(s=e.application)||void 0===s?void 0:s.selectedKey)===w.b&&(null===(l=e.application)||void 0===l?void 0:l.name)?"custom":"none",F=e.resources===I.k.Kubernetes?"Deployment":e.resources===I.k.OpenShift?"DeploymentConfig":e.resources===I.k.KnativeService&&"Knative Service",U=null===(d=null===(u=e.import)||void 0===u?void 0:u.selectedStrategy)||void 0===d?void 0:d.name;return{useRecommended:(null===(p=e.image)||void 0===p?void 0:p.recommended)===(null===(m=e.image)||void 0===m?void 0:m.selected),recommendedStrategy:null===(b=null===(v=e.import)||void 0===v?void 0:v.recommendedStrategy)||void 0===b?void 0:b.name,recommendedBuilderImage:null===(g=e.image)||void 0===g?void 0:g.recommended,strategy:U,builderImage:null===(h=e.image)||void 0===h?void 0:h.selected,devFileLanguage:(null===(f=null==M?void 0:M.metadata)||void 0===f?void 0:f.projectType)||"",devFileProjectType:(null===(y=null==M?void 0:M.metadata)||void 0===y?void 0:y.language)||"",application:$,resource:F,targetPortChanged:!!(null===(k=e.route)||void 0===k?void 0:k.unknownTargetPort),useRunCommand:!!(null===(O=null===(j=e.image)||void 0===j?void 0:j.imageEnv)||void 0===O?void 0:O.NPM_RUN),useAdvancedOptionsGit:"/"!==e.git.dir||!!e.git.ref||!!e.git.secret,useAdvancedOptionsBuild:(null===(E=e.build)||void 0===E?void 0:E.env.length)>0||c.a(null===(S=e.build)||void 0===S?void 0:S.triggers,e=>!e),useAdvancedOptionsDeployment:"Devfile"!==U&&((null===(T=e.deployment)||void 0===T?void 0:T.env.length)>0||!(null===(R=null===(C=e.deployment)||void 0===C?void 0:C.triggers)||void 0===R?void 0:R.image)),useAdvancedOptionsRoute:G(e.resources,e.route,e.serverless),useAdvancedOptionsHealthChecks:(null===(x=null===(N=e.healthChecks)||void 0===N?void 0:N.livenessProbe)||void 0===x?void 0:x.enabled)||(null===(A=null===(D=e.healthChecks)||void 0===D?void 0:D.readinessProbe)||void 0===A?void 0:A.enabled)||(null===(L=null===(_=e.healthChecks)||void 0===_?void 0:_.startupProbe)||void 0===L?void 0:L.enabled),useAdvancedOptionsScaling:H(e.resources,e.deployment,e.serverless),useAdvancedOptionsResourceLimits:W(e.limits),useAdvancedOptionsLabels:!r.a(e.labels)}}},5850:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return h}));var a=n(640),i=n(499),r=n(8),o=n(5669),s=n(5586),l=n(5588),c=n(5687),u=n(5837),d=(n(5760),function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))});const p=(e,t)=>`image-registry.openshift-image-registry.svc:5000/${t}/${e}`,m=(e,t,n,a,i,r,o,s,l)=>(e||[]).map(e=>{switch(e.name){case"APP_NAME":return Object.assign(Object.assign({},e),{default:t});case"GIT_REPO":return Object.assign(Object.assign({},e),{default:a});case"GIT_REVISION":return Object.assign(Object.assign({},e),{default:i||""});case"PATH_CONTEXT":return Object.assign(Object.assign({},e),{default:r.replace(/^\//,"")||e.default});case"IMAGE_NAME":return Object.assign(Object.assign({},e),{default:p(t,n)});case"DOCKERFILE":return Object.assign(Object.assign({},e),{default:o});case"VERSION":return Object.assign(Object.assign({},e),{default:s||e.default});case"BUILD_ENVS":return Object.assign(Object.assign({},e),{default:l||e.default});default:return e}}),v=e=>{var t,n;return"docker"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[o.j])},b=(e,t,n,i,l,c,u,p,b,g={})=>d(void 0,void 0,void 0,(function*(){var d;const h=a.a(c.template);return h.metadata={name:""+e,namespace:t,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=h.metadata)||void 0===d?void 0:d.labels),g),{"app.kubernetes.io/instance":e,"app.kubernetes.io/name":e}),!v(h)&&{[o.i]:p})},h.spec.params=h.spec.params&&m(h.spec.params,e,t,n,i,l,u,p,b),Object(r.jb)(s.PipelineModel,h,{ns:t})})),g=e=>d(void 0,void 0,void 0,(function*(){var t,n;const a="true"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["function.knative.dev"]),i=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n,i;return Object.assign(Object.assign({},t),{type:l.x.VolumeClaimTemplate,data:a?Object(c.f)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name):Object(c.c)(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.name)})}),secretOpen:!1});return Object(u.a)(i,e)})),h=(e,t,n,l,c,u,p,b,g,h,f={})=>d(void 0,void 0,void 0,(function*(){var d;let y=a.a(e);return t?(((e,t)=>{var n,a,i,r;return(null===(n=e.metadata)||void 0===n?void 0:n.labels[o.h])!==(null===(a=t.metadata)||void 0===a?void 0:a.labels[o.h])||(null===(i=e.metadata)||void 0===i?void 0:i.labels[o.i])!==(null===(r=t.metadata)||void 0===r?void 0:r.labels[o.i])})(t,e)&&(y=a.a(t),y.metadata={resourceVersion:e.metadata.resourceVersion,name:""+n,namespace:l,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=t.metadata)||void 0===d?void 0:d.labels),f),{"app.kubernetes.io/instance":n,"app.kubernetes.io/name":n}),!v(t)&&{[o.i]:g})}),y.spec.params=m(t.spec.params,n,l,c,u,p,b,g,h)):y.metadata.labels=i.a(Object.assign(Object.assign({},y.metadata.labels),f),"app.kubernetes.io/instance"),Object(r.rb)(s.PipelineModel,y,l,n)}))},5897:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l}));const a={apiVersion:{"ui:widget":"hidden","ui:options":{label:!1}},kind:{"ui:widget":"hidden","ui:options":{label:!1}},spec:{"ui:options":{label:!1}},status:{"ui:widget":"hidden","ui:options":{label:!1}},"ui:order":["metadata","spec","*"]},i=["object","array"],r=["number","integer"],o=1e3,s=10**6,l=10**9},5898:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g}));var a=n(22),i=n(499),r=n(5723),o=n(5711),s=n(5591),l=n(8),c=n(76),u=n(2230),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const p={queryParams:{dryRun:"All"}},m=(e,t,n,u,d,p,m,v)=>{var b,g;const{name:h,application:{name:f},project:{name:y},runtimeIcon:k,serverless:{scaling:j},limits:O,route:{unknownTargetPort:E,create:S,defaultUnknownPort:T},labels:P,image:{tag:C},deployment:{env:R,triggers:{image:w}},healthChecks:N,resources:x,formType:D}=e,{fileUpload:A}=e,I=null===(b=null==e?void 0:e.import)||void 0===b?void 0:b.selectedStrategy,_=parseInt(E,10)||T,L=w?l.c.Always:l.c.IfNotPresent,{concurrencylimit:M,concurrencytarget:$,minpods:F,maxpods:U,autoscale:{autoscalewindow:B,autoscalewindowUnit:q},concurrencyutilization:K}=j,{cpu:{request:V,requestUnit:G,limit:H,limitUnit:W},memory:{request:z,requestUnit:J,limit:Y,limitUnit:X}}=O,Z=Object(o.a)({name:h,applicationName:f,imageStreamName:n,selectedTag:u||C,namespace:d,runtimeIcon:k});if(delete Z.app,A){const e=null==R?void 0:R.findIndex(e=>"JAVA_ARGS"===e.name);-1!==e?""!==A.javaArgs?R[e].value=A.javaArgs:R.splice(e,1):""!==A.javaArgs&&R.push({name:"JAVA_ARGS",value:A.javaArgs})}const Q={kind:c.p.kind,apiVersion:`${c.p.apiGroup}/${c.p.apiVersion}`,metadata:{name:h,namespace:y,labels:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Z),P),"serverlessFunction"===D&&{"function.knative.dev":"true"}),!S&&{"networking.knative.dev/visibility":"cluster-local"}),((null===(g=e.pipeline)||void 0===g?void 0:g.enabled)||v)&&{"app.kubernetes.io/name":h}),I&&(null==I?void 0:I.type)===s.c.SERVERLESS_FUNCTION&&{"function.knative.dev":"true"}),annotations:A?Object.assign(Object.assign({},p),{jarFileName:A.name}):p},spec:{template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},Z),P),{"app.kubernetes.io/name":v?e.name:P["app.kubernetes.io/name"]}),annotations:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$&&{"autoscaling.knative.dev/target":""+$}),F&&{"autoscaling.knative.dev/min-scale":""+F}),U&&{"autoscaling.knative.dev/max-scale":""+U}),B&&{"autoscaling.knative.dev/window":`${B}${q}`}),K&&{"autoscaling.knative.dev/target-utilization-percentage":""+K})},spec:Object.assign(Object.assign({},M&&{containerConcurrency:M}),{containers:[Object.assign(Object.assign(Object.assign({name:h,image:""+t},_&&{ports:[{containerPort:_}]}),{imagePullPolicy:L,securityContext:{allowPrivilegeEscalation:!1,capabilities:{drop:["ALL"]},runAsNonRoot:!0,seccompProfile:{type:"RuntimeDefault"}},env:R,resources:Object.assign(Object.assign({},(H||Y)&&{limits:Object.assign(Object.assign({},H&&{cpu:`${H}${W}`}),Y&&{memory:`${Y}${X}`})}),(V||z)&&{requests:Object.assign(Object.assign({},V&&{cpu:`${V}${G}`}),z&&{memory:`${z}${J}`})})}),Object(r.b)(N,x))]})}}};let ee={};a.a(m)||(ee=i.a(m,["status","spec.template.metadata.name","spec.template.spec.containers"]));return Object(o.h)(ee||{},Q)},v=(e,t,n)=>{const{kind:a,apiVersion:i,metadata:{name:r,namespace:o}}=t;return Object.assign(Object.assign({},n?Object.assign({},n):{kind:c.e.kind,apiVersion:`${c.e.apiGroup}/${c.e.apiVersion}`,metadata:{name:e,namespace:o}}),{spec:{ref:{name:r,kind:a,apiVersion:i}}})},b=(e,t)=>{const{metadata:{name:n,namespace:a}}=e,i=[];return Object(l.kb)(c.e,null,a).then(a=>{const r=a.items;if(!(null==t?void 0:t.length)&&!(null==r?void 0:r.length))return Promise.resolve([]);const o=(s=n,l=t,r.filter(e=>{var t,n;return(null===(n=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===n?void 0:n.name)===s}).filter(e=>!(null==l?void 0:l.includes(e.metadata.name))).map(e=>({action:u.d.Delete,resource:e})));var s,l;i.push(...o);const c=t.map(t=>{const n=r.find(e=>e.metadata.name===t);let a;return a=n?{action:u.d.Update,resource:v(t,e,n)}:{action:u.d.Create,resource:v(t,e)},a});return i.push(...c),i}).catch(e=>(console.log("Failed to get domain mapping resources",e),i))},g=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const{serverless:{domainMapping:a=[]}}=e,i=yield b(t,[...new Set(a.map(e=>e.replace(/ *\([^)]*\) */g,"")))]),r=[];return i.length&&i.forEach(({action:e,resource:t})=>{switch(e){case u.d.Create:r.push(Object(l.jb)(c.e,t,n?p:{}));break;case u.d.Update:r.push(Object(l.rb)(c.e,t,null,null,n?p:{}));break;case u.d.Delete:r.push(Object(l.lb)(c.e,t,n?p:{}))}}),r}))},5899:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(5684),i=n(5586),r=n(5595),o=n(5588);const s=()=>Object(a.a)(i.TektonConfigModel,o.h),l=e=>{if(!e)return o.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINE&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASK?o.n.PIPELINE_TASK_LEVEL:t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINERUN&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASKRUN?o.n.PIPELINERUN_TASKRUN_LEVEL:o.n.UNSUPPORTED_LEVEL}},5909:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var a=n(131),i=n(10),r=n(8),o=n(5586),s=n(5588),l=n(5705),c=n(5687),u=n(5919),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const p=(e,t,n=0)=>d(void 0,void 0,void 0,(function*(){var s,l,c,d;const m=yield Object(r.kb)(o.EventListenerModel,e,t),v=null===(s=null==m?void 0:m.status)||void 0===s?void 0:s.configuration.generatedName;try{if(!v)return void(n<3?setTimeout(()=>p(e,t,n+1),500):yield Object(r.jb)(i.RouteModel,Object(u.b)(m),{ns:t}));const a=null===(d=null===(c=null===(l=(yield Object(r.kb)(i.ServiceModel,v,t)).spec)||void 0===l?void 0:l.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,o=Object(u.b)(m,v,a);yield Object(r.jb)(i.RouteModel,o,{ns:t})}catch(e){Object(a.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),m=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:n}=t,a=e.metadata.namespace,i=Object(c.e)(e,t,null,null,{generateName:!0}),s=n.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,i,s),m=yield Object(l.a)(a),v=Object(u.a)([n.resource],d,m),b={ns:a};let g;try{const e=yield Object(r.jb)(o.TriggerTemplateModel,d,b);g=[e,yield Object(r.jb)(o.EventListenerModel,v,b)]}catch(e){return Promise.reject(e)}return p(v.metadata.name,a),Promise.resolve(g)})),v=(e,t)=>d(void 0,void 0,void 0,(function*(){const n=[],a=t?t+"-push":"github-push",i=yield Object(r.kb)(o.ClusterTriggerBindingModel,a);if(i){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n;return Object.assign(Object.assign({},t),{type:s.x.VolumeClaimTemplate,data:Object(c.c)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)})}),triggerBinding:{name:a,resource:i}}),r=yield m(e,t);n.push(...r)}return Promise.resolve(n)}))},5910:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(16),i=n(141),r=n(22),o=n(50),s=n(974),l=n(5673),c=n(5711);const u={queryParams:{dryRun:"All"}},d=e=>"isi"in e,p=(e,t,n,u)=>{var p,m,v,b;const{project:{name:g},application:{name:h},name:f,labels:y,image:{ports:k,tag:j},route:{unknownTargetPort:O,defaultUnknownPort:E},resources:S}=e,T=a.a(t,"metadata.name")||a.a(e,"image.name"),P=a.a(e,"git"),C=Object(c.a)({name:f,applicationName:h,imageStreamName:T,selectedTag:j}),R=Object(c.d)(S,f),w=P?Object.assign(Object.assign({},Object(c.c)(P.url,P.ref)),Object(c.b)()):Object(c.b)();let N=k;const x=null===(p=e.build)||void 0===p?void 0:p.strategy;if(x===s.BuildStrategyType.Docker&&O){N=[{containerPort:i.a(O),protocol:"TCP"}]}else if(x!==s.BuildStrategyType.Devfile||r.a(null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.ports)){if(d(e)){const{isi:{ports:t}}=e;N=t}else if(r.a(N)){N=[{containerPort:E,protocol:"TCP"}]}}else N=[...n.spec.ports.map(e=>({name:e.name,containerPort:e.port,protocol:"TCP"}))];if(O&&!N.some(e=>O===e.containerPort.toString())){const e={containerPort:i.a(O),protocol:"TCP"},t=null===(b=null===(v=null==u?void 0:u.spec)||void 0===v?void 0:v.port)||void 0===b?void 0:b.targetPort;N=[...N.filter(e=>e.containerPort!==E),e],t&&(N=[...N.filter(e=>e.containerPort!==t),e])}const D={kind:"Service",apiVersion:"v1",metadata:{name:f,namespace:g,labels:Object.assign(Object.assign({},C),y),annotations:Object.assign({},w)},spec:{selector:R,ports:o.a(N,e=>({port:e.containerPort,targetPort:e.containerPort,protocol:e.protocol,name:e.name||Object(l.n)(e)}))}};return Object(c.h)(n,D)},m=(e,t,n)=>{var r,o,u,p;const{project:{name:m},application:{name:v},name:b,labels:g,route:{hostname:h,unknownTargetPort:f,defaultUnknownPort:y,secure:k,path:j,tls:O,labels:E},image:{ports:S,tag:T}}=e,P=a.a(t,"metadata.name")||a.a(e,"image.name"),C=a.a(e,"git"),R=Object(c.a)({name:b,applicationName:v,imageStreamName:P,selectedTag:T}),w=C?Object.assign(Object.assign({},Object(c.c)(C.url,C.ref)),Object(c.b)()):Object(c.b)();let N,x=S;if(d(e)){const{isi:{ports:t}}=e;x=t}const D=null===(r=e.build)||void 0===r?void 0:r.strategy;N=D===s.BuildStrategyType.Docker&&f?Object(l.n)({containerPort:i.a(f),protocol:"TCP"}):D===s.BuildStrategyType.Devfile?null===(u=null===(o=null==n?void 0:n.spec)||void 0===o?void 0:o.port)||void 0===u?void 0:u.targetPort:f?Object(l.n)({containerPort:i.a(f),protocol:"TCP"}):Object(l.n)({containerPort:(null===(p=x[0])||void 0===p?void 0:p.containerPort)||y,protocol:"TCP"});const A={kind:"Route",apiVersion:"route.openshift.io/v1",metadata:{name:b,namespace:m,labels:Object.assign(Object.assign(Object.assign({},R),g),E),annotations:w},spec:{to:{kind:"Service",name:b},tls:k?O:null,host:h,path:j,port:{targetPort:N},wildcardPolicy:"None"}};return Object(c.h)(n,A)}},5919:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),i=n(8),r=n(15),o=n(5586),s=n(5588),l=n(5705);const c=(e,t,n)=>({apiVersion:Object(i.n)(o.TriggerTemplateModel),kind:o.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(r.wd)()}`},spec:{params:n,resourcetemplates:[t]}}),u=(e,t,n)=>{return{apiVersion:Object(i.n)(o.EventListenerModel),kind:o.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(r.wd)()},spec:{serviceAccountName:s.l,triggers:[{bindings:e.map(e=>0===(null==n?void 0:n.major)||1===(null==n?void 0:n.major)&&0===(null==n?void 0:n.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(a=t.metadata.name,Object(l.b)(n)?{ref:a}:{name:a})}]}};var a},d=(e,t,n=8080)=>{const r=e.metadata.name,s=t||"el-"+r;return{apiVersion:Object(i.n)(a.RouteModel),kind:a.RouteModel.kind,metadata:{name:s,labels:{"app.kubernetes.io/managed-by":o.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:r}},spec:{port:{targetPort:n},to:{kind:"Service",name:s,weight:100}}}}},5944:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(5588);const i=()=>{var e;try{return JSON.parse(null!==(e=sessionStorage.getItem(a.k))&&void 0!==e?e:"{}")}catch(e){return{}}},r=e=>{var t;return null!==(t=i()[e])&&void 0!==t?t:[]},o=(e,t)=>r(t).includes(e),s=(e,t)=>{if(!e||!t)return;const n=r(t).filter(t=>t!==e);sessionStorage.setItem(a.k,JSON.stringify(Object.assign(Object.assign({},i()),{[t]:n})))},l=(e,t)=>{if(!e||!t)return;const n=i();n[t]||(n[t]=[]),n[t].includes(e)||(n[t].push(e),sessionStorage.setItem(a.k,JSON.stringify(n)))}},5955:function(e,t,n){"use strict";n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return w})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return M}));var a=n(5764),i=n(61),r=n(1031),o=n(22),s=n(50),l=n(1120),c=n(160),u=n(400),d=n(7130),p=n(113),m=n(107),v=n(460),b=n(313),g=n(255),h=n(373),f=n(4413),y=n(447),k=n(4439),j=n(70),O=n(4438),E=n(640),S=n(5897),T=n(6036);const P=["allOf","anyOf","oneOf"],C=e=>{var t;return(null!==(t=r.a(e))&&void 0!==t?t:[]).map(e=>/^\d+$/.test(e)?"items":e)},R=(e,t,n)=>{var i;const r=Object(a.getUiOptions)(null!=t?t:{});return[null===(i=null==r?void 0:r.label)||void 0===i||i,(null==r?void 0:r.title)||(null==e?void 0:e.title)||n]},w=(e,t,n)=>{var i;return(null===(i=Object(a.getUiOptions)(null!=t?t:{}))||void 0===i?void 0:i.description)||(null==e?void 0:e.description)||n},N=e=>[...o.a(e)?[{title:"Empty Schema",message:"Schema is empty."}]:[],...s.a(l.a(c.a(e),P),e=>({title:"Unsupported Property",message:`Cannot generate form fields for JSON schema with ${e} property.`}))],x=(e={},t={})=>{var n;if(N(e).length>0)return!0;const i=null!==(n=Object(a.getSchemaType)(e))&&void 0!==n?n:"",r=!(null==t?void 0:t["ui:field"])&&!(null==t?void 0:t["ui:widget"]);switch(i){case T.a.array:return r&&x(e.items,null==t?void 0:t.items);case T.a.object:return r&&u.a(null==e?void 0:e.properties,(e,n)=>x(e,null==t?void 0:t[n]));case T.a.boolean:case T.a.integer:case T.a.number:case T.a.string:return!1;default:return r}},D=(e,t)=>{var n,a;return Number(null!==(a=null!==(n=null==e?void 0:e["ui:sortOrder"])&&void 0!==n?n:d.a(c.a(e).map(n=>!n.includes(":")&&p.a(null==e?void 0:e[n])?D(null==e?void 0:e[n],t):t)))&&void 0!==a?a:t)},A=(e,t)=>{if(!p.a(e))return[];const{"ui:dependency":n}=e;return[...n&&m.a(n.controlFieldPath.slice(0,-1),null!=t?t:[])?[n.controlFieldName]:[],...v.a(e,e=>A(e,t))]},I=(e,t,n,a)=>{var i;const r=(null!==(i=null==t?void 0:t.required)&&void 0!==i?i:[]).includes(e),o=null==n?void 0:n[e],s=A(o,a),l=b.a(n,({"ui:dependency":t})=>m.a(null==t?void 0:t.controlFieldPath,[...null!=a?a:[],e])),u=D(o,c.a(null==t?void 0:t.properties).length),d=l?u*S.f:0,p=d+u;return(null==s?void 0:s.length)?Math.max(...s.map(e=>I(e,t,n,a)))+p:(r||o||d?0:1/0)-(r?S.a:0)-(o?S.e:0)+p},_=(e,t,n)=>{switch(Object(a.getSchemaType)(null!=e?e:{})){case T.a.array:return(()=>{const a=_(null==e?void 0:e.items,null==t?void 0:t.items,[...null!=n?n:[],"items"]);return o.a(a)?{}:{items:a}})();case T.a.object:return(()=>{var a,r;const s=c.a(null!==(a=null==e?void 0:e.properties)&&void 0!==a?a:{});if(o.a(s))return{};const l=i.Set(s).sortBy(a=>I(a,e,t,null!=n?n:[])).toJS();return Object.assign(Object.assign({},l.length>1&&{"ui:order":l}),g.a(null!==(r=null==e?void 0:e.properties)&&void 0!==r?r:{},(e,a,i)=>{const r=_(a,null==t?void 0:t[i],[...null!=n?n:[],i]);return o.a(r)?e:Object.assign(Object.assign({},e),{[i]:r})},{}))})();default:return{}}},L=(e,t)=>{const n=(e,n)=>((e,n)=>h.a(e)||f.a(e)||y.a(e)&&o.a(e)||p.a(e)&&o.a(L(e,null==t?void 0:t[n])))(e,n)&&!(e=>!h.a(e)&&o.a(e))(null==t?void 0:t[n]);return k.a(e,(t,a)=>{n(t,a)&&delete e[a]}),j.a(e)&&O.a(e,void 0),e},M=(e,t)=>L(E.a(e),t)},5956:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(8),i=n(15),r=n(132),o=n(6343),s=n.n(o),l=n(6344),c=n.n(l),u=n(6345),d=n.n(u),p=n(6346),m=n.n(p),v=n(6347),b=n.n(v),g=n(6348),h=n.n(g),f=n(5634),y=n(616);const k=(e,t,n)=>{var o;const l=null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.annotations;return Object(i.Wd)(null==l?void 0:l[r.t])?null==l?void 0:l[r.t]:Object(i.Wd)(null==l?void 0:l[r.b])?null==l?void 0:l[r.b]:((e,t)=>{switch(Object(a.tb)(e)){case r.p:return s.a;case r.q:return c.a;case r.s:return d.a;case r.v:return b.a;case r.u:return m.a;case r.w:return h.a;case r.n:return m.a;default:return t===f.g?y.eventSinkIconSVG:y.eventSourceIconSVG}})(e,n)}},5962:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1416),i=n(380);const r=e=>{const t=new Blob([e],{type:"text/yaml;charset=utf-8"});let n="k8s-object.yaml";try{const t=Object(i.safeLoad)(e);t.kind&&(n=`${t.kind.toLowerCase()}-${t.metadata.name}.yaml`)}catch(e){console.error("Could not parse YAML file:",e)}Object(a.saveAs)(t,n)}},6011:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(55),o=n(7),s=n(15),l=n(6051),c=n(5618);t.a=({project:e,noProjectsAvailable:t,extraMargin:n,subPath:u,fullWidth:d})=>{const[p]=Object(r.e)(u?u+".application.initial":"application.initial"),[m]=Object(r.e)("formType"),{t:v}=Object(o.useTranslation)();return a.createElement(c.a,{title:v("devconsole~General"),extraMargin:n,fullWidth:d},t&&a.createElement(a.Fragment,null,a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-project-name",name:u?u+".project.name":"project.name",label:v("devconsole~Project name"),helpText:v("devconsole~A unique name for the Project."),required:!0}),a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-project-display-name",name:u?u+".project.displayName":"project.displayName",label:v("devconsole~Project display name")}),a.createElement(s.kc,{"data-test-id":"application-form-project-description",name:u?u+".project.description":"project.description",label:v("devconsole~Project description")})),!p.value&&a.createElement(l.a,{namespace:e.name,noProjectsAvailable:t,subPath:u}),a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-app-name",name:u?u+".name":"name",label:v("devconsole~Name"),helpText:v("devconsole~A unique name given to the component that will be used to name associated resources."),isDisabled:m.value&&"edit"===m.value,required:!(m.value&&"edit"===m.value)}))}},6015:function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return y}));var a=n(2323),i=n(5759);const r=a.a(i.c.k8sResourcePrefix),o=a.a(i.c.fieldDependency),s=a.a(i.c.select),l=new RegExp(`^${r}(?:core[:~]v1[:~])?([^?]*)[?]?(.*)$`),c=new RegExp(s+"(.*)$"),u=new RegExp(`^${o}([^:]*):(.*)$`),d=/^(.*)\[\d+\]\.?(.*)$/,p=/^.*\[\d+\]\.?.*\[\d+\]\.?.*$/,m=/^([^.]*)\.?(.*)$/,v=[i.c.arrayFieldGroup,i.c.fieldGroup,i.c.namespaceSelector,i.c.label],b=[i.c.advanced,i.c.fieldDependency,i.c.hidden,i.c.arrayFieldGroup,i.c.fieldGroup],g=[i.d.podStatuses,i.c.updateStrategy,i.c.nodeAffinity,i.c.podAffinity,i.c.podAntiAffinity,i.c.resourceRequirements,i.c.selector,i.c.label,i.c.namespaceSelector],h=[i.c.endpointList,i.d.conditions],f=[i.d.k8sPhase,i.d.k8sPhaseReason,i.c.k8sResourcePrefix,i.c.imagePullPolicy,i.c.podCount,i.c.select,i.d.w3Link,i.c.booleanSwitch,i.c.checkbox,i.c.password,i.c.text,i.d.text,i.c.number,i.c.label],y=[i.c.hidden,i.c.endpointList,i.d.conditions,i.c.resourceRequirements,i.c.updateStrategy,i.d.podStatuses,i.c.selector,i.c.k8sResourcePrefix,i.c.podCount,i.c.password,i.d.k8sPhaseReason,i.c.booleanSwitch,i.c.checkbox,i.d.w3Link,i.c.select,i.c.imagePullPolicy,i.d.k8sPhase,i.c.text,i.d.text,i.c.number,i.c.podAntiAffinity,i.c.podAffinity,i.c.nodeAffinity,i.c.advanced,i.c.fieldDependency,...v]},6036:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.string="string",e.number="number",e.integer="integer",e.boolean="boolean",e.null="null",e.array="array",e.object="object"}(a||(a={}))},6051:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(281),c=n(87),u=n(55),d=n(22),p=n(160),m=n(7),v=n(15),b=n(2221),g=n(5625),h=n(5704);t.a=({namespace:e,noProjectsAvailable:t,subPath:n})=>{const{t:f}=Object(m.useTranslation)(),[y,k]=a.useState(!0),j=a.useRef([]),O=!t,[E,{touched:S,error:T}]=Object(u.e)(n?n+".application.selectedKey":"application.selectedKey"),[P]=Object(u.e)(n?n+".application.name":"application.name"),{setFieldValue:C,setFieldTouched:R}=Object(u.f)(),[w,N]=a.useState(!1),x=a.useRef(),D=Object(v.Kc)("application-name","dropdown"),A=!(S&&T),I=A?"":T;Object(v.Ge)(E.value);const _=[{actionTitle:f("topology~Create application"),actionKey:b.b},{actionTitle:f("topology~No application group"),actionKey:b.z}],L=f("topology~Application"),M=f(w?"topology~Warning: the application grouping already exists.":"topology~A unique name given to the application grouping to label your resources.");return a.useEffect(()=>{var e;E.value===b.b&&(null===(e=x.current)||void 0===e||e.focus())},[E.value]),a.createElement(a.Fragment,null,O&&y&&a.createElement(i.a,{fieldId:D,label:L},a.createElement(h.a,{id:D,ariaLabel:L,dropDownClassName:"dropdown--full-width",menuClassName:"dropdown-menu--text-wrap",namespace:e,actionItems:_,autoSelect:!0,selectedKey:E.value,onChange:(e,t)=>{C(E.name,e),R(E.name,!0),C(P.name,Object(g.b)(t,e)),R(P.name,!0),N(!1)},onLoad:e=>{var t;const n=d.a(e);k(!n),j.current=p.a(e),n&&(C(E.name,""),C(P.name,null!==(t=E.value!==b.z&&P.value)&&void 0!==t?t:""))}}),a.createElement(r.a,null,a.createElement(o.a,null,A?a.createElement(s.a,null,f("topology~Select an Application to group this component.")):a.createElement(s.a,{variant:"error",icon:a.createElement(v.Mb,null)},I)))),(!y||E.value===b.b)&&a.createElement(v.ab,{type:l.b.text,required:E.value===b.b,name:P.name,ref:x,label:f("topology~Application name"),"data-test-id":"application-form-app-input",helpText:M,validated:w?c.d.warning:c.d.default,onChange:e=>{N(j.current.includes(e.target.value.trim()))},onBlur:e=>{const t=e.target.value.trim();C(P.name,t)}}))}},6055:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var a=n(0),i=n(19),r=n(615),o=n(16),s=n(667),l=n(640),c=n(4397),u=n(7),d=n(31),p=n(118),m=n(5),v=n(8);const b=e=>{const{t:t}=Object(u.useTranslation)(),{cpu:n,memory:i,storage:r,onChangeCPU:o,onChangeMemory:s,onChangeStorage:l,path:c=""}=e;return a.createElement("div",{className:"row co-m-form-row"},a.createElement("div",{className:"col-xs-4"},a.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:c+".cpu"},t("olm~CPU cores")),a.createElement("input",{value:n,onChange:e=>o(e.target.value),id:c+".cpu",name:"cpu",type:"text",className:"pf-v5-c-form-control",placeholder:"500m"})),a.createElement("div",{className:"col-xs-4"},a.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:c+".memory"},t("olm~Memory")),a.createElement("input",{value:i,onChange:e=>s(e.target.value),id:c+".memory",name:"memory",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})),a.createElement("div",{className:"col-xs-4"},a.createElement("label",{style:{fontWeight:300},className:"text-muted text-uppercase",htmlFor:c+".ephemeral-storage"},t("olm~Storage")),a.createElement("input",{value:r,onChange:e=>l(e.target.value),id:c+".ephemeral-storage",name:"ephemeral-storage",type:"text",className:"pf-v5-c-form-control",placeholder:"50Mi"})))},g=Object(m.Oc)(e=>{const{t:t}=Object(u.useTranslation)(),{obj:n,path:i,type:r,model:c,close:d,handlePromise:m}=e,[g,h]=a.useState(o.a(n.spec,`${i}.${r}.cpu`,"")),[f,y]=a.useState(o.a(n.spec,`${i}.${r}.memory`,"")),[k,j]=a.useState(o.a(n.spec,`${i}.${r}.ephemeral-storage`,""));return a.createElement("form",{onSubmit:e=>(e=>{e.preventDefault();const t=s.a(l.a(n),`spec.${i}.${r}`,Object.assign(Object.assign(Object.assign({},g&&{cpu:g}),f&&{memory:f}),k&&{"ephemeral-storage":k}));return m(Object(v.rb)(c,t),d)})(e),className:"modal-content"},a.createElement(p.d,null,e.title),a.createElement(p.a,null,a.createElement("div",{className:"row co-m-form-row"},a.createElement("div",{className:"col-sm-12"},e.description)),a.createElement(b,{cpu:g,memory:f,storage:k,onChangeCPU:h,onChangeMemory:y,onChangeStorage:j,path:i})),a.createElement(p.c,{errorMessage:e.errorMessage,inProgress:e.inProgress,submitText:t("public~Save"),cancel:e.cancel}))}),h=Object(d.connect)(({k8s:e},{obj:t})=>({model:e.getIn(["RESOURCES","models",Object(v.Db)(t)])}))(e=>{const{obj:t,type:n,path:s,model:l}=e,{t:d}=Object(u.useTranslation)(),m=d("public~None"),{cpu:v,memory:b,"ephemeral-storage":h}=o.a(t.spec,`${s}.${n}`,{});return a.createElement(i.a,{type:"button",isInline:!0,"data-test-id":"configure-modal-btn",onClick:()=>{const e=Object(p.f)(g),a=d("olm~Define the resource {{type}} for this {{kind}} instance.",{type:n,kind:t.kind});return e({title:d("olm~{{kind}} Resource {{type}}",{kind:t.kind,type:c.a(n)}),description:a,obj:t,model:l,type:n,path:s})},variant:"link"},d("olm~CPU: {{cpu}}, Memory: {{memory}}, Storage: {{storage}}",{cpu:v||m,memory:b||m,storage:h||m}),a.createElement(r.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))});b.displayName="ResourceRequirements",h.displayName="ResourceRequirementsModalLink",g.displayName="ResourceRequirementsModal"},6115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(4387),r=n(108),o=n(8),s=n(132),l=n(76);const c=e=>{const[t,n]=a.useState([]),[c,u]=a.useState(!1),[d,p]=a.useState(null),m=a.useMemo(()=>({kamelets:{isList:!0,kind:Object(o.Hb)(l.c),namespace:e,optional:!0},kameletsGlobalNs:{isList:!0,kind:Object(o.Hb)(l.c),namespace:s.N,optional:!0},kameletsGlobalNs2:{isList:!0,kind:Object(o.Hb)(l.c),namespace:s.c,optional:!0}}),[e]),v=Object(r.b)(m);return a.useEffect(()=>{const e=Object.keys(v).some(e=>v[e].loaded),t=Object.keys(v).every(e=>v[e].loadError),{kamelets:a,kameletsGlobalNs:r,kameletsGlobalNs2:o}=v;if(e){const e=Object(i.a)([...a.data,...r.data,...o.data],e=>{var t;return null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.uid});n(e),u(a.loaded||r.loaded||o.loaded)}else t&&p(r.loadError||r.loadError||o.loadError)},[v]),[t,c,d]}},6116:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return P}));var a=n(0),i=n(1935),r=n(1936),o=n(1937),s=n(6830),l=n.n(s),c=n(5764),u=n(18),d=n(667),p=n(640),m=n(7),v=n(5409),b=n(5),g=n(6427),h=n(6239),f=n(6055),y=n(5955);const k=({id:e,description:t})=>t?a.createElement("span",{id:e,className:"help-block"},a.createElement(b.N,null,a.createElement("div",{className:"co-pre-line"},t))):null,j=({children:e,id:t,defaultLabel:n,required:i,schema:r,uiSchema:o})=>{const{t:s}=Object(m.useTranslation)(),[l,c]=Object(y.g)(r,o,n||s("console-shared~Value"));return a.createElement("div",{id:t+"_field",className:"form-group"},l&&c&&a.createElement("label",{className:u("form-label",{"co-required":i}),htmlFor:t},c),e)},O=({children:e,defaultLabel:t,idSchema:n,required:s=!1,schema:l,uiSchema:c})=>{const[d,p]=a.useState(!1),[m,v]=Object(y.g)(l,c,t),b=Object(y.f)(l,c);return m&&v?a.createElement("div",{id:n.$id+"_field-group",className:"form-group co-dynamic-form__field-group"},a.createElement(i.a,null,a.createElement(r.a,{id:n.$id+"_accordion-toggle",onClick:e=>{e.preventDefault(),p(e=>!e)},isExpanded:d},a.createElement("label",{className:u({"co-required":s}),htmlFor:n.$id+"_accordion-content"},v)),b&&a.createElement(k,{id:n.$id+"_description",description:b}),a.createElement(o.a,{id:n.$id+"_accordion-content",isHidden:!d},e))):a.createElement(a.Fragment,null,e)},E=({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>{var l,c,u,v,b,g;const{t:h}=Object(m.useTranslation)();return a.createElement(O,{defaultLabel:n||h("console-shared~Resource requirements"),idSchema:t,required:r,schema:o,uiSchema:s},a.createElement("dl",{id:t.$id},a.createElement("dt",null,h("console-shared~Limits")),a.createElement("dd",null,a.createElement(f.a,{cpu:(null===(l=null==e?void 0:e.limits)||void 0===l?void 0:l.cpu)||"",memory:(null===(c=null==e?void 0:e.limits)||void 0===c?void 0:c.memory)||"",storage:(null===(u=null==e?void 0:e.limits)||void 0===u?void 0:u["ephemeral-storage"])||"",onChangeCPU:t=>i(d.a(p.a(e),"limits.cpu",t)),onChangeMemory:t=>i(d.a(p.a(e),"limits.memory",t)),onChangeStorage:t=>i(d.a(p.a(e),"limits.ephemeral-storage",t)),path:t.$id+".limits"})),a.createElement("dt",null,h("console-shared~Requests")),a.createElement("dd",null,a.createElement(f.a,{cpu:(null===(v=null==e?void 0:e.requests)||void 0===v?void 0:v.cpu)||"",memory:(null===(b=null==e?void 0:e.requests)||void 0===b?void 0:b.memory)||"",storage:(null===(g=null==e?void 0:e.requests)||void 0===g?void 0:g["ephemeral-storage"])||"",onChangeCPU:t=>i(d.a(p.a(e),"requests.cpu",t)),onChangeMemory:t=>i(d.a(p.a(e),"requests.memory",t)),onChangeStorage:t=>i(d.a(p.a(e),"requests.ephemeral-storage",t)),path:t.$id+".requests"}))))},S=({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>{var l,c;const{t:u}=Object(m.useTranslation)(),b=Object(y.f)(o,s,u("public~How should the pods be replaced when a new revision is created?"));return a.createElement(j,{defaultLabel:n||u("console-shared~Update strategy"),id:t.$id,required:r,schema:o,uiSchema:s},a.createElement(k,{description:b,id:t.$id}),a.createElement(v.ConfigureUpdateStrategy,{showDescription:!1,strategyType:(null==e?void 0:e.type)||"RollingUpdate",maxUnavailable:(null===(l=null==e?void 0:e.rollingUpdate)||void 0===l?void 0:l.maxUnavailable)||"",maxSurge:(null===(c=null==e?void 0:e.rollingUpdate)||void 0===c?void 0:c.maxSurge)||"",onChangeStrategyType:t=>i(d.a(p.a(e),"type",t)),onChangeMaxUnavailable:t=>i(d.a(p.a(e),"rollingUpdate.maxUnavailable",t)),onChangeMaxSurge:t=>i(d.a(p.a(e),"rollingUpdate.maxSurge",t)),replicas:1,uid:t.$id}))},T=({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>{const{t:l}=Object(m.useTranslation)();return a.createElement(O,{defaultLabel:n||l("console-shared~Node affinity"),idSchema:t,required:r,schema:o,uiSchema:s},a.createElement(g.c,{affinity:e,onChange:e=>i(e),uid:t.$id}))},P=({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>{const{t:l}=Object(m.useTranslation)();return a.createElement(O,{defaultLabel:n||l("console-shared~Pod affinity"),idSchema:t,required:r,schema:o,uiSchema:s},a.createElement(g.d,{affinity:e,onChange:e=>i(e),uid:t.$id}))};t.g={DescriptionField:({id:e,description:t})=>a.createElement(k,{id:e,description:t}),DropdownField:({formData:e,idSchema:t,name:n,onChange:i,schema:r,uiSchema:o={}})=>{const{t:s}=Object(m.useTranslation)(),{items:l,title:u}=Object(c.getUiOptions)(o);return a.createElement(b.t,{id:t.$id,key:t.$id,title:s("console-shared~Select {{title}}",{title:u||(null==r?void 0:r.title)||n}),selectedKey:e,items:null!=l?l:{},onChange:e=>i(e)})},LabelsField:({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>a.createElement(j,{defaultLabel:n,id:t.$id,required:r,schema:o,uiSchema:s},a.createElement(b.qb,{inputProps:{id:t.$id},onChange:e=>i(b.qb.objectify(e)),tags:b.qb.arrayify(e)})),MatchExpressionsField:({formData:e,idSchema:t,name:n,onChange:i,required:r,schema:o,uiSchema:s})=>{const{t:l}=Object(m.useTranslation)();return a.createElement(O,{defaultLabel:n||l("console-shared~Expressions"),idSchema:t,required:r,schema:o,uiSchema:s},a.createElement(h.a,{matchExpressions:e,onChange:e=>i(e),uid:t.$id}))},NodeAffinityField:T,NullField:()=>null,PodAffinityField:P,ResourceRequirementsField:E,SchemaField:e=>{const{schema:t,registry:{rootSchema:n},formData:i,uiSchema:r}=e;let o=t;try{o=Object(c.retrieveSchema)(t,n,i)}catch(e){console.error("dynamic-form CustomSchemaField retrieveSchema error:",e)}return Object(y.c)(o,r)?null:a.createElement(l.a,Object.assign({},e))},UpdateStrategyField:S}},6169:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(7),r=n(13),o=n(5684),s=n(132),l=n(76),c=n(6349),u=n(5843);const d=(e,t,n)=>{const{t:d}=Object(i.useTranslation)(),[p,m]=Object(o.a)(l.c,n,e),[v,b]=Object(o.a)(l.c,n,s.N),[g,h]=Object(o.a)(l.c,n,s.c),f=m&&b&&h,y=n&&f&&(p||v||g),k=n&&t===l.b.kind,j=t||k,O=t&&!k&&l.k.kind===t&&l.k,E=k?l.b:O,[S,T]=Object(r.hc)({group:null==E?void 0:E.apiGroup,resource:null==E?void 0:E.plural,verb:"create",namespace:e}),P=a.useMemo(()=>j?{isValidSink:!!O||f&&y&&k,loaded:k?f:!!O,normalizedSink:k?Object(u.h)(y):Object(c.c)(O,d)}:{isValidSink:!1,loaded:!0,normalizedSink:{}},[j,O,f,y,k,d]);return Object.assign(Object.assign({},P),{createSinkAccessLoading:T,createSinkAccess:S,kamelet:y})}},6236:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(5843),r=n(870);const o=e=>{const{loaded:t,eventSourceModels:n}=Object(r.useEventSourceModels)(),[o,s]=a.useState({loaded:!1,eventSourceModelsList:[]});return a.useEffect(()=>{if(t){const t=Object(i.f)(e,n);Promise.all([...t]).then(e=>{const t=null==e?void 0:e.reduce((e,t)=>[...e,...t?[t]:[]],[]);s({loaded:!0,eventSourceModelsList:t})}).catch(e=>console.warn("Failed to get event source models",e.message))}},[t]),o}},6237:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(7),r=n(5),o=n(5684),s=n(132),l=n(76),c=n(5843),u=n(870);const d=(e,t,n)=>{const{t:d}=Object(i.useTranslation)(),{eventSourceModels:p,loaded:m}=Object(u.useEventSourceModels)(),[v,b]=Object(o.a)(l.c,n,e),[g,h]=Object(o.a)(l.c,n,s.N),[f,y]=Object(o.a)(l.c,n,s.c),k=b&&h&&y,j=k&&(v||g||f),O=n&&t===l.b.kind,E=t||O,S=t&&!O&&(null==p?void 0:p.find(e=>e.kind===t)),T=O?l.b:S,[P,C]=Object(r.Ec)({group:null==T?void 0:T.apiGroup,resource:null==T?void 0:T.plural,verb:"create",namespace:e}),R=a.useMemo(()=>E?{isValidSource:!!S||k&&j&&O,loaded:O?k:m,normalizedSource:O?Object(c.h)(j):Object(c.e)(S,d)}:{isValidSource:!1,loaded:!0,normalizedSource:{}},[E,S,k,j,O,m,d]);return Object.assign(Object.assign({},R),{createSourceAccessLoading:C,createSourceAccess:P,kamelet:j})}},6238:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(22),r=n(50),o=n(7),s=n(108),l=n(5843),c=n(1412);const u=e=>{const{t:t}=Object(o.useTranslation)(),n=a.useMemo(()=>Object(c.l)(e),[e]),{kafkas:u,kafkaconnections:d}=Object(s.b)(n);return a.useMemo(()=>{let e=[],n="";const a=u.loaded&&!u.loadError||d.loaded&&!d.loadError,o=!(!u.loadError||!d.loadError);if(a){const a=[...u.data?u.data:[],...d.data?d.data:[]];e=i.a(a)?[{value:t("knative-plugin~No bootstrap servers found"),disabled:!0}]:r.a(Object(l.b)(a),e=>({value:e,disabled:!1})),n=t("knative-plugin~Add bootstrap servers")}else o?n=t("knative-plugin~{{loadErrorMessage}}. Try adding bootstrap servers manually.",{loadErrorMessage:`${u.loadError.message}, ${d.loadError.message}`}):(e=[{value:t("knative-plugin~Loading bootstrap servers..."),disabled:!0}],n="...");return[e,n]},[u.loaded,u.loadError,u.data,d.loaded,d.loadError,d.data,t])}},6239:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),i=n(19),r=n(408),o=n(407),s=n(7),l=n(5),c=n(8);const u=[c.i.Exists,c.i.DoesNotExist],d=[c.i.DoesNotExist,c.i.Equals,c.i.Exists,c.i.In,c.i.NotEqual,c.i.NotIn],p=({expression:e,onChange:t=(()=>{}),allowedOperators:n=d,onClickRemove:o=(()=>{})})=>{var c,p;const{key:m,operator:v,values:b}=e,{t:g}=Object(s.useTranslation)();return a.createElement("div",{className:"row key-operator-value__row"},a.createElement("div",{className:"col-md-4 col-xs-5 key-operator-value__name-field"},a.createElement("div",{className:"key-operator-value__heading hidden-md hidden-lg text-secondary text-uppercase"},g("olm~Key")),a.createElement("input",{type:"text",className:"pf-v5-c-form-control",value:null!==(c=e.key)&&void 0!==c?c:"",onChange:n=>t(Object.assign(Object.assign({},e),{key:n.target.value}))})),a.createElement("div",{className:"col-md-3 col-xs-5 key-operator-value__operator-field"},a.createElement("div",{className:"key-operator-value__heading hidden-md hidden-lg text-secondary text-uppercase"},g("olm~Operator")),a.createElement(l.t,{dropDownClassName:"dropdown--full-width",items:n.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{}),onChange:e=>t({key:m,operator:e,values:[]}),selectedKey:e.operator,title:e.operator})),a.createElement("div",{className:"col-md-3 col-xs-5 key-operator-value__value-field key-operator-value__value-field--stacked"},a.createElement("div",{className:"key-operator-value__heading hidden-md hidden-lg text-secondary text-uppercase"},g("olm~Values")),a.createElement("input",{className:"pf-v5-c-form-control",type:"text",value:null!==(p=null==b?void 0:b.join(","))&&void 0!==p?p:"",onChange:e=>{var n,a,i,r;return t({key:m,operator:v,values:null!==(r=null===(i=null===(a=null===(n=e.target)||void 0===n?void 0:n.value)||void 0===a?void 0:a.split(","))||void 0===i?void 0:i.map(e=>e.trim()))&&void 0!==r?r:[]})},disabled:u.includes(v)})),a.createElement("div",{className:"col-xs-1 key-operator-value__action key-operator-value__action--stacked"},a.createElement("div",{className:"key-operator-value__heading key-operator-value__heading-button hidden-md hidden-lg"}),a.createElement(i.a,{type:"button",onClick:o,"aria-label":"Delete",className:"key-operator-value__delete-button",variant:"plain"},a.createElement(r.a,null))))},m=({matchExpressions:e=[],onChange:t=(()=>{}),allowedOperators:n=d,uid:r=""})=>{const{t:l}=Object(s.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"row key-operator-value__heading hidden-sm hidden-xs"},a.createElement("div",{className:"col-md-4 text-secondary text-uppercase"},l("olm~Key")),a.createElement("div",{className:"col-md-3 text-secondary text-uppercase"},l("olm~Operator")),a.createElement("div",{className:"col-md-3 text-secondary text-uppercase"},l("olm~Values"))),e.map((i,o)=>a.createElement(p,{key:`${r}-match-expression-${o}`,expression:i,allowedOperators:n,onClickRemove:()=>(n=>t(e.filter((e,t)=>t!==n)))(o),onChange:n=>((n,a)=>t(e.map((e,t)=>t===n?a:e)))(o,n)})),a.createElement("div",{className:"row"},a.createElement(i.a,{type:"button",onClick:()=>t([...e,{key:"",operator:c.i.Exists,values:[]}]),variant:"link"},a.createElement(o.a,{className:"co-icon-space-r"}),l("olm~Add expression"))))};m.displayName="MatchExpressions"},6281:function(e,t,n){"use strict";var a=n(0),i=n(31),r=n(53),o=n(518),s=n(5625),l=n(761);t.a=Object(i.connect)(e=>({application:Object(o.c)(e)}),{onSetApp:r.k})(({children:e,application:t,onSetApp:n})=>{const i=a.useRef(t),r=new URLSearchParams(window.location.search).get(l.r.APPLICATION);return a.useEffect(()=>{const e=i.current,a=Object(s.b)(r);return a&&a!==e&&n(a),()=>{t!==e&&n(e)}},[r,n,i,t]),a.createElement(a.Fragment,null,e(r))})},6324:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(1939),o=n(7);t.a=({onClose:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement(i.a,{actionClose:e&&a.createElement(r.a,{onClose:e}),isInline:!0,title:t('console-shared~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.'),variant:"info","data-test":"info-alert"})}},6341:function(e,t,n){"use strict";var a=n(6236);n.d(t,"b",(function(){return a.a}));var i=n(6237);n.d(t,"c",(function(){return i.a}));n(6115),n(6169);var r=n(6238);n.d(t,"a",(function(){return r.a}))},6342:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(132);const i=(e,t)=>({[a.p]:{description:t("knative-plugin~This object can be used to connect an event sink, such as a Service, Channel, or Broker to the Kubernetes API server. ApiServerSource watches for Kubernetes events and forwards them to the sink."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.s]:{description:t("knative-plugin~Starts a user-provided Container which will generate events and send messages to a sink URI. The sink URI is injected into the Container as an environment variable. A ContainerSource is an easy way to implement your own event sources in Knative."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.u]:{description:t("knative-plugin~A distributed messaging system consisting of servers and clients that communicate via a high-performance TCP network protocol. This source will send Apache Kafka messages from monitored Apache Kafka topics to a configured sink, packaged as CloudEvents."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.v]:{description:t("knative-plugin~Used to periodically send ping events with a constant payload to a sink. A PingSource is a timer that emits CloudEvents at a fixed schedule that is configured as a crontab expression."),provider:"Red Hat",support:t("knative-plugin~Supported")},[a.w]:{description:t("knative-plugin~Used to connect OpenShift managed applications like Deployments, StatefulSets, or Jobs to an event sink, for example, a Knative Service, Channel, or Broker. SinkBinding is similar to a ContainerSource but works on existing OpenShift Application resources, whereas the ContainerSource Container lifecycle is fully managed by OpenShift Serverless itself."),provider:"Red Hat",support:t("knative-plugin~Supported")}}[e])},6343:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/apiserversource.svg"},6344:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/camelsource.svg"},6345:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/containersource.svg"},6346:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/kafkasource.svg"},6347:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/pingsource.svg"},6348:function(e,t,n){e.exports=n.p+"assets/packages/knative-plugin/src/imgs/logos/sinkbindingsource.svg"},6349:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return y}));var a=n(499),i=n(5711),r=n(8),o=n(614),s=n(30),l=n(2221),c=n(6426),u=n(5845),d=n(132),p=n(5843),m=n(5956);const v=e=>{const{type:t,name:n,apiVersion:a,application:{name:r},project:{name:o},data:s,source:l}=e,c=Object(i.a)({name:n,applicationName:r}),u=s[t],{name:d,kind:p,apiVersion:m}=null!=l?l:{};return{apiVersion:a,kind:t,metadata:{name:n,namespace:o,labels:Object.assign({},c),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},u&&u),d&&m&&p&&{source:{ref:{apiVersion:m,kind:p,name:d}}})}},b=e=>{if(e.editorType===o.b.YAML)return Object(p.l)(e);const{formData:t}=e;return t.type===d.n?(e=>{var t,n,i,r,o,s,l,c;const u=v(e);return Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},a.a(u.spec,"auth")),(null===(r=null===(i=null===(n=null===(t=u.spec)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(c=null===(l=null===(s=null===(o=u.spec)||void 0===o?void 0:o.auth)||void 0===s?void 0:s.secret)||void 0===l?void 0:l.ref)||void 0===c?void 0:c.name}}}})})})(t):v(t)},g=e=>({sink:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),h=(e,t,n)=>{var i,r,o,c;const p=e.spec,{ref:m}=(null==p?void 0:p.source)||{},v=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],b=Object.assign(Object.assign(Object.assign(Object.assign({},t),{application:Object.assign(Object.assign(Object.assign({},t.application),v&&v!==t.application.name&&{name:v,selectedKey:t.application.selectedKey?l.b:""}),!v&&{name:"",selectedKey:s.cb}),name:null===(o=e.metadata)||void 0===o?void 0:o.name}),(null==m?void 0:m.name)&&(null==m?void 0:m.kind)&&(null==m?void 0:m.apiVersion)&&{source:{apiVersion:m.apiVersion,kind:m.kind,name:m.name,key:Object(u.a)(m.name,m)}}),{data:Object.assign({[t.type]:Object.assign({},a.a(p,"source"))},n&&{[t.type]:{sink:{ref:{apiVersion:n.apiVersion,kind:n.kind,name:n.metadata.name},properties:null===(c=null==p?void 0:p.sink)||void 0===c?void 0:c.properties}}})});return t.type===d.n?(e=>{var t,n,a,i,r,o,s,l;const c=(null===(t=e.data)||void 0===t?void 0:t[d.n])||{};return Object.assign(Object.assign({},e),{data:{[d.n]:Object.assign({bootstrapServers:Array.isArray(c.bootstrapServers)?c.bootstrapServers:[],topic:null!==(n=c.topic)&&void 0!==n?n:""},(null===(r=null===(i=null===(a=c.auth)||void 0===a?void 0:a.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(l=null===(s=null===(o=c.auth)||void 0===o?void 0:o.secret)||void 0===s?void 0:s.ref)||void 0===l?void 0:l.name}}}})}})})(b):b},f=(e,t)=>{var n;let a={};if(e){const{kind:i,label:o}=e,{description:s,provider:l}=null!==(n=Object(c.a)(i,t))&&void 0!==n?n:{};a={name:o,description:s,provider:l,iconUrl:Object(m.a)(Object(r.Hb)(e))}}return a},y=e=>({[d.n]:{bootstrapServers:[],topic:"",auth:{secret:{ref:{name:""}}}}}[e])},6350:function(e,t,n){"use strict";n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return C}));var a=n(0),i=n(472),r=n(2216),o=n(5764),s=n(575),l=n(745),c=n(373),u=n(141),d=n(2328),p=n(363),m=n(255),v=n(7),b=n(692),g=n(5),h=n(8),f=n(994),y=n(5897);const k=e=>{const{disabled:t=!1,id:n,onBlur:i,onChange:r,onFocus:s,readonly:l=!1,schema:c={},value:u=""}=e,d=Object(o.getSchemaType)(c);return y.c.includes(d)?a.createElement(j,Object.assign({},e)):a.createElement("input",{className:"pf-v5-c-form-control",disabled:t,id:n,key:n,onBlur:i&&(e=>i(n,e.target.value)),onChange:({currentTarget:e})=>r(e.value),onFocus:s&&(e=>s(n,e.target.value)),readOnly:l,type:"text",value:u})},j=({value:e,id:t,onChange:n})=>{const i=s.a(e);return a.createElement("input",{className:"pf-v5-c-form-control",id:t,key:t,onChange:({currentTarget:e})=>n(""!==e.value?s.a(e.value):""),type:"number",value:l.a(i)?i:""})},O=({value:e="",id:t,onChange:n})=>a.createElement("input",{className:"pf-v5-c-form-control",key:t,id:t,type:"password",onChange:({currentTarget:e})=>n(e.value),value:e}),E=({value:e=!1,id:t,label:n,onChange:r})=>a.createElement(i.a,{id:t,key:t,isChecked:e,"data-checked-state":e,label:n,onChange:(e,t)=>r(t)}),S=({value:e,id:t,label:n,onChange:i,options:o})=>{const{t:s}=Object(v.useTranslation)(),{labelOn:l=s("console-shared~true"),labelOff:u=s("console-shared~false")}=o;return a.createElement(r.a,{id:t||n,key:t||n,isChecked:!c.a(e)&&e,onChange:(e,t)=>i(t),label:l,labelOff:u})},T=({value:e,id:t,onChange:n})=>a.createElement(g.X,{id:t,value:e,onChange:({currentTarget:e})=>n(u.a(e.value)),changeValueBy:t=>n(u.a(e)+t),autoFocus:!0,required:!0}),P=({id:e,value:t,onChange:n})=>a.createElement(b.a,{id:e,currentValue:t,items:p.a(h.c).map(e=>({value:e,title:e})),onChange:({currentTarget:e})=>n(e.value)}),C=({id:e,label:t,onChange:n,options:i,schema:r,value:o})=>{const{t:s}=Object(v.useTranslation)(),{enumOptions:l=[],title:c}=i,u=m.a(l,(e,t)=>Object.assign(Object.assign({},e),{[t.label]:t.value}),{});return a.createElement(g.t,{id:e,key:e,title:s("console-shared~Select {{title}}",{title:c||(null==r?void 0:r.title)||t}),selectedKey:o,items:u,onChange:e=>n(e)})};t.i={BaseInput:k,CheckboxWidget:E,SwitchWidget:S,ImagePullPolicyWidget:P,K8sResourceWidget:({value:e,id:t,label:n,options:i,formContext:r,onChange:o})=>{const{t:s}=Object(v.useTranslation)(),{model:l,groupVersionKind:c,selector:u}=i,{namespace:p}=r,m=e?`${e}-${c}`:null,b=a.useMemo(()=>{try{return Object(f.b)(u)}catch(e){console.error(`Invalid selector string provided to K8sResourceWidget: '${u}'. If using OLM descriptors, please validate the provided selector.`)}return null},[u]);return a.createElement("div",null,d.a(l)?a.createElement("span",null,s("console-shared~Cluster does not have resource {{groupVersionKind}}",{groupVersionKind:c})):a.createElement(g.O,{key:t,id:t,resources:[{kind:c,selector:b,namespace:l.namespaced?p:null}],desc:n,placeholder:s("console-shared~Select {{label}}",{label:l.label}),onChange:e=>o(e),selectedKey:m}))},NumberWidget:j,PasswordWidget:O,PodCountWidget:T,SelectWidget:C,TextWidget:k,int32:j,int64:j}},6426:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(132);const i=(e,t)=>({[a.n]:{description:t("knative-plugin~A KafkaSink takes a CloudEvent, and sends it to an Apache Kafka Topic. Events can be specified in either Structured or Binary mode."),provider:"Red Hat",support:t("knative-plugin~Supported")}}[e])},6427:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return O}));var a,i=n(0),r=n(19),o=n(88),s=n(408),l=n(407),c=n(640),u=n(7144),d=n(745),p=n(50),m=n(7),v=n(6239);!function(e){e.Preferred="Preferred",e.Required="Required"}(a||(a={}));const b=["In","NotIn","Exists","DoesNotExist"],g={key:"",operator:"Exists"},h={requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[{matchExpressions:[c.a(g)]}]},preferredDuringSchedulingIgnoredDuringExecution:[{weight:1,preference:{matchExpressions:[c.a(g)]}}]},f={requiredDuringSchedulingIgnoredDuringExecution:[{topologyKey:"failure-domain.beta.kubernetes.io/zone",labelSelector:{matchExpressions:[c.a(g)]}}],preferredDuringSchedulingIgnoredDuringExecution:[{weight:1,podAffinityTerm:{topologyKey:"failure-domain.beta.kubernetes.io/zone",labelSelector:{matchExpressions:[c.a(g)]}}}]},y=({key:e,type:t,showRemoveButton:n=!1,onClickRemove:o,onChange:l=(()=>{}),rule:c})=>{const{t:p}=Object(m.useTranslation)(),{weight:g,selector:h}=c;return i.createElement("div",{className:"co-affinity-term"},n&&i.createElement(r.a,{type:"button",className:"co-affinity-term__remove",onClick:o,variant:"link"},i.createElement(s.a,{className:"co-icon-space-r"}),p("olm~Remove {{item}}",{item:t})),t===a.Preferred&&i.createElement("div",{className:"co-affinity-term__weight-input"},i.createElement("label",{className:"control-label co-required",htmlFor:"preference-"+e},p("olm~Weight")),i.createElement("input",{className:"pf-v5-c-form-control",type:"number",value:g,onChange:e=>{var t;const n=u.a(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value);l(Object.assign(Object.assign({},c),{weight:d.a(n)?n:void 0}))},required:!0})),i.createElement(v.a,{matchExpressions:null==h?void 0:h.matchExpressions,onChange:e=>l(Object.assign(Object.assign({},c),{selector:Object.assign(Object.assign({},h),{matchExpressions:e})})),allowedOperators:b,uid:e}))},k=({affinity:e,onChange:t,uid:n=""})=>{var s;const{t:c}=Object(m.useTranslation)(),u=(null===(s=null==e?void 0:e.requiredDuringSchedulingIgnoredDuringExecution)||void 0===s?void 0:s.nodeSelectorTerms)||[],d=(null==e?void 0:e.preferredDuringSchedulingIgnoredDuringExecution)||[];return i.createElement("dl",null,i.createElement(o.a,{content:c("olm~Required rules must be met before a pod can be scheduled on a node.")},i.createElement("dt",null,c("olm~Required during scheduling, ignored during execution"))),i.createElement("dd",null,u.map((r,o)=>i.createElement(y,{key:`${n}-node-affinity-required-${o}`,onChange:n=>(({selector:n},a)=>null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:u.map((e,t)=>t===a?n:e)}})))(n,o),onClickRemove:()=>{return n=o,null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:u.filter((e,t)=>t!==n)}}));var n},rule:{selector:r},showRemoveButton:!0,type:a.Required})),i.createElement("div",{className:"row"},i.createElement(r.a,{type:"button",onClick:()=>null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[...u,{matchExpressions:[]}]}})),variant:"link"},i.createElement(l.a,{className:"co-icon-space-r"}),c("olm~Add required")))),i.createElement(o.a,{content:c("olm~Preferred rules specify that, if the rule is met, the scheduler tries to enforce the rules, but does not guarantee enforcement.")},i.createElement("dt",null,c("olm~Preferred during scheduling, ignored during execution"))),i.createElement("dd",null,d.map(({preference:r,weight:o},s)=>i.createElement(y,{key:`${n}-node-affinity-preferred-${s}`,onChange:n=>(({selector:n,weight:a},i)=>null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:d.map((e,t)=>t===i?{preference:n,weight:a}:e)})))(n,s),onClickRemove:()=>{return n=s,null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:d.filter((e,t)=>t!==n)}));var n},rule:{selector:r,weight:o},showRemoveButton:!0,type:a.Preferred})),i.createElement("div",{className:"row"},i.createElement(r.a,{type:"button",onClick:()=>null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:[...d,{weight:1,preference:{matchExpressions:[]}}]})),variant:"link"},i.createElement(l.a,{className:"co-icon-space-r"}),c("olm~Add preferred")))))},j=({key:e,onChange:t=(()=>{}),onClickRemove:n=(()=>{}),showRemoveButton:o=!1,rule:l,type:c})=>{const{t:p}=Object(m.useTranslation)(),{podAffinityTerm:g,weight:h}=l,f=(null==g?void 0:g.labelSelector)||{},y=null==g?void 0:g.topologyKey;return g?i.createElement("div",{className:"co-affinity-term"},o&&i.createElement(r.a,{type:"button",className:"co-affinity-term__remove",onClick:n,variant:"link"},i.createElement(s.a,{className:"co-icon-space-r"}),p("olm~Remove {{item}}",{item:c})),i.createElement("div",{className:"co-affinity-term__topology"},c===a.Preferred&&i.createElement("div",{className:"co-affinity-term__weight-input"},i.createElement("label",{className:"control-label co-required",htmlFor:"preference-"+e},p("olm~Weight")),i.createElement("input",{className:"pf-v5-c-form-control",type:"number",value:h,onChange:e=>{var n;const a=u.a(null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.value);t(Object.assign(Object.assign({},l),{weight:d.a(a)?a:void 0}))},required:!0})),i.createElement("div",{className:"co-affinity-term__topology-input"},i.createElement("label",{className:"control-label co-required",htmlFor:"topology-"+e},p("olm~Topology key")),i.createElement("input",{id:"topology-"+e,className:"pf-v5-c-form-control",type:"text",value:y,onChange:e=>{var n;return t(Object.assign(Object.assign({},l),{podAffinityTerm:Object.assign(Object.assign({},g),{topologyKey:null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.value})}))},required:!0}))),i.createElement(v.a,{matchExpressions:null==f?void 0:f.matchExpressions,onChange:e=>t(Object.assign(Object.assign({},l),{podAffinityTerm:Object.assign(Object.assign({},g),{labelSelector:Object.assign(Object.assign({},f),{matchExpressions:e})})})),allowedOperators:b,uid:e})):null},O=({affinity:e,onChange:t,uid:n=""})=>{const{requiredDuringSchedulingIgnoredDuringExecution:s=[],preferredDuringSchedulingIgnoredDuringExecution:c=[]}=e||{},{t:u}=Object(m.useTranslation)();return i.createElement("dl",null,i.createElement(o.a,{content:u("olm~Required rules must be met before a pod can be scheduled on a node.")},i.createElement("dt",null,u("olm~Required during scheduling, ignored during execution"))),i.createElement("dd",null,p.a(s,(r,o)=>i.createElement(j,{key:`${n}-pod-affinity-required-${o}`,rule:{podAffinityTerm:r},onChange:n=>(({podAffinityTerm:n},a)=>null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:s.map((e,t)=>t===a?n:e)})))(n,o),onClickRemove:()=>{return n=o,null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:s.filter((e,t)=>n!==t)}));var n},showRemoveButton:!0,type:a.Required})),i.createElement("div",{className:"row"},i.createElement(r.a,{type:"button",onClick:()=>null==t?void 0:t(Object.assign(Object.assign({},e),{requiredDuringSchedulingIgnoredDuringExecution:[...s,{topologyKey:"",labelSelector:{matchExpressions:[]}}]})),variant:"link"},i.createElement(l.a,{className:"co-icon-space-r"}),u("olm~Add required")))),i.createElement(o.a,{content:u("olm~Preferred rules specify that, if the rule is met, the scheduler tries to enforce the rules, but does not guarantee enforcement.")},i.createElement("dt",null,u("olm~Preferred during scheduling, ignored during execution"))),i.createElement("dd",null,c.map((r,o)=>i.createElement(j,{key:`${n}-pod-affinity-preferred-${o}`,onChange:n=>{return a=n,i=o,null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:c.map((e,t)=>t===i?a:e)}));var a,i},onClickRemove:()=>{return n=o,null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:c.filter((e,t)=>n!==t)}));var n},showRemoveButton:!0,rule:r,type:a.Preferred})),i.createElement("div",{className:"row"},i.createElement(r.a,{type:"button",onClick:()=>null==t?void 0:t(Object.assign(Object.assign({},e),{preferredDuringSchedulingIgnoredDuringExecution:[...c,{weight:1,podAffinityTerm:{topologyKey:"",labelSelector:{matchExpressions:[]}}}]})),variant:"link"},i.createElement(l.a,{className:"co-icon-space-r"}),u("olm~Add preferred")))))};k.displayName="NodeAffinity",O.displayName="PodAffinity"},6598:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(689),i=n(5621),r=n(15),o=n(614),s=n(5844);const l=e=>a.object().shape({uri:a.string().max(2e3,e("knative-plugin~Please enter a URI that is less then 2000 characters.")).test("validate-uri",e("knative-plugin~Invalid URI."),(function(e){return Object(r.Wd)(e)})).required(e("knative-plugin~Required"))}),c=e=>a.object().when("sinkType",{is:s.b.Resource,then:a.object().shape({name:a.string().required(e("knative-plugin~Required"))})}).when("sinkType",{is:s.b.Uri,then:l(e)}),u=e=>a.object().when("type",{is:s.a.PingSource,then:a.object().shape({[s.a.PingSource]:a.object().shape({data:a.string().max(253,e("knative-plugin~Cannot be longer than 253 characters.")),schedule:a.string().max(253,e("knative-plugin~Cannot be longer than 253 characters.")).required(e("knative-plugin~Required"))})})}).when("type",{is:s.a.SinkBinding,then:a.object().shape({[s.a.SinkBinding]:a.object().shape({subject:a.object().shape({selector:a.object().shape({matchLabels:a.object()}),name:a.string().when("selector.matchLabels",{is:e=>!e,then:a.string().required(e("knative-plugin~Required"))}),apiVersion:a.string().max(253,e("knative-plugin~Cannot be longer than 253 characters.")).required(e("knative-plugin~Required")),kind:a.string().max(253,e("knative-plugin~Cannot be longer than 253 characters.")).required(e("knative-plugin~Required"))})})})}).when("type",{is:s.a.ApiServerSource,then:a.object().shape({[s.a.ApiServerSource]:a.object().shape({resources:a.array().of(a.object({apiVersion:a.string().required(e("knative-plugin~Required")),kind:a.string().required(e("knative-plugin~Required"))})).required(e("knative-plugin~Required"))})})}).when("type",{is:s.a.KafkaSource,then:a.object().shape({[s.a.KafkaSource]:a.object().shape({bootstrapServers:a.array().of(a.string()).min(1,e("knative-plugin~Required")),consumerGroup:a.string().required(e("knative-plugin~Required")),topics:a.array().of(a.string()).min(1,e("knative-plugin~Required")),net:a.object().shape({sasl:a.object().shape({enable:a.boolean(),user:a.object().shape({secretKeyRef:a.object().shape({name:a.string(),key:a.string()})}),password:a.object().shape({secretKeyRef:a.object().shape({name:a.string(),key:a.string()})})}),tls:a.object().shape({enable:a.boolean(),caCert:a.object().shape({secretKeyRef:a.object().shape({name:a.string(),key:a.string()})}),cert:a.object().shape({secretKeyRef:a.object().shape({name:a.string(),key:a.string()})}),key:a.object().shape({secretKeyRef:a.object().shape({name:a.string(),key:a.string()})})})})})})}).when("type",{is:s.a.ContainerSource,then:a.object().shape({[s.a.ContainerSource]:a.object().shape({template:a.object({spec:a.object({containers:a.array().of(a.object({image:a.string().required(e("knative-plugin~Required"))}))})})})})}),d=e=>a.object().shape({editorType:a.string(),formData:a.object().when("editorType",{is:o.b.Form,then:a.object().shape({project:i.l,application:i.a,name:Object(r.Zd)(e),sink:c(e),data:u(e)})}),yamlData:a.string()}),p=e=>a.object().shape({editorType:a.string(),formData:a.object().when("editorType",{is:o.b.Form,then:a.object().shape({project:i.l,application:i.a,name:Object(r.Zd)(e),data:a.object(),type:a.string()})}),yamlData:a.string()})},6606:function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return C}));var a=n(0),i=n(297),r=n(155),o=n(19),s=n(80),l=n(408),c=n(407),u=n(5764),d=n(22),p=n(50),m=n(4397),v=n(16),b=n(1257),g=n(240),h=n(7),f=n(5),y=n(5897),k=n(6116),j=n(5955);const O=({children:e,id:t,label:n,rawErrors:r,description:o,required:s,schema:l,uiSchema:c})=>a.createElement(k.b,{id:t,defaultLabel:n,required:s,schema:l,uiSchema:c},e,o,!d.a(r)&&a.createElement(a.Fragment,null,p.a(r,e=>a.createElement(i.a,{key:e},m.a(e))))),E=({properties:e})=>{const{t:t}=Object(h.useTranslation)();return a.createElement(f.x,{textCollapsed:t("console-shared~Advanced configuration"),textExpanded:t("console-shared~Advanced configuration")},p.a(e,e=>e.content))},S=e=>{const{hidden:t,schema:n={},children:i,uiSchema:r={},formContext:o={}}=e,s=Object(u.getSchemaType)(n),[l,c]=a.useState(!0);if(a.useEffect(()=>{var e,t;const{dependency:n}=Object(u.getUiOptions)(null!=r?r:{});n&&c((null==n?void 0:n.controlFieldValue)===v.a(null!==(e=o.formData)&&void 0!==e?e:{},["spec",...null!==(t=null==n?void 0:n.controlFieldPath)&&void 0!==t?t:[]],"").toString())},[r,o]),t||!l)return null;return y.b.includes(s)?i:a.createElement(O,Object.assign({},e))},T=({idSchema:e,properties:t,required:n,schema:i,title:r,uiSchema:o})=>{const{advanced:s}=Object(u.getUiOptions)(null!=o?o:{}),{normalProperties:l,advancedProperties:c}=b.a(null!=t?t:[],({name:e})=>g.a(s,e)?"advancedProperties":"normalProperties");return(null==t?void 0:t.length)?a.createElement(k.a,{defaultLabel:r,idSchema:e,required:n,schema:i,uiSchema:o},a.createElement("div",{className:"co-dynamic-form__field-group-content"},(null==l?void 0:l.length)>0&&p.a(l,e=>e.content),(null==c?void 0:c.length)>0&&a.createElement(E,{properties:c}))):null},P=({idSchema:e,items:t,onAddClick:n,required:i,schema:s,title:u,uiSchema:d})=>{const{t:m}=Object(h.useTranslation)(),[,v]=Object(j.g)(s,d,null!=u?u:"Items");return a.createElement(k.a,{defaultLabel:v,idSchema:e,required:i,schema:s,uiSchema:d},p.a(null!=t?t:[],e=>a.createElement("div",{className:"co-dynamic-form__array-field-group-item",key:e.key},e.index>0&&a.createElement(r.a,{className:"co-divider"}),e.hasRemove&&a.createElement("div",{className:"row co-dynamic-form__array-field-group-remove"},a.createElement(o.a,{id:e.key+"_remove-btn",type:"button",onClick:e.onDropIndexClick(e.index),variant:"link"},a.createElement(l.a,{className:"co-icon-space-r"}),m("console-shared~Remove {{singularLabel}}",{singularLabel:v}))),e.children)),a.createElement("div",{className:"row"},a.createElement(o.a,{id:e.$id+"_add-btn",type:"button",onClick:n,variant:"link"},a.createElement(c.a,{className:"co-icon-space-r"}),m("console-shared~Add {{singularLabel}}",{singularLabel:v}))))},C=({errors:e})=>{const{t:t}=Object(h.useTranslation)();return a.createElement(s.a,{isInline:!0,className:"co-alert co-break-word co-alert--scrollable",variant:"danger",title:t("console-shared~Error")},t("console-shared~Fix the following errors:"),a.createElement("ul",null,p.a(e,e=>a.createElement("li",{key:e},e))))}},6607:function(e,t,n){},6835:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const a="app.kubernetes.io/part-of",i="broker-app",r="event-sources-app",o="default"},6836:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return j}));var a=n(61),i=n(255),r=n(384),o=n(22),s=n(117),l=n(313),c=n(1557),u=n(359),d=n(8),p=n(15),m=n(5955),v=n(6015),b=n(7429),g=n(5759),h=n(5796),f=n(6837);const y=(e=[])=>{if(!(null==e?void 0:e.length))return{};const t=s.a(e,e=>e.startsWith(g.c.k8sResourcePrefix));if(t)return(e=>{var t;const[,n,a]=null!==(t=e.match(v.j))&&void 0!==t?t:[],i=null==n?void 0:n.replace(/:/g,"~"),r=i&&Object(d.vb)(i);return r?{"ui:widget":"K8sResourceWidget","ui:options":Object.assign({model:r,groupVersionKind:i},a?{selector:a}:{})}:{}})(t);if(l.a(e,e=>e.startsWith(g.c.select)))return(e=>{const t=e.reduce((e,t)=>{var n;const[,a]=null!==(n=t.match(v.l))&&void 0!==n?n:[];return Object.assign(Object.assign({},e),a&&{[a]:a})},{});return o.a(t)?{}:{"ui:field":"DropdownField","ui:items":t}})(e);const n=i.a(e,(e,t)=>null!=e?e:b.a.get(t),void 0),a=i.a(e,(e,t)=>null!=e?e:b.b.get(t),void 0);return Object.assign(Object.assign({},n&&{"ui:field":n}),a&&{"ui:widget":a})},k=(e,t)=>{const n=i.a(e,(e,n,i)=>{const o=Object(p.Gd)(t,n.path);if(!o)return console.warn("[OperandForm] SpecDescriptor path references a non-existent schema property:",n.path),e;const s=Object(h.b)(n,o),l=Object(m.e)(n.path),c=s.includes(g.c.advanced),u=s.find(e=>e.startsWith(g.c.fieldDependency));return e.withMutations(e=>{var t;if(c){const n=r.a(l),i=[...l.slice(0,-1),"ui:advanced"],o=null!==(t=e.getIn(i))&&void 0!==t?t:a.List();e.setIn(i,o.push(n))}e.mergeDeepIn(l,a.Map(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n.description&&{"ui:description":n.description}),n.displayName&&{"ui:title":n.displayName}),u&&(e=>{var t;const[,n,a]=null!==(t=e.match(v.i))&&void 0!==t?t:[],i=Object(m.e)(n),o=r.a(i);return n&&a?{"ui:dependency":{controlFieldPath:i,controlFieldValue:a,controlFieldName:o}}:{}})(u)),y(s)),{"ui:sortOrder":i+1})))})},a.Map()).toJS();return c.a(n,Object(m.a)(t,n))},j=(e,t)=>{var n,a,r;return{metadata:Object.assign(Object.assign({},(r=null===(n=null==e?void 0:e.properties)||void 0===n?void 0:n.metadata,i.a(null==r?void 0:r.properties,(e,t,n)=>Object.assign(Object.assign({},e),{[n]:f.b}),{}))),{name:{"ui:title":u.a.t("public~Name"),"ui:widget":"TextWidget"},labels:{"ui:title":u.a.t("public~Labels"),"ui:field":"LabelsField"},"ui:options":{label:!1},"ui:order":["name","labels","*"]}),spec:Object.assign(Object.assign({},k(null==t?void 0:t.specDescriptors,null===(a=null==e?void 0:e.properties)||void 0===a?void 0:a.spec)),{"ui:options":{label:!1}}),"ui:order":["metadata","spec","*"]}}},6837:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5414);const i={type:a.JSONSchemaType.object,properties:{metadata:{type:a.JSONSchemaType.object,properties:{namespace:{type:a.JSONSchemaType.string},name:{type:a.JSONSchemaType.string,default:"example"},labels:{type:a.JSONSchemaType.object,properties:{},additionalProperties:{type:a.JSONSchemaType.string}}},required:["name"]},spec:{type:a.JSONSchemaType.object},apiVersion:{type:a.JSONSchemaType.string},kind:{type:a.JSONSchemaType.string}}},r={"ui:widget":"hidden","ui:options":{label:!1}}},6844:function(e,t,n){"use strict";n.d(t,"f",(function(){return k})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return C}));var a=n(0),i=n(380),r=n(4420),o=n(1220),s=n(5711),l=n(13),c=n(5),u=n(5684),d=n(10),p=n(8),m=n(614),v=n(30),b=n(2221),g=n(5844),h=n(132),f=n(5843),y=n(870);const k=e=>Object.keys(g.c).includes(e),j=e=>{if(!e||e&&0===e.length||e&&!Object(p.eb)(e))return"";const[,,t]=Object(p.F)(e);return t},O=e=>{const[t,n]=Object(l.lc)({loaded:!1,channelList:[]}),{channels:i,loaded:o}=Object(y.useChannelResourcesList)();return a.useEffect(()=>{const t=[];o&&(r.a(i,n=>{var a;if(Object(p.eb)(n)){const[i]=null!==(a=Object(p.F)(n))&&void 0!==a?a:[],{plural:r}=Object(p.vb)(n)||{};t.push(Object(c.Fb)({group:i,resource:r,namespace:e,verb:"create"}).then(e=>e.status.allowed?n:""))}}),Promise.all(t).then(e=>{const t=e.reduce((e,t)=>t.length>0?[...e,t]:e,[]);n({loaded:!0,channelList:t})}).catch(e=>console.warn("Error while checking create access for channels",e.message)))},[e,i,o,n]),t},E=(e,t)=>{var n,a,i;const r=e.spec,o=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a["app.kubernetes.io/part-of"];return Object.assign(Object.assign({},t),{application:Object.assign(Object.assign(Object.assign({},t.application),o&&o!==t.application.name&&{name:o,selectedKey:t.application.selectedKey?b.b:""}),!o&&{name:"",selectedKey:v.cb}),name:null===(i=e.metadata)||void 0===i?void 0:i.name,data:{[j(t.type).toLowerCase()]:Object.assign({},r)}})},S=e=>{const{type:t,name:n,data:a,application:{name:i},namespace:r}=e;if(!Object(p.eb)(t))return{};const o=Object(s.a)({name:n,applicationName:i}),[l,c,u]=Object(p.F)(t),d=a[u.toLowerCase()];return{apiVersion:`${l}/${c}`,kind:u,metadata:{name:n,namespace:r,labels:Object.assign({},o),annotations:Object(s.b)()},spec:Object.assign({},d&&d)}},T=e=>{if(e.editorType===m.b.YAML)return Object(f.l)(e);const{formData:t}=e;return S(t)},P=e=>({kafkachannel:{numPartitions:1,replicationFactor:1}}[e]),C=e=>{var t;const[n,a]=Object(u.a)(d.ConfigMapModel,"default-ch-webhook","knative-eventing");let r=h.j;if(n&&a){const a=Object(i.safeLoad)(null===(t=n.data)||void 0===t?void 0:t["default-ch-config"]);r=o.a(null==a?void 0:a.namespaceDefaults,e)?null==a?void 0:a.namespaceDefaults[e].kind:null==a?void 0:a.clusterDefault.kind}return[r,a]}},7429:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(61),i=n(6116),r=n(6350),o=n(5759);const s=a.Map({[o.c.nodeAffinity]:i.c,[o.c.podAffinity]:i.d,[o.c.podAntiAffinity]:i.d,[o.c.resourceRequirements]:i.e,[o.c.updateStrategy]:i.f}),l=a.Map({[o.c.hidden]:"hidden",[o.c.imagePullPolicy]:r.b,[o.c.booleanSwitch]:r.g,[o.c.checkbox]:r.a,[o.c.number]:r.c,[o.c.password]:r.d,[o.c.podCount]:r.e,[o.c.text]:r.h,[o.c.select]:r.f})},7452:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(15),o=n(5844),s=n(7453),l=n(7455);t.a=({namespace:e,isMoveSink:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.Lb,{name:"formData.sinkType",options:[{label:Object(o.d)(n).Resource.label,value:Object(o.d)(n).Resource.value,activeChildren:a.createElement(s.a,{namespace:e,isMoveSink:t})},{label:Object(o.d)(n).Uri.label,value:Object(o.d)(n).Uri.value,activeChildren:a.createElement(l.a,null)}]})}},7453:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(80),o=n(297),s=n(319),l=n(157),c=n(55),u=n(230),d=n(22),p=n(7),m=n(15),v=n(870),b=n(1412),g=n(5845),h=n(5844);n(7454);t.a=({namespace:e,isMoveSink:t})=>{const{t:n}=Object(p.useTranslation)(),[f,y]=a.useState(!1),{setFieldValue:k,setFieldTouched:j,validateForm:O,initialValues:E}=Object(c.f)(),[,{touched:S}]=Object(c.e)("formData.sinkType"),T=Object(m.Kc)("sink-name","dropdown"),P=a.useCallback((e,t)=>{var n,a;const i=null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.model,r=null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name;if(r&&i){const{apiGroup:e,apiVersion:t,kind:n}=i;k("formData.sink.name",r),j("formData.sink.name",!0),k("formData.sink.apiVersion",e?`${e}/${t}`:t),j("formData.sink.apiVersion",!0),k("formData.sink.kind",n),j("formData.sink.kind",!0),O()}},[k,j,O]),C=!t&&!!E.formData.sink.name,R=[...Object(b.k)(e),...Object(b.r)(e),...Object(v.getDynamicChannelResourceList)(e),...Object(b.n)(e),...Object(b.o)(e)];return a.createElement(i.a,{fieldId:T,isRequired:!0},f&&a.createElement(a.Fragment,null,a.createElement(r.a,{variant:"custom",title:n("knative-plugin~No resources available"),isInline:!0},n("knative-plugin~Select the URI option, or exit this form and create a Knative Service, Broker, or Channel first."))," "),a.createElement(m.Ob,{menuClassName:"max-height-menu","data-test":"sinkable-resources",name:"formData.sink.key",resources:R,dataSelector:["metadata","name"],fullWidth:!0,placeholder:n("knative-plugin~Select resource"),showBadge:!0,disabled:C||f,onChange:P,autocompleteFilter:(e,t)=>{var n;return u(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},autoSelect:!0,customResourceKey:g.a,resourceFilter:({metadata:e})=>{var t;return!(null===(t=null==e?void 0:e.ownerReferences)||void 0===t?void 0:t.length)},onLoad:e=>{Object(d.a)(e)?(y(!0),S||(k("formData.sinkType",h.b.Uri),j("formData.sinkType",!0))):y(!1)}}),!C&&a.createElement(o.a,null,a.createElement(s.a,null,a.createElement(l.a,null,n("knative-plugin~This resource will be the sink for the Event source.")))))}},7454:function(e,t,n){},7455:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(281),o=n(297),s=n(319),l=n(157),c=n(7),u=n(15);t.a=()=>{const{t:e}=Object(c.useTranslation)();return a.createElement(i.a,{fieldId:Object(u.Kc)("sink-name","uri"),isRequired:!0},a.createElement(u.ab,{type:r.b.text,name:"formData.sink.uri",placeholder:e("knative-plugin~Enter URI"),"data-test-id":"sink-section-uri",required:!0}),a.createElement(o.a,null,a.createElement(s.a,null,a.createElement(l.a,null,e('knative-plugin~A Universal Resource Indicator where events are going to be delivered. Ex. "http://cluster.example.com/svc"')))))}},7456:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(689);const i=a.object().shape({formData:a.object().shape({metadata:a.object().shape({name:a.string().required("Required")})})})},7457:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(55),o=n(57),s=n(7),l=n(1949),c=n(15);t.a=()=>{var e,t,n;const{setFieldValue:u,status:d,values:p}=Object(r.f)(),m=(e=>{let t=[];for(const n in e)e.hasOwnProperty(n)&&(t=[...t,[n,e[n]]]);return t})(null===(n=null===(t=null===(e=p.formData)||void 0===e?void 0:e.spec)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.attributes),[v,b]=a.useState(m.length>0?m:[["",""]]),{t:g}=Object(s.useTranslation)(),h=a.useCallback(({nameValuePairs:e})=>{let t={};o.a(e,([e,n])=>n.length?(t=Object.assign(Object.assign({},t),{[e]:n}),t):t),b(e),u("formData.spec.filter.attributes",t)},[u]);return a.createElement(i.a,{fieldId:Object(c.Kc)("pubsub","filter"),label:g("knative-plugin~Filter"),required:!0},a.createElement(l.NameValueEditor,{nameValuePairs:d.subscriberAvailable?v:[],valueString:g("knative-plugin~Value"),nameString:g("knative-plugin~Attribute"),readOnly:!d.subscriberAvailable,allowSorting:!1,updateParentData:h,addString:g("knative-plugin~Add more")}))}},7458:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(80),o=n(55),s=n(230),l=n(22),c=n(7),u=n(764),d=n(15),p=n(1412),m=n(5845);t.a=({autoSelect:e=!0,cancel:t})=>{const{t:n}=Object(c.useTranslation)(),{values:v,setFieldValue:b,setFieldTouched:g,validateForm:h,setStatus:f}=Object(o.f)(),{namespace:y}=v.formData.metadata,[k,j]=a.useState(!1),O=a.useCallback((e,t)=>{var n;const a=null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.model;if(e){if(g("formData.spec.subscriber.ref.name",!0),b("formData.spec.subscriber.ref.name",e),a){const{apiGroup:e="core",apiVersion:t,kind:n}=a;b("formData.spec.subscriber.ref.apiVersion",`${e}/${t}`),g("formData.spec.subscriber.ref.apiVersion",!0),b("formData.spec.subscriber.ref.kind",n),g("formData.spec.subscriber.ref.kind",!0)}h()}},[b,g,h]);a.useEffect(()=>{f({subscriberAvailable:!k})},[k,f]);return a.createElement(i.a,{fieldId:Object(d.Kc)("pubsub","subscriber"),label:n("knative-plugin~Subscriber"),isRequired:!0},k&&a.createElement(a.Fragment,null,a.createElement(r.a,{variant:"custom",title:n("knative-plugin~No Subscriber available"),isInline:!0},a.createElement(c.Trans,{t:n,ns:"knative-plugin"},"To create a Subscriber, first create a Knative Service from the ",a.createElement(u.Link,{to:"/add/ns/"+y,onClick:()=>{t&&t()}},"Add page"),"."))," "),a.createElement(d.Ob,{name:"formData.spec.subscriber.ref.name",resources:Object(p.i)(y),dataSelector:["metadata","name"],fullWidth:!0,required:!0,placeholder:n("knative-plugin~Select Subscriber"),showBadge:!0,autocompleteFilter:(e,t)=>{var n;return s(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},onChange:O,customResourceKey:m.a,disabled:k,resourceFilter:({metadata:e})=>{var t;return!(null===(t=null==e?void 0:e.ownerReferences)||void 0===t?void 0:t.length)},onLoad:e=>{j(l.a(e))},autoSelect:e}))}},8190:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5695),l=n(761),c=n(5),u=n(6341),d=n(76),p=n(9400),m=n(9523);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{ns:t}=Object(o.useParams)(),n=Object(o.useLocation)(),v=new URLSearchParams(n.search),b=v.get("sourceKind"),g=b&&v.get("name"),h=g&&b===d.b.kind,{isValidSource:f,createSourceAccessLoading:y,createSourceAccess:k,loaded:j,normalizedSource:O,kamelet:E}=Object(u.c)(t,b,g);return a.createElement(s.b,{disabled:!0,variant:s.a.light},a.createElement(i.a,null,a.createElement("title",null,e("knative-plugin~Event Source"))),a.createElement(c.Z,{title:e("knative-plugin~Create Event Source")},e("knative-plugin~Create an Event source to register interest in a class of events from a particular system. Configure using YAML and form views.")),j?a.createElement(m.a,{isValidSource:f,createSourceAccessLoading:y,createSourceAccess:k}):a.createElement(c.S,null),j&&f&&!y&&k&&a.createElement(p.a,{namespace:t,normalizedSource:O,selectedApplication:v.get(l.r.APPLICATION),contextSource:v.get(l.r.CONTEXT_SOURCE),sourceKind:b,kameletSource:h&&E}))}},8219:function(e,t,n){"use strict";var a=n(0),i=n(22),r=n(7);n(9522);t.a=({normalizedData:e})=>{const{t:t}=Object(r.useTranslation)();if(i.a(e))return null;const{name:n,provider:o,iconUrl:s,description:l}=e;return a.createElement("div",{className:"kn-event-metadata-description__container"},a.createElement("div",{className:"co-clusterserviceversion-logo"},a.createElement("div",{className:"co-clusterserviceversion-logo__icon"},a.createElement("span",{className:"co-catalog-item-icon__bg"},a.createElement("img",{className:"co-catalog-item-icon__img co-catalog-item-icon__img--large",src:s,alt:n,"aria-hidden":!0}))),a.createElement("div",{className:"co-clusterserviceversion-logo__name"},a.createElement("h1",{className:"co-clusterserviceversion-logo__name__clusterserviceversion"},n),o&&a.createElement("span",{className:"co-clusterserviceversion-logo__name__provider text-muted"},t("knative-plugin~Provided by {{provider}}",{provider:o})))),l)}},8220:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5695),l=n(761),c=n(5),u=n(6844),d=n(9524);t.a=()=>{const{ns:e}=Object(o.useParams)(),t=Object(o.useLocation)(),n=Object(u.g)(e),{t:p}=Object(r.useTranslation)(),m=new URLSearchParams(t.search);return a.createElement(s.b,{disabled:!0,variant:s.a.light},a.createElement(i.a,null,a.createElement("title",null,p("knative-plugin~Channel"))),a.createElement(c.Z,{title:p("knative-plugin~Channel")},p("knative-plugin~Create a Knative Channel to create an event forwarding and persistence layer with in-memory and reliable implementations")),a.createElement(d.a,{namespace:e,channels:n,selectedApplication:m.get(l.r.APPLICATION),contextSource:m.get(l.r.CONTEXT_SOURCE)}))}},8221:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5695),l=n(6281),c=n(761),u=n(5),d=n(9530);t.a=()=>{const{ns:e}=Object(o.useParams)(),t=Object(o.useLocation)(),{t:n}=Object(r.useTranslation)(),p=new URLSearchParams(t.search);return a.createElement(s.b,{disabled:!0,variant:s.a.light},a.createElement(i.a,null,a.createElement("title",null,n("knative-plugin~Broker"))),a.createElement(u.Z,{title:n("knative-plugin~Broker")},n("knative-plugin~Create a Broker to define an event mesh for collecting a pool of events and route those events based on attributes, through triggers")),a.createElement(l.a,null,t=>a.createElement(d.a,{namespace:e,selectedApplication:t,contextSource:p.get(c.r.CONTEXT_SOURCE)})))}},8222:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),i=n(15),r=n(614),o=n(1941),s=n(5594),l=n(76),c=n(6835);const u=e=>{const{name:t,project:{name:n},application:{selectedKey:r,name:o=null},spec:s={}}=e;return{apiVersion:Object(a.n)(l.f),kind:l.f.kind,metadata:Object.assign({name:t,namespace:n},o&&r!==i.mc&&{labels:{[c.d]:o}}),spec:s}},d=(e,t)=>{const n={name:c.a,spec:{},project:{name:e||"",displayName:"",description:""},application:{initial:Object(s.k)(t),name:Object(s.k)(t)||c.b,selectedKey:t||""}},a=Object(o.b)(u(n),"yamlData",{skipInvalid:!0});return{showCanUseYAMLMessage:!0,editorType:r.b.Form,yamlData:a,formData:n}}},8223:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5695),l=n(761),c=n(5),u=n(6169),d=n(9533),p=n(9540);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{ns:t}=Object(o.useParams)(),n=Object(o.useLocation)(),m=new URLSearchParams(n.search),v=m.get("sinkKind"),b=v&&m.get("name"),{isValidSink:g,createSinkAccessLoading:h,createSinkAccess:f,loaded:y,normalizedSink:k,kamelet:j}=Object(u.a)(t,v,b);return y?a.createElement(s.b,{disabled:!0,variant:s.a.light},a.createElement(i.a,null,a.createElement("title",null,e("knative-plugin~Event Sink"))),a.createElement(c.Z,{title:e("knative-plugin~Create Event Sink")},e("knative-plugin~Create an Event sink to receive incoming events from a particular source. Configure using YAML and form views.")),y&&g&&!h&&f?a.createElement(d.a,{namespace:t,normalizedSink:k,selectedApplication:m.get(l.r.APPLICATION),contextSource:m.get(l.r.CONTEXT_SOURCE),sinkKind:v,kameletSink:j}):a.createElement(p.a,{isValidSink:g,createSinkAccessLoading:h,createSinkAccess:f})):a.createElement(c.S,null)}},8224:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5695),l=n(5),c=n(132),u=n(9541);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{ns:t}=Object(o.useParams)(),n=Object(o.useLocation)(),d=new URLSearchParams(n.search),p=d.get(c.cb),m=d.get(c.db),v=d.get(c.eb),b={kind:m,apiVersion:p,metadata:{namespace:t,name:v}};return a.createElement(s.b,{disabled:!0,variant:s.a.light},a.createElement(i.a,null,a.createElement("title",null,e("knative-plugin~Subscribe"))),a.createElement(l.Z,{title:e("knative-plugin~Subscribe")},e("knative-plugin~Subscribe to")," ",p," ",m," ",t,"/",v),a.createElement(u.a,{source:b}))}},9400:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(117),o=n(2338),s=n(7),l=n(31),c=n(13),u=n(5),d=n(8),p=n(518),m=n(15),v=n(614),b=n(1941),g=n(5625),h=n(132),f=n(76),y=n(5843),k=n(870),j=n(5845),O=n(6835),E=n(6598),S=n(9401),T=n(5844),P=n(8219);t.a=Object(l.connect)((e,t)=>{const n=t.selectedApplication||Object(p.c)(e);return{activeApplication:n!==m.b?n:""}})(({namespace:e,normalizedSource:t,activeApplication:n,contextSource:l,sourceKind:p="",kameletSource:C})=>{var R,w;const N=Object(m.Pe)(),[x]=Object(c.jc)(),{t:D}=Object(s.useTranslation)();let A={},I="",_="",L="";if(p){const e=r.a(Object(k.getEventSourceModels)(),{kind:p});I=e?`${null==e?void 0:e.apiGroup}/${null==e?void 0:e.apiVersion}`:C?`${f.b.apiGroup}/${f.b.apiVersion}`:h.T+"/v1alpha2",A=Object(y.k)(p)?C?{[p]:Object(y.i)(C)}:{[p]:Object(y.d)(p)}:{},L=C&&C.metadata.name,_=L?"kamelet-"+L:o.a(p)}const[M="",$=""]=null!==(R=null==l?void 0:l.split("/"))&&void 0!==R?R:[],[F="",U="",B=""]=null!==(w=Object(d.F)(M))&&void 0!==w?w:[],q=F?`${F}/${U}`:"",K=a.createElement(P.a,{normalizedData:t}),V={project:{name:e||"",displayName:"",description:""},application:{initial:Object(g.b)(n),name:Object(g.b)(n)||O.c,selectedKey:n},name:_,apiVersion:I,sinkType:T.b.Resource,sink:{apiVersion:q,kind:B,name:$,key:Object(j.a)($,{kind:B,apiVersion:`${F}/${U}`}),uri:""},type:p,data:A},G=Object(b.b)(Object(y.g)(V),"yamlData",{skipInvalid:!0,noRefs:!0}),H={editorType:v.b.Form,showCanUseYAMLMessage:!0,formData:V,yamlData:G};return a.createElement(i.b,{initialValues:H,onSubmit:(e,t)=>{const{formData:{project:{name:n}}}=e;return(e=>{const t=Object(y.c)(e);if((null==t?void 0:t.kind)&&Object(d.vb)(Object(d.Db)(t)))return Object(d.jb)(Object(d.vb)(Object(d.Db)(t)),t);const n=(null==t?void 0:t.kind)&&(null==t?void 0:t.apiVersion)?D("knative-plugin~No model registered for {{referenceForKnEventSource}}",{referenceForKnEventSource:Object(d.Db)(t)}):D("knative-plugin~Invalid YAML");return Promise.reject(new Error(n))})(e).then(()=>{Object(y.j)(n,x,N)}).catch(e=>{t.setStatus({submitError:e.message})})},onReset:u.Vb.goBack,validateOnBlur:!1,validateOnChange:!1,validationSchema:Object(E.b)(D)},t=>a.createElement(S.a,Object.assign({},t,{namespace:e,eventSourceMetaDescription:K,kameletSource:C})))})},9401:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(1939),o=n(22),s=n(7),l=n(15),c=n(614),u=n(1941),d=n(5843),p=n(9402);t.a=({errors:e,values:t,handleSubmit:n,handleReset:m,setFieldValue:v,status:b,isSubmitting:g,dirty:h,namespace:f,eventSourceMetaDescription:y,kameletSource:k})=>{const{t:j}=Object(s.useTranslation)(),O=a.createElement(l.C,{name:"yamlData",showSamples:!0,onSave:n}),E=a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12 col-md-4 col-md-push-8 col-lg-5 col-lg-push-7"},y),a.createElement("div",{className:"col-sm-12 col-md-8 col-md-pull-4 col-lg-7 col-lg-pull-5"},t.showCanUseYAMLMessage&&a.createElement(i.a,{actionClose:a.createElement(r.a,{onClose:()=>v("showCanUseYAMLMessage",!1)}),isInline:!0,title:j('knative-plugin~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control of object creation.'),variant:"info"}),a.createElement(p.a,{namespace:f,kameletSource:k,fullWidth:!0})," "));return a.createElement(l.P,{onSubmit:n},a.createElement(l.Q,{flexLayout:!0},a.createElement(l.fc,{name:"editorType",formContext:{name:"formData",editor:E,sanitizeTo:e=>Object(d.m)(e,t.formData,k)},yamlContext:{name:"yamlData",editor:O,sanitizeTo:()=>Object(u.b)(Object(d.c)(t),"yamlData",{skipInvalid:!0,noRefs:!0})},lastViewUserSettingKey:"knative.eventSourceForm.editor.lastView"})),a.createElement(l.R,{handleReset:m,errorMessage:b&&b.submitError,isSubmitting:g,submitLabel:j("knative-plugin~Create"),disableSubmit:(t.editorType===c.b.YAML?!h:!h||!o.a(e))||g,resetLabel:j("knative-plugin~Cancel"),sticky:!0}))}},9402:function(e,t,n){"use strict";var a=n(0),i=n(72),r=n(55),o=n(22),s=n(6011),l=n(108),c=n(10),u=n(6836),d=n(15),p=n(5843),m=n(5844),v=n(9513),b=n(9515),g=n(9516),h=n(9519),f=n(9520),y=n(9521);t.a=({namespace:e,fullWidth:t=!1,kameletSource:n})=>{var k,j,O,E,S;const{values:T}=Object(r.f)(),P={kind:c.ProjectModel.kind,prop:c.ProjectModel.id,isList:!0},[C,R]=Object(l.a)(P);Object(d.Ge)(T);const w=a.useMemo(()=>{var e,t,a,i;return{type:"object",required:null===(t=null===(e=null==n?void 0:n.spec)||void 0===e?void 0:e.definition)||void 0===t?void 0:t.required,properties:null===(i=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.definition)||void 0===i?void 0:i.properties}},[n]);if(!T.formData.type)return null;const N=a.createElement(a.Fragment,null,a.createElement(y.a,{namespace:e,fullWidth:t}),a.createElement(s.a,{project:T.formData.project,noProjectsAvailable:R&&o.a(C),extraMargin:!0,subPath:"formData",fullWidth:t}));let x;const D=null!==(O=null===(j=null===(k=T.formData.data)||void 0===k?void 0:k.itemData)||void 0===j?void 0:j.title)&&void 0!==O?O:T.formData.type;switch(T.formData.type){case m.a.SinkBinding:x=a.createElement(f.a,{title:D,fullWidth:t});break;case m.a.ApiServerSource:x=a.createElement(v.a,{title:D,fullWidth:t});break;case m.a.KafkaSource:x=a.createElement(g.a,{title:D,fullWidth:t,namespace:e});break;case m.a.ContainerSource:x=a.createElement(b.a,{title:D,fullWidth:t});break;case m.a.PingSource:x=a.createElement(h.a,{title:D,fullWidth:t});break;case m.a.KameletBinding:x=n&&a.createElement(a.Fragment,null,a.createElement(i.a,{component:i.b.h2},null===(S=null===(E=n.spec)||void 0===E?void 0:E.definition)||void 0===S?void 0:S.title),a.createElement(d.K,{name:"formData.data.KameletBinding.source.properties",schema:w,uiSchema:Object(u.a)(Object(p.a)(w.properties),w),showAlert:!1}));break;default:x=null}return a.createElement(a.Fragment,null,x,N)}},9513:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(55),c=n(22),u=n(363),d=n(839),p=n(7),m=n(5618),v=n(282),b=n(15),g=n(9514),h=n(5844);t.a=({title:e,fullWidth:t})=>{var f,y;const{t:k}=Object(p.useTranslation)(),{values:j,setFieldValue:O,setFieldTouched:E}=Object(l.f)(),S=(null===(y=null===(f=null==j?void 0:j.formData)||void 0===f?void 0:f.data)||void 0===y?void 0:y[h.a.ApiServerSource])||{},T=(null==S?void 0:S.resources)||[],P=c.a(T)?[["",""]]:T.map(e=>u.a(e)),[C,R]=a.useState(P),w=a.useCallback(({nameValuePairs:e})=>{const t=d.a(e.map(([e,t])=>t.length?{apiVersion:e,kind:t}:null));R(e),O(`formData.data.${h.a.ApiServerSource}.resources`,t)},[O]),N={Reference:"Reference",Resource:"Resource"},x=Object(b.Kc)(j.type,"res-input");return a.createElement(m.a,{title:e,extraMargin:!0,fullWidth:t,dataTest:e+" section"},a.createElement(i.a,{fieldId:x,label:k("knative-plugin~Resource"),isRequired:!0},a.createElement(v.a,{loader:()=>Promise.resolve().then(n.bind(null,1949)).then(e=>e.NameValueEditor),nameValuePairs:C,valueString:"kind",nameString:"apiVersion",addString:k("knative-plugin~Add resource"),readOnly:!1,allowSorting:!1,updateParentData:w}),a.createElement(r.a,null,a.createElement(o.a,null,a.createElement(s.a,null,k("knative-plugin~The list of resources to watch."))))),a.createElement(b.I,{name:`formData.data.${h.a.ApiServerSource}.mode`,label:k("knative-plugin~Mode"),items:N,title:N.Reference,helpText:k("knative-plugin~The mode the receive adapter controller runs under"),fullWidth:!0}),a.createElement(g.a,{name:`formData.data.${h.a.ApiServerSource}.serviceAccountName`,onLoad:e=>{(null==S?void 0:S.serviceAccountName)&&!Object.keys(e).includes(S.serviceAccountName)&&(O(`formData.data.${h.a.ApiServerSource}.serviceAccountName`,""),E(`formData.data.${h.a.ApiServerSource}.serviceAccountName`,!0))}}))}},9514:function(e,t,n){"use strict";var a=n(0),i=n(230),r=n(7),o=n(31),s=n(10),l=n(518),c=n(15);t.a=Object(o.connect)(e=>({namespace:Object(l.d)(e)}))(({name:e,onLoad:t,namespace:n})=>{const{t:o}=Object(r.useTranslation)(),l=[{isList:!0,kind:s.ServiceAccountModel.kind,namespace:n,prop:s.ServiceAccountModel.id,optional:!0}];return a.createElement(c.Ob,{name:e,label:o("knative-plugin~Service Account name"),resources:l,dataSelector:["metadata","name"],placeholder:o("knative-plugin~Select a Service Account name"),autocompleteFilter:(e,t)=>{var n;return i(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},helpText:o("knative-plugin~The name of Service Account use to run this"),fullWidth:!0,onLoad:t,showBadge:!0})})},9515:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(219),o=n(297),s=n(319),l=n(157),c=n(55),u=n(22),d=n(50),p=n(363),m=n(839),v=n(7),b=n(5618),g=n(5673),h=n(5),f=n(15),y=n(5844);const k=`formData.data.${y.a.ContainerSource}.template.spec.containers[0]`,j={Image:k+".image",Name:k+".name",Env:k+".env",Args:k+".args"};t.a=({title:e,fullWidth:t})=>{const{t:k}=Object(v.useTranslation)(),{values:O,setFieldValue:E}=Object(c.f)(),{formData:{data:{[y.a.ContainerSource]:{template:{spec:{containers:[{env:S,args:T}]}}}}}}=O,P=u.a(S)?[["",""]]:d.a(S,e=>p.a(e)),[C,R]=a.useState(P),w=a.useCallback(({nameValuePairs:e})=>{const t=m.a(e.map(([e,t])=>t.length?{name:e,value:t}:null));R(e),E(j.Env,t)},[E]);return a.createElement(b.a,{title:e,extraMargin:!0,fullWidth:t,dataTest:e+" section"},a.createElement("h3",{className:"co-section-heading-tertiary"},k("knative-plugin~Container")),a.createElement(f.ab,{"data-test-id":"container-image-field",type:i.b.text,name:j.Image,label:k("knative-plugin~Image"),helpText:k("knative-plugin~The Image to run inside of the Container"),required:!0,onChange:e=>{E(j.Name,Object(g.j)(e.target.value))}}),a.createElement(f.ab,{"data-test-id":"container-name-field",type:i.b.text,name:j.Name,label:k("knative-plugin~Name"),helpText:k("knative-plugin~The name of the Image")}),a.createElement(f.lc,{"data-test-id":"container-arg-field",name:j.Args,label:k("knative-plugin~Arguments"),addLabel:k("knative-plugin~Add args"),placeholder:k("knative-plugin~argument"),helpText:k("knative-plugin~Arguments passed to the Container"),disableDeleteRow:1===(null==T?void 0:T.length)}),a.createElement(r.a,{fieldId:"containersource-env",label:k("knative-plugin~Environment variables")},a.createElement(h.c,{loader:()=>Promise.resolve().then(n.bind(null,1949)).then(e=>e.NameValueEditor),"data-test-id":"container-env-field",nameValuePairs:C,valueString:k("knative-plugin~Value"),nameString:k("knative-plugin~Name"),readOnly:!1,allowSorting:!1,updateParentData:w,addLabel:k("knative-plugin~Add more")}),a.createElement(o.a,null,a.createElement(s.a,null,a.createElement(l.a,null,k("knative-plugin~The list of variables to set in the Container."))))))}},9516:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(22),o=n(50),s=n(7),l=n(5618),c=n(108),u=n(15),d=n(6341),p=n(1412),m=n(5844),v=n(9517);t.a=({title:e,namespace:t,fullWidth:n})=>{const{t:b}=Object(s.useTranslation)(),[g,h]=Object(d.a)(t),{kafkatopics:f}=Object(c.b)(Object(p.m)()),[y,k]=a.useMemo(()=>{let e=[],t="";return f.loaded&&!f.loadError?(e=r.a(f.data)?[{value:b("knative-plugin~No topics found"),disabled:!0}]:o.a(f.data,e=>({value:null==e?void 0:e.metadata.name,disabled:!1})),t=b("knative-plugin~Add topics")):f.loadError?t=b("knative-plugin~{{kafkaTopicErrorMessage}}. Try adding topics manually.",{kafkaTopicErrorMessage:f.loadError.message}):(e=[{value:b("knative-plugin~Loading topics..."),disabled:!0}],t="..."),[e,t]},[f.loaded,f.loadError,f.data,b]);return a.createElement(l.a,{title:e,extraMargin:!0,fullWidth:n},a.createElement(u.pb,{"data-test-id":"kafkasource-bootstrapservers-field",name:`formData.data.${m.a.KafkaSource}.bootstrapServers`,label:b("knative-plugin~Bootstrap servers"),ariaLabel:b("knative-plugin~Bootstrap servers"),options:g,placeholderText:h,helpText:b("knative-plugin~The address of the Kafka broker"),isCreatable:!0,required:!0}),a.createElement(u.pb,{"data-test-id":"kafkasource-topics-field",name:`formData.data.${m.a.KafkaSource}.topics`,label:b("knative-plugin~Topics"),ariaLabel:b("knative-plugin~Topics"),options:y,placeholderText:k,helpText:b("knative-plugin~Virtual groups across Kafka brokers"),isCreatable:!0,required:!0}),a.createElement(u.ab,{"data-test-id":"kafkasource-consumergroup-field",type:i.b.text,name:`formData.data.${m.a.KafkaSource}.consumerGroup`,label:b("knative-plugin~Consumer group"),helpText:b("knative-plugin~A group that tracks maximum offset consumed"),required:!0}),a.createElement(v.a,null))}},9517:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(15),s=n(5844),l=n(9518);t.a=()=>{var e,t,n,c,u,d;const{t:p}=Object(r.useTranslation)(),{values:{formData:{data:m}}}=Object(i.f)(),v=s.a.KafkaSource,b=null===(n=null===(t=null===(e=null==m?void 0:m[v])||void 0===e?void 0:e.net)||void 0===t?void 0:t.sasl)||void 0===n?void 0:n.enable,g=null===(d=null===(u=null===(c=null==m?void 0:m[v])||void 0===c?void 0:c.net)||void 0===u?void 0:u.tls)||void 0===d?void 0:d.enable;return a.createElement(a.Fragment,null,a.createElement("h3",{className:"co-section-heading-tertiary"},"Net"),a.createElement(o.A,{"data-test-id":"kafkasource-sasl-field",name:`formData.data.${v}.net.sasl.enable`,formLabel:"SASL",label:p("knative-plugin~Enable")}),b&&a.createElement(a.Fragment,null,a.createElement(l.a,{name:`formData.data.${v}.net.sasl.user.secretKeyRef`,label:"User"}),a.createElement(l.a,{name:`formData.data.${v}.net.sasl.password.secretKeyRef`,label:p("knative-plugin~Password")})),a.createElement(o.A,{"data-test-id":"kafkasource-tls-field",name:`formData.data.${v}.net.tls.enable`,formLabel:"TLS",label:p("knative-plugin~Enable")}),g&&a.createElement(a.Fragment,null,a.createElement(l.a,{name:`formData.data.${v}.net.tls.caCert.secretKeyRef`,label:p("knative-plugin~CA certificate")}),a.createElement(l.a,{name:`formData.data.${v}.net.tls.cert.secretKeyRef`,label:p("knative-plugin~Certificate")}),a.createElement(l.a,{name:`formData.data.${v}.net.tls.key.secretKeyRef`,label:"Key"})))}},9518:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(55),c=n(31),u=n(1942),d=n(2114),p=n(10),m=n(8),v=n(518),b=n(15);t.a=Object(c.connect)(e=>({namespace:Object(v.d)(e)}))(({name:e,label:t,namespace:n,isRequired:c=!1})=>{const{setFieldValue:v,setFieldTouched:g}=Object(l.f)(),[h,{touched:f,error:y}]=Object(l.e)(e),[k,j]=a.useState({}),O=Object(b.Kc)(e,"secret-key-input"),E=!(f&&y),S=E?"":(e=>{let t="";return t="string"==typeof e?e:(null==e?void 0:e.name)||(null==e?void 0:e.key),t})(y);return Object(b.Ge)(h.value),a.useEffect(()=>{Object(m.kb)(p.SecretModel,null,n).then(e=>{j(e)}).catch(e=>{var t;403!==(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)&&Object(u.errorModal)({error:null==e?void 0:e.message})})},[n]),a.createElement(i.a,{fieldId:O,label:t,isRequired:c},a.createElement(d.a,{pair:{secretKeyRef:h.value},secrets:k,configMaps:{},onChange:t=>{v(e,t.target.value.secretKeyRef),g(e,!0)}}),!E&&a.createElement(r.a,null,a.createElement(o.a,null,a.createElement(s.a,{variant:"error",icon:a.createElement(b.Mb,null)},S))))})},9519:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),o=n(5618),s=n(15),l=n(5844);t.a=({title:e,fullWidth:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement(o.a,{title:e,extraMargin:!0,fullWidth:t},a.createElement(s.ab,{type:i.b.text,name:`formData.data.${l.a.PingSource}.data`,label:n("knative-plugin~Data"),helpText:n("knative-plugin~The data posted to the target function")}),a.createElement(s.ab,{type:i.b.text,name:`formData.data.${l.a.PingSource}.schedule`,label:n("knative-plugin~Schedule"),helpText:n("knative-plugin~Schedule is described using the unix-cron string format (* * * * *)"),required:!0}))}},9520:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(219),o=n(55),s=n(22),l=n(50),c=n(57),u=n(7),d=n(5618),p=n(282),m=n(15),v=n(5844);t.a=({title:e,fullWidth:t})=>{var b,g,h,f,y;const{t:k}=Object(u.useTranslation)(),{values:j,setFieldValue:O}=Object(o.f)(),E=(null===(y=null===(f=null===(h=null===(g=null===(b=null==j?void 0:j.formData)||void 0===b?void 0:b.data)||void 0===g?void 0:g[v.a.SinkBinding])||void 0===h?void 0:h.subject)||void 0===f?void 0:f.selector)||void 0===y?void 0:y.matchLabels)||{},S=s.a(E)?[["",""]]:l.a(E,(e,t)=>[t,e]),[T,P]=a.useState(S),C=a.useCallback(({nameValuePairs:e})=>{let t={};c.a(e,([e,n])=>n.length?(t=Object.assign(Object.assign({},t),{[e]:n}),t):t),P(e),O(`formData.data.${v.a.SinkBinding}.subject.selector.matchLabels`,t)},[O]),R=Object(m.Kc)(j.type,"subject-matchLabels"),w=j.sinkBindingMatchType;return a.useEffect(()=>{"name"===w?O(`formData.data.${v.a.SinkBinding}.subject.selector`,void 0):(O(`formData.data.${v.a.SinkBinding}.subject.name`,void 0),O(`formData.data.${v.a.SinkBinding}.subject.selector.matchLabels`,T.reduce((e,[t,n])=>n.length?Object.assign(Object.assign({},e),{[t]:n}):e,{})))},[w,O,T]),a.useEffect(()=>{w||O("sinkBindingMatchType","labels")},[w,O]),a.createElement(d.a,{title:e,extraMargin:!0,fullWidth:t,dataTest:e+" section"},a.createElement("h3",{className:"co-section-heading-tertiary"},k("knative-plugin~Subject")),a.createElement(m.ab,{"data-test-id":"sinkbinding-apiversion-field",type:i.b.text,name:`formData.data.${v.a.SinkBinding}.subject.apiVersion`,label:k("knative-plugin~apiVersion"),required:!0}),a.createElement(m.ab,{"data-test-id":"sinkbinding-kind-field",type:i.b.text,name:`formData.data.${v.a.SinkBinding}.subject.kind`,label:k("knative-plugin~Kind"),required:!0}),a.createElement(r.a,{fieldId:R,label:k("knative-plugin~Match subject")},a.createElement("div",{className:"pf-v5-c-form__helper-text"},k("knative-plugin~Match subject using name or labels.")),a.createElement("div",{className:"form-group"},a.createElement(m.I,{name:"sinkBindingMatchType",items:{name:k("knative-plugin~Name"),labels:k("knative-plugin~Labels")},title:k("knative-plugin~Match type")})),"name"===w?a.createElement(m.ab,{type:i.b.text,name:`formData.data.${v.a.SinkBinding}.subject.name`,label:k("knative-plugin~Subject Name"),required:!0}):a.createElement(p.a,{loader:()=>Promise.resolve().then(n.bind(null,1949)).then(e=>e.NameValueEditor),nameValuePairs:T,valueString:k("knative-plugin~Value"),nameString:k("knative-plugin~Name"),addLabel:k("knative-plugin~Add values"),readOnly:!1,allowSorting:!1,updateParentData:C})))}},9521:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5618),o=n(7452);t.a=({namespace:e,fullWidth:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{title:a.createElement(a.Fragment,null,n("knative-plugin~Target"),a.createElement("span",{className:"pf-v5-c-form__label-required","aria-hidden":"true",style:{verticalAlign:"top"}}," *")),subTitle:n("knative-plugin~Add a target to route cloud events from this Event source."),extraMargin:!0,fullWidth:t},a.createElement(o.a,{namespace:e}))}},9522:function(e,t,n){},9523:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(7);t.a=({isValidSource:e,createSourceAccessLoading:t,createSourceAccess:n})=>{const{t:o}=Object(r.useTranslation)();return!e||!t&&!n?a.createElement(i.a,{variant:e?void 0:"danger",title:o("knative-plugin~Event source cannot be created"),isInline:!0},!e&&o("knative-plugin~Event source is not found on this Cluster."),!t&&!n&&e&&o("knative-plugin~You do not have create access for Event Source in this project.")):null}},9524:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(31),s=n(13),l=n(5),c=n(8),u=n(518),d=n(15),p=n(614),m=n(1941),v=n(5625),b=n(6844),g=n(5843),h=n(6598),f=n(9525);t.a=Object(o.connect)((e,t)=>{const n=t.selectedApplication||Object(u.c)(e);return{activeApplication:n!==d.b?n:""}})(({namespace:e,channels:t,activeApplication:n})=>{const[o]=Object(s.jc)(),{t:u}=Object(r.useTranslation)(),y={project:{name:e||"",displayName:"",description:""},application:{initial:Object(v.b)(n),name:Object(v.b)(n),selectedKey:n},name:"",namespace:e,apiVersion:"",type:"",data:{},yamlData:""},k=Object(m.b)(Object(b.e)(y),"yamlData",{skipInvalid:!0,noRefs:!0}),j={editorType:p.b.Form,showCanUseYAMLMessage:!0,formData:y,yamlData:k},O=Object(d.Pe)();return a.createElement(i.b,{initialValues:j,onSubmit:(e,t)=>(e=>{const t=Object(b.b)(e);if((null==t?void 0:t.kind)&&Object(c.vb)(Object(c.Db)(t)))return Object(c.jb)(Object(c.vb)(Object(c.Db)(t)),t);const n=(null==t?void 0:t.kind)&&(null==t?void 0:t.apiVersion)?u("knative-plugin~No model registered for {{refrenceForChannel}}",{refrenceForChannel:Object(c.Db)(t)}):u("knative-plugin~Invalid YAML");return Promise.reject(new Error(n))})(e).then(()=>{Object(g.j)(e.formData.namespace,o,O)}).catch(e=>{t.setStatus({submitError:e.message})}),onReset:l.Vb.goBack,validateOnBlur:!1,validateOnChange:!1,validationSchema:Object(h.a)(u)},n=>a.createElement(f.a,Object.assign({},n,{namespace:e,channels:t})))})},9525:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(1939),o=n(55),s=n(2338),l=n(22),c=n(7),u=n(5),d=n(15),p=n(1941),m=n(6844),v=n(9526),b=n(9527);t.a=({errors:e,handleSubmit:t,handleReset:n,status:g,isSubmitting:h,dirty:f,namespace:y,channels:k})=>{const{values:j,setFieldValue:O,setFieldTouched:E,validateForm:S,setErrors:T,setStatus:P}=Object(o.f)(),{t:C}=Object(c.useTranslation)();Object(d.Ge)(j);const[R,w]=Object(m.h)(y),N=Object(m.d)(j.formData.type),x=a.useCallback(e=>{T({}),P({});const t=Object(m.d)(e);let n;if(Object(m.f)(t)){const e="formData.data."+t.toLowerCase(),a=Object(m.c)(t.toLowerCase());O(e,a),E(e,!0),n=Object.assign(Object.assign({},j.formData),{data:{[t.toLowerCase()]:a}})}O("formData.type",e),E("formData.type",!0),O("formData.name",s.a(""+t)),E("formData.name",!0),n=Object.assign(Object.assign(Object.assign({},j.formData),n),{type:e,name:s.a(""+t)}),O("yamlData",Object(p.b)(Object(m.e)(n),"yamlData",{skipInvalid:!0,noRefs:!0})),E("yamlData",!0),setTimeout(()=>{S()},0)},[T,P,O,E,j.formData,S]),D=a.createElement(d.C,{name:"yamlData",showSamples:!0,onSave:t}),A=a.createElement(a.Fragment,null,j.showCanUseYAMLMessage&&a.createElement(i.a,{actionClose:a.createElement(r.a,{onClose:()=>O("showCanUseYAMLMessage",!1)}),isInline:!0,title:C('knative-plugin~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control of object creation.'),variant:"info"}),a.createElement(b.a,{namespace:y,kind:N})," ");return a.createElement(d.P,{onSubmit:t},a.createElement(d.Q,{flexLayout:!0},(k&&!k.loaded||!w)&&a.createElement(u.T,null),k&&k.loaded&&w&&!l.a(k.channelList)&&a.createElement(a.Fragment,null,a.createElement(v.a,{channels:k.channelList,onChange:x,defaultConfiguredChannel:R}),a.createElement(d.fc,{name:"editorType",formContext:{name:"formData",editor:A,sanitizeTo:e=>Object(m.a)(e,j.formData)},yamlContext:{name:"yamlData",editor:D,sanitizeTo:()=>Object(p.b)(Object(m.b)(j),"yamlData",{skipInvalid:!0,noRefs:!0})},lastViewUserSettingKey:"knative.channelForm.editor.lastView"})),k&&k.loaded&&l.a(k.channelList)&&a.createElement(i.a,{variant:"custom",title:C("knative-plugin~Channel cannot be created"),isInline:!0},C("knative-plugin~You do not have write access in this project."))),a.createElement(d.R,{handleReset:n,errorMessage:g&&g.submitError,isSubmitting:h,submitLabel:C("knative-plugin~Create"),disableSubmit:!f||!l.a(e)||h,resetLabel:C("knative-plugin~Cancel"),sticky:!0}))}},9526:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(367),o=n(7146),s=n(7),l=n(5618),c=n(15),u=n(132),d=n(6844);t.a=({channels:e,onChange:t,defaultConfiguredChannel:n})=>{const[p]=Object(i.e)("formData.type"),{t:m}=Object(s.useTranslation)(),v=r.a(o.a(e,e=>Object(d.d)(e)===u.i)),b=v.reduce((e,t)=>{const a=Object(d.d)(t);return e[t]=a===u.i&&n?m("knative-plugin~Default {{channelName}} ({{defaultConfiguredChannel}})",{channelName:a,defaultConfiguredChannel:n}):a,e},{}),g=a.useCallback(()=>v.find(e=>Object(d.d)(e)===u.i)||v[0],[v]);return a.useEffect(()=>{if(!p.value&&v.length>0){const e=g();t&&t(e)}},[p.value,g,t,v.length]),a.createElement(l.a,{extraMargin:!0},a.createElement(c.I,{name:"formData.type",label:m("knative-plugin~Type"),items:b,title:m("knative-plugin~Type"),onChange:t,fullWidth:!0,required:!0}))}},9527:function(e,t,n){"use strict";var a=n(0),i=n(132),r=n(9528),o=n(9529);t.a=({namespace:e,kind:t})=>a.createElement(a.Fragment,null,(e=>e===i.k?a.createElement(o.a,null):null)(t),a.createElement(r.a,{namespace:e}))},9528:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),o=n(5618),s=n(15),l=n(6051);t.a=({namespace:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(o.a,{extraMargin:!0},a.createElement(l.a,{namespace:e,subPath:"formData"}),a.createElement(s.ab,{type:i.b.text,"data-test-id":"channel-name",name:"formData.name",label:t("knative-plugin~Name"),helpText:t("knative-plugin~A unique name for the component/channel"),required:!0}))}},9529:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5618),o=n(15);t.a=()=>{const{t:e}=Object(i.useTranslation)();return a.createElement(r.a,{extraMargin:!0},a.createElement(o.ub,{name:"formData.data.kafkachannel.numPartitions",label:e("knative-plugin~Number of Partitions"),helpText:e("knative-plugin~The number of partitions of a Kafka topic. By default is, set to 1.")}),a.createElement(o.ub,{name:"formData.data.kafkachannel.replicationFactor",label:e("knative-plugin~Replication factor"),helpText:e("knative-plugin~The Replication factor of a Kafka topic. By default is, set to 1.")}))}},9530:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(380),o=n(7),s=n(5849),l=n(13),c=n(5),u=n(8),d=n(15),p=n(614),m=n(76),v=n(8222),b=n(9531),g=n(9532);t.a=({namespace:e,selectedApplication:t})=>{const n=Object(d.Pe)(),[h]=Object(l.jc)(),{t:f}=Object(o.useTranslation)(),y=Object(v.a)(e,t);return a.createElement(i.b,{initialValues:y,onSubmit:(e,t)=>((e,t)=>{var n;let a;if(e.editorType===p.b.Form)a=Object(v.b)(e.formData);else try{a=Object(r.safeLoad)(e.yamlData),(null===(n=a.metadata)||void 0===n?void 0:n.namespace)||(a.metadata.namespace=e.formData.project.name)}catch(e){return t.setStatus({submitError:"Invalid YAML - "+e}),null}return Object(u.jb)(m.f,a)})(e,t).then(()=>{Object(s.h)(e.formData.project.name,h,n)}).catch(e=>{t.setStatus({submitError:e.message})}),onReset:c.Vb.goBack,validationSchema:Object(g.a)(f)},t=>a.createElement(b.a,Object.assign({},t,{namespace:e})))}},9531:function(e,t,n){"use strict";var a=n(0),i=n(379),r=n(184),o=n(80),s=n(1939),l=n(22),c=n(7),u=n(6011),d=n(5),p=n(15),m=n(614),v=n(1941),b=n(2221),g=n(76),h=n(6835),f=n(8222);t.a=e=>{const{t:t}=Object(c.useTranslation)(),{values:n,errors:y,dirty:k,status:j,namespace:O,handleReset:E,handleSubmit:S,isSubmitting:T,setFieldValue:P}=e;Object(p.Ge)(n);const[C,R]=Object(d.Ec)({group:g.f.apiGroup,resource:g.f.plural,namespace:O,verb:"create"}),w=a.createElement(a.Fragment,null,n.showCanUseYAMLMessage&&a.createElement(i.a,{hasGutter:!0},a.createElement(r.a,{span:6},a.createElement(o.a,{actionClose:a.createElement(s.a,{onClose:()=>P("showCanUseYAMLMessage",!1)}),isInline:!0,title:t('knative-plugin~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.'),variant:"info"}))),a.createElement(u.a,{project:n.formData.project,noProjectsAvailable:!1,extraMargin:!0,subPath:"formData",fullWidth:!1})),N=a.createElement(p.C,{name:"yamlData",model:g.f,showSamples:!0,onSave:S}),x=C?a.createElement(p.fc,{name:"editorType",formContext:{name:"formData",editor:w,sanitizeTo:e=>{var t,a,i,r;const o=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[h.d];return{name:(null===(i=e.metadata)||void 0===i?void 0:i.name)||"",project:{name:(null===(r=e.metadata)||void 0===r?void 0:r.namespace)||O},application:Object.assign(Object.assign(Object.assign(Object.assign({},n.formData.application),o&&{name:o,selectedKey:o}),o&&o!==n.formData.application.name&&o!==n.formData.application.initial&&{name:o,selectedKey:n.formData.application.selectedKey?b.b:""}),!o&&{name:"",selectedKey:p.mc}),spec:e.spec}}},yamlContext:{name:"yamlData",editor:N,sanitizeTo:()=>Object(v.b)(Object(f.b)(n.formData),"yamlData",{skipInvalid:!0})},lastViewUserSettingKey:"knative.addBrokerForm.editor.lastView"}):a.createElement(o.a,{variant:"custom",title:t("knative-plugin~Broker cannot be created"),isInline:!0},t("knative-plugin~You do not have write access in this project."));return a.createElement(p.P,{onSubmit:S},a.createElement(p.Q,{flexLayout:!0},R&&a.createElement(d.T,null),!R&&x),a.createElement(p.R,{handleReset:E,errorMessage:j&&j.submitError,isSubmitting:T,submitLabel:t("knative-plugin~Create"),disableSubmit:!C||(n.editorType===m.b.YAML?!k:!l.a(y))||T,resetLabel:t("knative-plugin~Cancel"),sticky:!0}))}},9532:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689),i=n(5621),r=n(15),o=n(614);const s=e=>a.object().shape({editorType:a.string(),formData:a.object().when("editorType",{is:o.b.Form,then:a.object().shape({project:i.l,application:i.a,name:Object(r.Zd)(e)})}),yamlData:a.string()})},9533:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(2338),o=n(7),s=n(31),l=n(13),c=n(77),u=n(5),d=n(8),p=n(518),m=n(15),v=n(614),b=n(1941),g=n(5625),h=n(76),f=n(6349),y=n(5843),k=n(5845),j=n(6835),O=n(9534),E=n(9535),S=n(8219);t.a=({namespace:e,normalizedSink:t,contextSource:n,selectedApplication:T,sinkKind:P="",kameletSink:C})=>{var R,w,N;const x=Object(m.Pe)(),[D]=Object(l.jc)(),{t:A}=Object(o.useTranslation)(),I=Object(s.useSelector)(p.c),_=T||I;let L="",M={},$="";P&&P===h.k.kind?(L=`${h.k.apiGroup}/${h.k.apiVersion}`,M={[h.k.kind]:Object(f.b)(P)},$=r.a(P)):(L=`${h.b.apiGroup}/${h.b.apiVersion}`,M={[h.b.kind]:Object(f.e)(C)},$="kamelet-"+C.metadata.name);const F=_!==m.b?_:"",[U="",B=""]=null!==(R=null==n?void 0:n.split("/"))&&void 0!==R?R:[],[q="",K="",V=""]=null!==(w=Object(d.F)(U))&&void 0!==w?w:[],G=q?`${q}/${K}`:"",H=a.createElement(S.a,{normalizedData:t}),W=Object.assign(Object.assign({project:{name:e||"",displayName:"",description:""},application:{initial:Object(g.b)(F),name:null!==(N=Object(g.b)(F))&&void 0!==N?N:j.c,selectedKey:F,isInContext:!!Object(g.b)(F)},name:$,apiVersion:L},P!==h.k.kind&&{source:{apiVersion:G,kind:V,name:B,key:Object(k.a)(B,{kind:V,apiVersion:`${q}/${K}`})}}),{type:P,data:M}),z=Object(b.b)(Object(f.d)(W),"yamlData",{skipInvalid:!0,noRefs:!0}),J={editorType:v.b.Form,showCanUseYAMLMessage:!0,formData:W,yamlData:z};return a.createElement(i.b,{initialValues:J,onSubmit:(e,t)=>{const{formData:{project:{name:n}}}=e;return(e=>{const t=Object(f.a)(e);if((null==t?void 0:t.kind)&&Object(d.vb)(Object(d.Db)(t)))return Object(c.g)({model:Object(d.vb)(Object(d.Db)(t)),data:t});const n=(null==t?void 0:t.kind)&&(null==t?void 0:t.apiVersion)?A("knative-plugin~No model registered for {{referenceForKnEventSink}}",{referenceForKnEventSink:Object(d.Db)(t)}):A("knative-plugin~Invalid YAML");return Promise.reject(new Error(n))})(e).then(()=>{Object(y.j)(n,D,x)}).catch(e=>{t.setStatus({submitError:e.message})})},onReset:u.Vb.goBack,validateOnBlur:!1,validateOnChange:!1,validationSchema:Object(O.a)(A)},t=>a.createElement(E.a,Object.assign({},t,{namespace:e,eventSinkMetaDescription:H,kameletSink:C})))}},9534:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(689),i=n(5621),r=n(15),o=n(614),s=n(76),l=n(6598),c=n(5844);const u=e=>a.object().when("sourceType",{is:c.b.Resource,then:a.object().shape({name:a.string().required(e("knative-plugin~Required"))})}).when("sourceType",{is:c.b.Uri,then:Object(l.c)(e)}),d=e=>a.object().when("type",{is:s.k.kind,then:a.object().shape({[s.k.kind]:a.object().shape({bootstrapServers:a.array().of(a.string()).min(1,e("knative-plugin~Required")),topic:a.string().required(e("knative-plugin~Required")),auth:a.object().shape({secret:a.object().shape({ref:a.object().shape({name:a.string()})})})})})}).when("type",{is:s.b.kind,then:a.object()}),p=e=>a.object().shape({editorType:a.string(),formData:a.object().when("editorType",{is:o.b.Form,then:a.object().shape({project:i.l,application:i.a,name:Object(r.Zd)(e),source:u(e),data:d(e)})}),yamlData:a.string()})},9535:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(1939),o=n(22),s=n(7),l=n(15),c=n(614),u=n(1941),d=n(6349),p=n(9536);t.a=({errors:e,values:t,handleSubmit:n,handleReset:m,setFieldValue:v,status:b,isSubmitting:g,dirty:h,namespace:f,eventSinkMetaDescription:y,kameletSink:k})=>{const{t:j}=Object(s.useTranslation)(),O=a.createElement(l.C,{name:"yamlData",showSamples:!0,onSave:n}),E=a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12 col-md-4 col-md-push-8 col-lg-5 col-lg-push-7"},y),a.createElement("div",{className:"col-sm-12 col-md-8 col-md-pull-4 col-lg-7 col-lg-pull-5"},t.showCanUseYAMLMessage&&a.createElement(i.a,{actionClose:a.createElement(r.a,{onClose:()=>v("showCanUseYAMLMessage",!1)}),isInline:!0,title:j('knative-plugin~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control of object creation.'),variant:"info"}),a.createElement(p.a,{namespace:f,kameletSink:k,fullWidth:!0})));return a.createElement(l.P,{onSubmit:n},a.createElement(l.Q,{flexLayout:!0},a.createElement(l.fc,{name:"editorType",formContext:{name:"formData",editor:E,sanitizeTo:e=>Object(d.f)(e,t.formData,k)},yamlContext:{name:"yamlData",editor:O,sanitizeTo:()=>Object(u.b)(Object(d.a)(t),"yamlData",{skipInvalid:!0,noRefs:!0})},lastViewUserSettingKey:"knative.eventSinkForm.editor.lastView"})),a.createElement(l.R,{handleReset:m,errorMessage:b&&b.submitError,isSubmitting:g,submitLabel:j("knative-plugin~Create"),disableSubmit:(t.editorType===c.b.YAML?!h:!h||!o.a(e))||g,resetLabel:j("knative-plugin~Cancel"),sticky:!0}))}},9536:function(e,t,n){"use strict";var a=n(0),i=n(72),r=n(55),o=n(22),s=n(6011),l=n(108),c=n(10),u=n(6836),d=n(15),p=n(132),m=n(5843),v=n(5844),b=n(9537),g=n(9538);t.a=({namespace:e,fullWidth:t=!1,kameletSink:n})=>{var h,f;const{values:y}=Object(r.f)(),k={kind:c.ProjectModel.kind,prop:c.ProjectModel.id,isList:!0},[j,O]=Object(l.a)(k);Object(d.Ge)(y);const E=a.useMemo(()=>{var e,t,a,i;return{type:"object",required:null===(t=null===(e=null==n?void 0:n.spec)||void 0===e?void 0:e.definition)||void 0===t?void 0:t.required,properties:null===(i=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.definition)||void 0===i?void 0:i.properties}},[n]);if(!y.formData.type)return null;const S=a.createElement(a.Fragment,null,a.createElement(s.a,{project:y.formData.project,noProjectsAvailable:O&&o.a(j),extraMargin:!0,subPath:"formData",fullWidth:t}));let T=null;return n&&y.formData.type===v.a.KameletBinding?T=a.createElement(a.Fragment,null,a.createElement(i.a,{component:i.b.h2},null===(f=null===(h=n.spec)||void 0===h?void 0:h.definition)||void 0===f?void 0:f.title),a.createElement(d.K,{name:"formData.data.KameletBinding.sink.properties",schema:E,uiSchema:Object(u.a)(Object(m.a)(E.properties),E),showAlert:!1}),a.createElement(g.a,{namespace:e,fullWidth:t})):y.formData.type===p.n&&(T=a.createElement(b.a,{title:y.formData.type,fullWidth:t,namespace:e})),a.createElement(a.Fragment,null,T,S)}},9537:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(230),o=n(7),s=n(5618),l=n(10),c=n(15),u=n(132),d=n(6341);t.a=({title:e,namespace:t,fullWidth:n})=>{const{t:p}=Object(o.useTranslation)(),[m,v]=Object(d.a)(t),b=[{isList:!0,kind:l.SecretModel.kind,prop:l.SecretModel.id,namespace:t}];return a.createElement(s.a,{title:e,extraMargin:!0,fullWidth:n},a.createElement(c.pb,{"data-test":"kafkasink-bootstrapservers-field",name:`formData.data.${u.n}.bootstrapServers`,label:p("knative-plugin~Bootstrap servers"),ariaLabel:p("knative-plugin~Bootstrap servers"),options:m,placeholderText:v,helpText:p("knative-plugin~The address of the Kafka broker"),isCreatable:!0,required:!0}),a.createElement(c.ab,{"data-test":"kafkasink-topic-field",type:i.b.text,name:`formData.data.${u.n}.topic`,label:p("knative-plugin~Topic"),helpText:p("knative-plugin~Topic name to send events"),placeholder:p("knative-plugin~Enter the topic name"),required:!0}),a.createElement(c.Ob,{"data-test":"kafkasink-secret-field",name:`formData.data.${u.n}.auth.secret.ref.name`,resources:b,dataSelector:["metadata","name"],placeholder:p("knative-plugin~Select a secret"),autocompleteFilter:(e,t)=>{var n;return r(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},fullWidth:!0,showBadge:!0,label:p("knative-plugin~Secret")}))}},9538:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(5618),o=n(9539);t.a=({namespace:e,fullWidth:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{title:a.createElement(a.Fragment,null,n("knative-plugin~Source"),a.createElement("span",{className:"pf-v5-c-form__label-required","aria-hidden":"true",style:{verticalAlign:"top"}}," *")),subTitle:n("knative-plugin~Add a source to route cloud events for the Event sink."),extraMargin:!0,fullWidth:t},a.createElement(o.a,{namespace:e}))}},9539:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(80),o=n(297),s=n(319),l=n(157),c=n(55),u=n(230),d=n(22),p=n(7),m=n(15),v=n(870),b=n(1412),g=n(5845);t.a=({namespace:e,isMoveSink:t})=>{const{t:n}=Object(p.useTranslation)(),[h,f]=a.useState(!1),{setFieldValue:y,setFieldTouched:k,validateForm:j,initialValues:O}=Object(c.f)(),E=[...Object(v.getDynamicChannelResourceList)(e),...Object(b.n)(e)],S=Object(m.Kc)("source-name","dropdown"),T=a.useCallback((e,t)=>{var n,a;const i=null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.model,r=null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name;if(r&&i){const{apiGroup:e="core",apiVersion:t,kind:n}=i;y("formData.source.name",r),k("formData.source.name",!0),y("formData.source.apiVersion",`${e}/${t}`),k("formData.source.apiVersion",!0),y("formData.source.kind",n),k("formData.source.kind",!0),j()}},[y,k,j]),P=!t&&!!O.formData.source.name;return a.createElement(i.a,{fieldId:S,isRequired:!0},h&&a.createElement(a.Fragment,null,a.createElement(r.a,{variant:"custom",title:n("knative-plugin~No resources available"),isInline:!0},n("knative-plugin~Exit this form and create a Broker, or Channel first."))," "),a.createElement(m.Ob,{key:0===E.length?"no-resources":"resources",menuClassName:"max-height-menu","data-test":"sourcable-resources",name:"formData.source.key",resources:E,dataSelector:["metadata","name"],fullWidth:!0,placeholder:n("knative-plugin~Select resource"),showBadge:!0,disabled:P||h,onChange:T,autocompleteFilter:(e,t)=>{var n;return u(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},autoSelect:!0,customResourceKey:g.a,resourceFilter:({metadata:e})=>{var t;return!(null===(t=null==e?void 0:e.ownerReferences)||void 0===t?void 0:t.length)},onLoad:e=>{Object(d.a)(e)?f(!0):f(!1)}}),!P&&a.createElement(o.a,null,a.createElement(s.a,null,a.createElement(l.a,null,n("knative-plugin~This resource will be the source for the Event sink.")))))}},9540:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(7);t.a=({isValidSink:e,createSinkAccessLoading:t,createSinkAccess:n})=>{const{t:o}=Object(r.useTranslation)();return!e||!t&&!n?a.createElement(i.a,{variant:e?void 0:"danger",title:o("knative-plugin~Event sink cannot be created"),isInline:!0},!e&&o("knative-plugin~Event sink is not found on this Cluster."),!t&&!n&&e&&o("knative-plugin~You do not have create access for Event sink in this project.")):null}},9541:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(14),s=n(5),l=n(5684),c=n(8),u=n(197),d=n(1941),p=n(132),m=n(76),v=n(5845),b=n(7456),g=n(9542);t.a=({source:e,target:t={metadata:{name:""}}})=>{const{t:n}=Object(r.useTranslation)(),{apiVersion:h,kind:f,metadata:{namespace:y,name:k}}=e,{apiVersion:j="",kind:O="",metadata:{name:E}}=t,S=()=>f===m.f.kind?m.i:m.h,T=Object(o.useLocation)(),P=new URLSearchParams(T.search),C=P.get(p.y),R=P.get(p.x),[w,N]=Object(l.a)(m.g,C,R),x=["type","source","schema"].filter(e=>{var t;return N&&(null===(t=null==w?void 0:w.spec)||void 0===t?void 0:t.hasOwnProperty(e))}).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:w.spec[t]}),{}),{kind:D,apiVersion:A,apiGroup:I}=S(),_=e=>{let t={};return t=e===m.i.kind?{broker:k,filter:{}}:{channel:{apiVersion:h,kind:f,name:k}},t},L={apiVersion:`${I}/${A}`,kind:D,metadata:{name:`${k}-${Object(u.D)()}`,namespace:y},spec:Object.assign(Object.assign({},_(D)),{filter:{attributes:Object.assign({},x)},subscriber:{ref:{apiVersion:"",kind:"",name:""}}})},M={editorType:"form",formData:{apiVersion:`${I}/${A}`,kind:D,metadata:{name:`${k}-${Object(u.D)()}`,namespace:y},spec:Object.assign(Object.assign({},_(D)),{filter:{attributes:Object.assign({},x)},subscriber:{ref:{apiVersion:j,kind:O,name:E}}})},yamlData:Object(d.b)(L,"",{skipInvalid:!0})},$=()=>s.Vb.goBack();return N?a.createElement(i.b,{initialValues:M,onSubmit:(e,t)=>Object(c.jb)(S(),Object(v.c)(e.formData)).then(e=>{t.setStatus({subscriberAvailable:!0,error:""}),s.Vb.push("/topology/ns/"+e.metadata.namespace)}).catch(e=>{const a=e.message||n("knative-plugin~An error occurred. Please try again");t.setStatus({subscriberAvailable:!0,error:a})}),initialStatus:{error:""},validationSchema:b.a},t=>a.createElement(g.a,Object.assign({},t,{filterEnabled:f===m.f.kind,source:e,handleCancel:$}))):a.createElement(s.S,null)}},9542:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(22),o=n(7),s=n(5618),l=n(15),c=n(6324),u=n(5962),d=n(614),p=n(1941),m=n(76),v=n(7457),b=n(7458),g=n(9543);t.a=({filterEnabled:e,handleSubmit:t,handleCancel:n,isSubmitting:h,status:f,source:y,errors:k,values:j})=>{var O,E,S,T,P,C;const{t:R}=Object(o.useTranslation)(),[w,N]=a.useState(!0),{kind:x}=y,D=(null===(E=null===(O=null==j?void 0:j.formData)||void 0===O?void 0:O.metadata)||void 0===E?void 0:E.name)&&(null===(C=null===(P=null===(T=null===(S=null==j?void 0:j.formData)||void 0===S?void 0:S.spec)||void 0===T?void 0:T.subscriber)||void 0===P?void 0:P.ref)||void 0===C?void 0:C.name),A=a.createElement(a.Fragment,null,w&&a.createElement(c.a,{onClose:()=>N(!1)}),a.createElement(s.a,null,a.createElement(l.ab,{type:i.b.text,name:"formData.metadata.name",label:R("knative-plugin~Name"),required:!0}),a.createElement(b.a,{autoSelect:!1}),e&&a.createElement(v.a,null))),I=a.createElement(l.C,{name:"yamlData",model:x===m.f.kind?m.i:m.h,showSamples:!0,onSave:t});return a.createElement(l.P,{onSubmit:t},a.createElement(l.Q,{flexLayout:!0},a.createElement(l.fc,{name:"editorType",formContext:{name:"formData",editor:A,sanitizeTo:e=>Object(g.b)(e,j).formData},yamlContext:{name:"yamlData",editor:I,sanitizeTo:()=>Object(p.b)(Object(g.a)(j),"",{skipInvalid:!0})},lastViewUserSettingKey:"knative.addSubscriberForm.editor.lastView",noMargin:!0})),a.createElement(l.R,{isSubmitting:h,submitLabel:R("knative-plugin~Subscribe"),cancelLabel:R("knative-plugin~Cancel"),disableSubmit:j.editorType!==d.b.YAML&&(!D||!r.a(k))||h,handleCancel:n,errorMessage:f.error,handleDownload:j.editorType===d.b.YAML&&(()=>Object(u.a)(j.yamlData)),sticky:!0}))}},9543:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(640),i=n(1941),r=n(5845);const o=(e,t)=>{var n,i,o,s,l,c,u,d,p,m,v,b,g,h;const f=a.a(e);return t.formData={apiVersion:null==f?void 0:f.apiVersion,kind:null==f?void 0:f.kind,metadata:{name:null===(n=f.metadata)||void 0===n?void 0:n.name,namespace:null===(i=f.metadata)||void 0===i?void 0:i.namespace},spec:{broker:null===(o=null==f?void 0:f.spec)||void 0===o?void 0:o.broker,subscriber:{ref:Object.assign(Object.assign({},null===(s=null==f?void 0:f.spec)||void 0===s?void 0:s.subscriber.ref),{name:Object(r.a)(null===(u=null===(c=null===(l=null==f?void 0:f.spec)||void 0===l?void 0:l.subscriber)||void 0===c?void 0:c.ref)||void 0===u?void 0:u.name,{kind:null===(m=null===(p=null===(d=null==f?void 0:f.spec)||void 0===d?void 0:d.subscriber)||void 0===p?void 0:p.ref)||void 0===m?void 0:m.kind,apiVersion:null===(g=null===(b=null===(v=null==f?void 0:f.spec)||void 0===v?void 0:v.subscriber)||void 0===b?void 0:b.ref)||void 0===g?void 0:g.apiVersion})})},filter:null===(h=f.spec)||void 0===h?void 0:h.filter}},t},s=e=>{var t,n,a,o,s;const l=Object(i.c)(e.yamlData);return l.metadata=e.formData.metadata,l.spec.broker=null===(n=null===(t=e.formData)||void 0===t?void 0:t.spec)||void 0===n?void 0:n.broker,l.spec.filter=e.formData.spec.filter,l.spec.subscriber=e.formData.spec.subscriber,l.spec.subscriber.ref.name=Object(r.b)(null===(s=null===(o=null===(a=null==e?void 0:e.formData.spec)||void 0===a?void 0:a.subscriber)||void 0===o?void 0:o.ref)||void 0===s?void 0:s.name),l}}}]);
//# sourceMappingURL=addComponent-chunk-49d6371b7de0fd82d15b.min.js.map