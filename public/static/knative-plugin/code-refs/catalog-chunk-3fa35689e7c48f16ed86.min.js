(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{1007:function(e,n,t){"use strict";t.r(n);var a=t(6845);t.d(n,"useEventSourceProvider",(function(){return a.b})),t.d(n,"knativeEventingTypeProvider",(function(){return a.a})),t.d(n,"useKnativeEventingEnabled",(function(){return a.c})),t.d(n,"useKnativeEventingProvider",(function(){return a.d}));var i=t(8225);t.d(n,"kameletsProvider",(function(){return i.a}));var r=t(8227);t.d(n,"kameletsSinkProvider",(function(){return r.a}));var o=t(8228);t.d(n,"kafkaSinkProvider",(function(){return o.a}));var s=t(8229);t.d(n,"eventTypeProvider",(function(){return s.a}))},5634:function(e,n,t){"use strict";t.d(n,"i",(function(){return i})),t.d(n,"g",(function(){return r})),t.d(n,"m",(function(){return o})),t.d(n,"j",(function(){return s})),t.d(n,"k",(function(){return c})),t.d(n,"h",(function(){return u})),t.d(n,"l",(function(){return l})),t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return p})),t.d(n,"o",(function(){return v})),t.d(n,"p",(function(){return m})),t.d(n,"n",(function(){return b})),t.d(n,"q",(function(){return f})),t.d(n,"d",(function(){return k})),t.d(n,"b",(function(){return g})),t.d(n,"c",(function(){return j})),t.d(n,"a",(function(){return O})),t.d(n,"r",(function(){return y}));var a=t(2221);const i="event-source",r="event-sink",o="kafka-sink",s="event-source-kafka",c="event-source-link",u="event-sink-link",l="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",v="knative-service",m="revision-traffic",b="knative-revision",f="sink-uri",k=a.h,g=100,j=[a.c,a.c,a.c+10,a.c],O=6,y="URI"},5684:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(0),i=t(8),r=function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((a=a.apply(e,n||[])).next())}))};const o=(e,n,t,o)=>{const[s,c]=a.useState(),[u,l]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{r(void 0,void 0,void 0,(function*(){try{p(null),l(!1),c(null);const a=yield Object(i.kb)(e,n,t,o);c(a)}catch(e){p(e)}finally{l(!0)}}))},[e,n,t,o]),[s,u,d]}},5711:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return p})),t.d(n,"e",(function(){return v})),t.d(n,"c",(function(){return m})),t.d(n,"g",(function(){return b})),t.d(n,"d",(function(){return f})),t.d(n,"h",(function(){return k})),t.d(n,"f",(function(){return g}));var a=t(499),i=t(22),r=t(1557),o=t(655),s=t(255),c=t(15),u=t(2221),l=t(5599);const d=({name:e,applicationName:n,imageStreamName:t,runtimeIcon:a,selectedTag:i,namespace:r})=>{const o=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},t&&{"app.openshift.io/runtime":t});return a&&(o["app.openshift.io/runtime"]=a),n&&n.trim().length>0&&(o["app.kubernetes.io/part-of"]=n),i&&(o["app.openshift.io/runtime-version"]=i),r&&(o["app.openshift.io/runtime-namespace"]=r),o},p=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),v=()=>({[u.n]:"false"}),m=(e,n)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":n||""}),b=(e,n,t,a,i="latest")=>({[c.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${n}:${i}`,namespace:t},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!a}])}),f=(e,n)=>{const t=l.l[e];return t?{app:n,[t.toLowerCase()]:n}:{app:n}},k=(e,n)=>{var t,s,c,u,l,d,p,v,m,b,f,k,g,j,O,y,h,S,w,E,V,K,T,C,P,R,A,$,M;if(i.a(e))return n;const x=r.a({},e||{},n),G=null===(s=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===s?void 0:s.isFromDevfile;var N;if(x.metadata.labels=Object.assign(Object.assign({},n.metadata.labels),G?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.labels:{}),x.metadata.annotations&&(x.metadata.annotations=Object.assign(Object.assign({},G?null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations:(N=null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.annotations,a.a(N,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),n.metadata.annotations)),(null===(v=null===(p=null===(d=x.spec)||void 0===d?void 0:d.template)||void 0===p?void 0:p.metadata)||void 0===v?void 0:v.labels)&&(x.spec.template.metadata.labels=null===(f=null===(b=null===(m=n.spec)||void 0===m?void 0:m.template)||void 0===b?void 0:b.metadata)||void 0===f?void 0:f.labels),!i.a(null===(j=null===(g=null===(k=e.spec)||void 0===k?void 0:k.template)||void 0===g?void 0:g.spec)||void 0===j?void 0:j.containers)){x.spec.template.spec.containers=e.spec.template.spec.containers;const t=o.a(e.spec.template.spec.containers,{name:e.metadata.name});t>=0?x.spec.template.spec.containers[t]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[t]),n.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[t].volumeMounts}):x.spec.template.spec.containers.push(n.spec.template.spec.containers[0])}return(null===(O=null==x?void 0:x.spec)||void 0===O?void 0:O.hasOwnProperty("strategy"))&&(x.spec.strategy=null!==(h=null===(y=n.spec)||void 0===y?void 0:y.strategy)&&void 0!==h?h:null===(S=e.spec)||void 0===S?void 0:S.strategy),(null===(w=x.spec)||void 0===w?void 0:w.triggers)&&(x.spec.triggers=n.spec.triggers),(null===(V=null===(E=n.spec)||void 0===E?void 0:E.source)||void 0===V?void 0:V.sourceSecret)||null===(T=null===(K=null==x?void 0:x.spec)||void 0===K?void 0:K.source)||void 0===T||delete T.sourceSecret,(null===(R=null===(P=null===(C=x.spec)||void 0===C?void 0:C.template)||void 0===P?void 0:P.spec)||void 0===R?void 0:R.hasOwnProperty("volumes"))&&(x.spec.template.spec.volumes=null===(M=null===($=null===(A=e.spec)||void 0===A?void 0:A.template)||void 0===$?void 0:$.spec)||void 0===M?void 0:M.volumes),x},g=e=>{var n,t,a;return s.a(null===(a=null===(t=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.template)||void 0===t?void 0:t.metadata)||void 0===a?void 0:a.labels,(n,t,a)=>{var i,r;return(null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.hasOwnProperty(a))||(n[a]=t),n},{})}},5843:function(e,n,t){"use strict";t.d(n,"k",(function(){return g})),t.d(n,"l",(function(){return y})),t.d(n,"g",(function(){return h})),t.d(n,"c",(function(){return S})),t.d(n,"d",(function(){return w})),t.d(n,"i",(function(){return E})),t.d(n,"h",(function(){return V})),t.d(n,"e",(function(){return K})),t.d(n,"f",(function(){return T})),t.d(n,"b",(function(){return C})),t.d(n,"j",(function(){return P})),t.d(n,"m",(function(){return R})),t.d(n,"a",(function(){return A}));var a=t(499),i=t(5711),r=t(5),o=t(8),s=t(614),c=t(30),u=t(1941),l=t(2221),d=t(6342),p=t(5844),v=t(5845),m=t(132),b=t(76),f=t(5956),k=function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((a=a.apply(e,n||[])).next())}))};const g=e=>Object.keys(p.a).includes(e),j=e=>{const{type:n,name:t,apiVersion:a,application:{name:r},project:{name:o},data:s,sinkType:c,sink:u}=e,l=Object(i.a)({name:t,applicationName:r}),d=s[n],{name:v,kind:m,apiVersion:b,uri:f}=u;return{apiVersion:a,kind:n,metadata:{name:t,namespace:o,labels:Object.assign({},l),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},d&&d),c===p.b.Resource&&v&&b&&m?{sink:{ref:{apiVersion:b,kind:m,name:v}}}:{sink:{uri:f}})}},O=e=>{var n,t;return!(!(null===(n=null==e?void 0:e.secretKeyRef)||void 0===n?void 0:n.name)&&!(null===(t=null==e?void 0:e.secretKeyRef)||void 0===t?void 0:t.key))},y=e=>{var n;const{formData:{project:{name:t}},yamlData:a}=e;let i=Object(u.c)(a);const r=i&&Object(o.vb)(Object(o.Db)(i));return(null==i?void 0:i.metadata)&&(null==r?void 0:r.namespaced)&&!(null===(n=i.metadata)||void 0===n?void 0:n.namespace)&&(i=Object.assign(Object.assign({},i),{metadata:Object.assign(Object.assign({},i.metadata),{namespace:t})})),i},h=e=>{switch(e.type){case p.a.KafkaSource:return(e=>{var n,t,a,i,r,o,s,c,u;const l=j(e),{net:d}=l.spec;return l.spec.net=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),!(null===(n=d.sasl)||void 0===n?void 0:n.enable)&&{sasl:{user:{},password:{}}}),(null===(t=d.sasl)||void 0===t?void 0:t.enable)&&!O(null===(a=d.sasl)||void 0===a?void 0:a.user)&&!O(null===(i=d.sasl)||void 0===i?void 0:i.password)&&{sasl:{enable:!0,user:{},password:{}}}),!(null===(r=d.tls)||void 0===r?void 0:r.enable)&&{tls:{caCert:{},cert:{},key:{}}}),(null===(o=d.tls)||void 0===o?void 0:o.enable)&&!O(null===(s=d.tls)||void 0===s?void 0:s.caCert)&&!O(null===(c=d.tls)||void 0===c?void 0:c.cert)&&!O(null===(u=d.tls)||void 0===u?void 0:u.key)&&{tls:{enable:!0,caCert:{},cert:{},key:{}}}),l})(e);default:return j(e)}},S=e=>{if(e.editorType===s.b.YAML)return y(e);const{formData:n}=e;return h(n)},w=e=>({[p.a.PingSource]:{data:"",schedule:""},[p.a.SinkBinding]:{subject:{apiVersion:"",kind:"",selector:{matchLabels:{}}}},[p.a.ApiServerSource]:{mode:"Reference",serviceAccountName:"",resources:[{apiVersion:"",kind:""}]},[p.a.KafkaSource]:{bootstrapServers:[],topics:[],consumerGroup:"",net:{sasl:{enable:!1,user:{secretKeyRef:{name:"",key:""}},password:{secretKeyRef:{name:"",key:""}}},tls:{enable:!1,caCert:{secretKeyRef:{name:"",key:""}},cert:{secretKeyRef:{name:"",key:""}},key:{secretKeyRef:{name:"",key:""}}}}},[p.a.ContainerSource]:{template:{spec:{containers:[{image:"",name:"",args:[""],env:[]}]}}}}[e]),E=e=>({source:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),V=e=>{var n,t;let a={};if((null==e?void 0:e.kind)===b.c.kind){const{kind:i,metadata:{name:r,annotations:o},spec:s}=e,c=(null==o?void 0:o[m.d])||"",u=Object(f.a)(i,e);a={name:(null===(n=null==s?void 0:s.definition)||void 0===n?void 0:n.title)||r,description:(null===(t=null==s?void 0:s.definition)||void 0===t?void 0:t.description)||"",provider:c,iconUrl:u}}return a},K=(e,n)=>{var t;let a={};if(e){const{kind:i,label:r}=e,{description:s,provider:c}=null!==(t=Object(d.a)(i,n))&&void 0!==t?t:{};a={name:r,description:s,provider:c,iconUrl:Object(f.a)(Object(o.Hb)(e))}}return a},T=(e,n)=>n.map(n=>{const{apiGroup:t,plural:a}=n;return Object(r.Fb)({group:t,resource:a,namespace:e,verb:"create"}).then(e=>e.status.allowed?n:null).catch(e=>(console.warn("Could not check access for event source models",e),null))}),C=e=>null==e?void 0:e.reduce((e,n)=>{var t,a,i;const r=[...(null===(t=null==n?void 0:n.status)||void 0===t?void 0:t.listeners)?null===(a=n.status.listeners.map(e=>{var n;return null===(n=null==e?void 0:e.bootstrapServers)||void 0===n?void 0:n.split(",")}))||void 0===a?void 0:a.flat():[],...(null===(i=null==n?void 0:n.status)||void 0===i?void 0:i.bootstrapServerHost)?[n.status.bootstrapServerHost]:[]];return e.push(...r),e},[]),P=(e,n,t)=>k(void 0,void 0,void 0,(function*(){const a=t.find(e=>e.properties.id===n),i=(yield a.properties.importRedirectURL())(e);r.Vb.push(i)})),R=(e,n,t)=>{var i,r,o,s,u,d;const m=e.spec,b=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],f=null===(o=null==m?void 0:m.sink)||void 0===o?void 0:o.ref,k=Object.assign(Object.assign({},n),{application:Object.assign(Object.assign(Object.assign({},n.application),b&&b!==n.application.name&&{name:b,selectedKey:n.application.selectedKey?l.b:""}),!b&&{name:"",selectedKey:c.cb}),name:null===(s=e.metadata)||void 0===s?void 0:s.name,sinkType:f?p.b.Resource:p.b.Uri,sink:{apiVersion:null==f?void 0:f.apiVersion,kind:null==f?void 0:f.kind,name:null==f?void 0:f.name,key:Object(v.a)(null==f?void 0:f.name,{kind:null==f?void 0:f.kind,apiVersion:null==f?void 0:f.apiVersion}),uri:(null===(u=null==m?void 0:m.sink)||void 0===u?void 0:u.uri)||""},data:Object.assign({[n.type]:Object.assign({},a.a(m,"sink"))},t&&{[n.type]:{source:{ref:{apiVersion:t.apiVersion,kind:t.kind,name:t.metadata.name},properties:null===(d=null==m?void 0:m.source)||void 0===d?void 0:d.properties}}})});return n.type===p.a.KafkaSource?(e=>{var n,t,a,i,r,o,s,c,u,l,d,v,m,b,f,k,g,j,O;const y=(null===(n=e.data)||void 0===n?void 0:n[p.a.KafkaSource])||{},h={secretKeyRef:{name:"",key:""}};return Object.assign(Object.assign({},e),{data:{[p.a.KafkaSource]:{bootstrapServers:Array.isArray(y.bootstrapServers)?y.bootstrapServers:[],topics:Array.isArray(y.topics)?y.topics:[],consumerGroup:"string"==typeof y.consumerGroup?y.consumerGroup:"",net:{sasl:{enable:"boolean"==typeof(null===(a=null===(t=y.net)||void 0===t?void 0:t.sasl)||void 0===a?void 0:a.enable)&&(null===(r=null===(i=y.net)||void 0===i?void 0:i.sasl)||void 0===r?void 0:r.enable),user:"object"==typeof(null===(s=null===(o=y.net)||void 0===o?void 0:o.sasl)||void 0===s?void 0:s.user)?Object.assign(Object.assign({},h),y.net.sasl.user):h,password:"object"==typeof(null===(u=null===(c=y.net)||void 0===c?void 0:c.sasl)||void 0===u?void 0:u.password)?Object.assign(Object.assign({},h),y.net.sasl.password):h},tls:{enable:"boolean"==typeof(null===(d=null===(l=y.net)||void 0===l?void 0:l.tls)||void 0===d?void 0:d.enable)&&(null===(m=null===(v=y.net)||void 0===v?void 0:v.tls)||void 0===m?void 0:m.enable),caCert:"object"==typeof(null===(f=null===(b=y.net)||void 0===b?void 0:b.tls)||void 0===f?void 0:f.caCert)?Object.assign(Object.assign({},h),y.net.tls.caCert):h,cert:"object"==typeof(null===(g=null===(k=y.net)||void 0===k?void 0:k.tls)||void 0===g?void 0:g.cert)?Object.assign(Object.assign({},h),y.net.tls.cert):h,key:"object"==typeof(null===(O=null===(j=y.net)||void 0===j?void 0:j.tls)||void 0===O?void 0:O.key)?Object.assign(Object.assign({},h),y.net.tls.key):h}}}}})})(k):k},A=(e,n=[],t="")=>{for(const a in e)if(e.hasOwnProperty(a)&&"object"==typeof e[a]){const i=""!==t?`${t}.${a}`:a;"object"===e[a].type?A(e[a].properties,n,i):"array"===e[a].type&&e[a].items?"object"===e[a].items.type?A(e[a].items.properties,n,i+"[0]"):"array"===e[a].items.type?A(e[a].items,n,i+"[0]"):n.push(Object.assign(Object.assign(Object.assign(Object.assign({},e[a].items.hasOwnProperty("title")&&{displayName:e[a].items.title}),e[a].items.hasOwnProperty("description")&&{description:e[a].items.description}),{path:i+"[0]"}),e[a].items.hasOwnProperty("x-descriptors")&&{"x-descriptors":e[a].items["x-descriptors"]})):n.push(Object.assign({displayName:e[a].title,description:e[a].description,path:i},e[a]["x-descriptors"]&&{"x-descriptors":e[a]["x-descriptors"]}))}return n}},5844:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"d",(function(){return c}));var a=t(132),i=t(76);const r={ApiServerSource:a.p,ContainerSource:a.s,KafkaSource:a.u,PingSource:a.v,SinkBinding:a.w,KameletBinding:i.b.kind},o={InMemoryChannel:a.j,KafkaChannel:a.k};var s;!function(e){e.Resource="resource",e.Uri="uri"}(s||(s={}));const c=e=>({Resource:{value:s.Resource,label:e("knative-plugin~Resource")},Uri:{value:s.Uri,label:e("knative-plugin~URI")}})},5845:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s}));var a=t(8);const i=e=>{var n;return null!==(n={"serving.knative.dev":1,"messaging.knative.dev":2,"eventing.knative.dev":3}[(e=>e.split("/")[0])(e)])&&void 0!==n?n:4},r=(e,n)=>{if(!(null==n?void 0:n.apiVersion))return;const{apiVersion:t}=n;return e?[i(t),Object(a.Db)(n),e].join("#"):void 0},o=e=>{var n;return null!==(n=null==e?void 0:e.split("#").pop())&&void 0!==n?n:""},s=e=>{const n=Object.assign({},e);return n.spec.subscriber.ref.name=o(e.spec.subscriber.ref.name),n}},5956:function(e,n,t){"use strict";t.d(n,"a",(function(){return O}));var a=t(8),i=t(15),r=t(132),o=t(6343),s=t.n(o),c=t(6344),u=t.n(c),l=t(6345),d=t.n(l),p=t(6346),v=t.n(p),m=t(6347),b=t.n(m),f=t(6348),k=t.n(f),g=t(5634),j=t(616);const O=(e,n,t)=>{var o;const c=null===(o=null==n?void 0:n.metadata)||void 0===o?void 0:o.annotations;return Object(i.Wd)(null==c?void 0:c[r.t])?null==c?void 0:c[r.t]:Object(i.Wd)(null==c?void 0:c[r.b])?null==c?void 0:c[r.b]:((e,n)=>{switch(Object(a.tb)(e)){case r.p:return s.a;case r.q:return u.a;case r.s:return d.a;case r.v:return b.a;case r.u:return v.a;case r.w:return k.a;case r.n:return v.a;default:return n===g.g?j.eventSinkIconSVG:j.eventSourceIconSVG}})(e,t)}},6115:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(0),i=t(4387),r=t(108),o=t(8),s=t(132),c=t(76);const u=e=>{const[n,t]=a.useState([]),[u,l]=a.useState(!1),[d,p]=a.useState(null),v=a.useMemo(()=>({kamelets:{isList:!0,kind:Object(o.Hb)(c.c),namespace:e,optional:!0},kameletsGlobalNs:{isList:!0,kind:Object(o.Hb)(c.c),namespace:s.N,optional:!0},kameletsGlobalNs2:{isList:!0,kind:Object(o.Hb)(c.c),namespace:s.c,optional:!0}}),[e]),m=Object(r.b)(v);return a.useEffect(()=>{const e=Object.keys(m).some(e=>m[e].loaded),n=Object.keys(m).every(e=>m[e].loadError),{kamelets:a,kameletsGlobalNs:r,kameletsGlobalNs2:o}=m;if(e){const e=Object(i.a)([...a.data,...r.data,...o.data],e=>{var n;return null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid});t(e),l(a.loaded||r.loaded||o.loaded)}else n&&p(r.loadError||r.loadError||o.loadError)},[m]),[n,u,d]}},6169:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(0),i=t(7),r=t(13),o=t(5684),s=t(132),c=t(76),u=t(6349),l=t(5843);const d=(e,n,t)=>{const{t:d}=Object(i.useTranslation)(),[p,v]=Object(o.a)(c.c,t,e),[m,b]=Object(o.a)(c.c,t,s.N),[f,k]=Object(o.a)(c.c,t,s.c),g=v&&b&&k,j=t&&g&&(p||m||f),O=t&&n===c.b.kind,y=n||O,h=n&&!O&&c.k.kind===n&&c.k,S=O?c.b:h,[w,E]=Object(r.hc)({group:null==S?void 0:S.apiGroup,resource:null==S?void 0:S.plural,verb:"create",namespace:e}),V=a.useMemo(()=>y?{isValidSink:!!h||g&&j&&O,loaded:O?g:!!h,normalizedSink:O?Object(l.h)(j):Object(u.c)(h,d)}:{isValidSink:!1,loaded:!0,normalizedSink:{}},[y,h,g,j,O,d]);return Object.assign(Object.assign({},V),{createSinkAccessLoading:E,createSinkAccess:w,kamelet:j})}},6236:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(0),i=t(5843),r=t(870);const o=e=>{const{loaded:n,eventSourceModels:t}=Object(r.useEventSourceModels)(),[o,s]=a.useState({loaded:!1,eventSourceModelsList:[]});return a.useEffect(()=>{if(n){const n=Object(i.f)(e,t);Promise.all([...n]).then(e=>{const n=null==e?void 0:e.reduce((e,n)=>[...e,...n?[n]:[]],[]);s({loaded:!0,eventSourceModelsList:n})}).catch(e=>console.warn("Failed to get event source models",e.message))}},[n]),o}},6237:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(0),i=t(7),r=t(5),o=t(5684),s=t(132),c=t(76),u=t(5843),l=t(870);const d=(e,n,t)=>{const{t:d}=Object(i.useTranslation)(),{eventSourceModels:p,loaded:v}=Object(l.useEventSourceModels)(),[m,b]=Object(o.a)(c.c,t,e),[f,k]=Object(o.a)(c.c,t,s.N),[g,j]=Object(o.a)(c.c,t,s.c),O=b&&k&&j,y=O&&(m||f||g),h=t&&n===c.b.kind,S=n||h,w=n&&!h&&(null==p?void 0:p.find(e=>e.kind===n)),E=h?c.b:w,[V,K]=Object(r.Ec)({group:null==E?void 0:E.apiGroup,resource:null==E?void 0:E.plural,verb:"create",namespace:e}),T=a.useMemo(()=>S?{isValidSource:!!w||O&&y&&h,loaded:h?O:v,normalizedSource:h?Object(u.h)(y):Object(u.e)(w,d)}:{isValidSource:!1,loaded:!0,normalizedSource:{}},[S,w,O,y,h,v,d]);return Object.assign(Object.assign({},T),{createSourceAccessLoading:K,createSourceAccess:V,kamelet:y})}},6238:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t(0),i=t(22),r=t(50),o=t(7),s=t(108),c=t(5843),u=t(1412);const l=e=>{const{t:n}=Object(o.useTranslation)(),t=a.useMemo(()=>Object(u.l)(e),[e]),{kafkas:l,kafkaconnections:d}=Object(s.b)(t);return a.useMemo(()=>{let e=[],t="";const a=l.loaded&&!l.loadError||d.loaded&&!d.loadError,o=!(!l.loadError||!d.loadError);if(a){const a=[...l.data?l.data:[],...d.data?d.data:[]];e=i.a(a)?[{value:n("knative-plugin~No bootstrap servers found"),disabled:!0}]:r.a(Object(c.b)(a),e=>({value:e,disabled:!1})),t=n("knative-plugin~Add bootstrap servers")}else o?t=n("knative-plugin~{{loadErrorMessage}}. Try adding bootstrap servers manually.",{loadErrorMessage:`${l.loadError.message}, ${d.loadError.message}`}):(e=[{value:n("knative-plugin~Loading bootstrap servers..."),disabled:!0}],t="...");return[e,t]},[l.loaded,l.loadError,l.data,d.loaded,d.loadError,d.data,n])}},6341:function(e,n,t){"use strict";var a=t(6236);t.d(n,"b",(function(){return a.a}));var i=t(6237);t.d(n,"c",(function(){return i.a}));t(6115),t(6169);var r=t(6238);t.d(n,"a",(function(){return r.a}))},6342:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(132);const i=(e,n)=>({[a.p]:{description:n("knative-plugin~This object can be used to connect an event sink, such as a Service, Channel, or Broker to the Kubernetes API server. ApiServerSource watches for Kubernetes events and forwards them to the sink."),provider:"Red Hat",support:n("knative-plugin~Supported")},[a.s]:{description:n("knative-plugin~Starts a user-provided Container which will generate events and send messages to a sink URI. The sink URI is injected into the Container as an environment variable. A ContainerSource is an easy way to implement your own event sources in Knative."),provider:"Red Hat",support:n("knative-plugin~Supported")},[a.u]:{description:n("knative-plugin~A distributed messaging system consisting of servers and clients that communicate via a high-performance TCP network protocol. This source will send Apache Kafka messages from monitored Apache Kafka topics to a configured sink, packaged as CloudEvents."),provider:"Red Hat",support:n("knative-plugin~Supported")},[a.v]:{description:n("knative-plugin~Used to periodically send ping events with a constant payload to a sink. A PingSource is a timer that emits CloudEvents at a fixed schedule that is configured as a crontab expression."),provider:"Red Hat",support:n("knative-plugin~Supported")},[a.w]:{description:n("knative-plugin~Used to connect OpenShift managed applications like Deployments, StatefulSets, or Jobs to an event sink, for example, a Knative Service, Channel, or Broker. SinkBinding is similar to a ContainerSource but works on existing OpenShift Application resources, whereas the ContainerSource Container lifecycle is fully managed by OpenShift Serverless itself."),provider:"Red Hat",support:n("knative-plugin~Supported")}}[e])},6343:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/apiserversource.svg"},6344:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/camelsource.svg"},6345:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/containersource.svg"},6346:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/kafkasource.svg"},6347:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/pingsource.svg"},6348:function(e,n,t){e.exports=t.p+"assets/packages/knative-plugin/src/imgs/logos/sinkbindingsource.svg"},6349:function(e,n,t){"use strict";t.d(n,"d",(function(){return m})),t.d(n,"a",(function(){return b})),t.d(n,"e",(function(){return f})),t.d(n,"f",(function(){return k})),t.d(n,"c",(function(){return g})),t.d(n,"b",(function(){return j}));var a=t(499),i=t(5711),r=t(8),o=t(614),s=t(30),c=t(2221),u=t(6426),l=t(5845),d=t(132),p=t(5843),v=t(5956);const m=e=>{const{type:n,name:t,apiVersion:a,application:{name:r},project:{name:o},data:s,source:c}=e,u=Object(i.a)({name:t,applicationName:r}),l=s[n],{name:d,kind:p,apiVersion:v}=null!=c?c:{};return{apiVersion:a,kind:n,metadata:{name:t,namespace:o,labels:Object.assign({},u),annotations:Object(i.b)()},spec:Object.assign(Object.assign({},l&&l),d&&v&&p&&{source:{ref:{apiVersion:v,kind:p,name:d}}})}},b=e=>{if(e.editorType===o.b.YAML)return Object(p.l)(e);const{formData:n}=e;return n.type===d.n?(e=>{var n,t,i,r,o,s,c,u;const l=m(e);return Object.assign(Object.assign({},l),{spec:Object.assign(Object.assign({},a.a(l.spec,"auth")),(null===(r=null===(i=null===(t=null===(n=l.spec)||void 0===n?void 0:n.auth)||void 0===t?void 0:t.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(u=null===(c=null===(s=null===(o=l.spec)||void 0===o?void 0:o.auth)||void 0===s?void 0:s.secret)||void 0===c?void 0:c.ref)||void 0===u?void 0:u.name}}}})})})(n):m(n)},f=e=>({sink:{ref:{apiVersion:e.apiVersion,kind:e.kind,name:e.metadata.name},properties:{}}}),k=(e,n,t)=>{var i,r,o,u;const p=e.spec,{ref:v}=(null==p?void 0:p.source)||{},m=null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"],b=Object.assign(Object.assign(Object.assign(Object.assign({},n),{application:Object.assign(Object.assign(Object.assign({},n.application),m&&m!==n.application.name&&{name:m,selectedKey:n.application.selectedKey?c.b:""}),!m&&{name:"",selectedKey:s.cb}),name:null===(o=e.metadata)||void 0===o?void 0:o.name}),(null==v?void 0:v.name)&&(null==v?void 0:v.kind)&&(null==v?void 0:v.apiVersion)&&{source:{apiVersion:v.apiVersion,kind:v.kind,name:v.name,key:Object(l.a)(v.name,v)}}),{data:Object.assign({[n.type]:Object.assign({},a.a(p,"source"))},t&&{[n.type]:{sink:{ref:{apiVersion:t.apiVersion,kind:t.kind,name:t.metadata.name},properties:null===(u=null==p?void 0:p.sink)||void 0===u?void 0:u.properties}}})});return n.type===d.n?(e=>{var n,t,a,i,r,o,s,c;const u=(null===(n=e.data)||void 0===n?void 0:n[d.n])||{};return Object.assign(Object.assign({},e),{data:{[d.n]:Object.assign({bootstrapServers:Array.isArray(u.bootstrapServers)?u.bootstrapServers:[],topic:null!==(t=u.topic)&&void 0!==t?t:""},(null===(r=null===(i=null===(a=u.auth)||void 0===a?void 0:a.secret)||void 0===i?void 0:i.ref)||void 0===r?void 0:r.name)&&{auth:{secret:{ref:{name:null===(c=null===(s=null===(o=u.auth)||void 0===o?void 0:o.secret)||void 0===s?void 0:s.ref)||void 0===c?void 0:c.name}}}})}})})(b):b},g=(e,n)=>{var t;let a={};if(e){const{kind:i,label:o}=e,{description:s,provider:c}=null!==(t=Object(u.a)(i,n))&&void 0!==t?t:{};a={name:o,description:s,provider:c,iconUrl:Object(v.a)(Object(r.Hb)(e))}}return a},j=e=>({[d.n]:{bootstrapServers:[],topic:"",auth:{secret:{ref:{name:""}}}}}[e])},6426:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(132);const i=(e,n)=>({[a.n]:{description:n("knative-plugin~A KafkaSink takes a CloudEvent, and sends it to an Apache Kafka Topic. Events can be specified in either Structured or Binary mode."),provider:"Red Hat",support:n("knative-plugin~Supported")}}[e])},6845:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return p})),t.d(n,"c",(function(){return v})),t.d(n,"d",(function(){return m}));var a=t(0),i=t(7),r=t(8),o=t(15),s=t(132),c=t(6341),u=t(5956),l=t(6342);const d=({namespace:e})=>{const{t:n}=Object(i.useTranslation)(),{loaded:t,eventSourceModelsList:o}=Object(c.b)(e);return[a.useMemo(()=>t?((e,n,t)=>e.map(e=>{var a;const{kind:i,label:o,id:s}=e,c=`/catalog/ns/${n}/eventsource?sourceKind=${i}`,{description:d,provider:p,support:v}=null!==(a=Object(l.a)(i,t))&&void 0!==a?a:{};return{uid:s,name:o,description:d,icon:{url:Object(u.a)(Object(r.Hb)(e)),class:null},type:"EventSource",provider:p,cta:{label:t("knative-plugin~Create Event Source"),href:c},details:{properties:[{label:t("knative-plugin~Support"),value:v}]}}}))(o,e,n):[],[t,e,n,o]),t,void 0]},p=e=>{e(s.G,Object(o.Nd)(s.r)),e(s.F,Object(o.Nd)(s.m))},v=()=>{const e=Object(o.Fe)(s.D),n=Object(o.Fe)(s.C),t=Object(o.Fe)(s.A);return e||n||t},m=e=>{const n=v();e(s.E,n)}},8225:function(e,n,t){"use strict";var a=t(0),i=t(7),r=t(175),o=t(132),s=t(6115),c=t(76),u=t(5956),l=t(8226);n.a=({namespace:e})=>{const{t:n}=Object(i.useTranslation)(),t=Object(r.d)({group:c.b.apiGroup,resource:c.b.plural,verb:"create",namespace:e}),[d,p,v]=Object(s.a)(e);return[a.useMemo(()=>{if(!p||!t)return[];return((e,n,t)=>e.map(e=>{var a,i;const{kind:r,metadata:{uid:s,name:d,creationTimestamp:p,annotations:v},spec:m}=e,b=(null==v?void 0:v[o.d])||"",f=Object(u.a)(r,e),k=`/catalog/ns/${n}/eventsource?sourceKind=${c.b.kind}&name=${d}`;return{uid:s,name:(null===(a=null==m?void 0:m.definition)||void 0===a?void 0:a.title)||d,description:(null===(i=null==m?void 0:m.definition)||void 0===i?void 0:i.description)||"",provider:b,creationTimestamp:p,cta:{label:t("knative-plugin~Create Event Source"),href:k},type:"EventSource",icon:{url:f},details:{properties:[{label:t("knative-plugin~Support"),value:Object(l.a)(e)}]}}}))(d.filter(e=>{var n,t;return"source"===(null===(t=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===t?void 0:t[o.e])}),e,n)},[p,d,e,t,n]),p,v]}},8226:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(29);const i=e=>{var n,t;switch(null===(t=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===t?void 0:t["camel.apache.org/kamelet.support.level"]){case"Preview":return a.a.t("knative-plugin~Tech Preview");case"Supported":return a.a.t("knative-plugin~Supported");default:return a.a.t("knative-plugin~Community")}}},8227:function(e,n,t){"use strict";var a=t(0),i=t(7),r=t(175),o=t(132),s=t(6115),c=t(76),u=t(5956),l=t(8226);n.a=({namespace:e})=>{const{t:n}=Object(i.useTranslation)(),t=Object(r.d)({group:c.b.apiGroup,resource:c.b.plural,verb:"create",namespace:e}),[d,p,v]=Object(s.a)(e);return[a.useMemo(()=>{if(!p||!t)return[];return((e,n,t)=>e.map(e=>{var a,i;const{kind:r,metadata:{uid:s,name:d,creationTimestamp:p,annotations:v},spec:m}=e,b=(null==v?void 0:v[o.d])||"",f=Object(u.a)(r,e),k=`/catalog/ns/${n}/eventsink?sinkKind=${c.b.kind}&name=${d}`;return{uid:s,name:(null===(a=null==m?void 0:m.definition)||void 0===a?void 0:a.title)||d,description:(null===(i=null==m?void 0:m.definition)||void 0===i?void 0:i.description)||"",provider:b,creationTimestamp:p,cta:{label:t("knative-plugin~Create Event Sink"),href:k},type:"EventSink",icon:{url:f},details:{properties:[{label:t("knative-plugin~Support"),value:Object(l.a)(e)}]}}}))(d.filter(e=>{var n,t;return"sink"===(null===(t=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===t?void 0:t[o.e])}),e,n)},[p,d,e,t,n]),p,v]}},8228:function(e,n,t){"use strict";var a=t(0),i=t(7),r=t(13),o=t(76),s=t(5956),c=t(6426);n.a=({namespace:e})=>{const{t:n}=Object(i.useTranslation)(),[t]=Object(r.hc)({group:o.k.apiGroup,resource:o.k.plural,verb:"create",namespace:e});return[a.useMemo(()=>t?((e,n)=>{var t;const{kind:a,label:i}=o.k,r=Object(s.a)(a),u=`/catalog/ns/${e}/eventsink?sinkKind=${a}`,{description:l,provider:d,support:p}=null!==(t=Object(c.a)(a,n))&&void 0!==t?t:{};return[{uid:a,name:i,description:l,provider:d,cta:{label:n("knative-plugin~Create Event Sink"),href:u},type:"EventSink",icon:{url:r},details:{properties:[{label:n("knative-plugin~Support"),value:p}]}}]})(e,n):[],[t,e,n]),!0,null]}},8229:function(e,n,t){"use strict";var a=t(0),i=t(7),r=t(13),o=t(9544),s=t(132),c=t(9545),u=t(76),l=t(5956);n.a=({namespace:e})=>{const{t:n}=Object(i.useTranslation)(),[t]=Object(r.hc)({group:u.g.apiGroup,resource:u.g.plural,verb:"get",namespace:e}),[d]=Object(r.hc)({group:u.g.apiGroup,resource:u.g.plural,verb:"list",namespace:e}),[p]=Object(r.hc)({group:u.g.apiGroup,resource:u.g.plural,verb:"watch",namespace:e}),[v,m,b]=Object(c.a)(e);return[a.useMemo(()=>m&&t&&d&&p?v.map(e=>((e,n)=>{const{kind:t}=u.g,i=Object(l.a)(t),r=`${e.metadata.namespace}-${e.metadata.name}`;let c={metadata:{}};e.spec.hasOwnProperty("reference")?(c.apiVersion=e.spec.reference.apiVersion,c.kind=e.spec.reference.kind,e.spec.reference.hasOwnProperty("namespace")?c.metadata.namespace=e.spec.reference.namespace:c.metadata.namespace=e.metadata.namespace,e.spec.reference.hasOwnProperty("name")&&(c.metadata.name=e.spec.reference.name)):e.spec.hasOwnProperty("broker")&&(c={apiVersion:`${u.f.apiGroup}/${u.f.apiVersion}`,kind:u.f.kind,metadata:{namespace:e.metadata.namespace,name:e.spec.broker}});const d=new URLSearchParams;d.append(s.cb,c.apiVersion),d.append(s.db,c.kind),d.append(s.eb,c.metadata.name),d.append(s.x,e.metadata.namespace),d.append(s.y,e.metadata.name);const p=`/catalog/ns/${c.metadata.namespace}/subscribe?${d.toString()}`;return{uid:r,name:`${e.spec.type} (${c.metadata.namespace}/${c.metadata.name})`,description:e.spec.description,cta:{label:n("knative-plugin~Subscribe"),href:p},type:"EventType",icon:{url:i},creationTimestamp:e.metadata.creationTimestamp,provider:""+c.metadata.name,details:{descriptions:[{value:a.createElement(o.a,{eventType:e})}]},tags:[u.g.kind]}})(e,n)):[],[m,v,t,d,p,n]),m,b]}},9544:function(e,n,t){"use strict";var a=t(0),i=t(72),r=t(469),o=t(7),s=t(40);const c=e=>()=>[{id:"attributes",title:e("knative-plugin~Attributes")},{id:"values",title:e("knative-plugin~Values")}],u=({obj:e})=>a.createElement(a.Fragment,null,a.createElement(s.k,{columnID:"attributes"},e.key),a.createElement(s.k,{columnID:"values"},e.value));n.a=({eventType:e})=>{const{t:n}=Object(o.useTranslation)(),t=["type","source","schema"].filter(n=>e.spec.hasOwnProperty(n)).map(n=>({key:n,value:e.spec[n]}));return a.createElement(a.Fragment,null,e.spec.description?e.spec.description:"",a.createElement("div",{style:{marginTop:"var(--pf-v5-global--spacer--md)"}},a.createElement(i.a,{component:i.b.h3},n("knative-plugin~Event details"))),a.createElement(s.j,{data:t,defaultSortField:"attributes",defaultSortOrder:r.a.asc,"aria-label":n("knative-plugin~Event"),Header:c(n),Row:u,loaded:!0,virtualize:!0}))}},9545:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t(0),i=t(108),r=t(8),o=t(76);const s=e=>{const[n,t]=a.useState([]),[s,c]=a.useState(!1),[u,l]=a.useState(null),d=a.useMemo(()=>({eventTypes:{isList:!0,kind:Object(r.Hb)(o.g),namespace:e,optional:!0}}),[e]),p=Object(i.b)(d);return a.useEffect(()=>{const e=Object.keys(p).some(e=>p[e].loaded),n=Object.keys(p).every(e=>p[e].loadError),{eventTypes:a}=p;e?(a.data.length>0&&t(a.data),c(a.loaded)):n&&l(a.loadError)},[p]),[n,s,u]}}}]);
//# sourceMappingURL=catalog-chunk-3fa35689e7c48f16ed86.min.js.map