(window.webpackJsonp=window.webpackJsonp||[]).push([[369],{11821:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var l=t(0),r=t(1922),c=t(219),s=t(80),n=t(7),o=t(6017),u=t(118),m=t(5),i=t(8),d=t(125);const b=Object(u.f)(Object(m.Oc)(({cancel:e,close:a,operatorHub:t,handlePromise:m,errorMessage:b})=>{var p;const{t:v}=Object(n.useTranslation)(),[E,h]=l.useState((null!==(p=t.spec.sources)&&void 0!==p?p:[]).reduce((e,a)=>Object.assign(Object.assign({},e),{[a.name]:a.disabled}),{})),g=l.useCallback(e=>{e.preventDefault();const l=[{op:"replace",path:"/spec/sources",value:Object.keys(E).map(e=>({name:e,disabled:E[e]}))}];return m(Object(i.pb)(d.OperatorHubModel,t,l),a)},[a,m,t,E]),O=l.useCallback((e,a)=>{h(t=>Object.assign(Object.assign({},t),{[e]:!a}))},[]);return l.createElement(r.a,{onSubmit:g},l.createElement("div",{className:"modal-content"},l.createElement(u.d,null,v("olm~Edit default sources")),l.createElement(u.a,null,l.createElement(c.a,{fieldId:"enabled-default-sources",label:v("olm~Enabled default sources")},t.status.sources.sort((e,a)=>{var t,l;return(null!==(t=e.name)&&void 0!==t?t:"").localeCompare(null!==(l=a.name)&&void 0!==l?l:"")}).map(e=>{var a;const t=null===(a=!E[e.name])||void 0===a||a;return l.createElement(o.a,{name:e.name,key:e.name,label:e.name,checked:t,onChange:({currentTarget:a})=>O(e.name,a.checked)})})),Object.values(E).includes(!0)&&l.createElement(s.a,{variant:"warning",className:"co-alert",title:v("olm~Disable CatalogSource"),isInline:!0},l.createElement("p",null,v("olm~By disabling a default source, the operators it provides will no longer appear in OperatorHub and any operator that has been installed from this source will no longer receive updates until the source is re-enabled. Disabling the source will also remove the corresponding OperatorSource and CatalogSource resources from the cluster.")))),l.createElement(u.c,{errorMessage:b,inProgress:!1,submitText:v("public~Save"),cancel:e})))}))},5522:function(e,a,t){"use strict";t.r(a),t.d(a,"OperatorHubDetailsPage",(function(){return d}));var l=t(0),r=t(7),c=t(40),s=t(5),n=t(125),o=t(2313),u=t(11821);const m=({obj:e})=>{var a;const{t:t}=Object(r.useTranslation)(),c=Object(s.Dc)({group:n.OperatorHubModel.apiGroup,resource:n.OperatorHubModel.plural,verb:"patch"});return l.createElement("div",{className:"co-m-pane__body"},l.createElement(s.ob,{text:t("olm~OperatorHub details")}),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-6 col-xs-12"},l.createElement(s.lb,{resource:e,podSelector:"spec.podSelector",showNodeSelector:!1})),l.createElement("div",{className:"col-sm-6 col-xs-12"},l.createElement("div",{className:"co-m-pane__details"},l.createElement(s.r,{label:t("olm~Default sources"),obj:e,path:"status.sources",canEdit:c,onEdit:()=>Object(u.a)({operatorHub:e}),editAsGroup:!0,hideEmpty:!0},null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.sources.sort((e,a)=>{var t,l;return(null!==(t=e.name)&&void 0!==t?t:"").localeCompare(null!==(l=a.name)&&void 0!==l?l:"")}).map((a,r)=>l.createElement("dl",{key:a.name},l.createElement(s.r,{label:a.name,obj:e,path:`status.sources[${r}]`},l.createElement("p",{"data-test":"status_"+a.name},a.disabled?t("public~Disabled"):t("public~Enabled"))))))))))},i=e=>l.createElement(o.CatalogSourceListPage,Object.assign({showTitle:!1},e)),d=e=>{const a=[s.mc.details(m),s.mc.editYaml(),{href:"sources",nameKey:"olm~Sources",component:i}];return l.createElement(c.a,Object.assign({},e,{menuActions:s.F.factory.common,pages:a}))}},6017:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var l=t(0);const r=({name:e,label:a,checked:t,onChange:r})=>l.createElement("div",{className:"form-group"},l.createElement("div",{className:"checkbox"},l.createElement("label",{className:"control-label"},l.createElement("input",{"data-test":a+"__checkbox",className:"form-checkbox",name:e,onChange:r,checked:t,"data-checked-state":t,type:"checkbox"}),a)))}}]);
//# sourceMappingURL=369-chunk-6482dc9fcf7b15bfc19c.min.js.map