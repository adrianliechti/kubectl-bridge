{"version":3,"sources":["webpack:///./public/components/limit-range.tsx"],"names":["common","factory","menuActions","getExtensionsActionsForKind","LimitRangeReference","kind","tableColumnClasses","columnClass","LimitRangeTableRow","obj","className","name","metadata","namespace","columnID","timestamp","creationTimestamp","actions","resource","LimitRangeList","props","t","labelPlural","Header","title","sortField","transforms","id","Row","virtualize","LimitRangeListPage","ListComponent","canCreate","LimitRangeDetailsRow","limitType","limit","min","max","defaultRequest","default","maxLimitRequestRatio","LimitRangeDetailsRows","resources","property","value","resourceLimit","key","type","LimitRangeDetailsList","text","spec","limits","index","LimitRangeDetailsPage","pages","details","rq","editYaml"],"mappings":"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","file":"limit-range-chunk-01b404166e7de60f3a9a.min.js","sourcesContent":["import * as React from 'react';\nimport * as _ from 'lodash-es';\nimport { sortable } from '@patternfly/react-table';\nimport { useTranslation } from 'react-i18next';\nimport { K8sResourceKindReference, K8sResourceKind } from '../module/k8s';\nimport { LimitRangeModel } from '../models';\nimport { DetailsPage, ListPage, Table, TableData, RowFunctionArgs } from './factory';\nimport {\n  Kebab,\n  navFactory,\n  SectionHeading,\n  ResourceKebab,\n  ResourceLink,\n  ResourceSummary,\n  Timestamp,\n} from './utils';\n\nconst { common } = Kebab.factory;\nconst menuActions = [...Kebab.getExtensionsActionsForKind(LimitRangeModel), ...common];\n\nconst LimitRangeReference: K8sResourceKindReference = LimitRangeModel.kind;\n\nconst tableColumnClasses = ['', '', 'pf-m-hidden pf-m-visible-on-md', Kebab.columnClass];\n\nexport const LimitRangeTableRow: React.FC<RowFunctionArgs<K8sResourceKind>> = ({ obj }) => {\n  return (\n    <>\n      <TableData className={tableColumnClasses[0]}>\n        <ResourceLink\n          kind={LimitRangeReference}\n          name={obj.metadata.name}\n          namespace={obj.metadata.namespace}\n        />\n      </TableData>\n      <TableData className={tableColumnClasses[1]} columnID=\"namespace\">\n        <ResourceLink kind=\"Namespace\" name={obj.metadata.namespace} />\n      </TableData>\n      <TableData className={tableColumnClasses[2]}>\n        <Timestamp timestamp={obj.metadata.creationTimestamp} />\n      </TableData>\n      <TableData className={tableColumnClasses[3]}>\n        <ResourceKebab actions={menuActions} kind={LimitRangeReference} resource={obj} />\n      </TableData>\n    </>\n  );\n};\n\nexport const LimitRangeList: React.FC = (props) => {\n  const { t } = useTranslation();\n  const LimitRangeTableHeader = () => {\n    return [\n      {\n        title: t('public~Name'),\n        sortField: 'metadata.name',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[0] },\n      },\n      {\n        title: t('public~Namespace'),\n        sortField: 'metadata.namespace',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[1] },\n        id: 'namespace',\n      },\n      {\n        title: t('public~Created'),\n        sortField: 'metadata.creationTimestamp',\n        transforms: [sortable],\n        props: { className: tableColumnClasses[2] },\n      },\n      {\n        title: '',\n        props: { className: tableColumnClasses[3] },\n      },\n    ];\n  };\n\n  return (\n    <Table\n      {...props}\n      aria-label={LimitRangeModel.labelPlural}\n      Header={LimitRangeTableHeader}\n      Row={LimitRangeTableRow}\n      virtualize\n    />\n  );\n};\n\nexport const LimitRangeListPage: React.FC<LimitRangeListPageProps> = (props) => (\n  <ListPage {...props} kind={LimitRangeReference} ListComponent={LimitRangeList} canCreate={true} />\n);\n\nexport const LimitRangeDetailsRow: React.SFC<LimitRangeDetailsRowProps> = ({\n  limitType,\n  resource,\n  limit,\n}) => {\n  return (\n    <tr className=\"pf-v5-c-table__tr\">\n      <td className=\"pf-v5-c-table__td\">{limitType}</td>\n      <td className=\"pf-v5-c-table__td\">{resource}</td>\n      <td className=\"pf-v5-c-table__td\">{limit.min || '-'}</td>\n      <td className=\"pf-v5-c-table__td\">{limit.max || '-'}</td>\n      <td className=\"pf-v5-c-table__td\">{limit.defaultRequest || '-'}</td>\n      <td className=\"pf-v5-c-table__td\">{limit.default || '-'}</td>\n      <td className=\"pf-v5-c-table__td\">{limit.maxLimitRequestRatio || '-'}</td>\n    </tr>\n  );\n};\n\nconst LimitRangeDetailsRows: React.SFC<LimitRangeDetailsRowsProps> = ({ limit }) => {\n  const properties = ['max', 'min', 'default', 'defaultRequest', 'maxLimitRequestRatio'];\n  const resources = {};\n  _.each(properties, (property) => {\n    _.each(limit[property], (value, resource) => _.set(resources, [resource, property], value));\n  });\n\n  return (\n    <>\n      {_.map(resources, (resourceLimit, resource) => (\n        <LimitRangeDetailsRow\n          key={resource}\n          limitType={limit.type}\n          resource={resource}\n          limit={resourceLimit}\n        />\n      ))}\n    </>\n  );\n};\n\nexport const LimitRangeDetailsList = (resource) => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"co-m-pane__body\">\n      <SectionHeading text={t('public~Limits')} />\n      <table className=\"pf-v5-c-table pf-m-compact pf-m-border-rows\">\n        <thead className=\"pf-v5-c-table__thead\">\n          <tr className=\"pf-v5-c-table__tr\">\n            <th className=\"pf-v5-c-table__th\">{t('public~Type')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Resource')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Min')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Max')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Default request')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Default limit')}</th>\n            <th className=\"pf-v5-c-table__th\">{t('public~Max limit/request ratio')}</th>\n          </tr>\n        </thead>\n        <tbody className=\"pf-v5-c-table__tbody\">\n          {_.map(resource.resource.spec.limits, (limit, index) => (\n            <LimitRangeDetailsRows limit={limit} key={index} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport const LimitRangeDetailsPage = (props) => {\n  const { t } = useTranslation();\n  const Details = ({ obj: rq }) => (\n    <>\n      <div className=\"co-m-pane__body\">\n        <SectionHeading text={t('public~LimitRange details')} />\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <ResourceSummary resource={rq} />\n          </div>\n        </div>\n      </div>\n      <LimitRangeDetailsList resource={rq} />\n    </>\n  );\n  return (\n    <DetailsPage\n      {...props}\n      menuActions={menuActions}\n      pages={[navFactory.details(Details), navFactory.editYaml()]}\n    />\n  );\n};\n\nexport type LimitRangeProps = {\n  obj: any;\n};\nexport type LimitRangeListPageProps = {\n  filterLabel: string;\n};\nexport type LimitRangeDetailsRowsProps = {\n  limit: any;\n};\nexport type LimitRangeDetailsRowProps = {\n  limitType: string;\n  resource: string;\n  limit: any;\n};\nexport type LimitRangeHeaderProps = {\n  obj: any;\n};\n"],"sourceRoot":""}