(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{2367:function(e,a,t){"use strict";t.r(a);var n=t(8245);t.d(a,"getOperatorBackedPanelResourceLink",(function(){return n.a}));var r=t(8246);t.d(a,"useOperatorBackedPanelDetailsSection",(function(){return r.a}));var s=t(8247);t.d(a,"useOperatorBackedPanelResourceSection",(function(){return s.a}))},5659:function(e,a,t){"use strict";t.d(a,"d",(function(){return r})),t.d(a,"c",(function(){return s})),t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return o}));var n=t(2221);const r="operator-backed-service",s=n.h,c=n.f,o=n.g},5942:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return d}));var n=t(0),r=t(18),s=t(14),c=t(5),o=t(8),i=t(125);const l=()=>window.location.pathname.split("/").find((e,a,t)=>t[a-1]===Object(o.Hb)(i.ClusterServiceVersionModel)||t[a-1]===i.ClusterServiceVersionModel.plural),d=e=>{const{namespace:a,name:t}=e.obj.metadata,d=e.csvName||l(),m=Object(o.Db)(e.obj),u=a?`/k8s/ns/${a}/${i.ClusterServiceVersionModel.plural}/${d}/${m}/${t}`:`/k8s/cluster/${m}/${t}`,p=r("co-resource-item",{"co-resource-item--inline":e.inline});return n.createElement("span",{className:p},n.createElement(c.fb,{kind:Object(o.Db)(e.obj)}),n.createElement(s.Link,{to:u,className:"co-resource-item__resource-name",onClick:e.onClick,"data-test-operand-link":t,"data-test":t},t))};d.displayName="OperandLink"},6354:function(e,a,t){"use strict";t.d(a,"b",(function(){return j})),t.d(a,"c",(function(){return N})),t.d(a,"a",(function(){return g}));var n=t(0),r=t(54),s=t(460),c=t(50),o=t(7),i=t(14),l=t(40),d=t(5),m=t(10),u=t(8),p=t(15),b=t(5942),v=t(1405);const k=[{kind:m.DeploymentModel.kind,version:m.DeploymentModel.apiVersion},{kind:m.ServiceModel.kind,version:m.ServiceModel.apiVersion},{kind:m.ReplicaSetModel.kind,version:m.ReplicaSetModel.apiVersion},{kind:m.PodModel.kind,version:m.PodModel.apiVersion},{kind:m.SecretModel.kind,version:m.SecretModel.apiVersion},{kind:m.ConfigMapModel.kind,version:m.ConfigMapModel.apiVersion},{kind:m.JobModel.kind,version:m.JobModel.apiVersion}],f=["","pf-v5-u-w-16-on-md","pf-m-hidden pf-m-visible-on-lg pf-v5-u-w-16-on-lg","pf-m-hidden pf-m-visible-on-sm"],E=({obj:e,customData:{linkFor:a,providedAPI:t}})=>{var r,s;return n.createElement(n.Fragment,null,n.createElement(l.k,{className:f[0]},a(e,t)),n.createElement(l.k,{className:f[1]},e.kind),n.createElement(l.k,{className:f[2]},n.createElement(p.cc,{status:null!==(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.phase)&&void 0!==s?s:"Created"})),n.createElement(l.k,{className:f[3]},n.createElement(d.xb,{timestamp:e.metadata.creationTimestamp})))},O=e=>{const{t:a}=Object(o.useTranslation)();return n.createElement(l.j,Object.assign({},e,{"aria-label":a("olm~Operand Resources"),Header:()=>[{title:a("olm~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:f[0]}},{title:a("olm~Kind"),sortField:"kind",transforms:[r.a],props:{className:f[1]}},{title:a("olm~Status"),sortField:"status.phase",transforms:[r.a],props:{className:f[2]}},{title:a("olm~Created"),sortField:"metadata.creationTimestamp",transforms:[r.a],props:{className:f[3]}}],Row:E,EmptyMsg:()=>n.createElement(d.h,{title:a("olm~No resources found")},a("olm~There are no Kubernetes resources used by this operand.")),virtualize:!0}))},j=e=>a=>s.a(a,(e,a)=>c.a(e.data,e=>Object.assign(Object.assign({},e),{kind:a}))).reduce((a,t)=>(t.metadata.ownerReferences||[]).some(t=>t.uid===e.metadata.uid||a.some(({metadata:e})=>e.uid===t.uid))?a.concat([t]):a,[]),N=(e,a,t)=>{var r;return e.metadata.namespace&&(null!==(r=null==a?void 0:a.resources)&&void 0!==r?r:[]).some(({kind:a,name:t})=>t&&a===e.kind)?n.createElement(b.a,{obj:e,csvName:t}):n.createElement(d.hb,{kind:e.kind,name:e.metadata.name,namespace:e.metadata.namespace})},g=e=>{var a;const{t:t}=Object(o.useTranslation)(),{plural:r}=Object(i.useParams)(),s=Object(v.i)(e.customData,r),c=(null!==(a=null==s?void 0:s.resources)&&void 0!==a?a:k).map(({name:e,kind:a,version:t})=>{const n=e?e.substring(e.indexOf(".")+1):"",r=n?Object(u.Gb)(n)(t)(a):a,s=Object(u.vb)(r);return{kind:s&&!s.crd?a:r,namespaced:!s||s.namespaced,prop:a}}),d=n.useMemo(()=>({linkFor:N,providedAPI:s}),[s]);return n.createElement(l.i,{filterLabel:t("olm~Resources by name"),resources:c,rowFilters:[{type:"clusterserviceversion-resource-kind",filterGroupName:t("olm~Kind"),reducer:({kind:e})=>Object(u.tb)(e),items:c.map(({kind:e})=>({id:Object(u.tb)(e),title:Object(u.tb)(e)}))}],flatten:j(e.obj),namespace:e.obj.metadata.namespace,ListComponent:O,customData:d})};O.displayName="ResourceTable",g.displayName="Resources"},7421:function(e,a,t){"use strict";var n=t(0),r=t(5),s=t(8),c=t(7422);a.a=({manifestResources:e,releaseNamespace:a,linkForResource:t})=>e.reduce((e,a)=>{const t=Object(s.Db)(a);return e.includes(t)||e.push(t),e},[]).sort((e,a)=>e.localeCompare(a)).reduce((o,i)=>{const l=Object(s.vb)(i),d=e.filter(e=>e.kind===l.kind);return d.length&&o.push(n.createElement("div",{key:l.kind},n.createElement(r.ub,{text:l.labelPlural}),n.createElement(c.a,{resources:d,releaseNamespace:a,linkForResource:t}))),o},[])},7422:function(e,a,t){"use strict";var n=t(0),r=t(7423);a.a=({resources:e,releaseNamespace:a,linkForResource:t})=>n.createElement("ul",{className:"list-group"},e.sort((e,a)=>e.metadata.name.localeCompare(a.metadata.name)).map(e=>n.createElement(r.a,{key:e.metadata.name,item:e,releaseNamespace:a,linkForResource:t})))},7423:function(e,a,t){"use strict";var n=t(0),r=t(5),s=t(8);a.a=({item:e,releaseNamespace:a,linkForResource:t})=>{const{metadata:{name:c,namespace:o}}=e,i=Object(s.Db)(e),l=Object(s.vb)(i).namespaced?o||a:null,d=t?t(e):n.createElement(r.hb,{kind:i,name:c,namespace:l});return n.createElement("li",{className:"list-group-item container-fluid"},n.createElement("div",{className:"row"},n.createElement("span",{className:"col-xs-12"},d)))}},8245:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(0),r=t(2337),s=t(5659);const c=e=>{if(e.getType()!==s.d)return;const a=e.getData(),{name:t,resource:c,data:o}=a,{csvName:i}=o;return n.createElement(r.b,{csvName:i,namespace:c.metadata.namespace,owner:{name:t,kind:c.kind,uid:c.metadata.uid,apiVersion:c.apiVersion}})}},8246:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(0),r=t(7),s=t(5),c=t(5659);const o=({resource:e})=>{const{t:a}=Object(r.useTranslation)();return n.createElement("div",{className:"overview__sidebar-pane-body"},n.createElement(s.ob,{text:a("olm~Operator details")}),n.createElement(s.lb,{resource:e}))},i=e=>{if(e.getType()!==c.d)return[void 0,!0,void 0];const a=e.getData();return[n.createElement(o,{resource:a.resource}),!0,void 0]}},8247:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(0),r=t(5),s=t(108),c=t(8),o=t(5659),i=t(125),l=t(9599);const d=({item:e})=>{const{resource:a,data:t}=e,{namespace:o}=a.metadata,{csvName:d}=t,m=n.useMemo(()=>({csv:{kind:Object(c.Hb)(i.ClusterServiceVersionModel),name:d,namespace:o,isList:!1}}),[d,o]),u=Object(s.b)(m);return n.createElement(r.wb,{data:u.csv.data,loaded:u.csv.loaded,loadError:u.csv.loadError,label:"Operator Resources"},n.createElement(l.a,{item:e,csv:u.csv.data}))},m=e=>{if(e.getType()!==o.d)return[void 0,!0,void 0];return[n.createElement(d,{item:e.getData()}),!0,void 0]}},9599:function(e,a,t){"use strict";var n=t(0),r=t(7),s=t(14),c=t(5),o=t(8),i=t(519),l=t(6354),d=t(7421);const m=({namespace:e,resources:a,loaded:t,loadError:s,flatten:o,linkForResource:i})=>{const{t:l}=Object(r.useTranslation)(),m=o(a);return n.createElement(c.wb,{data:m,loaded:t,loadError:s,label:l("olm~Resources")},n.createElement(d.a,{manifestResources:m,releaseNamespace:e,linkForResource:i}))},u=({csv:e,modelReference:a,namespace:t,flatten:r})=>{var s;const d=Object(i.d)(e,a),u=(null!==(s=null==d?void 0:d.resources)&&void 0!==s?s:["Deployment","Service","ReplicaSet","Pod","Secret","ConfigMap","Job"].map(e=>({kind:e}))).reduce((e,a)=>{const{name:n,kind:r,version:s}=a,c=n?n.substring(n.indexOf(".")+1):"",i=c?Object(o.Gb)(c)(s)(r):r,l=Object(o.vb)(i);return e.push({prop:r,kind:l&&!l.crd?r:i,namespaced:!l||l.namespaced,namespace:t,isList:!0,optional:!0}),e},[]);return n.createElement(c.C,{resources:u},n.createElement(m,{namespace:t,flatten:r,linkForResource:a=>Object(l.c)(a,d,e.metadata.name)}))};a.a=({item:e,csv:a})=>{const{t:t}=Object(r.useTranslation)(),{resource:d}=e,{namespace:m}=d.metadata,p=Object(o.Db)(d),b=Object(l.b)(d);return n.createElement("div",{className:"overview__sidebar-pane-body"},(()=>{const e=Object(o.vb)(Object(o.Db)(a)),{name:r}=a.metadata,{kind:l}=e,d=`/k8s/ns/${m}/${Object(o.Hb)(i.a)}/${r}`;return n.createElement("div",{className:"co-m-pane__heading-owner"},t("olm~Managed by")," ",n.createElement("span",{className:"co-resource-item"},n.createElement(c.fb,{kind:l}),n.createElement(s.Link,{to:d,className:"co-resource-item__resource-name","data-test-operand-link":r,"data-test":r},r)))})(),n.createElement(u,{csv:a,flatten:b,namespace:m,modelReference:p}))}}}]);
//# sourceMappingURL=topologySidebar-chunk-ba7cfe2a28def4c5ba2e.min.js.map