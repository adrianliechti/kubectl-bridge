(window.webpackJsonp=window.webpackJsonp||[]).push([[20,126],{4359:function(e,t,a){"use strict";a.r(t);var n=a(5590);a.d(t,"toDefaultSecretType",(function(){return n.d})),a.d(t,"toTypeAbstraction",(function(){return n.e})),a.d(t,"generateSecret",(function(){return n.b})),a.d(t,"determineSecretType",(function(){return n.a})),a.d(t,"getImageSecretKey",(function(){return n.c})),a.d(t,"useSecretTitle",(function(){return n.g})),a.d(t,"useSecretDescription",(function(){return n.f}));var r=a(869);a.d(t,"SecretTypeAbstraction",(function(){return r.c})),a.d(t,"AUTHS_KEY",(function(){return r.a})),a.d(t,"SecretType",(function(){return r.b}));var i=a(5598);a.d(t,"SecretFormWrapper",(function(){return i.a}));var s=a(5604);a.d(t,"PullSecretForm",(function(){return s.a}));var o=a(5606);a.d(t,"PullSecretCredentialEntry",(function(){return o.a}));var c=a(5605);a.d(t,"CreateConfigSubform",(function(){return c.a}));var l=a(5607);a.d(t,"UploadConfigSubform",(function(){return l.a}));var u=a(5608);a.d(t,"WebHookSecretForm",(function(){return u.a}));var d=a(5601);a.d(t,"SourceSecretForm",(function(){return d.a}));var h=a(5602);a.d(t,"BasicAuthSubform",(function(){return h.a}));var p=a(5603);a.d(t,"SSHAuthSubform",(function(){return p.a}));var m=a(5609);a.d(t,"GenericSecretForm",(function(){return m.a}));var f=a(5610);a.d(t,"KeyValueEntryFormWithTranslation",(function(){return f.b})),a.d(t,"KeyValueEntryForm",(function(){return f.a}));var g=a(5636);a.d(t,"SecretLoadingWrapper",(function(){return g.b})),a.d(t,"EditSecret",(function(){return g.a}));var y=a(5637);a.d(t,"CreateSecret",(function(){return y.a}));var v=a(5593);a.d(t,"DroppableFileInput",(function(){return v.a}));var b=a(5600);a.d(t,"SecretSubForm",(function(){return b.a}));a(5638)},5587:function(e,t,a){"use strict";a(5639);var n=a(5640);a.d(t,"d",(function(){return n.a}));var r=a(5611);a.d(t,"b",(function(){return r.a})),a.d(t,"c",(function(){return r.b})),a.d(t,"e",(function(){return r.c}));var i=a(5641);a.d(t,"a",(function(){return i.a})),a.d(t,"f",(function(){return i.b}))},5590:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return f}));var n=a(279),r=a(160),i=a(107),s=a(1404),o=a(7),c=a(869);const l=e=>{switch(e){case c.c.source:return c.b.basicAuth;case c.c.image:return c.b.dockerconfigjson;default:return c.b.opaque}},u=e=>{const{data:t,type:a}=e;switch(a){case c.b.basicAuth:case c.b.sshAuth:return c.c.source;case c.b.dockerconfigjson:case c.b.dockercfg:return c.c.image;default:return(null==t?void 0:t[s.WebHookSecretKey])&&1===n.a(t)?c.c.webhook:c.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},h=e=>{const t=r.a(e).sort();return i.a(t,["tls.crt","tls.key"])?c.b.tls:i.a(t,["ca.crt","namespace","service-ca.crt","token"])?c.b.serviceAccountToken:i.a(t,[".dockercfg"])?c.b.dockercfg:i.a(t,[".dockerconfigjson"])?c.b.dockerconfigjson:i.a(t,["password","username"])?c.b.basicAuth:i.a(t,["ssh-privatekey"])?c.b.sshAuth:c.b.opaque},p=e=>{switch(e){case c.b.dockercfg:return".dockercfg";case c.b.dockerconfigjson:return".dockerconfigjson";default:return e}},m=(e,t)=>{const{t:a}=Object(o.useTranslation)();switch(t){case c.c.generic:return a(e?"public~Create key/value secret":"public~Edit key/value secret");case c.c.image:return a(e?"public~Create image pull secret":"public~Edit image pull secret");default:return a(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},f=e=>{const{t:t}=Object(o.useTranslation)();switch(e){case c.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case c.c.source:return t("public~Source secrets let you authenticate against a Git server.");case c.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case c.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,a){"use strict";var n=a(5587);a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d}));var r=a(5642);a.d(t,"e",(function(){return r.a}));var i=a(5645);a.d(t,"a",(function(){return i.a}))},5592:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5643),r=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};class i{constructor(e){this.gitsource=e}detectBuildTypes(){return r(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(n.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(n.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(282);const i=e=>n.createElement(r.a,Object.assign({loader:()=>Promise.resolve().then(a.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5597:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(380),r=a(83),i=a(437),s=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};const o="/api/dev-console/proxy/internet",c=e=>Object.keys(e).reduce((t,a)=>(t[a]=[e[a]],t),{}),l=e=>s(void 0,void 0,void 0,(function*(){const t=yield r.consoleFetchJSON.post(o,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new i.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>l(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(n.safeLoad)(e.body))},5598:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(501),r=a(838),i=a(2324),s=a(16),o=a(640),c=a(1256),l=a(0),u=a(137),d=a(7),h=a(320),p=a(966),m=a(19),f=a(14),g=a(8),y=a(5),v=a(118),b=a(10),E=a(5590),S=a(5600);const C=e=>{const{isCreate:t,modal:a,onCancel:C}=e,{t:x}=Object(d.useTranslation)(),k=Object(f.useNavigate)(),j=Object(f.useParams)(),w=n.a(e.obj,["metadata","type"]),D=Object(E.d)(e.secretTypeAbstraction),R=r.a({},e.fixed,w,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:D}),[P]=l.useState(e.secretTypeAbstraction),[N,O]=l.useState(R),[T,A]=l.useState(!1),[F,$]=l.useState(),[B,L]=l.useState(i.a(s.a(e.obj,"data"),e=>e?h.Base64.decode(e):"")),[I,U]=l.useState({}),[_,G]=l.useState(!1),H=Object(E.g)(t,P),J=Object(E.f)(P),K=()=>k(`/k8s/ns/${j.ns}/core~v1~Secret`),q=e=>{L(Object.assign({},null==e?void 0:e.stringData)),U(Object.assign({},null==e?void 0:e.base64StringData))},W=e=>{$(e),A(!1)},M=e=>{const t=e.target.value,a=o.a(N);a.metadata.name=t,O(a)},V=a=>{a.preventDefault();const{metadata:n}=N;A(!0);const r=Object.assign(Object.assign({},i.a(B,e=>h.Base64.encode(e))),I),s=c.a({},N,{data:r},t?{type:Object(E.a)(B)}:{});(t?Object(g.jb)(b.SecretModel,s):Object(g.rb)(b.SecretModel,s,n.namespace,s.metadata.name)).then(t=>{A(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||k(Object(y.sc)(t,Object(g.Db)(t)))},e=>{$(e.message),A(!1)})},Y=()=>{var a;return l.createElement(l.Fragment,null,l.createElement("fieldset",{disabled:!t},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},x("public~Secret name")),l.createElement("div",null,l.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:M,value:null===(a=null==N?void 0:N.metadata)||void 0===a?void 0:a.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),l.createElement("p",{className:"help-block",id:"secret-name-help"},x("public~Unique name of the new secret."))))),l.createElement(S.a,{typeAbstraction:e.secretTypeAbstraction,onChange:q,onError:W,onFormDisable:e=>G(e),stringData:B,secretType:N.type,isCreate:t}))};return a?l.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:V},l.createElement(v.d,null,H),l.createElement(v.a,null,Y()),l.createElement(v.c,{errorMessage:F||"",inProgress:T,submitText:x("public~Create"),cancel:C||K})):l.createElement("div",{className:"co-m-pane__form"},l.createElement(u.a,null,l.createElement("title",null,H)),l.createElement(y.Z,{title:H,helpText:J}),l.createElement("div",{className:"co-m-pane__body"},l.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:V},Y(),l.createElement(y.g,{errorMessage:F,inProgress:T},l.createElement(p.a,{className:"pf-v5-c-form"},l.createElement(m.a,{type:"submit","data-test":"save-changes",isDisabled:_,variant:"primary",id:"save-changes"},e.saveButtonText||x("public~Create")),l.createElement(m.a,{type:"button",variant:"secondary",id:"cancel",onClick:C||K},x("public~Cancel")))))))}},5599:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"k",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"m",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return h})),a.d(t,"l",(function(){return p})),a.d(t,"n",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return y})),a.d(t,"g",(function(){return v}));var n,r=a(5591),i=a(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(n||(n={}));const s={[r.b.GITHUB]:"GitHub",[r.b.GITLAB]:"GitLab",[r.b.GITEA]:"Gitea",[r.b.BITBUCKET]:"Bitbucket",[r.b.UNSURE]:"Other"};var o,c,l,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(o||(o={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(c||(c={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(l||(l={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[c.OpenShift]:i.DeploymentConfigModel.labelKey,[c.Kubernetes]:i.DeploymentModel.labelKey,[c.KnativeService]:"devconsole~Serverless Deployment"},h={[l.BUILDS]:"devconsole~BuildConfig",[l.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[l.PIPELINES]:"devconsole~Build using pipelines",[l.DISABLED]:"devconsole~Disabled"},p={[c.OpenShift]:i.DeploymentConfigModel.kind,[c.Kubernetes]:i.DeploymentModel.kind,[c.KnativeService]:"Service"};var m,f,g,y,v,b;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(m||(m={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(f||(f={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(y||(y={})),function(e){e.Mi="Mi",e.Gi="Gi"}(v||(v={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(b||(b={}))},5600:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(869),i=a(5601),s=a(5604),o=a(5608),c=a(5609),l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const u=e=>{var{typeAbstraction:t}=e,a=l(e,["typeAbstraction"]);switch(t){case r.c.source:return n.createElement(i.a,Object.assign({},a));case r.c.image:return n.createElement(s.a,Object.assign({},a));case r.c.webhook:return n.createElement(o.a,Object.assign({},a));default:return n.createElement(c.a,Object.assign({},a))}}},5601:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a(7),i=a(5),s=a(869),o=a(5602),c=a(5603);class l extends n.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:s.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[s.b.basicAuth]:e("public~Basic authentication"),[s.b.sshAuth]:e("public~SSH key")};return n.createElement(n.Fragment,null,this.props.isCreate?n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),n.createElement("div",{className:"co-create-secret__dropdown"},n.createElement(i.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===s.b.basicAuth?n.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):n.createElement(c.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(r.withTranslation)()(l)},5602:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(7);class i extends n.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),n.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),n.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const s=Object(r.withTranslation)()(i)},5603:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(7),i=a(5593);const s=({onChange:e,stringData:t})=>{const{t:a}=Object(r.useTranslation)();return n.createElement(i.a,{onChange:t=>{const a=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":a})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:a("public~SSH private key"),inputFieldHelpText:a("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:a("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1240),r=a(0),i=a(7),s=a(5),o=a(5590),c=a(869),l=a(5605),u=a(5607);const d=({onChange:e,onError:t,onFormDisable:a,stringData:d,secretType:h,isCreate:p})=>{const[m,f]=r.useState("credentials"),{t:g}=Object(i.useTranslation)(),y=r.useMemo(()=>{var e;try{const t=Object(o.c)(h),a=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(a)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,h]),v=r.useCallback(t=>{n.a(t)||a(!1);const r=t[c.a]?".dockerconfigjson":".dockercfg";e({stringData:{[r]:JSON.stringify(t)},base64StringData:{}})},[a,onchange]),b={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return r.createElement(r.Fragment,null,p&&r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),r.createElement("div",{className:"co-create-secret__dropdown"},r.createElement(s.t,{items:b,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:m,onChange:f}))),"credentials"===m?r.createElement(l.a,{onChange:v,stringData:y}):r.createElement(u.a,{onChange:v,stringData:y,onDisable:a}))}},5605:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(22),r=a(840),i=a(4434),s=a(57),o=a(16),c=a(4437),l=a(4436),u=a(501),d=a(50),h=a(279),p=a(0),m=a(7),f=a(320),g=a(19),y=a(408),v=a(407),b=a(869),E=a(5606);class S extends p.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:n.a(this.props.stringData)||!!this.props.stringData[b.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[b.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:r.a()}}imageSecretObjectToArray(e){const t=[];return n.a(e)?i.a(t,this.newImageSecretEntry()):(s.a(e,(e,a)=>{const i=f.Base64.decode(o.a(e,"auth","")),s=n.a(i)?c.a(Array(2),""):l.a(i,":");t.push({entry:{address:a,username:o.a(e,"username",s[0]),password:o.a(e,"password",s[1]),email:o.a(e,"email",""),auth:o.a(e,"auth","")},uid:o.a(e,"uid",r.a())})}),t)}imageSecretArrayToObject(e){const t={};return s.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[b.a]:t}:t)}onDataChanged(e,t){this.setState(a=>{const n=[...a.secretEntriesArray],r={uid:n[t].uid,entry:e,auth:f.Base64.encode(`${e.username}:${e.password}`)};return n[t]=r,{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const a=[...t.secretEntriesArray];return a.splice(e,1),{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:i.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,a)=>{const{uid:n,entry:r}=null!=t?t:{},{address:i,email:s,password:o,username:c}=null!=r?r:{};return p.createElement("div",{className:"co-add-remove-form__entry",key:n},h.a(this.state.secretEntriesArray)>1&&p.createElement("div",{className:"co-add-remove-form__link--remove-entry"},p.createElement(g.a,{onClick:()=>this.removeEntry(a),type:"button",variant:"link","data-test":"remove-entry-button"},p.createElement(y.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),p.createElement(E.a,{id:a,address:i,email:s,password:o,username:c,onChange:this.onDataChanged}))});return p.createElement(p.Fragment,null,t,p.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},p.createElement(v.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const C=Object(m.withTranslation)()(S)},5606:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(7),i=a(320);const s=({id:e,address:t,email:a,password:s,username:o,onChange:c})=>{const{t:l}=Object(r.useTranslation)(),u=(n,r)=>{const l=o.trim(),u=s.trim(),d=o&&s?i.Base64.encode(`${l}:${u}`):"";c(Object.assign({address:t,username:o,password:s,email:a,[n]:r},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),h=e=>u(e.currentTarget.name,e.currentTarget.value);return n.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},l("public~Registry server address")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:h,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),n.createElement("p",{className:"help-block",id:e+"-address-help"},l("public~For example quay.io or docker.io"))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},l("public~Username")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:h,value:o,onBlur:d,"data-test":"image-secret-username",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},l("public~Password")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:h,value:s,onBlur:d,"data-test":"image-secret-password",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label",htmlFor:e+"-email"},l("public~Email")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:h,value:a,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(22),r=a(1973),i=a(1240),s=a(0),o=a(7),c=a(5593);class l extends s.Component{constructor(e){super(e),this.state={configFile:n.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(r.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(r.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:i.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(c.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&s.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(o.withTranslation)()(l)},5608:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(7),i=a(5590);class s extends n.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(i.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),n.createElement("div",{className:"pf-v5-c-input-group"},n.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),n.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),n.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const o=Object(r.withTranslation)()(s)},5609:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(840),r=a(22),i=a(50),s=a(255),o=a(1256),c=a(4434),l=a(279),u=a(0),d=a(7),h=a(320),p=a(19),m=a(408),f=a(407),g=a(973),y=a(5610);class v extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:n.a()}}genericSecretObjectToArray(e){return r.a(e)?[this.newGenericSecretEntry()]:i.a(e,(e,t)=>{const a=g.isBinary(null,e);return{uid:n.a(),entry:{key:t,value:a?h.Base64.encode(e):e,isBase64:a,isBinary:a}}})}genericSecretArrayToObject(e){return s.a(e,(e,t)=>{var a,n;return o.a(e,{[t.entry.key]:(null===(a=t.entry)||void 0===a?void 0:a.isBase64)||(null===(n=t.entry)||void 0===n?void 0:n.isBinary)?t.entry.value:h.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const a=[...this.state.secretEntriesArray],n={uid:a[t].uid,entry:e};a[t]=n,this.setState({secretEntriesArray:a},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:c.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=i.a(this.state.secretEntriesArray,(t,a)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},l.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(p.a,{type:"button",onClick:()=>this.removeEntry(a),variant:"link","data-test":"remove-entry-button"},u.createElement(m.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(y.a,{id:a,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(p.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const b=Object(d.withTranslation)()(v)},5610:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a(0),r=a(7),i=a(5593);class s extends n.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return n.createElement("div",{className:"co-create-generic-secret__form"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),n.createElement("div",null,n.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),n.createElement("div",{className:"form-group"},n.createElement("div",null,n.createElement(i.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const o=Object(r.withTranslation)()(s)},5611:function(e,t,a){"use strict";var n,r,i;a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(n||(n={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(r||(r={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(i||(i={}))},5612:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(5706),r=a(5596),i=a(320),s=a(83),o=a(5597),c=a(5587),l=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};class d extends l.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.BASIC_AUTH:case c.e.OAUTH:return{auth:i.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:a,source:n}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return c.d.Reachable}catch(e){switch(e.status){case 403:return c.d.RateLimitExceeded;case 404:return c.d.PrivateRepo;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}return c.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let a=[];return 200===t.status&&Array.isArray(t.data)&&(a=t.data.map(e=>e.name)),{files:a}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const r={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},i={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:a?"0":"1",secret:n},events:["push","pull_request"]},c="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:`${c}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:r,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const a=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===a.status?e.from(a.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const a=this.getAuthProvider();this.metadata=this.getRepoMetadata();const l="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new n(Object.assign(Object.assign({},a),{baseUrl:l}))}}}).call(this,a(265).Buffer)},5613:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(320),r=a(5707),i=(a(4360),a(83)),s=a(5597),o=a(5587),c=a(5592),l=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};class u extends c.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+n.Base64.encode(`${n.Base64.decode(e)}:${n.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,a,n)=>l(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),a);if(this.isServer)return Object(s.c)(Object.assign({url:e,method:t||"GET",headers:Object(s.d)(i)},n&&{body:JSON.stringify(n)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:i},n&&{body:JSON.stringify(n)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,host:n}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:n,defaultBranch:this.gitsource.ref||"HEAD",contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return o.d.Reachable}catch(e){switch(e.status){case 429:return o.d.RateLimitExceeded;case 403:return o.d.PrivateRepo;case 404:return o.d.ResourceNotFound;default:return o.d.InvalidGitTypeSelected}}return o.d.Unreachable})),this.getRepoBranchList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let a="";return a=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,a},this.getRepoFileList=e=>l(this,void 0,void 0,(function*(){var t;const a=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(a);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a)=>l(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["Basic "+e]},r={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!a,active:!0},o=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield i.consoleFetchJSON.post(s.a,{url:o,method:"POST",headers:n,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(a)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(5596),r=a(5708),i=a(29),s=a(320),o=a(83),c=a(5597),l=a(5587),u=a(5592),d=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};class h extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(i.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(i.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.OAUTH:case l.e.BASIC_AUTH:return s.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),l.d.Reachable}catch(e){switch(e.status){case 429:return l.d.RateLimitExceeded;case 403:return l.d.PrivateRepo;case 404:return l.d.ResourceNotFound;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),a=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:a.reduce((t,a)=>(("blob"===a.type||(null==e?void 0:e.includeFolder)&&"tree"===a.type)&&t.push(a.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,a,n)=>d(this,void 0,void 0,(function*(){const r=yield this.getProjectId(),i={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},s={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:a,token:n};return 201===(yield o.consoleFetchJSON.post(c.a,{url:`${this.metadata.host}/api/v4/projects/${r}/hooks`,method:"POST",headers:i,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(a,e,n),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const a=yield this.getProjectId(),n=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),r=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(a,r,n)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new r.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:a,full_name:r}=n(this.gitsource.url),i=(null==(s=this.gitsource.contextDir)?void 0:s.replace(/^\//,""))||"";var s;return{repoName:e,owner:t,host:"https://"+a,defaultBranch:this.gitsource.ref,fullName:r,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(5596),r=a(320),i=a(22),s=(a(4360),a(83)),o=a(5597),c=a(5587),l=a(5592),u=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};class d extends l.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===c.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!i.a(e)){return{authorization:"Basic "+r.Base64.encode(`${r.Base64.decode(e)}:${r.Base64.decode(t)}`)}}return{Authorization:"token "+r.Base64.decode(t)}}return null},this.fetchJson=(e,t,a,n)=>u(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),a);if(this.isServer)return Object(o.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(o.d)(i)},n&&{body:JSON.stringify(n)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:i},n&&{body:JSON.stringify(n)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:a,resource:r,full_name:i}=n(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:a,host:"https://"+r,defaultBranch:this.gitsource.ref,fullName:i,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return c.d.Reachable}catch(e){return c.d.GiteaRepoUnreachable}return c.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["token "+e]},n={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},r=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:r,method:"POST",headers:a,body:JSON.stringify(n)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),a=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(a)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5643),r=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};const i=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>r(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(n.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],s=e=>r(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(i.map(a=>r(void 0,void 0,void 0,(function*(){let n=t.filter(e=>a.expectedRegexp.test(e));return n.length>0&&a.customDetection&&(n=yield a.customDetection(e)),{name:a.name,type:a.type,language:a.language,priority:a.priority,detectedFiles:n}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5633:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5587),r=a(5611),i=a(5616),s=a(5661),o=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};const c=[{name:"Devfile",type:r.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:r.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:r.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:r.b.S2I,expectedRegexp:/^/,priority:0,customDetection:i.a}],l=(e,t,a=!1)=>o(void 0,void 0,void 0,(function*(){let e,i=[],l=!1,u=null;const d=t?yield t.isRepoReachable():n.d.GitTypeNotDetected;let h,p=[];if(d===n.d.Reachable)try{const{files:n}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(s.b)(a,t),i=yield Promise.all(c.map(e=>o(void 0,void 0,void 0,(function*(){return p=n.filter(t=>e.expectedRegexp.test(t)),p.length>0&&e.customDetection&&(h=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:p,detectedCustomData:h}})))),l=!0}catch(e){l=!0,u=e.message}else l=!0;return e||(i=i.filter(e=>e.type!==r.b.SERVERLESS_FUNCTION)),i=i.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:l,loadError:u,repositoryStatus:d,strategies:i}}))},5636:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return h}));var n=a(22),r=a(0),i=a(7),s=a(14),o=a(5),c=a(869),l=a(5590),u=a(5598);const d=Object(i.withTranslation)()(class extends r.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:c.c.generic}}componentDidUpdate(){if(!n.a(this.props.obj.data)){const e=Object(l.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:a}=this.state;if(!a)return r.createElement(o.S,null);const n=null==t?void 0:t.reduce((t,a)=>{var n;return Object.assign(Object.assign({},t),{[a]:(null===(n=e.data)||void 0===n?void 0:n[a])||""})},{});return r.createElement(o.wb,Object.assign({},e),r.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:a,obj:e.data,fixed:n})))}}),h=({kind:e})=>{const t=Object(s.useParams)(),{t:a}=Object(i.useTranslation)();return r.createElement(o.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},r.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:a("public~Save")}))}},5637:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(14),i=a(5598);const s=()=>{const e=Object(r.useParams)(),t=e.type;return n.createElement(i.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,a){},5639:function(e,t,a){},5640:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(n||(n={}))},5641:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return p}));const n={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},r={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},i={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},s={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},o={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},h=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},i,r,n,o,c,d,l,u,s],p=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,a){"use strict";a(5612),a(5613),a(5614),a(5615);var n=a(5644);a.d(t,"a",(function(){return n.a}));a(5592)},5643:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(5587);function r(e){return n.a.map(t=>{const a=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:a}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function i(e){try{const t=JSON.parse(e);return n.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4359),r=a(5587),i=a(5613),s=a(5615),o=a(5612),c=a(5614);function l(e,t,a,l,u,d,h){let p,m;switch(null==u?void 0:u.type){case n.SecretType.basicAuth:p=r.e.BASIC_AUTH,m=u.data;break;case n.SecretType.sshAuth:p=r.e.SSH,m=u["ssh-privatekey"];break;default:p=r.e.NO_AUTH}const f={url:e,ref:a,contextDir:l,secretType:p,secretContent:m,devfilePath:d,dockerfilePath:h};switch(t){case r.b.GITHUB:return new o.a(f);case r.b.BITBUCKET:return new i.a(f);case r.b.GITLAB:return new c.a(f);case r.b.GITEA:return new s.a(f);default:return null}}},5645:function(e,t,a){"use strict";a(5616);var n=a(5646);a.d(t,"a",(function(){return n.a}));a(5633)},5646:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5709);class r{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(n.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5661:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(447),r=a(1941),i=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};const s=e=>i(void 0,void 0,void 0,(function*(){var t,a,i;if(!(yield e.isFuncYamlPresent()))return{values:{}};const s=yield e.getFuncYamlContent();try{const e=n.a(s)?Object(r.c)(s):s,o=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,c=null===(a=null==e?void 0:e.build)||void 0===a?void 0:a.buildEnvs,l=null==e?void 0:e.runtime;return{values:{builder:o,runtime:l,builderEnvs:c,runtimeEnvs:null===(i=null==e?void 0:e.run)||void 0===i?void 0:i.envs}}}catch(e){return{values:{}}}})),o=(e,t)=>i(void 0,void 0,void 0,(function*(){var a,n;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),i=Object(r.c)(e);if(!(null===(a=null==i?void 0:i.build)||void 0===a?void 0:a.builder)||"s2i"===(null===(n=null==i?void 0:i.build)||void 0===n?void 0:n.builder))return!0}return!1}))}}]);
//# sourceMappingURL=healthCheck~0ccb25ae-chunk-06058bfe3452067abb37.min.js.map