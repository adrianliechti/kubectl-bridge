(window.webpackJsonp=window.webpackJsonp||[]).push([[146,20,44,56,91,126],{4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var i=n(869);n.d(t,"SecretTypeAbstraction",(function(){return i.c})),n.d(t,"AUTHS_KEY",(function(){return i.a})),n.d(t,"SecretType",(function(){return i.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var o=n(5604);n.d(t,"PullSecretForm",(function(){return o.a}));var s=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return s.a}));var l=n(5605);n.d(t,"CreateConfigSubform",(function(){return l.a}));var c=n(5607);n.d(t,"UploadConfigSubform",(function(){return c.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var g=n(5609);n.d(t,"GenericSecretForm",(function(){return g.a}));var v=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return v.b})),n.d(t,"KeyValueEntryForm",(function(){return v.a}));var h=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return h.b})),n.d(t,"EditSecret",(function(){return h.a}));var b=n(5637);n.d(t,"CreateSecret",(function(){return b.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var y=n(5600);n.d(t,"SecretSubForm",(function(){return y.a}));n(5638)},4362:function(e,t,n){"use strict";n.r(t),n.d(t,"getAnnotationTags",(function(){return F})),n.d(t,"getBuilderTags",(function(){return B})),n.d(t,"getBuilderTagsSortedByVersion",(function(){return U})),n.d(t,"getMostRecentBuilderTag",(function(){return M})),n.d(t,"isBuilder",(function(){return $})),n.d(t,"ExampleDockerCommandPopover",(function(){return H})),n.d(t,"ImageStreamsDetails",(function(){return q})),n.d(t,"ImageStreamsDetailsPage",(function(){return J})),n.d(t,"ImageStreamsList",(function(){return Z})),n.d(t,"buildPhase",(function(){return Q})),n.d(t,"ImageStreamsPage",(function(){return ee}));var a=n(0),i=n(7),r=n(16),o=n(240),s=n(2050),l=n(116),c=n(1533),u=n(22),d=n(225),p=n(7187),m=n(117),g=n(50),v=n(283),h=n(18),b=n(54),f=n(353),y=n(19),E=n(80),O=n(979),k=n(10),j=n(40),S=n(5),T=n(1198),P=n(1414),C=n(173),w=n(981),R=n(284),I=n(1413),N=n(1948),x=n(99),D=n(1411),_=n(693),A=n(5781),L=n(15);const F=e=>r.a(e,"annotations.tags","").split(/\s*,\s*/),B=e=>{const t=(e=>{const t=r.a(e,"status.tags");return s.a(t,"tag")})(e);return l.a(e.spec.tags,e=>(e=>{const t=F(e);return o.a(t,"builder")&&!o.a(t,"hidden")})(e)&&t[e.name])},U=e=>B(e).sort(({name:e},{name:t})=>{const n=v.coerce(e),a=v.coerce(t);return n||a?n?a?v.rcompare(n,a):-1:1:e.localeCompare(t)}),M=e=>{const t=U(e);return c.a(t)},$=e=>!u.a(B(e)),{common:G}=w.a.factory,K=[...w.a.getExtensionsActionsForKind(k.ImageStreamModel),...G],V=({imageStream:e,specTag:t,statusTag:n})=>{const o=r.a(e,"status"),s=r.a(n,["items",0]),l=r.a(t,"from"),c="ImageStreamTag"===r.a(t,"from.kind"),u=r.a(s,"image"),p=r.a(s,"created"),m=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:g}=Object(i.useTranslation)();return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},a.createElement(x.ResourceLink,{kind:"ImageStreamTag",name:Object(A.b)(e.metadata.name,n.tag),namespace:e.metadata.namespace,title:n.tag,linkTo:!!u})),a.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},l&&c&&a.createElement(x.ResourceLink,{kind:"ImageStreamTag",name:l.name,namespace:e.metadata.namespace,title:l.name}),l&&!c&&a.createElement(a.Fragment,null,l.name),!l&&a.createElement("span",{className:"text-muted"},g("public~pushed image"))),a.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!o&&m&&a.createElement(a.Fragment,null,a.createElement(L.tc,null)," ",g("public~Unable to resolve")),!o&&!m&&!l&&a.createElement(a.Fragment,null,g("public~Not synced yet")),!o&&!m&&l&&a.createElement(a.Fragment,null,g("public~Unresolved")),o&&u&&a.createElement(a.Fragment,null,u),o&&!u&&a.createElement(a.Fragment,null,a.createElement(L.tc,null)," ",g("public~There is no image associated with this tag"))),a.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},p&&a.createElement(_.Timestamp,{timestamp:p}),!p&&"-"))},H=({imageStream:e,tag:t})=>{const n=r.a(e,"status.publicDockerImageRepository"),{t:o}=Object(i.useTranslation)();if(!n)return null;const s=`docker push ${n}:${t||"<tag>"}`,l=`docker pull ${n}:${t||"<tag>"}`;return a.createElement(f.a,{headerContent:a.createElement(a.Fragment,null,o("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:a.createElement("div",null,a.createElement("p",null,o("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),a.createElement("br",null),a.createElement("p",null,o("public~Authenticate to the internal registry")),a.createElement(T.a,{value:"oc registry login"}),a.createElement("br",null),a.createElement("p",null,o("public~Push an image to this ImageStream")),a.createElement(T.a,{value:s}),a.createElement("br",null),a.createElement("p",null,o("public~Pull an image from this ImageStream")),a.createElement(T.a,{value:l}),a.createElement("br",null),a.createElement("p",null,a.createElement(i.Trans,{t:o,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",a.createElement("strong",null,"podman")," ","commands."," "),a.createElement(C.a,{href:S.p,text:o("public~Learn more.")})))},a.createElement(y.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},a.createElement(O.a,{className:"co-icon-space-r"}),o("public~Do you need to work with this ImageStream outside of the web console?")))},q=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),n=r.a(e,"status.dockerImageRepository"),o=r.a(e,"status.publicDockerImageRepository"),l=r.a(e,"status.tags.length"),c=s.a(e.spec.tags,"name"),d=p.a(e.status.tags,(n,a)=>{const i=m.a(a.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);i&&n.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${a.tag}`,message:i.message}))});return a.createElement("div",null,a.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&a.createElement(P.a,{variant:E.b.warning,alerts:g.a(d,(e,t)=>a.createElement(a.Fragment,{key:t},e))}),a.createElement(R.c,{text:t("public~ImageStream details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(D.b,{resource:e},n&&a.createElement("dt",null,t("public~Image repository")),n&&a.createElement("dd",null,n),o&&a.createElement("dt",null,t("public~Public image repository")),o&&a.createElement("dd",null,o),a.createElement("dt",null,t("public~Image count")),a.createElement("dd",null,l||0)),a.createElement(H,{imageStream:e})))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(R.c,{text:t("public~Tags")}),u.a(e.status.tags)?a.createElement("span",{className:"text-muted"},t("public~No tags")):a.createElement("div",{className:"row"},a.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},a.createElement("div",{className:"row co-m-table-grid__head"},a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),a.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),a.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),a.createElement("div",{className:"co-m-table-grid__body"},g.a(e.status.tags,t=>a.createElement(V,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},z=({obj:e})=>{const t=r.a(e,"status.tags");return a.createElement(A.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};z.displayName="ImageStreamHistory";const W=[N.navFactory.details(q),N.navFactory.editYaml(),N.navFactory.history(z)],J=e=>a.createElement(j.a,Object.assign({},e,{kind:"ImageStream",menuActions:K,pages:W}));J.displayName="ImageStreamsDetailsPage";const Y=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",w.a.columnClass],X=({obj:e})=>a.createElement(a.Fragment,null,a.createElement(j.k,{className:Y[0]},a.createElement(x.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(j.k,{className:h(Y[1],"co-break-word"),columnID:"namespace"},a.createElement(x.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(j.k,{className:Y[2]},a.createElement(I.a,{kind:"ImageStream",labels:e.metadata.labels})),a.createElement(j.k,{className:Y[3]},a.createElement(_.Timestamp,{timestamp:e.metadata.creationTimestamp})),a.createElement(j.k,{className:Y[4]},a.createElement(w.d,{actions:K,kind:"ImageStream",resource:e}))),Z=e=>{const{t:t}=Object(i.useTranslation)(),n=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[b.a],props:{className:Y[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[b.a],props:{className:Y[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[b.a],props:{className:Y[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[b.a],props:{className:Y[3]}},{title:"",props:{className:Y[4]}}];return n.displayName="ImageStreamsTableHeader",a.createElement(j.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:n,Row:X,virtualize:!0}))};Z.displayName="ImageStreamsList";const Q=e=>e.status.phase,ee=e=>{const{t:t}=Object(i.useTranslation)();return a.createElement(j.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Z,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},4380:function(e,t,n){"use strict";n.r(t),n.d(t,"FileUploadContext",(function(){return d})),n.d(t,"FileUploadContextProvider",(function(){return p})),n.d(t,"useValuesFileUploadContext",(function(){return m}));var a=n(0),i=n(80),r=n(367),o=n(7),s=n(13),l=n(989),c=n(324),u=n(6126);const d=a.createContext({fileUpload:void 0,setFileUpload:()=>{},extensions:[]}),p=d.Provider,m=()=>{const{t:e}=Object(o.useTranslation)(),[t,n]=Object(s.kc)(s.ub),d=Object(l.a)(),[p]=Object(c.useActiveNamespace)(),[m,g]=a.useState(void 0),v=a.useMemo(()=>n?r.a(t.map(e=>e.properties.fileExtensions)).map(e=>e.toLowerCase()):[],[t,n]);return{fileUpload:m,setFileUpload:a.useCallback(n=>{if(n){if(v.length>0){const a=Object(u.a)(t,n.name);a?(g(n),a.properties.handler(n,p)):d.addToast({variant:i.b.warning,title:e("console-app~Incompatible file type"),content:e("console-app~{{fileName}} cannot be uploaded. Only {{fileExtensions}} files are supported currently. Try another file.",{fileName:n.name,fileExtensions:v.toString()}),timeout:!0,dismissible:!0})}}else g(void 0)},[g,v,e,p,d,t]),extensions:v}}},5444:function(e,t,n){"use strict";n.r(t);var a=n(8014);n.d(t,"EditApplication",(function(){return a.a}))},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var i=n(5611);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return i.b})),n.d(t,"e",(function(){return i.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,i,r,o,s,l,c,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"w",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"z",(function(){return E})),n.d(t,"y",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return w})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(o||(o={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",g="1.5.2",v="pipeline",h="bridge/pipeline-run-auto-start-failed",b=275,f=375,y=60,E="pipeline.openshift.io/preferredName",O="chains.tekton.dev/signed",k="openshift-pipelines",j="openshift",S="config";var T;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(T||(T={}));const P="FLAG_TEKTON_V1_ENABLED",C="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",w="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"l",(function(){return R}));var a=n(5596),i=n(29),r=n(117),o=n(16),s=n(22),l=n(279),c=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),g=n(5659),v=n(5625),h=n(1400);const b=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),y=e=>{var t,n,a;const i=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==i?void 0:i.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==i?void 0:i.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},E=(e,t,n,i)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const i=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${i}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${i}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${i}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${i}`:a})(a(e),t,i);return n?`${n}/f?url=${r}&policies.create=peruser`:r},O=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},k=(e,t)=>t?e.filter(e=>o.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,j=(e,t)=>t.length>0&&!s.a(t[0].spec)?Object(u.c)(t[0]):null,S=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},T=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||S(null==e?void 0:e.getData())},P=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(S(null==e?void 0:e.getData())),C=(e,t)=>{const n=null==e?void 0:e.getData(),a=T(e);if(!e||!a||!l.a(n.resources))return Promise.reject();const r=[],o=[];r.push(a),e.getType()===g.d&&c.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(i.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));o.push(Object(v.c)(n,e,t))}return Promise.all(o)},w=(e,t,n=null)=>e&&t&&e!==t?Object(h.a)(e,t,n):Promise.reject(new Error(i.a.t("topology~Can not create a connection from a node to itself."))),R=e=>{const t=T(e.getSource()),n=T(e.getTarget());return t&&n?Object(h.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v}));var a=n(279),i=n(160),r=n(107),o=n(1404),s=n(7),l=n(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[o.WebHookSecretKey])&&1===a.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=i.a(e).sort();return r.a(t,["tls.crt","tls.key"])?l.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:r.a(t,[".dockercfg"])?l.b.dockercfg:r.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:r.a(t,["password","username"])?l.b.basicAuth:r.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},m=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},g=(e,t)=>{const{t:n}=Object(s.useTranslation)();switch(t){case l.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},v=e=>{const{t:t}=Object(s.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var i=n(5642);n.d(t,"e",(function(){return i.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return i(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(282);const r=e=>a.createElement(i.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var i=n(5628);n.d(t,"e",(function(){return i.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var o=n(5632);n.d(t,"a",(function(){return o.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(380),i=n(83),r=n(437),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const s="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),c=e=>o(void 0,void 0,void 0,(function*(){const t=yield i.consoleFetchJSON.post(s,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(501),i=n(838),r=n(2324),o=n(16),s=n(640),l=n(1256),c=n(0),u=n(137),d=n(7),p=n(320),m=n(966),g=n(19),v=n(14),h=n(8),b=n(5),f=n(118),y=n(10),E=n(5590),O=n(5600);const k=e=>{const{isCreate:t,modal:n,onCancel:k}=e,{t:j}=Object(d.useTranslation)(),S=Object(v.useNavigate)(),T=Object(v.useParams)(),P=a.a(e.obj,["metadata","type"]),C=Object(E.d)(e.secretTypeAbstraction),w=i.a({},e.fixed,P,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:C}),[R]=c.useState(e.secretTypeAbstraction),[I,N]=c.useState(w),[x,D]=c.useState(!1),[_,A]=c.useState(),[L,F]=c.useState(r.a(o.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[B,U]=c.useState({}),[M,$]=c.useState(!1),G=Object(E.g)(t,R),K=Object(E.f)(R),V=()=>S(`/k8s/ns/${T.ns}/core~v1~Secret`),H=e=>{F(Object.assign({},null==e?void 0:e.stringData)),U(Object.assign({},null==e?void 0:e.base64StringData))},q=e=>{A(e),D(!1)},z=e=>{const t=e.target.value,n=s.a(I);n.metadata.name=t,N(n)},W=n=>{n.preventDefault();const{metadata:a}=I;D(!0);const i=Object.assign(Object.assign({},r.a(L,e=>p.Base64.encode(e))),B),o=l.a({},I,{data:i},t?{type:Object(E.a)(L)}:{});(t?Object(h.jb)(y.SecretModel,o):Object(h.rb)(y.SecretModel,o,a.namespace,o.metadata.name)).then(t=>{D(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||S(Object(b.sc)(t,Object(h.Db)(t)))},e=>{A(e.message),D(!1)})},J=()=>{var n;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},j("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:z,value:null===(n=null==I?void 0:I.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},j("public~Unique name of the new secret."))))),c.createElement(O.a,{typeAbstraction:e.secretTypeAbstraction,onChange:H,onError:q,onFormDisable:e=>$(e),stringData:L,secretType:I.type,isCreate:t}))};return n?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:W},c.createElement(f.d,null,G),c.createElement(f.a,null,J()),c.createElement(f.c,{errorMessage:_||"",inProgress:x,submitText:j("public~Create"),cancel:k||V})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,G)),c.createElement(b.Z,{title:G,helpText:K}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:W},J(),c.createElement(b.g,{errorMessage:_,inProgress:x},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(g.a,{type:"submit","data-test":"save-changes",isDisabled:M,variant:"primary",id:"save-changes"},e.saveButtonText||j("public~Create")),c.createElement(g.a,{type:"button",variant:"secondary",id:"cancel",onClick:k||V},j("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return f}));var a,i=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const o={[i.b.GITHUB]:"GitHub",[i.b.GITLAB]:"GitLab",[i.b.GITEA]:"Gitea",[i.b.BITBUCKET]:"Bitbucket",[i.b.UNSURE]:"Other"};var s,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(s||(s={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:r.DeploymentConfigModel.labelKey,[l.Kubernetes]:r.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[l.OpenShift]:r.DeploymentConfigModel.kind,[l.Kubernetes]:r.DeploymentModel.kind,[l.KnativeService]:"Service"};var g,v,h,b,f,y;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(g||(g={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(v||(v={})),function(e){e.None="None",e.Redirect="Redirect"}(h||(h={})),function(e){e.m="millicores",e[""]="cores"}(b||(b={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(y||(y={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(869),r=n(5601),o=n(5604),s=n(5608),l=n(5609),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=c(e,["typeAbstraction"]);switch(t){case i.c.source:return a.createElement(r.a,Object.assign({},n));case i.c.image:return a.createElement(o.a,Object.assign({},n));case i.c.webhook:return a.createElement(s.a,Object.assign({},n));default:return a.createElement(l.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(7),r=n(5),o=n(869),s=n(5602),l=n(5603);class c extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:o.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[o.b.basicAuth]:e("public~Basic authentication"),[o.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===o.b.basicAuth?a.createElement(s.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(i.withTranslation)()(c)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const o=Object(i.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(5593);const o=({onChange:e,stringData:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),i=n(0),r=n(7),o=n(5),s=n(5590),l=n(869),c=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[g,v]=i.useState("credentials"),{t:h}=Object(r.useTranslation)(),b=i.useMemo(()=>{var e;try{const t=Object(s.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=i.useCallback(t=>{a.a(t)||n(!1);const i=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[i]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),y={credentials:h("public~Image registry credentials"),"config-file":h("public~Upload configuration file")};return i.createElement(i.Fragment,null,m&&i.createElement("div",{className:"form-group"},i.createElement("label",{className:"control-label",htmlFor:"secret-type"},h("public~Authentication type")),i.createElement("div",{className:"co-create-secret__dropdown"},i.createElement(o.t,{items:y,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:g,onChange:v}))),"credentials"===g?i.createElement(c.a,{onChange:f,stringData:b}):i.createElement(u.a,{onChange:f,stringData:b,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(22),i=n(840),r=n(4434),o=n(57),s=n(16),l=n(4437),c=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),g=n(7),v=n(320),h=n(19),b=n(408),f=n(407),y=n(869),E=n(5606);class O extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[y.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[y.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:i.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(o.a(e,(e,n)=>{const r=v.Base64.decode(s.a(e,"auth","")),o=a.a(r)?l.a(Array(2),""):c.a(r,":");t.push({entry:{address:n,username:s.a(e,"username",o[0]),password:s.a(e,"password",o[1]),email:s.a(e,"email",""),auth:s.a(e,"auth","")},uid:s.a(e,"uid",i.a())})}),t)}imageSecretArrayToObject(e){const t={};return o.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[y.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],i={uid:a[t].uid,entry:e,auth:v.Base64.encode(`${e.username}:${e.password}`)};return a[t]=i,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:i}=null!=t?t:{},{address:r,email:o,password:s,username:l}=null!=i?i:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(h.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(E.a,{id:n,address:r,email:o,password:s,username:l,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(h.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const k=Object(g.withTranslation)()(O)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(7),r=n(320);const o=({id:e,address:t,email:n,password:o,username:s,onChange:l})=>{const{t:c}=Object(i.useTranslation)(),u=(a,i)=>{const c=s.trim(),u=o.trim(),d=s&&o?r.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:s,password:o,email:n,[a]:i},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:s,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:o,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),i=n(1973),r=n(1240),o=n(0),s=n(7),l=n(5593);class c extends o.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(i.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(i.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return o.createElement(o.Fragment,null,o.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&o.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(s.withTranslation)()(c)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5590);class o extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const s=Object(i.withTranslation)()(o)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(840),i=n(22),r=n(50),o=n(255),s=n(1256),l=n(4434),c=n(279),u=n(0),d=n(7),p=n(320),m=n(19),g=n(408),v=n(407),h=n(973),b=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return i.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=h.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return o.a(e,(e,t)=>{var n,a;return s.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(g.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(b.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const y=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(0),i=n(7),r=n(5593);class o extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const s=Object(i.withTranslation)()(o)},5611:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(i||(i={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),i=n(5596),r=n(320),o=n(83),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:i,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:c}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),i=n(5707),r=(n(4360),n(83)),o=n(5597),s=n(5587),l=n(5592),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case s.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>c(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(o.c)(Object.assign({url:e,method:t||"GET",headers:Object(o.d)(r)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=i(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return s.d.Reachable}catch(e){switch(e.status){case 429:return s.d.RateLimitExceeded;case 403:return s.d.PrivateRepo;case 404:return s.d.ResourceNotFound;default:return s.d.InvalidGitTypeSelected}}return s.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>c(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},i={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},s=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(o.a,{url:s,method:"POST",headers:a,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),i=n(5708),r=n(29),o=n(320),s=n(83),l=n(5597),c=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return o.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const i=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},o={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield s.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${i}/hooks`,method:"POST",headers:r,body:JSON.stringify(o)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),i=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,i,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new i.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:i}=a(this.gitsource.url),r=(null==(o=this.gitsource.contextDir)?void 0:o.replace(/^\//,""))||"";var o;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:i,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),i=n(320),r=n(22),o=(n(4360),n(83)),s=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+i.Base64.encode(`${i.Base64.decode(e)}:${i.Base64.decode(t)}`)}}return{Authorization:"token "+i.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const i=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},i),n);if(this.isServer)return Object(s.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(s.d)(r)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:i,full_name:r}=a(this.gitsource.url),o=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+i,defaultBranch:this.gitsource.ref,fullName:r,contextDir:o,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},i=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield o.consoleFetchJSON.post(s.a,{url:i,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5643),i=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>i(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],o=e=>i(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>i(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return b}));var a,i=n(29),r=n(16),o=n(240),s=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const l=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const i=n.find(e=>"Succeeded"===e.type),o=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!o)return s.a.Cancelling;if(!i||!i.status)return null;const l="True"===i.status?s.a.Succeeded:"False"===i.status?s.a.Failed:s.a.Running;if(i.reason&&i.reason!==l)switch(i.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return s.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return s.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return s.a.Pending;case a.ConditionCheckFailed:return s.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case s.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case s.a.Failed:return i.a.t("pipelines-plugin~Failed");case s.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case s.a.Pending:return i.a.t("pipelines-plugin~Pending");case s.a.Running:return i.a.t("pipelines-plugin~Running");case s.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case s.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||s.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>l(e)||s.a.Other,g=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},v=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!o.a(e.all,a)},h=e=>l(e)||s.a.Other,b=e=>c(e)||"-"},5618:function(e,t,n){"use strict";var a=n(0),i=n(297),r=n(18),o=n.n(r);n(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:n,children:r,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>a.createElement("div",{className:o()("pf-v5-c-form",{"co-m-pane__form":!n,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&a.createElement("h2",{className:"odc-form-section__heading"},e),t&&a.createElement(i.a,null,t),r)},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"m",(function(){return b})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return C}));var a=n(4413),i=n(689),r=n(5),o=n(5620),s=n(2221),l=n(5624),c=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,g=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),v=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:i.string().required("Required")})}),h=e=>i.object().shape({replicas:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),b=i.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),f=e=>i.object().when("resources",{is:c.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),E=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),O=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),k=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),j=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),S=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),T=i.object().shape({strategy:i.string()}),P=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),C=i.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===c.a.PIPELINES)&&n!==o.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"s",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"k",(function(){return O})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return S}));var a=n(5654);const i=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},h={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},b={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},O={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},S={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"p",(function(){return P})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"j",(function(){return R})),n.d(t,"m",(function(){return I})),n.d(t,"o",(function(){return N})),n.d(t,"e",(function(){return x})),n.d(t,"v",(function(){return D})),n.d(t,"B",(function(){return _})),n.d(t,"d",(function(){return A})),n.d(t,"s",(function(){return F})),n.d(t,"w",(function(){return B})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"t",(function(){return $})),n.d(t,"g",(function(){return G})),n.d(t,"x",(function(){return K})),n.d(t,"y",(function(){return V})),n.d(t,"z",(function(){return H})),n.d(t,"r",(function(){return J})),n.d(t,"u",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"A",(function(){return Q})),n.d(t,"n",(function(){return ee}));var a=n(321),i=n(29),r=n(1557),o=n(117),s=n(16),l=n(22),c=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),g=n(5588),v=n(5650),h=n(5586),b=n(5595),f=n(5635),y=n(5617);const E=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,O=e=>e.runAfter&&e.runAfter.length>0;var k;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(k||(k={}));const j={[k.Running]:i.a.t("pipelines-plugin~Running"),[k.Failed]:i.a.t("pipelines-plugin~Failed"),[k.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[k.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[k.Other]:i.a.t("pipelines-plugin~Other")};var S;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(S||(S={}));S.Git,S.PullRequest,S.Image,S.Cluster,S.Storage,S.CloudEvent;const T=(e,t,n,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===y.a.PipelineRunCancelled?r.a(e,{status:{reason:b.a.Cancelled}}):t.spec.status===y.a.PipelineRunPending?r.a(e,{status:{reason:b.a.Idle}}):r.a(e,{status:{reason:b.a.Failed}});const l=o.a(n,t=>t.metadata.labels[g.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=r.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?s.a(o.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(y.d)(u)||b.a.Pending:u.status&&!u.status.reason&&(u.status.reason=b.a.Pending):u.status={reason:b.a.Pending},u}),P=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const i=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||l.a(e.spec.tasks))return i;const r=T(e,t,n);return r.forEach(e=>{E(e)||O(e)||(0===i.length&&i.push([]),i[0].push(e))}),r.forEach(e=>{var t;if(!O(e)&&E(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):i.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(O(e)){let n=i.length-1;for(let a=0;a<i.length;a++)for(const r of i[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=i[n+1]?i[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):i.splice(n+1,0,[e])}}),i},C=(e,t,n)=>T(e,t,n,!0),w=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!l.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},R=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:b.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:b.a.PipelineNotStarted};let n=Object(y.c)(t);return"-"===n&&(n=b.a.Pending),{latestPipelineRun:t,status:n}},I=e=>e&&e.map(e=>({name:e.name,value:e.default})),N=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),x=(e,t,n)=>{const a=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(v.g)(i,n)},D=e=>{var t,n,a,i;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,o=null!==(i=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==i?i:null;return!r||!o&&"Running"!==Object(y.d)(e)?"-":x(r,o,!0)},_=(e,t,n)=>{const a=c.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},A=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,g.l,t).then(t=>{void 0===o.a(t.secrets,t=>t.name===e.metadata.name)&&_(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},L=(e,t)=>e===g.p.Git?`tekton.dev/${g.p.Git}-${t}`:e===g.p.Image?`tekton.dev/${g.p.Image}-${t}`:null,F=(e,t={})=>{let n=0,a=L(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=L(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},B=e=>{switch(e.kind){case h.PipelineModel.kind:case h.TaskModel.kind:case h.EventListenerModel.kind:return"";case h.PipelineRunModel.kind:return"pipeline-runs";case h.PipelineResourceModel.kind:return"pipeline-resources";case h.ConditionModel.kind:return"conditions";case h.TaskRunModel.kind:return"task-runs";case h.ClusterTaskModel.kind:return"cluster-tasks";case h.TriggerTemplateModel.kind:return"trigger-templates";case h.TriggerBindingModel.kind:return"trigger-bindings";case h.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case h.RepositoryModel.kind:return"repositories";default:return null}},U=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),M=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),$=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),G=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),K=e=>"tekton.dev/v1beta1"===e.apiVersion?h.PipelineModelV1Beta1:h.PipelineModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?h.PipelineRunModelV1Beta1:h.PipelineRunModel,H=e=>"tekton.dev/v1beta1"===e.apiVersion?h.TaskModelV1Beta1:h.TaskModel;var q,z,W;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(q||(q={})),function(e){e.EXTERNAL_LINK="external-link"}(z||(z={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(W||(W={}));const J=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[q.KEY])===W.SBOM}),Y=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[q.TYPE])===z.EXTERNAL_LINK},X=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===W.SBOM))||void 0===i?void 0:i.value},Z=e=>{var t,n,a,i;return null===(i=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===W.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},Q=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return b.a.Pending;return Object(y.d)(e)},ee=e=>{var t,n,a;const i=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),o={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);o[t.trim()]=Number(n.trim())});const s=((null==o?void 0:o.Completed)||0)-((null==o?void 0:o.Failed)||0)-((null==o?void 0:o.Cancelled)||0);return{Running:(null==o?void 0:o.Incomplete)||0,Succeeded:s||0,Cancelled:(null==o?void 0:o.Cancelled)||0,Failed:(null==o?void 0:o.Failed)||0,Skipped:(null==o?void 0:o.Skipped)||0,Completed:(null==o?void 0:o.Completed)||0,Cancelling:(null==o?void 0:o.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return P}));var a=n(29),i=n(22),r=n(16),o=n(57),s=n(640),l=n(5649),c=n(5),u=n(10),d=n(8),p=n(76),m=n(870),g=n(5586),v=n(5623),h=n(15),b=n(2221),f=n(1400),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const E=(e,t=e)=>{switch(t){case b.z:case b.b:return"";default:return e}},O=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:i.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},k=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const i=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),s=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[O(e,t,n)];if(!i)return Promise.all(l);return s&&({"app.kubernetes.io/instance":i}["app.kubernetes.io/part-of"]=s),Object(f.e)(t.metadata.namespace,i,{"app.kubernetes.io/part-of":s}).then(e=>(o.a(e,e=>{o.a(e,e=>{!s&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(O(Object(d.vb)(e.kind),e,n))})}),Promise.all(l)))},j=(e,t={},n)=>y(void 0,void 0,void 0,(function*(){var a,i;try{if(n){const n=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),S=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),T=(e,t)=>y(void 0,void 0,void 0,(function*(){var n,a;const i=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(l.c)(i["app.openshift.io/vcs-uri"]),o=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let s;if((null==t?void 0:t.length)>0)s=null==t?void 0:t.reduce((t,n)=>{var a,i;return[...t,...(null!==(i=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==i?i:[]).reduce((t,n)=>{var a,i;let s;const l=n.generic?"generic":r,c=n.generic||n[r];if(c){const t=null!==(i=null===(a=c.secretReference)||void 0===a?void 0:a.name)&&void 0!==i?i:`${e.metadata.name}-${l}-webhook-secret`;s=o.find(e=>e.metadata.name===t)}return s?[...t,S(u.SecretModel,s)]:t},[])]},[]);else{const t=o.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=o.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);s=[S(u.SecretModel,t),S(u.SecretModel,n)]}return s})),P=e=>y(void 0,void 0,void 0,(function*(){const t=[],n=yield j(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield j(u.BuildModel,{ns:e.metadata.namespace}),r=yield j(g.PipelineModel,{ns:e.metadata.namespace},!0),o=yield j(g.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield j(g.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),b=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},y=Object(h.Gc)(e,f),E=!i.a(y),O=Object(v.l)(e,r);let k=[],P=[];const C=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],w=[p.p,u.ImageStreamModel];i.a(O)||(C.push(g.PipelineModel),w.push(g.PipelineModel),k=Object(v.t)(O,o),P=Object(v.g)(k,l));const R=s.a(e),I=(e,n)=>{const a=S(e,n);a&&t.push(a)};E&&y.forEach(e=>{I(u.BuildConfigModel,e)});const N=(e,t)=>{e.forEach(e=>I(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&I(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&I(b,e),k.length>0&&k.forEach(e=>I(g.TriggerTemplateModel,e)),P.length>0&&P.forEach(e=>I(g.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:I(b,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:I(b,e),N(C,e);break;case p.p.kind:N(w,R);break;case p.b.kind:case p.k.kind:I(b,e)}return E&&t.push(...yield T(e,y)),O&&t.push(...yield T(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,i,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5587),i=n(5611),r=n(5616),o=n(5661),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:i.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:i.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:i.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:i.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],c=(e,t,n=!1)=>s(void 0,void 0,void 0,(function*(){let e,r=[],c=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(o.b)(n,t),r=yield Promise.all(l.map(e=>s(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(r=r.filter(e=>e.type!==i.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"q",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"r",(function(){return O}));var a=n(2221);const i="event-source",r="event-sink",o="kafka-sink",s="event-source-kafka",l="event-source-link",c="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",g="revision-traffic",v="knative-revision",h="sink-uri",b=a.h,f=100,y=[a.c,a.c,a.c+10,a.c],E=6,O="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return S})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return C})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return R}));var a=n(5699),i=n(1403),r=n(5692),o=n(5691),s=n(5654),l=n(2225),c=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),g=n(5617);const v=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(g.c)(n),n},h=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=v(n,"creationTimestamp"),e}),b=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:s.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:o.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},f=e=>{var t,n,a,i,r;const o=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),s=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return o&&s?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:o,namespace:e.metadata.namespace},spec:s}:null},y=(e,t,n)=>{var a,i,r,o,s;const l=(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,n,a,i;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(i=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==i?i:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=c().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||n){c().forEach(t=>{const a=Object(g.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(g.c)(e)===m.a.Cancelled,i=l>=u?l-u-d:l;t||a?p[m.a.Cancelled]+=i:p[m.a.Pending]+=i}else"False"===(null===(s=null===(o=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===o?void 0:o[0])||void 0===s?void 0:s.status)||(null==e?void 0:e.spec.status)===g.a.PipelineRunCancelled?p[m.a.Cancelled]=l:(null==e?void 0:e.spec.status)===g.a.PipelineRunPending?p[m.a.Pending]+=l:p[m.a.PipelineNotStarted]++;return p},E=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,O=e=>(E(e)||p.TaskModel).kind,k=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,j=e=>(k(e)||p.TriggerBindingModel).kind,S=e=>{const t=E(e);return Object(u.Hb)(t)},T=(e,t)=>{const n=t&&y(e,void 0,t);return null==n?void 0:n.Running},P=(e,t)=>!(e&&(T(e,t)>0||Object(g.c)(e)===m.a.Running)),C=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(g.c)(e)===m.a.Running)),w=(e,t)=>!(e&&T(e,t)>0&&Object(g.c)(e)!==m.a.Cancelled),R=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(g.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),i=n(0),r=n(7),o=n(14),s=n(5),l=n(869),c=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends i.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return i.createElement(s.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return i.createElement(s.wb,Object.assign({},e),i.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(o.useParams)(),{t:n}=Object(r.useTranslation)();return i.createElement(s.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},i.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(14),r=n(5598);const o=()=>{const e=Object(i.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},i={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},o={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},s={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,i,a,s,l,d,c,u,o],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5587);function i(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4359),i=n(5587),r=n(5613),o=n(5615),s=n(5612),l=n(5614);function c(e,t,n,c,u,d,p){let m,g;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=i.e.BASIC_AUTH,g=u.data;break;case a.SecretType.sshAuth:m=i.e.SSH,g=u["ssh-privatekey"];break;default:m=i.e.NO_AUTH}const v={url:e,ref:n,contextDir:c,secretType:m,secretContent:g,devfilePath:d,dockerfilePath:p};switch(t){case i.b.GITHUB:return new s.a(v);case i.b.BITBUCKET:return new r.a(v);case i.b.GITLAB:return new l.a(v);case i.b.GITEA:return new o.a(v);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5709);class i{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return j})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"d",(function(){return P}));var a=n(29),i=n(16),r=n(57),o=n(117),s=n(367),l=n(1401),c=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),g=n(1400),v=n(5589);const h=(e,t)=>{var n,a,i,r,o,s,l,c;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(i=null==e?void 0:e.buildConfigs)||void 0===i?void 0:i.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(s=null===(o=null==e?void 0:e.pipelines)||void 0===o?void 0:o.data)||void 0===s?void 0:s.find(e=>e.metadata.name===t);if(m){const e=null===(c=null===(l=null==m?void 0:m.spec)||void 0===l?void 0:l.params)||void 0===c?void 0:c.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},b=(e,t,n,a,r=!1,o)=>{const{monitoringAlerts:s=[]}=t,c=i.a(e,"metadata.uid"),m=i.a(e,"metadata.labels",{}),g=i.a(e,"metadata.annotations",{}),v=i.a(e,"metadata.name",""),b=h(o,v),f=Object(l.d)("icon-"+m["app.openshift.io/runtime"])||Object(l.d)("icon-"+m["app.kubernetes.io/name"]);return{id:c,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:s,kind:Object(u.Db)(e),editURL:g["app.openshift.io/edit-url"],vcsURI:g["app.openshift.io/vcs-uri"],vcsRef:g["app.openshift.io/vcs-ref"],contextDir:b,builderImage:f||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},f=(e,t,n,a,i,r,o)=>{var s;const l=null==e?void 0:e.metadata.uid,c=null==e?void 0:e.metadata.name,d=null===(s=null==e?void 0:e.metadata.labels)||void 0===s?void 0:s["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:l,type:t,label:d||c,shape:o,resource:e,resourceKind:p,data:n},i&&i.length&&{children:i}),a||{})},y={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},E=(e,t)=>{const n=i.a(e,"metadata.annotations"),s=[];return r.a(Object(g.d)(n),n=>{const r=i.a(o.a(t,e=>{var t,a,i,r,o;let s;if("string"==typeof n)return s=null!==(i=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==i?i:null===(r=e.metadata)||void 0===r?void 0:r.name,s===n;s=null===(o=e.metadata)||void 0===o?void 0:o.name;const{apiVersion:l,kind:c,name:u}=n,{kind:d,apiVersion:p}=e;let m=s===u&&d===c;return p&&(m=m&&p===l),m}),["metadata","uid"]),l=i.a(e,["metadata","uid"]);r&&s.push({id:`${l}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:l,target:r})}),s},O=e=>{const t=i.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[i.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},k=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,i,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(i=t.data)||void 0===i?void 0:i.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},j=(e,t)=>{e&&e.length&&e.forEach(e=>{k(e,t)})},S=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:i}=e;return!i||!!n.find(e=>e(i,t))}))),j(e.nodes.filter(e=>e.group),t.nodes))},T=(e,t,n=v.a)=>s.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let i,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),i=Object(u.o)(a)),Object.assign({kind:r,apiVersion:i},e)}):[])),P=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:c.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:c.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,i,r,o=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const s={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:o.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[o.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[o.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var a=n(2338),i=n(689),r=n(5591),o=n(5653),s=n(15),l=n(5655),c=n(5621);const u=e=>i.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(o.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(s.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},g=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return S}));var a,i,r=n(321),o=n(29),s=n(550),l=n(50),c=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),g=n(158),v=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const h=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[v.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:s.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[v.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[v.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),b=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>g.b.format(e),y=(e,t,n)=>{const{metric:a,values:i}=e,r=l.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),o=Number(c.a(r,"[0].x")),s=Number(c.a(u.a(r),"x")),p=n/t;return d.a(o,s,p).forEach((e,t)=>{const n=new Date(e);c.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},E=(e,t,n)=>{var a;const i=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==i?void 0:i.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,i])=>{var r,o;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(o=null==n?void 0:n(i))&&void 0!==o?o:parseFloat(i),metric:null==e?void 0:e.metric,time:a}})})},O=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<a;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,a)},k=(e,t)=>{if(0===e)return o.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,i=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(i=Math.floor(a/60),a%=60),i>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} hour",{count:i}):o.a.t("pipelines-plugin~{{hr}}h",{hr:i}),r+=" "),a>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} minute",{count:a}):o.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} second",{count:n}):o.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},j=()=>({"1d":o.a.t("pipelines-plugin~1 day"),"3d":o.a.t("pipelines-plugin~3 days"),"1w":o.a.t("pipelines-plugin~1 week"),"2w":o.a.t("pipelines-plugin~2 weeks"),"3w":o.a.t("pipelines-plugin~3 weeks"),"4w":o.a.t("pipelines-plugin~4 weeks")}),S=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),i=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},o=/ *\([^)]*\) */g,s=e=>e.replace(o,""),l=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:o,name:s}=e.spec.ref;return Object(a.n)(i.l)===r&&o===i.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(o).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,i;const r=null==t?void 0:t.find(t=>t.metadata.name===s(e));return r&&(null===(i=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===i?void 0:i.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),i=n(8),r=n(5663);class o extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(i.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=o},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return R}));var a=n(5596),i=n(320),r=n(2338),o=n(689),s=n(5621),l=n(5624),c=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),g=n(5586),v=n(5620),h=n(5656),b=n(5588),f=n(5648),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const E={dryRun:"All"},O=e=>o.object().shape({name:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:o.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:o.string(),webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>o.object().shape({webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>o.object().shape({repository:o.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===v.a.PAC&&t,then:k(e)})}),S=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),T=e=>s.f.test(e)?S(e,"github.com")?u.b.GITHUB:S(e,"bitbucket.org")?u.b.BITBUCKET:S(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,P=(e,t,n={},r)=>y(void 0,void 0,void 0,(function*(){var o,s,l;const{name:m,gitUrl:v,webhook:{secretObj:h,method:b,token:O,secret:k,user:j}}=e,S=i.Base64.encode(k),P=T(v);let C;O&&"token"===b?C=yield((e,t,n,a,r,o,s)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},o&&{"webhook.secret":o}),r===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${n}`)})};return Object(c.g)({model:p.SecretModel,data:l,ns:a,queryParams:s?E:{}})})))(m,j,O,t,P,k,r):"secret"===b&&h&&(null===(o=null==h?void 0:h.data)||void 0===o?void 0:o["webhook.secret"])!==S&&(yield Object(c.p)({model:p.SecretModel,resource:h,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(k)}]}));const w=a(v).source,R=C||h,I={kind:g.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:v},R||"github.com"!==w?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(w)?{}:{url:w}),"bitbucket.org"===w?{user:j}:{}),R?{secret:{name:null===(s=null==R?void 0:R.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==R?void 0:R.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:g.RepositoryModel,data:I,ns:t,queryParams:r?E:{}})})),C=(e,t,n)=>y(void 0,void 0,void 0,(function*(){var a,r,o;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:p,secretObj:m,user:g}}=e,v=T(s),h=Object(u.e)(s,v);let b,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),b=v===u.b.BITBUCKET?"token"===l?i.Base64.encode(`${g}:${c}`):i.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===l?c:i.Base64.decode(null===(o=null==m?void 0:m.data)||void 0===o?void 0:o["provider.token"]);return yield h.createRepoWebhook(b,p,f,d)})),w=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},R=(e,t)=>y(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:b.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:b.g,name:h.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(689);const i=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),o=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",o="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s}));const a=e=>"Topology/ComponentFactory"===e.type,i=e=>"Topology/DataModelFactory"===e.type,r=e=>"Topology/CreateConnector"===e.type,o=e=>"Topology/DisplayFilters"===e.type,s=e=>"Topology/Decorator"===e.type},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(2221);const i="operator-backed-service",r=a.h,o=a.f,s=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(447),i=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const o=yield e.getFuncYamlContent();try{const e=a.a(o)?Object(i.c)(o):o,s=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:s,runtime:c,builderEnvs:l,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),s=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(i.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5662:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(0),i=n(5619),r=n(5589),o=n(5647),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};class l{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const n=this.extensions[t].resources(this.namespace);Object.keys(n).forEach(t=>{e[t]||(e[t]=n[t])})}return e},Object(o.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,n=Object.keys(t).reduce((e,n)=>(e[n]=t[n].kind,e),{});return Object(o.i)(e,n,this.workloadKeys)},this.getExtensionModels=e=>s(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},n=this.dataModelGetters;if(!(null==n?void 0:n.length))return Promise.resolve(t);const a=this.dataModelDepicters,i=this.getWorkloadResources(e),r=n.map(t=>{try{return t(this.namespace,e,i)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(r).then(e=>{e.forEach(e=>{if(e)try{Object(o.b)(e,t,a)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(n=>{try{n(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(i.p)(this,{namespace:i.q,model:i.q.ref,loaded:i.q,loadError:i.q,extensionsLoaded:i.q,watchedResources:i.q.ref,isEmptyModel:i.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...r.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,n;return 0===(null!==(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}}const c=Object(a.createContext)(null)},5663:function(e,t,n){"use strict";var a=n(5585),i=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class o extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(i.p)(this,{anchors:i.q.shallow,dimensions:i.q.ref,dimensionsInitialized:i.q,position:i.q.ref,nodes:i.i,group:i.q,collapsed:i.q,labelPosition:i.q,shape:i.q,status:i.q,groupBounds:i.i,sourceEdges:i.i,targetEdges:i.i,setDimensions:i.f,setBounds:i.f,setPosition:i.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:i,y:r}=this.position;e.x===i&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,i=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),o=new a.Point(r.x+n,r.y+i);t.setPosition(o)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=o},5669:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return g}));const a="OPENSHIFT_PIPELINE",i="OPENSHIFT_PIPELINE_AS_CODE",r="OPENSHIFT_PIPELINE_CONDITION",o="openshift",s="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",p="https://artifacthub.io/api/v1",m="resource.deleted.in.k8s",g="resource.loaded.from.tektonResults"},5673:function(e,t,n){"use strict";n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"p",(function(){return E})),n.d(t,"o",(function(){return O})),n.d(t,"k",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"l",(function(){return P})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return R}));var a=n(255),i=n(745),r=n(117),o=n(384),s=n(1533),l=n(70),c=n(22),u=n(283),d=n(1401),p=n(4362),m=n(10);const g=["app.kubernetes.io/name","app.openshift.io/runtime"],v=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==n?n:""},h=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==n?n:""},b=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==n?n:""},f=e=>{var t,n,r,o,s,l;return(e=>a.a(e,(e,t,n)=>{const a=n.split("/");1===a.length&&a.push("tcp");const r=parseInt(a[0],10);return i.a(r)?e.push({containerPort:r,protocol:a[1].toUpperCase()}):console.warn("Unrecognized image port format",n),e},[]))((null===(r=null===(n=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===n?void 0:n.Config)||void 0===r?void 0:r.ExposedPorts)||(null===(l=null===(s=null===(o=null==e?void 0:e.image)||void 0===o?void 0:o.dockerImageMetadata)||void 0===s?void 0:s.ContainerConfig)||void 0===l?void 0:l.ExposedPorts))},y=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),E=e=>e.replace(/(-|^)([^-]?)/g,(e,t,n)=>(t&&" ")+n.toUpperCase()),O=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(p.isBuilder)(e)).reduce((e,t)=>{var n,a,i;const r=Object(p.getBuilderTagsSortedByVersion)(t),o=Object(p.getMostRecentBuilderTag)(t),{name:s}=t.metadata,l=null===(a=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.annotations)||void 0===a?void 0:a["openshift.io/display-name"],c=null===(i=null==o?void 0:o.annotations)||void 0===i?void 0:i.description,u=t.metadata.namespace,m=l&&l.length<14?l:E(s),g=Object(d.e)(o),v=Object(d.d)(g);return e[s]={obj:t,name:s,displayName:l,description:c,title:m,iconUrl:v,tags:r,recentTag:o,imageStreamNamespace:u},e},{}),k=(e,t,n)=>{var a,i;const o=r.a(e,{name:t});return[o,null!==(i=null===(a=null==o?void 0:o.annotations)||void 0===a?void 0:a["openshift.io/display-name"])&&void 0!==i?i:n]},j=e=>{if(!e)return;const t=o.a(e.split("/"));return s.a(t.split(/[^a-z0-9-]/))};var S,T;!function(e){e.External="external",e.Internal="internal"}(S||(S={})),function(e){e.Openshift="openshift"}(T||(T={}));const P=e=>({External:{value:S.External,label:e("devconsole~Image name from external registry")},Internal:{value:S.Internal,label:e("devconsole~Image stream tag from internal registry")}}),C=e=>(e&&!c.a(e)?(e=>l.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const n=u.coerce(e),a=u.coerce(t);return n||a?n?a?u.rcompare(n,a):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),w=()=>[{isList:!0,kind:m.ProjectModel.kind,prop:m.ProjectModel.id}],R=e=>{const t=[];return e&&t.push({isList:!0,kind:m.ImageStreamModel.kind,prop:m.ImageStreamModel.id,namespace:e}),t}},5676:function(e,t,n){"use strict";n.d(t,"w",(function(){return a})),n.d(t,"m",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"x",(function(){return l})),n.d(t,"u",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"C",(function(){return g})),n.d(t,"B",(function(){return v})),n.d(t,"k",(function(){return h})),n.d(t,"v",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return E})),n.d(t,"A",(function(){return O})),n.d(t,"t",(function(){return k})),n.d(t,"s",(function(){return j})),n.d(t,"y",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"z",(function(){return P})),n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return I})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return x}));const a=25,i=5,r=9,o=9,s=4,l=120,c=30,u=30,d=20,p=10,m=15,g=10,v=25,h=32,b=12,f=30,y=40,E=35,O=40,k=300,j=45;var S,T,P,C;!function(e){e.TASK_NODE="task",e.CUSTOM_TASK_NODE="custom-task",e.SPACER_NODE="spacer",e.LOADING_NODE="loading",e.TASK_LIST_NODE="task-list",e.BUILDER_NODE="builder",e.INVALID_TASK_LIST_NODE="invalid-task-list",e.FINALLY_NODE="finally-node",e.BUILDER_FINALLY_NODE="builder-finally-node",e.FINALLY_GROUP="finally-group",e.EDGE="edge"}(S||(S={})),function(e){e.INTEGRAL_SHAPE="integral-shape",e.STRAIGHT="line"}(T||(T={})),function(e){e.DAGRE_BUILDER="dagre-builder",e.DAGRE_BUILDER_SPACED="dagre-builder-spaced",e.DAGRE_VIEWER="dagre-viewer",e.DAGRE_VIEWER_SPACED="dagre-viewer-spaced"}(P||(P={})),function(e){e.BEFORE="in-run-after",e.AFTER="has-run-after",e.PARALLEL="shared-parallel"}(C||(C={}));const w={nodesep:20,ranksep:a,edgesep:50,ranker:"longest-path",rankdir:"LR",marginx:20,marginy:20},R=Object.assign({},w),I=Object.assign(Object.assign({},R),{ranksep:a+v}),N=Object.assign(Object.assign({},w),{ranksep:a+2*r,nodesep:20+r,marginx:w.marginx+2*r,marginy:w.marginy+2*r}),x=Object.assign(Object.assign({},N),{ranksep:a+v+2*r});var D;!function(e){e.CUSTOM_TASK="CustomTask"}(D||(D={}))},5684:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(8),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const o=(e,t,n,o)=>{const[s,l]=a.useState(),[c,u]=a.useState(!1),[d,p]=a.useState();return a.useEffect(()=>{r(void 0,void 0,void 0,(function*(){try{p(null),u(!1),l(null);const a=yield Object(i.kb)(e,t,n,o);l(a)}catch(e){p(e)}finally{u(!0)}}))},[e,t,n,o]),[s,c,d]}},5687:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return O}));var a=n(225),i=n(16),r=n(499),o=n(1557),s=n(53),l=n(15),c=n(5669),u=n(5586),d=n(5623),p=n(5588),m=n(5725);const g=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},v=(e=null,t,n)=>{var m,v,h,b,f,y;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const E=((e,t)=>{var n,a,i;return e?e.metadata.name:t?null!==(a=null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)&&void 0!==a?a:(null===(i=t.metadata.annotations)||void 0===i?void 0:i[p.z])||t.metadata.name:null})(e,t),O=null==t?void 0:t.spec.workspaces,k=null==t?void 0:t.spec.params,j=null==e?void 0:e.spec.params,S=k||Object(d.m)(j),T=o.a({},null===(m=null==e?void 0:e.metadata)||void 0===m?void 0:m.annotations,null===(v=null==t?void 0:t.metadata)||void 0===v?void 0:v.annotations,{[p.q.user]:Object(s.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(h=null==t?void 0:t.metadata.annotations)||void 0===h?void 0:h[p.z])&&{[p.z]:E});delete T["kubectl.kubernetes.io/last-applied-configuration"],delete T["tekton.dev/v1beta1TaskRuns"],delete T["results.tekton.dev/log"],delete T["results.tekton.dev/record"],delete T["results.tekton.dev/result"],delete T[c.c],delete T[c.l];return(e=>{let t=e;if(a.a(t,"spec.serviceAccount")){const e=i.a(t,"spec.serviceAccount");t=r.a(t,["spec.serviceAccount"]),t=o.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==n?void 0:n.generateName)?{generateName:E+"-"}:{name:void 0!==(null===(b=null==t?void 0:t.metadata)||void 0===b?void 0:b.name)?`${g(t)}${Object(l.wd)()}`:`${E}-${Object(l.wd)()}`}),{annotations:T,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:o.a({},null===(f=null==e?void 0:e.metadata)||void 0===f?void 0:f.labels,null===(y=null==t?void 0:t.metadata)||void 0===y?void 0:y.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":E})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:E}}),S&&{params:S}),{workspaces:O,status:null})})},h=e=>({volumeClaimTemplate:{metadata:{labels:{[p.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),b=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[p.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),f=e=>t=>{let n={type:p.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(n={type:p.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(n={type:p.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),n)},y=(e,t=!1,n="")=>{const{metadata:{namespace:a},spec:{params:i,resources:r}}=e;return{namespace:a,parameters:(i||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(r||[]).map(e=>({name:e.name,selection:t?m.a:"",data:Object.assign(Object.assign({},m.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(f(n))}},E=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),O=(e,t,n,a,i)=>{const{parameters:r,workspaces:o}=t,s={metadata:{annotations:a,labels:n},spec:{pipelineRef:{name:e.metadata.name},params:r.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(o)}};return v(e,s,i)}},5695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,i=n(0),r=n(18),o=n(1946),s=n(5727);n(5728);!function(e){e.light="light",e.default="default"}(a||(a={}));t.b=({children:e,disabled:t,onNamespaceChange:n,hideProjects:l=!1,hideApplications:c=!1,variant:u=a.default,toolbar:d})=>i.createElement("div",{className:"odc-namespaced-page"},i.createElement(o.NamespaceBar,{isDisabled:t,onNamespaceChange:n,hideProjects:l},!c&&i.createElement(s.a,{disabled:t}),d&&i.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),i.createElement("div",{className:r("odc-namespaced-page__content",{["is-"+u]:u!==a.default})},e))},5704:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(13),o=n(5),s=n(69),l=n(15),c=n(5710),u=n(5647),d=n(5720),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};t.a=e=>{var{namespace:t}=e,n=p(e,["namespace"]);const{t:m}=Object(i.useTranslation)(),g=Object(s.z)(d.a),v=Object(s.z)(r.Zb),h=a.useMemo(()=>Object(c.b)(v),[v]),b=a.useMemo(()=>{let e=Object(u.d)(t);return[...g,...h].forEach(n=>{var a,i;const r=null===(i=(a=n.properties).resources)||void 0===i?void 0:i.call(a,t);r&&(e=Object.assign(Object.assign({},r),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[h,g,t]);return a.createElement(o.C,{resources:b},a.createElement(l.Nb,Object.assign({},n,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5705:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return O}));var a=n(0),i=n(283),r=n(13),o=n(77),s=n(519),l=n(15),c=n(5586),u=n(5588),d=n(5650),p=n(5899),m=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const g=e=>m(void 0,void 0,void 0,(function*(){const t=(yield Object(o.l)(s.a,{ns:e})).filter(e=>{var t,n,a,i,r;return((null===(n=null===(t=e.metadata)||void 0===t?void 0:t.name)||void 0===n?void 0:n.startsWith("openshift-pipelines-operator"))||(null===(i=null===(a=e.metadata)||void 0===a?void 0:a.name)||void 0===i?void 0:i.startsWith("redhat-openshift-pipelines")))&&(null===(r=e.status)||void 0===r?void 0:r.phase)===s.b.CSVPhaseSucceeded}).map(e=>Object(i.parse)(e.spec.version)).filter(Boolean);return t.sort(i.compare),t.length>0?t[t.length-1]:null})),v=e=>{const[t,n]=a.useState(null);return a.useEffect(()=>{g(e).then(n).catch(e=>console.warn("Error while determinate OpenShift Pipelines Operator version:",e))},[e]),t},h=e=>!!e&&Object(i.gte)(e.version,u.i),b=e=>!!e&&Object(i.gte)(e.version,u.s),f=e=>{const t=v(e),[n]=Object(p.b)(),[a]=Object(r.hc)({group:c.TektonConfigModel.apiGroup,resource:c.TektonConfigModel.plural,namespace:u.j,verb:"update"});var o;return{metricsLevel:!!(o=t)&&Object(i.gt)(o.version,u.m)?Object(p.a)(n):u.n.UNSIMPLIFIED_METRICS_LEVEL,queryPrefix:t&&!h(t)?d.a.TEKTON:d.a.TEKTON_PIPELINES_CONTROLLER,hasUpdatePermission:a}},y=e=>{const[t]=Object(l.ue)(),n=v(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=11;e(u.f,a)},E=e=>{const[t]=Object(l.ue)(),n=v(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=16;e(u.d,a)},O=e=>{const[t]=Object(l.ue)(),n=v(t),a=1===(null==n?void 0:n.major)&&(null==n?void 0:n.minor)>=17;e(u.e,a)}},5710:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(0),i=n(13),r=n(8),o=n(69),s=n(5657),l=n(5714),c=n(5662),u=n(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((n,[a,i])=>{const o=((e,t,n,a,i={})=>{if(!a)return Object.assign({namespace:e},i);if(a.version){const t=Object(r.Fb)(a);return Object.assign({namespace:e,kind:t},i)}const o=Object(r.wb)(a.group,a.kind);if(!o)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${a.group}" and kind "${a.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${n}" will not be loaded and ignored in the topology view for now:`,t,n,a,i),null;const s=Object(r.Hb)(o);return Object.assign({namespace:e,kind:s},i)})(t,e,a,null==i?void 0:i.model,null==i?void 0:i.opts);return o&&(n[a]=o),n},{})})}));t.a=({namespace:e,children:t})=>{const[n,r]=a.useState(new c.a(e));a.useEffect(()=>{r(new c.a(e))},[e]);const p=Object(o.z)(s.c),m=Object(o.z)(i.Zb),g=a.useMemo(()=>d(m),[m]);return a.createElement(c.b.Provider,{value:n},e&&a.createElement(a.Fragment,null,[...g,...p].map(e=>a.createElement(l.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&a.createElement(u.a,null),t)}},5711:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return f}));var a=n(499),i=n(22),r=n(1557),o=n(655),s=n(255),l=n(15),c=n(2221),u=n(5599);const d=({name:e,applicationName:t,imageStreamName:n,runtimeIcon:a,selectedTag:i,namespace:r})=>{const o=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},n&&{"app.openshift.io/runtime":n});return a&&(o["app.openshift.io/runtime"]=a),t&&t.trim().length>0&&(o["app.kubernetes.io/part-of"]=t),i&&(o["app.openshift.io/runtime-version"]=i),r&&(o["app.openshift.io/runtime-namespace"]=r),o},p=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),m=()=>({[c.n]:"false"}),g=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),v=(e,t,n,a,i="latest")=>({[l.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${i}`,namespace:n},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!a}])}),h=(e,t)=>{const n=u.l[e];return n?{app:t,[n.toLowerCase()]:t}:{app:t}},b=(e,t)=>{var n,s,l,c,u,d,p,m,g,v,h,b,f,y,E,O,k,j,S,T,P,C,w,R,I,N,x,D,_;if(i.a(e))return t;const A=r.a({},e||{},t),L=null===(s=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.annotations)||void 0===s?void 0:s.isFromDevfile;var F;if(A.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),L?null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.labels:{}),A.metadata.annotations&&(A.metadata.annotations=Object.assign(Object.assign({},L?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations:(F=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,a.a(F,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(m=null===(p=null===(d=A.spec)||void 0===d?void 0:d.template)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.labels)&&(A.spec.template.metadata.labels=null===(h=null===(v=null===(g=t.spec)||void 0===g?void 0:g.template)||void 0===v?void 0:v.metadata)||void 0===h?void 0:h.labels),!i.a(null===(y=null===(f=null===(b=e.spec)||void 0===b?void 0:b.template)||void 0===f?void 0:f.spec)||void 0===y?void 0:y.containers)){A.spec.template.spec.containers=e.spec.template.spec.containers;const n=o.a(e.spec.template.spec.containers,{name:e.metadata.name});n>=0?A.spec.template.spec.containers[n]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[n]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[n].volumeMounts}):A.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(E=null==A?void 0:A.spec)||void 0===E?void 0:E.hasOwnProperty("strategy"))&&(A.spec.strategy=null!==(k=null===(O=t.spec)||void 0===O?void 0:O.strategy)&&void 0!==k?k:null===(j=e.spec)||void 0===j?void 0:j.strategy),(null===(S=A.spec)||void 0===S?void 0:S.triggers)&&(A.spec.triggers=t.spec.triggers),(null===(P=null===(T=t.spec)||void 0===T?void 0:T.source)||void 0===P?void 0:P.sourceSecret)||null===(w=null===(C=null==A?void 0:A.spec)||void 0===C?void 0:C.source)||void 0===w||delete w.sourceSecret,(null===(N=null===(I=null===(R=A.spec)||void 0===R?void 0:R.template)||void 0===I?void 0:I.spec)||void 0===N?void 0:N.hasOwnProperty("volumes"))&&(A.spec.template.spec.volumes=null===(_=null===(D=null===(x=e.spec)||void 0===x?void 0:x.template)||void 0===D?void 0:D.spec)||void 0===_?void 0:_.volumes),A},f=e=>{var t,n,a;return s.a(null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.metadata)||void 0===a?void 0:a.labels,(t,n,a)=>{var i,r;return(null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.hasOwnProperty(a))||(t[a]=n),t},{})}},5714:function(e,t,n){"use strict";var a=n(0),i=n(15),r=n(5662);t.a=({dataModelFactory:e})=>{const t=a.useContext(r.b),{id:n,priority:o,resources:s}=e,l=Object(i.De)(e.workloadKeys),c=a.useRef({priority:o,workloadKeys:l,resources:s});return a.useEffect(()=>{if(!t.getExtension(n)){c.current={priority:o,workloadKeys:l,resources:s},t.updateExtension(n,c.current);const{getDataModel:a,isResourceDepicted:i,getDataModelReconciler:r}=e;a?a().then(e=>{c.current.dataModelGetter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)}):(c.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,c.current)),i?i().then(e=>{c.current.dataModelDepicter=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)}):(c.current.dataModelDepicter=()=>!1,t.updateExtension(n,c.current)),r?r().then(e=>{c.current.dataModelReconciler=e,t.updateExtension(n,c.current)}).catch(()=>{c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current)}):(c.current.dataModelReconciler=()=>{},t.updateExtension(n,c.current))}},[t,e,n,o,s,l]),null}},5715:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(22),o=n(108),s=n(15),l=n(5662),c=n(5716),u=n(5718);t.a=Object(i.observer)(({trafficData:e})=>{const t=a.useContext(l.b),{namespace:n,extensionsLoaded:i,watchedResources:d}=t,[p,m]=a.useState(),g=Object(u.a)(n),v=a.useMemo(()=>n&&i?d:{},[i,d,n]),h=Object(s.Ce)(m,250),b=Object(o.b)(v);return a.useEffect(()=>h(b),[h,b]),a.useEffect(()=>{t.model=null},[n]),a.useEffect(()=>{r.a(p)||Object(c.a)(t,p,e,g).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,g]),null})},5716:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5717);const i=(e,t,n,i)=>{const{extensionsLoaded:r,watchedResources:o}=e;if(!r||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const s=Object.keys(t).find(e=>(e=>t[e].loadError&&!o[e].optional?t[e].loadError:"")(e));if(s)return Promise.resolve({loaded:!1,loadError:t[s].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&o[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const l=e.getWorkloadResources(t),c=e.dataModelDepicters;return e.getExtensionModels(t).then(r=>{const o=Object(a.a)(r,e.namespace,t,l,c,n,i);return e.reconcileModel(o,t),Promise.resolve({loaded:!0,loadError:"",model:o})})}},5717:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1401),i=n(15),r=n(2221),o=n(5589),s=n(5647);const l=(e,t)=>{const n=e.nodes.filter(({data:e})=>e.nodeType===r.y);return e.edges.reduce((e,{data:a})=>{const{data:i}=n.find(e=>e.data.id===a.source),{data:o}=n.find(e=>e.data.id===a.target),s=t.find(e=>e.metadata.name===i[i.nodeType]),l=t.find(e=>e.metadata.name===o[o.nodeType]);return s&&l?[...e,{id:`${s.metadata.uid}_${l.metadata.uid}`,type:r.x,source:s.metadata.uid,target:l.metadata.uid,data:a.traffic}]:e},[])},c=(e,t,n,c,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return o.a.forEach(n=>{var o,l;if(null===(l=null===(o=null==e?void 0:e[n])||void 0===o?void 0:o.data)||void 0===l?void 0:l.length){const o={nodes:[],edges:[]};e[n].data.forEach(t=>{const l=Object(i.yc)(n,t,e);if(l){const n=Object(s.c)(t,l,r.y,Object(a.d)("icon-openshift"),void 0,e);o.nodes.push(Object(s.h)(t,r.y,n,s.a)),Object(s.j)(Object(s.g)(t),o.nodes)}}),Object(s.b)(o,t)}}),t})(Object.assign(Object.assign({},n),{monitoringAlerts:p}));return Object(s.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var n,a;t.type===r.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(a=null===(n=t.children)||void 0===n?void 0:n.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==a?a:[])}),e.nodes=e.nodes.filter(e=>e.type!==r.u||e.children.length>0)})(e),((e,t)=>{t.forEach(n=>{e.edges.push(...Object(s.f)(n,t))})})(e,c),((e,t,n)=>{n&&e.edges.push(...l(n,t))})(e,c,d),e}},5718:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(5719),r=n(58),o=n(15);const s=e=>{const[t,n,s]=Object(i.a)({namespace:e}),l=a.useMemo(()=>{let e;return s||n||(e=Object(r.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!s,loadError:n}},[n,s,t]);return Object(o.De)(l)}},5719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(763),i=n(436);const r=({delay:e,namespace:t})=>{const n=Object(i.b)({endpoint:i.a.RULES,namespace:t});return Object(a.useURLPoll)(n,e,t)}},5720:function(e,t,n){"use strict";var a=n(5657);n.d(t,"a",(function(){return a.c}))},5723:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(141),i=n(225),r=n(22),o=n(5599),s=n(5790),l=n(5724);const c=(e,t)=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.failureThreshold&&{failureThreshold:a.a(e.failureThreshold)}),e.successThreshold&&{successThreshold:a.a(e.successThreshold)}),e.requestType===l.b.ContainerCommand&&{exec:e.exec}),e.requestType===l.b.HTTPGET&&{httpGet:Object.assign(Object.assign({},e[e.requestType]),{scheme:(null===(n=e[e.requestType])||void 0===n?void 0:n.scheme)?e[e.requestType].scheme[0]:"HTTP",port:t===o.k.KnativeService?0:a.a(e.httpGet.port)})}),e.requestType===l.b.TCPSocket&&{tcpSocket:{port:t===o.k.KnativeService?0:a.a(e.tcpSocket.port)}}),e.initialDelaySeconds&&{initialDelaySeconds:a.a(e.initialDelaySeconds)}),e.periodSeconds&&{periodSeconds:a.a(e.periodSeconds)}),e.timeoutSeconds&&{timeoutSeconds:a.a(e.timeoutSeconds)})},u=e=>{var t,n,a,r,o,s,c,u;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{requestType:(u=e,i.a(u,l.b.HTTPGET)?l.b.HTTPGET:i.a(u,l.b.TCPSocket)?l.b.TCPSocket:i.a(u,"exec.command")?l.b.ContainerCommand:""),failureThreshold:(null===(t=e.failureThreshold)||void 0===t?void 0:t.toString())||"",successThreshold:(null===(n=e.successThreshold)||void 0===n?void 0:n.toString())||"",initialDelaySeconds:(null===(a=e.initialDelaySeconds)||void 0===a?void 0:a.toString())||"",periodSeconds:(null===(r=e.periodSeconds)||void 0===r?void 0:r.toString())||"",timeoutSeconds:(null===(o=e.timeoutSeconds)||void 0===o?void 0:o.toString())||""}),e.httpGet&&{httpGet:Object.assign(Object.assign({},e.httpGet),{port:(null===(s=e.httpGet.port)||void 0===s?void 0:s.toString())||"",scheme:"HTTP"===e.httpGet.scheme?void 0:["HTTPS"]})}),e.tcpSocket&&{tcpSocket:{port:(null===(c=e.tcpSocket.port)||void 0===c?void 0:c.toString())||""}})},d=(e,t=0)=>{var n,a,i,o,c,d,p,m,g,v;const h=null!==(o=null===(i=null===(a=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers)&&void 0!==o?o:[],b=null!==(d=null===(c=null==h?void 0:h[t])||void 0===c?void 0:c[l.a.ReadinessProbe])&&void 0!==d?d:{},f=null!==(m=null===(p=null==h?void 0:h[t])||void 0===p?void 0:p[l.a.LivenessProbe])&&void 0!==m?m:{},y=null!==(v=null===(g=null==h?void 0:h[t])||void 0===g?void 0:g[l.a.StartupProbe])&&void 0!==v?v:{};return{readinessProbe:{showForm:!1,modified:!1,enabled:!r.a(b),data:r.a(b)?s.b.data:Object.assign({},u(b))},livenessProbe:{showForm:!1,modified:!1,enabled:!r.a(f),data:r.a(f)?s.b.data:Object.assign({},u(f))},startupProbe:{showForm:!1,modified:!1,enabled:!r.a(y),data:r.a(y)?s.b.data:Object.assign({},u(y))}}},p=(e,t)=>{const{readinessProbe:n,livenessProbe:a,startupProbe:i}=e;return Object.assign(Object.assign(Object.assign({},n.enabled?{readinessProbe:c(n.data,t)}:{}),a.enabled?{livenessProbe:c(a.data,t)}:{}),t!==o.k.KnativeService&&(null==i?void 0:i.enabled)?{startupProbe:c(i.data)}:{})}},5724:function(e,t,n){"use strict";var a,i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),function(e){e.ReadinessProbe="readinessProbe",e.LivenessProbe="livenessProbe",e.StartupProbe="startupProbe"}(a||(a={})),function(e){e.HTTPGET="httpGet",e.ContainerCommand="command",e.TCPSocket="tcpSocket"}(i||(i={}))},5725:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(5588);const i="#CREATE_PIPELINE_RESOURCE#",r={[a.o.git]:{params:{url:"",revision:""}},[a.o.image]:{params:{url:""}},[a.o.storage]:{params:{type:"",location:"",dir:""}},[a.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5727:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(31),o=n(53),s=n(518),l=n(15),c=n(5704);t.a=Object(r.connect)(e=>({namespace:Object(s.d)(e),application:Object(s.c)(e)}),e=>({onChange:t=>{e(Object(o.k)(t))}}))(({namespace:e,application:t,onChange:n,disabled:r})=>{const{t:o}=Object(i.useTranslation)(),s=o("topology~All applications"),u=o("topology~No application group"),d=t===l.b?s:t===l.mc?u:t,[p,m]=a.useState(d);if(a.useEffect(()=>{r||m(d)},[r,d]),e===l.c)return null;return a.createElement(c.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&a.createElement("span",{className:"btn-link__title"},p),titlePrefix:o("topology~Application"),allSelectorItem:{allSelectorKey:l.b,allSelectorTitle:s},noneSelectorItem:{noneSelectorKey:l.mc,noneSelectorTitle:u},selectedKey:t||l.b,onChange:(e,t)=>{t===l.b?n(t):n(e)},userSettingsPrefix:l.f,storageKey:l.e,disabled:r})})},5728:function(e,t,n){},5729:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(5731);const i={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:a.a,apiVersion:"v1alpha1",kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},r={id:"buildstrategy",plural:"buildstrategies",apiGroup:a.a,apiVersion:"v1alpha1",kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},o={id:"build",plural:"builds",apiGroup:a.a,apiVersion:"v1alpha1",kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},s={id:"buildrun",plural:"buildruns",apiGroup:a.a,apiVersion:"v1alpha1",kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"},l={id:"clusterbuildstrategy",plural:"clusterbuildstrategies",apiGroup:a.a,apiVersion:a.b,kind:"ClusterBuildStrategy",namespaced:!1,crd:!0,label:"ClusterBuildStrategy",labelKey:"shipwright-plugin~ClusterBuildStrategy",labelPlural:"ClusterBuildStrategies",labelPluralKey:"shipwright-plugin~ClusterBuildStrategies",abbr:"CBS"},c={id:"buildstrategy",plural:"buildstrategies",apiGroup:a.a,apiVersion:a.b,kind:"BuildStrategy",namespaced:!0,crd:!0,label:"BuildStrategy",labelKey:"shipwright-plugin~BuildStrategy",labelPlural:"BuildStrategies",labelPluralKey:"shipwright-plugin~BuildStrategies",abbr:"BS"},u={id:"build",plural:"builds",apiGroup:a.a,apiVersion:a.b,kind:"Build",namespaced:!0,crd:!0,label:"Build",labelKey:"shipwright-plugin~Build",labelPlural:"Builds",labelPluralKey:"shipwright-plugin~Builds",abbr:"B"},d={id:"buildrun",plural:"buildruns",apiGroup:a.a,apiVersion:a.b,kind:"BuildRun",namespaced:!0,crd:!0,label:"BuildRun",labelKey:"shipwright-plugin~BuildRun",labelPlural:"BuildRuns",labelPluralKey:"shipwright-plugin~BuildRuns",abbr:"BR"}},5730:function(e,t,n){"use strict";var a=n(0),i=n(6024),r=n(5585);t.a=({id:e,dx:t=0,dy:n=1,stdDeviation:o=2,floodColor:s=i.global_palette_black_1000.value,floodOpacity:l=.2})=>window.navigator.userAgent.includes("Edge")?a.createElement(r.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*o}%`,y:`-${12.5*o}%`,width:100+25*o+"%",height:100+25*o+"%"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:o}),a.createElement("feOffset",{dx:t,dy:n,result:"offsetblur"}),a.createElement("feFlood",{floodColor:s,floodOpacity:l}),a.createElement("feComposite",{in2:"offsetblur",operator:"in"}),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"})))):a.createElement(r.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*o}%`,y:`-${12.5*o}%`,width:100+25*o+"%",height:100+25*o+"%"},a.createElement("feDropShadow",{dx:t,dy:n,stdDeviation:o,floodColor:s,floodOpacity:l})))},5731:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l}));const a="shipwright.io",i="v1beta1",r="build.shipwright.io/name",o="app.kubernetes.io/instance",s="image-registry.openshift-image-registry.svc:5000",l="quay.io"},5732:function(e,t,n){},5760:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var a=n(7134),i=n(2328),r=n(7116),o=n(50),s=n(10),l=n(8),c=n(1415),u=n(5586),d=n(5687);const p=e=>a.a(e,e=>i.a(e)||r.a(e)||""===e),m=(e,t,n,a)=>{const i=`${t}-${Object(c.d)(6)}`,r={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:i,namespace:n},spec:Object.assign({type:t,params:Object(d.a)(p(e))},a&&{secrets:o.a(a.data,(e,t)=>({fieldName:t,secretKey:t,secretName:a.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,r)},g=(e,t,n)=>{const a={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:n},stringData:p(e)};return Object(l.jb)(s.SecretModel,a)}},5774:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(1401),o=n(5730);const s="SvgTypedIconDropShadowFilterId";t.a=a.forwardRef(({className:e,x:t,y:n,width:l,height:c,iconClass:u,icon:d,padding:p=4},m)=>{const[g,v]=Object(i.useSize)([]);let h=0,b=0;return g&&({width:h,height:b}=g),a.createElement("g",{className:e},a.createElement(o.a,{id:s}),a.createElement("circle",{key:"circle-"+s,ref:m,filter:Object(i.createSvgIdUrl)(s),cx:t-h/2,cy:n+b/2,r:h/2+p}),d?a.createElement("g",{ref:v},a.createElement("foreignObject",{key:"image-"+s,x:t-h+4,y:n,width:l,height:c},d)):a.createElement("g",{ref:v},a.createElement("image",{key:"image-"+s,x:t-h,y:n,width:l,height:c,xlinkHref:Object(r.d)(u)||u,filter:Object(i.createSvgIdUrl)(s)})))})},5778:function(e,t,n){"use strict";var a=n(0);t.a=({style:e,topology:t})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t?"0 20 650 587":"0 20 650 450",fill:"currentColor","aria-hidden":"true",role:"img",width:"1em",height:"1em",style:e},a.createElement("path",{d:"m395.9 484.2-126.9-61c-12.5-6-17.9-21.2-11.8-33.8l61-126.9c6-12.5 21.2-17.9 33.8-11.8 17.2 8.3 27.1 13 27.1 13l-.1-109.2 16.7-.1.1 117.1s57.4 24.2 83.1 40.1c3.7 2.3 10.2 6.8 12.9 14.4 2.1 6.1 2 13.1-1 19.3l-61 126.9c-6.2 12.7-21.4 18.1-33.9 12z",style:{fill:"#fff"}}),a.createElement("path",{d:"M622.7 149.8c-4.1-4.1-9.6-4-9.6-4s-117.2 6.6-177.9 8c-13.3.3-26.5.6-39.6.7v117.2c-5.5-2.6-11.1-5.3-16.6-7.9 0-36.4-.1-109.2-.1-109.2-29 .4-89.2-2.2-89.2-2.2s-141.4-7.1-156.8-8.5c-9.8-.6-22.5-2.1-39 1.5-8.7 1.8-33.5 7.4-53.8 26.9C-4.9 212.4 6.6 276.2 8 285.8c1.7 11.7 6.9 44.2 31.7 72.5 45.8 56.1 144.4 54.8 144.4 54.8s12.1 28.9 30.6 55.5c25 33.1 50.7 58.9 75.7 62 63 0 188.9-.1 188.9-.1s12 .1 28.3-10.3c14-8.5 26.5-23.4 26.5-23.4S547 483 565 451.5c5.5-9.7 10.1-19.1 14.1-28 0 0 55.2-117.1 55.2-231.1-1.1-34.5-9.6-40.6-11.6-42.6zM125.6 353.9c-25.9-8.5-36.9-18.7-36.9-18.7S69.6 321.8 60 295.4c-16.5-44.2-1.4-71.2-1.4-71.2s8.4-22.5 38.5-30c13.8-3.7 31-3.1 31-3.1s7.1 59.4 15.7 94.2c7.2 29.2 24.8 77.7 24.8 77.7s-26.1-3.1-43-9.1zm300.3 107.6s-6.1 14.5-19.6 15.4c-5.8.4-10.3-1.2-10.3-1.2s-.3-.1-5.3-2.1l-112.9-55s-10.9-5.7-12.8-15.6c-2.2-8.1 2.7-18.1 2.7-18.1L322 273s4.8-9.7 12.2-13c.6-.3 2.3-1 4.5-1.5 8.1-2.1 18 2.8 18 2.8L467.4 315s12.6 5.7 15.3 16.2c1.9 7.4-.5 14-1.8 17.2-6.3 15.4-55 113.1-55 113.1z",style:{fill:"currentColor"}}),a.createElement("path",{d:"M326.8 380.1c-8.2.1-15.4 5.8-17.3 13.8-1.9 8 2 16.3 9.1 20 7.7 4 17.5 1.8 22.7-5.4 5.1-7.1 4.3-16.9-1.8-23.1l24-49.1c1.5.1 3.7.2 6.2-.5 4.1-.9 7.1-3.6 7.1-3.6 4.2 1.8 8.6 3.8 13.2 6.1 4.8 2.4 9.3 4.9 13.4 7.3.9.5 1.8 1.1 2.8 1.9 1.6 1.3 3.4 3.1 4.7 5.5 1.9 5.5-1.9 14.9-1.9 14.9-2.3 7.6-18.4 40.6-18.4 40.6-8.1-.2-15.3 5-17.7 12.5-2.6 8.1 1.1 17.3 8.9 21.3 7.8 4 17.4 1.7 22.5-5.3 5-6.8 4.6-16.3-1.1-22.6 1.9-3.7 3.7-7.4 5.6-11.3 5-10.4 13.5-30.4 13.5-30.4.9-1.7 5.7-10.3 2.7-21.3-2.5-11.4-12.6-16.7-12.6-16.7-12.2-7.9-29.2-15.2-29.2-15.2s0-4.1-1.1-7.1c-1.1-3.1-2.8-5.1-3.9-6.3 4.7-9.7 9.4-19.3 14.1-29-4.1-2-8.1-4-12.2-6.1-4.8 9.8-9.7 19.7-14.5 29.5-6.7-.1-12.9 3.5-16.1 9.4-3.4 6.3-2.7 14.1 1.9 19.8l-24.6 50.4z",style:{fill:"currentColor"}}))},5781:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return y}));var a=n(0),i=n(4436),r=n(655),o=n(313),s=n(367),l=n(50),c=n(599),u=n(5797),d=n(5804),p=n(7),m=n(99),g=n(693),v=n(139);const h=(e,t)=>`${e}:${t}`,b=({tag:e,imageStreamName:t,imageStreamNamespace:n,linkToTag:r})=>{const o=i.a(e.dockerImageReference,"@");return a.createElement(a.Fragment,null,a.createElement("li",null,a.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},a.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},a.createElement(u.a,null)),a.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},a.createElement(g.Timestamp,{timestamp:e.created,simple:!0}))),a.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},a.createElement("span",{className:"co-images-stream-tag-timeline__line"}),a.createElement("div",{className:"co-images-stream-tag-timeline__info"},a.createElement(m.ResourceLink,{kind:"ImageStreamTag",name:h(t,e.tag),namespace:n,title:e.tag,linkTo:r}),a.createElement("div",{className:"co-break-all"},"from ",o[0]),a.createElement("div",{className:"co-break-all"},o[1])))))},f=(e,t,n)=>t===r.a(n,t=>t.tag===e),y=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:n})=>{const{t:i}=Object(p.useTranslation)();if(!o.a(e,"items"))return a.createElement(v.c,{label:i("public~Images")});const r=s.a(l.a(e,({tag:e,items:t})=>l.a(t,({created:t,dockerImageReference:n})=>({tag:e,created:t,dockerImageReference:n})))),u=c.a(r,["created"],["desc"]),m=l.a(u,(e,i)=>a.createElement(b,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:n,linkToTag:f(e.tag,i,u)}));return a.createElement(a.Fragment,null,a.createElement("ul",{className:"co-images-stream-tag-timeline"},m,a.createElement("div",null,a.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},a.createElement(d.a,null)))))}},5786:function(e,t,n){"use strict";var a,i;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),function(e){e.PENDING="Pending",e.RUNNING="Running",e.SUCCEEDED="Succeeded",e.FAILED="Failed",e.UNKNOWN="Unknown"}(a||(a={})),function(e){e.BUILDAH="buildah",e.S2I="source-to-image",e.UNKNOWN="unknown"}(i||(i={}));const r={[i.BUILDAH]:"shipwright-plugin~Buildah",[i.S2I]:"shipwright-plugin~Source-to-Image",[i.UNKNOWN]:"shipwright-plugin~Unknown"}},5790:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=n(5724);const i=(e,t)=>{switch(e){case a.a.ReadinessProbe:return{formTitle:t("devconsole~Readiness probe"),formSubtitle:t("devconsole~A readiness probe checks if the Container is ready to handle requests. A failed readiness probe means that a Container should not receive any traffic from a proxy, even if it's running.")};case a.a.LivenessProbe:return{formTitle:t("devconsole~Liveness probe"),formSubtitle:t("devconsole~A liveness probe checks if the Container is still running. If the liveness probe fails the Container is killed.")};case a.a.StartupProbe:return{formTitle:t("devconsole~Startup probe"),formSubtitle:t("devconsole~A startup probe checks if the application within the Container is started. If the startup probe fails the Container is killed.")};default:return}},r={showForm:!1,enabled:!1,modified:!1,data:{failureThreshold:"3",requestType:a.b.HTTPGET,httpGet:{scheme:void 0,path:"/",port:"8080",httpHeaders:[]},tcpSocket:{port:"8080"},exec:{command:[""]},initialDelaySeconds:"0",periodSeconds:"10",timeoutSeconds:"1",successThreshold:"1"}},o={readinessProbe:r,livenessProbe:r,startupProbe:r}},5834:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return j})),n.d(t,"m",(function(){return T})),n.d(t,"o",(function(){return P})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return R})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return A})),n.d(t,"n",(function(){return F})),n.d(t,"j",(function(){return B})),n.d(t,"l",(function(){return U})),n.d(t,"k",(function(){return M}));var a=n(5654),i=n(5585),r=n(367),o=n(547),s=n(926),l=n(4425),c=n(359),u=n(5595),d=n(5635),p=n(5623),m=n(5676),g=n(6284);const v=(e,t,n)=>(a,i)=>Object.assign(Object.assign({id:a,label:(null==i?void 0:i.label)||a,runAfterTasks:(null==i?void 0:i.runAfterTasks)||[]},i&&{data:i}),{height:null!=n?n:m.u,width:null!=t?t:m.x,type:e}),h=v(m.y.TASK_NODE),b=v(m.y.CUSTOM_TASK_NODE),f=v(m.y.SPACER_NODE,0),y=v(m.y.TASK_LIST_NODE),E=v(m.y.INVALID_TASK_LIST_NODE),O=v(m.y.BUILDER_NODE),k=v(m.y.LOADING_NODE),j=(e,t)=>v(m.y.BUILDER_FINALLY_NODE,t,e),S=(e,t)=>v(e,t.width,t.height)(t.id,t),T=e=>{const t=e.reduce((e,t,n)=>{const{data:{task:{runAfter:a}}}=t;if(a&&a.length>1){const i=[...a].sort((e,t)=>e.localeCompare(t)).reduce((e,t)=>`${e}|${t}`);Array.isArray(e[i])||(e[i]=[]),e[i].push({node:t,runAfter:a,atIndex:n})}return e},{}),n=Object.values(t).filter(e=>e.length>1);if(0===n.length)return e;const a=[],i={};return n.forEach(e=>{const{runAfter:t}=e[0],n=e.map(e=>e.node.id),r="parallel-"+n.join("-");n.forEach(e=>{Array.isArray(i[e])||(i[e]=[]),i[e].push(r)}),a.push(f(r,{task:{name:r,runAfter:t}}))}),e.forEach(e=>{const t=i[e.id];if(t&&t.length>0){const{data:{task:n},type:i}=e,r=(e=>{switch(e){case m.y.TASK_LIST_NODE:return y;case m.y.BUILDER_NODE:return O;case m.y.SPACER_NODE:return f;case m.y.LOADING_NODE:return k;case m.y.INVALID_TASK_LIST_NODE:return E;case m.y.CUSTOM_TASK_NODE:return b;case m.y.TASK_NODE:default:return h}})(i);a.push(r(e.id,Object.assign(Object.assign({},e.data),{task:Object.assign(Object.assign({},n),{runAfter:t})})))}else a.push(e)}),a},P=(e,t,n,a,i)=>e.map((e,r)=>O(e.name,{error:a(r),task:e,selected:i.includes(e.name),onNodeSelection:()=>{n(e)},onAddNode:n=>{t(e,n)}})),C=e=>r.a(e.map(e=>{const{data:{task:{name:t,runAfter:n=[]}}}=e;return 0===n.length?null:n.map(e=>({id:`${e}~to~${t}`,type:"edge",source:e,target:t}))})).filter(e=>!!e),w=(e,t)=>e*m.u+(e-1)*m.r+(t?0:m.u+m.r)+2*m.q,R=e=>{const t=e>0?m.B:0;return m.x+2*m.q+t},I=e=>{const t=o.a(e.reduce((e,{data:{task:{runAfter:t}}})=>t?e.concat(t):e,[]));return s.a(e.map(e=>e.id),t)},N=(e,t="0.8rem RedHatText")=>{if(!e||0===e.length)return 0;const n=document.createElement("canvas").getContext("2d");if(!n)return e.length;n.font=t;const{width:a}=n.measureText(e);return a},x=e=>{const t=/(?:(?:\$\(tasks.))([a-z0-9_-]+)(?:.results+)(?:[.^\w]+\))/g;let n;const a=[];for(;null!==(n=t.exec(e));)n.index===t.lastIndex&&t.lastIndex++,n&&(a.includes(n[1])||a.push(n[1]));return a},D=e=>Object.assign(Object.assign({},e),{height:1,width:1}),_=e=>{var t;if(e.when)return(e=>{switch(e){case i.RunStatus.Succeeded:case i.RunStatus.Failed:return i.WhenStatus.Met;case i.RunStatus.Skipped:case i.RunStatus["In Progress"]:case i.RunStatus.Idle:return i.WhenStatus.Unmet;default:return}})(null===(t=e.status)||void 0===t?void 0:t.reason)},A=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a,s;if(!e)return null;const c=r.a(Object(p.p)(e,t,n)),u=new g.a;null==c||c.forEach(e=>{u.addEdges(e.name,e,"",e.runAfter||[])});const d=[],v={};u.topologicalSort(e=>{v[e.level]?v[e.level]=Math.max(v[e.level],N(e.name)):v[e.level]=N(e.name)}),u.topologicalSort(n=>{var a,r,s,c,p;const g=[],h=n.data,b=[];h.params&&h.params.forEach(e=>{Array.isArray(e.value)?e.value.forEach(e=>{b.push(...x(e))}):b.push(...x(e.value))}),(null==h?void 0:h.when)&&h.when.forEach(({input:e,values:t})=>{t&&(b.push(...x(e)),t.forEach(e=>{b.push(...x(e))}))});const f=o.a([...n.dependancyNames]);if(f&&f.forEach(e=>{var t;const a=u.vertices.get(e);(a.level-n.level<=1||(null===(t=n.data.runAfter)||void 0===t?void 0:t.includes(a.name)))&&g.push(e)}),b.length>0){const e=b.map(e=>u.vertices.get(e)),t=l.a(e,e=>e.level);e.filter(e=>e.level===t.level).forEach(e=>{n.dependancyNames.includes(e.name)&&(e.level-n.level<=1||0===n.dependancyNames.length)&&g.push(e.name)})}const y=(null===(a=Object.keys(t.spec))||void 0===a?void 0:a.length)>0?m.i:0,E=null===(s=null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.skippedTasks)||void 0===s?void 0:s.some(e=>e.name===h.name);var O;d.push(S((O=null===(c=null==h?void 0:h.taskRef)||void 0===c?void 0:c.kind)&&"Task"!==O&&"ClusterTask"!==O?m.y.CUSTOM_TASK_NODE:m.y.TASK_NODE,{id:n.name,label:n.name,width:v[n.level]+2*m.v+m.l+y,runAfterTasks:g,status:E?i.RunStatus.Skipped:null===(p=n.data.status)||void 0===p?void 0:p.reason,whenStatus:_(n.data),task:n.data,pipeline:e,pipelineRun:t}))});const h=Object(p.c)(e,t,n,!0),b=(null===(a=h.sort((e,t)=>t.name.length-e.name.length)[0])||void 0===a?void 0:a.name)||"",f=h.map(n=>{var a,r,o;const s=null===(r=null===(a=null==t?void 0:t.status)||void 0===a?void 0:a.skippedTasks)||void 0===r?void 0:r.some(e=>e.name===n.name);return S(m.y.FINALLY_NODE,{id:n.name,label:n.name,width:N(b)+2*m.v+2*m.j,height:m.k,runAfterTasks:[],status:s?i.RunStatus.Skipped:null===(o=n.status)||void 0===o?void 0:o.reason,whenStatus:_(n),task:n,pipeline:e,pipelineRun:t})}),y=f.length?[{id:"finally-group-id",type:m.y.FINALLY_GROUP,children:f.map(e=>e.id),group:!0,style:{padding:m.j}}]:[],E=Object(i.getSpacerNodes)([...d,...f],m.y.SPACER_NODE,[m.y.FINALLY_NODE]).map(D),O=Object(i.getEdgesFromNodes)([...d,...E,...f],m.y.SPACER_NODE,m.y.EDGE,m.y.EDGE,[m.y.FINALLY_NODE],m.y.EDGE);return{graph:{id:((null===(s=null==t?void 0:t.metadata)||void 0===s?void 0:s.name)||e.metadata.name)+"-graph",type:i.ModelKind.graph,layout:m.z.DAGRE_VIEWER,scaleExtent:[.5,1]},nodes:[...d,...E,...f,...y],edges:O}},L=e=>{var t;return(null===(t=null==e?void 0:e.when)||void 0===t?void 0:t.length)>0},F=e=>e.some(e=>L(e.data.task)),B=e=>{switch(e){case m.z.DAGRE_BUILDER:return m.e;case m.z.DAGRE_VIEWER:return m.g;case m.z.DAGRE_VIEWER_SPACED:return m.h;case m.z.DAGRE_BUILDER_SPACED:return m.f;default:return null}},U=(e,t,n)=>{let i,r;switch(i=t?e===u.a.Failed?a.chart_color_green_400.value:Object(d.f)(e).pftoken.value:n?"var(--pf-v5-global--BackgroundColor--light-100)":"var(--pf-v5-global--BackgroundColor--200)",e){case u.a.Succeeded:case u.a.Failed:r=c.a.t("pipelines-plugin~When expression was met");break;case u.a.Skipped:r=c.a.t("pipelines-plugin~When expression was not met");break;default:r=c.a.t("pipelines-plugin~When expression")}return{tooltipContent:r,diamondColor:i}},M=e=>{switch(e){case u.a.Succeeded:case u.a.Failed:return c.a.t("pipelines-plugin~When expression was met");case u.a.Skipped:return c.a.t("pipelines-plugin~When expression was not met");default:return c.a.t("pipelines-plugin~When expression")}}},5837:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),i=n(5586),r=n(5588),o=n(5760),s=n(5725),l=n(5687),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:n}=e,a=n.reduce((e,t,n)=>t.selection===s.a?Object.assign(Object.assign({},e),{[n]:t}):e,{}),i=yield Promise.all(Object.values(a).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:n,secrets:a,type:i}}=e;return a?Object(o.b)(a,i,t).then(e=>Object(o.a)(n,i,t,e)):Object(o.a)(n,i,t)})))(e,t)));if(!i||0===i.length)return e;const r=Object.keys(a);return Object.assign(Object.assign({},e),{resources:n.map((e,t)=>{if(a[t]){const n=r.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:i[n].metadata.name})}return e})})})),d=(e,t,n,o)=>c(void 0,void 0,void 0,(function*(){let s=e;s=yield u(s),s=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==r.x.NoWorkspace)}):e})(s);const c=yield Object(a.jb)(i.PipelineRunModel,Object(l.e)(t,s,n,o));return Promise.resolve(c)}))},5842:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);const i=a.createContext(void 0)},5849:function(e,t,n){"use strict";n.d(t,"f",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"d",(function(){return U})),n.d(t,"b",(function(){return G})),n.d(t,"e",(function(){return K})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return W}));var a=n(5596),i=n(599),r=n(22),o=n(117),s=n(225),l=n(16),c=n(313),u=n(5591),d=n(974),p=n(4359),m=n(5),g=n(10),v=n(8),h=n(1402),b=n(5898),f=n(5620),y=n(5850),E=n(5588),O=n(5909),k=n(5944),j=n(5653),S=n(5623),T=n(197),P=n(1941),C=n(5731),w=n(5729),R=n(2221),I=n(761),N=n(5711),x=n(5910),D=n(5723),_=n(5599),A=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const L=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},F=e=>{const t={metadata:{name:e.name},displayName:e.displayName,description:e.description};return Object(v.jb)(g.ProjectRequestModel,t)},B=(e,t,n,a,o="create",s="")=>{var l,c,u,d;const{name:p,project:{name:m},application:{name:h},labels:b,image:{tag:f},labels:y}=e,E="app.kubernetes.io/name",O=null===(l=e.git)||void 0===l?void 0:l.url,k=null===(c=e.git)||void 0===c?void 0:c.ref,j=null===(d=null===(u=null==a?void 0:a.imageStream)||void 0===u?void 0:u.data)||void 0===d?void 0:d.filter(e=>{var t,n;return(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[E])===(y[E]||p)}),S=i.a(j,["metadata.resourceVersion"],["desc"]),T=S.length&&S[0]||{},P=t&&t.metadata.name,C=Object(N.a)({name:p,applicationName:h,imageStreamName:P,selectedTag:f}),w=Object.assign(Object.assign({},O&&Object(N.c)(O,k)),Object(N.b)()),R="update"!==o||r.a(T)?p:T.metadata.labels[E],I={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:s||R,namespace:m,labels:Object.assign(Object.assign(Object.assign({},C),b),{[E]:R}),annotations:w}},D=Object(N.h)(T,I);return"update"===o&&(D.metadata.name=T.metadata.name),"update"===o?Object(v.rb)(g.ImageStreamModel,D):Object(v.jb)(g.ImageStreamModel,I,n?x.c:{})},U=(e,t,n,a)=>{const{name:i,application:{name:r},project:{name:o},image:{tag:s},labels:l}=e,c=t&&t.metadata.name,u=Object(N.a)({name:i,applicationName:r,imageStreamName:c,selectedTag:s}),d={apiVersion:"v1",data:{},kind:"Secret",metadata:{name:`${i}-${n}-webhook-secret`,namespace:o,labels:Object.assign(Object.assign({},u),l)},stringData:{WebHookSecretKey:L()},type:p.SecretType.opaque};return Object(v.jb)(g.SecretModel,d,a?x.c:{})},M=(e,t,n,a,i="create",o="")=>{var s,l,c;const{name:d,project:{name:p},application:{name:m},git:{url:h,type:b,ref:f="master",dir:y,secret:E},docker:{dockerfilePath:O},image:{tag:k,imageEnv:j},build:{env:S,triggers:T,strategy:P},labels:C}=e,w=t&&t.metadata.name,R=t&&t.metadata.namespace,I=Object(N.a)({name:d,applicationName:m,imageStreamName:w,selectedTag:k}),D=Object.assign(Object.assign({},Object(N.c)(h,f)),Object(N.b)());let A,L=y;const F=j?Object.keys(j):[],B=F.filter(e=>!!j[e]).map(e=>({name:e,value:j[e]})),U=S.filter(e=>!F.includes(e.name));switch(P){case"Devfile":A=(null===(s=null==a?void 0:a.spec)||void 0===s?void 0:s.strategy)||{dockerStrategy:{env:S,dockerfilePath:O}},L=(null===(c=null===(l=null==a?void 0:a.spec)||void 0===l?void 0:l.source)||void 0===c?void 0:c.contextDir)||y;break;case"Docker":A={dockerStrategy:{env:S,dockerfilePath:O}};break;default:A={sourceStrategy:{env:[...B,...U],from:{kind:"ImageStreamTag",name:`${w}:${k}`,namespace:R}}}}const M={type:_.c[b],[b]:{secretReference:{name:`${d}-${b}-webhook-secret`}}},$=[u.b.UNSURE,u.b.GITEA],G="update"!==i||r.a(a)?d:a.metadata.labels["app.kubernetes.io/name"],K={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:o||G,namespace:p,labels:Object.assign(Object.assign(Object.assign({},I),C),{"app.kubernetes.io/name":G}),annotations:D},spec:{output:{to:{kind:"ImageStreamTag",name:(o||G)+":latest"}},source:Object.assign({contextDir:L,git:{uri:h,ref:f}},E?{sourceSecret:{name:E}}:{}),strategy:Object.assign({type:P},A),triggers:[{type:"Generic",generic:{secretReference:{name:d+"-generic-webhook-secret"}}},...T.webhook&&!$.includes(b)?[M]:[],...T.image?[{type:"ImageChange",imageChange:{}}]:[],...T.config?[{type:"ConfigChange"}]:[]]}},V=Object(N.h)(a,K);return"update"===i&&(V.metadata.name=a.metadata.name),"update"===i?Object(v.rb)(g.BuildConfigModel,V):Object(v.jb)(g.BuildConfigModel,K,n?x.c:{})},$=(e,t,n,a,i="create")=>{var r;const{name:o,project:{name:s},application:{name:l},image:{ports:c,tag:u},deployment:{env:d,replicas:p,triggers:{image:m}},labels:h,limits:{cpu:b,memory:f},git:{url:y,ref:E},healthChecks:O}=e,k=t&&t.metadata.name,j=t&&(null===(r=t.metadata.labels)||void 0===r?void 0:r[I.s]),S=Object(N.a)({name:o,applicationName:l,imageStreamName:k,selectedTag:u,runtimeIcon:j}),P=o,C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(N.b)()),Object(N.c)(y,E)),Object(N.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(N.g)(o,P,s,m)),w=Object(N.d)(_.k.Kubernetes,o),R=Object(N.f)(a),A={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:o,namespace:s,labels:Object.assign(Object.assign({},S),h),annotations:C},spec:{selector:{matchLabels:{app:o}},replicas:p,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},R),h),w)},spec:{containers:[Object.assign({name:o,image:o+":latest",ports:c,env:d,resources:Object(T.H)({cpu:b,memory:f})},Object(D.b)(O))]}}}},L=Object(N.h)(a,A);return"update"===i?Object(v.rb)(g.DeploymentModel,L):Object(v.jb)(g.DeploymentModel,L,n?x.c:{})},G=(e,t,n,i,c=!1,u="create",p)=>A(void 0,void 0,void 0,(function*(){var m,P,R,L,G,K,V,H,q,z,W,J,Y,X,Z,Q,ee,te,ne;const{name:ae,project:{name:ie},route:{create:re,disable:oe},image:{ports:se},build:{strategy:le,triggers:{webhook:ce},option:ue},deployment:{triggers:{image:de}},git:{url:pe,type:me,ref:ge},pipeline:ve,resources:he}=t,be=l.a(n,"metadata.name"),fe=null!==(K=null===(G=null===(L=null===(R=null===(P=null===(m=null==p?void 0:p.buildConfig)||void 0===m?void 0:m.data)||void 0===P?void 0:P.spec)||void 0===R?void 0:R.source)||void 0===L?void 0:L.git)||void 0===G?void 0:G.uri)&&void 0!==K?K:null===(W=null===(z=null===(q=null===(H=null===(V=null==p?void 0:p.pipeline)||void 0===V?void 0:V.data)||void 0===H?void 0:H.spec)||void 0===q?void 0:q.params)||void 0===z?void 0:z.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===W?void 0:W.default;i&&(yield F(t.project));const ye=[];let Ee="";if(he===_.k.KnativeService&&fe&&fe!==pe&&(Ee=`${ae}-${Object(T.D)()}`),le===d.BuildStrategyType.Devfile){if("create"!==u)throw new Error(e("devconsole~Cannot update Devfile resources"));return((e,t,n,a="")=>A(void 0,void 0,void 0,(function*(){const{name:i,project:{name:r},devfile:{devfileSuggestedResources:o,devfileProjectType:s}}=e,l=Object.keys(o).reduce((e,t)=>{var n,a;const l=o[t];return l?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},l),{metadata:Object.assign(Object.assign({},l.metadata),{annotations:Object.assign(Object.assign({},null===(n=l.metadata)||void 0===n?void 0:n.annotations),{isFromDevfile:"true"}),name:i,namespace:r,labels:Object.assign(Object.assign({},null===(a=l.metadata)||void 0===a?void 0:a.labels),s?{[I.s]:s}:{})})})}):e},{}),c=yield B(e,l.imageStream,t,n,"create",a),u=yield M(e,l.imageStream,t,l.buildResource,"create",a),d=yield U(e,l.imageStream,"generic",t),p=yield $(e,l.imageStream,t,l.deployResource,"create"),m=l.service&&(yield Object(v.jb)(g.ServiceModel,Object(x.b)(e,l.imageStream,l.service),t?x.c:{})),h=l.route&&(yield Object(v.jb)(g.RouteModel,Object(x.a)(e,l.imageStream,l.route),t?x.c:{})),b=[c,u,d,p];return m&&b.push(m),h&&b.push(h),b})))(t,c,p,Ee)}if(ve.type===f.a.PAC&&(null===(J=null==t?void 0:t.pipeline)||void 0===J?void 0:J.enabled)){const e=null===(Y=null==t?void 0:t.pac)||void 0===Y?void 0:Y.repository,n=null==t?void 0:t.labels,a=yield Object(j.b)(e,ie,n,c);ye.push(a)}const Oe=yield B(t,n,c,p,Ee?"create":u,Ee);if(ye.push(Oe),ve.enabled&&ve.type!==f.a.PAC){if(!c){const e=yield((e,t)=>A(void 0,void 0,void 0,(function*(){var n,i;const l=[];if(!e)return Promise.resolve([]);const{name:c,git:u,pipeline:d,project:p,docker:m,image:h,build:b,labels:f}=e;let j;const T=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.name;if(r.a(t)||T!==c){if(d.template){j=yield Object(y.a)(c,p.name,u.url,u.ref,u.dir,d,m.dockerfilePath,h.tag,b.env,f),l.push(j);try{const e=yield Object(O.a)(j,u.detectedType);l.push(...e)}catch(e){console.warn("Error occured while creating triggers",e)}}}else j=yield Object(y.d)(t,d.template,c,p.name,u.url,u.ref,u.dir,m.dockerfilePath,h.tag,b.env,f);if(u.secret){const e=yield Object(v.kb)(g.SecretModel,u.secret,p.name),t=a(u.url);e.metadata.annotations=Object(S.s)({key:"git",value:"ssh"===t.protocol?t.resource:`${t.protocol}://${t.resource}`},e.metadata.annotations),yield Object(v.rb)(g.SecretModel,e,p.name);const n=yield Object(v.kb)(g.ServiceAccountModel,E.l,p.name);void 0===o.a(n.secrets,e=>e.name===u.secret)&&(yield Object(S.B)(u.secret,n,!1))}if(s.a(null===(i=null==j?void 0:j.metadata)||void 0===i?void 0:i.labels,"app.kubernetes.io/instance"))try{const e=yield Object(y.b)(j);l.push(e)}catch(e){console.log("Failed to create PipelineRun for import flow",e),Object(k.c)(j.metadata.name,j.metadata.namespace)}return Promise.all(l)})))(t,null===(X=null==p?void 0:p.pipeline)||void 0===X?void 0:X.data);ye.push(...e)}}else ue===_.a.BUILDS?ye.push(yield M(t,n,c,null===(Z=null==p?void 0:p.buildConfig)||void 0===Z?void 0:Z.data,Ee?"create":u,Ee)):ue===_.a.SHIPWRIGHT_BUILD&&ye.push(yield((e,t,n,a,i="create",o="")=>{var s;const{name:l,project:{name:c},application:{name:u},git:{url:p,ref:m="master",dir:g,secret:h},docker:{dockerfilePath:b},image:{tag:f,imageEnv:y},build:{env:E,strategy:O,clusterBuildStrategy:k},labels:j}=e,S=t&&t.metadata.name,T=t&&(null===(s=t.status)||void 0===s?void 0:s.dockerImageRepository),P=Object(N.a)({name:l,applicationName:u,imageStreamName:S,selectedTag:f}),R=Object.assign(Object.assign({},Object(N.c)(p,m)),Object(N.b)()),I=y?Object.keys(y):[],D=I.filter(e=>!!y[e]).map(e=>({name:e,value:y[e]})),_=E.filter(e=>!I.includes(e.name));let A=[];switch(O){case d.BuildStrategyType.Docker:A=[{name:"dockerfile",value:b}];break;case d.BuildStrategyType.Source:A=[{name:"builder-image",value:`${T}:${f}`}]}const L="update"!==i||r.a(a)?l:a.metadata.labels["app.kubernetes.io/name"],F={apiVersion:"shipwright.io/v1beta1",kind:"Build",metadata:{name:o||L,namespace:c,labels:Object.assign(Object.assign(Object.assign({},P),j),{"app.kubernetes.io/name":L}),annotations:R},spec:{source:{type:"Git",git:Object.assign({url:p,revision:m},h?{cloneSecret:h}:{}),contextDir:g},env:[...D,..._],strategy:{name:k,kind:"ClusterBuildStrategy"},paramValues:A,output:{image:`${C.e}/${c}/${o||L}:latest`}}},B=Object(N.h)(a,F);return"update"===i&&(B.metadata.name=a.metadata.name),"update"===i?Object(v.rb)(w.a,B):Object(v.jb)(w.a,F,n?x.c:{})})(t,n,c,null===(Q=null==p?void 0:p.shipwrightBuild)||void 0===Q?void 0:Q.data,Ee?"create":u,Ee));if("create"===u&&(ye.push(yield U(t,n,"generic",c)),ce&&ye.push(yield U(t,n,me,c))),t.resources===_.k.KnativeService){const e=Oe.status.dockerImageRepository,n=(null===(ne=null===(te=null===(ee=null==p?void 0:p.editAppResource)||void 0===ee?void 0:ee.data)||void 0===te?void 0:te.metadata)||void 0===ne?void 0:ne.annotations)||{},a=Object(N.g)(ae,Ee||ae,ie,de),i=Object.keys(n).length>0?Object.assign(Object.assign(Object.assign({},n),Object(N.c)(pe,ge)),a):Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Object(N.b)()),Object(N.e)()),Object(N.c)(pe,ge)),a),r=Object(b.c)(t,e,be,void 0,void 0,i,l.a(p,"editAppResource.data"),Ee),o=yield Object(b.b)(t,r,c);return[...yield Promise.all(["update"===u?Object(v.rb)(h.l,r,null,null,c?x.c:{}):Object(v.jb)(h.l,r,c?x.c:{}),...o]),...ye]}if(t.resources===_.k.Kubernetes?ye.push(yield $(t,n,c,l.a(p,"editAppResource.data"),u)):t.resources===_.k.OpenShift&&ye.push(yield((e,t,n,a,i="create")=>{const{name:r,project:{name:o},application:{name:s},image:{ports:l,tag:c},deployment:{env:u,replicas:d,triggers:p},labels:m,limits:{cpu:h,memory:b},git:{url:f,ref:y},healthChecks:E}=e,O=t&&t.metadata.name,k=Object(N.a)({name:r,applicationName:s,imageStreamName:O,selectedTag:c}),j=Object.assign(Object.assign(Object.assign({},Object(N.b)()),Object(N.c)(f,y)),Object(N.e)()),S=Object(N.d)(_.k.OpenShift,r),P=Object(N.f)(a),C={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:r,namespace:o,labels:Object.assign(Object.assign({},k),m),annotations:j},spec:{selector:S,replicas:d,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},P),m),S)},spec:{containers:[Object.assign({name:r,image:r+":latest",ports:l,env:u,resources:Object(T.H)({cpu:h,memory:b})},Object(D.b)(E))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:p.image,containerNames:[r],from:{kind:"ImageStreamTag",name:r+":latest"}}},...p.config?[{type:"ConfigChange"}]:[]]}},w=Object(N.h)(a,C);return"update"===i?Object(v.rb)(g.DeploymentConfigModel,w):Object(v.jb)(g.DeploymentConfigModel,w,n?x.c:{})})(t,n,c,l.a(p,"editAppResource.data"),u)),!r.a(se)||le===d.BuildStrategyType.Docker||le===d.BuildStrategyType.Source){const e=l.a(p,"service.data"),a=Object(x.b)(t,n,e);"create"===u?ye.push(yield Object(v.jb)(g.ServiceModel,a,c?x.c:{})):"update"!==u||r.a(e)||ye.push(yield Object(v.rb)(g.ServiceModel,a));const i=l.a(p,"route.data"),o=Object(x.a)(t,n,i);"update"===u&&oe?ye.push(yield Object(v.rb)(g.RouteModel,o,ie,ae)):re&&ye.push(yield Object(v.jb)(g.RouteModel,o,c?x.c:{}))}return ye})),K=e=>e.filter(e=>e.kind===g.DeploymentModel.kind||e.kind===g.DeploymentConfigModel.kind||e.kind===h.l.kind&&e.apiVersion===`${h.l.apiGroup}/${h.l.apiVersion}`),V=(e,t,n,a)=>A(void 0,void 0,void 0,(function*(){const i=n.find(e=>e.properties.id===t),r=(yield i.properties.importRedirectURL())(e);a?m.Vb.push(((e,t)=>{const n=new URL(e,"thismessage:/");return n.search=new URLSearchParams(Object.assign(Object.assign({},Object.fromEntries(n.searchParams)),t?Object.fromEntries(t):{})).toString(),n.toString().replace(n.protocol,"")})(r,a)):m.Vb.push(r)})),H=(e,t,n)=>{var a;if(e!==_.k.KnativeService&&t){if(t.hostname||t.path||!t.secure)return!0;if(null==t?void 0:t.tls)for(const e in t.tls)if(t.tls.hasOwnProperty(e)){if(["caCertificate","certificate","destinationCACertificate","key"].includes(e)&&t.tls[e])return!0;if("insecureEdgeTerminationPolicy"===e&&"None"!==t.tls[e])return!0;if("termination"===e&&"reencrypt"!==t.tls[e])return!0}return!1}return(null===(a=n.domainMapping)||void 0===a?void 0:a.length)>0},q=(e,t,n)=>{if(e!==_.k.KnativeService&&(null==t?void 0:t.replicas)>1)return!0;const a=null==n?void 0:n.scaling;if(a)for(const e in a)if(a.hasOwnProperty(e)){if(["concurrencylimit","maxpods","minpods"].includes(e)&&a[e])return!0;if("concurrencytarget"===e&&a[e]!==a.defaultConcurrencytarget)return!0;if("concurrencyutilization"===e&&a[e]!==a.defaultConcurrencyutilization)return!0;if("autoscale"===e&&a[e]){const t=a[e];for(const e in t)if(t.hasOwnProperty(e)){if("autoscalewindow"===e&&t[e]!==t.defaultAutoscalewindow)return!0;if("autoscalewindowUnit"===e&&t[e]!==t.defaultAutoscalewindowUnit)return!0}}}return!1},z=e=>{const t=e=>{for(const t in e)if(e.hasOwnProperty(t)){if(["limit","request"].includes(t)&&e[t])return!0;if("limitUnit"===t&&e[t]!==e.defaultLimitUnit)return!0;if("requestUnit"===t&&e[t]!==e.defaultRequestUnit)return!0}return!1};return!(!t(e.cpu)&&!t(e.memory))},W=e=>{var t,n,a,i,o,s,l,u,d,p,m,g,v,h,b,f,y,E,O,k,j,S,T,C,w,I,N,x,D,A,L;if(!e)return{};let F;(null===(t=e.devfile)||void 0===t?void 0:t.devfileContent)&&(F=Object(P.c)(e.devfile.devfileContent));const B=!(null===(n=e.application)||void 0===n?void 0:n.selectedKey)&&(null===(a=e.application)||void 0===a?void 0:a.name)||(null===(i=e.application)||void 0===i?void 0:i.selectedKey)===(null===(o=e.application)||void 0===o?void 0:o.name)?"default":(null===(s=e.application)||void 0===s?void 0:s.selectedKey)===R.b&&(null===(l=e.application)||void 0===l?void 0:l.name)?"custom":"none",U=e.resources===_.k.Kubernetes?"Deployment":e.resources===_.k.OpenShift?"DeploymentConfig":e.resources===_.k.KnativeService&&"Knative Service",M=null===(d=null===(u=e.import)||void 0===u?void 0:u.selectedStrategy)||void 0===d?void 0:d.name;return{useRecommended:(null===(p=e.image)||void 0===p?void 0:p.recommended)===(null===(m=e.image)||void 0===m?void 0:m.selected),recommendedStrategy:null===(v=null===(g=e.import)||void 0===g?void 0:g.recommendedStrategy)||void 0===v?void 0:v.name,recommendedBuilderImage:null===(h=e.image)||void 0===h?void 0:h.recommended,strategy:M,builderImage:null===(b=e.image)||void 0===b?void 0:b.selected,devFileLanguage:(null===(f=null==F?void 0:F.metadata)||void 0===f?void 0:f.projectType)||"",devFileProjectType:(null===(y=null==F?void 0:F.metadata)||void 0===y?void 0:y.language)||"",application:B,resource:U,targetPortChanged:!!(null===(E=e.route)||void 0===E?void 0:E.unknownTargetPort),useRunCommand:!!(null===(k=null===(O=e.image)||void 0===O?void 0:O.imageEnv)||void 0===k?void 0:k.NPM_RUN),useAdvancedOptionsGit:"/"!==e.git.dir||!!e.git.ref||!!e.git.secret,useAdvancedOptionsBuild:(null===(j=e.build)||void 0===j?void 0:j.env.length)>0||c.a(null===(S=e.build)||void 0===S?void 0:S.triggers,e=>!e),useAdvancedOptionsDeployment:"Devfile"!==M&&((null===(T=e.deployment)||void 0===T?void 0:T.env.length)>0||!(null===(w=null===(C=e.deployment)||void 0===C?void 0:C.triggers)||void 0===w?void 0:w.image)),useAdvancedOptionsRoute:H(e.resources,e.route,e.serverless),useAdvancedOptionsHealthChecks:(null===(N=null===(I=e.healthChecks)||void 0===I?void 0:I.livenessProbe)||void 0===N?void 0:N.enabled)||(null===(D=null===(x=e.healthChecks)||void 0===x?void 0:x.readinessProbe)||void 0===D?void 0:D.enabled)||(null===(L=null===(A=e.healthChecks)||void 0===A?void 0:A.startupProbe)||void 0===L?void 0:L.enabled),useAdvancedOptionsScaling:q(e.resources,e.deployment,e.serverless),useAdvancedOptionsResourceLimits:z(e.limits),useAdvancedOptionsLabels:!r.a(e.labels)}}},5850:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return b}));var a=n(640),i=n(499),r=n(8),o=n(5669),s=n(5586),l=n(5588),c=n(5687),u=n(5837),d=(n(5760),function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))});const p=(e,t)=>`image-registry.openshift-image-registry.svc:5000/${t}/${e}`,m=(e,t,n,a,i,r,o,s,l)=>(e||[]).map(e=>{switch(e.name){case"APP_NAME":return Object.assign(Object.assign({},e),{default:t});case"GIT_REPO":return Object.assign(Object.assign({},e),{default:a});case"GIT_REVISION":return Object.assign(Object.assign({},e),{default:i||""});case"PATH_CONTEXT":return Object.assign(Object.assign({},e),{default:r.replace(/^\//,"")||e.default});case"IMAGE_NAME":return Object.assign(Object.assign({},e),{default:p(t,n)});case"DOCKERFILE":return Object.assign(Object.assign({},e),{default:o});case"VERSION":return Object.assign(Object.assign({},e),{default:s||e.default});case"BUILD_ENVS":return Object.assign(Object.assign({},e),{default:l||e.default});default:return e}}),g=e=>{var t,n;return"docker"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[o.j])},v=(e,t,n,i,l,c,u,p,v,h={})=>d(void 0,void 0,void 0,(function*(){var d;const b=a.a(c.template);return b.metadata={name:""+e,namespace:t,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=b.metadata)||void 0===d?void 0:d.labels),h),{"app.kubernetes.io/instance":e,"app.kubernetes.io/name":e}),!g(b)&&{[o.i]:p})},b.spec.params=b.spec.params&&m(b.spec.params,e,t,n,i,l,u,p,v),Object(r.jb)(s.PipelineModel,b,{ns:t})})),h=e=>d(void 0,void 0,void 0,(function*(){var t,n;const a="true"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["function.knative.dev"]),i=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n,i;return Object.assign(Object.assign({},t),{type:l.x.VolumeClaimTemplate,data:a?Object(c.f)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name):Object(c.c)(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.name)})}),secretOpen:!1});return Object(u.a)(i,e)})),b=(e,t,n,l,c,u,p,v,h,b,f={})=>d(void 0,void 0,void 0,(function*(){var d;let y=a.a(e);return t?(((e,t)=>{var n,a,i,r;return(null===(n=e.metadata)||void 0===n?void 0:n.labels[o.h])!==(null===(a=t.metadata)||void 0===a?void 0:a.labels[o.h])||(null===(i=e.metadata)||void 0===i?void 0:i.labels[o.i])!==(null===(r=t.metadata)||void 0===r?void 0:r.labels[o.i])})(t,e)&&(y=a.a(t),y.metadata={resourceVersion:e.metadata.resourceVersion,name:""+n,namespace:l,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=t.metadata)||void 0===d?void 0:d.labels),f),{"app.kubernetes.io/instance":n,"app.kubernetes.io/name":n}),!g(t)&&{[o.i]:h})}),y.spec.params=m(t.spec.params,n,l,c,u,p,v,h,b)):y.metadata.labels=i.a(Object.assign(Object.assign({},y.metadata.labels),f),"app.kubernetes.io/instance"),Object(r.rb)(s.PipelineModel,y,l,n)}))},5885:function(e,t,n){},5898:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(22),i=n(499),r=n(5723),o=n(5711),s=n(5591),l=n(8),c=n(76),u=n(2230),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const p={queryParams:{dryRun:"All"}},m=(e,t,n,u,d,p,m,g)=>{var v,h;const{name:b,application:{name:f},project:{name:y},runtimeIcon:E,serverless:{scaling:O},limits:k,route:{unknownTargetPort:j,create:S,defaultUnknownPort:T},labels:P,image:{tag:C},deployment:{env:w,triggers:{image:R}},healthChecks:I,resources:N,formType:x}=e,{fileUpload:D}=e,_=null===(v=null==e?void 0:e.import)||void 0===v?void 0:v.selectedStrategy,A=parseInt(j,10)||T,L=R?l.c.Always:l.c.IfNotPresent,{concurrencylimit:F,concurrencytarget:B,minpods:U,maxpods:M,autoscale:{autoscalewindow:$,autoscalewindowUnit:G},concurrencyutilization:K}=O,{cpu:{request:V,requestUnit:H,limit:q,limitUnit:z},memory:{request:W,requestUnit:J,limit:Y,limitUnit:X}}=k,Z=Object(o.a)({name:b,applicationName:f,imageStreamName:n,selectedTag:u||C,namespace:d,runtimeIcon:E});if(delete Z.app,D){const e=null==w?void 0:w.findIndex(e=>"JAVA_ARGS"===e.name);-1!==e?""!==D.javaArgs?w[e].value=D.javaArgs:w.splice(e,1):""!==D.javaArgs&&w.push({name:"JAVA_ARGS",value:D.javaArgs})}const Q={kind:c.p.kind,apiVersion:`${c.p.apiGroup}/${c.p.apiVersion}`,metadata:{name:b,namespace:y,labels:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Z),P),"serverlessFunction"===x&&{"function.knative.dev":"true"}),!S&&{"networking.knative.dev/visibility":"cluster-local"}),((null===(h=e.pipeline)||void 0===h?void 0:h.enabled)||g)&&{"app.kubernetes.io/name":b}),_&&(null==_?void 0:_.type)===s.c.SERVERLESS_FUNCTION&&{"function.knative.dev":"true"}),annotations:D?Object.assign(Object.assign({},p),{jarFileName:D.name}):p},spec:{template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},Z),P),{"app.kubernetes.io/name":g?e.name:P["app.kubernetes.io/name"]}),annotations:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B&&{"autoscaling.knative.dev/target":""+B}),U&&{"autoscaling.knative.dev/min-scale":""+U}),M&&{"autoscaling.knative.dev/max-scale":""+M}),$&&{"autoscaling.knative.dev/window":`${$}${G}`}),K&&{"autoscaling.knative.dev/target-utilization-percentage":""+K})},spec:Object.assign(Object.assign({},F&&{containerConcurrency:F}),{containers:[Object.assign(Object.assign(Object.assign({name:b,image:""+t},A&&{ports:[{containerPort:A}]}),{imagePullPolicy:L,securityContext:{allowPrivilegeEscalation:!1,capabilities:{drop:["ALL"]},runAsNonRoot:!0,seccompProfile:{type:"RuntimeDefault"}},env:w,resources:Object.assign(Object.assign({},(q||Y)&&{limits:Object.assign(Object.assign({},q&&{cpu:`${q}${z}`}),Y&&{memory:`${Y}${X}`})}),(V||W)&&{requests:Object.assign(Object.assign({},V&&{cpu:`${V}${H}`}),W&&{memory:`${W}${J}`})})}),Object(r.b)(I,N))]})}}};let ee={};a.a(m)||(ee=i.a(m,["status","spec.template.metadata.name","spec.template.spec.containers"]));return Object(o.h)(ee||{},Q)},g=(e,t,n)=>{const{kind:a,apiVersion:i,metadata:{name:r,namespace:o}}=t;return Object.assign(Object.assign({},n?Object.assign({},n):{kind:c.e.kind,apiVersion:`${c.e.apiGroup}/${c.e.apiVersion}`,metadata:{name:e,namespace:o}}),{spec:{ref:{name:r,kind:a,apiVersion:i}}})},v=(e,t)=>{const{metadata:{name:n,namespace:a}}=e,i=[];return Object(l.kb)(c.e,null,a).then(a=>{const r=a.items;if(!(null==t?void 0:t.length)&&!(null==r?void 0:r.length))return Promise.resolve([]);const o=(s=n,l=t,r.filter(e=>{var t,n;return(null===(n=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===n?void 0:n.name)===s}).filter(e=>!(null==l?void 0:l.includes(e.metadata.name))).map(e=>({action:u.d.Delete,resource:e})));var s,l;i.push(...o);const c=t.map(t=>{const n=r.find(e=>e.metadata.name===t);let a;return a=n?{action:u.d.Update,resource:g(t,e,n)}:{action:u.d.Create,resource:g(t,e)},a});return i.push(...c),i}).catch(e=>(console.log("Failed to get domain mapping resources",e),i))},h=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const{serverless:{domainMapping:a=[]}}=e,i=yield v(t,[...new Set(a.map(e=>e.replace(/ *\([^)]*\) */g,"")))]),r=[];return i.length&&i.forEach(({action:e,resource:t})=>{switch(e){case u.d.Create:r.push(Object(l.jb)(c.e,t,n?p:{}));break;case u.d.Update:r.push(Object(l.rb)(c.e,t,null,null,n?p:{}));break;case u.d.Delete:r.push(Object(l.lb)(c.e,t,n?p:{}))}}),r}))},5899:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(5684),i=n(5586),r=n(5595),o=n(5588);const s=()=>Object(a.a)(i.TektonConfigModel,o.h),l=e=>{if(!e)return o.n.UNSUPPORTED_LEVEL;const{pipeline:t}=e.spec;return t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.HISTOGRAM&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINE&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASK?o.n.PIPELINE_TASK_LEVEL:t[r.d.METRICS_PIPELINERUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_TASKRUN_DURATION_TYPE]===r.b.LASTVALUE&&t[r.d.METRICS_PIPELINERUN_LEVEL]===r.c.PIPELINERUN&&t[r.d.METRICS_TASKRUN_LEVEL]===r.c.TASKRUN?o.n.PIPELINERUN_TASKRUN_LEVEL:o.n.UNSUPPORTED_LEVEL}},5900:function(e,t,n){"use strict";function a(e){var t,n;return"GitImport"===(null==e?void 0:e.type)&&!!(null===(n=null===(t=e.gitImport)||void 0===t?void 0:t.repository)||void 0===n?void 0:n.url)}function i(e){var t;return"ContainerImport"===(null==e?void 0:e.type)&&!!(null===(t=e.containerImport)||void 0===t?void 0:t.image)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))},5903:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var a=n(0),i=n(640),r=n(655),o=n(499),s=n(5),l=n(8),c=n(5929),u=n(5723),d=n(5724);const p=(e,t,n)=>{const{healthChecks:{readinessProbe:a,livenessProbe:s,startupProbe:l},containerName:p,healthChecks:m}=e,g=i.a(t),v=r.a(g.spec.template.spec.containers,["name",p]);return g.spec.template.spec.containers[v]=Object.assign(Object.assign({},n),Object(u.b)(m,Object(c.k)(t))),a.enabled||(g.spec.template.spec.containers[v]=o.a(g.spec.template.spec.containers[v],""+d.a.ReadinessProbe)),s.enabled||(g.spec.template.spec.containers[v]=o.a(g.spec.template.spec.containers[v],""+d.a.LivenessProbe)),l.enabled||(g.spec.template.spec.containers[v]=o.a(g.spec.template.spec.containers[v],""+d.a.StartupProbe)),g},m=Object(a.createContext)({viewOnly:!1}),g=e=>{const t=Object(l.vb)(Object(l.Db)(e));return!Object(s.Dc)({group:t.apiGroup,resource:t.plural,name:e.metadata.name,namespace:e.metadata.namespace,verb:"update"})}},5909:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var a=n(131),i=n(10),r=n(8),o=n(5586),s=n(5588),l=n(5705),c=n(5687),u=n(5919),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const p=(e,t,n=0)=>d(void 0,void 0,void 0,(function*(){var s,l,c,d;const m=yield Object(r.kb)(o.EventListenerModel,e,t),g=null===(s=null==m?void 0:m.status)||void 0===s?void 0:s.configuration.generatedName;try{if(!g)return void(n<3?setTimeout(()=>p(e,t,n+1),500):yield Object(r.jb)(i.RouteModel,Object(u.b)(m),{ns:t}));const a=null===(d=null===(c=null===(l=(yield Object(r.kb)(i.ServiceModel,g,t)).spec)||void 0===l?void 0:l.ports)||void 0===c?void 0:c[0])||void 0===d?void 0:d.name,o=Object(u.b)(m,g,a);yield Object(r.jb)(i.RouteModel,o,{ns:t})}catch(e){Object(a.s)({title:"Error Exposing Route",error:e.message||"Unknown error exposing the Webhook route"})}})),m=(e,t)=>d(void 0,void 0,void 0,(function*(){const{triggerBinding:n}=t,a=e.metadata.namespace,i=Object(c.e)(e,t,null,null,{generateName:!0}),s=n.resource.spec.params.map(({name:e})=>({name:e})),d=Object(u.c)(e,i,s),m=yield Object(l.a)(a),g=Object(u.a)([n.resource],d,m),v={ns:a};let h;try{const e=yield Object(r.jb)(o.TriggerTemplateModel,d,v);h=[e,yield Object(r.jb)(o.EventListenerModel,g,v)]}catch(e){return Promise.reject(e)}return p(g.metadata.name,a),Promise.resolve(h)})),g=(e,t)=>d(void 0,void 0,void 0,(function*(){const n=[],a=t?t+"-push":"github-push",i=yield Object(r.kb)(o.ClusterTriggerBindingModel,a);if(i){const t=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var n;return Object.assign(Object.assign({},t),{type:s.x.VolumeClaimTemplate,data:Object(c.c)(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name)})}),triggerBinding:{name:a,resource:i}}),r=yield m(e,t);n.push(...r)}return Promise.resolve(n)}))},5910:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(16),i=n(141),r=n(22),o=n(50),s=n(974),l=n(5673),c=n(5711);const u={queryParams:{dryRun:"All"}},d=e=>"isi"in e,p=(e,t,n,u)=>{var p,m,g,v;const{project:{name:h},application:{name:b},name:f,labels:y,image:{ports:E,tag:O},route:{unknownTargetPort:k,defaultUnknownPort:j},resources:S}=e,T=a.a(t,"metadata.name")||a.a(e,"image.name"),P=a.a(e,"git"),C=Object(c.a)({name:f,applicationName:b,imageStreamName:T,selectedTag:O}),w=Object(c.d)(S,f),R=P?Object.assign(Object.assign({},Object(c.c)(P.url,P.ref)),Object(c.b)()):Object(c.b)();let I=E;const N=null===(p=e.build)||void 0===p?void 0:p.strategy;if(N===s.BuildStrategyType.Docker&&k){I=[{containerPort:i.a(k),protocol:"TCP"}]}else if(N!==s.BuildStrategyType.Devfile||r.a(null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.ports)){if(d(e)){const{isi:{ports:t}}=e;I=t}else if(r.a(I)){I=[{containerPort:j,protocol:"TCP"}]}}else I=[...n.spec.ports.map(e=>({name:e.name,containerPort:e.port,protocol:"TCP"}))];if(k&&!I.some(e=>k===e.containerPort.toString())){const e={containerPort:i.a(k),protocol:"TCP"},t=null===(v=null===(g=null==u?void 0:u.spec)||void 0===g?void 0:g.port)||void 0===v?void 0:v.targetPort;I=[...I.filter(e=>e.containerPort!==j),e],t&&(I=[...I.filter(e=>e.containerPort!==t),e])}const x={kind:"Service",apiVersion:"v1",metadata:{name:f,namespace:h,labels:Object.assign(Object.assign({},C),y),annotations:Object.assign({},R)},spec:{selector:w,ports:o.a(I,e=>({port:e.containerPort,targetPort:e.containerPort,protocol:e.protocol,name:e.name||Object(l.n)(e)}))}};return Object(c.h)(n,x)},m=(e,t,n)=>{var r,o,u,p;const{project:{name:m},application:{name:g},name:v,labels:h,route:{hostname:b,unknownTargetPort:f,defaultUnknownPort:y,secure:E,path:O,tls:k,labels:j},image:{ports:S,tag:T}}=e,P=a.a(t,"metadata.name")||a.a(e,"image.name"),C=a.a(e,"git"),w=Object(c.a)({name:v,applicationName:g,imageStreamName:P,selectedTag:T}),R=C?Object.assign(Object.assign({},Object(c.c)(C.url,C.ref)),Object(c.b)()):Object(c.b)();let I,N=S;if(d(e)){const{isi:{ports:t}}=e;N=t}const x=null===(r=e.build)||void 0===r?void 0:r.strategy;I=x===s.BuildStrategyType.Docker&&f?Object(l.n)({containerPort:i.a(f),protocol:"TCP"}):x===s.BuildStrategyType.Devfile?null===(u=null===(o=null==n?void 0:n.spec)||void 0===o?void 0:o.port)||void 0===u?void 0:u.targetPort:f?Object(l.n)({containerPort:i.a(f),protocol:"TCP"}):Object(l.n)({containerPort:(null===(p=N[0])||void 0===p?void 0:p.containerPort)||y,protocol:"TCP"});const D={kind:"Route",apiVersion:"route.openshift.io/v1",metadata:{name:v,namespace:m,labels:Object.assign(Object.assign(Object.assign({},w),h),j),annotations:R},spec:{to:{kind:"Service",name:v},tls:E?k:null,host:b,path:O,port:{targetPort:I},wildcardPolicy:"None"}};return Object(c.h)(n,D)}},5911:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return v}));var a=n(83),i=n(77),r=n(108),o=n(6027),s=n(5900);const l=(e,t)=>{if(Object(s.b)(e.spec.source)){const{gitImport:n}=e.spec.source,a=new URLSearchParams;return a.set("formType","sample"),a.set("sample",e.metadata.name),a.set("git.repository",n.repository.url),n.repository.revision&&a.set("git.revision",n.repository.revision),n.repository.contextDir&&a.set("git.contextDir",n.repository.contextDir),`/import/ns/${t}?${a}`}if(Object(s.a)(e.spec.source)){const{containerImport:n}=e.spec.source,a=new URLSearchParams;return a.set("sample",e.metadata.name),a.set("image",n.image),`/deploy-image/ns/${t}?${a}`}return null},c=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),repository:{url:e.get("git.repository"),revision:e.get("git.revision"),contextDir:e.get("git.contextDir")}}},u=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),image:e.get("image")}},d=()=>!!new URLSearchParams(window.location.search).get("sample"),p=e=>e.reduce((e,t)=>{var n;const a=(null===(n=t.metadata.labels)||void 0===n?void 0:n["console.openshift.io/name"])||t.metadata.name;return e[a]||(e[a]=[]),e[a].push(t),e},{}),m=(e,t)=>{var n,a,i,r;if(!e||!e.length)return null;const o=(t||"en").split("-")[0].toLowerCase(),s=((t||"").split("-")[1]||"").toUpperCase();let l=null,c=null,u=null,d=null,p=null;for(const t of e){const e=((null===(a=null===(n=t.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a["console.openshift.io/lang"])||"en").toLowerCase(),m=((null===(r=null===(i=t.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r["console.openshift.io/country"])||"").toUpperCase();if(e===o&&m===s)return t;e===o&&(m||l?m&&!c&&(c=t):l=t),"en"===e&&(m!==s||u?m||d?p||(p=t):d=t:u=t)}return l||c||u||d||p},g=()=>Object(r.a)({isList:!0,groupVersionKind:Object(a.getGroupVersionKindForModel)(o.a)}),v=e=>Object(i.j)({model:o.a,name:e})},5919:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),i=n(8),r=n(15),o=n(5586),s=n(5588),l=n(5705);const c=(e,t,n)=>({apiVersion:Object(i.n)(o.TriggerTemplateModel),kind:o.TriggerTemplateModel.kind,metadata:{name:`trigger-template-${e.metadata.name}-${Object(r.wd)()}`},spec:{params:n,resourcetemplates:[t]}}),u=(e,t,n)=>{return{apiVersion:Object(i.n)(o.EventListenerModel),kind:o.EventListenerModel.kind,metadata:{name:"event-listener-"+Object(r.wd)()},spec:{serviceAccountName:s.l,triggers:[{bindings:e.map(e=>0===(null==n?void 0:n.major)||1===(null==n?void 0:n.major)&&0===(null==n?void 0:n.minor)?{kind:e.kind,name:e.metadata.name}:{kind:e.kind,ref:e.metadata.name}),template:(a=t.metadata.name,Object(l.b)(n)?{ref:a}:{name:a})}]}};var a},d=(e,t,n=8080)=>{const r=e.metadata.name,s=t||"el-"+r;return{apiVersion:Object(i.n)(a.RouteModel),kind:a.RouteModel.kind,metadata:{name:s,labels:{"app.kubernetes.io/managed-by":o.EventListenerModel.kind,"app.kubernetes.io/part-of":"Triggers",eventlistener:r}},spec:{port:{targetPort:n},to:{kind:"Service",name:s,weight:100}}}}},5925:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(5585),r=n(18),o=n.n(r),s=n(16),l=n(8);n(5885);const c=a.forwardRef(({kind:e,x:t,y:n,leftJustified:r},c)=>{const{kindAbbr:u,kindStr:d,kindColor:p}=function(e){const t=Object(l.vb)(e),n=Object(s.a)(t,"kind",e),a=Object(s.a)(t,"color",void 0);return{kindStr:n,kindAbbr:t&&t.abbr||Object(l.ub)(n),kindColor:a}}(e),[m,g]=Object(i.useSize)([]);let v=null,h=0,b=0,f=0,y=0;return m&&(({height:y,width:f}=m),h=y/2,b=y/14,y+=2*b,v=a.createElement("rect",{fill:p,ref:c,x:t-(r?0:h+f/2),width:m.width+2*h,y:n-(r?0:b+m.height/2),height:y,rx:y/2,ry:y/2})),a.createElement("g",{className:o()("odc-resource-icon",{["odc-resource-icon-"+d.toLowerCase()]:!p}),"data-test":"icon "+d.toLowerCase()},v,a.createElement("title",null,d),a.createElement("text",{ref:g,x:t+(r?h+f/2:0),y:n+(r?(b+y)/2:0),textAnchor:"middle",dy:"0.35em"},u))})},5929:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return x})),n.d(t,"k",(function(){return A})),n.d(t,"f",(function(){return L})),n.d(t,"n",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"j",(function(){return U})),n.d(t,"l",(function(){return K})),n.d(t,"d",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"h",(function(){return q})),n.d(t,"c",(function(){return W})),n.d(t,"e",(function(){return J})),n.d(t,"i",(function(){return Y}));var a,i=n(117),r=n(16),o=n(148),s=n(499),l=n(22),c=n(225),u=n(4436),d=n(599),p=n(5591),m=n(974),g=n(1401),v=n(10),h=n(8),b=n(1402),f=n(5620),y=n(5850),E=n(5648),O=n(5669),k=n(15),j=n(5786),S=n(2221),T=n(5673),P=n(5723),C=n(6032),w=n(5599),R=n(5649),I=n(5651),N=n(6010);!function(e){e.Git="Import from Git",e.Dockerfile="Import from Dockerfile",e.Container="Deploy Image",e.JarUpload="Upload JAR file"}(a||(a={}));const x=e=>{switch(e){case a.Git:return"devconsole~Import from Git";case a.Dockerfile:return"devconsole~Import from Dockerfile";case a.Container:return"devconsole~Deploy Image";case a.JarUpload:return"devconsole~Upload JAR file";default:return e}};var D;!function(e){e.Git="Git",e.Binary="Binary"}(D||(D={}));const _=e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.type},A=e=>{switch(e.kind){case v.DeploymentConfigModel.kind:return w.k.OpenShift;case v.DeploymentModel.kind:return w.k.Kubernetes;case Object(h.Db)(e)===Object(h.Hb)(b.l)?b.l.kind:"":return w.k.KnativeService;default:return null}},L=(e,t)=>{switch(e){case m.BuildStrategyType.Source:return t===D.Binary?a.JarUpload:a.Git;case m.BuildStrategyType.Docker:return a.Dockerfile;default:return a.Container}},F=(e,t)=>{switch(e){case m.BuildStrategyType.Source:return t===D.Binary?N.b:R.d;case m.BuildStrategyType.Docker:return R.d;default:return C.a}},B=(e,t,n)=>!!i.a(e,e=>{var a;return n===v.DeploymentConfigModel.kind&&"ImageChange"===t?e.type===t&&(null===(a=e.imageChangeParams)||void 0===a?void 0:a.automatic):e.type===t}),U=e=>{var t,n,a,i,r,s,l,c;const{metadata:u,spec:d}=e,p=null!==(a=null===(n=null===(t=null==d?void 0:d.template)||void 0===t?void 0:t.spec)||void 0===n?void 0:n.containers)&&void 0!==a?a:[],m=null!==(l=null===(s=null===(r=null===(i=null==p?void 0:p[0])||void 0===i?void 0:i.ports)||void 0===r?void 0:r[0])||void 0===s?void 0:s.containerPort)&&void 0!==l?l:"";return{create:"cluster-local"!==(null===(c=null==u?void 0:u.labels)||void 0===c?void 0:c[b.i]),unknownTargetPort:o.a(m),targetPort:o.a(m),defaultUnknownPort:8080}},M=(e,t)=>{const n=r.a(t,"metadata.labels",{}),a=r.a(e,"metadata.labels",{});return s.a(a,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility",...Object.keys(n)])},$=(e,t)=>{var n,a,i,s;let u={disable:!l.a(e),create:!l.a(e),targetPort:r.a(e,"spec.port.targetPort",""),unknownTargetPort:o.a(null===(s=null===(i=null===(a=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.port)||void 0===a?void 0:a.targetPort)||void 0===i?void 0:i.split("-"))||void 0===s?void 0:s[0])||"",defaultUnknownPort:8080,path:r.a(e,"spec.path",""),hostname:r.a(e,"spec.host",""),secure:c.a(e,"spec.tls.termination"),tls:{termination:r.a(e,"spec.tls.termination",null),insecureEdgeTerminationPolicy:r.a(e,"spec.tls.insecureEdgeTerminationPolicy",null),caCertificate:r.a(e,"spec.tls.caCertificate",""),certificate:r.a(e,"spec.tls.certificate",""),destinationCACertificate:r.a(e,"spec.tls.destinationCACertificate",""),key:r.a(e,"spec.tls.key","")},labels:M(e,t)};return A(t)===w.k.KnativeService&&(u=Object.assign(Object.assign({},u),U(t))),u},G=(e,t,n,a)=>{const i=((e,t,n)=>e?w.a.BUILDS:t?w.a.SHIPWRIGHT_BUILD:n?w.a.PIPELINES:w.a.DISABLED)(e,t,n);let o,s,l;if(i===w.a.BUILDS)o=r.a(e,"spec.strategy.type","");else if(i===w.a.SHIPWRIGHT_BUILD)switch(s=r.a(t,"spec.strategy.name",""),s){case j.a.BUILDAH:o=m.BuildStrategyType.Docker;break;case j.a.S2I:o=m.BuildStrategyType.Source;break;default:o=""}if(i===w.a.BUILDS)switch(o){case m.BuildStrategyType.Source:l=r.a(e,"spec.strategy.sourceStrategy");break;case m.BuildStrategyType.Docker:l=r.a(e,"spec.strategy.dockerStrategy");break;default:l={env:[]}}else i===w.a.SHIPWRIGHT_BUILD&&(l=r.a(t,"spec"));const c=r.a(e,"spec.triggers");return{env:(null==l?void 0:l.env)||[],triggers:{webhook:B(c,w.c[a]),image:B(c,"ImageChange"),config:B(c,"ConfigChange")},strategy:o||(Object(y.c)(n)?m.BuildStrategyType.Docker:m.BuildStrategyType.Source),source:{type:_(e)},option:i,clusterBuildStrategy:s}},K=e=>{let t={scaling:{minpods:"",maxpods:"",concurrencytarget:"",concurrencylimit:"",autoscale:{autoscalewindow:"",autoscalewindowUnit:"s",defaultAutoscalewindowUnit:"s"},concurrencyutilization:""},domainMapping:[]};if(A(e)===w.k.KnativeService){const{spec:{template:{metadata:n,spec:a}}}=e,i=null==n?void 0:n.annotations,r=(null==i?void 0:i[b.d])||"",{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l}=Object(I.b)(r);t={scaling:{minpods:(null==i?void 0:i[b.h])||"",maxpods:(null==i?void 0:i[b.g])||"",concurrencytarget:(null==i?void 0:i[b.e])||"",concurrencylimit:(null==a?void 0:a.containerConcurrency)||"",autoscale:{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l},concurrencyutilization:(null==i?void 0:i[b.f])||""},domainMapping:[]}}return t},V=e=>{var t,n,a,i,r,o,s,l,c,u,d,p,m,g;const v={env:[],replicas:1,triggers:{image:!0,config:!0}},b=null===(i=null===(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.spec)||void 0===a?void 0:a.containers)||void 0===i?void 0:i.find(t=>{var n;return[e.metadata.name,null===(n=e.metadata.labels)||void 0===n?void 0:n["app.kubernetes.io/name"]].includes(t.name)}),f=null!==(r=null==b?void 0:b.env)&&void 0!==r?r:[];switch(A(e)){case w.k.KnativeService:return Object.assign(Object.assign({},v),{env:f,triggers:{image:(null==b?void 0:b.imagePullPolicy)===h.c.Always}});case w.k.OpenShift:{const t=null===(o=e.spec)||void 0===o?void 0:o.triggers;return{env:f,triggers:{image:B(t,"ImageChange",e.kind),config:B(t,"ConfigChange")},replicas:null!==(l=null===(s=e.spec)||void 0===s?void 0:s.replicas)&&void 0!==l?l:1}}case w.k.Kubernetes:{const t=null===(p=JSON.parse(null!==(d=null===(u=null===(c=e.metadata)||void 0===c?void 0:c.annotations)||void 0===u?void 0:u["image.openshift.io/triggers"])&&void 0!==d?d:"[]"))||void 0===p?void 0:p[0];return{env:f,triggers:{image:"false"===(null==t?void 0:t.paused)},replicas:null!==(g=null===(m=e.spec)||void 0===m?void 0:m.replicas)&&void 0!==g?g:1}}default:return v}},H=e=>{const t=r.a(e,"metadata.labels",{});return s.a(t,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility"])},q=e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["app.openshift.io/runtime"];return{runtimeIcon:a&&Object(g.g)(a)?a:null}},z=(e,t,n)=>{var a,i,o,s,c,d,p,m,g,v,h,b,f,y,E;if(l.a(e)&&l.a(t)&&l.a(n))return{};const k=u.a(null!==(c=null===(s=null===(o=null===(i=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.strategy)||void 0===i?void 0:i.sourceStrategy)||void 0===o?void 0:o.from)||void 0===s?void 0:s.name)&&void 0!==c?c:"",":"),j=l.a(e)?l.a(t)?(e=>{var t,n,a,i,r,o,s;const l=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.params,c=null!==(a=null===(n=null==l?void 0:l.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===n?void 0:n.default)&&void 0!==a?a:"";return{url:c,ref:null!==(r=null===(i=null==l?void 0:l.find(e=>"GIT_REVISION"===(null==e?void 0:e.name)))||void 0===i?void 0:i.default)&&void 0!==r?r:"",dir:null!==(s=null===(o=null==l?void 0:l.find(e=>"PATH_CONTEXT"===(null==e?void 0:e.name)))||void 0===o?void 0:o.default)&&void 0!==s?s:"/",type:Object(R.c)(c),showGitType:!1,secret:"",isUrlValidating:!1}})(n):(e=>{var t,n,a,i;const o=null!==(i=null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.git)||void 0===a?void 0:a.url)&&void 0!==i?i:"";return{url:o,type:Object(R.c)(o),ref:r.a(e,"spec.source.git.revision",""),dir:r.a(e,"spec.source.contextDir",""),showGitType:!1,secret:r.a(e,"spec.source.git.cloneSecret",""),isUrlValidating:!1}})(t):(e=>{var t,n,a,i;const o=null!==(i=null===(a=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.git)||void 0===a?void 0:a.uri)&&void 0!==i?i:"";return{url:o,type:Object(R.c)(o),ref:r.a(e,"spec.source.git.ref",""),dir:r.a(e,"spec.source.contextDir",""),showGitType:!1,secret:r.a(e,"spec.source.sourceSecret.name",""),isUrlValidating:!1}})(e);return{git:j,docker:{dockerfilePath:(null===(m=null===(p=null===(d=null==e?void 0:e.spec)||void 0===d?void 0:d.strategy)||void 0===p?void 0:p.dockerStrategy)||void 0===m?void 0:m.dockerfilePath)||(null===(h=null===(v=null===(g=null==n?void 0:n.spec)||void 0===g?void 0:g.params)||void 0===v?void 0:v.find(e=>"DOCKERFILE"===(null==e?void 0:e.name)))||void 0===h?void 0:h.default)||"Dockerfile"},image:{selected:(null===(f=null===(b=null==n?void 0:n.metadata)||void 0===b?void 0:b.labels)||void 0===f?void 0:f[O.h])||k[0]||"",recommended:"",tag:(null===(E=null===(y=null==n?void 0:n.metadata)||void 0===y?void 0:y.labels)||void 0===E?void 0:E[O.i])||k[1]||"",tagObj:{},ports:[],isRecommending:!1,couldNotRecommend:!1},build:G(e,t,n,j.type)}},W={searchTerm:"",registry:"external",allowInsecureRegistry:!1,imageStream:{image:"",tag:"",namespace:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},build:{env:[],triggers:{},strategy:""},isSearchingForImage:!1},J=e=>{const t=r.a(e,"spec.template.spec.containers[0].image",null);return l.a(e)||!t?W:Object.assign(Object.assign({},W),{searchTerm:t,registry:T.b.External,imageStream:Object.assign({},W.imageStream)})},Y=(e,t,n)=>{var a,i,o,s,c;const u=null===(a=e.editAppResource)||void 0===a?void 0:a.data,m=null===(i=e.route)||void 0===i?void 0:i.data,g=null===(o=e.buildConfig)||void 0===o?void 0:o.data,v=null===(s=e.shipwrightBuild)||void 0===s?void 0:s.data,h=null===(c=e.pipeline)||void 0===c?void 0:c.data,y=((e,t,n,a,i)=>{const o=r.a(e,'metadata.labels["app.kubernetes.io/part-of"]');return{formType:"edit",name:a,application:{name:o||"",selectedKey:o||S.z},project:{name:i},route:$(t,e),resources:A(e),serverless:K(e),pipeline:{enabled:!l.a(n),type:f.a.PIPELINE},pac:{pacHasError:!1,repository:Object.assign({},E.i)},deployment:V(e),labels:H(e),limits:Object(k.Rc)(e),healthChecks:Object(P.a)(e),import:{showEditImportStrategy:!0,selectedStrategy:{name:"",type:p.c.S2I,priority:0,detectedFiles:[]}}}})(u,m,h,t,n),O=z(g,v,h);let j={},C={},w={},R={};return l.a(O)?(C=q(u),w=(e=>{var t,n,a,i,r,o;const s=null===(t=null==e?void 0:e.imageStream)||void 0===t?void 0:t.data;if(l.a(s))return{};const c=d.a(s,["metadata.resourceVersion"],["desc"]),u=null===(i=null===(a=null===(n=null==c?void 0:c[0])||void 0===n?void 0:n.spec)||void 0===a?void 0:a.tags)||void 0===i?void 0:i[0],p=null===(r=null==u?void 0:u.from)||void 0===r?void 0:r.name,m=(null===(o=null==u?void 0:u.importPolicy)||void 0===o?void 0:o.insecure)||!1;return Object.assign(Object.assign({},W),{searchTerm:p,registry:"external",allowInsecureRegistry:m,imageStream:Object.assign({},W.imageStream)})})(e),R=l.a(w)?(e=>{const t=r.a(e,'metadata.labels["app.openshift.io/runtime-namespace"]',""),n=r.a(e,'metadata.labels["app.openshift.io/runtime"]',""),a=r.a(e,'metadata.labels["app.openshift.io/runtime-version"]',"");return Object.assign(Object.assign({},W),{registry:T.b.Internal,imageStream:{image:n,tag:a,namespace:t}})})(u):{},!l.a(w)||r.a(R,"imageStream.tag")||r.a(R,"imageStream.image")||(null==u?void 0:u.kind)===b.l.kind&&(R={},w=J(u))):_(g)===D.Binary&&(j=((e,t)=>{var n,a,i,r,o,s,l,c,u,d,p;const m=e.metadata.name,g=null!==(i=null===(a=null===(n=t.metadata)||void 0===n?void 0:n.annotations)||void 0===a?void 0:a.jarFileName)&&void 0!==i?i:"",v=null!==(p=null===(d=null===(u=null===(c=null===(l=null===(s=null===(o=null===(r=e.spec)||void 0===r?void 0:r.template)||void 0===o?void 0:o.spec)||void 0===s?void 0:s.containers)||void 0===l?void 0:l.find(e=>e.name===m))||void 0===c?void 0:c.env)||void 0===u?void 0:u.find(e=>"JAVA_ARGS"===e.name))||void 0===d?void 0:d.value)&&void 0!==p?p:"";return Object.assign({fileUpload:{name:g,value:"",javaArgs:v}},q(e))})(u,g)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},y),C),j),O),w),R)}},5944:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(5588);const i=()=>{var e;try{return JSON.parse(null!==(e=sessionStorage.getItem(a.k))&&void 0!==e?e:"{}")}catch(e){return{}}},r=e=>{var t;return null!==(t=i()[e])&&void 0!==t?t:[]},o=(e,t)=>r(t).includes(e),s=(e,t)=>{if(!e||!t)return;const n=r(t).filter(t=>t!==e);sessionStorage.setItem(a.k,JSON.stringify(Object.assign(Object.assign({},i()),{[t]:n})))},l=(e,t)=>{if(!e||!t)return;const n=i();n[t]||(n[t]=[]),n[t].includes(e)||(n[t].push(e),sessionStorage.setItem(a.k,JSON.stringify(n)))}},5961:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=n(118),r=n(4359);const o=({close:e,namespace:t,save:n,secretType:i})=>a.createElement(r.SecretFormWrapper,{onCancel:e,onSave:t=>{e(),n(t)},fixed:{metadata:{namespace:t}},secretTypeAbstraction:i,isCreate:!0,modal:!0}),s=Object(i.f)(o)},5998:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(0),i=n(88),r=n(5585),o=n(18),s=n(16),l=n(14),c=n(5),u=n(8),d=n(206),p=n(6066),m=n(5586),g=n(5595),v=n(5635),h=n(5588),b=n(5676),f=n(6283),y=n(6068),E=n(6069),O=n(6050);n(6287);const k=({pipelineRunName:e,task:t,namespace:n,pipelineRunStatus:i,disableTooltip:r,selected:o,isSkipped:s,width:l,height:p,isFinallyTask:v})=>{var b,f;const y=Object(d.a)(h.e),E=t.status||{duration:"",reason:g.a.Idle};i!==g.a.Failed&&i!==g.a.Cancelled||(null===(b=t.status)||void 0===b?void 0:b.reason)!==g.a.Idle&&(null===(f=t.status)||void 0===f?void 0:f.reason)!==g.a.Pending||(E.reason=g.a.Cancelled),s&&(E.reason=g.a.Skipped);const O=a.createElement(j,{pipelineRunName:e,name:t.name||"",task:t.taskSpec&&{data:{spec:t.taskSpec}},namespace:n,status:E,isPipelineRun:!!i,disableVisualizationTooltip:r,selected:o,width:l,height:p,isFinallyTask:v,pipelineTask:t});if(r||t.taskSpec)return O;let k;return k=y||t.taskRef.kind!==m.ClusterTaskModel.kind?[{kind:Object(u.Hb)(m.TaskModel),name:t.taskRef.name,namespace:n,prop:"task"}]:[{kind:Object(u.Hb)(m.ClusterTaskModel),name:t.taskRef.name,prop:"task"}],a.createElement(c.C,{resources:k},O)},j=({pipelineRunName:e,namespace:t,task:n,status:u,name:d,isPipelineRun:h,disableVisualizationTooltip:k,selected:j,width:T,height:P,isFinallyTask:C,pipelineTask:w})=>{var R,I,N,x;const D=((null===(I=null===(R=null==n?void 0:n.data)||void 0===R?void 0:R.spec)||void 0===I?void 0:I.steps)||[]).map(e=>Object(y.a)(e,u)),_=h&&!!u&&!!u.reason,A=d||s.a(n,["metadata","name"],""),L=a.useRef(),F=a.useRef(),B=e?`${Object(c.uc)(m.PipelineRunModel,e,t)}/logs/${d}`:void 0,U=(null==u?void 0:u.reason)!==g.a.Idle&&(null==u?void 0:u.reason)!==g.a.Pending&&(null==u?void 0:u.reason)!==g.a.Cancelled&&!!B,M=(null===(N=null==w?void 0:w.when)||void 0===N?void 0:N.length)>0,$=(null===(x=null==w?void 0:w.runAfter)||void 0===x?void 0:x.length)>0,G=u?Object(v.f)(u.reason).pftoken.value:Object(v.f)(g.a.Cancelled).pftoken.value,[K,V]=Object(r.useHover)(),H=a.useMemo(()=>Object(c.Bc)(A,{length:_?11:14,truncateEnd:!0}),[A,_]),q=a.createElement("text",{ref:L,x:_?30:T/2,y:P/2+1,className:o("odc-pipeline-vis-task-text",{"is-text-center":!h,"is-linked":U})},H);let z=a.createElement("g",{ref:V},a.createElement(p.a,{dy:1,id:"SvgTaskDropShadowFilterId"}),a.createElement("rect",{filter:K?Object(r.createSvgIdUrl)("SvgTaskDropShadowFilterId"):"",width:T,height:P,rx:15,className:o("odc-pipeline-vis-task",{"is-selected":j,"is-linked":U})}),A!==H&&k?a.createElement(i.a,{triggerRef:L,content:A},q):q,_&&a.createElement(a.Fragment,null,a.createElement("svg",{width:30,height:30,viewBox:"-5 -4 20 20",style:{color:G}},a.createElement("g",{className:o({"fa-spin odc-pipeline-vis-task--icon-spin":u.reason===g.a.Running,"odc-pipeline-vis-task--icon-stop":u.reason!==g.a.Running})},a.createElement(O.b,{status:u.reason,disableSpin:!0}))),a.createElement(S,{steps:D,x:30,y:23,width:T/2+15})));k||(z=a.createElement(a.Fragment,null,a.createElement(i.a,{triggerRef:F,position:"bottom",enableFlip:!1,content:a.createElement(E.a,{isSpecOverview:!h,taskName:A,steps:D,isFinallyTask:C})},a.createElement("g",{ref:F},z))));const W=a.createElement(a.Fragment,null,M&&a.createElement(f.a,{width:b.C,height:b.C,appendLine:!$&&!C,isPipelineRun:h,status:u.reason,enableTooltip:!0,leftOffset:k&&!C?3:2,isFinallyTask:C}),z);return U?a.createElement(l.Link,{to:B},a.createElement("g",{"data-test":"task "+A},W)):W},S=({steps:e,x:t,y:n,width:i})=>{if(0===e.length)return null;const r=i/e.length;return a.createElement("g",null,e.map((e,i)=>a.createElement("rect",{key:e.name,x:t+r*i,y:n,width:r-2,height:2,fill:Object(v.f)(e.status).pftoken.value})))}},5999:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b}));var a=n(5585),i=n(5676);const r=(...e)=>e.filter(e=>!!e).join(" "),o=(e,t)=>e.x<t.x,s=(e,t)=>e.y<t.y,l=(e,t)=>e.y>t.y,c=e=>`${e.x},${e.y}`,u=e=>"M "+c(e),d=e=>"L "+c(e),p=(e,t)=>`Q ${c(e)} ${c(t)}`,m=8,g=10,v=(e,t,n)=>{if(s(e,n)){const a=o(e,t)&&s(t,n),i=s(e,t)&&o(t,n);if(a)return r(d(t.clone().translate(-m,0)),p(t,t.clone().translate(0,g)));if(i)return r(d(t.clone().translate(0,-g)),p(t,t.clone().translate(m,0)))}else{const a=o(e,t)&&l(t,n),i=l(e,t)&&o(t,n);if(a)return r(d(t.clone().translate(-m,0)),p(t,t.clone().translate(0,-g)));if(i)return r(d(t.clone().translate(0,g)),p(t,t.clone().translate(m,0)))}return""},h=(e,t)=>r(u(e),d(t)),b=(e,t)=>{let n=null,o=null;if(e.y!==t.y){const r=Math.floor(e.x+i.w/2),s=new a.Point(r,e.y),l=new a.Point(r,t.y);n=v(e,s,l),o=v(s,l,t)}return r(u(e),n,o,d(t))}},6e3:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(6407),o=n(2225),s=n(5676);n(6288);t.a=({errorStr:e,x:t,y:n})=>{const l=a.useRef();return a.createElement(i.a,{triggerRef:l,content:e},a.createElement("g",{ref:l,className:"odc-error-node-decorator",transform:`translate(${t}, ${n})`},a.createElement("circle",{cx:0,cy:0,r:s.d,fill:o.global_danger_color_100.value}),a.createElement("g",{transform:"translate(-5, -6)"},a.createElement(r.a,{color:"white"}))))}},6010:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(2338),i=n(689),r=n(15),o=n(5655),s=n(5621);const l=/\.(jar)$/i,c=e=>i.object().shape({name:i.string().matches(l,{message:e("devconsole~Must be a JAR file.")}).max(253,e("devconsole~Cannot be longer than 253 characters.")).required(e("devconsole~Required")),javaArgs:i.string()}),u=e=>i.object().shape({name:Object(r.Zd)(e),fileUpload:c(e),project:s.l,application:s.a,image:Object(s.h)(e),deployment:Object(s.c)(e),serverless:Object(s.o)(e),route:Object(s.n)(e),limits:Object(s.k)(e),build:s.b,resources:s.m,healthChecks:Object(o.a)(e)}),d=e=>{if(l.test(e))return a.a(e.split(".").shift())}},6011:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(55),o=n(7),s=n(15),l=n(6051),c=n(5618);t.a=({project:e,noProjectsAvailable:t,extraMargin:n,subPath:u,fullWidth:d})=>{const[p]=Object(r.e)(u?u+".application.initial":"application.initial"),[m]=Object(r.e)("formType"),{t:g}=Object(o.useTranslation)();return a.createElement(c.a,{title:g("devconsole~General"),extraMargin:n,fullWidth:d},t&&a.createElement(a.Fragment,null,a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-project-name",name:u?u+".project.name":"project.name",label:g("devconsole~Project name"),helpText:g("devconsole~A unique name for the Project."),required:!0}),a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-project-display-name",name:u?u+".project.displayName":"project.displayName",label:g("devconsole~Project display name")}),a.createElement(s.kc,{"data-test-id":"application-form-project-description",name:u?u+".project.description":"project.description",label:g("devconsole~Project description")})),!p.value&&a.createElement(l.a,{namespace:e.name,noProjectsAvailable:t,subPath:u}),a.createElement(s.ab,{type:i.b.text,"data-test-id":"application-form-app-name",name:u?u+".name":"name",label:g("devconsole~Name"),helpText:g("devconsole~A unique name given to the component that will be used to name associated resources."),isDisabled:m.value&&"edit"===m.value,required:!(m.value&&"edit"===m.value)}))}},6027:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={kind:"ConsoleSample",label:"ConsoleSample",labelPlural:"ConsoleSamples",apiGroup:"console.openshift.io",apiVersion:"v1",abbr:"CS",namespaced:!1,crd:!0,plural:"consolesamples",propagationPolicy:"Background"}},6032:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689),i=n(15),r=n(5655),o=n(5621);const s=e=>a.object().shape({project:o.l,application:o.a,name:Object(i.Zd)(e),isi:Object(o.j)(e),serverless:Object(o.o)(e),deployment:Object(o.c)(e),route:Object(o.n)(e),limits:Object(o.k)(e),resources:o.m,healthChecks:Object(r.a)(e)})},6049:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f}));var a=n(5585),i=n(6282),r=n(6296),o=n(5676),s=n(6297),l=n(6300),c=n(6302),u=n(6304),d=n(6305),p=n(6307),m=n(6074),g=n(6073),v=n(5834);const h=(e,t)=>{switch(e){case a.ModelKind.graph:return a.GraphComponent;case a.ModelKind.edge:return p.a;case a.ModelKind.node:switch(t){case o.y.TASK_NODE:return g.a;case o.y.SPACER_NODE:return a.SpacerNode;case o.y.TASK_LIST_NODE:return m.a;case o.y.INVALID_TASK_LIST_NODE:return c.a;case o.y.BUILDER_NODE:return r.a;case o.y.FINALLY_NODE:return l.a;case o.y.BUILDER_FINALLY_NODE:return i.a;case o.y.LOADING_NODE:return u.a;default:return}default:return}},b=(e,t)=>{switch(e){case a.ModelKind.graph:return Object(a.withPanZoom)()(a.GraphComponent);case a.ModelKind.edge:return a.TaskEdge;case a.ModelKind.node:switch(t){case o.y.TASK_NODE:case o.y.FINALLY_NODE:return d.a;case o.y.CUSTOM_TASK_NODE:return s.a;case o.y.FINALLY_GROUP:return a.DefaultTaskGroup;case o.y.SPACER_NODE:return a.SpacerNode;default:return}default:return}},f=(e,t)=>{switch(e){case o.z.DAGRE_BUILDER:case o.z.DAGRE_BUILDER_SPACED:return new a.DagreLayout(t,Object.assign({linkDistance:0,nodeDistance:0,groupDistance:0,collideDistance:0,simulationSpeed:0,chargeStrength:0,allowDrag:!1,layoutOnDrag:!1},Object(v.j)(e)));case o.z.DAGRE_VIEWER:return new a.PipelineDagreLayout(t,{nodesep:25});default:return}}},6050:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h}));var a=n(0),i=n(6270),r=n(476),o=n(5797),s=n(244),l=n(1208),c=n(1196),u=n(18),d=n(782),p=n(5595),m=n(5635),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};const v=e=>{var{status:t,disableSpin:n}=e,m=g(e,["status","disableSpin"]);switch(t){case p.a["In Progress"]:case p.a.Running:return a.createElement(c.a,Object.assign({},m,{className:u({"fa-spin":!n})}));case p.a.Succeeded:return a.createElement(r.a,Object.assign({},m));case p.a.Failed:return a.createElement(s.a,Object.assign({},m));case p.a.Idle:case p.a.Pending:return a.createElement(l.a,Object.assign({},m));case p.a.Cancelled:return a.createElement(d.d,Object.assign({},m));case p.a.Skipped:return a.createElement(i.a,Object.assign({},m));default:return a.createElement(o.a,Object.assign({},m))}},h=e=>{var{status:t}=e,n=g(e,["status"]);return a.createElement("div",{style:{color:t?Object(m.f)(t).pftoken.value:Object(m.f)(p.a.Cancelled).pftoken.value}},a.createElement(v,Object.assign({status:t},n)))}},6051:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(281),c=n(87),u=n(55),d=n(22),p=n(160),m=n(7),g=n(15),v=n(2221),h=n(5625),b=n(5704);t.a=({namespace:e,noProjectsAvailable:t,subPath:n})=>{const{t:f}=Object(m.useTranslation)(),[y,E]=a.useState(!0),O=a.useRef([]),k=!t,[j,{touched:S,error:T}]=Object(u.e)(n?n+".application.selectedKey":"application.selectedKey"),[P]=Object(u.e)(n?n+".application.name":"application.name"),{setFieldValue:C,setFieldTouched:w}=Object(u.f)(),[R,I]=a.useState(!1),N=a.useRef(),x=Object(g.Kc)("application-name","dropdown"),D=!(S&&T),_=D?"":T;Object(g.Ge)(j.value);const A=[{actionTitle:f("topology~Create application"),actionKey:v.b},{actionTitle:f("topology~No application group"),actionKey:v.z}],L=f("topology~Application"),F=f(R?"topology~Warning: the application grouping already exists.":"topology~A unique name given to the application grouping to label your resources.");return a.useEffect(()=>{var e;j.value===v.b&&(null===(e=N.current)||void 0===e||e.focus())},[j.value]),a.createElement(a.Fragment,null,k&&y&&a.createElement(i.a,{fieldId:x,label:L},a.createElement(b.a,{id:x,ariaLabel:L,dropDownClassName:"dropdown--full-width",menuClassName:"dropdown-menu--text-wrap",namespace:e,actionItems:A,autoSelect:!0,selectedKey:j.value,onChange:(e,t)=>{C(j.name,e),w(j.name,!0),C(P.name,Object(h.b)(t,e)),w(P.name,!0),I(!1)},onLoad:e=>{var t;const n=d.a(e);E(!n),O.current=p.a(e),n&&(C(j.name,""),C(P.name,null!==(t=j.value!==v.z&&P.value)&&void 0!==t?t:""))}}),a.createElement(r.a,null,a.createElement(o.a,null,D?a.createElement(s.a,null,f("topology~Select an Application to group this component.")):a.createElement(s.a,{variant:"error",icon:a.createElement(g.Mb,null)},_)))),(!y||j.value===v.b)&&a.createElement(g.ab,{type:l.b.text,required:j.value===v.b,name:P.name,ref:N,label:f("topology~Application name"),"data-test-id":"application-form-app-input",helpText:F,validated:R?c.d.warning:c.d.default,onChange:e=>{I(O.current.includes(e.target.value.trim()))},onBlur:e=>{const t=e.target.value.trim();C(P.name,t)}}))}},6066:function(e,t,n){"use strict";n(6067),n(5774);var a=n(5730);n.d(t,"a",(function(){return a.a}));n(5925)},6067:function(e,t,n){"use strict";n(0),n(5585),n(5),n(15),n(5774),n(5730),n(5925)},6068:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,i=n(5595),r=n(5623);!function(e){e.Completed="Completed"}(a||(a={}));const o=(e,t)=>(t.steps||[]).find(t=>t.name===e.name||t.name==="step-"+e.name),s=e=>e?e.terminated?Object(r.e)(e.terminated.startedAt,e.terminated.finishedAt):e.running?Object(r.e)(e.running.startedAt):"":"",l=(e,t)=>{let n=i.a.PipelineNotStarted,r=null;if(t&&t.reason)if(t.reason===i.a["In Progress"]){const l=o(e,t);l?l.terminated?(n=l.terminated.reason===a.Completed?i.a.Succeeded:i.a.Failed,r=s(l)):l.running?(n=i.a["In Progress"],r=s(l)):l.waiting&&(n=i.a.Pending):n=i.a.Pending}else n=t.reason,r=s(o(e,t))||t.duration;else n=i.a.Cancelled;return{duration:r,name:e.name,status:n}}},6069:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(18),r=n.n(i),o=n(7),s=n(5595),l=n(5635),c=n(6050);n(6286);const u=({status:e})=>{const t={height:18,width:18},n=a.createElement(c.b,Object.assign({status:e},t));return e===s.a.Succeeded||e===s.a.Failed?a.createElement("div",{style:{color:Object(l.f)(e).pftoken.value}},a.createElement("svg",Object.assign({},t),a.createElement("circle",{className:"odc-pipeline-visualization-step-list__icon-backdrop",cx:9,cy:9,r:8}),n)):n},d=({isSpecOverview:e,taskName:t,steps:n,isFinallyTask:i,hideHeader:s})=>{const{t:l}=Object(o.useTranslation)();return a.createElement("div",{className:"odc-pipeline-visualization-step-list"},!s&&a.createElement("div",{className:"odc-pipeline-visualization-step-list__task-name"},t),i&&a.createElement("div",{className:"odc-pipeline-visualization-step-list__task-type"},l("pipelines-plugin~Finally task")),n.map(({duration:t,name:n,status:i})=>a.createElement("div",{className:r()("odc-pipeline-visualization-step-list__step",{"odc-pipeline-visualization-step-list__step--task-run":!e}),key:n},e?a.createElement("span",{className:"odc-pipeline-visualization-step-list__bullet"},"•"):a.createElement("div",{className:"odc-pipeline-visualization-step-list__icon"},a.createElement(u,{status:i})),a.createElement("div",{className:"odc-pipeline-visualization-step-list__name"},n),!e&&a.createElement("div",{className:"odc-pipeline-visualization-step-list__duration"},t))))}},6070:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(29),o=n(5),s=n(5676),l=n(6289);n(6291);t.a=({width:e,height:t,name:n})=>{const c=a.useRef(),u=a.useMemo(()=>Object(o.Bc)(n,{length:10,truncateEnd:!0}),[n]);return a.createElement("g",null,a.createElement("rect",{width:e,height:t,rx:15,className:"opp-pipeline-vis-loading-node"}),a.createElement("g",null,a.createElement(l.a,{x:0,y:s.c/4,content:r.a.t("pipelines-plugin~Installing")})),a.createElement(i.a,{triggerRef:c,content:n},a.createElement("text",{ref:c,className:"opp-pipeline-vis-loading-node__name",x:e/2,y:t/2+1},u)))}},6071:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(1001),o=n(5676);n(6292);t.a=({x:e,y:t,onClick:n,tooltip:s,tooltipPosition:l})=>{const c=a.useRef();return a.createElement(i.a,{triggerRef:c,content:s,position:l},a.createElement("g",{className:"odc-plus-node-decorator",onClick:n,transform:`translate(${e}, ${t})`,ref:c},a.createElement("circle",{cx:0,cy:0,r:o.c,className:"odc-plus-node-decorator__circle"}),a.createElement("g",{transform:"translate(-6, -6)"},a.createElement(r.a,{color:"white"}))))}},6072:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(5585),o=n(18),s=n(7),l=n(5),c=n(5676),u=n(6293);t.a=({width:e,height:t,unselectedText:n,onRemoveTask:d,onNewTask:p,onTaskSearch:m})=>{const{t:g}=Object(s.useTranslation)(),v=a.useRef(null),h=a.useRef(),[b,f]=Object(r.useHover)(),y=n||g("pipelines-plugin~Add task"),E=a.useMemo(()=>Object(l.Bc)(y,{length:10,truncateEnd:!0}),[y]),O=a.createElement("text",{x:e/2,y:t/2+1,className:"odc-task-list-node__render-text",ref:h},E);return a.createElement(a.Fragment,null,a.createElement("g",{"data-test":"task-list",ref:f,className:"odc-task-list-node__trigger",onClick:e=>{e.stopPropagation(),m(p)}},a.createElement("rect",{ref:v,className:o("odc-task-list-node__trigger-background"),width:e,height:t}),a.createElement("g",null,a.createElement("rect",{className:b?"odc-task-list-node__trigger-underline--hover":"odc-task-list-node__trigger-underline",y:t,width:e,height:b?2:1}),d&&b&&a.createElement("g",null,a.createElement(u.a,{removeCallback:d,x:120,y:c.c/4,content:g("pipelines-plugin~Delete task")})),y!==E?a.createElement(i.a,{content:y,triggerRef:h},O):O)))}},6073:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(5617),o=n(5998);t.a=Object(i.observer)(({element:e,disableTooltip:t})=>{var n,i,s,l;const{height:c,width:u}=e.getBounds(),{pipeline:d,pipelineRun:p,task:m,selected:g}=e.getData(),v=null===(i=null===(n=null==p?void 0:p.status)||void 0===n?void 0:n.skippedTasks)||void 0===i?void 0:i.some(e=>e.name===m.name);return a.createElement(o.a,{pipelineRunName:null===(s=null==p?void 0:p.metadata)||void 0===s?void 0:s.name,task:m,pipelineRunStatus:p&&Object(r.c)(p),namespace:null===(l=null==d?void 0:d.metadata)||void 0===l?void 0:l.namespace,disableTooltip:t,selected:g,width:u,height:c,isSkipped:v})})},6074:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(6072);n(6303);t.a=Object(i.observer)(({element:e,unselectedText:t})=>{const{height:n=30,width:i=120}={},{onNewTask:o=(()=>{}),onTaskSearch:s=(()=>{}),onRemoveTask:l=(()=>{})}=e.getData()||{};return a.createElement(r.a,{width:i,height:n,unselectedText:t,onRemoveTask:l,onNewTask:o,onTaskSearch:s})})},6075:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(88),o=n(219),s=n(6139),l=n(297),c=n(319),u=n(157),d=n(867),p=n(318),m=n(19),g=n(1921),v=n(72),h=n(1963),b=n(55),f=n(230),y=n(320),E=n(16),O=n(7),k=n(5849),j=n(5618),S=n(5591),T=n(5),P=n(10),C=n(15),w=n(5648),R=n(6313);t.a=({pac:e,formContextField:t})=>{const[n]=Object(C.ue)(),{values:I,setFieldValue:N}=Object(b.f)(),x=t?t+".":"",{gitProvider:D,webhook:_}=E.a(I,t)||I,[A,L]=a.useState(""),[F,B]=a.useState(""),{t:U}=Object(O.useTranslation)();a.useEffect(()=>{var t;const n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t["controller-url"];n&&(L(n),N(x+"webhook.url",n))},[x,e,N]);const M=[{isList:!0,kind:P.SecretModel.kind,prop:P.SecretModel.id,namespace:n}];return a.createElement(j.a,{fullWidth:!x,extraMargin:!0},D&&D===S.b.BITBUCKET?a.createElement(C.ab,{label:U("pipelines-plugin~Bitbucket username"),name:x+"webhook.user",type:i.b.text,required:!0}):null,a.createElement(C.Lb,{name:x+"webhook.method",label:U("pipelines-plugin~Secret"),labelIcon:a.createElement(r.a,{position:"right",content:a.createElement("p",null,U("pipelines-plugin~The secret is required to set the Build status and to attach the webhook to the Git repository."))},a.createElement(h.a,null)),required:!0,options:[{value:"token",label:U("pipelines-plugin~Git access token"),activeChildren:a.createElement(C.ab,{name:x+"webhook.token",type:i.b.text,helpText:a.createElement(()=>{let e;switch(D){case S.b.GITHUB:e=a.createElement(O.Trans,{t:U,ns:"pipelines-plugin"},"Use your GitHub Personal token. Use this"," ",a.createElement("a",{href:w.a[S.b.GITHUB],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a ",a.createElement("b",null,"classic")," token with ",a.createElement("b",null,"repo")," & ",a.createElement("b",null,"admin:repo_hook")," scopes and give your token an expiration, i.e 30d.");break;case S.b.GITLAB:e=a.createElement(O.Trans,{t:U,ns:"pipelines-plugin"},"Use your Gitlab Personal access token. Use this"," ",a.createElement("a",{href:w.a[S.b.GITLAB],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a token with ",a.createElement("b",null,"api")," scope. Select the role as ",a.createElement("b",null,"Maintainer/Owner"),". Give your token an expiration i.e 30d.");break;case S.b.BITBUCKET:e=a.createElement(O.Trans,{t:U,ns:"pipelines-plugin"},"Use your Bitbucket App password. Use this"," ",a.createElement("a",{href:w.a[S.b.BITBUCKET],target:"_blank",rel:"noopener noreferrer"},"link")," ","to create a token with ",a.createElement("b",null,"Read and Write "),"scopes in"," ",a.createElement("b",null,"Account, Workspace membership, Projects, Issues, Pull requests and Webhooks"),".");break;default:e=a.createElement(O.Trans,{t:U,ns:"pipelines-plugin"},"Use your Git Personal token. Create a token with repo, public_repo & admin:repo_hook scopes and give your token an expiration, i.e 30d.")}return a.createElement("div",{"data-test":I.gitProvider+"-helptext"},e)},null),required:!0})},{value:"secret",label:U("pipelines-plugin~Git access token secret"),activeChildren:a.createElement(C.Ob,{helpText:U("pipelines-plugin~Secret with the Git access token for pulling pipeline and tasks from your Git repository."),name:x+"webhook.secretRef",resources:M,dataSelector:["metadata","name"],placeholder:U("pipelines-plugin~Select a secret"),autocompleteFilter:(e,t)=>{var n;return f(e,null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.name)},fullWidth:!0,showBadge:!0,onChange:(e,t,n)=>{if(n&&n.data){N(x+"webhook.secretObj",n);const e=null==n?void 0:n.data["webhook.secret"];e&&B(y.Base64.decode(e))}}})}]}),(null==_?void 0:_.url)&&a.createElement(o.a,{fieldId:"test",label:U("pipelines-plugin~Webhook URL")},a.createElement(s.a,{isReadOnly:!0,name:x+"webhook.url",hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"}},A),a.createElement(l.a,null,a.createElement(c.a,null,a.createElement(u.a,null,U("pipelines-plugin~We have detected a URL that can be used to configure the webhook. It will be created and attached to the Git repository."))))),D&&D!==S.b.BITBUCKET?a.createElement(o.a,{fieldId:"webhook-secret-clipboard",label:U("pipelines-plugin~Webhook secret")},a.createElement(d.a,{style:{display:"flex"}},a.createElement(p.a,null,a.createElement(s.a,{name:x+"webhook.secret",hoverTip:"Copy",clickTip:"Copied",style:{flex:"1"},onChange:(e,t)=>{N(x+"webhook.secret",t)}},F)),a.createElement(p.a,null,a.createElement(m.a,{"data-test":"generate-secret",variant:"control",onClick:()=>{B(Object(k.f)())}},U("pipelines-plugin~Generate"))))):null,D&&D!==S.b.UNSURE?a.createElement(a.Fragment,null,a.createElement(g.a,{toggleText:(e=>{switch(e){case S.b.GITHUB:return U("pipelines-plugin~See GitHub events");case S.b.GITLAB:return U("pipelines-plugin~See Gitlab events");case S.b.BITBUCKET:return U("pipelines-plugin~See BitBucket events");default:return U("pipelines-plugin~See Git events")}})(D)},a.createElement(o.a,{label:U("pipelines-plugin~Events triggering the webhook: "),fieldId:"repo-permissions"},a.createElement(v.a,{component:v.b.small},a.createElement(R.a,{formContextField:t})))),a.createElement(T.z,{text:U("pipelines-plugin~Read more about setting up webhook"),href:w.h[D]})):null)}},6076:function(e,t,n){},6105:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var a=n(5684),i=n(10),r=(n(8),n(5586),n(5656)),o=n(5588);const s=()=>Object(a.a)(i.ConfigMapModel,r.f,o.j)},6106:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(15),o=n(6140),s=n(5599),l=n(5618),c=n(6213),u=n(6316),d=n(6146),p=n(6317),m=n(6147),g=n(6322);const v=({children:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(i.Trans,{t:t,ns:"devconsole",defaults:"Click on the names to access advanced options for <0></0>.",components:[e]})},h=({appResources:e,values:t})=>{var n;const{t:l}=Object(i.useTranslation)(),[p,h]=a.useState([]);return a.createElement(r.Eb,{visibleItems:p,onVisibleItemChange:e=>{h([...p,e])},Footer:v},a.createElement(r.Fb,{name:l("devconsole~Health checks")},a.createElement(o.a,{title:l("devconsole~Health checks"),resourceType:t.resources})),"edit"===(null==t?void 0:t.formType)?a.createElement(r.Fb,{name:l("devconsole~Deployment")},a.createElement(c.a,{namespace:t.project.name,resource:null===(n=null==e?void 0:e.editAppResource)||void 0===n?void 0:n.data})):null,a.createElement(r.Fb,{name:l("devconsole~Scaling")},t.resources===s.k.KnativeService?a.createElement(g.a,null):a.createElement(m.a,{name:"deployment.replicas"})),a.createElement(r.Fb,{name:l("devconsole~Resource limits")},a.createElement(d.a,null)),a.createElement(r.Fb,{name:l("devconsole~Labels")},a.createElement(u.a,null)))};t.a=({values:e,appResources:t})=>{const{t:n}=Object(i.useTranslation)();return a.createElement(l.a,{title:n("devconsole~Advanced options")},a.createElement(p.a,{route:e.route,resources:e.resources}),a.createElement("div",null,a.createElement(h,{appResources:t,values:e})))}},6107:function(e,t,n){"use strict";var a=n(0),i=n(87),r=n(281),o=n(80),s=n(55),l=n(22),c=n(16),u=n(7),d=n(13),p=n(5591),m=n(5633),g=n(53),v=n(974),h=n(1402),b=n(15),f=n(2221),y=n(5900),E=n(5673),O=n(5911),k=n(5649),j=n(5618),S=n(6148),T=n(6151),P=n(6153),C=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};t.a=({title:e,formContextField:t,builderImages:n,defaultSample:w,showSample:R=!!w,formType:I,importType:N,imageStreamName:x,autoFocus:D=!0})=>{const{t:_}=Object(u.useTranslation)(),A=a.useRef(),{dirty:L,isSubmitting:F,values:B,touched:U,errors:M,status:$,setFieldValue:G,setFieldTouched:K}=Object(s.f)(),V=Object(b.Fe)(h.c),[H,q]=Object(d.hc)({group:h.l.apiGroup,resource:h.l.plural,namespace:Object(g.c)(),verb:"create"}),z=t?t+".":"",W=a.useCallback((e,t,n)=>{G(`${z}${e}`,t,n)},[z,G]),J=a.useCallback((e,t,n)=>{K(`${z}${e}`,t,n)},[z,K]),Y=t?c.a(B,t):B,X=t?c.a(U,t,{}):U,Z=t?c.a(M,t,{}):M,Q=c.a(B,"formReloadCount"),{url:ee,dir:te,ref:ne}=w||{},ae=a.useMemo(()=>ee?{annotations:{sampleRepo:ee,sampleContextDir:null!=te?te:"./",sampleRef:null!=ne?ne:""}}:null,[ee,te,ne]),ie=Object(l.a)(Y.image.tagObj)?ae:Y.image.tagObj,re=R&&Object(E.i)(ie),{name:oe,application:{name:se}={},image:{selected:le}={},git:{dir:ce,type:ue}={}}=X,{git:{url:de}={}}=Z,[pe,me]=a.useState(i.d.default),[ge,ve]=a.useState(),he=a.useCallback(e=>C(void 0,void 0,void 0,(function*(){if(W("image.isRecommending",!1),de)return W("image.recommended",""),void W("image.couldNotRecommend",!0);const t=n&&(null==e?void 0:e.find(({type:e})=>e&&n.hasOwnProperty(e)));t&&t.type?(W("image.couldNotRecommend",!1),W("image.recommended",t.type)):(W("image.couldNotRecommend",!0),W("image.recommended",""))})),[n,de,W]),be=a.useCallback((e,t)=>C(void 0,void 0,void 0,(function*(){var n;if(de)return W("devfile.devfileContent",null),void W("devfile.devfileHasError",!0);if("devfile"!==N&&!(null===(n=Y.devfile)||void 0===n?void 0:n.devfileSourceUrl)){W("devfile.devfilePath",e),W("docker.dockerfilePath","Dockerfile");const n=Object(p.e)(Y.git.url,t,Y.git.ref,Y.git.dir,Y.git.secretResource,e),a=n&&(yield n.getDevfileContent());a?(W("devfile.devfileContent",a),W("devfile.devfileHasError",!1)):(W("devfile.devfileContent",null),W("devfile.devfileHasError",!0))}})),[de,N,W,Y.devfile,Y.git.dir,Y.git.ref,Y.git.secretResource,Y.git.url]),fe=a.useCallback((e,t,a)=>C(void 0,void 0,void 0,(function*(){var r,o,s,l;if(V&&q)return;if(F||(null==$?void 0:$.submitError))return;if(me(i.d.default),W("git.validated",i.d.default),W("git.isUrlValidating",!0),de)return W("git.showGitType",!1),J("git.type",!1),void W("git.isUrlValidating",!1);const c=Object(k.c)(e),u=c===p.b.UNSURE,d="sample"!==I&&Object(k.b)(e);c!==Y.git.detectedType&&W("git.detectedType",c),u&&!Y.git.showGitType&&W("git.showGitType",!0),!u&&Y.git.showGitType&&W("git.showGitType",!1);const g=u&&Y.git.showGitType?Y.git.type:c;g!==Y.git.type&&(J("git.type",!1,!1),W("git.type",g));const b=Object(p.e)(e,g,t,a,Y.git.secretResource,null===(r=Y.devfile)||void 0===r?void 0:r.devfilePath,null===(o=Y.docker)||void 0===o?void 0:o.dockerfilePath),y=yield Object(m.a)(e,b,V&&H),{loaded:E,loadError:O,repositoryStatus:j,strategies:S}=y;if(ve(j),j!==p.d.Reachable)return me(i.d.warning),W("git.validated",i.d.warning),W("git.isUrlValidating",!1),W("import",{loaded:!1,loadError:null,strategies:[],selectedStrategy:{name:"Builder Image",type:p.c.S2I,priority:0,detectedFiles:[]},recommendedStrategy:null,showEditImportStrategy:!0}),void W("build.strategy",v.BuildStrategyType.Source);if(d&&!oe&&!Y.name&&W("name",d),d&&"edit"!==Y.formType&&!Y.application.name&&Y.application.selectedKey!==f.z&&W("application.name",d+"-app"),"devfile"===N||x||"edit"===Y.formType)return me(i.d.success),W("git.validated",i.d.success),W("git.isUrlValidating",!1),"devfile"===N&&W("build.strategy",v.BuildStrategyType.Devfile),"devfile"===N&&!(null===(s=Y.devfile)||void 0===s?void 0:s.devfileContent)&&W("import.recommendedStrategy",S[0]),void("edit"===Y.formType&&Y.build.strategy===v.BuildStrategyType.Source&&he(null===(l=null==S?void 0:S.find(e=>e.type===p.c.S2I))||void 0===l?void 0:l.detectedCustomData));if(W("import.loaded",E),W("import.loadError",O),W("import.strategies",S),S.length>0?(W("import.showEditImportStrategy",!1),W("import.selectedStrategy",S[0]),W("import.recommendedStrategy",S[0])):(W("import.selectedStrategy",{name:"Devfile",type:p.c.DEVFILE,priority:2,detectedFiles:[]}),W("import.recommendedStrategy",null),W("import.showEditImportStrategy",!0)),W("import.strategyChanged",!1),S.length>0)switch(S[0].type){case p.c.S2I:W("build.strategy",v.BuildStrategyType.Source),n&&(W("image.isRecommending",!0),he(S[0].detectedCustomData));break;case p.c.DEVFILE:W("build.strategy",v.BuildStrategyType.Devfile),be(S[0].detectedFiles[0],g);break;case p.c.DOCKERFILE:W("build.strategy",v.BuildStrategyType.Docker),W("docker.dockerfilePath",S[0].detectedFiles[0]),W("docker.dockerfileHasError",!1);break;case p.c.SERVERLESS_FUNCTION:W("build.strategy",h.k.ServerlessFunction)}me(i.d.success),W("git.validated",i.d.success),W("git.isUrlValidating",!1)})),[F,$,W,de,I,Y.git.detectedType,Y.git.showGitType,Y.git.type,Y.git.secretResource,Y.devfile,Y.docker,Y.name,Y.formType,Y.application.name,Y.application.selectedKey,Y.build.strategy,V,H,q,oe,N,x,J,he,n,be]),ye=Object(b.Ce)(fe),Ee=a.useCallback(()=>{if(V&&q)return;const e=re,t=Object(E.h)(ie),n=Object(E.g)(ie);W("git.url",re,!1),W("git.ref",t,!1),W("git.dir",n,!1),J("git.url",!0,!0),ye(e,t,n)},[ye,re,J,W,ie,V,q]);a.useEffect(()=>{(!L||ce||ue||Q||Y.git.secretResource)&&Y.git.url&&ye(Y.git.url,Y.git.ref,Y.git.dir)},[L,F,ce,Q,ye,Y.git.url,Y.git.ref,Y.git.dir,Y.git.type,Y.git.secretResource,ue]);const Oe=a.useMemo(()=>{if(Y.git.isUrlValidating)return _("devconsole~Validating")+"...";if(pe===i.d.success)return _("devconsole~Validated");if(pe===i.d.warning)switch(ge){case p.d.RateLimitExceeded:return _("devconsole~Rate limit exceeded");case p.d.GitTypeNotDetected:return _("devconsole~URL is valid but a git type could not be identified. Please select a git type from the options below");case p.d.PrivateRepo:return _("devconsole~If this is a private repository, enter a source Secret in advanced Git options");case p.d.ResourceNotFound:return _("devconsole~Requested repository does not exist");case p.d.InvalidGitTypeSelected:return _("devconsole~The selected git type might not be valid or the repository is private. Please try selecting another git type or enter a source Secret in advanced Git options");case p.d.GiteaRepoUnreachable:return _("devconsole~The Gitea repository is unreachable. The repository might be private or does not exist");default:return _("devconsole~URL is valid but cannot be reached")}return _("devconsole~Repository URL to build and deploy your code from")},[_,Y.git.isUrlValidating,pe,ge]),ke=a.useCallback(()=>{le||(W("image.selected",""),W("image.tag","")),Y.image.recommended&&W("image.recommended",""),Y.image.couldNotRecommend&&W("image.couldNotRecommend",!1),"edit"!==Y.formType?(!oe&&W("name",""),!Y.application.isInContext&&Y.application.selectedKey!==f.z&&!se&&W("application.name","")):Y.application.selectedKey!==f.z&&Y.application.selectedKey===f.b&&!se&&W("application.name","")},[W,Y.formType,Y.image.recommended,Y.image.couldNotRecommend,Y.application.selectedKey,Y.application.isInContext,se,le,oe]);return Object(b.Ge)(Y.git.url),a.useEffect(()=>{var e;if(q)return;D&&(null===(e=A.current)||void 0===e||e.focus());const{sampleName:t,repository:n}=Object(O.d)();if(null==n?void 0:n.url){const e=Object(k.b)(n.url);W("name",e,!1),W("application.name",e+"-app",!1),W("git.url",n.url,!1),n.revision&&W("git.ref",n.revision,!1),n.contextDir&&W("git.dir",n.contextDir,!1),J("git.url",!0,!0),ye(n.url,n.revision,n.contextDir)}t?Object(O.e)(t).then(e=>{var a,i,r,o;if(Object(y.b)(e.spec.source)){const{gitImport:t}=e.spec.source;if(!(null==n?void 0:n.url)){const e=Object(k.b)(n.url);W("name",e,!1),W("application.name",e+"-app",!1),W("git.url",t.repository.url,!1),n.revision&&W("git.ref",n.revision,!1),n.contextDir&&W("git.dir",n.contextDir,!1),J("git.url",!0,!0),ye(t.repository.url,t.repository.revision,t.repository.contextDir)}(null===(a=null==t?void 0:t.service)||void 0===a?void 0:a.targetPort)&&8080!==(null===(i=null==t?void 0:t.service)||void 0===i?void 0:i.targetPort)&&W("route.unknownTargetPort",t.service.targetPort.toString(),!1)}else console.error(`Unsupported ConsoleSample "${t}" source type ${null===(o=null===(r=e.spec)||void 0===r?void 0:r.source)||void 0===o?void 0:o.type}`)}).catch(e=>{console.error(`Error while loading ConsoleSample "${t}":`,e)}):"sample"===I&&re&&Ee()},[q]),a.createElement(j.a,{title:null!=e?e:_("devconsole~Git")},a.createElement(b.ab,{ref:A,type:r.b.text,name:z+"git.url",label:_("devconsole~Git Repo URL"),helpText:Oe,helpTextInvalid:Oe,validated:pe,onBlur:e=>{const t=e.target.value.trim();e.target.value!==t&&(W("git.url",t),ye(t,Y.git.ref,Y.git.dir))},onChange:e=>{ke(),ye(e.target.value.trim(),Y.git.ref,Y.git.dir)},"data-test-id":"git-form-input-url",required:!0,isDisabled:"sample"===I&&re}),"sample"!==I&&re&&a.createElement(P.a,{onClick:Ee}),Y.git.showGitType&&a.createElement(a.Fragment,null,a.createElement(T.a,{fieldPrefix:z}),Y.git.type===p.b.UNSURE&&a.createElement(o.a,{isInline:!0,variant:"info",title:_("devconsole~Defaulting Git type to other")},_("devconsole~We failed to detect the Git type."))),"sample"!==I&&a.createElement(S.a,{formContextField:t}))}},6108:function(e,t,n){"use strict";var a=n(0),i=n(87),r=n(219),o=n(297),s=n(319),l=n(157),c=n(80),u=n(6139),d=n(244),p=n(55),m=n(16),g=n(22),v=n(7),h=n(13),b=n(5673),f=n(5599),y=n(5842),E=n(6155),O=n(6156),k=n(6157);n(6158);const j={loading:!1,accessLoading:!1,selectedImageStream:{}},S=(e,t)=>{const{value:n}=t;switch(t.type){case f.d.setLoading:return Object.assign(Object.assign({},e),{loading:n});case f.d.setAccessLoading:return Object.assign(Object.assign({},e),{accessLoading:n});case f.d.setSelectedImageStream:return Object.assign(Object.assign({},e),{selectedImageStream:n});default:throw new Error("Invalid action was provided in imagestream reducer")}};t.a=a.memo(({disabled:e=!1,label:t,required:n=!1,formContextField:f,dataTest:T,reloadCount:P})=>{var C,w;const{t:R}=Object(v.useTranslation)(),{values:I}=Object(p.f)(),[N,x]=a.useState(i.d.default),[D,_]=a.useReducer(S,j),[A,L]=a.useState(!1),{loading:F,accessLoading:B,selectedImageStream:U}=D,{imageStream:M,project:$,registry:G,isi:K,fromImageStreamTag:V}=m.a(I,f)||I,H=Object(b.d)(U),q=""!==M.namespace&&!B,z=q&&A&&!F,W=""!==M.tag||z&&!g.a(H),J=""!==M.image,Y=$.name!==M.namespace&&M.namespace!==b.a.Openshift&&(G===b.b.Internal||V)&&z&&W,X=N===i.d.error&&(null===(C=K.status)||void 0===C?void 0:C.message)&&a.createElement(a.Fragment,null,a.createElement(d.a,null)," ",null===(w=K.status)||void 0===w?void 0:w.message);return a.createElement(a.Fragment,null,a.createElement(y.a.Provider,{value:{state:D,dispatch:_,hasImageStreams:A,setHasImageStreams:L,setValidated:x}},a.createElement(r.a,{fieldId:"image-stream-dropdowns",label:t,required:n,"data-test":T},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},a.createElement(O.a,{disabled:e,formContextField:f})),a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},a.createElement(E.a,{disabled:e,formContextField:f,reloadCount:P}),a.createElement("div",{className:"odc-imagestream-separator"},"/")),a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},a.createElement(k.a,{disabled:e,formContextField:f,reloadCount:P}),a.createElement("div",{className:"odc-imagestream-separator"},":"))),N===i.d.error&&a.createElement(o.a,null,a.createElement(s.a,null,a.createElement(l.a,{variant:"error",icon:a.createElement(h.u,null)},X)))),q&&J&&!W&&a.createElement("div",{className:"odc-imagestream-alert"},a.createElement(c.a,{variant:"warning",title:R("devconsole~No Image streams tags found"),isInline:!0},R("devconsole~No tags are available in Image Stream {{image}}",{image:M.image}))),q&&!F&&!z&&a.createElement("div",{className:"odc-imagestream-alert"},a.createElement(c.a,{variant:"warning",title:R("devconsole~No Image streams found"),isInline:!0},R("devconsole~No Image streams are available in Project {{namespace}}",{namespace:M.namespace}))),q&&!B&&Y&&a.createElement("div",{className:"odc-imagestream-alert"},a.createElement(c.a,{variant:"warning",isInline:!0,title:R("devconsole~Service account default will need pull authority to deploy Images from {{namespace}}",{namespace:M.namespace})},R("devconsole~You can grant authority with the command")," ",a.createElement(u.a,{className:"odc-imagestream-clipboard",variant:u.b.expansion,isReadOnly:!0},`oc policy add-role-to-user system:image-puller system:serviceaccount:${$.name}:default --namespace=${M.namespace}`)))))})},6126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{var n;return null!==(n=e.find(e=>((e,t)=>{const n=(e=>-1===e.lastIndexOf(".")?null:e.split(".").pop())(e);return!(!n||0===n.length)&&t.includes(n.toLowerCase())})(t,e.properties.fileExtensions)))&&void 0!==n?n:null}},6138:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(15);const i="devconsole.import.secureRoutingOptions",r=()=>{const[e,t,n]=Object(a.ef)(i,{secure:!0,tlsTermination:"edge",insecureTraffic:"Redirect"});return[e,t,n]}},6140:function(e,t,n){"use strict";var a=n(0),i=n(5599),r=n(5618),o=n(5724),s=n(6141);t.a=({title:e,resourceType:t})=>a.createElement(r.a,{title:e},a.createElement(s.a,{probeType:o.a.ReadinessProbe}),a.createElement(s.a,{probeType:o.a.LivenessProbe}),t!==i.k.KnativeService&&a.createElement(s.a,{probeType:o.a.StartupProbe}))},6141:function(e,t,n){"use strict";var a=n(0),i=n(19),r=n(88),o=n(408),s=n(407),l=n(55),c=n(7),u=n(15),d=n(5790),p=n(5903),m=n(6142);n(6145);t.a=({probeType:e})=>{var t;const{t:n}=Object(c.useTranslation)(),{values:{healthChecks:g},setFieldValue:v}=Object(l.f)(),{viewOnly:h}=a.useContext(p.a),[b,f]=a.useState(),y=()=>{v(`healthChecks.${e}.showForm`,!0),f(null==g?void 0:g[e].data)},E=()=>{var t;v("healthChecks."+e,d.b),(null===(t=null==g?void 0:g[e])||void 0===t?void 0:t.modified)?v(`healthChecks.${e}.modified`,!1):v(`healthChecks.${e}.modified`,!0)},O=()=>{var t;(null===(t=null==g?void 0:g[e])||void 0===t?void 0:t.enabled)?(v(`healthChecks.${e}.showForm`,!1),v(`healthChecks.${e}.data`,b)):v("healthChecks."+e,d.b),v(`healthChecks.${e}.modified`,!1)},k=()=>{v(`healthChecks.${e}.showForm`,!1),v(`healthChecks.${e}.enabled`,!0),v(`healthChecks.${e}.modified`,!0)},j=()=>{v(`healthChecks.${e}.showForm`,!0)};return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-section-heading-tertiary odc-heath-check-probe__formTitle"},Object(d.a)(e,n).formTitle,(null===(t=null==g?void 0:g[e])||void 0===t?void 0:t.enabled)&&a.createElement(i.a,{className:"pf-m-link--align-left",variant:i.d.link,onClick:y},"  ",`${n(h?"devconsole~View":"devconsole~Edit")} ${n("devconsole~Probe")}`)),a.createElement("div",{className:"pf-v5-c-form__helper-text"},Object(d.a)(e,n).formSubtitle),a.createElement("div",{className:"co-toolbar__group co-toolbar__group--left"},(()=>{var t,l;return(null===(t=null==g?void 0:g[e])||void 0===t?void 0:t.showForm)?a.createElement(m.a,{onSubmit:k,onClose:O,probeType:e}):(null===(l=null==g?void 0:g[e])||void 0===l?void 0:l.enabled)?a.createElement(a.Fragment,null,a.createElement(i.a,{className:"odc-heath-check-probe__successButton",variant:i.d.plain,isInline:!0,onClick:y},a.createElement("span",{className:"odc-heath-check-probe__successText"},a.createElement(u.X,null)," ",n("devconsole~{{healthCheckProbeAdded}} added",{healthCheckProbeAdded:Object(d.a)(e,n).formTitle}))),!h&&a.createElement(r.a,{content:n("devconsole~Remove"),position:"right"},a.createElement(i.a,{className:"pf-m-plain--align-left",variant:i.d.plain,onClick:E},a.createElement(o.a,null)))):h?n("devconsole~No {{noHealthCheckProbe}}",{noHealthCheckProbe:Object(d.a)(e,n).formTitle}):a.createElement(i.a,{className:"pf-m-link--align-left",variant:i.d.link,onClick:j,icon:a.createElement(s.a,null)},n("devconsole~Add {{addHealthCheckProbe}}",{addHealthCheckProbe:Object(d.a)(e,n).formTitle}))})()))}},6142:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(2220),o=n(55),s=n(22),l=n(7),c=n(15),u=n(5618),d=n(5724),p=n(5903),m=n(6143);n(6144);t.a=({onSubmit:e,onClose:t,probeType:n})=>{var g,v,h;const{t:b}=Object(l.useTranslation)(),{values:{healthChecks:f},errors:y}=Object(o.f)(),{viewOnly:E}=a.useContext(p.a),O={httpGet:b("devconsole~HTTP GET"),command:b("devconsole~Container command"),tcpSocket:b("devconsole~TCP socket")};return a.createElement("div",{className:"odc-heath-check-probe-form"},a.createElement(u.a,null,a.createElement(c.I,{name:`healthChecks.${n}.data.requestType`,label:b("devconsole~Type"),items:O,title:d.b.HTTPGET,disabled:E,fullWidth:!0}),((e,t)=>{switch(e){case d.b.HTTPGET:return a.createElement(m.b,{probeType:t});case d.b.ContainerCommand:return a.createElement(m.a,{probeType:t});case d.b.TCPSocket:return a.createElement(m.c,{probeType:t});default:return null}})(null===(v=null===(g=null==f?void 0:f[n])||void 0===g?void 0:g.data)||void 0===v?void 0:v.requestType,n),a.createElement(c.ab,{type:i.b.text,name:`healthChecks.${n}.data.failureThreshold`,label:b("devconsole~Failure threshold"),style:{maxWidth:"100%"},helpText:b("devconsole~How many times the probe will try starting or restarting before giving up."),isDisabled:E}),a.createElement(c.ab,{type:i.b.text,name:`healthChecks.${n}.data.successThreshold`,label:b("devconsole~Success threshold"),style:{maxWidth:"100%"},helpText:b("devconsole~How many consecutive successes for the probe to be considered successful after having failed."),isDisabled:E}),a.createElement(c.bb,{type:i.b.text,name:`healthChecks.${n}.data.initialDelaySeconds`,label:b("devconsole~Initial delay"),helpText:b("devconsole~How long to wait after the Container starts before checking its health."),afterInput:a.createElement(r.a,null,b("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:E}),a.createElement(c.bb,{type:i.b.text,name:`healthChecks.${n}.data.periodSeconds`,label:b("devconsole~Period"),helpText:b("devconsole~How often to perform the probe."),afterInput:a.createElement(r.a,null,b("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:E}),a.createElement(c.bb,{type:i.b.text,name:`healthChecks.${n}.data.timeoutSeconds`,label:b("devconsole~Timeout"),helpText:b("devconsole~How long to wait for the probe to finish, if the time is exceeded, the probe is considered failed."),afterInput:a.createElement(r.a,null,b("devconsole~seconds")),style:{maxWidth:"100%"},isDisabled:E})),a.createElement(c.g,{onSubmit:E?void 0:e,onClose:t,isDisabled:!s.a(null===(h=null==y?void 0:y.healthChecks)||void 0===h?void 0:h[n])}))}},6143:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return y}));var a=n(0),i=n(281),r=n(219),o=n(55),s=n(22),l=n(363),c=n(839),u=n(113),d=n(7),p=n(1949),m=n(15),g=n(5599),v=n(5903);const h=(e,t,n,r)=>t===g.k.KnativeService?a.createElement(m.ab,{type:i.b.text,name:"knative-port",label:r("devconsole~Port"),placeholder:"0",isDisabled:!0}):a.createElement(m.ab,{type:i.b.text,name:e,label:r("devconsole~Port"),isDisabled:n,required:!0}),b=({probeType:e})=>{var t,n,g;const{t:b}=Object(d.useTranslation)(),{values:{healthChecks:f,resources:y},setFieldValue:E}=Object(o.f)(),{viewOnly:O}=a.useContext(v.a),k=null===(g=null===(n=null===(t=null==f?void 0:f[e])||void 0===t?void 0:t.data)||void 0===n?void 0:n.httpGet)||void 0===g?void 0:g.httpHeaders,j=s.a(k)?[["",""]]:k.map(e=>l.a(e)),[S,T]=a.useState(j),P=`healthChecks.${e}.data.httpGet.port`,C=a.useCallback(({nameValuePairs:t})=>{const n=c.a(t.map(([e,t])=>u.a(t)?{name:e,valueFrom:t}:t.length?{name:e,value:t}:null));T(t),E(`healthChecks.${e}.data.httpGet.httpHeaders`,n)},[E,e]);return a.createElement(a.Fragment,null,a.createElement(m.A,{name:`healthChecks.${e}.data.httpGet.scheme`,label:b("devconsole~Use HTTPS"),value:"HTTPS",isDisabled:O}),a.createElement(r.a,{fieldId:Object(m.Kc)(`healthChecks.${e}.data.httpGet.httpHeaders`,"name-value"),name:`healthChecks.${e}.data.httpGet.httpHeaders`,label:b("devconsole~HTTP Headers")},a.createElement(p.NameValueEditor,{nameValuePairs:S,valueString:b("devconsole~Value"),nameString:b("devconsole~Header name"),addString:b("devconsole~Add header"),readOnly:O,allowSorting:!1,updateParentData:C})),a.createElement(m.ab,{type:i.b.text,name:`healthChecks.${e}.data.httpGet.path`,label:b("devconsole~Path"),placeholder:"/",isDisabled:O}),h(P,y,O,b))},f=({probeType:e})=>{const{t:t}=Object(d.useTranslation)(),{values:{resources:n}}=Object(o.f)(),{viewOnly:i}=a.useContext(v.a);return h(`healthChecks.${e}.data.tcpSocket.port`,n,i,t)},y=({probeType:e})=>{var t,n,i;const{t:r}=Object(d.useTranslation)(),{values:{healthChecks:s}}=Object(o.f)(),{viewOnly:l}=a.useContext(v.a),c=(null===(i=null===(n=null===(t=null==s?void 0:s[e])||void 0===t?void 0:t.data)||void 0===n?void 0:n.exec)||void 0===i?void 0:i.command)||[""];return a.createElement(m.lc,{name:`healthChecks.${e}.data.exec.command`,label:r("devconsole~Command"),addLabel:r("devconsole~Add command"),placeholder:r("devconsole~argument"),helpText:r("devconsole~The command to run inside the Container."),required:!0,disableDeleteRow:1===c.length,isReadOnly:l})}},6144:function(e,t,n){},6145:function(e,t,n){},6146:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(5),s=n(10),l=n(15),c=n(5599),u=n(5618);t.a=({hideTitle:e})=>{const{t:t}=Object(r.useTranslation)(),{values:{container:n}}=Object(i.f)();return a.createElement(u.a,{title:!e&&t("devconsole~Resource limit"),subTitle:t("devconsole~Resource limits control how much CPU and memory a container will consume on a node."),fullWidth:!0},n&&a.createElement("span",null,t("devconsole~Container"),"  ",a.createElement(o.fb,{kind:s.ContainerModel.kind})," ",n),a.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~CPU")),a.createElement(l.Pb,{name:"limits.cpu.request",label:t("devconsole~Request"),unitName:"limits.cpu.requestUnit",unitOptions:c.b,helpText:t("devconsole~The minimum amount of CPU the Container is guaranteed.")}),a.createElement(l.Pb,{name:"limits.cpu.limit",label:t("devconsole~Limit"),unitName:"limits.cpu.limitUnit",unitOptions:c.b,helpText:t("devconsole~The maximum amount of CPU the Container is allowed to use when running.")}),a.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~Memory")),a.createElement(l.Pb,{name:"limits.memory.request",label:t("devconsole~Request"),unitName:"limits.memory.requestUnit",unitOptions:c.g,helpText:t("devconsole~The minimum amount of Memory the Container is guaranteed.")}),a.createElement(l.Pb,{name:"limits.memory.limit",label:t("devconsole~Limit"),unitName:"limits.memory.limitUnit",unitOptions:c.g,helpText:t("devconsole~The maximum amount of Memory the Container is allowed to use when running.")}))}},6147:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(15),o=n(5618);t.a=({name:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement(o.a,{title:t("devconsole~Scaling"),subTitle:t("devconsole~Replicas are scaled manually based on CPU usage."),dataTest:"scaling"},a.createElement(r.ub,{name:e,label:t("devconsole~Replicas"),helpText:t("devconsole~The number of instances of your Image."),setOutputAsIntegerFlag:!0}))}},6148:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(55),o=n(7),s=n(5),l=n(15),c=n(5618),u=n(6149);t.a=({formContextField:e})=>{const t=e?e+".":"",{t:n}=Object(o.useTranslation)(),{setFieldValue:d,setFieldTouched:p}=Object(r.f)(),m=Object(l.Ce)(e=>d(t+"git.ref",e.target.value)),g=Object(l.Ce)(e=>{d(t+"git.dir",e.target.value),p(t+"git.dir")});return a.createElement(s.x,{textExpanded:n("devconsole~Hide advanced Git options"),textCollapsed:n("devconsole~Show advanced Git options"),dataTest:"advanced-git-options"},a.createElement(c.a,null,a.createElement(l.ab,{type:i.b.text,name:t+"git.ref",label:n("devconsole~Git reference"),helpText:n("devconsole~Optional branch, tag, or commit."),onChange:m}),a.createElement(l.ab,{type:i.b.text,name:t+"git.dir",label:n("devconsole~Context dir"),helpText:n("devconsole~Optional subdirectory for the source code, used as a context directory for build."),onChange:g}),a.createElement(u.a,{formContextField:e})))}},6149:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(55),c=n(16),u=n(7),d=n(4359),p=n(108),m=n(10),g=n(15),v=n(6150),h=n(5961);t.a=({formContextField:e})=>{const t=e?e+".":"",{t:n}=Object(u.useTranslation)(),{values:b,setFieldValue:f}=Object(l.f)(),y=c.a(b,t+"project.name"),E=c.a(b,t+"git.secret"),[O,k,j]=Object(p.a)(y&&E?{kind:m.SecretModel.kind,namespace:y,name:E,optional:!0,isList:!1}:null),S=e=>{f(t+"git.secret",e)};return a.useEffect(()=>{k&&!j&&E&&O&&f(t+"git.secretResource",O)},[k,j,E,O,f,t]),a.createElement(a.Fragment,null,a.createElement(i.a,{fieldId:Object(g.Kc)("source-secret","dropdown"),label:n("devconsole~Source Secret")},a.createElement(v.a,{dropDownClassName:"dropdown--full-width",menuClassName:"dropdown-menu--text-wrap",namespace:y,actionItems:[{actionTitle:n("devconsole~Create new Secret"),actionKey:"create-source-secret"},{actionTitle:n("devconsole~No Secret"),actionKey:"clear-source-secret"}],selectedKey:E,title:E,onChange:e=>{"create-source-secret"===e?(f(t+"git.secret",E),Object(h.a)({namespace:y,save:S,secretType:d.SecretTypeAbstraction.source})):"clear-source-secret"===e?(f(t+"git.secret",""),f(t+"git.secretResource",{})):f(t+"git.secret",e)}}),a.createElement(r.a,null,a.createElement(o.a,null,a.createElement(s.a,null,n("devconsole~Secret with credentials for pulling your source code."))))))}},6150:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(1423),o=n(10),s=n(15);t.a=e=>{const{t:t}=Object(i.useTranslation)(),n=[{isList:!0,namespace:e.namespace,kind:o.SecretModel.kind,prop:"secrets"}];return a.createElement(r.a,{resources:n},a.createElement(s.Nb,Object.assign({},e,{placeholder:t("devconsole~Select Secret name"),resourceFilter:e=>"kubernetes.io/basic-auth"===e.type||"kubernetes.io/ssh-auth"===e.type,dataSelector:["metadata","name"]})))}},6151:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(241),o=n(130),s=n(7304),l=n(5931),c=n(5933),u=n(5932),d=n(4373),p=n(55),m=n(16),g=n(7),v=n(5591),h=n(5778),b=n(5599);n(6152);t.a=({fieldPrefix:e})=>{const{values:t,setFieldValue:n,setFieldTouched:f}=Object(p.f)(),{t:y}=Object(g.useTranslation)(),E=t=>{n(e+"git.type",t,!1),f(e+"git.type",!0,!1)},O=m.a(t,e+"git.type");return a.createElement(a.Fragment,null,a.createElement(i.a,{label:y("devconsole~Git type"),isRequired:!0,id:"git-type"},a.createElement(r.a,{spaceItems:{default:"spaceItemsSm"}},a.createElement(o.a,null,a.createElement(s.a,{className:"odc-git-type-selector",title:b.c[v.b.GITHUB],icon:a.createElement(l.a,null),onClick:()=>E(v.b.GITHUB),isSelected:O===v.b.GITHUB,id:"git-type-github"})),a.createElement(o.a,null,a.createElement(s.a,{className:"odc-git-type-selector",title:b.c[v.b.GITLAB],icon:a.createElement(c.a,null),onClick:()=>E(v.b.GITLAB),isSelected:O===v.b.GITLAB,id:"git-type-gitlab"})),a.createElement(o.a,null,a.createElement(s.a,{className:"odc-git-type-selector",title:b.c[v.b.BITBUCKET],icon:a.createElement(u.a,null),onClick:()=>E(v.b.BITBUCKET),isSelected:O===v.b.BITBUCKET,id:"git-type-bitbucket"})),a.createElement(o.a,null,a.createElement(s.a,{className:"odc-git-type-selector",title:b.c[v.b.GITEA],icon:a.createElement(h.a,null),onClick:()=>E(v.b.GITEA),isSelected:O===v.b.GITEA,id:"git-type-gitea"})),a.createElement(o.a,null,a.createElement(s.a,{className:"odc-git-type-selector",title:b.c[v.b.UNSURE],icon:a.createElement(d.a,null),onClick:()=>E(v.b.UNSURE),isSelected:O===v.b.UNSURE,id:"git-type-other"})))))}},6152:function(e,t,n){},6153:function(e,t,n){"use strict";var a=n(0),i=n(297),r=n(19),o=n(6215),s=n(7);t.a=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(i.a,null,a.createElement(r.a,Object.assign({},e,{type:"button",variant:r.d.link,isInline:!0}),t("devconsole~Try sample")," ",a.createElement(o.a,null)))}},6154:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(57),o=n(7),s=n(5591),l=n(5),c=n(10),u=n(15),d=n(5673),p=n(6543),m=n(6544),g=n(6545);t.a=({selectedBuilderImage:e,selectedImageTag:t,showImageInfo:n=!0})=>{const{t:v}=Object(o.useTranslation)(),{values:{import:{showEditImportStrategy:h,selectedStrategy:b}},setFieldValue:f,setFieldError:y}=Object(i.f)(),{name:E,tags:O,displayName:k,imageStreamNamespace:j}=e,S={};r.a(O,({name:e})=>S[e]=a.createElement(l.jb,{kind:"ImageStreamTag",name:e}));const[T,P]=Object(d.k)(O,t,k),C=(null==b?void 0:b.type)===s.c.SERVERLESS_FUNCTION,w=Object(p.a)();return a.useEffect(()=>{f("image.tagObj",T),w(c.ImageStreamTagModel,`${E}:${t}`,j).then(e=>{const t=Object(d.e)(e);f("image.ports",t)}).catch(e=>y("image.ports",e.message))},[t,f,y,E,j,T]),a.createElement(a.Fragment,null,a.createElement("div",{style:h||C?{}:{display:"none"}},a.createElement(u.I,{name:"image.tag",label:v("devconsole~Builder Image version"),items:S,title:S[t],fullWidth:!0,required:!0})),T&&n&&a.createElement(g.a,{displayName:P,tag:T}),!C&&a.createElement(m.a,{name:"image.imageEnv",imageStreamName:E,imageStreamTag:t}))}},6155:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(16),o=n(22),s=n(7),l=n(15),c=n(5673),u=n(5599),d=n(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:n})=>{const{t:p}=Object(s.useTranslation)(),m={},{values:g,setFieldValue:v,initialValues:h}=Object(i.f)(),{imageStream:b,formType:f}=r.a(g,t)||g,{isi:y}=r.a(h,t)||h,{state:E,dispatch:O,hasImageStreams:k,setHasImageStreams:j}=a.useContext(d.a),{accessLoading:S,loading:T}=E,P=""!==b.namespace&&!S,C=P&&k&&!T,w=t?t+".":"",R=a.useCallback(e=>{v(w+"imageStream.tag",e===b.image?b.tag:""),"edit"!==f&&v(w+"isi",y);const t=r.a(m,[b.namespace,e],{});O({type:u.d.setSelectedImageStream,value:t})},[v,w,b.image,b.tag,b.namespace,f,y,m,O]);return a.useEffect(()=>{b.image&&R(b.image)},[b.image,C]),a.useEffect(()=>{n&&b.image&&R(b.image)},[n,C]),a.createElement(l.Ob,{name:w+"imageStream.image",label:p("devconsole~Image Stream"),resources:Object(c.c)(b.namespace),dataSelector:["metadata","name"],key:b.namespace,fullWidth:!0,required:!0,title:b.image||(T&&!C?"":p(C?"devconsole~Select Image Stream":"devconsole~No Image Stream")),disabled:!C||e,onChange:R,onLoad:e=>{const t=!o.a(e);j(t),T&&P&&O({type:u.d.setLoading,value:!1})},resourceFilter:e=>{const{metadata:{namespace:t}}=e;return((e,t)=>{m[e]||(m[e]={}),m[e][t.metadata.name]=t})(t,e),t===b.namespace}})}},6156:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(16),o=n(7),s=n(15),l=n(5673),c=n(5599),u=n(5842);t.a=({disabled:e=!1,formContextField:t})=>{const{t:n}=Object(o.useTranslation)(),{values:d,setFieldValue:p,initialValues:m}=Object(i.f)(),{imageStream:g}=r.a(d,t)||d,{isi:v}=r.a(m,t)||m,{dispatch:h}=a.useContext(u.a),b=t?t+".":"",f=a.useCallback(e=>{e&&(p(b+"imageStream.image",""),p(b+"imageStream.tag","")),p(b+"isi",v),h({type:c.d.setLoading,value:!0})},[h,b,v,p]);return a.useEffect(()=>{g.namespace&&f()},[f,g.namespace]),a.createElement(s.Ob,{name:b+"imageStream.namespace",label:n("devconsole~Project"),title:g.namespace||n("devconsole~Select Project"),fullWidth:!0,required:!0,resources:Object(l.f)(),dataSelector:["metadata","name"],onChange:f,appendItems:{openshift:l.a.Openshift},disabled:e})}},6157:function(e,t,n){"use strict";var a=n(0),i=n(87),r=n(55),o=n(230),s=n(16),l=n(22),c=n(501),u=n(1557),d=n(1533),p=n(107),m=n(7),g=n(10),v=n(8),h=n(15),b=n(2221),f=n(5673),y=n(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:n})=>{const{t:E}=Object(m.useTranslation)(),O=a.useRef(!1);let k={};const{values:j,setFieldValue:S,initialValues:T,touched:P}=Object(r.f)(),{name:C,imageStream:w,application:R,formType:I,isi:N}=s.a(j,t)||j,x=null==N?void 0:N.ports,{imageStream:D,route:_}=s.a(T,t)||T,A=t?t+".":"",{state:L,hasImageStreams:F,setValidated:B}=a.useContext(y.a),{selectedImageStream:U,accessLoading:M,loading:$}=L;k=Object(f.d)(U);const G=""!==w.namespace&&!M,K=G&&F&&!$&&!l.a(k),V=""!==w.image,H=null==D?void 0:D.image,q=a.useCallback(e=>{S(A+"isSearchingForImage",!0),Object(v.kb)(g.ImageStreamTagModel,`${w.image}:${e}`,w.namespace).then(n=>{if(O.current)return;const{image:a,tag:o,status:l,metadata:{labels:p}}=n;t&&S(A+"imageStreamTag",n);const m=c.a(p,f.m),g=w.image,v={name:g,image:a,tag:o,status:l},h=Object(f.e)(v);S(A+"isSearchingForImage",!1),S(A+"isi.name",g),S(A+"isi.image",u.a(a,{metadata:{labels:m}})),S(A+"isi.tag",e),S(A+"isi.ports",h),S(A+"image.ports",h),"edit"!==I&&C!==g&&S(A+"name",Object(f.j)(g)),R&&R.selectedKey!==b.z&&!R.name&&S(A+"application.name",Object(f.j)(g)+"-app");const y=_&&(!_.targetPort||Object(r.d)(s.a(P,A+"imageStream"),"image"))&&!Object(r.d)(s.a(P,A+"route"),"targetPort")&&d.a(h);y&&S(A+"route.targetPort",Object(f.n)(y)),B(i.d.success)}).catch(e=>{O.current||(S(A+"isi",{}),S(A+"isi.status",{metadata:{},status:"",message:e.message}),S(A+"isSearchingForImage",!1),B(i.d.error))})},[S,A,w.image,w.namespace,t,C,I,R,_,P,B]);return a.useEffect(()=>{w.tag&&q(w.tag)},[w.tag]),a.useEffect(()=>{n&&w.tag&&q(w.tag)},[n]),a.useEffect(()=>{if(_&&Object(r.d)(s.a(P,A+"imageStream"),"image")&&!Object(r.d)(s.a(P,A+"route"),"targetPort")&&!p.a(H,w.image)){const e=d.a(x);e&&S(A+"route.targetPort",Object(f.n)(e))}},[P.route,P.imageStream,w.image,S,x,_,H,A,P]),a.useEffect(()=>()=>{O.current=!0},[]),a.createElement(h.I,{name:A+"imageStream.tag",label:E("devconsole~Tag"),items:k,key:w.image,autocompleteFilter:o,title:w.tag||E(G&&V&&!K?"devconsole~No tag":"devconsole~Select tag"),disabled:!V||!K||e,fullWidth:!0,required:!0,onChange:e=>{""!==e&&q(e)}})}},6158:function(e,t,n){},6211:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(7),o=n(6049),s=n(6212),l=n(5834);n(6310);t.a=({pipeline:e,pipelineRun:t,taskRuns:n})=>{const{t:c}=Object(r.useTranslation)();let u;const d=Object(l.h)(e,t,n);return u=!d||0===d.nodes.length&&0===d.edges.length?a.createElement(i.a,{variant:"info",isInline:!0,title:c("pipelines-plugin~This Pipeline has no tasks to visualize.")}):a.createElement(s.a,{"data-test":"pipeline-visualization",componentFactory:o.b,model:d,showControlBar:!0}),a.createElement("div",{className:"odc-pipeline-visualization"},u)}},6212:function(e,t,n){"use strict";var a=n(0),i=n(18),r=n(6308),o=(n(6309),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n});t.a=a.memo(e=>{var{builder:t,model:n,componentFactory:s}=e,l=o(e,["builder","model","componentFactory"]);return a.createElement("div",{className:i("odc-pipeline-topology-graph",{builder:t}),"data-test":l["data-test"]||"pipeline-topology-graph"},a.createElement(r.a,Object.assign({model:n,componentFactory:s,noScrollbar:t},l)))})},6213:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(5591),s=n(5),l=n(15),c=n(5599),u=n(5618);t.a=({namespace:e,resource:t,showHeader:n})=>{const{t:d}=Object(r.useTranslation)(),{values:{resources:p,deployment:{env:m},import:{selectedStrategy:g,knativeFuncLoaded:v}}}=Object(i.f)(),h=t||{kind:"DeploymentConfig",metadata:{namespace:e}};return a.createElement(u.a,{title:n&&d("devconsole~Deployment"),fullWidth:!0},a.createElement(l.A,{name:"deployment.triggers.image",label:d("devconsole~Auto deploy when new Image is available")}),p===c.k.OpenShift&&a.createElement(l.A,{name:"deployment.triggers.config",label:d("devconsole~Auto deploy when deployment configuration changes")}),g.type!==o.c.SERVERLESS_FUNCTION||null!=v&&v?a.createElement(l.M,{name:"deployment.env",label:d("devconsole~Environment variables (runtime only)"),envs:m,obj:h}):a.createElement(s.S,null))}},6214:function(e,t,n){"use strict";var a=n(0),i=n(297),r=n(55),o=n(7),s=n(15),l=n(6138),c=n(5599);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[t,,n]=Object(l.b)(),{secure:u,tlsTermination:d,insecureTraffic:p}=n&&t,{values:{formType:m,route:{secure:g,tls:v}},setFieldValue:h}=Object(r.f)(),b={[c.n.EDGE]:e("devconsole~Edge"),[c.n.PASSTHROUGH]:e("devconsole~Passthrough"),[c.n.REENCRYPT]:e("devconsole~Re-encrypt")},f=v.termination===c.n.PASSTHROUGH?{[c.h.None]:e("devconsole~None"),[c.h.Redirect]:e("devconsole~Redirect")}:{[c.f.None]:e("devconsole~None"),[c.f.Allow]:e("devconsole~Allow"),[c.f.Redirect]:e("devconsole~Redirect")};return a.useEffect(()=>{"edit"!==m&&n&&(h("route.secure",u,!1),h("route.tls.termination",d,!1),h("route.tls.insecureEdgeTerminationPolicy",p,!0))},[m,p,n,u,h,d]),a.createElement(a.Fragment,null,a.createElement(s.A,{name:"route.secure",label:e("devconsole~Secure Route"),formLabel:e("devconsole~Security"),helpText:e("devconsole~Routes can be secured using several TLS termination types for serving certificates.")}),g&&a.createElement(a.Fragment,null,a.createElement(s.I,{name:"route.tls.termination",label:e("devconsole~TLS termination"),items:b,title:e("devconsole~Select termination type"),fullWidth:!0}),a.createElement(s.I,{name:"route.tls.insecureEdgeTerminationPolicy",label:e("devconsole~Insecure traffic"),items:f,title:e("devconsole~Select insecure traffic type"),helpText:e("devconsole~Policy for traffic on insecure schemes like HTTP."),fullWidth:!0}),v.termination&&"passthrough"!==v.termination&&a.createElement(a.Fragment,null,a.createElement("h3",null,e("devconsole~Certificates")),a.createElement(i.a,null,e("devconsole~TLS certificates for edge and re-encrypt termination. If not specified, the router's default certificate is used.")),a.createElement(s.J,{name:"route.tls.certificate",label:e("devconsole~Certificate"),helpText:e("devconsole~The PEM format certificate. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),a.createElement(s.J,{name:"route.tls.key",label:e("devconsole~Private Key"),helpText:e("devconsole~The PEM format key. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),a.createElement(s.J,{name:"route.tls.caCertificate",label:e("devconsole~CA certificate"),helpText:e("devconsole~The PEM format CA certificate chain. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}),"reencrypt"===v.termination&&a.createElement(s.J,{name:"route.tls.destinationCaCertificate",label:e("devconsole~Destination CA Certificate"),helpText:e("devconsole~The PEM format CA certificate chain to validate the endpoint certificate for re-encrypt termination. Upload file by dragging & dropping, selecting it, or pasting from the clipboard.")}))))}},6216:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(0),i=n(5591),r=n(5684),o=n(15),s=n(5729),l=n(5786);const c=()=>Object(o.Fe)("SHIPWRIGHT_BUILD"),u=()=>{const[e,t]=a.useState({s2i:!1,buildah:!1}),[n,i]=a.useState(!1),[,o,c]=Object(r.a)(s.g,l.a.S2I),[,u,d]=Object(r.a)(s.g,l.a.BUILDAH);return a.useEffect(()=>{o&&u&&i(!0)},[o,u]),a.useEffect(()=>{n&&(c||t(e=>Object.assign(Object.assign({},e),{s2i:!0})),d||t(e=>Object.assign(Object.assign({},e),{buildah:!0})))},[n,c,d]),[e,n]},d=(e,t)=>{switch(e){case i.c.S2I:return t.s2i;case i.c.DOCKERFILE:return t.buildah;default:return!1}}},6282:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(7),o=n(5998),s=n(5676),l=n(5999),c=n(6e3),u=n(6070),d=n(6071),p=n(6072);n(6295);t.a=Object(i.observer)(({element:e})=>{const{t:t}=Object(r.useTranslation)(),{width:n,height:m}=e.getBounds(),{task:g,namespace:v}=e.getData(),{addNewFinallyListNode:h,finallyTasks:b=[],finallyListTasks:f=[],finallyLoadingTasks:y=[],finallyInvalidListTasks:E=[],onTaskSearch:O=(()=>{})}=g,k=b.length+f.length+y.length+E.length,j=s.u+s.u/2,S=s.q+s.B,T=s.u+s.r,P=s.q+s.q/2+(0===k?0:s.B),C=({taskIndex:e})=>a.createElement("path",{className:"opp-builder-finally-node__task-connectors",d:j+e*T===m/2?Object(l.b)(new i.Point(S,m/2),new i.Point(0,m/2)):Object(l.a)(new i.Point(0,m/2),new i.Point(S,j+e*T))});return a.createElement("g",{"data-test":"builder-finally-node"},a.createElement("rect",{className:"opp-builder-finally-node",width:n,height:m,rx:"20",ry:"20"}),b.map((e,t)=>a.createElement("g",{key:e.name},a.createElement(C,{taskIndex:t}),a.createElement("g",{"data-test":"finally-task-node "+e.name,transform:`translate(${S}, ${s.u*t+s.r*t+s.q})`,onClick:e.onTaskSelection},a.createElement(o.a,{task:e,namespace:v,disableTooltip:!0,selected:e.selected,width:s.x,height:s.u,isFinallyTask:!0}),e.error&&a.createElement(c.a,{x:s.c/2,y:s.d/4,errorStr:e.error})))),y.map((e,t)=>a.createElement("g",{key:e.name,"data-test":"finally-loading-task-list-node "+e.name},a.createElement(C,{taskIndex:t+b.length}),a.createElement("g",{transform:`translate(${S},\n          ${s.u*(t+b.length)+s.r*(t+b.length)+s.q})`},a.createElement(u.a,{width:s.x,height:s.u,name:e.name,key:e.name})))),E.map((e,n)=>a.createElement("g",{key:e.name,"data-test":"finally-invalid-task-list-node "+e.name},a.createElement(C,{taskIndex:n+b.length+y.length}),a.createElement("g",{transform:`translate(${S},\n              ${s.u*(n+b.length+y.length)+s.r*(n+b.length+y.length)+s.q})`},a.createElement(p.a,{width:s.x,height:s.u,onRemoveTask:e.onRemoveTask,onNewTask:e.convertList,onTaskSearch:O,unselectedText:e.name}),a.createElement(c.a,{x:s.d/2,y:s.d/4,errorStr:t("pipelines-plugin~Task does not exist")})))),f.map((e,t)=>a.createElement("g",{key:e.name,"data-test":"finally-task-list-node "+e.name},a.createElement(C,{taskIndex:t+b.length+y.length+E.length}),a.createElement("g",{transform:`translate(${S},\n              ${s.u*(t+b.length+y.length+E.length)+s.r*(t+b.length+y.length+E.length)+s.q})`},a.createElement(p.a,{width:s.x,height:s.u,onRemoveTask:e.onRemoveTask,onNewTask:e.convertList,onTaskSearch:O})))),a.createElement("g",{transform:`translate(${P}, ${k*s.u+(k-1)*s.r+s.u+s.p+s.q})`,style:{cursor:"pointer"},onClick:h},a.createElement("g",null,a.createElement(d.a,{x:0,y:s.p-s.o,tooltip:t("pipelines-plugin~Add finally task")}),a.createElement("text",{x:s.o,"data-test":"add-finally-node",className:"opp-builder-finally-node__text"},t("pipelines-plugin~Add finally task")))))})},6283:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(5676),o=n(5834);n(6285);t.a=({width:e,height:t,enableTooltip:n,appendLine:s=!1,status:l,leftOffset:c=2,isFinallyTask:u,isPipelineRun:d})=>{const p=a.useRef(),{tooltipContent:m,diamondColor:g}=Object(o.l)(l,d,u),v=Math.round(e*Math.sin(45))+Math.round(t*Math.cos(45)),h=a.createElement("g",{transform:`translate(-${e*c}, ${r.u/2-v/2})`,ref:p},a.createElement("rect",{"data-test":"diamond-decorator",className:"opp-when-expression-decorator-diamond",width:e,height:t,fill:g,stroke:d?g:"var(--pf-v5-global--BorderColor--light-100)"}),s&&a.createElement("line",{x1:v/2,y1:v/2,x2:e*c,y2:v/2,stroke:"var(--pf-v5-global--BorderColor--light-100)"}));return n?a.createElement(i.a,{triggerRef:p,position:"bottom",enableFlip:!1,content:a.createElement("div",{"data-test":"when-expression-tooltip"},m)},h):h}},6284:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this.names=[],this.vertices=new Map}visit(e,t,n,a){const{name:i}=e,r=e.dependancy,o=e.dependancyNames,s=o.length;if(n||(n=new Map),a||(a=[]),!n.has(i)){a.push(i),n.set(i,!0);for(let e=0;e<s;e++)this.visit(r[o[e]],t,n,a);t(e,a),a.pop()}}map(e,t){this.addVertex(e).data=t}addVertex(e){if(!e)return null;if(this.vertices.has(e))return this.vertices.get(e);const t={name:e,level:0,dependancy:{},dependancyNames:[],hasOutgoing:!1,data:{}};return this.vertices.set(e,t),this.names.push(e),t}addEdge(e,t){if(!e||!t||e===t)return;const n=this.addVertex(e),a=this.addVertex(t);if(a.dependancy[e])return;this.visit(n,(e,n)=>{if(e.name===t)throw new Error(`cycle detected: ${n.reverse().join(" --\x3e ")} --\x3e ${t}`);e.level=n.length}),n.hasOutgoing=!0,a.dependancy[e]=n,a.dependancyNames.push(e)}addEdges(e,t,n,a){this.map(e,t),n&&("string"==typeof n?this.addEdge(e,n):n.forEach(t=>this.addEdge(e,t))),a&&("string"==typeof a?this.addEdge(a,e):a.forEach(t=>this.addEdge(t,e)))}topologicalSort(e){const t=new Map,{vertices:n}=this,{names:a}=this,i=a.length;for(let r=0;r<i;r++){const i=n.get(a[r]);i.hasOutgoing||this.visit(i,e,t)}}printGraph(){const e=[];return this.topologicalSort((t,n)=>{t.data.stage=this.names.length-n.length,e.push(t.name)}),console.log(e.join(" --\x3e ")),e.join(" --\x3e ")}}},6285:function(e,t,n){},6286:function(e,t,n){},6287:function(e,t,n){},6288:function(e,t,n){},6289:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(874),o=n(5676);n(6290);t.a=({content:e,x:t,y:n})=>{const s=a.useRef();return a.createElement(i.a,{triggerRef:s,content:e},a.createElement("g",{ref:s,className:"opp-installing-node-decorator",transform:`translate(${t}, ${n})`,onClick:e=>{e.stopPropagation()}},a.createElement("circle",{cx:0,cy:0,r:o.d,className:"opp-installing-node-decorator__circle"}),a.createElement("g",{transform:"translate(-5, -7)"},a.createElement(r.a,{className:"fa-spin"}))))}},6290:function(e,t,n){},6291:function(e,t,n){},6292:function(e,t,n){},6293:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(6262),o=n(8013),s=n(5676);n(6294);t.a=({content:e,x:t,y:n,removeCallback:l=(()=>{})})=>{const c=a.useRef();return a.createElement(i.a,{triggerRef:c,content:e},a.createElement("g",{ref:c,className:"opp-remove-node-decorator",transform:`translate(${t}, ${n})`,onClick:e=>{e.stopPropagation(),l()},"data-id":"delete-task"},a.createElement("circle",{cx:0,cy:0,r:s.d,fill:o.a.value}),a.createElement("g",{transform:"translate(-6, -6)"},a.createElement(r.a,{color:"white"}))))}},6294:function(e,t,n){},6295:function(e,t,n){},6296:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(5585),o=n(7),s=n(5676),l=n(6e3),c=n(6071),u=n(6073);t.a=Object(r.observer)(({element:e})=>{const{t:t}=Object(o.useTranslation)(),[n,d]=Object(r.useHover)(),{width:p,height:m}=e.getBounds(),g=e.getData(),{error:v,onAddNode:h,onNodeSelection:b}=g;return a.createElement("g",{className:"odc-builder-node","data-test":"builder-node "+g.task.name,ref:d},a.createElement("rect",{x:2*-s.c,y:0,width:p+4*s.c,height:m+2*s.c,fill:"transparent"}),a.createElement("g",{onClick:()=>b(g)},a.createElement(u.a,{element:e,disableTooltip:!0}),v&&a.createElement(l.a,{x:s.d/2,y:s.d/4,errorStr:v})),a.createElement("g",{style:{display:n?"block":"none"}},a.createElement(c.a,{"data-test":"add-after",x:p+s.c+s.b,y:m/2,tooltip:t("pipelines-plugin~Add a sequential task after this task"),onClick:()=>h(s.a.AFTER)}),a.createElement(c.a,{"data-test":"add-before",x:-s.c-s.b,y:m/2,tooltip:t("pipelines-plugin~Add a sequential task before this task"),onClick:()=>h(s.a.BEFORE)}),a.createElement(c.a,{"data-test":"add-parallel",x:p/2,y:m+s.c+s.b,tooltip:t("pipelines-plugin~Add a parallel task"),tooltipPosition:i.b.bottom,onClick:()=>h(s.a.PARALLEL)})))})},6297:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(6299),o=n.n(r),s=n(6408),l=n(5585),c=n(18),u=n(16),d=n(7),p=n(14),m=n(83),g=n(695),v=n(5),h=n(5586),b=n(6066);n(6298);const f=({pipelineRunName:e,namespace:t,task:n,name:r,disableVisualizationTooltip:m,width:g,height:f,customTask:y})=>{var E;const{t:O}=Object(d.useTranslation)(),k=!!e,j=r||u.a(n,["metadata","name"],""),S=a.useRef(),T=a.useRef(),P=""+Object(v.uc)(h.CustomRunModelV1Beta1,null===(E=null==y?void 0:y.metadata)||void 0===E?void 0:E.name,t),C=!!P,[w,R]=Object(l.useHover)(),I=a.useMemo(()=>Object(v.Bc)(j,{length:k?11:14,truncateEnd:!0}),[j,k]),N=a.createElement("text",{ref:S,x:k?30:g/2,y:f/2+1,className:c("odc-pipeline-vis-task-text",{"is-text-center":!e,"is-linked":C})},I);let x=a.createElement("g",{ref:R},a.createElement(b.a,{dy:1,id:"SvgTaskDropShadowFilterId"}),a.createElement("rect",{filter:w?Object(l.createSvgIdUrl)("SvgTaskDropShadowFilterId"):"",width:g,height:f,rx:5,className:c("odc-pipeline-vis-task",{"is-selected":!!e&&w,"is-linked":!!e&&C}),style:{stroke:s.global_palette_black_500.value}}),j!==I&&m?a.createElement(i.a,{triggerRef:S,content:j},N):N,k&&a.createElement(a.Fragment,null,a.createElement("svg",{width:30,height:30,viewBox:"-10 -7 30 30",style:{color:s.global_palette_black_500.value}},a.createElement(o.a,null))));return m||(x=a.createElement(i.a,{triggerRef:T,position:"bottom",enableFlip:!1,content:O("pipelines-plugin~Custom Task")},a.createElement("g",{ref:T},x))),a.createElement("g",{className:c("odc-pipeline-topology__task-node",{"is-link":C})},C?a.createElement(p.Link,{to:P},x):x)};t.a=a.memo(Object(l.observer)(({element:e,disableTooltip:t})=>{var n,i,r,o,s;const{height:l,width:c}=e.getBounds(),{pipeline:u,pipelineRun:d,task:p}=e.getData(),v=`${null===(n=null==d?void 0:d.metadata)||void 0===n?void 0:n.name}-${null==p?void 0:p.name}`,b={customRun:{groupVersionKind:Object(m.getGroupVersionKindForModel)(h.CustomRunModelV1Beta1),name:v,namespace:null===(i=null==u?void 0:u.metadata)||void 0===i?void 0:i.namespace,prop:"task"}},y=Object(g.d)(b);return a.createElement(f,{pipelineRunName:null===(r=null==d?void 0:d.metadata)||void 0===r?void 0:r.name,name:p.name||"",task:p.taskSpec&&{data:{spec:p.taskSpec}},namespace:null===(o=null==u?void 0:u.metadata)||void 0===o?void 0:o.namespace,disableVisualizationTooltip:t,width:c,height:l,customTask:null===(s=y.customRun)||void 0===s?void 0:s.data})}))},6298:function(e,t,n){},6300:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(5617),o=n(5998),s=n(5676),l=n(5999);n(6301);t.a=Object(i.observer)(({element:e})=>{const{task:t,pipeline:n,pipelineRun:c}=e.getData(),{width:u,height:d}=e.getBounds(),p=s.u+s.u/2,m=s.q+s.B,g=s.u+s.r,{finallyTasks:v=[]}=t;return a.createElement("g",{transform:"translate(0.5, 0.5)","data-test":"finally-node"},a.createElement("rect",{className:"opp-finally-node",strokeWidth:1,width:u,height:d,rx:"20",ry:"20"}),v.map((e,t)=>{var u,v,h,b;return a.createElement("g",{key:e.name,"data-test":"finally-task-node "+e.name},a.createElement("path",{className:"opp-finally-node__connector",d:p+t*g===d/2?Object(l.b)(new i.Point(m,d/2),new i.Point(0,d/2)):Object(l.a)(new i.Point(0,d/2),new i.Point(m,p+t*g))}),a.createElement("g",{transform:`translate(${m}, ${s.u*t+s.r*t+s.q})`},a.createElement(o.a,{pipelineRunName:null===(u=null==c?void 0:c.metadata)||void 0===u?void 0:u.name,task:e,pipelineRunStatus:c&&Object(r.c)(c),namespace:null===(v=null==n?void 0:n.metadata)||void 0===v?void 0:v.namespace,selected:e.selected,width:s.x,height:s.u,isFinallyTask:!0,isSkipped:null===(b=null===(h=null==c?void 0:c.status)||void 0===h?void 0:h.skippedTasks)||void 0===b?void 0:b.some(t=>t.name===e.name)})))}))})},6301:function(e,t,n){},6302:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(7),o=n(5676),s=n(6e3),l=n(6074);t.a=Object(i.observer)(({element:e})=>{const{t:t}=Object(r.useTranslation)(),{task:{name:n}}=e.getData();return a.createElement("g",null,a.createElement(l.a,{element:e,unselectedText:n}),a.createElement(s.a,{x:o.d/2,y:o.d/4,errorStr:t("pipelines-plugin~Task does not exist")}))})},6303:function(e,t,n){},6304:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(6070);t.a=Object(i.observer)(({element:e})=>{const{height:t,width:n}=e.getBounds(),{task:{name:i}}=e.getData();return a.createElement(r.a,Object.assign({},{width:n,height:t,name:i}))})},6305:function(e,t,n){"use strict";var a=n(0),i=n(88),r=n(5585),o=n(18),s=n.n(o),l=n(5668),c=n(14),u=n(83),d=n(5),p=n(8),m=n(206),g=n(5586),v=n(5595),h=n(5617),b=n(5588),f=n(6068),y=n(6069),E=n(5676),O=n(5834),k=(n(6306),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n});t.a=a.memo(Object(l.a)(e=>{var t,n,o,l,j,S,T,P,C,w,R,I,N,x,D,_,A,L,{element:F,onContextMenu:B,contextMenuOpen:U}=e,M=k(e,["element","onContextMenu","contextMenuOpen"]);const $=F.getData(),[G,K]=Object(r.useHover)(),V=a.useRef(),H=Object(r.useDetailsLevel)(),q=Object(m.a)(b.e),z=F.getType()===E.y.FINALLY_NODE;let W;q||(null===(n=null===(t=$.task)||void 0===t?void 0:t.taskRef)||void 0===n?void 0:n.kind)!==g.ClusterTaskModel.kind?(null===(o=$.task)||void 0===o?void 0:o.taskRef)&&(W={kind:Object(p.Hb)(g.TaskModel),name:$.task.taskRef.name,namespace:$.pipeline.metadata.namespace,prop:"task"}):W={kind:Object(p.Hb)(g.ClusterTaskModel),name:$.task.taskRef.name,prop:"task"};const[J]=Object(u.useK8sWatchResource)(W),Y=J&&Object.keys(J).length?J:$.task,X=(null===(l=null==Y?void 0:Y.status)||void 0===l?void 0:l.steps)||(null===(j=null==Y?void 0:Y.spec)||void 0===j?void 0:j.steps)||(null===(S=null==Y?void 0:Y.taskSpec)||void 0===S?void 0:S.steps)||[],Z=$.pipelineRun&&Object(h.c)($.pipelineRun),Q=!(!Y||!(null===(C=null===(P=null===(T=$.pipelineRun)||void 0===T?void 0:T.status)||void 0===P?void 0:P.skippedTasks)||void 0===C?void 0:C.some(e=>e.name===$.task.name,e=>e.name===Y.name))),ee=(null===(w=$.task)||void 0===w?void 0:w.status)||{duration:"",reason:v.a.Idle};Z!==v.a.Failed&&Z!==v.a.Cancelled||(null===(I=null===(R=$.task)||void 0===R?void 0:R.status)||void 0===I?void 0:I.reason)!==v.a.Idle&&(null===(x=null===(N=$.task)||void 0===N?void 0:N.status)||void 0===x?void 0:x.reason)!==v.a.Pending||(ee.reason=v.a.Cancelled),Q&&(ee.reason=v.a.Skipped);const te=X.map(e=>Object(f.a)(e,ee)),{pipelineRun:ne}=$,ae=te.filter(({status:e})=>e===v.a.Succeeded).length,ie=te.length>0&&$.status?`${ae}/${te.length}`:null,re=a.useMemo(()=>{const e=Object.assign({},$);return Object.keys(e).forEach(t=>{void 0===e[t]&&delete e[t]}),e},[$]),oe=!(!$.taskIconClass&&!$.taskIcon),se=Object(O.k)(null===(_=null===(D=$.task)||void 0===D?void 0:D.status)||void 0===_?void 0:_.reason),le=$.whenStatus?a.createElement(r.WhenDecorator,{element:F,status:$.whenStatus,leftOffset:oe?r.DEFAULT_WHEN_OFFSET+.75*(F.getBounds().height-4):r.DEFAULT_WHEN_OFFSET,toolTip:se}):null,{name:ce,namespace:ue}=null==ne?void 0:ne.metadata,de=ce?`${Object(d.uc)(g.PipelineRunModel,ce,ue)}/logs?taskName=${F.getLabel()}`:void 0,pe=$.status!==v.a.Idle&&$.status!==v.a.Pending&&$.status!==v.a.Cancelled&&$.status!==v.a.Skipped&&!!de,me=a.createElement(r.TaskNode,Object.assign({className:"odc-pipeline-topology__task-node",element:F,onContextMenu:$.showContextMenu?B:void 0,contextMenuOpen:U,scaleNode:(G||U)&&H!==r.ScaleDetailsLevel.high,hideDetailsAtMedium:!0},re,M,{badge:ie,truncateLength:null===(L=null===(A=F.getData())||void 0===A?void 0:A.label)||void 0===L?void 0:L.length}),le),ge=s()("odc-pipeline-topology__task-node",{"is-link":pe});return a.createElement(r.Layer,{id:H!==r.ScaleDetailsLevel.high&&(G||U)?r.TOP_LAYER:r.DEFAULT_LAYER},a.createElement("g",{"data-test":"task "+F.getLabel(),className:ge,ref:K},a.createElement(i.a,{enableFlip:!0,triggerRef:V,content:a.createElement(y.a,{isSpecOverview:!$.status,taskName:F.getLabel(),steps:te,isFinallyTask:z})},a.createElement("g",{ref:V},pe?a.createElement(c.Link,{to:de},me):me))))}))},6306:function(e,t,n){},6307:function(e,t,n){"use strict";var a=n(0),i=n(5999);t.a=({element:e})=>{const t=e.getStartPoint(),n=e.getEndPoint(),r=e.getSource(),o=e.getTarget();return a.createElement("path",{d:Object(i.a)(t.clone().translate(r.getBounds().width/2-1,0),n.clone().translate(-o.getBounds().width/2,0)),stroke:"var(--pf-v5-global--BorderColor--light-100)",fill:"none",transform:"translate(0.5,0.5)"})}},6308:function(e,t,n){"use strict";var a=n(0),i=n(5585),r=n(2246),o=n(5676),s=n(6049),l=n(5834);t.a=({model:e,componentFactory:t,showControlBar:n=!1,noScrollbar:c=!1})=>{const[u,d]=a.useState(null),[p,m]=a.useState(null),[g,v]=a.useState(null),h=a.useRef(null),b=e.graph.layout,f=a.useCallback(e=>{const t=e.map(e=>e.getBounds()),n=Math.floor(t.map(e=>e.width).reduce((e,t)=>Math.max(e,t),0)),a=Math.floor(t.map(e=>e.height).reduce((e,t)=>Math.max(e,t),0)),i=t.find(e=>e.height===a),r=Math.floor(t.map(e=>e.x).reduce((e,t)=>Math.max(e,t),0)),s=Math.floor(t.map(e=>e.y).reduce((e,t)=>Math.max(e,t),0));let c=0,u=0;b&&(c=Object(l.j)(b).marginx||0,u=Object(l.j)(b).marginy||0);const d=i.y+a+o.m+2*u,p=s+o.u+o.m+2*u;m({height:Math.max(d,p)+o.A,width:Math.max(r+n+o.m+2*c,o.t)})},[m,b]);if(a.useEffect(()=>{if(null===u){const n=new i.Visualization;n.registerLayoutFactory(s.c),n.registerComponentFactory(t),n.fromModel(e),n.addEventListener(i.GRAPH_POSITION_CHANGE_EVENT,()=>{h.current=n.getGraph().toModel()}),n.addEventListener(i.GRAPH_LAYOUT_END_EVENT,()=>{f(n.getGraph().getNodes())}),d(n)}else{const t=h.current;t&&(e.graph=t),u.fromModel(e),u.getGraph().layout()}},[u,e,f,t]),a.useEffect(()=>{if(e&&u){const t=h.current;t&&(e.graph=t),u.fromModel(e)}},[e,u]),!u)return null;return a.createElement(r.a,{bounds:!0,onResize:e=>{var t;v(null===(t=e.bounds)||void 0===t?void 0:t.width)}},({measureRef:e})=>{return a.createElement("div",{ref:e},a.createElement("div",{style:{height:c?null==p?void 0:p.height:Math.min(o.s/100*window.innerHeight,null==p?void 0:p.height),width:c?null==p?void 0:p.width:Math.min(null==p?void 0:p.width,g)}},a.createElement(i.VisualizationProvider,{controller:u},n?a.createElement(i.TopologyView,{controlBar:(t=u,a.createElement(i.TopologyControlBar,{controlButtons:Object(i.createTopologyControlButtons)(Object.assign(Object.assign({},i.defaultControlButtonsOptions),{zoomInCallback:Object(i.action)(()=>{t.getGraph().scaleBy(4/3)}),zoomOutCallback:Object(i.action)(()=>{t.getGraph().scaleBy(.75)}),fitToScreenCallback:Object(i.action)(()=>{t.getGraph().fit(80)}),resetViewCallback:Object(i.action)(()=>{t.getGraph().reset(),t.getGraph().layout()}),legend:!1}))}))},a.createElement(i.VisualizationSurface,null)):a.createElement(i.VisualizationSurface,null))));var t})}},6309:function(e,t,n){},6310:function(e,t,n){},6311:function(e,t,n){"use strict";var a=n(0),i=n(72),r=n(219),o=n(241),s=n(130),l=n(7304),c=n(55),u=n(16),d=n(7),p=n(5618),m=n(5648),g=n(6312),v=n(6075);t.a=({pac:e,formContextField:t})=>{const{values:n,setFieldValue:h}=Object(c.f)(),b=t?t+".":"",{method:f}=u.a(n,t)||n,{t:y}=Object(d.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(i.a,null,y("pipelines-plugin~A GitHub App is already set up for this cluster. To use it, install the GitHub app on your personal account or GitHub organization.")),a.createElement("br",null),a.createElement(p.a,{extraMargin:!0},a.createElement(r.a,{fieldId:"method"},a.createElement(o.a,null,a.createElement(s.a,{span:3},a.createElement(l.a,{"data-test":"github",title:y("pipelines-plugin~Use GitHub App"),onClick:()=>h(b+"method",m.b.GITHUB),isSelected:f===m.b.GITHUB})),a.createElement(s.a,{span:3},a.createElement(l.a,{"data-test":"webhook",title:y("pipelines-plugin~Setup a webhook"),onClick:()=>h(b+"method",m.b.WEBHOOK),isSelected:f===m.b.WEBHOOK}))))),a.createElement(p.a,{fullWidth:f===m.b.WEBHOOK||!b},f===m.b.GITHUB&&a.createElement(g.a,{pac:e}),f===m.b.WEBHOOK&&a.createElement(v.a,{pac:e,formContextField:t})))}},6312:function(e,t,n){"use strict";var a=n(0),i=n(72),r=n(7);t.a=({pac:e})=>{var t,n;const{t:o}=Object(r.useTranslation)(),s=null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t["app-link"])&&void 0!==n?n:"";return a.createElement(i.a,null,a.createElement(r.Trans,{t:o,ns:"pipelines-plugin"},"Use"," ",a.createElement("a",{target:"_blank",href:s,rel:"noopener noreferrer"},s)," ","link to install the GitHub Application to your repositories in your organisation/account."))}},6313:function(e,t,n){"use strict";var a=n(0),i=n(1399),r=n(970),o=n(55),s=n(16),l=n(7),c=n(5591);t.a=({formContextField:e})=>{const{t:t}=Object(l.useTranslation)(),{values:n}=Object(o.f)(),{gitProvider:u}=s.a(n,e)||n;let d;switch(u){case c.b.GITHUB:d=a.createElement(i.a,null,a.createElement(r.a,null,t("pipelines-plugin~Commit comments")),a.createElement(r.a,null,t("pipelines-plugin~Issue comments")),a.createElement(r.a,null,t("pipelines-plugin~Pull request")),a.createElement(r.a,null,t("pipelines-plugin~Pushes")));break;case c.b.GITLAB:d=a.createElement(i.a,null,a.createElement(r.a,null,t("pipelines-plugin~Merge request Events")),a.createElement(r.a,null,t("pipelines-plugin~Push Events")));break;case c.b.BITBUCKET:d=a.createElement(i.a,null,a.createElement(r.a,null,t("pipelines-plugin~Repository: Push")),a.createElement(r.a,null,t("pipelines-plugin~Pull Request: Created")),a.createElement(r.a,null,t("pipelines-plugin~Pull Request: Updated")),a.createElement(r.a,null,t("pipelines-plugin~Pull Request: Comment Created")));break;default:d=null}return d}},6316:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(2253),o=n(5618);t.a=()=>{const{t:e}=Object(i.useTranslation)();return a.createElement(o.a,{title:e("devconsole~Labels"),subTitle:e("devconsole~Each label is applied to each created resource.")},a.createElement(r.a,{name:"labels",placeholder:"app.io/type=frontend",dataTest:"labels"}))}},6317:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(15),o=n(6318),s=n(6321);t.a=({route:e,resources:t})=>{const{t:n}=Object(i.useTranslation)(),{defaultUnknownPort:l,disable:c,create:u}=e;return a.createElement(a.Fragment,null,a.createElement(s.a,{defaultPort:l}),a.createElement(r.A,{name:"route.create",label:n("devconsole~Create a route"),helpText:n("devconsole~Exposes your component at a public URL"),isDisabled:c}),a.createElement(o.a,{canCreateRoute:u,resources:t}))}},6318:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(7),o=n(5),s=n(2253),l=n(5599),c=n(5618),u=n(6319),d=n(6320),p=n(6214);t.a=({canCreateRoute:e,resources:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement(o.x,{textExpanded:n("devconsole~Hide advanced Routing options"),textCollapsed:n("devconsole~Show advanced Routing options")},a.createElement(c.a,null,e?t===l.k.KnativeService?a.createElement(u.a,null):a.createElement(a.Fragment,null,a.createElement(d.a,null),a.createElement(p.a,null),a.createElement(s.a,{name:"route.labels",label:n("devconsole~Labels"),helpText:n("devconsole~Additional labels which are only added to the Route resource."),placeholder:"app.io/type=frontend",dataTest:"route-labels"})):a.createElement(i.a,{variant:"info",isInline:!0,title:n('devconsole~Select the checkbox "Create a route" to edit advanced routing options')})))}},6319:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(55),o=n(7),s=n(5),l=n(108),c=n(8),u=n(1402),d=n(15),p=n(5651);t.a=()=>{var e;const{t:t}=Object(o.useTranslation)(),{setFieldValue:n,values:{name:m,project:{name:g},serverless:v}}=Object(r.f)(),h=a.useMemo(()=>({kind:Object(c.Hb)(u.a),isList:!0,namespace:g,optional:!0}),[g]),[b,f,y]=Object(l.a)(h),E=a.useMemo(()=>f&&!y?b.map(e=>{const t=Object(p.c)(e,m);return{value:t?`${e.metadata.name} (${t})`:e.metadata.name,disabled:!1}}):[],[f,y,b,m]);a.useEffect(()=>{if(f&&!y&&(null==b?void 0:b.length)){const e=b.filter(e=>{var t,n;return(null===(n=null===(t=e.spec)||void 0===t?void 0:t.ref)||void 0===n?void 0:n.name)===m}).map(e=>e.metadata.name),t=[...v.domainMapping?v.domainMapping:[],...e];n("serverless",Object.assign(Object.assign({},v),{domainMapping:Object(p.e)(t,e)}))}},[b,f,y,m,n]);const O=null!==(e=Object(p.a)(v.domainMapping,b,m))&&void 0!==e?e:[];return a.createElement(a.Fragment,null,f||y?a.createElement(a.Fragment,null,a.createElement(d.pb,{"data-test-id":"domain-mapping-field",name:"serverless.domainMapping",label:t("devconsole~Domain mapping"),ariaLabel:t("devconsole~Domain mapping"),options:E,placeholderText:t("devconsole~Add domain"),helpText:t("devconsole~Enter custom domain to map to the Knative service"),isCreatable:!0}),Object(p.d)(v.domainMapping)&&a.createElement(i.a,{"data-test":"domain-mapping-warning",variant:"warning",isInline:!0,title:t("devconsole~Domain mapping(s) will be updated")},a.createElement("div",{style:{marginBottom:"var(--pf-v5-global--spacer--sm)"}},t("devconsole~Warning: The following domain(s) will be removed from the associated service")),O.length>0&&a.createElement("ul",null,O.map(e=>a.createElement("li",{key:e.metadata.uid},t("devconsole~{{domainMapping}} from {{knativeService}}",{domainMapping:e.metadata.name,knativeService:e.spec.ref.name})))))):a.createElement(s.T,null))}},6320:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(7),o=n(15);t.a=()=>{const{t:e}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.ab,{type:i.b.text,name:"route.hostname",label:e("devconsole~Hostname"),helpText:e("devconsole~Public hostname for the route. If not specified, a hostname is generated.")}),a.createElement(o.ab,{type:i.b.text,name:"route.path",label:e("devconsole~Path"),placeholder:"/",helpText:e("devconsole~Path that the router watches to route traffic to the service.")}))}},6321:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(15);t.a=({defaultPort:e})=>{var t;const{t:n}=Object(r.useTranslation)(),{values:{image:{ports:s}}}=Object(i.f)(),l=Array.from(new Set(s.map(e=>e.containerPort.toString()))).map(e=>({value:e,disabled:!1})),c=(null===(t=s[0])||void 0===t?void 0:t.containerPort)||e;return a.createElement(o.ac,{"data-test-id":"target-port-field",name:"route.unknownTargetPort",label:n("devconsole~Target port"),ariaLabel:n("devconsole~Target port"),placeholderText:c.toString(),helpText:n("devconsole~Target port for traffic."),options:l,toggleOnSelection:!0})}},6322:function(e,t,n){"use strict";var a=n(0),i=n(7),r=n(15),o=n(5618);t.a=()=>{const{t:e}=Object(i.useTranslation)(),t={s:e("devconsole~Sec"),m:e("devconsole~Min"),h:e("devconsole~Hrs")};return a.createElement(o.a,{title:e("devconsole~Scaling"),subTitle:e("devconsole~Set the autoscaler parameters around pods and concurrency limits in this section.")},a.createElement(r.ub,{name:"serverless.scaling.minpods",label:e("devconsole~Min Pods"),helpText:e("devconsole~The lower limit for the number of Pods that can be set by autoscaler. If not specified defaults to 0.")}),a.createElement(r.ub,{name:"serverless.scaling.maxpods",label:e("devconsole~Max Pods"),helpText:e("devconsole~The upper limit for the number of Pods that can be set by autoscaler.")}),a.createElement(r.ub,{name:"serverless.scaling.concurrencytarget",label:e("devconsole~Concurrency target"),helpText:e("devconsole~Defines how many concurrent requests are wanted per instance of the application at a given time (soft limit) and is the recommended configuration for autoscaling. If not specified, will be defaulted to the value set in the Cluster config.")}),a.createElement(r.ub,{name:"serverless.scaling.concurrencylimit",label:e("devconsole~Concurrency limit"),helpText:e("devconsole~Limits the amount of concurrent requests allowed into one instance of the application at a given time (hard limit), and is configured in the revision template. If not specified, will be defaulted to the value set in the Cluster config.")}),a.createElement(r.ub,{name:"serverless.scaling.concurrencyutilization",label:e("devconsole~Concurrency utilization"),helpText:e("devconsole~Percentage of concurrent requests utilization before scaling up.")}),a.createElement(r.Pb,{name:"serverless.scaling.autoscale.autoscalewindow",label:e("devconsole~Autoscale window"),unitName:"serverless.scaling.autoscale.autoscalewindowUnit",unitOptions:t,helpText:e("devconsole~Duration to look back for making auto-scaling decisions. The service is scaled to zero if no request was received in during that time.")}))}},6323:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(13);const r=(e,t)=>{const[n,r]=Object(i.kc)(i.wb);return[a.useMemo(()=>r?n.filter(n=>n.properties.imageStreamName===e&&n.properties.imageStreamTags.includes(t)).map(e=>e.properties.environments).flat():[],[n,e,t,r]),r]}},6406:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(55),o=n(7),s=n(5618),l=n(761),c=n(53),u=n(5),d=n(243),p=n(5669),m=n(5586),g=n(6539);n(6542);t.a=Object(d.a)(p.d,l.d)(({flags:e,builderImages:t,existingPipeline:n})=>{const{t:d}=Object(o.useTranslation)(),{values:v,setFieldValue:h}=Object(r.f)();a.useEffect(()=>{e[p.d]&&!e[l.d]&&h("pipeline.enabled",!0)},[h,e]);const b=(()=>{const e=Object(u.Dc)({group:m.PipelineModel.apiGroup,resource:m.PipelineModel.plural,namespace:p.b,verb:"list"}),t=Object(u.Dc)({group:m.PipelineModel.apiGroup,resource:m.PipelineModel.plural,namespace:Object(c.c)(),verb:"create"});return e&&t})();return e[p.d]&&b?a.createElement(s.a,null,v.image.selected||"Docker"===v.build.strategy?a.createElement(g.a,{builderImages:t,existingPipeline:n}):a.createElement(i.a,{isInline:!0,variant:"info",title:d("pipelines-plugin~Select a Builder Image and resource to see if there is a pipeline template available for this runtime.")})):null})},6409:function(e,t,n){"use strict";var a=n(0),i=n(219),r=n(297),o=n(319),s=n(157),l=n(55),c=n(7),u=n(6550),d=n(5618);t.a=()=>{const{t:e}=Object(c.useTranslation)(),[t]=Object(l.e)("runtimeIcon"),n=Object(l.f)();return a.createElement(d.a,null,a.createElement(i.a,{fieldId:"runtimeIcon",label:e("devconsole~Runtime icon")},a.createElement(u.a,{placeholder:e("devconsole~Select an icon"),value:t.value,onChanged:e=>{n.setFieldValue("runtimeIcon",e),n.setFieldTouched("runtimeIcon")}}),a.createElement(r.a,null,a.createElement(o.a,null,a.createElement(s.a,null,e("devconsole~The icon represents your Image in Topology view. A label will also be added to the resource defining the icon."))))))}},6539:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(88),o=n(1921),s=n(55),l=n(29),c=n(22),u=n(7),d=n(5599),p=n(5591),m=n(5),g=n(8),v=n(5669),h=n(15),b=n(5586),f=n(6211),y=n(5620),E=n(6540),O=(n(6076),function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))});const k=(e,t,n)=>{const a=l.a.t("pipelines-plugin~The pipeline template for Dockerfiles is not available at this time.");return e?a:l.a.t("pipelines-plugin~There are no pipeline templates available for {{builderImage}} and {{resourceType}} combination.",{builderImage:t,resourceType:n})};t.a=({builderImages:e,existingPipeline:t})=>{var n;const{t:l}=Object(u.useTranslation)(),[j,S]=a.useState(!1),[T,P]=a.useState(!1),[C,w]=a.useState(!1),[R,I]=a.useState(!1),[N,x]=a.useState([]),D=a.useRef({}),_=Object(h.Fe)(v.e),{values:{import:{recommendedStrategy:A,selectedStrategy:L},git:{url:F,type:B,ref:U,dir:M,secretResource:$},pipeline:G,image:K,build:{option:V,strategy:H},resources:q},setFieldValue:z,setFieldTouched:W}=Object(s.f)(),J="Docker"===H,Y=!c.a(t),X="ServerlessFunction"===H,Z=e=>e.map(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.name}).sort().join(","),Q=a.useCallback(()=>O(void 0,void 0,void 0,(function*(){const e=F&&Object(p.e)(F,B,U,M,$),t=[p.b.GITEA];e&&!t.includes(B)&&_&&(yield e.isTektonFolderPresent())?(P(!0),z("pipeline.enabled",!0),z("pipeline.type",y.a.PAC),z("pac.repository.gitUrl",F),z("pac.pipelineType",y.a.PAC),z("pac.pipelineEnabled",!0)):(z("pipeline.type",y.a.PIPELINE),z("pac.repository.gitUrl",""),z("pac.pipelineType",y.a.PIPELINE),z("pac.pipelineEnabled",!1)),w(!0)})),[F,B,U,M,$,_,z]);a.useEffect(()=>{D.current={}},[L]),a.useEffect(()=>{z("pac.pipelineEnabled",!!G.enabled),setTimeout(()=>{W("pipeline.enabled",!0)},0)},[G.enabled,z,W]),a.useEffect(()=>{V===d.a.PIPELINES&&(z("pipeline.enabled",!0),z("pac.pipelineEnabled",!0))},[V,z]),a.useEffect(()=>{let e=!1;const n={[v.h]:K.selected},a={"pipeline.openshift.io/strategy":"docker"},i={[v.g]:K.selected};let r;r=J?a:X?i:n;return O(void 0,void 0,void 0,(function*(){var n;let a=null;if(D.current[K.selected]&&(null===(n=D.current[K.selected])||void 0===n?void 0:n.length)||(a=yield Object(g.nb)(b.PipelineModel,{ns:v.b,labelSelector:r})),e)return;a&&(D.current[K.selected]=a);const i=D.current[K.selected]||[],o=[...i.filter(e=>{var t,n;return(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["pipeline.openshift.io/type"])===q}),...i.filter(e=>{var t,n;return!(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["pipeline.openshift.io/type"])})];Z(N)!==Z(o)&&x(o);const s=o[0];Y?(z("pipeline.template",t),z("pipeline.templateSelected",t.metadata.name),S(!1)):G.templateSelected&&N.some(e=>e.metadata.name===G.templateSelected)?(z("pipeline.template",N.find(e=>e.metadata.name===G.templateSelected)),S(!1)):s?(z("pipeline.template",s),z("pipeline.templateSelected",s.metadata.name),S(!1)):(z("pipeline.template",null),z("pipeline.templateSelected",""),S(!0))})),Y||C||Q(),()=>{e=!0}},[q,A,K.selected,J,z,G.templateSelected,N,Y,t,Q,X,C]);const ee=a.useMemo(()=>{const e={};for(const t of N){const{name:n}=t.metadata;e[n]=n}return G.templateSelected&&(e[G.templateSelected]=G.templateSelected),e},[G.templateSelected,N]);if(j){const t=(null===(n=null==e?void 0:e[K.selected])||void 0===n?void 0:n.title)||l("pipelines-plugin~this Builder Image"),r=l(d.j[q]);return a.createElement(i.a,{isInline:!0,variant:"info",title:k(J,t,r)})}return G.template?a.createElement(a.Fragment,null,V!==d.a.PIPELINES&&a.createElement(h.A,{label:l("pipelines-plugin~Add pipeline"),name:"pipeline.enabled",isDisabled:Y}),G.enabled&&T&&a.createElement(a.Fragment,null,a.createElement("span",{className:"pf-c-form__label-text"},l("pipelines-plugin~Pipeline")),a.createElement(h.Lb,{className:"odc-pipeline-section-pac__radio-intent",name:"pipeline.type",onChange:e=>{return z("pac.pipelineType",t=e),z("pipeline.type",t),void setTimeout(()=>{W("pipeline.type",!0)},0);var t},options:[{value:y.a.PAC,label:a.createElement(a.Fragment,null,l("pipelines-plugin~Build, deploy and configure a Pipeline Repository"),"  ",a.createElement(r.a,{position:"right",content:a.createElement("p",null,l("pipelines-plugin~Automatically configure a new Pipeline Repository for your Git repository. This will automatically trigger new PipelineRuns on new commits or Pull Requests based on your configuration in your source code."))},a.createElement(h.o,null))),activeChildren:a.createElement(E.a,null)},{value:y.a.PIPELINE,label:a.createElement(a.Fragment,null,l("pipelines-plugin~Use Pipeline from this cluster"),"  ",a.createElement(r.a,{position:"right",content:a.createElement("p",null,l('pipelines-plugin~Use an installed Pipeline from your cluster to build and deploy your component. Pipelines are from "openshift" namespace that support the relevant runtime are shown below.'))},a.createElement(h.o,null))),activeChildren:a.createElement(a.Fragment,null,a.createElement(h.I,{name:"pipeline.templateSelected",title:ee[G.templateSelected],items:ee,disabled:Y,fullWidth:!0}),a.createElement("br",null),a.createElement(o.a,{toggleText:`${l(R?"pipelines-plugin~Hide":"pipelines-plugin~Show")} ${l("pipelines-plugin~pipeline visualization")}`,isExpanded:R,onToggle:()=>I(!R)},R&&a.createElement(f.a,{pipeline:G.template})))}]})),G.enabled&&!T&&a.createElement(a.Fragment,null,a.createElement(h.I,{name:"pipeline.templateSelected",title:ee[G.templateSelected],items:ee,disabled:Y,label:l("pipelines-plugin~Pipeline"),fullWidth:!0}),a.createElement(o.a,{toggleText:`${l(R?"pipelines-plugin~Hide":"pipelines-plugin~Show")} ${l("pipelines-plugin~pipeline visualization")}`,isExpanded:R,onToggle:()=>I(!R)},R&&a.createElement(f.a,{pipeline:G.template})))):a.createElement(m.T,null)}},6540:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(5591),s=n(5),l=n(6105),c=n(5653),u=n(6311),d=n(6075),p=n(5648),m=n(6541);n(6076);t.a=()=>{const{t:e}=Object(r.useTranslation)(),[t,n]=a.useState(!1),{values:g,setFieldValue:v}=Object(i.f)(),{git:{url:h,type:b}}=g,[f,y]=Object(l.a)();return a.useEffect(()=>{y&&f&&f.data["app-link"]?(n(!0),v("pac.repository.githubAppAvailable",!0),v("pac.repository.method",p.b.GITHUB)):v("pac.repository.method",p.b.WEBHOOK)},[f,y,v]),a.useEffect(()=>{v("pac.repository.gitUrl",h),v("name",Object(c.f)(h)),v("pac.repository.gitProvider",b)},[v,h,b]),a.useEffect(()=>{v("pac.repository.name",g.name)},[v,g.name]),f?a.createElement(a.Fragment,null,a.createElement(s.x,{textCollapsed:e("pipelines-plugin~View details"),textExpanded:e("pipelines-plugin~Hide details")},a.createElement(m.a,null)),t&&b===o.b.GITHUB?a.createElement("div",{className:"odc-pipeline-section-pac__config-type"},a.createElement(u.a,{pac:f,formContextField:"pac.repository"})):a.createElement(d.a,{pac:f,formContextField:"pac.repository"})):a.createElement(s.R,null)}},6541:function(e,t,n){"use strict";var a=n(0),i=n(6139),r=n(55),o=n(7),s=n(5599),l=n(5618),c=n(324);n(6076);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[t]=Object(c.useActiveNamespace)(),{values:{name:n,resources:u}}=Object(r.f)(),d=s.j[u]?e(s.j[u]):"";return a.createElement(l.a,null,a.createElement("div",{className:"odc-pipeline-section-pac__info-panel"},a.createElement("div",{className:"odc-pipeline-section-pac__info-text"},a.createElement(o.Trans,{t:e,ns:"pipelines-plugin",values:{translatedResourceName:d,name:n}},"Once your Pipeline Repository is configured, in order to update your"," ",{translatedResourceName:d}," ",a.createElement("code",{className:"co-code"},{name:n})," automatically, update the following in your ",a.createElement("code",{className:"co-code"},".tekton")," PipelineRun:")),a.createElement("ul",null,a.createElement("li",null,a.createElement("strong",null," ",d,": "),a.createElement(i.a,{variant:i.b.inlineCompact},n)),a.createElement("li",{className:"odc-pipeline-section-pac__clipboard"},a.createElement("strong",null,e("pipelines-plugin~Internal image registry:"),"  "),a.createElement(i.a,{variant:i.b.inlineCompact},"image-registry.openshift-image-registry.svc:5000/",t,"/",n)))))}},6542:function(e,t,n){},6543:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(8);const r=()=>{const e=Object(a.useRef)(),t=Object(a.useRef)(!0);return Object(a.useEffect)(()=>(e.current=new AbortController,()=>{t.current=!1,e.current.abort()}),[]),(n,a,r,o={})=>new Promise((s,l)=>{Object(i.kb)(n,a,r,o,{signal:e.current.signal}).then(e=>t.current&&s(e)).catch(e=>t.current&&l(e))})}},6544:function(e,t,n){"use strict";var a=n(0),i=n(281),r=n(55),o=n(15),s=n(6323);t.a=({name:e,imageStreamName:t,imageStreamTag:n})=>{const{values:{build:{env:l},image:{imageEnv:c},formType:u},setFieldValue:d}=Object(r.f)(),[p,m]=Object(s.a)(t,n);return a.useEffect(()=>{"edit"===u&&(null==l?void 0:l.length)>0&&!c&&p.forEach(t=>l.forEach(n=>{n.name===t.key&&d(`${e}.${t.key}`,n.value)}))},[l,u,c,d,p,e]),m?a.createElement(a.Fragment,null,p.map(n=>a.createElement(o.ab,{key:`${t}-${n.key}`,type:i.b.text,name:`${e}.${n.key}`,label:n.label,helpText:n.description,placeholder:n.defaultValue}))):null}},6545:function(e,t,n){"use strict";var a=n(0),i=n(16),r=n(50),o=n(7),s=n(1401),l=n(4362),c=n(5),u=n(5673);t.a=({displayName:e,tag:t})=>{const{t:n}=Object(o.useTranslation)(),d=Object(l.getAnnotationTags)(t),p=i.a(t,"annotations.description"),m=Object(u.i)(t);return a.createElement("div",{"data-test":"imageStream-details"},a.createElement("div",{className:"co-catalog-item-details"},a.createElement(s.a,{tag:t,iconSize:"large"}),a.createElement("div",null,a.createElement("h2",{className:"co-section-heading co-catalog-item-details__name"},e),d&&a.createElement("p",{className:"co-catalog-item-details__tags"},r.a(d,(e,t)=>a.createElement("span",{className:"co-catalog-item-details__tag",key:t},e))))),p&&a.createElement("p",{className:"co-catalog-item-details__description"},p),m&&a.createElement("p",null,n("devconsole~Sample repository:")," ",a.createElement(c.z,{href:m,text:m})))}},6546:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return O}));var a=n(22),i=n(57),r=n(16),o=n(599),s=n(10),l=n(8),c=n(1402),u=n(5898),d=n(197),p=n(5673),m=n(5711),g=n(5910),v=n(5723),h=n(5599),b=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const f=(e,t,n,i="create",r="")=>b(void 0,void 0,void 0,(function*(){const{project:{name:o},application:{name:c},name:u,allowInsecureRegistry:d,isi:{name:p,tag:v},labels:h}=e,b="update"!==i||a.a(n)?u:n.metadata.labels["app.kubernetes.io/name"],f=Object(m.a)({name:u,applicationName:c}),y={apiVersion:"image.openshift.io/v1",kind:"ImageStream",metadata:{name:r||b,namespace:o,labels:Object.assign(Object.assign(Object.assign({},f),h),{"app.kubernetes.io/name":b})},spec:{tags:[{name:v||"latest",annotations:Object.assign(Object.assign({},Object(m.b)()),{"openshift.io/imported-from":p}),from:{kind:"DockerImage",name:""+p},importPolicy:{insecure:d},referencePolicy:{type:"Local"}}]}};if("update"===i&&!a.a(n)){const e=Object(m.h)(n,y);return e.metadata.name=n.metadata.name,Object(l.rb)(s.ImageStreamModel,e)}const E=yield Object(l.jb)(s.ImageStreamModel,y,t?g.c:{});return t?E:Object(l.sb)(s.ImageStreamModel,E,e=>e.metadata.generation>=2,5e3).catch(()=>E)})),y=(e,t)=>{const{application:{name:n},name:a,isi:{image:o},labels:s,imageStream:{image:l,tag:c,namespace:u},runtimeIcon:d}=t,p=Object(m.a)({name:a,applicationName:n,imageStreamName:l,runtimeIcon:d,selectedTag:c,namespace:u}),g=Object.assign(Object.assign({},p),s),v=Object(m.d)(e,a),h=[],b=[];let f=0;return i.a(r.a(o,["dockerImageMetadata","Config","Volumes"]),(e,t)=>{f++;const n=`${a}-${f}`;h.push({name:n,emptyDir:{}}),b.push({name:n,mountPath:t})}),{labels:g,podLabels:v,volumes:h,volumeMounts:b}},E=e=>{const{isi:{ports:t},route:{defaultUnknownPort:n,unknownTargetPort:a}}=e;let i=e;if(!Array.isArray(t)||0===t.length){const e=[{containerPort:a?parseInt(a,10):n,protocol:"TCP"}];i=Object.assign(Object.assign({},i),{isi:Object.assign(Object.assign({},i.isi),{ports:e})})}return i},O=(e,t=!1,n="create",i)=>b(void 0,void 0,void 0,(function*(){var b,O,k,j,S,T,P,C,w,R;const I=E(e),{name:N,registry:x,project:{name:D},route:{create:_,disable:A},isi:{ports:L,tag:F,image:B},imageStream:{image:U,namespace:M},deployment:{triggers:{image:$}}}=I,G=[],K=null===(b=null==i?void 0:i.imageStream)||void 0===b?void 0:b.data,V=o.a(K,["metadata.resourceVersion"],["desc"]),H=V.length&&V[0]||{};if(I.resources!==h.k.KnativeService){if(x===p.b.External&&(yield f(I,t,H,n)),I.resources===h.k.Kubernetes?G.push(((e,t,n,a="create")=>{const{registry:i,project:{name:o},name:c,isi:{image:u,ports:b,tag:f},deployment:{env:E,replicas:O,triggers:{image:k}},labels:j,limits:{cpu:S,memory:T},imageStream:{image:P,namespace:C},healthChecks:w}=e,R=Object.assign(Object.assign(Object.assign(Object.assign({},Object(m.b)()),Object(m.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(m.g)(c,P||c,C||o,k,f)),I=Object(m.b)(),{labels:N,podLabels:x,volumes:D,volumeMounts:_}=y(h.k.Kubernetes,e),A=i===p.b.External?`${c}:${f}`:r.a(u,"dockerImageReference"),L={kind:"Deployment",apiVersion:"apps/v1",metadata:{name:c,namespace:o,labels:N,annotations:R},spec:{replicas:O,selector:{matchLabels:{app:c}},template:{metadata:{labels:Object.assign(Object.assign({},j),x),annotations:I},spec:{volumes:D,containers:[Object.assign({name:c,image:A,ports:b,volumeMounts:_,env:E,resources:Object(d.H)({cpu:S,memory:T})},Object(v.b)(w))]}}}},F=Object(m.h)(n,L);return"update"===a?Object(l.rb)(s.DeploymentModel,F):Object(l.jb)(s.DeploymentModel,F,t?g.c:{})})(I,t,r.a(i,"editAppResource.data"),n)):G.push(((e,t,n,a="create")=>{const{project:{name:i},name:o,isi:{image:c,tag:u,ports:p},deployment:{env:b,replicas:f,triggers:E},labels:O,limits:{cpu:k,memory:j},imageStream:{image:S,namespace:T},healthChecks:P}=e,{labels:C,podLabels:w,volumes:R,volumeMounts:I}=y(h.k.OpenShift,e),N=Object.assign(Object.assign({},Object(m.b)()),Object(m.e)()),x=Object(m.b)(),D={kind:"DeploymentConfig",apiVersion:"apps.openshift.io/v1",metadata:{name:o,namespace:i,labels:C,annotations:N},spec:{replicas:f,selector:w,template:{metadata:{labels:Object.assign(Object.assign({},O),w),annotations:x},spec:{volumes:R,containers:[Object.assign({name:o,image:r.a(c,["dockerImageMetadata","Config","Image"]),ports:p,volumeMounts:I,env:b,resources:Object(d.H)({cpu:k,memory:j})},Object(v.b)(P))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:E.image,containerNames:[o],from:{kind:"ImageStreamTag",name:`${S||o}:${u}`,namespace:T||i}}},...E.config?[{type:"ConfigChange"}]:[]]}},_=Object(m.h)(n,D);return"update"===a?Object(l.rb)(s.DeploymentConfigModel,_):Object(l.jb)(s.DeploymentConfigModel,_,t?g.c:{})})(I,t,r.a(i,"editAppResource.data"),n)),!a.a(L)){const e=null===(O=null==i?void 0:i.service)||void 0===O?void 0:O.data,o=null===(k=null==i?void 0:i.route)||void 0===k?void 0:k.data,c=Object(g.b)(I,void 0,e,o),u="update"===n?a.a(e)?null:Object(l.rb)(s.ServiceModel,c):Object(l.jb)(s.ServiceModel,c,t?g.c:{});G.push(u);const d=Object(g.a)(I,void 0,r.a(i,"route.data"));"update"===n&&A?G.push(Object(l.rb)(s.RouteModel,d)):_&&G.push(Object(l.jb)(s.RouteModel,d,t?g.c:{}))}}else if(I.resources===h.k.KnativeService){let e=null==B?void 0:B.dockerImageReference,o="";if(x===p.b.External){const i=null===(P=null===(T=null===(S=null===(j=null==H?void 0:H.spec)||void 0===j?void 0:j.tags)||void 0===S?void 0:S[0])||void 0===T?void 0:T.from)||void 0===P?void 0:P.name,r=I.isi.name;(i&&i!==r||"update"===n&&a.a(H))&&(o=`${N}-${Object(d.D)()}`);const s=(yield f(I,t,H,o?"create":n,o)).status.dockerImageRepository;e=F?`${s}:${F}`:s}const s=(null===(R=null===(w=null===(C=null==i?void 0:i.editAppResource)||void 0===C?void 0:C.data)||void 0===w?void 0:w.metadata)||void 0===R?void 0:R.annotations)||{},v=Object(m.g)(N,U||N,M||D,$,F),h=Object.keys(s).length>0?Object.assign(Object.assign({},s),v):Object.assign(Object.assign(Object.assign(Object.assign({},Object(m.b)()),Object(m.e)()),s),v),b=Object(u.c)(I,e,U||N,F,M,h,r.a(i,"editAppResource.data"),o),y=yield Object(u.b)(I,b,t);G.push("update"===n?Object(l.rb)(c.l,b,null,null,t?g.c:{}):Object(l.jb)(c.l,b,t?g.c:{}),...y)}return Promise.all(G)}))},6547:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(22),o=n(7),s=n(5),l=n(15),c=n(5673),u=n(5911),d=n(5618),p=n(6548),m=n(6108);t.a=({disabled:e=!1})=>{const{t:t}=Object(o.useTranslation)(),{values:n,setFieldValue:g,initialValues:v}=Object(i.f)(),[h,b]=a.useState(n.registry),f=a.useRef(Object(u.g)()).current;return a.useEffect(()=>{n.registry!==h&&(b(n.registry),g("searchTerm",v.searchTerm),g("isi",v.isi),g("imageStream",v.imageStream))},[v.imageStream,v.isi,v.searchTerm,h,g,n]),a.createElement(d.a,{title:t("devconsole~Image"),subTitle:t("devconsole~Deploy an existing Image from an Image Stream or Image registry.")},!r.a(n.containers)&&a.createElement("div",{className:"co-section-heading-tertiary"},t("devconsole~Container"),a.createElement(s.hb,{kind:"Container",name:n.containers[0].name,linkTo:!1})),f?a.createElement(p.a,null):a.createElement(l.Lb,{name:"registry",options:[{label:Object(c.l)(t).External.label,value:Object(c.l)(t).External.value,isDisabled:"edit"===n.formType&&"internal"===n.registry||e,activeChildren:a.createElement(p.a,null)},{label:Object(c.l)(t).Internal.label,value:Object(c.l)(t).Internal.value,isDisabled:"edit"===n.formType&&"external"===n.registry||e,activeChildren:a.createElement(m.a,{disabled:e})}]}))}},6548:function(e,t,n){"use strict";var a=n(0),i=n(87),r=n(281),o=n(19),s=n(80),l=n(1939),c=n(55),u=n(1123),d=n(16),p=n(1533),m=n(7),g=n(4359),v=n(10),h=n(8),b=n(15),f=n(2221),y=n(5900),E=n(5673),O=n(5911),k=n(5961);n(6549);t.a=()=>{var e;const{t:t}=Object(m.useTranslation)(),n=a.useRef(),{values:j,setFieldValue:S,dirty:T,initialValues:P,touched:C}=Object(c.f)(),[w,R]=a.useState(""),[I,N]=a.useState(!0),[x,D]=a.useState(i.d.default),_=j.project.name,{application:A={},name:L}=C,{name:F}=A,B=a.useCallback((e,t=j.allowInsecureRegistry)=>{S("isSearchingForImage",!0),D(i.d.default);const n={kind:"ImageStreamImport",apiVersion:"image.openshift.io/v1",metadata:{name:"newapp",namespace:j.project.name},spec:{import:!1,images:[{from:{kind:"DockerImage",name:u.a(e)},importPolicy:{insecure:t}}]},status:{}};Object(h.jb)(v.ImageStreamImportsModel,n).then(e=>{const t=d.a(e,"status.images[0].status");if("Success"===t.status){const n=d.a(e,"spec.images[0].from.name"),a=d.a(e,"status.images[0].image"),r=d.a(e,"status.images[0].tag"),o={name:n,image:a,tag:r,status:t},s=Object(E.e)(o);S("isSearchingForImage",!1),S("isi.name",n),S("isi.image",a),S("isi.tag",r),S("isi.status",t),S("isi.ports",s),S("image.ports",s),S("image.tag",r),!j.name&&S("name",Object(E.j)(n)),!j.application.name&&j.application.selectedKey!==f.z&&S("application.name",Object(E.j)(n)+"-app");const l=(!P.route.targetPort||C.searchTerm)&&p.a(s);l&&S("route.targetPort",Object(E.n)(l)),D(i.d.success)}else S("isSearchingForImage",!1),S("isi",{}),S("isi.status",t),S("route.targetPort",null),D(i.d.error)}).catch(e=>{S("isi",{}),S("isi.status",{metadata:{},status:"",message:e.message}),S("isSearchingForImage",!1),D(i.d.error)})},[S,C,j.application.name,j.application.selectedKey,j.name,j.project.name,j.allowInsecureRegistry,P.route.targetPort]);(e=>{const{setFieldValue:t}=Object(c.f)();a.useEffect(()=>{const{sampleName:n,image:a}=Object(O.c)();if(a){const n=Object(E.j)(a);t("searchTerm",a,!1),t("name",n,!1),t("application.name",n+"-app",!1),e(a)}n&&Object(O.e)(n).then(i=>{var r,o,s,l;if(Object(y.a)(i.spec.source)){const{containerImport:n}=i.spec.source;if(!a){const e=Object(E.j)(n.image);t("searchTerm",n.image,!1),t("name",e,!1),t("application.name",e+"-app",!1)}(null===(r=null==n?void 0:n.service)||void 0===r?void 0:r.targetPort)&&8080!==(null===(o=null==n?void 0:n.service)||void 0===o?void 0:o.targetPort)&&t("route.unknownTargetPort",n.service.targetPort.toString(),!1),e(n.image)}else console.error(`Unsupported ConsoleSample "${n}" source type ${null===(l=null===(s=i.spec)||void 0===s?void 0:s.source)||void 0===l?void 0:l.type}`)}).catch(e=>{console.error(`Error while loading ConsoleSample "${n}":`,e)})},[])})(B);const U=Object(b.Ce)(B),M=a.useCallback(e=>{R(e),j.searchTerm&&B(j.searchTerm)},[B,j.searchTerm]),$=a.useMemo(()=>{var e;return j.isSearchingForImage?t("devconsole~Validating")+"...":j.isSearchingForImage||x!==i.d.success?x===i.d.error?""===j.searchTerm?t("devconsole~Required"):null===(e=j.isi.status)||void 0===e?void 0:e.message:"":t("devconsole~Validated")},[t,x,j.isSearchingForImage,j.searchTerm,null===(e=j.isi.status)||void 0===e?void 0:e.message]);return a.useEffect(()=>{!T&&j.searchTerm&&B(j.searchTerm)},[T,B,j.searchTerm]),a.useEffect(()=>{if(C.searchTerm&&P.searchTerm!==j.searchTerm){const e=p.a(j.isi.ports);e&&S("route.targetPort",Object(E.n)(e))}},[C.searchTerm,S,j.isi.ports,P.searchTerm,j.searchTerm]),a.useEffect(()=>{var e;null===(e=n.current)||void 0===e||e.focus()},[]),a.createElement("div",{"data-test-id":"image-search-field"},a.createElement(b.ab,{ref:n,type:r.b.text,name:"searchTerm",placeholder:t("devconsole~docker.io/openshift/hello-openshift or quay.io/<username>/<image-name>"),helpText:$,helpTextInvalid:$,validated:x,onChange:e=>{"edit"!==j.formType?(!L&&S("name",""),!j.application.isInContext&&j.application.selectedKey!==f.z&&!F&&S("application.name","")):j.application.selectedKey!==f.z&&j.application.selectedKey===f.b&&!F&&S("application.name",""),S("isi",{}),D(i.d.default),U(e.target.value)},"aria-label":t("devconsole~Image name"),"data-test-id":"deploy-image-search-term",required:!0}),a.createElement("div",{className:"help-block",id:"image-name-help"},a.createElement(m.Trans,{ns:"devconsole",t:t},"To deploy an Image from a private registry, you must"," ",a.createElement(o.a,{variant:"link",isInline:!0,onClick:()=>Object(k.a)({namespace:_,save:M,secretType:g.SecretTypeAbstraction.image})},"create an Image pull secret")," ","with your Image registry credentials.")),w&&I&&a.createElement(s.a,{isInline:!0,className:"co-alert",variant:"success",title:t('devconsole~Secret "{{newImageSecret}}" was created.',{newImageSecret:w}),actionClose:a.createElement(l.a,{onClose:()=>N(!1)})}),a.createElement("div",{className:"odc-image-search__advanced-options"},a.createElement(b.A,{name:"allowInsecureRegistry",label:t("devconsole~Allow Images from insecure registries"),onChange:e=>{j.searchTerm&&B(j.searchTerm,e)}})))}},6549:function(e,t,n){},6550:function(e,t,n){"use strict";var a=n(0),i=n(230),r=n(1401),o=n(980);n(6551);const s=({label:e,url:t})=>a.createElement("div",{className:"odc-icon-dropdown__item"},a.createElement("img",{src:t,width:"24",height:"24",alt:"",className:"icon"}),e),l=(e,t)=>i(e,t.props.label);t.a=({placeholder:e,value:t,onChanged:n})=>{const i=a.useMemo(()=>{const n=Object(r.b)(t||"openshift");return n?a.createElement(s,{label:n.label,url:n.url}):a.createElement("span",{className:"btn-dropdown__item--placeholder"},e)},[e,t]),c=a.useMemo(()=>{const e={};return Object(r.c)().forEach(({label:t,url:n})=>{e[t]=a.createElement(s,{label:t,url:n})}),e},[]);return a.createElement(o.b,{title:i,items:c,autoSelect:!0,autocompletePlaceholder:e,autocompleteFilter:l,dropDownClassName:"dropdown--full-width odc-icon-dropdown",menuClassName:"odc-icon-dropdown__menu",onChange:n,selectedKey:t||"openshift"})}},6551:function(e,t,n){},6790:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(5591),o=n(5618),s=n(7307),l=n(6154),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};t.a=({builderImages:e,existingPipeline:t})=>{const{values:{image:n,import:{showEditImportStrategy:u,strategies:d,recommendedStrategy:p}},setFieldValue:m}=Object(i.f)(),g=a.useCallback(t=>c(void 0,void 0,void 0,(function*(){m("image.isRecommending",!1);const n=e&&(null==t?void 0:t.find(({type:t})=>t&&e.hasOwnProperty(t)));n&&n.type?(m("image.couldNotRecommend",!1),m("image.recommended",n.type)):(m("image.couldNotRecommend",!0),m("image.recommended",""))})),[e,m]);return a.useEffect(()=>{if(e&&p&&p.type!==r.c.S2I){const e=d.find(e=>e.type===r.c.S2I);e&&(m("image.isRecommending",!0),m("import.selectedStrategy.detectedCustomData",e.detectedCustomData),g(e.detectedCustomData)),n.selected?m("import.strategyChanged",!0):m("import.strategyChanged",!1)}},[e,g,n.selected,p,m,d]),e?a.createElement(a.Fragment,null,a.createElement(o.a,{fullWidth:!0,style:u?{}:{display:"none"}},a.createElement(s.a,{loadingImageStream:!e,builderImages:e,existingPipeline:t})),e[n.selected]&&n.tag&&a.createElement(o.a,null,a.createElement(l.a,{selectedBuilderImage:e[n.selected],selectedImageTag:n.tag}))):null}},6791:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(0),i=n(1921),r=n(55),o=n(7),s=n(5591),l=n(974),c=n(5),u=n(5669),d=n(15),p=n(6216),m=n(7312),g=n(6323),v=n(5599),h=n(5618),b=n(7313),f=n(7314),y=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const E=({values:e,appResources:t})=>{var n,E,O,k,j,S,T,P,C,w,R,I,N,x;const{t:D}=Object(o.useTranslation)(),{project:{name:_},build:{option:A,env:L},image:{selected:F,tag:B},import:{selectedStrategy:U,knativeFuncLoaded:M}}=e,{setFieldValue:$}=Object(r.f)(),G=Object(d.Fe)(u.e),[K]=Object(p.b)(),[V,H]=Object(g.a)(F,B),q=a.useMemo(()=>{var e,n,a,i,r,o,c,u,d,p;if(U.type===s.c.SERVERLESS_FUNCTION)return L;if(A===v.a.BUILDS){const s=Object(l.getStrategyType)(null===(i=null===(a=null===(n=null===(e=null==t?void 0:t.buildConfig)||void 0===e?void 0:e.data)||void 0===n?void 0:n.spec)||void 0===a?void 0:a.strategy)||void 0===i?void 0:i.type);return((null===(u=null===(c=null===(o=((null===(r=null==t?void 0:t.buildConfig)||void 0===r?void 0:r.data)||{metadata:{namespace:_}}).spec)||void 0===o?void 0:o.strategy)||void 0===c?void 0:c[s])||void 0===u?void 0:u.env)||[]).filter(e=>!V.some(t=>t.key===e.name))}if(A===v.a.SHIPWRIGHT_BUILD){return((null===(p=((null===(d=null==t?void 0:t.shipwrightBuild)||void 0===d?void 0:d.data)||{metadata:{namespace:_}}).spec)||void 0===p?void 0:p.env)||[]).filter(e=>!V.some(t=>t.key===e.name))}return[]},[null===(n=null==t?void 0:t.buildConfig)||void 0===n?void 0:n.data,null===(E=null==t?void 0:t.shipwrightBuild)||void 0===E?void 0:E.data,L,A,V,_,U.type]),z=Object(d.Ce)(()=>{const{git:t,formType:n}=e||{};if("edit"!==n&&(null==t?void 0:t.url)){const e=Object(s.e)(null==t?void 0:t.url,null==t?void 0:t.type,null==t?void 0:t.ref,null==t?void 0:t.dir,null==t?void 0:t.secretResource),n=()=>y(void 0,void 0,void 0,(function*(){const t=yield null==e?void 0:e.isTektonFolderPresent();G&&t&&$("build.option",v.a.PIPELINES)}));e&&n()}},2e3);return a.useEffect(()=>{z()},[null===(O=null==e?void 0:e.git)||void 0===O?void 0:O.url,G,$,z]),a.useEffect(()=>{var t;"edit"===(null==e?void 0:e.formType)&&(null===(t=null==e?void 0:e.pipeline)||void 0===t?void 0:t.enabled)&&$("build.option",v.a.PIPELINES),"edit"===(null==e?void 0:e.formType)&&e.build.option===v.a.BUILDS&&$("build.option",v.a.BUILDS),"edit"===(null==e?void 0:e.formType)&&e.build.option===v.a.SHIPWRIGHT_BUILD&&$("build.option",v.a.SHIPWRIGHT_BUILD)},[e,$]),a.useEffect(()=>{var t;"edit"!==(null==e?void 0:e.formType)&&(null===(t=e.pipeline)||void 0===t?void 0:t.enabled)&&e.build.option!==v.a.PIPELINES&&($("pipeline.enabled",!1),$("pac.pipelineEnabled",!1))},[$,null===(k=e.pipeline)||void 0===k?void 0:k.enabled,null===(j=e.build)||void 0===j?void 0:j.option,e.formType]),a.useEffect(()=>{var t,n,a,i;"edit"!==(null==e?void 0:e.formType)&&((null===(n=null===(t=null==e?void 0:e.import)||void 0===t?void 0:t.selectedStrategy)||void 0===n?void 0:n.type)!==s.c.DEVFILE&&Object(p.a)(null===(i=null===(a=null==e?void 0:e.import)||void 0===a?void 0:a.selectedStrategy)||void 0===i?void 0:i.type,K)?$("build.option",v.a.SHIPWRIGHT_BUILD):$("build.option",v.a.BUILDS))},[$,null===(T=null===(S=null==e?void 0:e.import)||void 0===S?void 0:S.selectedStrategy)||void 0===T?void 0:T.type,K,null==e?void 0:e.formType]),a.createElement(h.a,{title:D("devconsole~Build")},a.createElement(b.a,{isDisabled:"edit"===(null==e?void 0:e.formType),importStrategy:null===(C=null===(P=null==e?void 0:e.import)||void 0===P?void 0:P.selectedStrategy)||void 0===C?void 0:C.type}),(null===(w=e.build)||void 0===w?void 0:w.option)===v.a.SHIPWRIGHT_BUILD&&a.createElement(f.a,{formType:null==e?void 0:e.formType,importStrategy:null===(I=null===(R=null==e?void 0:e.import)||void 0===R?void 0:R.selectedStrategy)||void 0===I?void 0:I.type}),e.isi||(null===(N=e.pipeline)||void 0===N?void 0:N.enabled)?null:a.createElement(i.a,{toggleText:D("devconsole~Show advanced Build option")},(null===(x=e.build)||void 0===x?void 0:x.option)===v.a.BUILDS&&a.createElement(m.a,{showHeader:!1}),(U.type===s.c.SERVERLESS_FUNCTION?null!=M&&M:H)?a.createElement(d.M,{name:"build.env",label:D("devconsole~Environment variables (build and runtime)"),obj:{metadata:{namespace:_}},envs:q}):a.createElement(c.S,null)))}},7305:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),i=n(80),r=n(7),o=n(5),s=n(108),l=n(10),c=n(15);const u=()=>{const e=Object(c.df)(),{t:t}=Object(r.useTranslation)(),[n]=Object(c.ue)(),u=a.useMemo(()=>({kind:l.BuildModel.kind,namespace:n,isList:!0}),[n]),[d]=Object(s.a)(u);return a.useCallback(a=>{const r=a.find(e=>e.kind===l.BuildConfigModel.kind),s=Object(c.pd)(r,d),u=`${r.metadata.name}-${s.length+1}`,p=Object(o.uc)(l.BuildModel,u,n)+"/logs";e.addToast({variant:i.b.info,title:t("devconsole~JAR file uploading"),content:t("devconsole~JAR file is uploading to {{namespace}}. You can view the upload progress in the build logs. This may take a few minutes. If you exit the browser while upload is in progress it may fail.",{namespace:n}),timeout:!0,actions:[{dismiss:!0,label:t("devconsole~View build logs"),callback:()=>o.Vb.push(p)}]})},[d,n,t,e])}},7306:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(22),i=n(109),r=n(10),o=n(8),s=n(1402),l=n(5898),c=n(15),u=n(5711),d=n(5910),p=n(5723),m=n(5849),g=n(5599),v=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const h=(e,t,n,h=!1,b="create",f)=>v(void 0,void 0,void 0,(function*(){var v,y;const{name:E,fileUpload:{name:O,value:k},project:{name:j},route:{create:S,disable:T},image:{ports:P},build:{strategy:C},deployment:{triggers:{image:w}},resources:R}=e,{imageStream:I,buildConfig:N,editAppResource:x,service:D,route:_}=f||{},A=null==t?void 0:t.metadata.name;n&&(yield Object(m.c)(e.project));const L=[];let F="";const B=null==I?void 0:I.data;R===g.k.KnativeService&&B&&B.length&&"update"===b&&""!==k&&(F=`${E}-${Object(c.wd)()}`);const U=yield Object(m.a)(e,t,h,f,F?"create":b,F);L.push(U);const M=yield((e,t,n,a,i="create",s="")=>{var l;const{name:c,fileUpload:{name:p},project:{name:m},application:{name:g},image:{tag:v},build:{env:h,strategy:b},labels:f}=e,y=t&&t.metadata.name,E=t&&t.metadata.namespace,O=Object(u.a)({name:c,applicationName:g,imageStreamName:y,selectedTag:v}),k=Object.assign(Object.assign({},Object(u.b)()),{jarFileName:p}),j={sourceStrategy:{env:h,from:{kind:"ImageStreamTag",name:`${y}:${v}`,namespace:E}}},S={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{name:"update"===i?null===(l=null==a?void 0:a.metadata)||void 0===l?void 0:l.name:c,namespace:m,labels:Object.assign(Object.assign({},O),f),annotations:k},spec:{output:{to:{kind:"ImageStreamTag",name:(s||c)+":latest"}},source:{type:"Binary",binary:{}},strategy:Object.assign({type:b},j),triggers:[{type:"Generic",generic:{secretReference:{name:c+"-generic-webhook-secret"}}}]}},T=Object(u.h)(a,S);return"update"===i?Object(o.rb)(r.BuildConfigModel,T):Object(o.jb)(r.BuildConfigModel,T,n?d.c:{})})(e,t,h,null==N?void 0:N.data,b,F);if(M&&!h&&""!==k&&((e,t,n,a)=>{const r=e=>{e.preventDefault(),e.returnValue=""};window.addEventListener("beforeunload",r),Object(i.b)(`/api/kubernetes/apis/build.openshift.io/v1/namespaces/${e}/buildconfigs/${t.metadata.name}/instantiatebinary?asFile=${n}`,{method:"POST",body:a,headers:{"Content-type":a.type}},0).then(()=>{window.removeEventListener("beforeunload",r)}).catch(e=>{console.log("Failed to upload binary file to trigger a new Build",e),window.removeEventListener("beforeunload",r)})})(j,M,O,k),L.push(M),"create"===b&&L.push(yield Object(m.d)(e,t,"generic",h)),R===g.k.KnativeService){const t=U.status.dockerImageRepository,n=(null===(y=null===(v=null==x?void 0:x.data)||void 0===v?void 0:v.metadata)||void 0===y?void 0:y.annotations)||{},a=Object(u.g)(E,F||E,j,w),i=Object.keys(n).length>0?Object.assign(Object.assign({},n),a):Object.assign(Object.assign(Object.assign(Object.assign({},Object(u.b)()),Object(u.e)()),n),a),r=Object(l.c)(e,t,A,void 0,void 0,i,null==x?void 0:x.data),c=yield Object(l.b)(e,r,h);return L.push("update"===b?Object(o.rb)(s.l,r,null,null,h?d.c:{}):Object(o.jb)(s.l,r,h?d.c:{}),...c),Promise.all(L)}if(R===g.k.Kubernetes?L.push(yield((e,t,n,a,i="create")=>{const{name:s,project:{name:l},application:{name:m},image:{ports:v,tag:h},deployment:{env:b,replicas:f,triggers:{image:y}},fileUpload:{name:E,javaArgs:O},labels:k,limits:{cpu:j,memory:S},healthChecks:T,runtimeIcon:P}=e,C=t&&t.metadata.name,w=Object(u.a)({name:s,applicationName:m,imageStreamName:C,runtimeIcon:P,selectedTag:h}),R=s,I=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(u.b)()),Object(u.e)()),{"alpha.image.policy.openshift.io/resolve-names":"*"}),Object(u.g)(s,R,l,y)),{jarFileName:E}),N=Object(u.d)(g.k.Kubernetes,s),x=Object(u.f)(a),D=null==b?void 0:b.findIndex(e=>"JAVA_ARGS"===e.name);-1!==D?""!==O?b[D].value=O:b.splice(D,1):""!==O&&b.push({name:"JAVA_ARGS",value:O});const _={apiVersion:"apps/v1",kind:"Deployment",metadata:{name:s,namespace:l,labels:Object.assign(Object.assign({},w),k),annotations:I},spec:{selector:{matchLabels:{app:s}},replicas:f,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},x),k),N)},spec:{containers:[Object.assign({name:s,image:s+":latest",ports:v,env:b,resources:Object(c.Cd)({cpu:j,memory:S})},Object(p.b)(T))]}}}},A=Object(u.h)(a,_);return"update"===i?Object(o.rb)(r.DeploymentModel,A):Object(o.jb)(r.DeploymentModel,A,n?d.c:{})})(e,t,h,null==x?void 0:x.data,b)):R===g.k.OpenShift&&L.push(yield((e,t,n,a,i="create")=>{const{name:s,project:{name:l},application:{name:m},image:{ports:v,tag:h},deployment:{env:b,replicas:f,triggers:y},fileUpload:{javaArgs:E},labels:O,limits:{cpu:k,memory:j},healthChecks:S}=e,T=t&&t.metadata.name,P=Object(u.a)({name:s,applicationName:m,imageStreamName:T,selectedTag:h}),C=Object(u.d)(g.k.OpenShift,s),w=Object(u.f)(a),R=null==b?void 0:b.findIndex(e=>"JAVA_ARGS"===e.name);-1!==R?""!==E?b[R].value=E:b.splice(R,1):""!==E&&b.push({name:"JAVA_ARGS",value:E});const I={apiVersion:"apps.openshift.io/v1",kind:"DeploymentConfig",metadata:{name:s,namespace:l,labels:Object.assign(Object.assign({},P),O),annotations:Object.assign({},Object(u.b)())},spec:{selector:C,replicas:f,template:{metadata:{labels:Object.assign(Object.assign(Object.assign({},w),O),C)},spec:{containers:[Object.assign({name:s,image:s+":latest",ports:v,env:b,resources:Object(c.Cd)({cpu:k,memory:j})},Object(p.b)(S))]}},triggers:[{type:"ImageChange",imageChangeParams:{automatic:y.image,containerNames:[s],from:{kind:"ImageStreamTag",name:s+":latest"}}},...y.config?[{type:"ConfigChange"}]:[]]}},N=Object(u.h)(a,I);return"update"===i?Object(o.rb)(r.DeploymentConfigModel,N):Object(o.jb)(r.DeploymentConfigModel,N,n?d.c:{})})(e,t,h,null==x?void 0:x.data,b)),!a.a(P)||"Source"===C){const n=null==D?void 0:D.data,i=Object(d.b)(e,t,n);"create"===b?L.push(yield Object(o.jb)(r.ServiceModel,i,h?d.c:{})):"update"!==b||a.a(n)||L.push(yield Object(o.rb)(r.ServiceModel,i));const s=null==_?void 0:_.data,l=Object(d.a)(e,t,s);"update"===b&&T?L.push(yield Object(o.rb)(r.RouteModel,l,j,E)):S&&L.push(yield Object(o.jb)(r.RouteModel,l,h?d.c:{}))}return L}))},7307:function(e,t,n){"use strict";var a=n(0),i=n(80),r=n(219),o=n(55),s=n(22),l=n(160),c=n(7),u=n(5),d=n(5669),p=n(15);const m=e=>a.createElement(a.Fragment,null,a.createElement(i.a,{isInline:!0,variant:"info",title:e}),a.createElement("br",null));t.a=({loadingImageStream:e,builderImages:t,existingPipeline:n})=>{var g,v,h;const{t:b}=Object(c.useTranslation)(),{values:{pipeline:f,image:y},setFieldValue:E,setFieldTouched:O,validateForm:k}=Object(o.f)(),{selected:j,recommended:S,isRecommending:T,couldNotRecommend:P,tag:C}=y,[w,R]=a.useState(!1),I=!s.a(n);a.useEffect(()=>{var e,n,a;j&&!C&&(E("image.tag",null!==(a=null===(n=null===(e=null==t?void 0:t[j])||void 0===e?void 0:e.recentTag)||void 0===n?void 0:n.name)&&void 0!==a?a:""),O("image.tag",!0))},[j,E,O,t,C]);const N=Object(p.Kc)("image.name","selector"),x=(null===(g=null==t?void 0:t[j])||void 0===g?void 0:g.title)||b("devconsole~this Builder Image"),D=f.template?(null===(v=f.template.metadata)||void 0===v?void 0:v.labels[d.h])!==(null===(h=null==n?void 0:n.metadata)||void 0===h?void 0:h.labels[d.h])&&m(b("devconsole~Changing to this builder image will update your associated Pipeline and remove any customization you may have applied.")):m(b("devconsole~There are no supported pipelines available for {{builderImage}}. Changing to this builder image will disconnect your associated Pipeline.",{builderImage:x}));return 1===l.a(t).length?a.createElement(p.cb,{itemList:t,name:"image.selected",loadingItems:e,recommended:S}):a.createElement(r.a,{fieldId:N,label:b("devconsole~Builder Image")},T&&!S&&a.createElement(a.Fragment,null,a.createElement(u.T,null)," ",b("devconsole~Detecting recommended Builder Images...")),(P||S&&!t.hasOwnProperty(S))&&a.createElement(a.Fragment,null,a.createElement(i.a,{variant:"warning",title:b("devconsole~Unable to detect the Builder Image."),isInline:!0},b("devconsole~Select the most appropriate one from the list to continue.")),a.createElement("br",null)),w&&D,a.createElement(p.cb,{itemList:t,name:"image.selected",loadingItems:e,recommended:y.recommended,onSelect:()=>{E("image.tag","",!1),O("image.tag",!0),I&&R(!0),k()}}))}},7308:function(e,t,n){"use strict";var a=n(0),i=n(87),r=n(281),o=n(404),s=n(7309),l=n(55),c=n(7),u=n(5591),d=n(15),p=n(5618),m=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};t.a=()=>{const{t:e}=Object(c.useTranslation)(),{values:t,setFieldValue:n,setFieldTouched:g}=Object(l.f)(),{import:{showEditImportStrategy:v,strategies:h,recommendedStrategy:b},git:{url:f,type:y,ref:E,dir:O,secretResource:k},image:{ports:j},docker:S,formType:T}=t,[P,C]=a.useState(i.d.default),w=a.useCallback(()=>m(void 0,void 0,void 0,(function*(){const e=Object(u.e)(f,y,E,O,k,null,S.dockerfilePath),t=e&&(yield e.isDockerfilePresent());S.dockerfilePath&&t?(C(i.d.success),n("docker.dockerfileHasError",!1)):(C(i.d.error),n("docker.dockerfileHasError",!0))})),[O,S.dockerfilePath,E,k,n,y,f]),R=a.useMemo(()=>P===i.d.success?e("devconsole~Validated"):P===i.d.error?e("devconsole~Dockerfile not detected"):e("devconsole~Allows the builds to use a different path to locate your Dockerfile, relative to the Context Dir field."),[e,P]);return a.useEffect(()=>{var e;if(b&&b.type!==u.c.DOCKERFILE){const t=h.find(e=>e.type===u.c.DOCKERFILE);t&&(n("import.selectedStrategy.detectedFiles",t.detectedFiles),n("docker.dockerfilePath",null===(e=t.detectedFiles)||void 0===e?void 0:e[0]),w(),P===i.d.success?n("import.strategyChanged",!0):n("import.strategyChanged",!1)),g("docker.dockerfilePath",!0)}},[b,n,h]),a.useEffect(()=>{const e=f&&Object(u.e)(f,y,E,O,k,null,S.dockerfilePath);e&&e.getDockerfileContent().then(e=>{if(e){const t=new u.a(e).getContainerPort();t&&n("image.ports",[...j,{containerPort:t,protocol:"TCP"}])}})},[S.dockerfilePath,f]),a.createElement(p.a,null,v&&a.createElement(d.ab,{type:r.b.text,name:"docker.dockerfilePath",label:e("devconsole~Dockerfile path"),placeholder:e("devconsole~Enter Dockerfile path"),helpText:R,helpTextInvalid:R,validated:P,onBlur:()=>{w(),P===i.d.success?n("import.strategyChanged",!0):n("import.strategyChanged",!1)},required:!0}),"edit"!==T&&!S.dockerfileHasError&&a.createElement("div",{className:"co-catalog-item-details"},a.createElement(o.a,{size:"xl"},a.createElement(s.a,null))," ",a.createElement("div",null,a.createElement("h2",{className:"co-section-heading co-catalog-item-details__name"},e("devconsole~Dockerfile")))))}},7310:function(e,t,n){"use strict";var a=n(0),i=n(12093),r=n(281),o=n(55),s=n(7),l=n(4380),c=n(15),u=n(2221),d=n(5618),p=n(6010);t.a=()=>{const{t:e}=Object(s.useTranslation)(),{values:{name:t,fileUpload:{name:n,value:m},application:{name:g,selectedKey:v}},setFieldValue:h,setFieldTouched:b,touched:f}=Object(o.f)(),{fileUpload:y,setFileUpload:E}=a.useContext(l.FileUploadContext),{name:O}=f,k=a.useCallback((e,n)=>{if(n.name){const e=Object(p.a)(n.name);h("fileUpload.name",n.name),b("fileUpload.name",!0),n&&h("fileUpload.value",n),e&&!O&&!t&&h("name",e),!t&&h("name",e),e&&!g&&v!==u.z&&h("application.name",e+"-app")}else h("fileUpload.name",""),h("fileUpload.value","")},[g,v,h,b,t,O]);a.useEffect(()=>{y&&(k(null,y),n&&E(void 0))},[y,k,E,n]);return a.createElement(d.a,{title:e("devconsole~JAR")},a.createElement(i.a,{id:"upload-jar-field",name:"fileUpload.name",value:m,filename:n,label:e("devconsole~JAR file"),filenamePlaceholder:e("devconsole~Drag a file here or browse to upload"),browseButtonText:e("devconsole~Browse..."),clearButtonText:e("devconsole~Clear"),onFileInputChange:k,hideDefaultPreview:!0,dropzoneProps:{accept:{"application/java-archive":[".jar",".JAR"]}},isRequired:!0,onClearClick:()=>{h("fileUpload.value",""),h("fileUpload.name",""),setTimeout(()=>{b("fileUpload.name",!0)},0)}}),a.createElement(c.ab,{type:r.b.text,name:"fileUpload.javaArgs",label:e("devconsole~Optional Java arguments"),helpText:e("devconsole~Optional Java arguments are saved as JAVA_ARGS environment variable to customize your application."),"data-test-id":"upload-jar-form-java-args",placeholder:e("devconsole~JAVA_ARGS")}))}},7312:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(7),o=n(15),s=n(5618);t.a=({showHeader:e})=>{var t,n,l;const{t:c}=Object(r.useTranslation)(),{values:{build:u}}=Object(i.f)();return a.createElement(s.a,{title:e&&c("devconsole~Build configuration"),extraMargin:!0},"boolean"==typeof(null===(t=null==u?void 0:u.triggers)||void 0===t?void 0:t.webhook)&&a.createElement(o.A,{name:"build.triggers.webhook",label:c("devconsole~Configure a webhook build trigger")}),"boolean"==typeof(null===(n=null==u?void 0:u.triggers)||void 0===n?void 0:n.image)&&a.createElement(o.A,{name:"build.triggers.image",label:c("devconsole~Automatically build a new Image when the Builder Image changes")}),"boolean"==typeof(null===(l=null==u?void 0:u.triggers)||void 0===l?void 0:l.config)&&a.createElement(o.A,{name:"build.triggers.config",label:c("devconsole~Launch the first build when the build configuration is created")}))}},7313:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),i=n(55),r=n(1992),o=n(7),s=n(5587),l=n(53),c=n(5),u=n(5669),d=n(5586),p=n(15),m=n(761),g=n(6216),v=n(5599);const h=({isDisabled:e,importStrategy:t})=>{const{t:n}=Object(o.useTranslation)(),{setFieldValue:h}=Object(i.f)(),b=Object(p.Fe)(m.d),f=Object(g.c)(),[y,E]=Object(g.b)(),O=Object(p.Fe)(u.d),k=(()=>{const e=Object(c.Dc)({group:d.PipelineModel.apiGroup,resource:d.PipelineModel.plural,namespace:u.b,verb:"list"}),t=Object(c.Dc)({group:d.PipelineModel.apiGroup,resource:d.PipelineModel.plural,namespace:Object(l.c)(),verb:"create"});return e&&t})(),j=a.useMemo(()=>{const e=[];return f&&Object(g.a)(t,y)&&e.push({label:n(v.i[v.a.SHIPWRIGHT_BUILD]),value:v.a.SHIPWRIGHT_BUILD,description:n("devconsole~Shipwright is an extensible framework for building container images on OpenShift Container Platform cluster.")}),b&&e.push({label:n(v.i[v.a.BUILDS]),value:v.a.BUILDS,description:n("devconsole~Build configuration describes build definitions used for transforming source code into a runnable container image.")}),O&&k&&t!==s.c.DEVFILE&&e.push({label:n(v.i[v.a.PIPELINES]),value:v.a.PIPELINES,description:n("devconsole~Build using pipeline describes a process for transforming source code into a runnable container image. Pipelines support can be added using Red Hat OpenShift Pipelines Operator.")}),e},[b,f,O,k,y,t,n]),S=a.useCallback(e=>{const t=r.a(v.i,t=>n(t)===e);h("build.option",t)},[h,"build.option",n]);return E?a.createElement(p.Zb,{name:"build.option",label:n("devconsole~Build option"),options:j,onChange:S,isDisabled:e,getLabelFromValue:e=>n(v.i[e]),helpText:a.createElement("p",{className:"pf-c-form__helper-text"},a.createElement(o.Trans,{t:n,ns:"devconsole"},"Build option to use for transforming source code into a runnable container image.")),toggleOnSelection:!0}):a.createElement(c.T,null)}},7314:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),i=n(55),r=n(1992),o=n(7),s=n(6216),l=n(5591),c=n(5),u=n(15),d=n(5786);const p=({formType:e,importStrategy:t})=>{const{t:n}=Object(o.useTranslation)(),[p,m]=Object(s.b)(),{setFieldValue:g}=Object(i.f)(),v=a.useMemo(()=>{const e=[];return p.buildah&&t===l.c.DOCKERFILE&&e.push({label:n(d.c[d.a.BUILDAH]),value:d.a.BUILDAH}),p.s2i&&t===l.c.S2I&&e.push({label:n(d.c[d.a.S2I]),value:d.a.S2I}),e},[p,t,n]);a.useEffect(()=>{"edit"!==e&&(t===l.c.S2I?g("build.clusterBuildStrategy",d.a.S2I):t===l.c.DOCKERFILE&&g("build.clusterBuildStrategy",d.a.BUILDAH))},[g,t,e]);const h=a.useCallback(e=>{const t=r.a(d.c,t=>n(t)===e);g("build.clusterBuildStrategy",t)},[g,n]);return m?a.createElement(u.Zb,{"data-test-id":"cluster-build-strategy-field",name:"build.clusterBuildStrategy",label:n("devconsole~Cluster Build Strategy"),onChange:h,isDisabled:"edit"===e,ariaLabel:n("devconsole~Cluster Build Strategy"),placeholderText:n("devconsole~Select Cluster Build Strategy"),helpText:n("devconsole~Cluster Build Strategies define a shared group of steps, needed to fullfil the application build process."),getLabelFromValue:e=>n(d.c[e]),options:v,toggleOnSelection:!0}):a.createElement(c.T,null)}},8014:function(e,t,n){"use strict";var a=n(0),i=n(137),r=n(7),o=n(14),s=n(5),l=n(108),c=n(8),u=n(1402),d=n(5586),p=n(5729),m=n(761),g=n(5695),v=n(8837);t.a=()=>{const{t:e}=Object(r.useTranslation)(),t=Object(o.useParams)(),n=Object(o.useLocation)(),h=t.ns,b=new URLSearchParams(n.search),f=b.get("kind"),y=b.get("name");let E=f;E===u.l.kind&&(E=Object(c.Hb)(u.l));const O=a.useMemo(()=>({kind:E,name:y,namespace:h,optional:!0}),[E,y,h]),[k,j,S]=Object(l.a)(O),T=a.useMemo(()=>{var e,t,n,a;const i=j&&!S&&((null===(t=null===(e=null==k?void 0:k.metadata)||void 0===e?void 0:e.labels)||void 0===t?void 0:t[m.o])||(null===(a=null===(n=null==k?void 0:k.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[m.k])||y);return{service:{kind:"Service",name:y,namespace:h,optional:!0},route:{kind:"Route",prop:"route",name:y,namespace:h,optional:!0},buildConfig:{kind:"BuildConfig",isList:!0,namespace:h,name:i,optional:!0},shipwrightBuild:{kind:Object(c.Hb)(p.a),isList:!0,namespace:h,name:i,optional:!0},[d.PipelineModel.id]:{kind:Object(c.Hb)(d.PipelineModel),isList:!0,namespace:h,name:i,optional:!0},imageStream:{kind:"ImageStream",isList:!0,namespace:h,optional:!0},imageStreams:{kind:"ImageStream",prop:"imageStreams",isList:!0,namespace:"openshift",optional:!0}}},[h,y,k,j,S]),P=Object(l.b)(T),C=Object.keys(P).length>0&&Object.values(P).every(e=>e.loaded||!!e.loadError)&&(j||!!S);return a.createElement(g.b,{disabled:!0,variant:g.a.light},a.createElement(i.a,null,a.createElement("title",null,e("devconsole~Edit"))),a.createElement(s.wb,{loaded:C,data:k},a.createElement(v.a,{namespace:h,appName:y,resources:Object.assign(Object.assign({},P),{editAppResource:{data:k,loaded:j,loadError:S},pipeline:P.pipeline})})))}},8837:function(e,t,n){"use strict";var a=n(0),i=n(761),r=n(8838);t.a=e=>{var t,n,o,s,l,c,u,d;const{appName:p,resources:m}=e,g=(null===(s=null===(o=null===(n=null===(t=m.editAppResource)||void 0===t?void 0:t.data)||void 0===n?void 0:n.metadata)||void 0===o?void 0:o.labels)||void 0===s?void 0:s[i.o])||(null===(d=null===(u=null===(c=null===(l=m.editAppResource)||void 0===l?void 0:l.data)||void 0===c?void 0:c.metadata)||void 0===u?void 0:u.labels)||void 0===d?void 0:d[i.k]),v=e=>{var t,n;return e.metadata.name===p||e.metadata.name===g||g&&(null===(t=e.metadata.labels)||void 0===t?void 0:t[i.o])===g||g&&(null===(n=e.metadata.labels)||void 0===n?void 0:n[i.k])===g},h=e=>{var t;const n=null===(t=e.data)||void 0===t?void 0:t.find(v);return Object.assign(Object.assign({},e),{data:n})};return a.createElement(r.a,Object.assign({},e,{resources:Object.assign(Object.assign({},m),{pipeline:h(m.pipeline),buildConfig:h(m.buildConfig),shipwrightBuild:h(m.shipwrightBuild),imageStream:(e=>{var t;const n=null===(t=e.data)||void 0===t?void 0:t.filter(v);return Object.assign(Object.assign({},e),{data:n})})(m.imageStream)})}))}},8838:function(e,t,n){"use strict";var a=n(0),i=n(55),r=n(16),o=n(22),s=n(7),l=n(13),c=n(5),u=n(10),d=n(8),p=n(15),m=n(5673),g=n(6546),v=n(5849),h=n(7305),b=n(7306),f=n(5929),y=n(8839),E=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};t.a=({namespace:e,appName:t,resources:n})=>{const{t:O}=Object(s.useTranslation)(),[k]=Object(l.jc)(),j=Object(p.Pe)(),S=Object(h.a)(),T=Object(f.i)(n,t,e),P=r.a(T,"build.strategy",""),C=r.a(T,"build.source.type",void 0),w=Object(f.f)(P,C),R=Object(f.n)(P,C),I=a.useMemo(()=>n.imageStreams&&n.imageStreams.loaded?n.imageStreams.data:[],[n]),[N,x]=a.useState(null);a.useEffect(()=>{let e=!1;return w!==f.a.Git&&w!==f.a.JarUpload||E(void 0,void 0,void 0,(function*(){var t,a;let i=o.a(I)?{}:Object(m.o)(I);if(n.buildConfig.loaded&&n.buildConfig.data){const{name:r,namespace:o}=null===(a=null===(t=n.buildConfig.data)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.strategy.sourceStrategy.from,s=null==r?void 0:r.split(":")[0];if("openshift"!==o||!(null==i?void 0:i[s])){let t;try{t=yield Object(d.kb)(u.ImageStreamModel,s,o)}catch(e){}if(e)return;i=Object.assign(Object.assign({},i),t?Object(m.o)(t):{})}}x(o.a(i)?null:i)})),()=>{e=!0}},[n.buildConfig.data,n.buildConfig.loaded,I,w]);return a.createElement(i.b,{initialValues:T,onSubmit:(t,a)=>(e=>{if(e.build.strategy){const t=e.image.selected&&N?N[e.image.selected].obj:null;if(w===f.a.JarUpload){const a=""!==e.fileUpload.value;return Object(b.a)(e,t,!1,!1,"update",n).then(e=>(a&&S(e),e))}return Object(v.b)(O,e,t,!1,!1,"update",n)}return Object(g.a)(e,!1,"update",n)})(t).then(()=>{a.setStatus({submitError:""}),Object(v.h)(e,k,j)}).catch(e=>{a.setStatus({submitError:e.message})}),onReset:c.Vb.goBack,validationSchema:R(O)},e=>a.createElement(y.a,Object.assign({},e,{appResources:n,enableReinitialize:!0,flowType:w,builderImages:N})))}},8839:function(e,t,n){"use strict";var a=n(0),i=n(22),r=n(7),o=n(5),s=n(6406),l=n(15),c=n(6106),u=n(6011),d=n(6154),p=n(6790),m=n(7308),g=n(6107),v=n(6547),h=n(7310),b=n(6791),f=n(5618),y=n(6409),E=n(5929);t.a=({handleSubmit:e,handleReset:t,values:n,flowType:O,builderImages:k,dirty:j,errors:S,status:T,isSubmitting:P,appResources:C})=>{var w,R;const{t:I}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.Z,{title:I(Object(E.g)(O))}),a.createElement(l.P,{onSubmit:e},a.createElement(l.Q,{flexLayout:!0},O===E.a.Git&&a.createElement(g.a,{builderImages:k}),O===E.a.Dockerfile&&a.createElement(g.a,{builderImages:k}),O===E.a.Git&&a.createElement(p.a,{builderImages:k,existingPipeline:null===(w=null==C?void 0:C.pipeline)||void 0===w?void 0:w.data}),O===E.a.Dockerfile&&a.createElement(m.a,null),O===E.a.JarUpload&&a.createElement(h.a,null),O===E.a.Container&&a.createElement(v.a,null),(O===E.a.Container||O===E.a.JarUpload)&&a.createElement(y.a,null),O===E.a.JarUpload&&k&&a.createElement(f.a,null,a.createElement(d.a,{selectedBuilderImage:k[n.image.selected],selectedImageTag:n.image.tag,showImageInfo:!1})),a.createElement(u.a,{project:n.project}),O!==E.a.Container&&O!==E.a.JarUpload&&a.createElement(b.a,{values:n}),O!==E.a.Container&&O!==E.a.JarUpload&&a.createElement(s.a,{builderImages:k,existingPipeline:null===(R=null==C?void 0:C.pipeline)||void 0===R?void 0:R.data}),a.createElement(c.a,{values:n,appResources:C})),a.createElement(l.R,{handleReset:t,errorMessage:T&&T.submitError,isSubmitting:P,submitLabel:I("devconsole~Save"),disableSubmit:!j||!i.a(S)||P,resetLabel:I("devconsole~Cancel"),sticky:!0})))}}}]);
//# sourceMappingURL=editApplication-chunk-9ee6b961bc4a78b5cfa6.min.js.map