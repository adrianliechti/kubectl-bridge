(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{5442:function(e,t,n){"use strict";n.r(t);var c=n(8011);n.d(t,"SecureRouteFields",(function(){return c.a}))},6138:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var c=n(15);const r="devconsole.import.secureRoutingOptions",l=()=>{const[e,t,n]=Object(c.ef)(r,{secure:!0,tlsTermination:"edge",insecureTraffic:"Redirect"});return[e,t,n]}},8011:function(e,t,n){"use strict";var c=n(0),r=n(205),l=n(165),o=n(472),s=n(219),a=n(354),i=n(294),u=n(297),d=n(319),f=n(157),m=n(7),p=n(172),v=n(5599),h=n(6138);t.a=()=>{const{t:e}=Object(m.useTranslation)(),t=Object(p.a)(),[n,g,b]=Object(h.b)(),{secure:E,tlsTermination:y,insecureTraffic:S}=b&&n,[T,k]=c.useState(!1),[O,C]=c.useState(!1),R=c.useMemo(()=>({[v.n.EDGE]:e("devconsole~Edge"),[v.n.PASSTHROUGH]:e("devconsole~Passthrough"),[v.n.REENCRYPT]:e("devconsole~Re-encrypt")}),[e]),w=c.useMemo(()=>Object.keys(R).map(e=>c.createElement(r.a,{key:e,value:e},R[e])),[R]),x=c.useMemo(()=>y===v.n.PASSTHROUGH?{[v.h.None]:e("devconsole~None"),[v.h.Redirect]:e("devconsole~Redirect")}:{[v.f.None]:e("devconsole~None"),[v.f.Allow]:e("devconsole~Allow"),[v.f.Redirect]:e("devconsole~Redirect")},[e,y]),P=c.useMemo(()=>Object.keys(x).map(e=>c.createElement(r.a,{key:e,value:e},x[e])),[x]),N=c.useCallback((e,n)=>{g({secure:n,tlsTermination:y,insecureTraffic:S}),t("User Preference Changed",{property:h.a})},[t,S,g,y]),D=()=>{k(!T)},H=()=>{C(!O)},j=c.useCallback((e,n)=>{void 0!==n&&(g({secure:E,tlsTermination:n.toString(),insecureTraffic:S}),k(!1),t("User Preference Changed",{property:h.a}))},[t,S,E,g]),F=c.useCallback((e,n)=>{g({secure:E,tlsTermination:y,insecureTraffic:n.toString()}),C(!1),t("User Preference Changed",{property:h.a})},[t,E,g,y]);return c.createElement("div",{className:"pf-v5-c-form"},c.createElement("span",{className:"co-help-text"},e("devconsole~The defaults below will only apply to the Import from Git and Deploy Image forms when creating Deployments or Deployment Configs.")),c.createElement(o.a,{id:"secure-route-checkbox","data-test":"secure-route-checkbox",label:e("devconsole~Secure route"),isChecked:E,"data-checked-state":E,onChange:N,"aria-label":e("devconsole~Secure route"),description:e("devconsole~Routes can be secured using several TLS termination types for serving certificates."),isDisabled:!b,className:"odc-secure-route-fields__secure-route"}),c.createElement(s.a,{fieldId:"tls-termination",label:e("devconsole~TLS termination")},c.createElement(a.a,{id:"tls-termination-select",isOpen:T,onSelect:j,selected:y,onOpenChange:D,toggle:t=>c.createElement(l.a,{isFullWidth:!0,id:"tls-termination",ref:t,onClick:D,isExpanded:T,isDisabled:!b,placeholder:e("devconsole~Select termination type"),"aria-label":e("devconsole~Select termination type"),style:{maxHeight:"300px"}},R[y]),shouldFocusToggleOnSelect:!0},c.createElement(i.a,null,w))),c.createElement(s.a,{fieldId:"insecure-traffic",label:e("devconsole~Insecure traffic")},c.createElement(a.a,{id:"insecure-traffic-select",isOpen:O,selected:S,onSelect:F,onOpenChange:H,toggle:t=>c.createElement(l.a,{isFullWidth:!0,ref:t,id:"insecure-traffic",onClick:H,isExpanded:O,isDisabled:!b,placeholder:e("devconsole~Select insecure traffic type"),"aria-label":e("devconsole~Select insecure traffic type"),style:{maxHeight:"300px"}},x[S]),shouldFocusToggleOnSelect:!0},c.createElement(i.a,null,P)),c.createElement(u.a,null,c.createElement(d.a,null,c.createElement(f.a,null,e("devconsole~Policy for traffic on insecure schemes like HTTP."))))))}}}]);
//# sourceMappingURL=userPreferences-chunk-7c5af686fe91746acb0d.min.js.map