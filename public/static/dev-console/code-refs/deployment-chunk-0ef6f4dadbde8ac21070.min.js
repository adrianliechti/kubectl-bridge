(window.webpackJsonp=window.webpackJsonp||[]).push([[145,44,259],{4362:function(e,t,a){"use strict";a.r(t),a.d(t,"getAnnotationTags",(function(){return U})),a.d(t,"getBuilderTags",(function(){return L})),a.d(t,"getBuilderTagsSortedByVersion",(function(){return q})),a.d(t,"getMostRecentBuilderTag",(function(){return F})),a.d(t,"isBuilder",(function(){return V})),a.d(t,"ExampleDockerCommandPopover",(function(){return K})),a.d(t,"ImageStreamsDetails",(function(){return H})),a.d(t,"ImageStreamsDetailsPage",(function(){return Y})),a.d(t,"ImageStreamsList",(function(){return Q})),a.d(t,"buildPhase",(function(){return Z})),a.d(t,"ImageStreamsPage",(function(){return ee}));var n=a(0),i=a(7),r=a(16),o=a(240),s=a(2050),l=a(116),c=a(1533),u=a(22),d=a(225),m=a(7187),p=a(117),g=a(50),v=a(283),b=a(18),f=a(54),h=a(353),y=a(19),k=a(80),E=a(979),j=a(10),O=a(40),S=a(5),P=a(1198),T=a(1414),R=a(173),I=a(981),N=a(284),C=a(1413),w=a(1948),_=a(99),D=a(1411),x=a(693),A=a(5781),M=a(15);const U=e=>r.a(e,"annotations.tags","").split(/\s*,\s*/),L=e=>{const t=(e=>{const t=r.a(e,"status.tags");return s.a(t,"tag")})(e);return l.a(e.spec.tags,e=>(e=>{const t=U(e);return o.a(t,"builder")&&!o.a(t,"hidden")})(e)&&t[e.name])},q=e=>L(e).sort(({name:e},{name:t})=>{const a=v.coerce(e),n=v.coerce(t);return a||n?a?n?v.rcompare(a,n):-1:1:e.localeCompare(t)}),F=e=>{const t=q(e);return c.a(t)},V=e=>!u.a(L(e)),{common:$}=I.a.factory,B=[...I.a.getExtensionsActionsForKind(j.ImageStreamModel),...$],G=({imageStream:e,specTag:t,statusTag:a})=>{const o=r.a(e,"status"),s=r.a(a,["items",0]),l=r.a(t,"from"),c="ImageStreamTag"===r.a(t,"from.kind"),u=r.a(s,"image"),m=r.a(s,"created"),p=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:g}=Object(i.useTranslation)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},n.createElement(_.ResourceLink,{kind:"ImageStreamTag",name:Object(A.b)(e.metadata.name,a.tag),namespace:e.metadata.namespace,title:a.tag,linkTo:!!u})),n.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},l&&c&&n.createElement(_.ResourceLink,{kind:"ImageStreamTag",name:l.name,namespace:e.metadata.namespace,title:l.name}),l&&!c&&n.createElement(n.Fragment,null,l.name),!l&&n.createElement("span",{className:"text-muted"},g("public~pushed image"))),n.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!o&&p&&n.createElement(n.Fragment,null,n.createElement(M.tc,null)," ",g("public~Unable to resolve")),!o&&!p&&!l&&n.createElement(n.Fragment,null,g("public~Not synced yet")),!o&&!p&&l&&n.createElement(n.Fragment,null,g("public~Unresolved")),o&&u&&n.createElement(n.Fragment,null,u),o&&!u&&n.createElement(n.Fragment,null,n.createElement(M.tc,null)," ",g("public~There is no image associated with this tag"))),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},m&&n.createElement(x.Timestamp,{timestamp:m}),!m&&"-"))},K=({imageStream:e,tag:t})=>{const a=r.a(e,"status.publicDockerImageRepository"),{t:o}=Object(i.useTranslation)();if(!a)return null;const s=`docker push ${a}:${t||"<tag>"}`,l=`docker pull ${a}:${t||"<tag>"}`;return n.createElement(h.a,{headerContent:n.createElement(n.Fragment,null,o("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:n.createElement("div",null,n.createElement("p",null,o("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),n.createElement("br",null),n.createElement("p",null,o("public~Authenticate to the internal registry")),n.createElement(P.a,{value:"oc registry login"}),n.createElement("br",null),n.createElement("p",null,o("public~Push an image to this ImageStream")),n.createElement(P.a,{value:s}),n.createElement("br",null),n.createElement("p",null,o("public~Pull an image from this ImageStream")),n.createElement(P.a,{value:l}),n.createElement("br",null),n.createElement("p",null,n.createElement(i.Trans,{t:o,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",n.createElement("strong",null,"podman")," ","commands."," "),n.createElement(R.a,{href:S.p,text:o("public~Learn more.")})))},n.createElement(y.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},n.createElement(E.a,{className:"co-icon-space-r"}),o("public~Do you need to work with this ImageStream outside of the web console?")))},H=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),a=r.a(e,"status.dockerImageRepository"),o=r.a(e,"status.publicDockerImageRepository"),l=r.a(e,"status.tags.length"),c=s.a(e.spec.tags,"name"),d=m.a(e.status.tags,(a,n)=>{const i=p.a(n.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);i&&a.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${n.tag}`,message:i.message}))});return n.createElement("div",null,n.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&n.createElement(T.a,{variant:k.b.warning,alerts:g.a(d,(e,t)=>n.createElement(n.Fragment,{key:t},e))}),n.createElement(N.c,{text:t("public~ImageStream details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement(D.b,{resource:e},a&&n.createElement("dt",null,t("public~Image repository")),a&&n.createElement("dd",null,a),o&&n.createElement("dt",null,t("public~Public image repository")),o&&n.createElement("dd",null,o),n.createElement("dt",null,t("public~Image count")),n.createElement("dd",null,l||0)),n.createElement(K,{imageStream:e})))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(N.c,{text:t("public~Tags")}),u.a(e.status.tags)?n.createElement("span",{className:"text-muted"},t("public~No tags")):n.createElement("div",{className:"row"},n.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},n.createElement("div",{className:"row co-m-table-grid__head"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),n.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),n.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),n.createElement("div",{className:"co-m-table-grid__body"},g.a(e.status.tags,t=>n.createElement(G,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},z=({obj:e})=>{const t=r.a(e,"status.tags");return n.createElement(A.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};z.displayName="ImageStreamHistory";const W=[w.navFactory.details(H),w.navFactory.editYaml(),w.navFactory.history(z)],Y=e=>n.createElement(O.a,Object.assign({},e,{kind:"ImageStream",menuActions:B,pages:W}));Y.displayName="ImageStreamsDetailsPage";const X=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",I.a.columnClass],J=({obj:e})=>n.createElement(n.Fragment,null,n.createElement(O.k,{className:X[0]},n.createElement(_.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(O.k,{className:b(X[1],"co-break-word"),columnID:"namespace"},n.createElement(_.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(O.k,{className:X[2]},n.createElement(C.a,{kind:"ImageStream",labels:e.metadata.labels})),n.createElement(O.k,{className:X[3]},n.createElement(x.Timestamp,{timestamp:e.metadata.creationTimestamp})),n.createElement(O.k,{className:X[4]},n.createElement(I.d,{actions:B,kind:"ImageStream",resource:e}))),Q=e=>{const{t:t}=Object(i.useTranslation)(),a=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[f.a],props:{className:X[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[f.a],props:{className:X[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[f.a],props:{className:X[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[f.a],props:{className:X[3]}},{title:"",props:{className:X[4]}}];return a.displayName="ImageStreamsTableHeader",n.createElement(O.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:a,Row:J,virtualize:!0}))};Q.displayName="ImageStreamsList";const Z=e=>e.status.phase,ee=e=>{const{t:t}=Object(i.useTranslation)();return n.createElement(O.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Q,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},4368:function(e,t,a){"use strict";a.r(t),a.d(t,"menuActions",(function(){return N})),a.d(t,"DeploymentConfigDetailsList",(function(){return w})),a.d(t,"DeploymentConfigDeprecationAlert",(function(){return _})),a.d(t,"DeploymentConfigsDetails",(function(){return D})),a.d(t,"DeploymentConfigsDetailsPage",(function(){return L})),a.d(t,"DeploymentConfigsList",(function(){return V})),a.d(t,"DeploymentConfigsPage",(function(){return $}));var n=a(0),i=a(16),r=a(313),o=a(50),s=a(15),l=a(7),c=a(5667),u=a(5721),d=a(5766),m=a(5767),p=a(8),g=a(131),v=a(10),b=a(972),f=a(409),h=a(2226),y=a(40),k=a(5),E=a(4369),j=a(5758),O=a(2224),S=a(80),P=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};const{ModifyCount:T,AddStorage:R,common:I}=k.F.factory,N=[(e,t)=>({labelKey:"public~Start rollout",callback:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},a={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(p.jb)(v.DeploymentConfigModel,t,a)})(t).catch(e=>{const t=e.message;Object(g.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(k.Ac)(e,t).catch(e=>Object(g.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),Object(m.d)(T),u.a,m.a,m.c,R,m.b,d.a,...Object(k.Rb)(v.DeploymentConfigModel),u.b,...I],C=e=>{const t=i.a(e,"status.conditions"),a=r.a(t,{type:"Progressing",reason:"ProgressDeadlineExceeded",status:"False"}),n=r.a(t,{type:"ReplicaFailure",status:"True"});return a||n?"Failed":e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?"Up to date":"Updating"},w=({dc:e})=>{var t,a;const{t:r}=Object(l.useTranslation)(),s=i.a(e,"spec.strategy.rollingParams.timeoutSeconds"),c=i.a(e,"spec.strategy.rollingParams.updatePeriodSeconds"),u=i.a(e,"spec.strategy.rollingParams.intervalSeconds"),d=o.a(e.spec.triggers,"type").join(", ");return n.createElement("dl",{className:"co-m-pane__details"},n.createElement(k.r,{label:r("public~Latest version"),obj:e,path:"status.latestVersion"}),n.createElement(k.r,{label:r("public~Message"),obj:e,path:"status.details.message",hideEmpty:!0}),n.createElement(k.r,{label:r("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"Rolling"===e.spec.strategy.type&&n.createElement(n.Fragment,null,n.createElement(k.r,{label:r("public~Timeout"),obj:e,path:"spec.strategy.rollingParams.timeoutSeconds",hideEmpty:!0},r("public~{{count}} second",{count:s})),n.createElement(k.r,{label:r("public~Update period"),obj:e,path:"spec.strategy.rollingParams.updatePeriodSeconds",hideEmpty:!0},r("public~{{count}} second",{count:c})),n.createElement(k.r,{label:r("public~Interval"),obj:e,path:"spec.strategy.rollingParams.intervalSeconds",hideEmpty:!0},r("public~{{count}} second",{count:u})),n.createElement(k.r,{label:r("public~Max unavailable"),obj:e,path:"spec.strategy.rollingParams.maxUnavailable"},r("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingParams.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),n.createElement(k.r,{label:r("public~Max surge"),obj:e,path:"spec.strategy.rollingParams.maxSurge"},r("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(a=e.spec.strategy.rollingParams.maxSurge)&&void 0!==a?a:1,count:e.spec.replicas}))),n.createElement(k.r,{label:r("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?r("public~{{count}} second",{count:e.spec.minReadySeconds}):r("public~Not configured")),n.createElement(k.r,{label:r("public~Triggers"),obj:e,path:"spec.triggers",hideEmpty:!0},d),n.createElement(k.mb,{obj:e}),n.createElement(O.a,{obj:e}))},_=()=>{const{t:e}=Object(l.useTranslation)();return n.createElement(S.a,{isInline:!0,variant:"info",title:e("public~DeploymentConfig is being deprecated with OpenShift 4.14")},n.createElement("p",null,e("public~Feature development of DeploymentConfigs will be deprecated in OpenShift Container Platform 4.14.")),n.createElement("p",null,e("public~DeploymentConfigs will continue to be supported for security and critical fixes, but you should migrate to Deployments wherever it is possible.")),!Object(k.hc)()&&n.createElement(k.z,{href:Object(k.Qb)(k.Lb.deprecatedDeploymentConfig),text:e("public~Learn more about Deployments"),additionalClassName:"pf-v5-u-mt-md"}))},D=({obj:e})=>{const{t:t}=Object(l.useTranslation)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:t("public~DeploymentConfig details")}),e.spec.paused&&n.createElement(k.Db,{obj:e,model:v.DeploymentConfigModel}),n.createElement(c.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),n.createElement("div",{className:"co-m-pane__body-group"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement(k.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},n.createElement("dt",null,t("public~Status")),n.createElement("dd",null,n.createElement(s.cc,{status:C(e)})))),n.createElement("div",{className:"col-sm-6"},n.createElement(w,{dc:e}))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:t("public~Containers")}),n.createElement(k.k,{containers:e.spec.template.spec.containers})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(h.a,{resource:e,heading:t("public~Volumes")})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(k.ob,{text:t("public~Conditions")}),n.createElement(b.b,{conditions:e.status.conditions})))},x=e=>n.createElement(k.c,Object.assign({loader:()=>Promise.all([a.e(2),a.e(28)]).then(a.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),A=["spec","template","spec","containers"],M=[k.mc.details(D),k.mc.editYaml(),{href:"replicationcontrollers",nameKey:"public~ReplicationControllers",component:({obj:e})=>{const{metadata:{namespace:t,name:a}}=e;return n.createElement(E.ReplicationControllersPage,{showTitle:!1,namespace:t,selector:{"openshift.io/deployment-config.name":a},canCreate:!1})}},k.mc.pods(),k.mc.envEditor(e=>n.createElement(x,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:A,readOnly:!1})),k.mc.events(f.ResourceEventStream)],U=({kindObj:e,obj:t})=>{const a={[Object(p.Hb)(e)]:t};return n.createElement(s.j,{context:a},({actions:e,options:t,loaded:a})=>a&&n.createElement(s.h,{actions:e,options:t,variant:s.i.DROPDOWN}))},L=e=>n.createElement(y.a,Object.assign({},e,{kind:"DeploymentConfig",customActionMenu:(e,t)=>n.createElement(U,{kindObj:e,obj:t}),pages:M}),n.createElement(_,null),n.createElement("br",null));L.displayName="DeploymentConfigsDetailsPage";const q=e=>{var{obj:t}=e,a=P(e,["obj"]);const i={[Object(p.Db)(t)]:t},r=n.createElement(s.hb,{context:i});return n.createElement(j.b,Object.assign({obj:t,customActionMenu:r,kind:"DeploymentConfig"},a))},F=()=>Object(j.a)();F.displayName="DeploymentConfigTableHeader";const V=e=>{const{t:t}=Object(l.useTranslation)();return n.createElement(y.j,Object.assign({},e,{"aria-label":t("public~DeploymentConfigs"),Header:F,Row:q,virtualize:!0}))};V.displayName="DeploymentConfigsList";const $=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deploymentconfigs/~new/form`};return n.createElement(y.c,Object.assign({kind:"DeploymentConfig",ListComponent:V,createProps:t,canCreate:!0,helpText:n.createElement(_,null)},e))};$.displayName="DeploymentConfigsListPage"},4369:function(e,t,a){"use strict";a.r(t),a.d(t,"ReplicationControllersDetailsPage",(function(){return P})),a.d(t,"ReplicationControllersList",(function(){return N})),a.d(t,"ReplicationControllersPage",(function(){return C}));var n=a(0),i=a(16),r=a(18),o=a(7),s=a(14),l=a(54),c=a(15),u=a(409),d=a(40),m=a(5),p=a(8),g=a(2226),v=a(2224);const b=e=>n.createElement(m.c,Object.assign({loader:()=>Promise.all([a.e(2),a.e(28)]).then(a.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),f=["spec","template","spec","containers"],h=e=>n.createElement(b,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:f,readOnly:!1}),{details:y,editYaml:k,pods:E,envEditor:j,events:O}=m.mc,S=e=>n.createElement(m.ab,Object.assign({},e,{showNodes:!0})),P=e=>{const{t:t}=Object(o.useTranslation)();return n.createElement(d.a,Object.assign({},e,{getResourceStatus:e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a["openshift.io/deployment.phase"])||null},customActionMenu:(e,t)=>{const a={[Object(p.Hb)(e)]:t};return n.createElement(c.j,{context:a},({actions:e,options:t,loaded:a})=>a&&n.createElement(c.h,{actions:e,options:t,variant:c.i.DROPDOWN}))},pages:[y(({obj:e})=>{const a=i.a(e,["metadata","annotations","openshift.io/deployment-config.latest-version"]),r=i.a(e,["metadata","annotations","openshift.io/deployment.phase"]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"co-m-pane__body"},n.createElement(m.ob,{text:t("public~ReplicationController details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement(m.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a&&n.createElement(n.Fragment,null,n.createElement("dt",null,t("public~Deployment revision")),n.createElement("dd",null,a)))),n.createElement("div",{className:"col-md-6"},n.createElement("dl",{className:"co-m-pane__details"},r&&n.createElement(n.Fragment,null,n.createElement("dt",null,t("public~Phase")),n.createElement("dd",null,n.createElement(c.cc,{status:r}))),n.createElement(m.kb,{resource:e}),n.createElement(m.mb,{obj:e}),n.createElement(v.a,{obj:e}))))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(m.ob,{text:t("public~Containers")}),n.createElement(m.k,{containers:e.spec.template.spec.containers})),n.createElement("div",{className:"co-m-pane__body"},n.createElement(g.a,{resource:e,heading:t("public~Volumes")})))}),k(),E(S),j(h),O(u.ResourceEventStream)]}))},T="ReplicationController",R=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",m.F.columnClass],I=({obj:e})=>{var t,a;const{t:i}=Object(o.useTranslation)(),l=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a["openshift.io/deployment.phase"],u={[Object(p.Db)(e)]:e};return n.createElement(n.Fragment,null,n.createElement(d.k,{className:R[0]},n.createElement(m.hb,{kind:T,name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(d.k,{className:r(R[1],"co-break-word"),columnID:"namespace"},n.createElement(m.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(d.k,{className:R[2]},n.createElement(s.Link,{to:Object(m.tc)(T,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},i("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),n.createElement(d.k,{className:R[3]},n.createElement(c.cc,{status:l})),n.createElement(d.k,{className:R[4]},n.createElement(m.Y,{resource:e})),n.createElement(d.k,{className:R[5]},n.createElement(m.xb,{timestamp:e.metadata.creationTimestamp})),n.createElement(d.k,{className:R[6]},n.createElement(c.hb,{context:u})))},N=e=>{const{t:t}=Object(o.useTranslation)();return n.createElement(d.j,Object.assign({},e,{"aria-label":t("public~ReplicationControllers"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:R[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[l.a],props:{className:R[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[l.a],props:{className:R[2]}},{title:t("public~Phase"),sortField:'metadata.annotations["openshift.io/deployment.phase"]',transforms:[l.a],props:{className:R[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[l.a],props:{className:R[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:R[5]}},{title:"",props:{className:R[6]}}],Row:I,virtualize:!0}))},C=e=>{const{canCreate:t=!0}=e;return n.createElement(d.c,Object.assign({canCreate:t,kind:"ReplicationController",ListComponent:N},e))}},4470:function(e,t,a){"use strict";a.r(t);var n=a(8018);a.d(t,"DeploymentConfigPage",(function(){return n.a}));var i=a(8023);a.d(t,"DeploymentPage",(function(){return i.a}))},5586:function(e,t,a){"use strict";a.r(t);var n=a(5622);a.d(t,"PipelineModel",(function(){return n.f})),a.d(t,"PipelineModelV1Beta1",(function(){return n.g})),a.d(t,"PipelineRunModel",(function(){return n.i})),a.d(t,"PipelineRunModelV1Beta1",(function(){return n.j})),a.d(t,"TaskModel",(function(){return n.l})),a.d(t,"TaskModelV1Beta1",(function(){return n.m})),a.d(t,"TaskRunModel",(function(){return n.n})),a.d(t,"TaskRunModelV1Beta1",(function(){return n.o})),a.d(t,"CustomRunModelV1Beta1",(function(){return n.d})),a.d(t,"PipelineResourceModel",(function(){return n.h})),a.d(t,"ClusterTaskModel",(function(){return n.a})),a.d(t,"ConditionModel",(function(){return n.c})),a.d(t,"TriggerBindingModel",(function(){return n.s})),a.d(t,"ClusterTriggerBindingModel",(function(){return n.b})),a.d(t,"TriggerTemplateModel",(function(){return n.t})),a.d(t,"EventListenerModel",(function(){return n.e})),a.d(t,"RepositoryModel",(function(){return n.k})),a.d(t,"TektonConfigModel",(function(){return n.p})),a.d(t,"TektonHubModel",(function(){return n.q})),a.d(t,"TektonResultModel",(function(){return n.r}))},5588:function(e,t,a){"use strict";var n,i,r,o,s,l,c,u,d;a.d(t,"r",(function(){return n})),a.d(t,"q",(function(){return i})),a.d(t,"v",(function(){return r})),a.d(t,"t",(function(){return o})),a.d(t,"w",(function(){return s})),a.d(t,"u",(function(){return l})),a.d(t,"o",(function(){return c})),a.d(t,"x",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"s",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"l",(function(){return v})),a.d(t,"k",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return y})),a.d(t,"z",(function(){return k})),a.d(t,"y",(function(){return E})),a.d(t,"j",(function(){return j})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return S})),a.d(t,"n",(function(){return P})),a.d(t,"f",(function(){return T})),a.d(t,"d",(function(){return R})),a.d(t,"e",(function(){return I})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(n||(n={})),function(e){e.user="pipeline.openshift.io/started-by"}(i||(i={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(o||(o={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const m="1.4.0",p="1.6.0",g="1.5.2",v="pipeline",b="bridge/pipeline-run-auto-start-failed",f=275,h=375,y=60,k="pipeline.openshift.io/preferredName",E="chains.tekton.dev/signed",j="openshift-pipelines",O="openshift",S="config";var P;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(P||(P={}));const T="FLAG_TEKTON_V1_ENABLED",R="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",I="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5595:function(e,t,a){"use strict";var n=a(5626);a.d(t,"b",(function(){return n.a})),a.d(t,"c",(function(){return n.b})),a.d(t,"d",(function(){return n.c}));a(5627);var i=a(5628);a.d(t,"e",(function(){return i.a}));a(5629),a(5630);var r=a(5631);a.d(t,"f",(function(){return r.a}));var o=a(5632);a.d(t,"a",(function(){return o.a}))},5617:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"e",(function(){return v})),a.d(t,"i",(function(){return b})),a.d(t,"j",(function(){return f}));var n,i=a(29),r=a(16),o=a(240),s=a(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(n||(n={}));const l=e=>{var t;const a=r.a(e,["status","conditions"],[]);if(0===a.length)return null;const i=a.find(e=>"Succeeded"===e.type),o=a.find(e=>"Cancelled"===e.reason);if([n.PipelineRunStopped,n.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!o)return s.a.Cancelling;if(!i||!i.status)return null;const l="True"===i.status?s.a.Succeeded:"False"===i.status?s.a.Failed:s.a.Running;if(i.reason&&i.reason!==l)switch(i.reason){case n.PipelineRunCancelled:case n.TaskRunCancelled:case n.Cancelled:case n.PipelineRunStopped:return s.a.Cancelled;case n.PipelineRunStopping:case n.TaskRunStopping:return s.a.Failed;case n.CreateContainerConfigError:case n.ExceededNodeResources:case n.ExceededResourceQuota:case n.PipelineRunPending:return s.a.Pending;case n.ConditionCheckFailed:return s.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case s.a.Cancelled:return i.a.t("pipelines-plugin~Cancelled");case s.a.Failed:return i.a.t("pipelines-plugin~Failed");case s.a.Succeeded:return i.a.t("pipelines-plugin~Succeeded");case s.a.Pending:return i.a.t("pipelines-plugin~Pending");case s.a.Running:return i.a.t("pipelines-plugin~Running");case s.a.Skipped:return i.a.t("pipelines-plugin~Skipped");case s.a.Cancelling:return i.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||s.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",m=e=>c(e)||"-",p=e=>l(e)||s.a.Other,g=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=u(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!o.a(e.all,n)},v=(e,t)=>{var a;if(!e||!e.selected||!e.selected.length)return!0;const n=p(t);return(null===(a=e.selected)||void 0===a?void 0:a.includes(n))||!o.a(e.all,n)},b=e=>l(e)||s.a.Other,f=e=>c(e)||"-"},5618:function(e,t,a){"use strict";var n=a(0),i=a(297),r=a(18),o=a.n(r);a(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:a,children:r,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>n.createElement("div",{className:o()("pf-v5-c-form",{"co-m-pane__form":!a,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&n.createElement("h2",{className:"odc-form-section__heading"},e),t&&n.createElement(i.a,null,t),r)},5620:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(n||(n={}))},5621:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"l",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"m",(function(){return f})),a.d(t,"o",(function(){return h})),a.d(t,"n",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"h",(function(){return E})),a.d(t,"g",(function(){return j})),a.d(t,"e",(function(){return O})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return P})),a.d(t,"j",(function(){return T})),a.d(t,"i",(function(){return R}));var n=a(4413),i=a(689),r=a(5),o=a(5620),s=a(2221),l=a(5624),c=a(5599),u=a(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,m=/^\/.*$/,p=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,g=i.object().shape({name:i.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),v=i.object().shape({selectedKey:i.string(),name:i.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:i.string().required("Required")})}),b=e=>i.object().shape({replicas:i.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),f=i.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),h=e=>i.object().when("resources",{is:c.k.KnativeService,then:i.object().shape({scaling:i.object({minpods:i.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:i.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:i.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:i.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:i.object().shape({autoscalewindow:i.number().transform(e=>n.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,a=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return a>=6&&a<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:i.array().of(i.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>i.object().shape({secure:i.boolean(),tls:i.object().when("secure",{is:!0,then:i.object({termination:i.string().required(e("devconsole~Please select a termination type."))})}),hostname:i.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:i.string().matches(m,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:i.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),k=e=>i.object().shape({cpu:i.object().shape({request:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${a}${n}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:i.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(r.Ib)(`${e}${n}`)>=Object(r.Ib)(`${t}${a}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:i.object().shape({request:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${a}${n}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:i.string(e("devconsole~Unit must be Mi or Gi.")),limit:i.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(r.Ib)(`${t}${a}`)<=Object(r.Ib)(`${e}${n}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:i.string(e("devconsole~Unit must be Mi or Gi."))})}),E=e=>i.object().when("build",{is:e=>"Source"===e.strategy,then:i.object().shape({selected:i.string().required(e("devconsole~Required")),tag:i.string().required(e("devconsole~Required"))})}),j=e=>i.object().shape({url:i.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(p,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:i.string().when("showGitType",{is:!0,then:i.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:i.boolean()}),O=e=>i.object().when("build",{is:e=>"Docker"===e.strategy,then:i.object().shape({containerPort:i.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:i.string().required(e("devconsole~Required"))})}),S=e=>i.object().when("build",{is:e=>"Devfile"===e.strategy,then:i.object().shape({devfilePath:i.string().required(e("devconsole~Required")),devfileContent:i.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:i.boolean().oneOf([!1]),devfileSuggestedResources:i.object().required(e("devconsole~Required"))})}),P=i.object().shape({strategy:i.string()}),T=e=>i.object().shape({name:i.string().required(e("devconsole~Required")),image:i.object().required(e("devconsole~Required")),tag:i.string(),status:i.string().required(e("devconsole~Required"))}),R=i.object().when(["enabled","build.option","type"],{is:(e,t,a)=>(e||t===c.a.PIPELINES)&&a!==o.a.PAC,then:i.object().shape({templateSelected:i.string().required()})})},5622:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"i",(function(){return s})),a.d(t,"j",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return d})),a.d(t,"o",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"s",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"t",(function(){return y})),a.d(t,"e",(function(){return k})),a.d(t,"k",(function(){return E})),a.d(t,"p",(function(){return j})),a.d(t,"q",(function(){return O})),a.d(t,"r",(function(){return S}));var n=a(5654);const i=n.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},o={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:i},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:i},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:i},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:i},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:i},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:i},v={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:i},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:i},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:i},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:i},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:i},k={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:i},E={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:i},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},O={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},S={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return P})),a.d(t,"p",(function(){return T})),a.d(t,"h",(function(){return R})),a.d(t,"f",(function(){return I})),a.d(t,"j",(function(){return N})),a.d(t,"m",(function(){return C})),a.d(t,"o",(function(){return w})),a.d(t,"e",(function(){return _})),a.d(t,"v",(function(){return D})),a.d(t,"B",(function(){return x})),a.d(t,"d",(function(){return A})),a.d(t,"s",(function(){return U})),a.d(t,"w",(function(){return L})),a.d(t,"k",(function(){return q})),a.d(t,"l",(function(){return F})),a.d(t,"t",(function(){return V})),a.d(t,"g",(function(){return $})),a.d(t,"x",(function(){return B})),a.d(t,"y",(function(){return G})),a.d(t,"z",(function(){return K})),a.d(t,"r",(function(){return Y})),a.d(t,"u",(function(){return X})),a.d(t,"q",(function(){return J})),a.d(t,"i",(function(){return Q})),a.d(t,"A",(function(){return Z})),a.d(t,"n",(function(){return ee}));var n=a(321),i=a(29),r=a(1557),o=a(117),s=a(16),l=a(22),c=a(640),u=a(1942),d=a(5),m=a(10),p=a(8),g=a(5588),v=a(5650),b=a(5586),f=a(5595),h=a(5635),y=a(5617);const k=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,E=e=>e.runAfter&&e.runAfter.length>0;var j;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(j||(j={}));const O={[j.Running]:i.a.t("pipelines-plugin~Running"),[j.Failed]:i.a.t("pipelines-plugin~Failed"),[j.Succeeded]:i.a.t("pipelines-plugin~Succeeded"),[j.Cancelled]:i.a.t("pipelines-plugin~Cancelled"),[j.Other]:i.a.t("pipelines-plugin~Other")};var S;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(S||(S={}));S.Git,S.PullRequest,S.Image,S.Cluster,S.Storage,S.CloudEvent;const P=(e,t,a,i=!1)=>((i?e.spec.finally:e.spec.tasks)||[]).map(e=>{var i;if(!t.status)return e;if(!a||0===a.length)return t.spec.status===y.a.PipelineRunCancelled?r.a(e,{status:{reason:f.a.Cancelled}}):t.spec.status===y.a.PipelineRunPending?r.a(e,{status:{reason:f.a.Idle}}):r.a(e,{status:{reason:f.a.Failed}});const l=o.a(a,t=>t.metadata.labels[g.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=r.a(e,{status:(null===(i=null==t?void 0:t.status)||void 0===i?void 0:i.taskRuns)?s.a(o.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(n.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(y.d)(u)||f.a.Pending:u.status&&!u.status.reason&&(u.status.reason=f.a.Pending):u.status={reason:f.a.Pending},u}),T=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},a)=>{var n;const i=[];if(!(null===(n=e.spec)||void 0===n?void 0:n.tasks)||l.a(e.spec.tasks))return i;const r=P(e,t,a);return r.forEach(e=>{k(e)||E(e)||(0===i.length&&i.push([]),i[0].push(e))}),r.forEach(e=>{var t;if(!E(e)&&k(e)){let a=i.length-1;for(let n=0;n<i.length;n++)for(const r of i[n])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(a=n);const n=i[a+1]?i[a+1]:null;n&&n[0]&&n[0].resources&&n[0].resources.inputs&&n[0].resources.inputs[0]&&n[0].resources.inputs[0].from&&n[0].resources.inputs[0].from[0]&&n[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?n.push(e):i.splice(a+1,0,[e])}}),r.forEach(e=>{var t;if(E(e)){let a=i.length-1;for(let n=0;n<i.length;n++)for(const r of i[n])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(a=n);const n=i[a+1]?i[a+1]:null;n&&n[0].runAfter&&n[0].runAfter[0]&&n[0].runAfter[0]===e.runAfter[0]?n.push(e):i.splice(a+1,0,[e])}}),i},R=(e,t,a)=>P(e,t,a,!0),I=e=>{if(!e)return d.K;const{state:t,lastState:a}=e;return t.waiting&&!l.a(a)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},N=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};const t=Object(h.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:f.a.PipelineNotStarted};let a=Object(y.c)(t);return"-"===a&&(a=f.a.Pending),{latestPipelineRun:t,status:a}},C=e=>e&&e.map(e=>({name:e.name,value:e.default})),w=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),_=(e,t,a)=>{const n=new Date(e).getTime(),i=((t?new Date(t).getTime():(new Date).getTime())-n)/1e3;return Object(v.g)(i,a)},D=e=>{var t,a,n,i;const r=null!==(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==a?a:null,o=null!==(i=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.completionTime)&&void 0!==i?i:null;return!r||!o&&"Running"!==Object(y.d)(e)?"-":_(r,o,!0)},x=(e,t,a)=>{const n=c.a(t);return n.secrets=[...n.secrets,{name:e}],a&&(n.imagePullSecrets=[...n.imagePullSecrets,{name:e}]),Object(p.rb)(m.ServiceAccountModel,n)},A=(e,t,a)=>{Object(p.kb)(m.ServiceAccountModel,g.l,t).then(t=>{void 0===o.a(t.secrets,t=>t.name===e.metadata.name)&&x(e.metadata.name,t,a)}).catch(e=>{Object(u.errorModal)({error:e.message})})},M=(e,t)=>e===g.p.Git?`tekton.dev/${g.p.Git}-${t}`:e===g.p.Image?`tekton.dev/${g.p.Image}-${t}`:null,U=(e,t={})=>{let a=0,n=M(null==e?void 0:e.key,a);if(!n)return t;for(;t[n]&&t[n]!==(null==e?void 0:e.value);)n=M(null==e?void 0:e.key,++a);return Object.assign(Object.assign({},t),{[n]:null==e?void 0:e.value})},L=e=>{switch(e.kind){case b.PipelineModel.kind:case b.TaskModel.kind:case b.EventListenerModel.kind:return"";case b.PipelineRunModel.kind:return"pipeline-runs";case b.PipelineResourceModel.kind:return"pipeline-resources";case b.ConditionModel.kind:return"conditions";case b.TaskRunModel.kind:return"task-runs";case b.ClusterTaskModel.kind:return"cluster-tasks";case b.TriggerTemplateModel.kind:return"trigger-templates";case b.TriggerBindingModel.kind:return"trigger-bindings";case b.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case b.RepositoryModel.kind:return"repositories";default:return null}},q=(e,t,a)=>e.filter(e=>{const{ownerReferences:n=[]}=e.metadata;return n.some(e=>e.name===t&&e.kind===a)}),F=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),V=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var a;return(null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)===e.metadata.name})),$=(e,t)=>t.reduce((t,a)=>(a.spec.triggers.filter(t=>e.find(e=>{var a;return(null==e?void 0:e.metadata.name)===(null===(a=null==t?void 0:t.template)||void 0===a?void 0:a.ref)})).length>0&&t.push(a),t),[]),B=e=>"tekton.dev/v1beta1"===e.apiVersion?b.PipelineModelV1Beta1:b.PipelineModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?b.PipelineRunModelV1Beta1:b.PipelineRunModel,K=e=>"tekton.dev/v1beta1"===e.apiVersion?b.TaskModelV1Beta1:b.TaskModel;var H,z,W;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(H||(H={})),function(e){e.EXTERNAL_LINK="external-link"}(z||(z={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(W||(W={}));const Y=e=>null==e?void 0:e.find(e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[H.KEY])===W.SBOM}),X=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===a?void 0:a[H.TYPE])===z.EXTERNAL_LINK},J=e=>{var t,a,n,i;return null===(i=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.taskResults))||void 0===n?void 0:n.find(e=>e.name===W.SBOM))||void 0===i?void 0:i.value},Q=e=>{var t,a,n,i;return null===(i=null===(n=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.pipelineResults))||void 0===n?void 0:n.find(e=>e.name===W.IMAGE_REPOSITORY))||void 0===i?void 0:i.value},Z=e=>{var t,a;if(!(null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.length))return f.a.Pending;return Object(y.d)(e)},ee=e=>{var t,a,n;const i=null===(n=null===(a=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===a?void 0:a.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===n?void 0:n.message,r=null==i?void 0:i.match(/(\w+)(?::\s*|\s+)(\d+)/g),o={};null==r||r.forEach(e=>{const[t,a]=e.split(/(?::\s*|\s+)/);o[t.trim()]=Number(a.trim())});const s=((null==o?void 0:o.Completed)||0)-((null==o?void 0:o.Failed)||0)-((null==o?void 0:o.Cancelled)||0);return{Running:(null==o?void 0:o.Incomplete)||0,Succeeded:s||0,Cancelled:(null==o?void 0:o.Cancelled)||0,Failed:(null==o?void 0:o.Failed)||0,Skipped:(null==o?void 0:o.Skipped)||0,Completed:(null==o?void 0:o.Completed)||0,Cancelling:(null==o?void 0:o.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=e=>({test:e=>null==e||Number.isInteger(e),message:e}),i=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5626:function(e,t,a){"use strict";var n,i,r;a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(n||(n={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(i||(i={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,a){},5628:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,a){},5630:function(e,t,a){},5631:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,a){"use strict";var n,i;a.d(t,"a",(function(){return n})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(n||(n={})),function(e){e.RunCancelled="RunCancelled"}(i||(i={}))},5635:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"f",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"i",(function(){return y})),a.d(t,"h",(function(){return E})),a.d(t,"e",(function(){return j})),a.d(t,"g",(function(){return O})),a.d(t,"c",(function(){return S})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return R})),a.d(t,"j",(function(){return I})),a.d(t,"k",(function(){return N}));var n=a(5699),i=a(1403),r=a(5692),o=a(5691),s=a(5654),l=a(2225),c=a(29),u=a(8),d=a(5588),m=a(5586),p=a(5595),g=a(5617);const v=(e,t)=>{if(!(e&&e.length>0&&t))return null;let a=e[0];if("creationTimestamp"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].metadata&&e[n].metadata[t]&&new Date(e[n].metadata[t])>new Date(a.metadata[t])?e[n]:a;else if("startTime"===t||"completionTime"===t)for(let n=1;n<e.length;n++)a=e[n]&&e[n].status&&e[n].status[t]&&new Date(e[n].status[t])>new Date(a.status[t])?e[n]:a;else a=e[e.length-1];return a.status||(a=Object.assign(Object.assign({},a),{status:{pipelineSpec:{tasks:[]}}})),a.status.succeededCondition||(a.status=Object.assign(Object.assign({},a.status),{succeededCondition:""})),a.status.succeededCondition=Object(g.c)(a),a},b=(e,t)=>e.map(e=>{const a=t.filter(t=>{var a;return(null===(a=t.metadata.labels)||void 0===a?void 0:a["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=v(a,"creationTimestamp"),e}),f=e=>{switch(e){case p.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:s.chart_color_green_400};case p.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case p.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case p.a.Running:case p.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:o.chart_color_blue_300};case p.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:n.chart_color_black_400};case p.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:i.chart_color_black_500};case p.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:i.chart_color_black_500};case p.a.Idle:case p.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},h=e=>{var t,a,n,i,r;const o=(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[d.u.pipeline])||(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name),s=(null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return o&&s?{apiVersion:Object(u.n)(m.PipelineModel),kind:m.PipelineModel.kind,metadata:{name:o,namespace:e.metadata.namespace},spec:s}:null},y=(e,t,a)=>{var n,i,r,o,s;const l=(e=>{var t,a,n,i;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==a?a:0)+(null!==(i=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).length)&&void 0!==i?i:0)})(t)-(e=>{var t,a,n,i;if(!e)return 0;return(null!==(a=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==a?a:0)+(null!==(i=((null===(n=e.spec)||void 0===n?void 0:n.finally)||[]).filter(e=>{var t,a;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(a=e.taskRef)||void 0===a?void 0:a.kind)}).length)&&void 0!==i?i:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):a?null==a?void 0:a.map(e=>e.metadata.name):[]},u=c().length,d=((null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.skippedTasks)||[]).length,m={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.taskRuns)||a){c().forEach(t=>{const n=Object(g.c)((null==a?void 0:a.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===n?m[p.a.Succeeded]++:"Running"===n?m[p.a.Running]++:"Failed"===n?m[p.a.Failed]++:"Cancelled"===n?m[p.a.Cancelled]++:m[p.a.Pending]++});const t=m[p.a.Failed]>0,n=Object(g.c)(e)===p.a.Cancelled,i=l>=u?l-u-d:l;t||n?m[p.a.Cancelled]+=i:m[p.a.Pending]+=i}else"False"===(null===(s=null===(o=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===o?void 0:o[0])||void 0===s?void 0:s.status)||(null==e?void 0:e.spec.status)===g.a.PipelineRunCancelled?m[p.a.Cancelled]=l:(null==e?void 0:e.spec.status)===g.a.PipelineRunPending?m[p.a.Pending]+=l:m[p.a.PipelineNotStarted]++;return m},k=e=>e===m.ClusterTaskModel.kind?m.ClusterTaskModel:e===m.TaskModel.kind||void 0===e?m.TaskModel:null,E=e=>(k(e)||m.TaskModel).kind,j=e=>e===m.ClusterTriggerBindingModel.kind?m.ClusterTriggerBindingModel:e===m.TriggerBindingModel.kind||void 0===e?m.TriggerBindingModel:null,O=e=>(j(e)||m.TriggerBindingModel).kind,S=e=>{const t=k(e);return Object(u.Hb)(t)},P=(e,t)=>{const a=t&&y(e,void 0,t);return null==a?void 0:a.Running},T=(e,t)=>!(e&&(P(e,t)>0||Object(g.c)(e)===p.a.Running)),R=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(g.c)(e)===p.a.Running)),I=(e,t)=>!(e&&P(e,t)>0&&Object(g.c)(e)!==p.a.Cancelled),N=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(g.c)(e)!==p.a.Cancelled)},5648:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return p}));var n,i,r,o=a(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(n||(n={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(i||(i={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const s={[n.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[n.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[n.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[n.SHA]:"pipelinesascode.tekton.dev/sha",[n.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[i.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[i.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[i.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[i.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:o.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[o.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},m={[o.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[o.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[o.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},p=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return g}));var n=a(2338),i=a(689),r=a(5591),o=a(5653),s=a(15),l=a(5655),c=a(5621);const u=e=>i.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(o.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),m=e=>c.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,p=e=>{if(s.Yd.test(e))return e;const t=n.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},g=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return p(t)}},5650:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"k",(function(){return b})),a.d(t,"f",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return y})),a.d(t,"h",(function(){return k})),a.d(t,"j",(function(){return E})),a.d(t,"g",(function(){return j})),a.d(t,"b",(function(){return O})),a.d(t,"i",(function(){return S}));var n,i,r=a(321),o=a(29),s=a(550),l=a(50),c=a(16),u=a(384),d=a(4427),m=a(461),p=a(5),g=a(158),v=a(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(n||(n={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(i||(i={}));const b=(e=i.TEKTON_PIPELINES_CONTROLLER)=>({[v.n.PIPELINE_TASK_LEVEL]:{[n.PIPELINE_SUCCESS_RATIO]:s.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[v.n.PIPELINERUN_TASKRUN_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[v.n.UNSIMPLIFIED_METRICS_LEVEL]:{[n.NUMBER_OF_PIPELINE_RUNS]:s.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[n.PIPELINE_RUN_TASK_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[n.PIPELINE_RUN_DURATION]:s.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[n.PIPELINE_SUCCESS_RATIO]:s.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),f=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(p.cc)(e).string:e.toExponential(1))(Math.abs(e)),h=e=>g.b.format(e),y=(e,t,a)=>{const{metric:n,values:i}=e,r=l.a(i,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:n}}),o=Number(c.a(r,"[0].x")),s=Number(c.a(u.a(r),"x")),m=a/t;return d.a(o,s,m).forEach((e,t)=>{const a=new Date(e);c.a(r,[t,"x"])>a&&r.splice(t,0,{x:a,y:null,metric:n})}),r},k=(e,t,a)=>{var n;const i=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.result)||[];return null==i?void 0:i.map(e=>{var n;return null===(n=null==e?void 0:e.values)||void 0===n?void 0:n.map(([n,i])=>{var r,o;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*n),y:null!==(o=null==a?void 0:a(i))&&void 0!==o?o:parseFloat(i),metric:null==e?void 0:e.metric,time:n}})})},E=e=>{const t=[];if(!e)return t;const a=Object(r.b)("1d"),n=Math.round(e/a),i=new Date(Date.now());for(i.setHours(0,0,0,0);t.length-1<n;)t.push(i.getTime()),i.setDate(i.getDate()-1);return t.slice(0,n)},j=(e,t)=>{if(0===e)return o.a.t("pipelines-plugin~less than a sec");let a=Math.round(e),n=0,i=0,r="";return a>=60&&(n=Math.floor(a/60),a%=60),n>=60&&(i=Math.floor(n/60),n%=60),i>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} hour",{count:i}):o.a.t("pipelines-plugin~{{hr}}h",{hr:i}),r+=" "),n>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} minute",{count:n}):o.a.t("pipelines-plugin~{{min}}m",{min:n}),r+=" "),a>0&&(r+=t?o.a.t("pipelines-plugin~{{count}} second",{count:a}):o.a.t("pipelines-plugin~{{sec}}s",{sec:a})),r.trim()},O=()=>({"1d":o.a.t("pipelines-plugin~1 day"),"3d":o.a.t("pipelines-plugin~3 days"),"1w":o.a.t("pipelines-plugin~1 week"),"2w":o.a.t("pipelines-plugin~2 weeks"),"3w":o.a.t("pipelines-plugin~3 weeks"),"4w":o.a.t("pipelines-plugin~4 weeks")}),S=e=>{let t=0;return m.a(e,"x").map(e=>{const a=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:a})})}},5651:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(8),i=a(1402);const r=e=>{const[t,a]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:a||"s",defaultAutoscalewindowUnit:a||"s"}},o=/ *\([^)]*\) */g,s=e=>e.replace(o,""),l=(e,t)=>{var a;if(!(null===(a=e.spec)||void 0===a?void 0:a.ref))return null;const{apiVersion:r,kind:o,name:s}=e.spec.ref;return Object(n.n)(i.l)===r&&o===i.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(o).test(e)),d=(e,t=[],a)=>e.filter(e=>u([e])).map(e=>{var n,i;const r=null==t?void 0:t.find(t=>t.metadata.name===s(e));return r&&(null===(i=null===(n=r.spec)||void 0===n?void 0:n.ref)||void 0===i?void 0:i.name)!==a?r:null}).filter(e=>!!e)},5653:function(e,t,a){"use strict";a.d(t,"g",(function(){return E})),a.d(t,"e",(function(){return O})),a.d(t,"c",(function(){return P})),a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return R})),a.d(t,"f",(function(){return I})),a.d(t,"d",(function(){return N}));var n=a(5596),i=a(320),r=a(2338),o=a(689),s=a(5621),l=a(5624),c=a(77),u=a(5591),d=a(4359),m=a(10),p=a(15),g=a(5586),v=a(5620),b=a(5656),f=a(5588),h=a(5648),y=function(e,t,a,n){return new(a||(a=Promise))((function(i,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const k={dryRun:"All"},E=e=>o.object().shape({name:o.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:o.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:o.string(),webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>o.object().shape({webhook:o.object().when("gitProvider",{is:u.b.BITBUCKET,then:o.object().shape({user:o.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:o.object().shape({token:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:o.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),O=e=>o.object().shape({repository:o.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===v.a.PAC&&t,then:j(e)})}),S=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),P=e=>s.f.test(e)?S(e,"github.com")?u.b.GITHUB:S(e,"bitbucket.org")?u.b.BITBUCKET:S(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,T=(e,t,a={},r)=>y(void 0,void 0,void 0,(function*(){var o,s,l;const{name:p,gitUrl:v,webhook:{secretObj:b,method:f,token:E,secret:j,user:O}}=e,S=i.Base64.encode(j),T=P(v);let R;E&&"token"===f?R=yield((e,t,a,n,r,o,s)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:m.SecretModel.apiVersion,kind:m.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:n},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":a},o&&{"webhook.secret":o}),r===u.b.BITBUCKET&&{"webhook.auth":i.Base64.encode(`${t}:${a}`)})};return Object(c.g)({model:m.SecretModel,data:l,ns:n,queryParams:s?k:{}})})))(p,O,E,t,T,j,r):"secret"===f&&b&&(null===(o=null==b?void 0:b.data)||void 0===o?void 0:o["webhook.secret"])!==S&&(yield Object(c.p)({model:m.SecretModel,resource:b,data:[{op:"replace",path:"/data/webhook.secret",value:i.Base64.encode(j)}]}));const I=n(v).source,N=R||b,C={kind:g.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:p,namespace:t},a||{}),spec:Object.assign({url:v},N||"github.com"!==I?{git_provider:Object.assign(Object.assign(Object.assign({},h.j.includes(I)?{}:{url:I}),"bitbucket.org"===I?{user:O}:{}),N?{secret:{name:null===(s=null==N?void 0:N.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==N?void 0:N.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:g.RepositoryModel,data:C,ns:t,queryParams:r?k:{}})})),R=(e,t,a)=>y(void 0,void 0,void 0,(function*(){var n,r,o;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:m,secretObj:p,user:g}}=e,v=P(s),b=Object(u.e)(s,v);let f,h=!0;a&&"false"===(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n["webhook-ssl-verification"])&&(h=!1),f=v===u.b.BITBUCKET?"token"===l?i.Base64.encode(`${g}:${c}`):i.Base64.decode(null===(r=null==p?void 0:p.data)||void 0===r?void 0:r["webhook.auth"]):"token"===l?c:i.Base64.decode(null===(o=null==p?void 0:p.data)||void 0===o?void 0:o["provider.token"]);return yield b.createRepoWebhook(f,m,h,d)})),I=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return a=t,p.Yd.test(a)?"git-"+a:"git-"+r.a(a);var a},N=(e,t)=>y(void 0,void 0,void 0,(function*(){var a;let n;try{const[t]=yield Object(c.n)({model:m.ConfigMapModel,queryParams:{ns:f.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":h.g[e]||e}}}});n=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=n?n:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let a=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:m.ConfigMapModel,ns:f.g,name:b.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(a=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return a})))(t)}))},5655:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(689);const i=/^\/.*$/,r=e=>n.object().shape({containerName:n.string(),showForm:n.boolean(),enabled:n.boolean(),modified:n.boolean(),data:n.object().when("showForm",{is:!0,then:n.object().shape({periodSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:n.string(),httpGet:n.object().when("requestType",{is:"httpGet",then:n.object({path:n.string().matches(i,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:n.number().required(e("devconsole~Required"))})}),tcpSocket:n.object().when("requestType",{is:"tcpSocket",then:n.object({port:n.number().required(e("devconsole~Required"))})}),exec:n.object().when("requestType",{is:"command",then:n.object({command:n.array().of(n.string().required(e("devconsole~Required")))})})})})}),o=e=>n.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u}));const n="https://github.com/settings/apps/new",i="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",o="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5667:function(e,t,a){"use strict";var n=a(0),i=a(516),r=a(164),o=a(4341),s=a(404),l=a(5794),c=a(5912),u=a(5),d=a(8),m=a(64),p=a(197),g=a(2245);t.a=({obj:e,path:t})=>{var a;const{podData:v,loadError:b,loaded:f}=Object(m.A)(e),h=Object(d.vb)(null==e?void 0:e.kind),y=n.useMemo(()=>f&&!b?Object(p.z)(Object.assign(Object.assign({},v),{obj:e})):{inProgressDeploymentData:null,completedDeploymentData:null},[b,f,v,e]),k=(null==v?void 0:v.current)&&(null==v?void 0:v.current.obj),E=(null==v?void 0:v.previous)&&(null==v?void 0:v.previous.obj),{inProgressDeploymentData:j,completedDeploymentData:O}=y,S=j&&k,P=j&&O?E:k;return f?n.createElement(i.a,{hasGutter:!0},n.createElement(r.a,null,n.createElement(g.a,{key:j?"deploy":"notDeploy",pods:O,rc:(null==v?void 0:v.isRollingOut)?P:null===(a=null==v?void 0:v.current)||void 0===a?void 0:a.obj,resourceKind:h,obj:e,path:t,enableScaling:!(null==v?void 0:v.isRollingOut)})),j&&n.createElement(n.Fragment,null,n.createElement(r.a,null,n.createElement(o.a,null,n.createElement(s.a,{size:"xl"},n.createElement(l.a,{color:c.global_Color_200.value})))),n.createElement(r.a,null,n.createElement(g.a,{pods:j,rc:S,resourceKind:h,obj:e,path:t,enableScaling:!1})))):n.createElement(u.T,null)}},5669:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"i",(function(){return l})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"l",(function(){return g}));const n="OPENSHIFT_PIPELINE",i="OPENSHIFT_PIPELINE_AS_CODE",r="OPENSHIFT_PIPELINE_CONDITION",o="openshift",s="pipeline.openshift.io/runtime",l="pipeline.openshift.io/runtime-version",c="pipeline.openshift.io/strategy",u="pipeline.preferredPipelinePageTab",d="function.knative.dev/runtime",m="https://artifacthub.io/api/v1",p="resource.deleted.in.k8s",g="resource.loaded.from.tektonResults"},5673:function(e,t,a){"use strict";a.d(t,"m",(function(){return g})),a.d(t,"i",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"n",(function(){return y})),a.d(t,"p",(function(){return k})),a.d(t,"o",(function(){return E})),a.d(t,"k",(function(){return j})),a.d(t,"j",(function(){return O})),a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return P})),a.d(t,"l",(function(){return T})),a.d(t,"d",(function(){return R})),a.d(t,"f",(function(){return I})),a.d(t,"c",(function(){return N}));var n=a(255),i=a(745),r=a(117),o=a(384),s=a(1533),l=a(70),c=a(22),u=a(283),d=a(1401),m=a(4362),p=a(10);const g=["app.kubernetes.io/name","app.openshift.io/runtime"],v=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==a?a:""},b=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==a?a:""},f=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==a?a:""},h=e=>{var t,a,r,o,s,l;return(e=>n.a(e,(e,t,a)=>{const n=a.split("/");1===n.length&&n.push("tcp");const r=parseInt(n[0],10);return i.a(r)?e.push({containerPort:r,protocol:n[1].toUpperCase()}):console.warn("Unrecognized image port format",a),e},[]))((null===(r=null===(a=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===a?void 0:a.Config)||void 0===r?void 0:r.ExposedPorts)||(null===(l=null===(s=null===(o=null==e?void 0:e.image)||void 0===o?void 0:o.dockerImageMetadata)||void 0===s?void 0:s.ContainerConfig)||void 0===l?void 0:l.ExposedPorts))},y=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),k=e=>e.replace(/(-|^)([^-]?)/g,(e,t,a)=>(t&&" ")+a.toUpperCase()),E=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(m.isBuilder)(e)).reduce((e,t)=>{var a,n,i;const r=Object(m.getBuilderTagsSortedByVersion)(t),o=Object(m.getMostRecentBuilderTag)(t),{name:s}=t.metadata,l=null===(n=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/display-name"],c=null===(i=null==o?void 0:o.annotations)||void 0===i?void 0:i.description,u=t.metadata.namespace,p=l&&l.length<14?l:k(s),g=Object(d.e)(o),v=Object(d.d)(g);return e[s]={obj:t,name:s,displayName:l,description:c,title:p,iconUrl:v,tags:r,recentTag:o,imageStreamNamespace:u},e},{}),j=(e,t,a)=>{var n,i;const o=r.a(e,{name:t});return[o,null!==(i=null===(n=null==o?void 0:o.annotations)||void 0===n?void 0:n["openshift.io/display-name"])&&void 0!==i?i:a]},O=e=>{if(!e)return;const t=o.a(e.split("/"));return s.a(t.split(/[^a-z0-9-]/))};var S,P;!function(e){e.External="external",e.Internal="internal"}(S||(S={})),function(e){e.Openshift="openshift"}(P||(P={}));const T=e=>({External:{value:S.External,label:e("devconsole~Image name from external registry")},Internal:{value:S.Internal,label:e("devconsole~Image stream tag from internal registry")}}),R=e=>(e&&!c.a(e)?(e=>l.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const a=u.coerce(e),n=u.coerce(t);return a||n?a?n?u.rcompare(a,n):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),I=()=>[{isList:!0,kind:p.ProjectModel.kind,prop:p.ProjectModel.id}],N=e=>{const t=[];return e&&t.push({isList:!0,kind:p.ImageStreamModel.kind,prop:p.ImageStreamModel.id,namespace:e}),t}},5687:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return k})),a.d(t,"e",(function(){return E}));var n=a(225),i=a(16),r=a(499),o=a(1557),s=a(53),l=a(15),c=a(5669),u=a(5586),d=a(5623),m=a(5588),p=a(5725);const g=e=>{var t;return e.metadata.generateName?e.metadata.generateName:(null===(t=e.metadata.name)||void 0===t?void 0:t.replace(/-[a-z0-9]{5,6}$/,""))+"-"},v=(e=null,t,a)=>{var p,v,b,f,h,y;if(!e&&!t)return console.error("Missing parameters, unable to create new PipelineRun"),null;const k=((e,t)=>{var a,n,i;return e?e.metadata.name:t?null!==(n=null===(a=t.spec.pipelineRef)||void 0===a?void 0:a.name)&&void 0!==n?n:(null===(i=t.metadata.annotations)||void 0===i?void 0:i[m.z])||t.metadata.name:null})(e,t),E=null==t?void 0:t.spec.workspaces,j=null==t?void 0:t.spec.params,O=null==e?void 0:e.spec.params,S=j||Object(d.m)(O),P=o.a({},null===(p=null==e?void 0:e.metadata)||void 0===p?void 0:p.annotations,null===(v=null==t?void 0:t.metadata)||void 0===v?void 0:v.annotations,{[m.q.user]:Object(s.d)()},!(null==t?void 0:t.spec.pipelineRef)&&!(null===(b=null==t?void 0:t.metadata.annotations)||void 0===b?void 0:b[m.z])&&{[m.z]:k});delete P["kubectl.kubernetes.io/last-applied-configuration"],delete P["tekton.dev/v1beta1TaskRuns"],delete P["results.tekton.dev/log"],delete P["results.tekton.dev/record"],delete P["results.tekton.dev/result"],delete P[c.c],delete P[c.l];return(e=>{let t=e;if(n.a(t,"spec.serviceAccount")){const e=i.a(t,"spec.serviceAccount");t=r.a(t,["spec.serviceAccount"]),t=o.a(t,{spec:{serviceAccountName:e}})}return t})({apiVersion:e?e.apiVersion:t.apiVersion,kind:u.PipelineRunModel.kind,metadata:Object.assign(Object.assign({},(null==a?void 0:a.generateName)?{generateName:k+"-"}:{name:void 0!==(null===(f=null==t?void 0:t.metadata)||void 0===f?void 0:f.name)?`${g(t)}${Object(l.wd)()}`:`${k}-${Object(l.wd)()}`}),{annotations:P,namespace:e?e.metadata.namespace:t.metadata.namespace,labels:o.a({},null===(h=null==e?void 0:e.metadata)||void 0===h?void 0:h.labels,null===(y=null==t?void 0:t.metadata)||void 0===y?void 0:y.labels,((null==t?void 0:t.spec.pipelineRef)||e)&&{"tekton.dev/pipeline":k})}),spec:Object.assign(Object.assign(Object.assign(Object.assign({},(null==t?void 0:t.spec)||{}),((null==t?void 0:t.spec.pipelineRef)||e)&&{pipelineRef:{name:k}}),S&&{params:S}),{workspaces:E,status:null})})},b=e=>({volumeClaimTemplate:{metadata:{labels:{[m.u.pipeline]:e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}),f=e=>({volumeClaimTemplate:{metadata:{finalizers:["kubernetes.io/pvc-protection"],labels:{[m.u.pipeline]:e,"boson.dev/function":"true","function.knative.dev":"true","function.knative.dev/name":e}},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}},storageClassName:"gp3-csi",volumeMode:"Filesystem"}}}),h=e=>t=>{let a={type:m.x.EmptyDirectory,data:{emptyDir:{}}};return e&&(a={type:m.x.PVC,data:{persistentVolumeClaim:{claimName:e}}}),t.optional&&(a={type:m.x.NoWorkspace,data:{}}),Object.assign(Object.assign({},t),a)},y=(e,t=!1,a="")=>{const{metadata:{namespace:n},spec:{params:i,resources:r}}=e;return{namespace:n,parameters:(i||[]).map(e=>Object.assign(Object.assign({},e),{value:e.default})),resources:(r||[]).map(e=>({name:e.name,selection:t?p.a:"",data:Object.assign(Object.assign({},p.b[e.type]),{type:e.type})})),workspaces:(e.spec.workspaces||[]).map(h(a))}},k=e=>Object.keys(e).map(t=>({name:t,value:e[t]})),E=(e,t,a,n,i)=>{const{parameters:r,workspaces:o}=t,s={metadata:{annotations:n,labels:a},spec:{pipelineRef:{name:e.metadata.name},params:r.map(({name:e,value:t})=>({name:e,value:t})),workspaces:Object(d.o)(o)}};return v(e,s,i)}},5711:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return g})),a.d(t,"g",(function(){return v})),a.d(t,"d",(function(){return b})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return h}));var n=a(499),i=a(22),r=a(1557),o=a(655),s=a(255),l=a(15),c=a(2221),u=a(5599);const d=({name:e,applicationName:t,imageStreamName:a,runtimeIcon:n,selectedTag:i,namespace:r})=>{const o=Object.assign({app:e,"app.kubernetes.io/instance":e,"app.kubernetes.io/component":e,"app.kubernetes.io/name":e},a&&{"app.openshift.io/runtime":a});return n&&(o["app.openshift.io/runtime"]=n),t&&t.trim().length>0&&(o["app.kubernetes.io/part-of"]=t),i&&(o["app.openshift.io/runtime-version"]=i),r&&(o["app.openshift.io/runtime-namespace"]=r),o},m=()=>({"openshift.io/generated-by":"OpenShiftWebConsole"}),p=()=>({[c.n]:"false"}),g=(e,t)=>({"app.openshift.io/vcs-uri":e,"app.openshift.io/vcs-ref":t||""}),v=(e,t,a,n,i="latest")=>({[l.ic]:JSON.stringify([{from:{kind:"ImageStreamTag",name:`${t}:${i}`,namespace:a},fieldPath:`spec.template.spec.containers[?(@.name=="${e}")].image`,paused:""+!n}])}),b=(e,t)=>{const a=u.l[e];return a?{app:t,[a.toLowerCase()]:t}:{app:t}},f=(e,t)=>{var a,s,l,c,u,d,m,p,g,v,b,f,h,y,k,E,j,O,S,P,T,R,I,N,C,w,_,D,x;if(i.a(e))return t;const A=r.a({},e||{},t),M=null===(s=null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.annotations)||void 0===s?void 0:s.isFromDevfile;var U;if(A.metadata.labels=Object.assign(Object.assign({},t.metadata.labels),M?null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.labels:{}),A.metadata.annotations&&(A.metadata.annotations=Object.assign(Object.assign({},M?null===(c=null==e?void 0:e.metadata)||void 0===c?void 0:c.annotations:(U=null===(u=null==e?void 0:e.metadata)||void 0===u?void 0:u.annotations,n.a(U,["app.openshift.io/vcs-uri","app.openshift.io/vcs-ref","openshift.io/generated-by","image.openshift.io/triggers","alpha.image.policy.openshift.io/resolve-names","jarFileName","kubectl.kubernetes.io/last-applied-configuration"]))),t.metadata.annotations)),(null===(p=null===(m=null===(d=A.spec)||void 0===d?void 0:d.template)||void 0===m?void 0:m.metadata)||void 0===p?void 0:p.labels)&&(A.spec.template.metadata.labels=null===(b=null===(v=null===(g=t.spec)||void 0===g?void 0:g.template)||void 0===v?void 0:v.metadata)||void 0===b?void 0:b.labels),!i.a(null===(y=null===(h=null===(f=e.spec)||void 0===f?void 0:f.template)||void 0===h?void 0:h.spec)||void 0===y?void 0:y.containers)){A.spec.template.spec.containers=e.spec.template.spec.containers;const a=o.a(e.spec.template.spec.containers,{name:e.metadata.name});a>=0?A.spec.template.spec.containers[a]=Object.assign(Object.assign(Object.assign({},e.spec.template.spec.containers[a]),t.spec.template.spec.containers[0]),{volumeMounts:e.spec.template.spec.containers[a].volumeMounts}):A.spec.template.spec.containers.push(t.spec.template.spec.containers[0])}return(null===(k=null==A?void 0:A.spec)||void 0===k?void 0:k.hasOwnProperty("strategy"))&&(A.spec.strategy=null!==(j=null===(E=t.spec)||void 0===E?void 0:E.strategy)&&void 0!==j?j:null===(O=e.spec)||void 0===O?void 0:O.strategy),(null===(S=A.spec)||void 0===S?void 0:S.triggers)&&(A.spec.triggers=t.spec.triggers),(null===(T=null===(P=t.spec)||void 0===P?void 0:P.source)||void 0===T?void 0:T.sourceSecret)||null===(I=null===(R=null==A?void 0:A.spec)||void 0===R?void 0:R.source)||void 0===I||delete I.sourceSecret,(null===(w=null===(C=null===(N=A.spec)||void 0===N?void 0:N.template)||void 0===C?void 0:C.spec)||void 0===w?void 0:w.hasOwnProperty("volumes"))&&(A.spec.template.spec.volumes=null===(x=null===(D=null===(_=e.spec)||void 0===_?void 0:_.template)||void 0===D?void 0:D.spec)||void 0===x?void 0:x.volumes),A},h=e=>{var t,a,n;return s.a(null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.metadata)||void 0===n?void 0:n.labels,(t,a,n)=>{var i,r;return(null===(r=null===(i=e.metadata)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.hasOwnProperty(n))||(t[n]=a),t},{})}},5721:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(400),i=a(8);const r=e=>{var t,a,i;const r=null===(i=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers;return n.a(r,e=>e.readinessProbe||e.livenessProbe||e.startupProbe)},o=(e,t)=>{var a,n,r,o;const{kind:s,metadata:{name:l,namespace:c}}=t,u=e.crd?Object(i.Db)(t):s,d=null===(r=null===(n=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.template)||void 0===n?void 0:n.spec)||void 0===r?void 0:r.containers;return`/k8s/ns/${c}/${u}/${l}/containers/${null===(o=null==d?void 0:d[0])||void 0===o?void 0:o.name}/health-checks`},s=(e,t)=>({labelKey:"console-app~Add Health Checks",hidden:r(t),href:o(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),l=(e,t)=>({labelKey:"console-app~Edit Health Checks",hidden:!r(t),href:o(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"get"}})},5723:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(141),i=a(225),r=a(22),o=a(5599),s=a(5790),l=a(5724);const c=(e,t)=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.failureThreshold&&{failureThreshold:n.a(e.failureThreshold)}),e.successThreshold&&{successThreshold:n.a(e.successThreshold)}),e.requestType===l.b.ContainerCommand&&{exec:e.exec}),e.requestType===l.b.HTTPGET&&{httpGet:Object.assign(Object.assign({},e[e.requestType]),{scheme:(null===(a=e[e.requestType])||void 0===a?void 0:a.scheme)?e[e.requestType].scheme[0]:"HTTP",port:t===o.k.KnativeService?0:n.a(e.httpGet.port)})}),e.requestType===l.b.TCPSocket&&{tcpSocket:{port:t===o.k.KnativeService?0:n.a(e.tcpSocket.port)}}),e.initialDelaySeconds&&{initialDelaySeconds:n.a(e.initialDelaySeconds)}),e.periodSeconds&&{periodSeconds:n.a(e.periodSeconds)}),e.timeoutSeconds&&{timeoutSeconds:n.a(e.timeoutSeconds)})},u=e=>{var t,a,n,r,o,s,c,u;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{requestType:(u=e,i.a(u,l.b.HTTPGET)?l.b.HTTPGET:i.a(u,l.b.TCPSocket)?l.b.TCPSocket:i.a(u,"exec.command")?l.b.ContainerCommand:""),failureThreshold:(null===(t=e.failureThreshold)||void 0===t?void 0:t.toString())||"",successThreshold:(null===(a=e.successThreshold)||void 0===a?void 0:a.toString())||"",initialDelaySeconds:(null===(n=e.initialDelaySeconds)||void 0===n?void 0:n.toString())||"",periodSeconds:(null===(r=e.periodSeconds)||void 0===r?void 0:r.toString())||"",timeoutSeconds:(null===(o=e.timeoutSeconds)||void 0===o?void 0:o.toString())||""}),e.httpGet&&{httpGet:Object.assign(Object.assign({},e.httpGet),{port:(null===(s=e.httpGet.port)||void 0===s?void 0:s.toString())||"",scheme:"HTTP"===e.httpGet.scheme?void 0:["HTTPS"]})}),e.tcpSocket&&{tcpSocket:{port:(null===(c=e.tcpSocket.port)||void 0===c?void 0:c.toString())||""}})},d=(e,t=0)=>{var a,n,i,o,c,d,m,p,g,v;const b=null!==(o=null===(i=null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.template)||void 0===n?void 0:n.spec)||void 0===i?void 0:i.containers)&&void 0!==o?o:[],f=null!==(d=null===(c=null==b?void 0:b[t])||void 0===c?void 0:c[l.a.ReadinessProbe])&&void 0!==d?d:{},h=null!==(p=null===(m=null==b?void 0:b[t])||void 0===m?void 0:m[l.a.LivenessProbe])&&void 0!==p?p:{},y=null!==(v=null===(g=null==b?void 0:b[t])||void 0===g?void 0:g[l.a.StartupProbe])&&void 0!==v?v:{};return{readinessProbe:{showForm:!1,modified:!1,enabled:!r.a(f),data:r.a(f)?s.b.data:Object.assign({},u(f))},livenessProbe:{showForm:!1,modified:!1,enabled:!r.a(h),data:r.a(h)?s.b.data:Object.assign({},u(h))},startupProbe:{showForm:!1,modified:!1,enabled:!r.a(y),data:r.a(y)?s.b.data:Object.assign({},u(y))}}},m=(e,t)=>{const{readinessProbe:a,livenessProbe:n,startupProbe:i}=e;return Object.assign(Object.assign(Object.assign({},a.enabled?{readinessProbe:c(a.data,t)}:{}),n.enabled?{livenessProbe:c(n.data,t)}:{}),t!==o.k.KnativeService&&(null==i?void 0:i.enabled)?{startupProbe:c(i.data)}:{})}},5724:function(e,t,a){"use strict";var n,i;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),function(e){e.ReadinessProbe="readinessProbe",e.LivenessProbe="livenessProbe",e.StartupProbe="startupProbe"}(n||(n={})),function(e){e.HTTPGET="httpGet",e.ContainerCommand="command",e.TCPSocket="tcpSocket"}(i||(i={}))},5725:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a(5588);const i="#CREATE_PIPELINE_RESOURCE#",r={[n.o.git]:{params:{url:"",revision:""}},[n.o.image]:{params:{url:""}},[n.o.storage]:{params:{type:"",location:"",dir:""}},[n.o.cluster]:{params:{name:"",url:"",username:"",password:"",insecure:""},secrets:{cadata:"",token:""}}}},5732:function(e,t,a){},5742:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>Promise.all([a.e(0),a.e(1),a.e(20),a.e(261)]).then(a.bind(null,6018)).then(t=>t.resourceLimitsModal(e))},5758:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(0),i=a(18),r=a(54),o=a(14),s=a(40),l=a(7),c=a(29),u=a(5);const d=["","",i("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),u.F.columnClass],m=({obj:e,kind:t,menuActions:a,customActionMenu:r,customData:c})=>{const{t:m}=Object(l.useTranslation)();return n.createElement(n.Fragment,null,n.createElement(s.k,{className:d[0]},n.createElement(u.hb,{kind:t,name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(s.k,{className:i(d[1],"co-break-word"),columnID:"namespace"},n.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(s.k,{className:d[2]},n.createElement(o.Link,{to:Object(u.tc)(t,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},m("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),n.createElement(s.k,{className:d[3]},n.createElement(u.L,{kind:t,labels:e.metadata.labels})),n.createElement(s.k,{className:d[4]},n.createElement(u.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),n.createElement(s.k,{className:d[5]},r||n.createElement(u.gb,{actions:a,kind:t,resource:e,customData:c})))};m.displayName="WorkloadTableRow";const p=()=>[{title:c.a.t("public~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:d[0]}},{title:c.a.t("public~Namespace"),sortField:"metadata.namespace",transforms:[r.a],props:{className:d[1]},id:"namespace"},{title:c.a.t("public~Status"),sortFunc:"numReplicas",transforms:[r.a],props:{className:d[2]}},{title:c.a.t("public~Labels"),sortField:"metadata.labels",transforms:[r.a],props:{className:d[3]}},{title:c.a.t("public~Pod selector"),sortField:"spec.selector",transforms:[r.a],props:{className:d[4]}},{title:"",props:{className:d[5]}}];p.displayName="WorkloadTableHeader"},5760:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return g}));var n=a(7134),i=a(2328),r=a(7116),o=a(50),s=a(10),l=a(8),c=a(1415),u=a(5586),d=a(5687);const m=e=>n.a(e,e=>i.a(e)||r.a(e)||""===e),p=(e,t,a,n)=>{const i=`${t}-${Object(c.d)(6)}`,r={apiVersion:"tekton.dev/v1alpha1",kind:u.PipelineResourceModel.kind,metadata:{name:i,namespace:a},spec:Object.assign({type:t,params:Object(d.a)(m(e))},n&&{secrets:o.a(n.data,(e,t)=>({fieldName:t,secretKey:t,secretName:n.metadata.name}))})};return Object(l.jb)(u.PipelineResourceModel,r)},g=(e,t,a)=>{const n={apiVersion:"v1",kind:"Secret",metadata:{name:`${t}-secret-${Object(c.d)(6)}`,namespace:a},stringData:m(e)};return Object(l.jb)(s.SecretModel,n)}},5766:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5742);const i=(e,t)=>({labelKey:"console-app~Edit resource limits",callback:()=>Object(n.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}})},5767:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return m}));var n=a(10),i=a(8),r=a(15);const o=e=>Array.isArray(null==e?void 0:e.hpas)&&e.hpas.length>0,s=({metadata:{name:e,namespace:t}},a)=>`/workload-hpa/ns/${t}/${Object(i.Hb)(a)}/${e}`,l=(e,t)=>Object(r.Qd)(e)||((e,t)=>(null==t?void 0:t.isOperatorBacked)||Object(r.Ud)(e,null==t?void 0:t.csvs))(e,t),c=(e,t,a,i)=>({labelKey:"console-app~Add HorizontalPodAutoscaler",href:s(t,e),hidden:o(a)||l(t,i),accessReview:{group:n.HorizontalPodAutoscalerModel.apiGroup,resource:n.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"create"}}),u=(e,t,a,i)=>({labelKey:"console-app~Edit HorizontalPodAutoscaler",href:s(t,e),hidden:!o(a)||l(t,i),accessReview:{group:n.HorizontalPodAutoscalerModel.apiGroup,resource:n.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"update"}}),d=(e,t,a,i)=>({labelKey:"console-app~Remove HorizontalPodAutoscaler",callback:()=>{var e;Object(r.zc)({workload:t,hpa:null===(e=null==a?void 0:a.hpas)||void 0===e?void 0:e[0]})},hidden:!o(a)||l(t,i),accessReview:{group:n.HorizontalPodAutoscalerModel.apiGroup,resource:n.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"delete"}}),m=e=>(t,a,n)=>{const i=e(t,a);return Object.assign(Object.assign({},i),{hidden:o(n)||i.hidden})}},5781:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return y}));var n=a(0),i=a(4436),r=a(655),o=a(313),s=a(367),l=a(50),c=a(599),u=a(5797),d=a(5804),m=a(7),p=a(99),g=a(693),v=a(139);const b=(e,t)=>`${e}:${t}`,f=({tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:r})=>{const o=i.a(e.dockerImageReference,"@");return n.createElement(n.Fragment,null,n.createElement("li",null,n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},n.createElement(u.a,null)),n.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},n.createElement(g.Timestamp,{timestamp:e.created,simple:!0}))),n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__line"}),n.createElement("div",{className:"co-images-stream-tag-timeline__info"},n.createElement(p.ResourceLink,{kind:"ImageStreamTag",name:b(t,e.tag),namespace:a,title:e.tag,linkTo:r}),n.createElement("div",{className:"co-break-all"},"from ",o[0]),n.createElement("div",{className:"co-break-all"},o[1])))))},h=(e,t,a)=>t===r.a(a,t=>t.tag===e),y=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:a})=>{const{t:i}=Object(m.useTranslation)();if(!o.a(e,"items"))return n.createElement(v.c,{label:i("public~Images")});const r=s.a(l.a(e,({tag:e,items:t})=>l.a(t,({created:t,dockerImageReference:a})=>({tag:e,created:t,dockerImageReference:a})))),u=c.a(r,["created"],["desc"]),p=l.a(u,(e,i)=>n.createElement(f,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:h(e.tag,i,u)}));return n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-images-stream-tag-timeline"},p,n.createElement("div",null,n.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},n.createElement(d.a,null)))))}},5786:function(e,t,a){"use strict";var n,i;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),function(e){e.PENDING="Pending",e.RUNNING="Running",e.SUCCEEDED="Succeeded",e.FAILED="Failed",e.UNKNOWN="Unknown"}(n||(n={})),function(e){e.BUILDAH="buildah",e.S2I="source-to-image",e.UNKNOWN="unknown"}(i||(i={}));const r={[i.BUILDAH]:"shipwright-plugin~Buildah",[i.S2I]:"shipwright-plugin~Source-to-Image",[i.UNKNOWN]:"shipwright-plugin~Unknown"}},5790:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));var n=a(5724);const i=(e,t)=>{switch(e){case n.a.ReadinessProbe:return{formTitle:t("devconsole~Readiness probe"),formSubtitle:t("devconsole~A readiness probe checks if the Container is ready to handle requests. A failed readiness probe means that a Container should not receive any traffic from a proxy, even if it's running.")};case n.a.LivenessProbe:return{formTitle:t("devconsole~Liveness probe"),formSubtitle:t("devconsole~A liveness probe checks if the Container is still running. If the liveness probe fails the Container is killed.")};case n.a.StartupProbe:return{formTitle:t("devconsole~Startup probe"),formSubtitle:t("devconsole~A startup probe checks if the application within the Container is started. If the startup probe fails the Container is killed.")};default:return}},r={showForm:!1,enabled:!1,modified:!1,data:{failureThreshold:"3",requestType:n.b.HTTPGET,httpGet:{scheme:void 0,path:"/",port:"8080",httpHeaders:[]},tcpSocket:{port:"8080"},exec:{command:[""]},initialDelaySeconds:"0",periodSeconds:"10",timeoutSeconds:"1",successThreshold:"1"}},o={readinessProbe:r,livenessProbe:r,startupProbe:r}},5837:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(8),i=a(5586),r=a(5588),o=a(5760),s=a(5725),l=a(5687),c=function(e,t,a,n){return new(a||(a=Promise))((function(i,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const u=e=>c(void 0,void 0,void 0,(function*(){const{namespace:t,resources:a}=e,n=a.reduce((e,t,a)=>t.selection===s.a?Object.assign(Object.assign({},e),{[a]:t}):e,{}),i=yield Promise.all(Object.values(n).map(e=>((e,t)=>c(void 0,void 0,void 0,(function*(){const{data:{params:a,secrets:n,type:i}}=e;return n?Object(o.b)(n,i,t).then(e=>Object(o.a)(a,i,t,e)):Object(o.a)(a,i,t)})))(e,t)));if(!i||0===i.length)return e;const r=Object.keys(n);return Object.assign(Object.assign({},e),{resources:a.map((e,t)=>{if(n[t]){const a=r.indexOf(t.toString());return Object.assign(Object.assign({},e),{selection:i[a].metadata.name})}return e})})})),d=(e,t,a,o)=>c(void 0,void 0,void 0,(function*(){let s=e;s=yield u(s),s=(e=>{const{workspaces:t}=e;return t&&0!==t.length?Object.assign(Object.assign({},e),{workspaces:t.filter(e=>e.type!==r.x.NoWorkspace)}):e})(s);const c=yield Object(n.jb)(i.PipelineRunModel,Object(l.e)(t,s,a,o));return Promise.resolve(c)}))},5842:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);const i=n.createContext(void 0)},5850:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return f}));var n=a(640),i=a(499),r=a(8),o=a(5669),s=a(5586),l=a(5588),c=a(5687),u=a(5837),d=(a(5760),function(e,t,a,n){return new(a||(a=Promise))((function(i,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))});const m=(e,t)=>`image-registry.openshift-image-registry.svc:5000/${t}/${e}`,p=(e,t,a,n,i,r,o,s,l)=>(e||[]).map(e=>{switch(e.name){case"APP_NAME":return Object.assign(Object.assign({},e),{default:t});case"GIT_REPO":return Object.assign(Object.assign({},e),{default:n});case"GIT_REVISION":return Object.assign(Object.assign({},e),{default:i||""});case"PATH_CONTEXT":return Object.assign(Object.assign({},e),{default:r.replace(/^\//,"")||e.default});case"IMAGE_NAME":return Object.assign(Object.assign({},e),{default:m(t,a)});case"DOCKERFILE":return Object.assign(Object.assign({},e),{default:o});case"VERSION":return Object.assign(Object.assign({},e),{default:s||e.default});case"BUILD_ENVS":return Object.assign(Object.assign({},e),{default:l||e.default});default:return e}}),g=e=>{var t,a;return"docker"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a[o.j])},v=(e,t,a,i,l,c,u,m,v,b={})=>d(void 0,void 0,void 0,(function*(){var d;const f=n.a(c.template);return f.metadata={name:""+e,namespace:t,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=f.metadata)||void 0===d?void 0:d.labels),b),{"app.kubernetes.io/instance":e,"app.kubernetes.io/name":e}),!g(f)&&{[o.i]:m})},f.spec.params=f.spec.params&&p(f.spec.params,e,t,a,i,l,u,m,v),Object(r.jb)(s.PipelineModel,f,{ns:t})})),b=e=>d(void 0,void 0,void 0,(function*(){var t,a;const n="true"===(null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["function.knative.dev"]),i=Object.assign(Object.assign({},Object(c.b)(e)),{workspaces:(e.spec.workspaces||[]).map(t=>{var a,i;return Object.assign(Object.assign({},t),{type:l.x.VolumeClaimTemplate,data:n?Object(c.f)(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name):Object(c.c)(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.name)})}),secretOpen:!1});return Object(u.a)(i,e)})),f=(e,t,a,l,c,u,m,v,b,f,h={})=>d(void 0,void 0,void 0,(function*(){var d;let y=n.a(e);return t?(((e,t)=>{var a,n,i,r;return(null===(a=e.metadata)||void 0===a?void 0:a.labels[o.h])!==(null===(n=t.metadata)||void 0===n?void 0:n.labels[o.h])||(null===(i=e.metadata)||void 0===i?void 0:i.labels[o.i])!==(null===(r=t.metadata)||void 0===r?void 0:r.labels[o.i])})(t,e)&&(y=n.a(t),y.metadata={resourceVersion:e.metadata.resourceVersion,name:""+a,namespace:l,labels:Object.assign(Object.assign(Object.assign(Object.assign({},null===(d=t.metadata)||void 0===d?void 0:d.labels),h),{"app.kubernetes.io/instance":a,"app.kubernetes.io/name":a}),!g(t)&&{[o.i]:b})}),y.spec.params=p(t.spec.params,a,l,c,u,m,v,b,f)):y.metadata.labels=i.a(Object.assign(Object.assign({},y.metadata.labels),h),"app.kubernetes.io/instance"),Object(r.rb)(s.PipelineModel,y,l,a)}))},5929:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return _})),a.d(t,"k",(function(){return A})),a.d(t,"f",(function(){return M})),a.d(t,"n",(function(){return U})),a.d(t,"b",(function(){return L})),a.d(t,"j",(function(){return q})),a.d(t,"l",(function(){return B})),a.d(t,"d",(function(){return G})),a.d(t,"m",(function(){return K})),a.d(t,"h",(function(){return H})),a.d(t,"c",(function(){return W})),a.d(t,"e",(function(){return Y})),a.d(t,"i",(function(){return X}));var n,i=a(117),r=a(16),o=a(148),s=a(499),l=a(22),c=a(225),u=a(4436),d=a(599),m=a(5591),p=a(974),g=a(1401),v=a(10),b=a(8),f=a(1402),h=a(5620),y=a(5850),k=a(5648),E=a(5669),j=a(15),O=a(5786),S=a(2221),P=a(5673),T=a(5723),R=a(6032),I=a(5599),N=a(5649),C=a(5651),w=a(6010);!function(e){e.Git="Import from Git",e.Dockerfile="Import from Dockerfile",e.Container="Deploy Image",e.JarUpload="Upload JAR file"}(n||(n={}));const _=e=>{switch(e){case n.Git:return"devconsole~Import from Git";case n.Dockerfile:return"devconsole~Import from Dockerfile";case n.Container:return"devconsole~Deploy Image";case n.JarUpload:return"devconsole~Upload JAR file";default:return e}};var D;!function(e){e.Git="Git",e.Binary="Binary"}(D||(D={}));const x=e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.type},A=e=>{switch(e.kind){case v.DeploymentConfigModel.kind:return I.k.OpenShift;case v.DeploymentModel.kind:return I.k.Kubernetes;case Object(b.Db)(e)===Object(b.Hb)(f.l)?f.l.kind:"":return I.k.KnativeService;default:return null}},M=(e,t)=>{switch(e){case p.BuildStrategyType.Source:return t===D.Binary?n.JarUpload:n.Git;case p.BuildStrategyType.Docker:return n.Dockerfile;default:return n.Container}},U=(e,t)=>{switch(e){case p.BuildStrategyType.Source:return t===D.Binary?w.b:N.d;case p.BuildStrategyType.Docker:return N.d;default:return R.a}},L=(e,t,a)=>!!i.a(e,e=>{var n;return a===v.DeploymentConfigModel.kind&&"ImageChange"===t?e.type===t&&(null===(n=e.imageChangeParams)||void 0===n?void 0:n.automatic):e.type===t}),q=e=>{var t,a,n,i,r,s,l,c;const{metadata:u,spec:d}=e,m=null!==(n=null===(a=null===(t=null==d?void 0:d.template)||void 0===t?void 0:t.spec)||void 0===a?void 0:a.containers)&&void 0!==n?n:[],p=null!==(l=null===(s=null===(r=null===(i=null==m?void 0:m[0])||void 0===i?void 0:i.ports)||void 0===r?void 0:r[0])||void 0===s?void 0:s.containerPort)&&void 0!==l?l:"";return{create:"cluster-local"!==(null===(c=null==u?void 0:u.labels)||void 0===c?void 0:c[f.i]),unknownTargetPort:o.a(p),targetPort:o.a(p),defaultUnknownPort:8080}},F=(e,t)=>{const a=r.a(t,"metadata.labels",{}),n=r.a(e,"metadata.labels",{});return s.a(n,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility",...Object.keys(a)])},V=(e,t)=>{var a,n,i,s;let u={disable:!l.a(e),create:!l.a(e),targetPort:r.a(e,"spec.port.targetPort",""),unknownTargetPort:o.a(null===(s=null===(i=null===(n=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.port)||void 0===n?void 0:n.targetPort)||void 0===i?void 0:i.split("-"))||void 0===s?void 0:s[0])||"",defaultUnknownPort:8080,path:r.a(e,"spec.path",""),hostname:r.a(e,"spec.host",""),secure:c.a(e,"spec.tls.termination"),tls:{termination:r.a(e,"spec.tls.termination",null),insecureEdgeTerminationPolicy:r.a(e,"spec.tls.insecureEdgeTerminationPolicy",null),caCertificate:r.a(e,"spec.tls.caCertificate",""),certificate:r.a(e,"spec.tls.certificate",""),destinationCACertificate:r.a(e,"spec.tls.destinationCACertificate",""),key:r.a(e,"spec.tls.key","")},labels:F(e,t)};return A(t)===I.k.KnativeService&&(u=Object.assign(Object.assign({},u),q(t))),u},$=(e,t,a,n)=>{const i=((e,t,a)=>e?I.a.BUILDS:t?I.a.SHIPWRIGHT_BUILD:a?I.a.PIPELINES:I.a.DISABLED)(e,t,a);let o,s,l;if(i===I.a.BUILDS)o=r.a(e,"spec.strategy.type","");else if(i===I.a.SHIPWRIGHT_BUILD)switch(s=r.a(t,"spec.strategy.name",""),s){case O.a.BUILDAH:o=p.BuildStrategyType.Docker;break;case O.a.S2I:o=p.BuildStrategyType.Source;break;default:o=""}if(i===I.a.BUILDS)switch(o){case p.BuildStrategyType.Source:l=r.a(e,"spec.strategy.sourceStrategy");break;case p.BuildStrategyType.Docker:l=r.a(e,"spec.strategy.dockerStrategy");break;default:l={env:[]}}else i===I.a.SHIPWRIGHT_BUILD&&(l=r.a(t,"spec"));const c=r.a(e,"spec.triggers");return{env:(null==l?void 0:l.env)||[],triggers:{webhook:L(c,I.c[n]),image:L(c,"ImageChange"),config:L(c,"ConfigChange")},strategy:o||(Object(y.c)(a)?p.BuildStrategyType.Docker:p.BuildStrategyType.Source),source:{type:x(e)},option:i,clusterBuildStrategy:s}},B=e=>{let t={scaling:{minpods:"",maxpods:"",concurrencytarget:"",concurrencylimit:"",autoscale:{autoscalewindow:"",autoscalewindowUnit:"s",defaultAutoscalewindowUnit:"s"},concurrencyutilization:""},domainMapping:[]};if(A(e)===I.k.KnativeService){const{spec:{template:{metadata:a,spec:n}}}=e,i=null==a?void 0:a.annotations,r=(null==i?void 0:i[f.d])||"",{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l}=Object(C.b)(r);t={scaling:{minpods:(null==i?void 0:i[f.h])||"",maxpods:(null==i?void 0:i[f.g])||"",concurrencytarget:(null==i?void 0:i[f.e])||"",concurrencylimit:(null==n?void 0:n.containerConcurrency)||"",autoscale:{autoscalewindow:o,autoscalewindowUnit:s,defaultAutoscalewindowUnit:l},concurrencyutilization:(null==i?void 0:i[f.f])||""},domainMapping:[]}}return t},G=e=>{var t,a,n,i,r,o,s,l,c,u,d,m,p,g;const v={env:[],replicas:1,triggers:{image:!0,config:!0}},f=null===(i=null===(n=null===(a=null===(t=e.spec)||void 0===t?void 0:t.template)||void 0===a?void 0:a.spec)||void 0===n?void 0:n.containers)||void 0===i?void 0:i.find(t=>{var a;return[e.metadata.name,null===(a=e.metadata.labels)||void 0===a?void 0:a["app.kubernetes.io/name"]].includes(t.name)}),h=null!==(r=null==f?void 0:f.env)&&void 0!==r?r:[];switch(A(e)){case I.k.KnativeService:return Object.assign(Object.assign({},v),{env:h,triggers:{image:(null==f?void 0:f.imagePullPolicy)===b.c.Always}});case I.k.OpenShift:{const t=null===(o=e.spec)||void 0===o?void 0:o.triggers;return{env:h,triggers:{image:L(t,"ImageChange",e.kind),config:L(t,"ConfigChange")},replicas:null!==(l=null===(s=e.spec)||void 0===s?void 0:s.replicas)&&void 0!==l?l:1}}case I.k.Kubernetes:{const t=null===(m=JSON.parse(null!==(d=null===(u=null===(c=e.metadata)||void 0===c?void 0:c.annotations)||void 0===u?void 0:u["image.openshift.io/triggers"])&&void 0!==d?d:"[]"))||void 0===m?void 0:m[0];return{env:h,triggers:{image:"false"===(null==t?void 0:t.paused)},replicas:null!==(g=null===(p=e.spec)||void 0===p?void 0:p.replicas)&&void 0!==g?g:1}}default:return v}},K=e=>{const t=r.a(e,"metadata.labels",{});return s.a(t,["app","app.kubernetes.io/instance","app.openshift.io/runtime","app.kubernetes.io/part-of","app.openshift.io/runtime-version","app.openshift.io/runtime-namespace","networking.knative.dev/visibility"])},H=e=>{var t,a;const n=null===(a=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.openshift.io/runtime"];return{runtimeIcon:n&&Object(g.g)(n)?n:null}},z=(e,t,a)=>{var n,i,o,s,c,d,m,p,g,v,b,f,h,y,k;if(l.a(e)&&l.a(t)&&l.a(a))return{};const j=u.a(null!==(c=null===(s=null===(o=null===(i=null===(n=null==e?void 0:e.spec)||void 0===n?void 0:n.strategy)||void 0===i?void 0:i.sourceStrategy)||void 0===o?void 0:o.from)||void 0===s?void 0:s.name)&&void 0!==c?c:"",":"),O=l.a(e)?l.a(t)?(e=>{var t,a,n,i,r,o,s;const l=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.params,c=null!==(n=null===(a=null==l?void 0:l.find(e=>"GIT_REPO"===(null==e?void 0:e.name)))||void 0===a?void 0:a.default)&&void 0!==n?n:"";return{url:c,ref:null!==(r=null===(i=null==l?void 0:l.find(e=>"GIT_REVISION"===(null==e?void 0:e.name)))||void 0===i?void 0:i.default)&&void 0!==r?r:"",dir:null!==(s=null===(o=null==l?void 0:l.find(e=>"PATH_CONTEXT"===(null==e?void 0:e.name)))||void 0===o?void 0:o.default)&&void 0!==s?s:"/",type:Object(N.c)(c),showGitType:!1,secret:"",isUrlValidating:!1}})(a):(e=>{var t,a,n,i;const o=null!==(i=null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.git)||void 0===n?void 0:n.url)&&void 0!==i?i:"";return{url:o,type:Object(N.c)(o),ref:r.a(e,"spec.source.git.revision",""),dir:r.a(e,"spec.source.contextDir",""),showGitType:!1,secret:r.a(e,"spec.source.git.cloneSecret",""),isUrlValidating:!1}})(t):(e=>{var t,a,n,i;const o=null!==(i=null===(n=null===(a=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.source)||void 0===a?void 0:a.git)||void 0===n?void 0:n.uri)&&void 0!==i?i:"";return{url:o,type:Object(N.c)(o),ref:r.a(e,"spec.source.git.ref",""),dir:r.a(e,"spec.source.contextDir",""),showGitType:!1,secret:r.a(e,"spec.source.sourceSecret.name",""),isUrlValidating:!1}})(e);return{git:O,docker:{dockerfilePath:(null===(p=null===(m=null===(d=null==e?void 0:e.spec)||void 0===d?void 0:d.strategy)||void 0===m?void 0:m.dockerStrategy)||void 0===p?void 0:p.dockerfilePath)||(null===(b=null===(v=null===(g=null==a?void 0:a.spec)||void 0===g?void 0:g.params)||void 0===v?void 0:v.find(e=>"DOCKERFILE"===(null==e?void 0:e.name)))||void 0===b?void 0:b.default)||"Dockerfile"},image:{selected:(null===(h=null===(f=null==a?void 0:a.metadata)||void 0===f?void 0:f.labels)||void 0===h?void 0:h[E.h])||j[0]||"",recommended:"",tag:(null===(k=null===(y=null==a?void 0:a.metadata)||void 0===y?void 0:y.labels)||void 0===k?void 0:k[E.i])||j[1]||"",tagObj:{},ports:[],isRecommending:!1,couldNotRecommend:!1},build:$(e,t,a,O.type)}},W={searchTerm:"",registry:"external",allowInsecureRegistry:!1,imageStream:{image:"",tag:"",namespace:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},build:{env:[],triggers:{},strategy:""},isSearchingForImage:!1},Y=e=>{const t=r.a(e,"spec.template.spec.containers[0].image",null);return l.a(e)||!t?W:Object.assign(Object.assign({},W),{searchTerm:t,registry:P.b.External,imageStream:Object.assign({},W.imageStream)})},X=(e,t,a)=>{var n,i,o,s,c;const u=null===(n=e.editAppResource)||void 0===n?void 0:n.data,p=null===(i=e.route)||void 0===i?void 0:i.data,g=null===(o=e.buildConfig)||void 0===o?void 0:o.data,v=null===(s=e.shipwrightBuild)||void 0===s?void 0:s.data,b=null===(c=e.pipeline)||void 0===c?void 0:c.data,y=((e,t,a,n,i)=>{const o=r.a(e,'metadata.labels["app.kubernetes.io/part-of"]');return{formType:"edit",name:n,application:{name:o||"",selectedKey:o||S.z},project:{name:i},route:V(t,e),resources:A(e),serverless:B(e),pipeline:{enabled:!l.a(a),type:h.a.PIPELINE},pac:{pacHasError:!1,repository:Object.assign({},k.i)},deployment:G(e),labels:K(e),limits:Object(j.Rc)(e),healthChecks:Object(T.a)(e),import:{showEditImportStrategy:!0,selectedStrategy:{name:"",type:m.c.S2I,priority:0,detectedFiles:[]}}}})(u,p,b,t,a),E=z(g,v,b);let O={},R={},I={},N={};return l.a(E)?(R=H(u),I=(e=>{var t,a,n,i,r,o;const s=null===(t=null==e?void 0:e.imageStream)||void 0===t?void 0:t.data;if(l.a(s))return{};const c=d.a(s,["metadata.resourceVersion"],["desc"]),u=null===(i=null===(n=null===(a=null==c?void 0:c[0])||void 0===a?void 0:a.spec)||void 0===n?void 0:n.tags)||void 0===i?void 0:i[0],m=null===(r=null==u?void 0:u.from)||void 0===r?void 0:r.name,p=(null===(o=null==u?void 0:u.importPolicy)||void 0===o?void 0:o.insecure)||!1;return Object.assign(Object.assign({},W),{searchTerm:m,registry:"external",allowInsecureRegistry:p,imageStream:Object.assign({},W.imageStream)})})(e),N=l.a(I)?(e=>{const t=r.a(e,'metadata.labels["app.openshift.io/runtime-namespace"]',""),a=r.a(e,'metadata.labels["app.openshift.io/runtime"]',""),n=r.a(e,'metadata.labels["app.openshift.io/runtime-version"]',"");return Object.assign(Object.assign({},W),{registry:P.b.Internal,imageStream:{image:a,tag:n,namespace:t}})})(u):{},!l.a(I)||r.a(N,"imageStream.tag")||r.a(N,"imageStream.image")||(null==u?void 0:u.kind)===f.l.kind&&(N={},I=Y(u))):x(g)===D.Binary&&(O=((e,t)=>{var a,n,i,r,o,s,l,c,u,d,m;const p=e.metadata.name,g=null!==(i=null===(n=null===(a=t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n.jarFileName)&&void 0!==i?i:"",v=null!==(m=null===(d=null===(u=null===(c=null===(l=null===(s=null===(o=null===(r=e.spec)||void 0===r?void 0:r.template)||void 0===o?void 0:o.spec)||void 0===s?void 0:s.containers)||void 0===l?void 0:l.find(e=>e.name===p))||void 0===c?void 0:c.env)||void 0===u?void 0:u.find(e=>"JAVA_ARGS"===e.name))||void 0===d?void 0:d.value)&&void 0!==m?m:"";return Object.assign({fileUpload:{name:g,value:"",javaArgs:v}},H(e))})(u,g)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},y),R),O),E),I),N)}},5961:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),i=a(118),r=a(4359);const o=({close:e,namespace:t,save:a,secretType:i})=>n.createElement(r.SecretFormWrapper,{onCancel:e,onSave:t=>{e(),a(t)},fixed:{metadata:{namespace:t}},secretTypeAbstraction:i,isCreate:!0,modal:!0}),s=Object(i.f)(o)},5962:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1416),i=a(380);const r=e=>{const t=new Blob([e],{type:"text/yaml;charset=utf-8"});let a="k8s-object.yaml";try{const t=Object(i.safeLoad)(e);t.kind&&(a=`${t.kind.toLowerCase()}-${t.metadata.name}.yaml`)}catch(e){console.error("Could not parse YAML file:",e)}Object(n.saveAs)(t,a)}},6010:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(2338),i=a(689),r=a(15),o=a(5655),s=a(5621);const l=/\.(jar)$/i,c=e=>i.object().shape({name:i.string().matches(l,{message:e("devconsole~Must be a JAR file.")}).max(253,e("devconsole~Cannot be longer than 253 characters.")).required(e("devconsole~Required")),javaArgs:i.string()}),u=e=>i.object().shape({name:Object(r.Zd)(e),fileUpload:c(e),project:s.l,application:s.a,image:Object(s.h)(e),deployment:Object(s.c)(e),serverless:Object(s.o)(e),route:Object(s.n)(e),limits:Object(s.k)(e),build:s.b,resources:s.m,healthChecks:Object(o.a)(e)}),d=e=>{if(l.test(e))return n.a(e.split(".").shift())}},6032:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(689),i=a(15),r=a(5655),o=a(5621);const s=e=>n.object().shape({project:o.l,application:o.a,name:Object(i.Zd)(e),isi:Object(o.j)(e),serverless:Object(o.o)(e),deployment:Object(o.c)(e),route:Object(o.n)(e),limits:Object(o.k)(e),resources:o.m,healthChecks:Object(r.a)(e)})},6108:function(e,t,a){"use strict";var n=a(0),i=a(87),r=a(219),o=a(297),s=a(319),l=a(157),c=a(80),u=a(6139),d=a(244),m=a(55),p=a(16),g=a(22),v=a(7),b=a(13),f=a(5673),h=a(5599),y=a(5842),k=a(6155),E=a(6156),j=a(6157);a(6158);const O={loading:!1,accessLoading:!1,selectedImageStream:{}},S=(e,t)=>{const{value:a}=t;switch(t.type){case h.d.setLoading:return Object.assign(Object.assign({},e),{loading:a});case h.d.setAccessLoading:return Object.assign(Object.assign({},e),{accessLoading:a});case h.d.setSelectedImageStream:return Object.assign(Object.assign({},e),{selectedImageStream:a});default:throw new Error("Invalid action was provided in imagestream reducer")}};t.a=n.memo(({disabled:e=!1,label:t,required:a=!1,formContextField:h,dataTest:P,reloadCount:T})=>{var R,I;const{t:N}=Object(v.useTranslation)(),{values:C}=Object(m.f)(),[w,_]=n.useState(i.d.default),[D,x]=n.useReducer(S,O),[A,M]=n.useState(!1),{loading:U,accessLoading:L,selectedImageStream:q}=D,{imageStream:F,project:V,registry:$,isi:B,fromImageStreamTag:G}=p.a(C,h)||C,K=Object(f.d)(q),H=""!==F.namespace&&!L,z=H&&A&&!U,W=""!==F.tag||z&&!g.a(K),Y=""!==F.image,X=V.name!==F.namespace&&F.namespace!==f.a.Openshift&&($===f.b.Internal||G)&&z&&W,J=w===i.d.error&&(null===(R=B.status)||void 0===R?void 0:R.message)&&n.createElement(n.Fragment,null,n.createElement(d.a,null)," ",null===(I=B.status)||void 0===I?void 0:I.message);return n.createElement(n.Fragment,null,n.createElement(y.a.Provider,{value:{state:D,dispatch:x,hasImageStreams:A,setHasImageStreams:M,setValidated:_}},n.createElement(r.a,{fieldId:"image-stream-dropdowns",label:t,required:a,"data-test":P},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(E.a,{disabled:e,formContextField:h})),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(k.a,{disabled:e,formContextField:h,reloadCount:T}),n.createElement("div",{className:"odc-imagestream-separator"},"/")),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(j.a,{disabled:e,formContextField:h,reloadCount:T}),n.createElement("div",{className:"odc-imagestream-separator"},":"))),w===i.d.error&&n.createElement(o.a,null,n.createElement(s.a,null,n.createElement(l.a,{variant:"error",icon:n.createElement(b.u,null)},J)))),H&&Y&&!W&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:N("devconsole~No Image streams tags found"),isInline:!0},N("devconsole~No tags are available in Image Stream {{image}}",{image:F.image}))),H&&!U&&!z&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:N("devconsole~No Image streams found"),isInline:!0},N("devconsole~No Image streams are available in Project {{namespace}}",{namespace:F.namespace}))),H&&!L&&X&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",isInline:!0,title:N("devconsole~Service account default will need pull authority to deploy Images from {{namespace}}",{namespace:F.namespace})},N("devconsole~You can grant authority with the command")," ",n.createElement(u.a,{className:"odc-imagestream-clipboard",variant:u.b.expansion,isReadOnly:!0},`oc policy add-role-to-user system:image-puller system:serviceaccount:${V.name}:default --namespace=${F.namespace}`)))))})},6147:function(e,t,a){"use strict";var n=a(0),i=a(7),r=a(15),o=a(5618);t.a=({name:e})=>{const{t:t}=Object(i.useTranslation)();return n.createElement(o.a,{title:t("devconsole~Scaling"),subTitle:t("devconsole~Replicas are scaled manually based on CPU usage."),dataTest:"scaling"},n.createElement(r.ub,{name:e,label:t("devconsole~Replicas"),helpText:t("devconsole~The number of instances of your Image."),setOutputAsIntegerFlag:!0}))}},6155:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(16),o=a(22),s=a(7),l=a(15),c=a(5673),u=a(5599),d=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:m}=Object(s.useTranslation)(),p={},{values:g,setFieldValue:v,initialValues:b}=Object(i.f)(),{imageStream:f,formType:h}=r.a(g,t)||g,{isi:y}=r.a(b,t)||b,{state:k,dispatch:E,hasImageStreams:j,setHasImageStreams:O}=n.useContext(d.a),{accessLoading:S,loading:P}=k,T=""!==f.namespace&&!S,R=T&&j&&!P,I=t?t+".":"",N=n.useCallback(e=>{v(I+"imageStream.tag",e===f.image?f.tag:""),"edit"!==h&&v(I+"isi",y);const t=r.a(p,[f.namespace,e],{});E({type:u.d.setSelectedImageStream,value:t})},[v,I,f.image,f.tag,f.namespace,h,y,p,E]);return n.useEffect(()=>{f.image&&N(f.image)},[f.image,R]),n.useEffect(()=>{a&&f.image&&N(f.image)},[a,R]),n.createElement(l.Ob,{name:I+"imageStream.image",label:m("devconsole~Image Stream"),resources:Object(c.c)(f.namespace),dataSelector:["metadata","name"],key:f.namespace,fullWidth:!0,required:!0,title:f.image||(P&&!R?"":m(R?"devconsole~Select Image Stream":"devconsole~No Image Stream")),disabled:!R||e,onChange:N,onLoad:e=>{const t=!o.a(e);O(t),P&&T&&E({type:u.d.setLoading,value:!1})},resourceFilter:e=>{const{metadata:{namespace:t}}=e;return((e,t)=>{p[e]||(p[e]={}),p[e][t.metadata.name]=t})(t,e),t===f.namespace}})}},6156:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(16),o=a(7),s=a(15),l=a(5673),c=a(5599),u=a(5842);t.a=({disabled:e=!1,formContextField:t})=>{const{t:a}=Object(o.useTranslation)(),{values:d,setFieldValue:m,initialValues:p}=Object(i.f)(),{imageStream:g}=r.a(d,t)||d,{isi:v}=r.a(p,t)||p,{dispatch:b}=n.useContext(u.a),f=t?t+".":"",h=n.useCallback(e=>{e&&(m(f+"imageStream.image",""),m(f+"imageStream.tag","")),m(f+"isi",v),b({type:c.d.setLoading,value:!0})},[b,f,v,m]);return n.useEffect(()=>{g.namespace&&h()},[h,g.namespace]),n.createElement(s.Ob,{name:f+"imageStream.namespace",label:a("devconsole~Project"),title:g.namespace||a("devconsole~Select Project"),fullWidth:!0,required:!0,resources:Object(l.f)(),dataSelector:["metadata","name"],onChange:h,appendItems:{openshift:l.a.Openshift},disabled:e})}},6157:function(e,t,a){"use strict";var n=a(0),i=a(87),r=a(55),o=a(230),s=a(16),l=a(22),c=a(501),u=a(1557),d=a(1533),m=a(107),p=a(7),g=a(10),v=a(8),b=a(15),f=a(2221),h=a(5673),y=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:k}=Object(p.useTranslation)(),E=n.useRef(!1);let j={};const{values:O,setFieldValue:S,initialValues:P,touched:T}=Object(r.f)(),{name:R,imageStream:I,application:N,formType:C,isi:w}=s.a(O,t)||O,_=null==w?void 0:w.ports,{imageStream:D,route:x}=s.a(P,t)||P,A=t?t+".":"",{state:M,hasImageStreams:U,setValidated:L}=n.useContext(y.a),{selectedImageStream:q,accessLoading:F,loading:V}=M;j=Object(h.d)(q);const $=""!==I.namespace&&!F,B=$&&U&&!V&&!l.a(j),G=""!==I.image,K=null==D?void 0:D.image,H=n.useCallback(e=>{S(A+"isSearchingForImage",!0),Object(v.kb)(g.ImageStreamTagModel,`${I.image}:${e}`,I.namespace).then(a=>{if(E.current)return;const{image:n,tag:o,status:l,metadata:{labels:m}}=a;t&&S(A+"imageStreamTag",a);const p=c.a(m,h.m),g=I.image,v={name:g,image:n,tag:o,status:l},b=Object(h.e)(v);S(A+"isSearchingForImage",!1),S(A+"isi.name",g),S(A+"isi.image",u.a(n,{metadata:{labels:p}})),S(A+"isi.tag",e),S(A+"isi.ports",b),S(A+"image.ports",b),"edit"!==C&&R!==g&&S(A+"name",Object(h.j)(g)),N&&N.selectedKey!==f.z&&!N.name&&S(A+"application.name",Object(h.j)(g)+"-app");const y=x&&(!x.targetPort||Object(r.d)(s.a(T,A+"imageStream"),"image"))&&!Object(r.d)(s.a(T,A+"route"),"targetPort")&&d.a(b);y&&S(A+"route.targetPort",Object(h.n)(y)),L(i.d.success)}).catch(e=>{E.current||(S(A+"isi",{}),S(A+"isi.status",{metadata:{},status:"",message:e.message}),S(A+"isSearchingForImage",!1),L(i.d.error))})},[S,A,I.image,I.namespace,t,R,C,N,x,T,L]);return n.useEffect(()=>{I.tag&&H(I.tag)},[I.tag]),n.useEffect(()=>{a&&I.tag&&H(I.tag)},[a]),n.useEffect(()=>{if(x&&Object(r.d)(s.a(T,A+"imageStream"),"image")&&!Object(r.d)(s.a(T,A+"route"),"targetPort")&&!m.a(K,I.image)){const e=d.a(_);e&&S(A+"route.targetPort",Object(h.n)(e))}},[T.route,T.imageStream,I.image,S,_,x,K,A,T]),n.useEffect(()=>()=>{E.current=!0},[]),n.createElement(b.I,{name:A+"imageStream.tag",label:k("devconsole~Tag"),items:j,key:I.image,autocompleteFilter:o,title:I.tag||k($&&G&&!B?"devconsole~No tag":"devconsole~Select tag"),disabled:!G||!B||e,fullWidth:!0,required:!0,onChange:e=>{""!==e&&H(e)}})}},6158:function(e,t,a){},6217:function(e,t,a){"use strict";a.d(t,"e",(function(){return b})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"f",(function(){return j})),a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return I}));var n=a(2349),i=a(499),r=a(117),o=a(22),s=a(4436),l=a(4432),c=a(83),u=a(10),d=a(15),m=a(5711),p=a(5929),g=a(5599),v=a(6410);const b=e=>({apiVersion:Object(c.getAPIVersionForModel)(u.DeploymentConfigModel),kind:u.DeploymentConfigModel.kind,metadata:{namespace:e,name:""},spec:{selector:{},replicas:3,template:{metadata:{labels:{}},spec:{containers:[{name:"container",image:"image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest",ports:[{containerPort:8080,protocol:"TCP"}]}]}},strategy:{type:v.a.rollingParams,rollingParams:{updatePeriodSeconds:1,intervalSeconds:1,timeoutSeconds:600,maxUnavailable:"25%",maxSurge:"25%"}},triggers:[{type:"ConfigChange"}]}}),f=e=>({apiVersion:Object(c.getAPIVersionForModel)(u.DeploymentModel),kind:u.DeploymentModel.kind,metadata:{namespace:e,name:""},spec:{selector:{matchLabels:{app:"name"}},replicas:3,template:{metadata:{labels:{app:"name"}},spec:{containers:[{name:"container",image:"image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest",ports:[{containerPort:8080,protocol:"TCP"}]}]}},strategy:{type:v.a.rollingUpdate,rollingUpdate:{maxSurge:"25%",maxUnavailable:"25%"}}}}),h=e=>{var t;return null!==(t=null==e?void 0:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.name}),{}))&&void 0!==t?t:[]},y=(e,t,a)=>{var n,i,r,o,s,l,c,u,d,m,p,g,v;const b=null!==(r=null===(i=null===(n=null==a?void 0:a[0])||void 0===n?void 0:n.to)||void 0===i?void 0:i.namespace)&&void 0!==r?r:"",f=null!==(c=null===(l=null===(s=null===(o=null==a?void 0:a[0])||void 0===o?void 0:o.to)||void 0===s?void 0:s.name)||void 0===l?void 0:l.split(":"))&&void 0!==c?c:[];return{name:e,project:{name:t},fromImageStreamTag:!0,imageStreamTag:{},containerName:null!==(d=null===(u=null==a?void 0:a[0])||void 0===u?void 0:u.containerName)&&void 0!==d?d:"",to:null!==(p=null===(m=null==a?void 0:a[0])||void 0===m?void 0:m.to)&&void 0!==p?p:{},isSearchingForImage:!1,imageStream:{namespace:b||t,image:null!==(g=f[0])&&void 0!==g?g:"",tag:null!==(v=f[1])&&void 0!==v?v:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]}}},k=e=>{var t,a,i,r,o,s,l;return{failurePolicy:null!==(t=null==e?void 0:e.failurePolicy)&&void 0!==t?t:v.c.Abort,execNewPod:{command:null!==(i=null===(a=null==e?void 0:e.execNewPod)||void 0===a?void 0:a.command)&&void 0!==i?i:[""],containerName:null===(r=null==e?void 0:e.execNewPod)||void 0===r?void 0:r.containerName,env:null===(o=null==e?void 0:e.execNewPod)||void 0===o?void 0:o.env,volumes:n.a(null===(s=null==e?void 0:e.execNewPod)||void 0===s?void 0:s.volumes,",")},tagImages:null!==(l=null==e?void 0:e.tagImages)&&void 0!==l?l:[]}},E=e=>({lch:k(e),exists:!!e,isAddingLch:!1,action:e?e.hasOwnProperty(v.d.execNewPod)?v.d.execNewPod:v.d.tagImages:v.d.execNewPod}),j=(e,t,a,n,i)=>{var r,o,s,l;switch(e){case v.a.recreateParams:{if(i===g.k.Kubernetes)return{};const{mid:e,post:o,pre:s,timeoutSeconds:l}=null!==(r=t.recreateParams)&&void 0!==r?r:{};return{recreateParams:{timeoutSeconds:l,pre:E(s),mid:E(e),post:E(o)},imageStreamData:{pre:y(a,n,null==s?void 0:s.tagImages),mid:y(a,n,null==e?void 0:e.tagImages),post:y(a,n,null==o?void 0:o.tagImages)}}}case v.a.customParams:{const{command:e=[""],environment:a,image:n}=null!==(o=t.customParams)&&void 0!==o?o:{};return{customParams:{command:e,environment:a,image:n}}}case v.a.rollingParams:{const{post:e,pre:i,timeoutSeconds:r,updatePeriodSeconds:o,intervalSeconds:l,maxSurge:c,maxUnavailable:u}=null!==(s=t.rollingParams)&&void 0!==s?s:{};return{rollingParams:{timeoutSeconds:r,pre:E(i),post:E(e),updatePeriodSeconds:o,intervalSeconds:l,maxSurge:c,maxUnavailable:u},imageStreamData:{pre:y(a,n,null==i?void 0:i.tagImages),post:y(a,n,null==e?void 0:e.tagImages)}}}case v.a.rollingUpdate:{const{maxSurge:e,maxUnavailable:a}=null!==(l=t.rollingUpdate)&&void 0!==l?l:{};return{rollingUpdate:{maxSurge:e,maxUnavailable:a}}}default:return{}}},O=(e,t)=>{var a,n,r;const{strategy:o}=null!==(a=e.spec)&&void 0!==a?a:{};let s;return t===g.k.OpenShift?(s=null!==(n=null==o?void 0:o.type)&&void 0!==n?n:v.a.rollingParams,Object.assign(Object.assign(Object.assign({},i.a(o,["rollingParams","recreateParams","customParams"])),{type:s}),j(s,o,e.metadata.name,e.metadata.namespace,t))):(s=null!==(r=null==o?void 0:o.type)&&void 0!==r?r:v.a.rollingUpdate,Object.assign({type:s},s===v.a.rollingUpdate?j(s,o,e.metadata.name,e.metadata.namespace,t):{}))},S=e=>{var t,a,n,i,o,s,l,c,u,d,m,v,b,f,h,y,k,E,j,S;const P=Object(p.k)(e);return Object.assign({formType:e.metadata.name?"edit":"create",name:null!==(t=e.metadata.name)&&void 0!==t?t:"",resourceVersion:null!==(a=e.metadata.resourceVersion)&&void 0!==a?a:"",deploymentStrategy:O(e,P),containers:null!==(o=null===(i=null===(n=e.spec.template)||void 0===n?void 0:n.spec)||void 0===i?void 0:i.containers)&&void 0!==o?o:[],imageName:null===(u=null===(c=null===(l=null===(s=e.spec.template)||void 0===s?void 0:s.spec)||void 0===l?void 0:l.containers)||void 0===c?void 0:c[0])||void 0===u?void 0:u.image,envs:null!==(f=null===(b=null===(v=null===(m=null===(d=e.spec.template)||void 0===d?void 0:d.spec)||void 0===m?void 0:m.containers)||void 0===v?void 0:v[0])||void 0===b?void 0:b.env)&&void 0!==f?f:[],imagePullSecret:null!==(j=null===(E=null===(k=null===(y=null===(h=e.spec.template)||void 0===h?void 0:h.spec)||void 0===y?void 0:y.imagePullSecrets)||void 0===k?void 0:k[0])||void 0===E?void 0:E.name)&&void 0!==j?j:"",paused:null!==(S=e.spec.paused)&&void 0!==S&&S,replicas:e.spec.replicas},((e,t)=>{var a,n,i,o,s,l,c,u,d,m,v,b,f,h,y,k;let E,j;const O={isSearchingForImage:!1,imageStream:{image:"",tag:"",namespace:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]}};if(t===g.k.OpenShift){const t=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.triggers;return j=r.a(t,e=>"ImageChange"===e.type),E=null!==(n=null==j?void 0:j.imageChangeParams.from.name.split(":"))&&void 0!==n?n:[],Object.assign(Object.assign({},O),{triggers:{image:Object(p.b)(t,"ImageChange",e.kind),config:Object(p.b)(t,"ConfigChange")},fromImageStreamTag:!!j,imageStream:{image:null!==(i=E[0])&&void 0!==i?i:"",tag:null!==(o=E[1])&&void 0!==o?o:"",namespace:null!==(s=null==j?void 0:j.imageChangeParams.from.namespace)&&void 0!==s?s:e.metadata.namespace},project:{name:e.metadata.namespace}})}return j=null===(d=JSON.parse(null!==(u=null===(c=null===(l=null==e?void 0:e.metadata)||void 0===l?void 0:l.annotations)||void 0===c?void 0:c["image.openshift.io/triggers"])&&void 0!==u?u:"[]"))||void 0===d?void 0:d[0],E=null!==(b=null===(v=null===(m=null==j?void 0:j.from)||void 0===m?void 0:m.name)||void 0===v?void 0:v.split(":"))&&void 0!==b?b:[],Object.assign(Object.assign({},O),{triggers:{image:"false"===(null==j?void 0:j.paused)},fromImageStreamTag:!!j,imageStream:{image:null!==(f=E[0])&&void 0!==f?f:"",tag:null!==(h=E[1])&&void 0!==h?h:"",namespace:null!==(k=null===(y=null==j?void 0:j.from)||void 0===y?void 0:y.namespace)&&void 0!==k?k:e.metadata.namespace},project:{name:e.metadata.namespace}})})(e,P))},P=(e,t,a,n,i)=>{const{image:r}=a,s=e,l=t&&!o.a(r)?r.dockerImageReference:n;return s[0]=Object.assign(Object.assign({},s[0]),{image:l,env:i}),s},T=(e,t,a,n)=>({[t]:Object.assign(Object.assign({failurePolicy:e.failurePolicy},a===v.d.execNewPod&&{execNewPod:Object.assign(Object.assign({containerName:e.execNewPod.containerName,command:e.execNewPod.command},o.a(e.execNewPod.env)?{}:{env:e.execNewPod.env}),e.execNewPod.volumes?{volumes:s.a(e.execNewPod.volumes,",")}:{})}),a===v.d.tagImages&&{tagImages:(()=>{const{containerName:t,to:a,imageStreamTag:i}=n,{apiVersion:r,kind:s,metadata:l}=i;return e.tagImages[0]={containerName:t,to:o.a(a)?{apiVersion:r,kind:s,name:null==l?void 0:l.name,namespace:null==l?void 0:l.namespace,resourceVersion:null==l?void 0:l.resourceVersion,uid:null==l?void 0:l.uid}:a},e.tagImages})()})}),R=(e,t)=>{var a;const{type:n,imageStreamData:r}=e,o=i.a(e,["rollingParams","recreateParams","customParams","imageStreamData","rollingUpdate"]);switch(n){case v.a.recreateParams:{const{mid:n,post:i,pre:s,timeoutSeconds:l}=null!==(a=e.recreateParams)&&void 0!==a?a:{};return Object.assign(Object.assign({},o),t===g.k.OpenShift?{recreateParams:Object.assign(Object.assign(Object.assign(Object.assign({},l?{timeoutSeconds:l}:{}),s.exists?T(s.lch,"pre",s.action,r.pre):{}),n.exists?T(n.lch,"mid",n.action,r.mid):{}),i.exists?T(i.lch,"post",i.action,r.post):{})}:{})}case v.a.customParams:return Object.assign(Object.assign({},o),{customParams:e.customParams});case v.a.rollingParams:{const{post:t,pre:a,maxSurge:n,maxUnavailable:i,timeoutSeconds:s,updatePeriodSeconds:c,intervalSeconds:u}=e.rollingParams;return Object.assign(Object.assign({},o),{rollingParams:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{timeoutSeconds:s}:{}),c?{updatePeriodSeconds:c}:{}),u?{intervalSeconds:u}:{}),a.exists?T(a.lch,"pre",a.action,r.pre):{}),t.exists?T(t.lch,"post",t.action,r.pre):{}),n?{maxSurge:l.a(n,"%")?n:parseInt(n,10)}:{}),i?{maxUnavailable:l.a(i,"%")?i:parseInt(i,10)}:{})})}case v.a.rollingUpdate:{const{maxSurge:t,maxUnavailable:a}=e.rollingUpdate;return{type:n,rollingUpdate:Object.assign(Object.assign({},t?{maxSurge:l.a(t,"%")?t:parseInt(t,10)}:{}),a?{maxUnavailable:l.a(a,"%")?a:parseInt(a,10)}:{})}}default:return{}}},I=(e,t)=>{var a,n,i;const{name:r,deploymentStrategy:o,containers:s,imageName:l,envs:c,imagePullSecret:u,paused:v,replicas:b,imageStream:{image:f,tag:h,namespace:y},isi:k,triggers:E,fromImageStreamTag:j,resourceVersion:O}=e,S=Object(p.k)(t);let T=Object.assign(Object.assign({},t),{metadata:Object.assign(Object.assign(Object.assign({},t.metadata),{name:r}),O?{resourceVersion:O}:{}),spec:Object.assign(Object.assign({},t.spec),{paused:v,replicas:b,strategy:R(o,S),template:Object.assign(Object.assign({},t.spec.template),{metadata:Object.assign(Object.assign({},t.spec.template.metadata),{labels:Object.assign(Object.assign({},t.spec.template.metadata.labels),t.metadata.name?{}:r?{app:r}:{})}),spec:Object.assign(Object.assign({},t.spec.template.spec),{containers:P(s,j,k,l,c),imagePullSecrets:[...null!==(a=t.spec.template.spec.imagePullSecrets)&&void 0!==a?a:[],...u?[{name:u}]:[]]})})})});return S===g.k.OpenShift?T=Object.assign(Object.assign({},T),{spec:Object.assign(Object.assign({},T.spec),{selector:Object.assign(Object.assign({},T.spec.selector),t.metadata.name?{}:T.metadata.name?{app:T.metadata.name}:{}),triggers:[...j?[{type:"ImageChange",imageChangeParams:{automatic:E.image,containerNames:[s[0].name],from:{kind:"ImageStreamTag",name:`${f}:${h}`,namespace:y}}}]:[],...E.config?[{type:"ConfigChange"}]:[]]})}):((null===(i=null===(n=null==T?void 0:T.metadata)||void 0===n?void 0:n.annotations)||void 0===i?void 0:i[d.ic])&&delete T.metadata.annotations[d.ic],T=Object.assign(Object.assign({},T),{metadata:Object.assign(Object.assign({},T.metadata),{annotations:Object.assign(Object.assign({},T.metadata.annotations),j?Object(m.g)(s[0].name,f,y,E.image,h):{})}),spec:Object.assign(Object.assign({},T.spec),{selector:Object.assign(Object.assign({},T.spec.selector),{matchLabels:Object.assign(Object.assign({},T.spec.selector.matchLabels),t.metadata.name?{}:T.metadata.name?{app:T.metadata.name}:{})})})})),T}},6324:function(e,t,a){"use strict";var n=a(0),i=a(80),r=a(1939),o=a(7);t.a=({onClose:e})=>{const{t:t}=Object(o.useTranslation)();return n.createElement(i.a,{actionClose:e&&n.createElement(r.a,{onClose:e}),isInline:!0,title:t('console-shared~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.'),variant:"info","data-test":"info-alert"})}},6410:function(e,t,a){"use strict";var n,i,r;a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),function(e){e.recreateParams="Recreate",e.rollingParams="Rolling",e.customParams="Custom",e.rollingUpdate="RollingUpdate"}(n||(n={})),function(e){e.execNewPod="execNewPod",e.tagImages="tagImages"}(i||(i={})),function(e){e.Abort="Abort",e.Retry="Retry",e.Ignore="Ignore"}(r||(r={}));const o={[r.Abort]:"Abort",[r.Retry]:"Retry",[r.Ignore]:"Ignore"}},6552:function(e,t,a){"use strict";var n=a(0),i=a(281),r=a(55),o=a(7),s=a(15),l=a(5618);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[,t]=Object(r.e)("formData.name"),a=!t.initialValue;return n.createElement(l.a,{dataTest:"section name"},n.createElement(s.ab,{label:e("devconsole~Name"),name:"formData.name",type:i.b.text,isDisabled:!a,required:!0}))}},8018:function(e,t,a){"use strict";var n=a(0),i=a(137),r=a(7),o=a(14),s=a(5),l=a(108),c=a(10),u=a(8019),d=a(6217);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{ns:t,name:a}=Object(o.useParams)(),m=!a,[p,g,v]=Object(l.a)(m?null:{kind:c.DeploymentConfigModel.kind,name:a,namespace:t}),b=m?Object(d.e)(t):p,f=e(m?"devconsole~Create DeploymentConfig":"devconsole~Edit DeploymentConfig");return n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,f)),n.createElement(s.wb,{loaded:g,loadError:v,label:f,data:b},n.createElement(u.a,{heading:f,resource:b,name:m?null:a,namespace:t})))}},8019:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(380),o=a(7),s=a(77),l=a(5),c=a(10),u=a(614),d=a(1941),m=a(5929),p=a(5599),g=a(8850),v=a(6217),b=a(8868);t.a=({heading:e,resource:t,namespace:a,name:f})=>{const{t:h}=Object(o.useTranslation)(),y=!f,k=n.useRef({editorType:u.b.Form,yamlData:Object(d.b)(t,"yamlData",{skipInvalid:!0}),formData:Object(v.a)(t),formReloadCount:0}),E=()=>l.Vb.goBack();return n.createElement(i.b,{initialValues:k.current,onSubmit:(e,n)=>{var i;let o;const d=Object(m.k)(t);if(e.editorType===u.b.YAML)try{o=Object(r.safeLoad)(e.yamlData),(null===(i=null==o?void 0:o.metadata)||void 0===i?void 0:i.namespace)||(o.metadata.namespace=a)}catch(e){return n.setStatus({submitSuccess:"",submitError:h("devconsole~Invalid YAML - {{err}}",{err:e})}),null}else o=Object(v.b)(e.formData,t);return(y?Object(s.g)({model:d===p.k.OpenShift?c.DeploymentConfigModel:c.DeploymentModel,data:o}):Object(s.r)({model:d===p.k.OpenShift?c.DeploymentConfigModel:c.DeploymentModel,data:o,name:f,ns:a})).then(e=>{const t=d===p.k.OpenShift?c.DeploymentConfigModel:c.DeploymentModel;if(y)n.setStatus({submitError:"",submitSuccess:h("devconsole~{{resource}} has been created",{resource:e.kind})});else{const t=e.metadata.resourceVersion;n.setStatus({submitError:"",submitSuccess:h("devconsole~{{name}} has been updated to version {{resVersion}}",{name:f,resVersion:t})})}l.Vb.push(`/k8s/ns/${a}/${t.plural}/${e.metadata.name}`)}).catch(e=>{n.setStatus({submitSuccess:"",submitError:e.message})})},validationSchema:Object(b.a)(),enableReinitialize:!0},a=>n.createElement(g.a,Object.assign({},a,{heading:e,resource:t,handleCancel:E})))}},8020:function(e,t,a){"use strict";var n=a(0),i=a(1940),r=a(281),o=a(55),s=a(7),l=a(5),c=a(15),u=a(6410),d=a(8857);t.a=({dataAttribute:e,resourceObj:t})=>{const{t:a}=Object(s.useTranslation)(),{values:{formData:{deploymentStrategy:{type:m}}}}=Object(o.f)();return n.createElement(l.x,{textExpanded:a("devconsole~Hide additional parameters and lifecycle hooks"),textCollapsed:a("devconsole~Show additional parameters and lifecycle hooks")},n.createElement(i.a,null,m===u.a.rollingParams&&n.createElement(n.Fragment,null,n.createElement(c.ab,{name:"formData.deploymentStrategy.rollingParams.updatePeriodSeconds",style:{maxWidth:"unset"},label:a("devconsole~Update Period"),type:r.b.number}),n.createElement(c.ab,{name:"formData.deploymentStrategy.rollingParams.intervalSeconds",style:{maxWidth:"unset"},label:a("devconsole~Interval"),type:r.b.number})),n.createElement(d.a,{title:a("devconsole~Pre Lifecycle Hook"),subTitle:a("devconsole~Pre hooks execute before the deployment begins."),dataAttribute:e,resourceObj:t,lifecycleHookName:"pre"}),m===u.a.recreateParams&&n.createElement(d.a,{title:a("devconsole~Mid Lifecycle Hook"),subTitle:a("devconsole~Mid hooks execute after the previous deployment is scaled down to zero and before the first pod of the new deployment is created."),dataAttribute:e,resourceObj:t,lifecycleHookName:"mid"}),n.createElement(d.a,{title:a("devconsole~Post Lifecycle Hook"),subTitle:a("devconsole~Post hooks execute after the deployment strategy completes."),dataAttribute:e,resourceObj:t,lifecycleHookName:"post"})))}},8021:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s}));var n=a(5599),i=a(6410);const r=(e,t)=>{switch(e){case n.k.Kubernetes:return{[i.a.recreateParams]:t("devconsole~Recreate"),[i.a.rollingUpdate]:t("devconsole~Rolling Update")};case n.k.OpenShift:return{[i.a.recreateParams]:t("devconsole~Recreate"),[i.a.rollingParams]:t("devconsole~Rolling"),[i.a.customParams]:t("devconsole~Custom")};default:return{}}},o=(e,t,a)=>{switch(e){case n.k.Kubernetes:switch(t){case i.a.recreateParams:return a("devconsole~The recreate strategy has basic rollout behavior.");case i.a.rollingUpdate:return a("devconsole~The rolling strategy will wait for pods to pass their readiness check, scale down old components and then scale up.");default:return null}case n.k.OpenShift:switch(t){case i.a.recreateParams:return a("devconsole~The recreate strategy has basic rollout behavior and supports lifecycle hooks for injecting code into the deployment process.");case i.a.rollingParams:return a("devconsole~The rolling strategy will wait for pods to pass their readiness check, scale down old components and then scale up.");case i.a.customParams:return a("devconsole~The custom strategy allows you to specify container image that will provide your own deployment behavior.");default:return null}default:return null}},s=e=>({execNewPod:{value:i.d.execNewPod,label:e("devconsole~Runs a command in a new pod using the container from the deployment template. You can add additional environment variables and volumes")},tagImages:{value:i.d.tagImages,label:e("devconsole~Tags the current image as an image stream tag if the deployment succeeds")}})},8022:function(e,t,a){"use strict";var n=a(0),i=a(219),r=a(55),o=a(7),s=a(5),l=a(10);t.a=()=>{var e;const{t:t}=Object(o.useTranslation)(),{values:{formData:{containers:a}}}=Object(r.f)(),c=null===(e=a[0])||void 0===e?void 0:e.name;return n.createElement(i.a,{fieldId:"container-name"},n.createElement("span",{style:{fontWeight:"bold",position:"relative"}},n.createElement(o.Trans,{t:t,ns:"devconsole"},"Container: ",n.createElement(s.fb,{kind:l.ContainerModel.kind}),{containerName:c})))}},8023:function(e,t,a){"use strict";var n=a(0),i=a(137),r=a(7),o=a(14),s=a(5),l=a(108),c=a(10),u=a(8019),d=a(6217);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{ns:t,name:a}=Object(o.useParams)(),m=!a,[p,g,v]=Object(l.a)(m?null:{kind:c.DeploymentModel.kind,name:a,namespace:t}),b=m?Object(d.d)(t):p,f=e(m?"devconsole~Create Deployment":"devconsole~Edit Deployment");return n.createElement(n.Fragment,null,n.createElement(i.b,null,n.createElement("title",null,f)),n.createElement(s.wb,{loaded:g,loadError:v,label:f,data:b},n.createElement(u.a,{heading:f,resource:b,name:m?null:a,namespace:t})))}},8850:function(e,t,a){"use strict";var n=a(0),i=a(22),r=a(7),o=a(4368),s=a(10),l=a(15),c=a(5962),u=a(614),d=a(1941),m=a(5929),p=a(5599),g=a(8851),v=a(6217);t.a=({heading:e,resource:t,status:a,isSubmitting:b,dirty:f,handleSubmit:h,handleCancel:y,setFieldValue:k,setStatus:E,setErrors:j,errors:O,values:{editorType:S,formData:P,yamlData:T,formReloadCount:R}})=>{const{t:I}=Object(r.useTranslation)(),N=Object(m.k)(t),C=!t.metadata.name,w=!C&&t.metadata.resourceVersion!==P.resourceVersion,_=n.createElement(g.a,{resourceType:N,resourceObj:t}),D=n.createElement(n.Fragment,null,t.kind===s.DeploymentConfigModel.kind&&n.createElement(o.DeploymentConfigDeprecationAlert,null),n.createElement(l.C,{name:"yamlData",model:N===p.k.OpenShift?s.DeploymentConfigModel:s.DeploymentModel,showSamples:C,onSave:h})),x=n.useCallback(()=>{E({submitSuccess:"",submitError:""}),j({}),S===u.b.Form&&k("formData",Object(v.a)(t)),k("formData.resourceVersion",t.metadata.resourceVersion),k("yamlData",Object(d.b)(t,"yamlData",{skipInvalid:!0})),k("formReloadCount",R+1)},[E,j,S,k,t,R]);return n.createElement(l.P,{onSubmit:h},n.createElement(l.Q,{flexLayout:!0},n.createElement(l.S,{title:e}),n.createElement(l.fc,{name:"editorType",formContext:{name:"formData",editor:_,sanitizeTo:e=>Object(v.a)(e)},yamlContext:{name:"yamlData",editor:D,sanitizeTo:()=>Object(d.b)(Object(v.b)(P,t),"yamlData",{skipInvalid:!0})},lastViewUserSettingKey:"devconsole.editDeploymentForm.editor.lastView",noMargin:!0})),n.createElement(l.R,{handleReset:C?null:x,errorMessage:null==a?void 0:a.submitError,successMessage:null==a?void 0:a.submitSuccess,showAlert:w,infoTitle:I("devconsole~This object has been updated."),infoMessage:I("devconsole~Click reload to see the new version."),isSubmitting:b,submitLabel:I(C?"devconsole~Create":"devconsole~Save"),disableSubmit:(S===u.b.YAML?!f:!f||!i.a(O))||b,handleCancel:y,handleDownload:S===u.b.YAML&&(()=>Object(c.a)(T)),sticky:!0}))}},8851:function(e,t,a){"use strict";var n=a(0),i=a(4368),r=a(10),o=a(6324),s=a(6552),l=a(8852),c=a(8854),u=a(8864),d=a(8865);t.a=({resourceType:e,resourceObj:t})=>{const[a,m]=n.useState(!0);return n.createElement(n.Fragment,null,t.kind===r.DeploymentConfigModel.kind&&n.createElement(i.DeploymentConfigDeprecationAlert,null),a&&n.createElement(o.a,{onClose:()=>m(!1)}),n.createElement(s.a,null),n.createElement(c.a,{resourceType:e,resourceObj:t}),n.createElement(d.a,{resourceType:e}),n.createElement(u.a,{resourceObj:t}),n.createElement(l.a,{resourceType:e}))}},8852:function(e,t,a){"use strict";var n=a(0),i=a(7),r=a(15),o=a(6147),s=a(5618),l=a(8853);const c=({children:e})=>{const{t:t}=Object(i.useTranslation)();return n.createElement(i.Trans,{t:t,ns:"devconsole",defaults:"Click on the names to access advanced options for <0></0>.",components:[e]})},u=({resourceType:e})=>{const{t:t}=Object(i.useTranslation)(),[a,s]=n.useState([]);return n.createElement(r.Eb,{visibleItems:a,onVisibleItemChange:e=>{s([...a,e])},Footer:c},n.createElement(r.Fb,{name:t("devconsole~Pause rollouts")},n.createElement(l.a,{name:"formData.paused",resourceType:e})),n.createElement(r.Fb,{name:t("devconsole~Scaling")},n.createElement(o.a,{name:"formData.replicas"})))};t.a=({resourceType:e})=>{const{t:t}=Object(i.useTranslation)();return n.createElement(s.a,{title:t("devconsole~Advanced options"),dataTest:"advanced-options-section",fullWidth:!0},n.createElement("div",{"data-test":"deployment-form-testid"},n.createElement(u,{resourceType:e})))}},8853:function(e,t,a){"use strict";var n=a(0),i=a(7),r=a(15),o=a(5599),s=a(5618);t.a=({name:e,resourceType:t})=>{const{t:a}=Object(i.useTranslation)(),l=t===o.k.OpenShift?"deployment config":"deployment";return n.createElement(s.a,{title:a("devconsole~Pause rollouts"),dataTest:"pause-rollouts"},n.createElement(r.A,{name:e,label:a("devconsole~Pause rollouts for this {{resourceLabel}}",{resourceLabel:l}),helpText:a("devconsole~Pausing lets you make changes without triggering a rollout. You can resume rollouts at any time.")}))}},8854:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(1557),o=a(7),s=a(15),l=a(5618),c=a(6217),u=a(8855),d=a(8856),m=a(8863),p=a(8021),g=a(6410);t.a=({resourceType:e,resourceObj:t})=>{const{t:a}=Object(o.useTranslation)(),{values:{formData:{name:v,project:{name:b},deploymentStrategy:f}},setFieldValue:h}=Object(i.f)(),y=n.useMemo(()=>{switch(f.type){case g.a.recreateParams:return n.createElement(d.a,{resourceType:e,resourceObj:t});case g.a.rollingParams:case g.a.rollingUpdate:return n.createElement(m.a,{resourceType:e,resourceObj:t});case g.a.customParams:return n.createElement(u.a,{resourceObj:t});default:return null}},[f.type,t,e]),k=n.useCallback(t=>{const a=Object(c.f)(t,{},v,b,e),n=Object.assign(Object.assign({},r.a(a,f)),{type:t});h("formData.deploymentStrategy",n)},[v,b,e,h,f]);return n.createElement(l.a,{title:a("devconsole~Deployment strategy"),dataTest:"deployment-strategy-section"},n.createElement(s.I,{name:"formData.deploymentStrategy.type",label:a("devconsole~Strategy type"),items:Object(p.b)(e,a),helpText:Object(p.a)(e,f.type,a),onChange:k,fullWidth:!0}),y)}},8855:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(7),o=a(15);t.a=({resourceObj:e})=>{var t;const{t:a}=Object(r.useTranslation)(),{values:{formData:{deploymentStrategy:{customParams:s}}}}=Object(i.f)();return n.createElement("div",{"data-test":"customParams"},n.createElement(o.ab,{name:"formData.deploymentStrategy.customParams.image",label:a("devconsole~Image name"),helpText:a("devconsole~An image that can carry out the deployment.")}),n.createElement(o.lc,{name:"formData.deploymentStrategy.customParams.command",label:a("devconsole~Command"),addLabel:a("devconsole~Add another argument"),placeholder:a("devconsole~Add argument"),helpText:a("devconsole~Enter the command to run inside the container. The command is considered successful if its exit code is 0. Drag and drop to reorder arguments."),dndEnabled:!0}),n.createElement(o.M,{name:"formData.deploymentStrategy.customParams.environment",label:a("devconsole~Environment variables (runtime only)"),envs:null!==(t=s.environment)&&void 0!==t?t:[],obj:e}))}},8856:function(e,t,a){"use strict";var n=a(0),i=a(281),r=a(7),o=a(15),s=a(5599),l=a(8020);t.a=({resourceType:e,resourceObj:t})=>{const{t:a}=Object(r.useTranslation)();return e===s.k.OpenShift?n.createElement("div",{"data-test":"recreateParams"},n.createElement(o.ab,{name:"formData.deploymentStrategy.recreateParams.timeoutSeconds",style:{maxWidth:"unset"},label:a("devconsole~Timeout"),type:i.b.number,helpText:a("devconsole~The number of seconds to wait for a pod to scale up before giving up")}),n.createElement(l.a,{dataAttribute:"recreateParams",resourceObj:t})):null}},8857:function(e,t,a){"use strict";var n=a(0),i=a(19),r=a(88),o=a(408),s=a(407),l=a(55),c=a(640),u=a(7),d=a(5929),m=a(6217),p=a(8858);a(8862);t.a=({title:e,subTitle:t,dataAttribute:a,lifecycleHookName:g,resourceObj:v})=>{const{t:b}=Object(u.useTranslation)(),{setFieldValue:f,values:{formData:{name:h,project:{name:y},deploymentStrategy:k}},initialValues:E}=Object(l.f)(),[{value:j}]=Object(l.e)(`formData.deploymentStrategy.${a}.${g}.exists`),[O,S]=n.useState(!1),P=Object(d.k)(v),T=n.useCallback(()=>{S(!1),f(`formData.deploymentStrategy.${a}.${g}.exists`,!0),f(`formData.deploymentStrategy.${a}.${g}.isAddingLch`,!1),E.formData.deploymentStrategy[a][g]=k[a][g],E.formData.deploymentStrategy.imageStreamData[g]=k.imageStreamData[g]},[a,k,E.formData.deploymentStrategy,g,f]),R=n.useCallback(()=>{const e=Object(c.a)(k);e[a][g]=void 0;const t=Object(m.f)(e.type,{[a]:e[a]},h,y,P);E.formData.deploymentStrategy[a][g]=t[a][g],E.formData.deploymentStrategy.imageStreamData[g]=t.imageStreamData[g],f(`formData.deploymentStrategy.${a}.${g}`,t[a][g]),f("formData.deploymentStrategy.imageStreamData."+g,t.imageStreamData[g])},[a,k,E.formData.deploymentStrategy,g,h,y,P,f]),I=n.useCallback(()=>{S(!1),f(`formData.deploymentStrategy.${a}.${g}`,E.formData.deploymentStrategy[a][g]),f("formData.deploymentStrategy.imageStreamData."+g,E.formData.deploymentStrategy.imageStreamData[g]),f(`formData.deploymentStrategy.${a}.${g}.exists`,j),f(`formData.deploymentStrategy.${a}.${g}.isAddingLch`,!1)},[a,E.formData.deploymentStrategy,j,g,f]);return n.createElement("div",null,n.createElement("div",{className:"co-section-heading-tertiary odc-lifecycle-hook-field__title"},e),n.createElement("div",{className:"pf-v5-c-form__helper-text"},t),!O&&n.createElement(i.a,{className:"pf-m-link--align-left",variant:i.d.link,onClick:()=>{S(!0),f(`formData.deploymentStrategy.${a}.${g}.isAddingLch`,!0)},icon:!j&&n.createElement(s.a,null)},`${b(j?"devconsole~Edit":"devconsole~Add")} ${b("devconsole~{{lifecycleHookName}} lifecycle hook",{lifecycleHookName:g})}`),!O&&j&&n.createElement(r.a,{content:b("devconsole~Remove"),position:"right"},n.createElement(i.a,{className:"pf-m-plain--align-left",variant:i.d.plain,onClick:R},n.createElement(o.a,null))),O&&n.createElement(p.a,{dataAttribute:a,resourceObj:v,lifecycleHook:g,onSubmit:T,onClose:I}))}},8858:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(22),o=a(16),s=a(7),l=a(15),c=a(5618),u=a(8021),d=a(6410),m=a(8859),p=a(8860);a(8861);t.a=({lifecycleHook:e,resourceObj:t,dataAttribute:a,onSubmit:g,onClose:v})=>{const{t:b}=Object(s.useTranslation)(),{errors:f}=Object(i.f)();return n.createElement("div",{className:"odc-deployment-lifecycle-hook-form"},n.createElement(c.a,null,n.createElement(l.Lb,{name:`formData.deploymentStrategy.${a}.${e}.action`,label:b("devconsole~Lifecycle Action"),required:!0,options:[{label:Object(u.c)(b).execNewPod.label,value:Object(u.c)(b).execNewPod.value,activeChildren:n.createElement(m.a,{resourceObj:t,lifecycleHook:e,dataAttribute:a})},{label:Object(u.c)(b).tagImages.label,value:Object(u.c)(b).tagImages.value,activeChildren:n.createElement(p.a,{lifecycleHook:e})}]}),n.createElement(l.I,{name:`formData.deploymentStrategy.${a}.${e}.lch.failurePolicy`,label:b("devconsole~Failure Policy"),title:b("devconsole~Select a Failure Policy"),items:d.b,helpText:b("devconsole~Fail the deployment if the hook fails."),fullWidth:!0,required:!0}),n.createElement(l.g,{onSubmit:g,onClose:v,isDisabled:!r.a(o.a(null==f?void 0:f.formData,["deploymentStrategy",""+a,""+e]))||!r.a(o.a(null==f?void 0:f.formData,["deploymentStrategy","imageStreamData",""+e]))})))}},8859:function(e,t,a){"use strict";var n=a(0),i=a(1940),r=a(55),o=a(7),s=a(15),l=a(6217);t.a=({resourceObj:e,lifecycleHook:t,dataAttribute:a})=>{var c,u;const{t:d}=Object(o.useTranslation)(),{values:{formData:{containers:m,deploymentStrategy:p}}}=Object(r.f)();return n.createElement(i.a,null,n.createElement(s.I,{name:`formData.deploymentStrategy.${a}.${t}.lch.execNewPod.containerName`,label:d("devconsole~Container name"),title:d("devconsole~Select container name"),items:Object(l.c)(m),fullWidth:!0,required:!0}),n.createElement(s.lc,{name:`formData.deploymentStrategy.${a}.${t}.lch.execNewPod.command`,label:d("devconsole~Command"),addLabel:d("devconsole~Add another argument"),placeholder:d("devconsole~Add argument"),helpText:d("devconsole~Enter the command to run inside the container. The command is considered sucessful if its exit code is 0. Drag and drop to reorder arguments."),required:!0,dndEnabled:!0,disableDeleteRow:1===(null===(c=p[a][t].lch.execNewPod.command)||void 0===c?void 0:c.length)}),n.createElement(s.M,{name:`formData.deploymentStrategy.${a}.${t}.lch.execNewPod.env`,label:d("devconsole~Environment variables (runtime only)"),envs:null!==(u=p[a][t].lch.execNewPod.env)&&void 0!==u?u:[],obj:e}),n.createElement(s.ab,{name:`formData.deploymentStrategy.${a}.${t}.lch.execNewPod.volumes`,label:d("devconsole~Volumes"),helpText:d("devconsole~List of comma (,) separated named volumes to copy to the hook pod.")}))}},8860:function(e,t,a){"use strict";var n=a(0),i=a(1940),r=a(55),o=a(7),s=a(15),l=a(6108),c=a(6217);t.a=({lifecycleHook:e})=>{const{t:t}=Object(o.useTranslation)(),{values:{formData:{containers:a,deploymentStrategy:u}}}=Object(r.f)(),d=Object(c.c)(a);return n.createElement(i.a,null,n.createElement(s.I,{name:`formData.deploymentStrategy.imageStreamData.${e}.containerName`,label:t("devconsole~Container name"),items:d,selectedKey:u.imageStreamData[e].containerName,fullWidth:!0,required:!0}),n.createElement(l.a,{label:t("devconsole~Tag as"),formContextField:"formData.deploymentStrategy.imageStreamData."+e,required:!0}))}},8861:function(e,t,a){},8862:function(e,t,a){},8863:function(e,t,a){"use strict";var n=a(0),i=a(281),r=a(7),o=a(15),s=a(5599),l=a(8020);t.a=({resourceType:e,resourceObj:t})=>{const{t:a}=Object(r.useTranslation)(),c=e===s.k.OpenShift?"rollingParams":"rollingUpdate";return n.createElement("div",{"data-test":c},e===s.k.OpenShift&&n.createElement(o.ab,{name:"formData.deploymentStrategy.rollingParams.timeoutSeconds",style:{maxWidth:"unset"},label:a("devconsole~Timeout"),type:i.b.number,helpText:a("devconsole~The number of seconds to wait for a pod to scale up before giving up")}),n.createElement(o.ab,{name:`formData.deploymentStrategy.${c}.maxUnavailable`,label:a("devconsole~Maximum number of unavailable Pods"),helpText:a("devconsole~The maximum number of pods that can be unavailable during the rolling deployment. This can be either a percentage (10%) or a whole number (1).")}),n.createElement(o.ab,{name:`formData.deploymentStrategy.${c}.maxSurge`,label:a("devconsole~Maximum number of surge Pods"),helpText:a("devconsole~The maximum number of pods that can be scheduled above the original number of pods while the rolling deployment is in progress. This can be either a percentage (10%) or a whole number (1).")}),e===s.k.OpenShift&&n.createElement(l.a,{dataAttribute:"rollingParams",resourceObj:t}))}},8864:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(7),o=a(15),s=a(5618),l=a(8022);t.a=({resourceObj:e})=>{const{t:t}=Object(r.useTranslation)(),{values:{formData:{envs:a}}}=Object(i.f)();return n.createElement(s.a,{title:t("devconsole~Environment Variables"),dataTest:"environment-variables-section"},n.createElement(l.a,null),n.createElement(o.M,{name:"formData.envs",envs:a,obj:e}))}},8865:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(7),o=a(15),s=a(5599),l=a(5618),c=a(8022),u=a(8866),d=a(8867);t.a=({resourceType:e})=>{const{t:t}=Object(r.useTranslation)(),{values:{formData:{fromImageStreamTag:a}}}=Object(i.f)();return n.createElement(l.a,{title:t("devconsole~Images"),dataTest:"images-section"},n.createElement(c.a,null),n.createElement(d.a,null),a&&n.createElement(o.A,{name:"formData.triggers.image",label:t("devconsole~Auto deploy when new Image is available")}),e===s.k.OpenShift&&n.createElement(o.A,{name:"formData.triggers.config",label:t("devconsole~Auto deploy when deployment configuration changes")}),n.createElement(u.a,null))}},8866:function(e,t,a){"use strict";var n=a(0),i=a(19),r=a(55),o=a(7),s=a(4359),l=a(5),c=a(10),u=a(15),d=a(5961);t.a=()=>{const{t:e}=Object(o.useTranslation)(),{setFieldValue:t,values:{formData:{project:{name:a}}}}=Object(r.f)(),m=e=>{t("formData.imagePullSecret",e)};return n.createElement(l.x,{textExpanded:e("devconsole~Hide advanced image options"),textCollapsed:e("devconsole~Show advanced image options")},n.createElement(u.Ob,{name:"formData.imagePullSecret",label:e("devconsole~Pull Secret"),helpText:e("devconsole~Secret for authentication when pulling image from a secured registry."),placeholder:e("devconsole~Select Secret name"),resources:[{isList:!0,namespace:a,kind:c.SecretModel.kind,prop:"secrets"}],resourceFilter:e=>"kubernetes.io/dockercfg"===e.type||"kubernetes.io/dockerconfigjson"===e.type,dataSelector:["metadata","name"],dataTest:"secrets-dropdown",fullWidth:!0}),n.createElement(i.a,{className:"pf-m-link--align-left",variant:i.d.link,onClick:()=>Object(d.a)({namespace:a,save:m,secretType:s.SecretTypeAbstraction.image})},e("devconsole~Create new Secret")))}},8867:function(e,t,a){"use strict";var n=a(0),i=a(55),r=a(7),o=a(15),s=a(6108);t.a=()=>{const{t:e}=Object(r.useTranslation)(),{values:{formData:{fromImageStreamTag:t},formReloadCount:a}}=Object(i.f)();return n.createElement(n.Fragment,null,n.createElement(o.A,{name:"formData.fromImageStreamTag",label:e("devconsole~Deploy image from an image stream tag")}),t?n.createElement(s.a,{label:e("devconsole~Image stream tag"),formContextField:"formData",reloadCount:a,dataTest:"image-stream-tag",required:!0}):n.createElement(o.ab,{name:"formData.imageName",label:e("devconsole~Image Name"),helpText:e("devconsole~Container image name"),"data-test":"image-name",required:!0}))}},8868:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(689),i=a(359),r=a(614),o=a(6410);const s=e=>n.object().shape({action:n.string().required(i.a.t("devconsole~Required")),lch:n.object().shape(Object.assign({failurePolicy:n.string().required(i.a.t("devconsole~Required"))},e.action===o.d.execNewPod?{execNewPod:n.object().shape({containerName:n.string().required(i.a.t("devconsole~Required")),command:n.array().of(n.string().required(i.a.t("devconsole~Required"))).required(i.a.t("devconsole~Required")),volumes:n.string()})}:{}))}),l=e=>e===o.d.tagImages?n.object().shape({containerName:n.string().required(i.a.t("devconsole~Required")),imageStream:n.object({namespace:n.string().required(i.a.t("devconsole~Required")),image:n.string().required(i.a.t("devconsole~Required")),tag:n.string().required(i.a.t("devconsole~Required"))})}):null,c=e=>{var t;switch(e.type){case o.a.recreateParams:{const{pre:a,mid:i,post:r}=null!==(t=e.recreateParams)&&void 0!==t?t:{};return n.object().shape({type:n.string(),recreateParams:n.object().shape(Object.assign(Object.assign(Object.assign({timeoutSeconds:n.number()},(null==a?void 0:a.isAddingLch)?{pre:s(a)}:{}),(null==i?void 0:i.isAddingLch)?{mid:s(i)}:{}),(null==r?void 0:r.isAddingLch)?{post:s(r)}:{})),imageStreamData:n.object().shape(Object.assign(Object.assign(Object.assign({},(null==a?void 0:a.isAddingLch)?{pre:l(a.action)}:{}),(null==i?void 0:i.isAddingLch)?{mid:l(i.action)}:{}),(null==r?void 0:r.isAddingLch)?{post:l(r.action)}:{}))})}case o.a.customParams:return n.object().shape({type:n.string(),customParans:n.object().shape({command:n.array().of(n.string()),image:n.string()})});case o.a.rollingParams:{const{pre:t,post:a}=e.rollingParams;return n.object().shape({type:n.string(),rollingParams:n.object().shape(Object.assign(Object.assign(Object.assign({timeoutSeconds:n.number()},(null==t?void 0:t.isAddingLch)?{pre:s(t)}:{}),(null==a?void 0:a.isAddingLch)?{post:s(a)}:{}),{updatePeriodSeconds:n.number(),intervalSeconds:n.number(),maxSurge:n.string(),maxUnavailable:n.string()})),imageStreamData:n.object().shape(Object.assign(Object.assign({},(null==t?void 0:t.isAddingLch)?{pre:l(t.action)}:{}),(null==a?void 0:a.isAddingLch)?{post:l(a.action)}:{}))})}case o.a.rollingUpdate:return n.object().shape({type:n.string(),rollingUpdate:n.object().shape({maxSurge:n.string(),maxUnavailable:n.string()})});default:return null}},u=e=>n.object(Object.assign(Object.assign({name:n.string().required(i.a.t("devconsole~Required")),deploymentStrategy:c(e.deploymentStrategy),fromImageStreamTag:n.boolean()},e.fromImageStreamTag?{}:{imageName:n.string().required(i.a.t("devconsole~Required"))}),{imageStream:n.object().when("fromImageStreamTag",{is:!0,then:n.object({namespace:n.string().required(i.a.t("devconsole~Required")),image:n.string().required(i.a.t("devconsole~Required")),tag:n.string().required(i.a.t("devconsole~Required"))})}),isi:n.object().when("fromImageStreamTag",{is:!0,then:n.object({name:n.string().required(i.a.t("devconsole~Required"))})})})),d=()=>n.mixed().test({test:e=>n.object({editorType:n.string().oneOf(Object.values(r.b)),yamlData:n.string(),formData:n.mixed().when("editorType",{is:r.b.Form,then:u(e.formData)})}).validate(e,{abortEarly:!1})})}}]);
//# sourceMappingURL=deployment-chunk-0ef6f4dadbde8ac21070.min.js.map