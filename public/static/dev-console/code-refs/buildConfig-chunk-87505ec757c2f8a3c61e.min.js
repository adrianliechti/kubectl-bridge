(window.webpackJsonp=window.webpackJsonp||[]).push([[141,44],{4362:function(e,t,a){"use strict";a.r(t),a.d(t,"getAnnotationTags",(function(){return _})),a.d(t,"getBuilderTags",(function(){return V})),a.d(t,"getBuilderTagsSortedByVersion",(function(){return F})),a.d(t,"getMostRecentBuilderTag",(function(){return U})),a.d(t,"isBuilder",(function(){return G})),a.d(t,"ExampleDockerCommandPopover",(function(){return $})),a.d(t,"ImageStreamsDetails",(function(){return H})),a.d(t,"ImageStreamsDetailsPage",(function(){return Y})),a.d(t,"ImageStreamsList",(function(){return Z})),a.d(t,"buildPhase",(function(){return Q})),a.d(t,"ImageStreamsPage",(function(){return ee}));var n=a(0),r=a(7),o=a(16),i=a(240),s=a(2050),l=a(116),c=a(1533),u=a(22),d=a(225),m=a(7187),p=a(117),g=a(50),b=a(283),v=a(18),f=a(54),h=a(353),y=a(19),k=a(80),E=a(979),T=a(10),S=a(40),j=a(5),I=a(1198),w=a(1414),C=a(173),O=a(981),R=a(284),P=a(1413),x=a(1948),D=a(99),N=a(1411),q=a(693),L=a(5781),B=a(15);const _=e=>o.a(e,"annotations.tags","").split(/\s*,\s*/),V=e=>{const t=(e=>{const t=o.a(e,"status.tags");return s.a(t,"tag")})(e);return l.a(e.spec.tags,e=>(e=>{const t=_(e);return i.a(t,"builder")&&!i.a(t,"hidden")})(e)&&t[e.name])},F=e=>V(e).sort(({name:e},{name:t})=>{const a=b.coerce(e),n=b.coerce(t);return a||n?a?n?b.rcompare(a,n):-1:1:e.localeCompare(t)}),U=e=>{const t=F(e);return c.a(t)},G=e=>!u.a(V(e)),{common:M}=O.a.factory,A=[...O.a.getExtensionsActionsForKind(T.ImageStreamModel),...M],K=({imageStream:e,specTag:t,statusTag:a})=>{const i=o.a(e,"status"),s=o.a(a,["items",0]),l=o.a(t,"from"),c="ImageStreamTag"===o.a(t,"from.kind"),u=o.a(s,"image"),m=o.a(s,"created"),p=d.a(e,["metadata","annotations","openshift.io/image.dockerRepositoryCheck"]),{t:g}=Object(r.useTranslation)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4 co-break-word"},n.createElement(D.ResourceLink,{kind:"ImageStreamTag",name:Object(L.b)(e.metadata.name,a.tag),namespace:e.metadata.namespace,title:a.tag,linkTo:!!u})),n.createElement("span",{className:"col-md-3 col-sm-4 col-xs-8 co-break-all"},l&&c&&n.createElement(D.ResourceLink,{kind:"ImageStreamTag",name:l.name,namespace:e.metadata.namespace,title:l.name}),l&&!c&&n.createElement(n.Fragment,null,l.name),!l&&n.createElement("span",{className:"text-muted"},g("public~pushed image"))),n.createElement("span",{className:"col-md-4 col-sm-4 hidden-xs co-break-all"},!i&&p&&n.createElement(n.Fragment,null,n.createElement(B.tc,null)," ",g("public~Unable to resolve")),!i&&!p&&!l&&n.createElement(n.Fragment,null,g("public~Not synced yet")),!i&&!p&&l&&n.createElement(n.Fragment,null,g("public~Unresolved")),i&&u&&n.createElement(n.Fragment,null,u),i&&!u&&n.createElement(n.Fragment,null,n.createElement(B.tc,null)," ",g("public~There is no image associated with this tag"))),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},m&&n.createElement(q.Timestamp,{timestamp:m}),!m&&"-"))},$=({imageStream:e,tag:t})=>{const a=o.a(e,"status.publicDockerImageRepository"),{t:i}=Object(r.useTranslation)();if(!a)return null;const s=`docker push ${a}:${t||"<tag>"}`,l=`docker pull ${a}:${t||"<tag>"}`;return n.createElement(h.a,{headerContent:n.createElement(n.Fragment,null,i("public~Image registry commands")),className:"co-example-docker-command__popover",minWidth:"600px",bodyContent:n.createElement("div",null,n.createElement("p",null,i("public~Create a new ImageStreamTag by pushing an image to this ImageStream with the desired tag.")),n.createElement("br",null),n.createElement("p",null,i("public~Authenticate to the internal registry")),n.createElement(I.a,{value:"oc registry login"}),n.createElement("br",null),n.createElement("p",null,i("public~Push an image to this ImageStream")),n.createElement(I.a,{value:s}),n.createElement("br",null),n.createElement("p",null,i("public~Pull an image from this ImageStream")),n.createElement(I.a,{value:l}),n.createElement("br",null),n.createElement("p",null,n.createElement(r.Trans,{t:i,ns:"public"},"Red Hat Enterprise Linux users may use the equivalent ",n.createElement("strong",null,"podman")," ","commands."," "),n.createElement(C.a,{href:j.p,text:i("public~Learn more.")})))},n.createElement(y.a,{className:"hidden-sm hidden-xs",type:"button",variant:"link"},n.createElement(E.a,{className:"co-icon-space-r"}),i("public~Do you need to work with this ImageStream outside of the web console?")))},H=({obj:e})=>{const{t:t}=Object(r.useTranslation)(),a=o.a(e,"status.dockerImageRepository"),i=o.a(e,"status.publicDockerImageRepository"),l=o.a(e,"status.tags.length"),c=s.a(e.spec.tags,"name"),d=m.a(e.status.tags,(a,n)=>{const r=p.a(n.conditions,e=>"ImportSuccess"===e.type&&"False"===e.status);r&&a.push(t("public~Unable to sync image for tag {{tag}}. {{message}}",{tag:`${e.metadata.name}:${n.tag}`,message:r.message}))});return n.createElement("div",null,n.createElement("div",{className:"co-m-pane__body"},!u.a(d)&&n.createElement(w.a,{variant:k.b.warning,alerts:g.a(d,(e,t)=>n.createElement(n.Fragment,{key:t},e))}),n.createElement(R.c,{text:t("public~ImageStream details")}),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement(N.b,{resource:e},a&&n.createElement("dt",null,t("public~Image repository")),a&&n.createElement("dd",null,a),i&&n.createElement("dt",null,t("public~Public image repository")),i&&n.createElement("dd",null,i),n.createElement("dt",null,t("public~Image count")),n.createElement("dd",null,l||0)),n.createElement($,{imageStream:e})))),n.createElement("div",{className:"co-m-pane__body"},n.createElement(R.c,{text:t("public~Tags")}),u.a(e.status.tags)?n.createElement("span",{className:"text-muted"},t("public~No tags")):n.createElement("div",{className:"row"},n.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},n.createElement("div",{className:"row co-m-table-grid__head"},n.createElement("div",{className:"col-md-2 col-sm-4 col-xs-4"},t("public~Name")),n.createElement("div",{className:"col-md-3 col-sm-4 col-xs-8"},t("public~From")),n.createElement("div",{className:"col-md-4 col-sm-4 hidden-xs"},t("public~Identifier")),n.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},t("public~Last updated"))),n.createElement("div",{className:"co-m-table-grid__body"},g.a(e.status.tags,t=>n.createElement(K,{key:t.tag,imageStream:e,specTag:c[t.tag],statusTag:t})))))))},z=({obj:e})=>{const t=o.a(e,"status.tags");return n.createElement(L.a,{imageStreamTags:t,imageStreamName:e.metadata.name,imageStreamNamespace:e.metadata.namespace})};z.displayName="ImageStreamHistory";const W=[x.navFactory.details(H),x.navFactory.editYaml(),x.navFactory.history(z)],Y=e=>n.createElement(S.a,Object.assign({},e,{kind:"ImageStream",menuActions:A,pages:W}));Y.displayName="ImageStreamsDetailsPage";const X=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg",O.a.columnClass],J=({obj:e})=>n.createElement(n.Fragment,null,n.createElement(S.k,{className:X[0]},n.createElement(D.ResourceLink,{kind:"ImageStream",name:e.metadata.name,namespace:e.metadata.namespace})),n.createElement(S.k,{className:v(X[1],"co-break-word"),columnID:"namespace"},n.createElement(D.ResourceLink,{kind:"Namespace",name:e.metadata.namespace})),n.createElement(S.k,{className:X[2]},n.createElement(P.a,{kind:"ImageStream",labels:e.metadata.labels})),n.createElement(S.k,{className:X[3]},n.createElement(q.Timestamp,{timestamp:e.metadata.creationTimestamp})),n.createElement(S.k,{className:X[4]},n.createElement(O.d,{actions:A,kind:"ImageStream",resource:e}))),Z=e=>{const{t:t}=Object(r.useTranslation)(),a=()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[f.a],props:{className:X[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[f.a],props:{className:X[1]},id:"namespace"},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[f.a],props:{className:X[2]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[f.a],props:{className:X[3]}},{title:"",props:{className:X[4]}}];return a.displayName="ImageStreamsTableHeader",n.createElement(S.j,Object.assign({},e,{"aria-label":t("public~ImageStreams"),Header:a,Row:J,virtualize:!0}))};Z.displayName="ImageStreamsList";const Q=e=>e.status.phase,ee=e=>{const{t:t}=Object(r.useTranslation)();return n.createElement(S.c,Object.assign({},e,{title:t("public~ImageStreams"),kind:"ImageStream",ListComponent:Z,canCreate:!0}))};ee.displayName="ImageStreamsListPage"},5445:function(e,t,a){"use strict";a.r(t);var n=a(8031);a.d(t,"BuildConfigFormPage",(function(){return n.a}))},5586:function(e,t,a){"use strict";a.r(t);var n=a(5622);a.d(t,"PipelineModel",(function(){return n.f})),a.d(t,"PipelineModelV1Beta1",(function(){return n.g})),a.d(t,"PipelineRunModel",(function(){return n.i})),a.d(t,"PipelineRunModelV1Beta1",(function(){return n.j})),a.d(t,"TaskModel",(function(){return n.l})),a.d(t,"TaskModelV1Beta1",(function(){return n.m})),a.d(t,"TaskRunModel",(function(){return n.n})),a.d(t,"TaskRunModelV1Beta1",(function(){return n.o})),a.d(t,"CustomRunModelV1Beta1",(function(){return n.d})),a.d(t,"PipelineResourceModel",(function(){return n.h})),a.d(t,"ClusterTaskModel",(function(){return n.a})),a.d(t,"ConditionModel",(function(){return n.c})),a.d(t,"TriggerBindingModel",(function(){return n.s})),a.d(t,"ClusterTriggerBindingModel",(function(){return n.b})),a.d(t,"TriggerTemplateModel",(function(){return n.t})),a.d(t,"EventListenerModel",(function(){return n.e})),a.d(t,"RepositoryModel",(function(){return n.k})),a.d(t,"TektonConfigModel",(function(){return n.p})),a.d(t,"TektonHubModel",(function(){return n.q})),a.d(t,"TektonResultModel",(function(){return n.r}))},5588:function(e,t,a){"use strict";var n,r,o,i,s,l,c,u,d;a.d(t,"r",(function(){return n})),a.d(t,"q",(function(){return r})),a.d(t,"v",(function(){return o})),a.d(t,"t",(function(){return i})),a.d(t,"w",(function(){return s})),a.d(t,"u",(function(){return l})),a.d(t,"o",(function(){return c})),a.d(t,"x",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"s",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"l",(function(){return b})),a.d(t,"k",(function(){return v})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return y})),a.d(t,"z",(function(){return k})),a.d(t,"y",(function(){return E})),a.d(t,"j",(function(){return T})),a.d(t,"g",(function(){return S})),a.d(t,"h",(function(){return j})),a.d(t,"n",(function(){return I})),a.d(t,"f",(function(){return w})),a.d(t,"d",(function(){return C})),a.d(t,"e",(function(){return O})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(n||(n={})),function(e){e.user="pipeline.openshift.io/started-by"}(r||(r={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(o||(o={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(i||(i={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(s||(s={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const m="1.4.0",p="1.6.0",g="1.5.2",b="pipeline",v="bridge/pipeline-run-auto-start-failed",f=275,h=375,y=60,k="pipeline.openshift.io/preferredName",E="chains.tekton.dev/signed",T="openshift-pipelines",S="openshift",j="config";var I;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(I||(I={}));const w="FLAG_TEKTON_V1_ENABLED",C="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",O="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5618:function(e,t,a){"use strict";var n=a(0),r=a(297),o=a(18),i=a.n(o);a(5732);const s={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};t.a=({title:e,subTitle:t,fullWidth:a,children:o,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>n.createElement("div",{className:i()("pf-v5-c-form",{"co-m-pane__form":!a,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?s:{}),d||{}),"data-test":u},e&&n.createElement("h2",{className:"odc-form-section__heading"},e),t&&n.createElement(r.a,null,t),o)},5620:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(n||(n={}))},5621:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"l",(function(){return g})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"m",(function(){return f})),a.d(t,"o",(function(){return h})),a.d(t,"n",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"h",(function(){return E})),a.d(t,"g",(function(){return T})),a.d(t,"e",(function(){return S})),a.d(t,"d",(function(){return j})),a.d(t,"b",(function(){return I})),a.d(t,"j",(function(){return w})),a.d(t,"i",(function(){return C}));var n=a(4413),r=a(689),o=a(5),i=a(5620),s=a(2221),l=a(5624),c=a(5599),u=a(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,m=/^\/.*$/,p=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,g=r.object().shape({name:r.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),b=r.object().shape({selectedKey:r.string(),name:r.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:s.b,then:r.string().required("Required")})}),v=e=>r.object().shape({replicas:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),f=r.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),h=e=>r.object().when("resources",{is:c.k.KnativeService,then:r.object().shape({scaling:r.object({minpods:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:r.number().transform(e=>n.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:r.object().shape({autoscalewindow:r.number().transform(e=>n.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,a=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return a>=6&&a<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:r.array().of(r.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),y=e=>r.object().shape({secure:r.boolean(),tls:r.object().when("secure",{is:!0,then:r.object({termination:r.string().required(e("devconsole~Please select a termination type."))})}),hostname:r.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:r.string().matches(m,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:r.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),k=e=>r.object().shape({cpu:r.object().shape({request:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(o.Ib)(`${e}${t}`)<=Object(o.Ib)(`${a}${n}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(o.Ib)(`${e}${n}`)>=Object(o.Ib)(`${t}${a}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:r.object().shape({request:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:a,limitUnit:n}=this.parent;return void 0===a||Object(o.Ib)(`${e}${t}`)<=Object(o.Ib)(`${a}${n}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be Mi or Gi.")),limit:r.number().transform(e=>n.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:a,limitUnit:n}=this.parent;return void 0===e||Object(o.Ib)(`${t}${a}`)<=Object(o.Ib)(`${e}${n}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:r.string(e("devconsole~Unit must be Mi or Gi."))})}),E=e=>r.object().when("build",{is:e=>"Source"===e.strategy,then:r.object().shape({selected:r.string().required(e("devconsole~Required")),tag:r.string().required(e("devconsole~Required"))})}),T=e=>r.object().shape({url:r.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(p,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:r.string().when("showGitType",{is:!0,then:r.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:r.boolean()}),S=e=>r.object().when("build",{is:e=>"Docker"===e.strategy,then:r.object().shape({containerPort:r.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:r.string().required(e("devconsole~Required"))})}),j=e=>r.object().when("build",{is:e=>"Devfile"===e.strategy,then:r.object().shape({devfilePath:r.string().required(e("devconsole~Required")),devfileContent:r.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:r.boolean().oneOf([!1]),devfileSuggestedResources:r.object().required(e("devconsole~Required"))})}),I=r.object().shape({strategy:r.string()}),w=e=>r.object().shape({name:r.string().required(e("devconsole~Required")),image:r.object().required(e("devconsole~Required")),tag:r.string(),status:r.string().required(e("devconsole~Required"))}),C=r.object().when(["enabled","build.option","type"],{is:(e,t,a)=>(e||t===c.a.PIPELINES)&&a!==i.a.PAC,then:r.object().shape({templateSelected:r.string().required()})})},5622:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"j",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return d})),a.d(t,"o",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"s",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"t",(function(){return y})),a.d(t,"e",(function(){return k})),a.d(t,"k",(function(){return E})),a.d(t,"p",(function(){return T})),a.d(t,"q",(function(){return S})),a.d(t,"r",(function(){return j}));var n=a(5654);const r=n.chart_color_green_400.value,o={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},i={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},s={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:r},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:r},b={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:r},v={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:r},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:r},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:r},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:r},k={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:r},E={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:r},T={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},S={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5624:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const n=e=>({test:e=>null==e||Number.isInteger(e),message:e}),r=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5648:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return p}));var n,r,o,i=a(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(n||(n={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(r||(r={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(o||(o={}));const s={[n.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[n.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[n.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[n.SHA]:"pipelinesascode.tekton.dev/sha",[n.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[r.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[r.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[r.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[r.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:i.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[i.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[i.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[i.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},m={[i.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[i.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[i.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},p=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return g}));var n=a(2338),r=a(689),o=a(5591),i=a(5653),s=a(15),l=a(5655),c=a(5621);const u=e=>r.object().shape({name:Object(s.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(i.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),m=e=>c.f.test(e)?d(e,"github.com")?o.b.GITHUB:d(e,"bitbucket.org")?o.b.BITBUCKET:d(e,"gitlab.com")?o.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?o.b.GITEA:o.b.UNSURE:o.b.INVALID,p=e=>{if(s.Yd.test(e))return e;const t=n.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},g=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return p(t)}},5651:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(8),r=a(1402);const o=e=>{const[t,a]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:a||"s",defaultAutoscalewindowUnit:a||"s"}},i=/ *\([^)]*\) */g,s=e=>e.replace(i,""),l=(e,t)=>{var a;if(!(null===(a=e.spec)||void 0===a?void 0:a.ref))return null;const{apiVersion:o,kind:i,name:s}=e.spec.ref;return Object(n.n)(r.l)===o&&i===r.l.kind&&s!==t?s:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(s(e)))).map(e=>s(e)))],u=e=>e.some(e=>new RegExp(i).test(e)),d=(e,t=[],a)=>e.filter(e=>u([e])).map(e=>{var n,r;const o=null==t?void 0:t.find(t=>t.metadata.name===s(e));return o&&(null===(r=null===(n=o.spec)||void 0===n?void 0:n.ref)||void 0===r?void 0:r.name)!==a?o:null}).filter(e=>!!e)},5653:function(e,t,a){"use strict";a.d(t,"g",(function(){return E})),a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return I})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return C})),a.d(t,"f",(function(){return O})),a.d(t,"d",(function(){return R}));var n=a(5596),r=a(320),o=a(2338),i=a(689),s=a(5621),l=a(5624),c=a(77),u=a(5591),d=a(4359),m=a(10),p=a(15),g=a(5586),b=a(5620),v=a(5656),f=a(5588),h=a(5648),y=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};const k={dryRun:"All"},E=e=>i.object().shape({name:i.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:i.string().matches(s.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:i.string(),webhook:i.object().when("gitProvider",{is:u.b.BITBUCKET,then:i.object().shape({user:i.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:i.object().shape({token:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),T=e=>i.object().shape({webhook:i.object().when("gitProvider",{is:u.b.BITBUCKET,then:i.object().shape({user:i.string().matches(p.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,a)=>a&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:i.object().shape({token:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:i.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),S=e=>i.object().shape({repository:i.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===b.a.PAC&&t,then:T(e)})}),j=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),I=e=>s.f.test(e)?j(e,"github.com")?u.b.GITHUB:j(e,"bitbucket.org")?u.b.BITBUCKET:j(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,w=(e,t,a={},o)=>y(void 0,void 0,void 0,(function*(){var i,s,l;const{name:p,gitUrl:b,webhook:{secretObj:v,method:f,token:E,secret:T,user:S}}=e,j=r.Base64.encode(T),w=I(b);let C;E&&"token"===f?C=yield((e,t,a,n,o,i,s)=>y(void 0,void 0,void 0,(function*(){const l={apiVersion:m.SecretModel.apiVersion,kind:m.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:n},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":a},i&&{"webhook.secret":i}),o===u.b.BITBUCKET&&{"webhook.auth":r.Base64.encode(`${t}:${a}`)})};return Object(c.g)({model:m.SecretModel,data:l,ns:n,queryParams:s?k:{}})})))(p,S,E,t,w,T,o):"secret"===f&&v&&(null===(i=null==v?void 0:v.data)||void 0===i?void 0:i["webhook.secret"])!==j&&(yield Object(c.p)({model:m.SecretModel,resource:v,data:[{op:"replace",path:"/data/webhook.secret",value:r.Base64.encode(T)}]}));const O=n(b).source,R=C||v,P={kind:g.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:p,namespace:t},a||{}),spec:Object.assign({url:b},R||"github.com"!==O?{git_provider:Object.assign(Object.assign(Object.assign({},h.j.includes(O)?{}:{url:O}),"bitbucket.org"===O?{user:S}:{}),R?{secret:{name:null===(s=null==R?void 0:R.metadata)||void 0===s?void 0:s.name,key:"provider.token"},webhook_secret:{name:null===(l=null==R?void 0:R.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:g.RepositoryModel,data:P,ns:t,queryParams:o?k:{}})})),C=(e,t,a)=>y(void 0,void 0,void 0,(function*(){var n,o,i;const{gitUrl:s,webhook:{method:l,token:c,secret:d,url:m,secretObj:p,user:g}}=e,b=I(s),v=Object(u.e)(s,b);let f,h=!0;a&&"false"===(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n["webhook-ssl-verification"])&&(h=!1),f=b===u.b.BITBUCKET?"token"===l?r.Base64.encode(`${g}:${c}`):r.Base64.decode(null===(o=null==p?void 0:p.data)||void 0===o?void 0:o["webhook.auth"]):"token"===l?c:r.Base64.decode(null===(i=null==p?void 0:p.data)||void 0===i?void 0:i["provider.token"]);return yield v.createRepoWebhook(f,m,h,d)})),O=e=>{if(!s.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return a=t,p.Yd.test(a)?"git-"+a:"git-"+o.a(a);var a},R=(e,t)=>y(void 0,void 0,void 0,(function*(){var a;let n;try{const[t]=yield Object(c.n)({model:m.ConfigMapModel,queryParams:{ns:f.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":h.g[e]||e}}}});n=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=n?n:yield(e=>y(void 0,void 0,void 0,(function*(){var t;let a=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:m.ConfigMapModel,ns:f.g,name:v.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(a=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return a})))(t)}))},5655:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(689);const r=/^\/.*$/,o=e=>n.object().shape({containerName:n.string(),showForm:n.boolean(),enabled:n.boolean(),modified:n.boolean(),data:n.object().when("showForm",{is:!0,then:n.object().shape({periodSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:n.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:n.string(),httpGet:n.object().when("requestType",{is:"httpGet",then:n.object({path:n.string().matches(r,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:n.number().required(e("devconsole~Required"))})}),tcpSocket:n.object().when("requestType",{is:"tcpSocket",then:n.object({port:n.number().required(e("devconsole~Required"))})}),exec:n.object().when("requestType",{is:"command",then:n.object({command:n.array().of(n.string().required(e("devconsole~Required")))})})})})}),i=e=>n.object().shape({readinessProbe:o(e),livenessProbe:o(e),startupProbe:o(e)})},5656:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u}));const n="https://github.com/settings/apps/new",r="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",o="https://api.github.com/app-manifests",i="pipelines-as-code-interceptor",s="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5673:function(e,t,a){"use strict";a.d(t,"m",(function(){return g})),a.d(t,"i",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"n",(function(){return y})),a.d(t,"p",(function(){return k})),a.d(t,"o",(function(){return E})),a.d(t,"k",(function(){return T})),a.d(t,"j",(function(){return S})),a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return I})),a.d(t,"l",(function(){return w})),a.d(t,"d",(function(){return C})),a.d(t,"f",(function(){return O})),a.d(t,"c",(function(){return R}));var n=a(255),r=a(745),o=a(117),i=a(384),s=a(1533),l=a(70),c=a(22),u=a(283),d=a(1401),m=a(4362),p=a(10);const g=["app.kubernetes.io/name","app.openshift.io/runtime"],b=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRepo)&&void 0!==a?a:""},v=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleRef)&&void 0!==a?a:""},f=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.annotations)||void 0===t?void 0:t.sampleContextDir)&&void 0!==a?a:""},h=e=>{var t,a,o,i,s,l;return(e=>n.a(e,(e,t,a)=>{const n=a.split("/");1===n.length&&n.push("tcp");const o=parseInt(n[0],10);return r.a(o)?e.push({containerPort:o,protocol:n[1].toUpperCase()}):console.warn("Unrecognized image port format",a),e},[]))((null===(o=null===(a=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dockerImageMetadata)||void 0===a?void 0:a.Config)||void 0===o?void 0:o.ExposedPorts)||(null===(l=null===(s=null===(i=null==e?void 0:e.image)||void 0===i?void 0:i.dockerImageMetadata)||void 0===s?void 0:s.ContainerConfig)||void 0===l?void 0:l.ExposedPorts))},y=e=>`${e.containerPort}-${e.protocol}`.toLowerCase(),k=e=>e.replace(/(-|^)([^-]?)/g,(e,t,a)=>(t&&" ")+a.toUpperCase()),E=e=>(Array.isArray(e)?e:[e]).filter(e=>Object(m.isBuilder)(e)).reduce((e,t)=>{var a,n,r;const o=Object(m.getBuilderTagsSortedByVersion)(t),i=Object(m.getMostRecentBuilderTag)(t),{name:s}=t.metadata,l=null===(n=null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.annotations)||void 0===n?void 0:n["openshift.io/display-name"],c=null===(r=null==i?void 0:i.annotations)||void 0===r?void 0:r.description,u=t.metadata.namespace,p=l&&l.length<14?l:k(s),g=Object(d.e)(i),b=Object(d.d)(g);return e[s]={obj:t,name:s,displayName:l,description:c,title:p,iconUrl:b,tags:o,recentTag:i,imageStreamNamespace:u},e},{}),T=(e,t,a)=>{var n,r;const i=o.a(e,{name:t});return[i,null!==(r=null===(n=null==i?void 0:i.annotations)||void 0===n?void 0:n["openshift.io/display-name"])&&void 0!==r?r:a]},S=e=>{if(!e)return;const t=i.a(e.split("/"));return s.a(t.split(/[^a-z0-9-]/))};var j,I;!function(e){e.External="external",e.Internal="internal"}(j||(j={})),function(e){e.Openshift="openshift"}(I||(I={}));const w=e=>({External:{value:j.External,label:e("devconsole~Image name from external registry")},Internal:{value:j.Internal,label:e("devconsole~Image stream tag from internal registry")}}),C=e=>(e&&!c.a(e)?(e=>l.a(e.status.tags)&&e.status.tags.length?e.status.tags.sort(({tag:e},{tag:t})=>{const a=u.coerce(e),n=u.coerce(t);return a||n?a?n?u.rcompare(a,n):-1:1:e.localeCompare(t)}):[])(e):[]).reduce((e,{tag:t})=>(e[t]=t,e),{}),O=()=>[{isList:!0,kind:p.ProjectModel.kind,prop:p.ProjectModel.id}],R=e=>{const t=[];return e&&t.push({isList:!0,kind:p.ImageStreamModel.kind,prop:p.ImageStreamModel.id,namespace:e}),t}},5732:function(e,t,a){},5778:function(e,t,a){"use strict";var n=a(0);t.a=({style:e,topology:t})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t?"0 20 650 587":"0 20 650 450",fill:"currentColor","aria-hidden":"true",role:"img",width:"1em",height:"1em",style:e},n.createElement("path",{d:"m395.9 484.2-126.9-61c-12.5-6-17.9-21.2-11.8-33.8l61-126.9c6-12.5 21.2-17.9 33.8-11.8 17.2 8.3 27.1 13 27.1 13l-.1-109.2 16.7-.1.1 117.1s57.4 24.2 83.1 40.1c3.7 2.3 10.2 6.8 12.9 14.4 2.1 6.1 2 13.1-1 19.3l-61 126.9c-6.2 12.7-21.4 18.1-33.9 12z",style:{fill:"#fff"}}),n.createElement("path",{d:"M622.7 149.8c-4.1-4.1-9.6-4-9.6-4s-117.2 6.6-177.9 8c-13.3.3-26.5.6-39.6.7v117.2c-5.5-2.6-11.1-5.3-16.6-7.9 0-36.4-.1-109.2-.1-109.2-29 .4-89.2-2.2-89.2-2.2s-141.4-7.1-156.8-8.5c-9.8-.6-22.5-2.1-39 1.5-8.7 1.8-33.5 7.4-53.8 26.9C-4.9 212.4 6.6 276.2 8 285.8c1.7 11.7 6.9 44.2 31.7 72.5 45.8 56.1 144.4 54.8 144.4 54.8s12.1 28.9 30.6 55.5c25 33.1 50.7 58.9 75.7 62 63 0 188.9-.1 188.9-.1s12 .1 28.3-10.3c14-8.5 26.5-23.4 26.5-23.4S547 483 565 451.5c5.5-9.7 10.1-19.1 14.1-28 0 0 55.2-117.1 55.2-231.1-1.1-34.5-9.6-40.6-11.6-42.6zM125.6 353.9c-25.9-8.5-36.9-18.7-36.9-18.7S69.6 321.8 60 295.4c-16.5-44.2-1.4-71.2-1.4-71.2s8.4-22.5 38.5-30c13.8-3.7 31-3.1 31-3.1s7.1 59.4 15.7 94.2c7.2 29.2 24.8 77.7 24.8 77.7s-26.1-3.1-43-9.1zm300.3 107.6s-6.1 14.5-19.6 15.4c-5.8.4-10.3-1.2-10.3-1.2s-.3-.1-5.3-2.1l-112.9-55s-10.9-5.7-12.8-15.6c-2.2-8.1 2.7-18.1 2.7-18.1L322 273s4.8-9.7 12.2-13c.6-.3 2.3-1 4.5-1.5 8.1-2.1 18 2.8 18 2.8L467.4 315s12.6 5.7 15.3 16.2c1.9 7.4-.5 14-1.8 17.2-6.3 15.4-55 113.1-55 113.1z",style:{fill:"currentColor"}}),n.createElement("path",{d:"M326.8 380.1c-8.2.1-15.4 5.8-17.3 13.8-1.9 8 2 16.3 9.1 20 7.7 4 17.5 1.8 22.7-5.4 5.1-7.1 4.3-16.9-1.8-23.1l24-49.1c1.5.1 3.7.2 6.2-.5 4.1-.9 7.1-3.6 7.1-3.6 4.2 1.8 8.6 3.8 13.2 6.1 4.8 2.4 9.3 4.9 13.4 7.3.9.5 1.8 1.1 2.8 1.9 1.6 1.3 3.4 3.1 4.7 5.5 1.9 5.5-1.9 14.9-1.9 14.9-2.3 7.6-18.4 40.6-18.4 40.6-8.1-.2-15.3 5-17.7 12.5-2.6 8.1 1.1 17.3 8.9 21.3 7.8 4 17.4 1.7 22.5-5.3 5-6.8 4.6-16.3-1.1-22.6 1.9-3.7 3.7-7.4 5.6-11.3 5-10.4 13.5-30.4 13.5-30.4.9-1.7 5.7-10.3 2.7-21.3-2.5-11.4-12.6-16.7-12.6-16.7-12.2-7.9-29.2-15.2-29.2-15.2s0-4.1-1.1-7.1c-1.1-3.1-2.8-5.1-3.9-6.3 4.7-9.7 9.4-19.3 14.1-29-4.1-2-8.1-4-12.2-6.1-4.8 9.8-9.7 19.7-14.5 29.5-6.7-.1-12.9 3.5-16.1 9.4-3.4 6.3-2.7 14.1 1.9 19.8l-24.6 50.4z",style:{fill:"currentColor"}}))},5781:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return y}));var n=a(0),r=a(4436),o=a(655),i=a(313),s=a(367),l=a(50),c=a(599),u=a(5797),d=a(5804),m=a(7),p=a(99),g=a(693),b=a(139);const v=(e,t)=>`${e}:${t}`,f=({tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:o})=>{const i=r.a(e.dockerImageReference,"@");return n.createElement(n.Fragment,null,n.createElement("li",null,n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__circle-icon"},n.createElement(u.a,null)),n.createElement("div",{className:"co-images-stream-tag-timeline__timestamp"},n.createElement(g.Timestamp,{timestamp:e.created,simple:!0}))),n.createElement("div",{className:"co-images-stream-tag-timeline__item-row"},n.createElement("span",{className:"co-images-stream-tag-timeline__line"}),n.createElement("div",{className:"co-images-stream-tag-timeline__info"},n.createElement(p.ResourceLink,{kind:"ImageStreamTag",name:v(t,e.tag),namespace:a,title:e.tag,linkTo:o}),n.createElement("div",{className:"co-break-all"},"from ",i[0]),n.createElement("div",{className:"co-break-all"},i[1])))))},h=(e,t,a)=>t===o.a(a,t=>t.tag===e),y=({imageStreamTags:e,imageStreamName:t,imageStreamNamespace:a})=>{const{t:r}=Object(m.useTranslation)();if(!i.a(e,"items"))return n.createElement(b.c,{label:r("public~Images")});const o=s.a(l.a(e,({tag:e,items:t})=>l.a(t,({created:t,dockerImageReference:a})=>({tag:e,created:t,dockerImageReference:a})))),u=c.a(o,["created"],["desc"]),p=l.a(u,(e,r)=>n.createElement(f,{key:e.dockerImageReference,tag:e,imageStreamName:t,imageStreamNamespace:a,linkToTag:h(e.tag,r,u)}));return n.createElement(n.Fragment,null,n.createElement("ul",{className:"co-images-stream-tag-timeline"},p,n.createElement("div",null,n.createElement("span",{className:"co-images-stream-tag-timeline__square-icon"},n.createElement(d.a,null)))))}},5842:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);const r=n.createContext(void 0)},5900:function(e,t,a){"use strict";function n(e){var t,a;return"GitImport"===(null==e?void 0:e.type)&&!!(null===(a=null===(t=e.gitImport)||void 0===t?void 0:t.repository)||void 0===a?void 0:a.url)}function r(e){var t;return"ContainerImport"===(null==e?void 0:e.type)&&!!(null===(t=e.containerImport)||void 0===t?void 0:t.image)}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}))},5911:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"e",(function(){return b}));var n=a(83),r=a(77),o=a(108),i=a(6027),s=a(5900);const l=(e,t)=>{if(Object(s.b)(e.spec.source)){const{gitImport:a}=e.spec.source,n=new URLSearchParams;return n.set("formType","sample"),n.set("sample",e.metadata.name),n.set("git.repository",a.repository.url),a.repository.revision&&n.set("git.revision",a.repository.revision),a.repository.contextDir&&n.set("git.contextDir",a.repository.contextDir),`/import/ns/${t}?${n}`}if(Object(s.a)(e.spec.source)){const{containerImport:a}=e.spec.source,n=new URLSearchParams;return n.set("sample",e.metadata.name),n.set("image",a.image),`/deploy-image/ns/${t}?${n}`}return null},c=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),repository:{url:e.get("git.repository"),revision:e.get("git.revision"),contextDir:e.get("git.contextDir")}}},u=()=>{const e=new URLSearchParams(window.location.search);return{sampleName:e.get("sample"),image:e.get("image")}},d=()=>!!new URLSearchParams(window.location.search).get("sample"),m=e=>e.reduce((e,t)=>{var a;const n=(null===(a=t.metadata.labels)||void 0===a?void 0:a["console.openshift.io/name"])||t.metadata.name;return e[n]||(e[n]=[]),e[n].push(t),e},{}),p=(e,t)=>{var a,n,r,o;if(!e||!e.length)return null;const i=(t||"en").split("-")[0].toLowerCase(),s=((t||"").split("-")[1]||"").toUpperCase();let l=null,c=null,u=null,d=null,m=null;for(const t of e){const e=((null===(n=null===(a=t.metadata)||void 0===a?void 0:a.labels)||void 0===n?void 0:n["console.openshift.io/lang"])||"en").toLowerCase(),p=((null===(o=null===(r=t.metadata)||void 0===r?void 0:r.labels)||void 0===o?void 0:o["console.openshift.io/country"])||"").toUpperCase();if(e===i&&p===s)return t;e===i&&(p||l?p&&!c&&(c=t):l=t),"en"===e&&(p!==s||u?p||d?m||(m=t):d=t:u=t)}return l||c||u||d||m},g=()=>Object(o.a)({isList:!0,groupVersionKind:Object(n.getGroupVersionKindForModel)(i.a)}),b=e=>Object(r.j)({model:i.a,name:e})},5961:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(118),o=a(4359);const i=({close:e,namespace:t,save:a,secretType:r})=>n.createElement(o.SecretFormWrapper,{onCancel:e,onSave:t=>{e(),a(t)},fixed:{metadata:{namespace:t}},secretTypeAbstraction:r,isCreate:!0,modal:!0}),s=Object(r.f)(i)},5962:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(1416),r=a(380);const o=e=>{const t=new Blob([e],{type:"text/yaml;charset=utf-8"});let a="k8s-object.yaml";try{const t=Object(r.safeLoad)(e);t.kind&&(a=`${t.kind.toLowerCase()}-${t.metadata.name}.yaml`)}catch(e){console.error("Could not parse YAML file:",e)}Object(n.saveAs)(t,a)}},6027:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={kind:"ConsoleSample",label:"ConsoleSample",labelPlural:"ConsoleSamples",apiGroup:"console.openshift.io",apiVersion:"v1",abbr:"CS",namespaced:!1,crd:!0,plural:"consolesamples",propagationPolicy:"Background"}},6107:function(e,t,a){"use strict";var n=a(0),r=a(87),o=a(281),i=a(80),s=a(55),l=a(22),c=a(16),u=a(7),d=a(13),m=a(5591),p=a(5633),g=a(53),b=a(974),v=a(1402),f=a(15),h=a(2221),y=a(5900),k=a(5673),E=a(5911),T=a(5649),S=a(5618),j=a(6148),I=a(6151),w=a(6153),C=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};t.a=({title:e,formContextField:t,builderImages:a,defaultSample:O,showSample:R=!!O,formType:P,importType:x,imageStreamName:D,autoFocus:N=!0})=>{const{t:q}=Object(u.useTranslation)(),L=n.useRef(),{dirty:B,isSubmitting:_,values:V,touched:F,errors:U,status:G,setFieldValue:M,setFieldTouched:A}=Object(s.f)(),K=Object(f.Fe)(v.c),[$,H]=Object(d.hc)({group:v.l.apiGroup,resource:v.l.plural,namespace:Object(g.c)(),verb:"create"}),z=t?t+".":"",W=n.useCallback((e,t,a)=>{M(`${z}${e}`,t,a)},[z,M]),Y=n.useCallback((e,t,a)=>{A(`${z}${e}`,t,a)},[z,A]),X=t?c.a(V,t):V,J=t?c.a(F,t,{}):F,Z=t?c.a(U,t,{}):U,Q=c.a(V,"formReloadCount"),{url:ee,dir:te,ref:ae}=O||{},ne=n.useMemo(()=>ee?{annotations:{sampleRepo:ee,sampleContextDir:null!=te?te:"./",sampleRef:null!=ae?ae:""}}:null,[ee,te,ae]),re=Object(l.a)(X.image.tagObj)?ne:X.image.tagObj,oe=R&&Object(k.i)(re),{name:ie,application:{name:se}={},image:{selected:le}={},git:{dir:ce,type:ue}={}}=J,{git:{url:de}={}}=Z,[me,pe]=n.useState(r.d.default),[ge,be]=n.useState(),ve=n.useCallback(e=>C(void 0,void 0,void 0,(function*(){if(W("image.isRecommending",!1),de)return W("image.recommended",""),void W("image.couldNotRecommend",!0);const t=a&&(null==e?void 0:e.find(({type:e})=>e&&a.hasOwnProperty(e)));t&&t.type?(W("image.couldNotRecommend",!1),W("image.recommended",t.type)):(W("image.couldNotRecommend",!0),W("image.recommended",""))})),[a,de,W]),fe=n.useCallback((e,t)=>C(void 0,void 0,void 0,(function*(){var a;if(de)return W("devfile.devfileContent",null),void W("devfile.devfileHasError",!0);if("devfile"!==x&&!(null===(a=X.devfile)||void 0===a?void 0:a.devfileSourceUrl)){W("devfile.devfilePath",e),W("docker.dockerfilePath","Dockerfile");const a=Object(m.e)(X.git.url,t,X.git.ref,X.git.dir,X.git.secretResource,e),n=a&&(yield a.getDevfileContent());n?(W("devfile.devfileContent",n),W("devfile.devfileHasError",!1)):(W("devfile.devfileContent",null),W("devfile.devfileHasError",!0))}})),[de,x,W,X.devfile,X.git.dir,X.git.ref,X.git.secretResource,X.git.url]),he=n.useCallback((e,t,n)=>C(void 0,void 0,void 0,(function*(){var o,i,s,l;if(K&&H)return;if(_||(null==G?void 0:G.submitError))return;if(pe(r.d.default),W("git.validated",r.d.default),W("git.isUrlValidating",!0),de)return W("git.showGitType",!1),Y("git.type",!1),void W("git.isUrlValidating",!1);const c=Object(T.c)(e),u=c===m.b.UNSURE,d="sample"!==P&&Object(T.b)(e);c!==X.git.detectedType&&W("git.detectedType",c),u&&!X.git.showGitType&&W("git.showGitType",!0),!u&&X.git.showGitType&&W("git.showGitType",!1);const g=u&&X.git.showGitType?X.git.type:c;g!==X.git.type&&(Y("git.type",!1,!1),W("git.type",g));const f=Object(m.e)(e,g,t,n,X.git.secretResource,null===(o=X.devfile)||void 0===o?void 0:o.devfilePath,null===(i=X.docker)||void 0===i?void 0:i.dockerfilePath),y=yield Object(p.a)(e,f,K&&$),{loaded:k,loadError:E,repositoryStatus:S,strategies:j}=y;if(be(S),S!==m.d.Reachable)return pe(r.d.warning),W("git.validated",r.d.warning),W("git.isUrlValidating",!1),W("import",{loaded:!1,loadError:null,strategies:[],selectedStrategy:{name:"Builder Image",type:m.c.S2I,priority:0,detectedFiles:[]},recommendedStrategy:null,showEditImportStrategy:!0}),void W("build.strategy",b.BuildStrategyType.Source);if(d&&!ie&&!X.name&&W("name",d),d&&"edit"!==X.formType&&!X.application.name&&X.application.selectedKey!==h.z&&W("application.name",d+"-app"),"devfile"===x||D||"edit"===X.formType)return pe(r.d.success),W("git.validated",r.d.success),W("git.isUrlValidating",!1),"devfile"===x&&W("build.strategy",b.BuildStrategyType.Devfile),"devfile"===x&&!(null===(s=X.devfile)||void 0===s?void 0:s.devfileContent)&&W("import.recommendedStrategy",j[0]),void("edit"===X.formType&&X.build.strategy===b.BuildStrategyType.Source&&ve(null===(l=null==j?void 0:j.find(e=>e.type===m.c.S2I))||void 0===l?void 0:l.detectedCustomData));if(W("import.loaded",k),W("import.loadError",E),W("import.strategies",j),j.length>0?(W("import.showEditImportStrategy",!1),W("import.selectedStrategy",j[0]),W("import.recommendedStrategy",j[0])):(W("import.selectedStrategy",{name:"Devfile",type:m.c.DEVFILE,priority:2,detectedFiles:[]}),W("import.recommendedStrategy",null),W("import.showEditImportStrategy",!0)),W("import.strategyChanged",!1),j.length>0)switch(j[0].type){case m.c.S2I:W("build.strategy",b.BuildStrategyType.Source),a&&(W("image.isRecommending",!0),ve(j[0].detectedCustomData));break;case m.c.DEVFILE:W("build.strategy",b.BuildStrategyType.Devfile),fe(j[0].detectedFiles[0],g);break;case m.c.DOCKERFILE:W("build.strategy",b.BuildStrategyType.Docker),W("docker.dockerfilePath",j[0].detectedFiles[0]),W("docker.dockerfileHasError",!1);break;case m.c.SERVERLESS_FUNCTION:W("build.strategy",v.k.ServerlessFunction)}pe(r.d.success),W("git.validated",r.d.success),W("git.isUrlValidating",!1)})),[_,G,W,de,P,X.git.detectedType,X.git.showGitType,X.git.type,X.git.secretResource,X.devfile,X.docker,X.name,X.formType,X.application.name,X.application.selectedKey,X.build.strategy,K,$,H,ie,x,D,Y,ve,a,fe]),ye=Object(f.Ce)(he),ke=n.useCallback(()=>{if(K&&H)return;const e=oe,t=Object(k.h)(re),a=Object(k.g)(re);W("git.url",oe,!1),W("git.ref",t,!1),W("git.dir",a,!1),Y("git.url",!0,!0),ye(e,t,a)},[ye,oe,Y,W,re,K,H]);n.useEffect(()=>{(!B||ce||ue||Q||X.git.secretResource)&&X.git.url&&ye(X.git.url,X.git.ref,X.git.dir)},[B,_,ce,Q,ye,X.git.url,X.git.ref,X.git.dir,X.git.type,X.git.secretResource,ue]);const Ee=n.useMemo(()=>{if(X.git.isUrlValidating)return q("devconsole~Validating")+"...";if(me===r.d.success)return q("devconsole~Validated");if(me===r.d.warning)switch(ge){case m.d.RateLimitExceeded:return q("devconsole~Rate limit exceeded");case m.d.GitTypeNotDetected:return q("devconsole~URL is valid but a git type could not be identified. Please select a git type from the options below");case m.d.PrivateRepo:return q("devconsole~If this is a private repository, enter a source Secret in advanced Git options");case m.d.ResourceNotFound:return q("devconsole~Requested repository does not exist");case m.d.InvalidGitTypeSelected:return q("devconsole~The selected git type might not be valid or the repository is private. Please try selecting another git type or enter a source Secret in advanced Git options");case m.d.GiteaRepoUnreachable:return q("devconsole~The Gitea repository is unreachable. The repository might be private or does not exist");default:return q("devconsole~URL is valid but cannot be reached")}return q("devconsole~Repository URL to build and deploy your code from")},[q,X.git.isUrlValidating,me,ge]),Te=n.useCallback(()=>{le||(W("image.selected",""),W("image.tag","")),X.image.recommended&&W("image.recommended",""),X.image.couldNotRecommend&&W("image.couldNotRecommend",!1),"edit"!==X.formType?(!ie&&W("name",""),!X.application.isInContext&&X.application.selectedKey!==h.z&&!se&&W("application.name","")):X.application.selectedKey!==h.z&&X.application.selectedKey===h.b&&!se&&W("application.name","")},[W,X.formType,X.image.recommended,X.image.couldNotRecommend,X.application.selectedKey,X.application.isInContext,se,le,ie]);return Object(f.Ge)(X.git.url),n.useEffect(()=>{var e;if(H)return;N&&(null===(e=L.current)||void 0===e||e.focus());const{sampleName:t,repository:a}=Object(E.d)();if(null==a?void 0:a.url){const e=Object(T.b)(a.url);W("name",e,!1),W("application.name",e+"-app",!1),W("git.url",a.url,!1),a.revision&&W("git.ref",a.revision,!1),a.contextDir&&W("git.dir",a.contextDir,!1),Y("git.url",!0,!0),ye(a.url,a.revision,a.contextDir)}t?Object(E.e)(t).then(e=>{var n,r,o,i;if(Object(y.b)(e.spec.source)){const{gitImport:t}=e.spec.source;if(!(null==a?void 0:a.url)){const e=Object(T.b)(a.url);W("name",e,!1),W("application.name",e+"-app",!1),W("git.url",t.repository.url,!1),a.revision&&W("git.ref",a.revision,!1),a.contextDir&&W("git.dir",a.contextDir,!1),Y("git.url",!0,!0),ye(t.repository.url,t.repository.revision,t.repository.contextDir)}(null===(n=null==t?void 0:t.service)||void 0===n?void 0:n.targetPort)&&8080!==(null===(r=null==t?void 0:t.service)||void 0===r?void 0:r.targetPort)&&W("route.unknownTargetPort",t.service.targetPort.toString(),!1)}else console.error(`Unsupported ConsoleSample "${t}" source type ${null===(i=null===(o=e.spec)||void 0===o?void 0:o.source)||void 0===i?void 0:i.type}`)}).catch(e=>{console.error(`Error while loading ConsoleSample "${t}":`,e)}):"sample"===P&&oe&&ke()},[H]),n.createElement(S.a,{title:null!=e?e:q("devconsole~Git")},n.createElement(f.ab,{ref:L,type:o.b.text,name:z+"git.url",label:q("devconsole~Git Repo URL"),helpText:Ee,helpTextInvalid:Ee,validated:me,onBlur:e=>{const t=e.target.value.trim();e.target.value!==t&&(W("git.url",t),ye(t,X.git.ref,X.git.dir))},onChange:e=>{Te(),ye(e.target.value.trim(),X.git.ref,X.git.dir)},"data-test-id":"git-form-input-url",required:!0,isDisabled:"sample"===P&&oe}),"sample"!==P&&oe&&n.createElement(w.a,{onClick:ke}),X.git.showGitType&&n.createElement(n.Fragment,null,n.createElement(I.a,{fieldPrefix:z}),X.git.type===m.b.UNSURE&&n.createElement(i.a,{isInline:!0,variant:"info",title:q("devconsole~Defaulting Git type to other")},q("devconsole~We failed to detect the Git type."))),"sample"!==P&&n.createElement(j.a,{formContextField:t}))}},6108:function(e,t,a){"use strict";var n=a(0),r=a(87),o=a(219),i=a(297),s=a(319),l=a(157),c=a(80),u=a(6139),d=a(244),m=a(55),p=a(16),g=a(22),b=a(7),v=a(13),f=a(5673),h=a(5599),y=a(5842),k=a(6155),E=a(6156),T=a(6157);a(6158);const S={loading:!1,accessLoading:!1,selectedImageStream:{}},j=(e,t)=>{const{value:a}=t;switch(t.type){case h.d.setLoading:return Object.assign(Object.assign({},e),{loading:a});case h.d.setAccessLoading:return Object.assign(Object.assign({},e),{accessLoading:a});case h.d.setSelectedImageStream:return Object.assign(Object.assign({},e),{selectedImageStream:a});default:throw new Error("Invalid action was provided in imagestream reducer")}};t.a=n.memo(({disabled:e=!1,label:t,required:a=!1,formContextField:h,dataTest:I,reloadCount:w})=>{var C,O;const{t:R}=Object(b.useTranslation)(),{values:P}=Object(m.f)(),[x,D]=n.useState(r.d.default),[N,q]=n.useReducer(j,S),[L,B]=n.useState(!1),{loading:_,accessLoading:V,selectedImageStream:F}=N,{imageStream:U,project:G,registry:M,isi:A,fromImageStreamTag:K}=p.a(P,h)||P,$=Object(f.d)(F),H=""!==U.namespace&&!V,z=H&&L&&!_,W=""!==U.tag||z&&!g.a($),Y=""!==U.image,X=G.name!==U.namespace&&U.namespace!==f.a.Openshift&&(M===f.b.Internal||K)&&z&&W,J=x===r.d.error&&(null===(C=A.status)||void 0===C?void 0:C.message)&&n.createElement(n.Fragment,null,n.createElement(d.a,null)," ",null===(O=A.status)||void 0===O?void 0:O.message);return n.createElement(n.Fragment,null,n.createElement(y.a.Provider,{value:{state:N,dispatch:q,hasImageStreams:L,setHasImageStreams:B,setValidated:D}},n.createElement(o.a,{fieldId:"image-stream-dropdowns",label:t,required:a,"data-test":I},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(E.a,{disabled:e,formContextField:h})),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(k.a,{disabled:e,formContextField:h,reloadCount:w}),n.createElement("div",{className:"odc-imagestream-separator"},"/")),n.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12"},n.createElement(T.a,{disabled:e,formContextField:h,reloadCount:w}),n.createElement("div",{className:"odc-imagestream-separator"},":"))),x===r.d.error&&n.createElement(i.a,null,n.createElement(s.a,null,n.createElement(l.a,{variant:"error",icon:n.createElement(v.u,null)},J)))),H&&Y&&!W&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:R("devconsole~No Image streams tags found"),isInline:!0},R("devconsole~No tags are available in Image Stream {{image}}",{image:U.image}))),H&&!_&&!z&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",title:R("devconsole~No Image streams found"),isInline:!0},R("devconsole~No Image streams are available in Project {{namespace}}",{namespace:U.namespace}))),H&&!V&&X&&n.createElement("div",{className:"odc-imagestream-alert"},n.createElement(c.a,{variant:"warning",isInline:!0,title:R("devconsole~Service account default will need pull authority to deploy Images from {{namespace}}",{namespace:U.namespace})},R("devconsole~You can grant authority with the command")," ",n.createElement(u.a,{className:"odc-imagestream-clipboard",variant:u.b.expansion,isReadOnly:!0},`oc policy add-role-to-user system:image-puller system:serviceaccount:${G.name}:default --namespace=${U.namespace}`)))))})},6148:function(e,t,a){"use strict";var n=a(0),r=a(281),o=a(55),i=a(7),s=a(5),l=a(15),c=a(5618),u=a(6149);t.a=({formContextField:e})=>{const t=e?e+".":"",{t:a}=Object(i.useTranslation)(),{setFieldValue:d,setFieldTouched:m}=Object(o.f)(),p=Object(l.Ce)(e=>d(t+"git.ref",e.target.value)),g=Object(l.Ce)(e=>{d(t+"git.dir",e.target.value),m(t+"git.dir")});return n.createElement(s.x,{textExpanded:a("devconsole~Hide advanced Git options"),textCollapsed:a("devconsole~Show advanced Git options"),dataTest:"advanced-git-options"},n.createElement(c.a,null,n.createElement(l.ab,{type:r.b.text,name:t+"git.ref",label:a("devconsole~Git reference"),helpText:a("devconsole~Optional branch, tag, or commit."),onChange:p}),n.createElement(l.ab,{type:r.b.text,name:t+"git.dir",label:a("devconsole~Context dir"),helpText:a("devconsole~Optional subdirectory for the source code, used as a context directory for build."),onChange:g}),n.createElement(u.a,{formContextField:e})))}},6149:function(e,t,a){"use strict";var n=a(0),r=a(219),o=a(297),i=a(319),s=a(157),l=a(55),c=a(16),u=a(7),d=a(4359),m=a(108),p=a(10),g=a(15),b=a(6150),v=a(5961);t.a=({formContextField:e})=>{const t=e?e+".":"",{t:a}=Object(u.useTranslation)(),{values:f,setFieldValue:h}=Object(l.f)(),y=c.a(f,t+"project.name"),k=c.a(f,t+"git.secret"),[E,T,S]=Object(m.a)(y&&k?{kind:p.SecretModel.kind,namespace:y,name:k,optional:!0,isList:!1}:null),j=e=>{h(t+"git.secret",e)};return n.useEffect(()=>{T&&!S&&k&&E&&h(t+"git.secretResource",E)},[T,S,k,E,h,t]),n.createElement(n.Fragment,null,n.createElement(r.a,{fieldId:Object(g.Kc)("source-secret","dropdown"),label:a("devconsole~Source Secret")},n.createElement(b.a,{dropDownClassName:"dropdown--full-width",menuClassName:"dropdown-menu--text-wrap",namespace:y,actionItems:[{actionTitle:a("devconsole~Create new Secret"),actionKey:"create-source-secret"},{actionTitle:a("devconsole~No Secret"),actionKey:"clear-source-secret"}],selectedKey:k,title:k,onChange:e=>{"create-source-secret"===e?(h(t+"git.secret",k),Object(v.a)({namespace:y,save:j,secretType:d.SecretTypeAbstraction.source})):"clear-source-secret"===e?(h(t+"git.secret",""),h(t+"git.secretResource",{})):h(t+"git.secret",e)}}),n.createElement(o.a,null,n.createElement(i.a,null,n.createElement(s.a,null,a("devconsole~Secret with credentials for pulling your source code."))))))}},6150:function(e,t,a){"use strict";var n=a(0),r=a(7),o=a(1423),i=a(10),s=a(15);t.a=e=>{const{t:t}=Object(r.useTranslation)(),a=[{isList:!0,namespace:e.namespace,kind:i.SecretModel.kind,prop:"secrets"}];return n.createElement(o.a,{resources:a},n.createElement(s.Nb,Object.assign({},e,{placeholder:t("devconsole~Select Secret name"),resourceFilter:e=>"kubernetes.io/basic-auth"===e.type||"kubernetes.io/ssh-auth"===e.type,dataSelector:["metadata","name"]})))}},6151:function(e,t,a){"use strict";var n=a(0),r=a(219),o=a(241),i=a(130),s=a(7304),l=a(5931),c=a(5933),u=a(5932),d=a(4373),m=a(55),p=a(16),g=a(7),b=a(5591),v=a(5778),f=a(5599);a(6152);t.a=({fieldPrefix:e})=>{const{values:t,setFieldValue:a,setFieldTouched:h}=Object(m.f)(),{t:y}=Object(g.useTranslation)(),k=t=>{a(e+"git.type",t,!1),h(e+"git.type",!0,!1)},E=p.a(t,e+"git.type");return n.createElement(n.Fragment,null,n.createElement(r.a,{label:y("devconsole~Git type"),isRequired:!0,id:"git-type"},n.createElement(o.a,{spaceItems:{default:"spaceItemsSm"}},n.createElement(i.a,null,n.createElement(s.a,{className:"odc-git-type-selector",title:f.c[b.b.GITHUB],icon:n.createElement(l.a,null),onClick:()=>k(b.b.GITHUB),isSelected:E===b.b.GITHUB,id:"git-type-github"})),n.createElement(i.a,null,n.createElement(s.a,{className:"odc-git-type-selector",title:f.c[b.b.GITLAB],icon:n.createElement(c.a,null),onClick:()=>k(b.b.GITLAB),isSelected:E===b.b.GITLAB,id:"git-type-gitlab"})),n.createElement(i.a,null,n.createElement(s.a,{className:"odc-git-type-selector",title:f.c[b.b.BITBUCKET],icon:n.createElement(u.a,null),onClick:()=>k(b.b.BITBUCKET),isSelected:E===b.b.BITBUCKET,id:"git-type-bitbucket"})),n.createElement(i.a,null,n.createElement(s.a,{className:"odc-git-type-selector",title:f.c[b.b.GITEA],icon:n.createElement(v.a,null),onClick:()=>k(b.b.GITEA),isSelected:E===b.b.GITEA,id:"git-type-gitea"})),n.createElement(i.a,null,n.createElement(s.a,{className:"odc-git-type-selector",title:f.c[b.b.UNSURE],icon:n.createElement(d.a,null),onClick:()=>k(b.b.UNSURE),isSelected:E===b.b.UNSURE,id:"git-type-other"})))))}},6152:function(e,t,a){},6153:function(e,t,a){"use strict";var n=a(0),r=a(297),o=a(19),i=a(6215),s=a(7);t.a=e=>{const{t:t}=Object(s.useTranslation)();return n.createElement(r.a,null,n.createElement(o.a,Object.assign({},e,{type:"button",variant:o.d.link,isInline:!0}),t("devconsole~Try sample")," ",n.createElement(i.a,null)))}},6155:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(16),i=a(22),s=a(7),l=a(15),c=a(5673),u=a(5599),d=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:m}=Object(s.useTranslation)(),p={},{values:g,setFieldValue:b,initialValues:v}=Object(r.f)(),{imageStream:f,formType:h}=o.a(g,t)||g,{isi:y}=o.a(v,t)||v,{state:k,dispatch:E,hasImageStreams:T,setHasImageStreams:S}=n.useContext(d.a),{accessLoading:j,loading:I}=k,w=""!==f.namespace&&!j,C=w&&T&&!I,O=t?t+".":"",R=n.useCallback(e=>{b(O+"imageStream.tag",e===f.image?f.tag:""),"edit"!==h&&b(O+"isi",y);const t=o.a(p,[f.namespace,e],{});E({type:u.d.setSelectedImageStream,value:t})},[b,O,f.image,f.tag,f.namespace,h,y,p,E]);return n.useEffect(()=>{f.image&&R(f.image)},[f.image,C]),n.useEffect(()=>{a&&f.image&&R(f.image)},[a,C]),n.createElement(l.Ob,{name:O+"imageStream.image",label:m("devconsole~Image Stream"),resources:Object(c.c)(f.namespace),dataSelector:["metadata","name"],key:f.namespace,fullWidth:!0,required:!0,title:f.image||(I&&!C?"":m(C?"devconsole~Select Image Stream":"devconsole~No Image Stream")),disabled:!C||e,onChange:R,onLoad:e=>{const t=!i.a(e);S(t),I&&w&&E({type:u.d.setLoading,value:!1})},resourceFilter:e=>{const{metadata:{namespace:t}}=e;return((e,t)=>{p[e]||(p[e]={}),p[e][t.metadata.name]=t})(t,e),t===f.namespace}})}},6156:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(16),i=a(7),s=a(15),l=a(5673),c=a(5599),u=a(5842);t.a=({disabled:e=!1,formContextField:t})=>{const{t:a}=Object(i.useTranslation)(),{values:d,setFieldValue:m,initialValues:p}=Object(r.f)(),{imageStream:g}=o.a(d,t)||d,{isi:b}=o.a(p,t)||p,{dispatch:v}=n.useContext(u.a),f=t?t+".":"",h=n.useCallback(e=>{e&&(m(f+"imageStream.image",""),m(f+"imageStream.tag","")),m(f+"isi",b),v({type:c.d.setLoading,value:!0})},[v,f,b,m]);return n.useEffect(()=>{g.namespace&&h()},[h,g.namespace]),n.createElement(s.Ob,{name:f+"imageStream.namespace",label:a("devconsole~Project"),title:g.namespace||a("devconsole~Select Project"),fullWidth:!0,required:!0,resources:Object(l.f)(),dataSelector:["metadata","name"],onChange:h,appendItems:{openshift:l.a.Openshift},disabled:e})}},6157:function(e,t,a){"use strict";var n=a(0),r=a(87),o=a(55),i=a(230),s=a(16),l=a(22),c=a(501),u=a(1557),d=a(1533),m=a(107),p=a(7),g=a(10),b=a(8),v=a(15),f=a(2221),h=a(5673),y=a(5842);t.a=({disabled:e=!1,formContextField:t,reloadCount:a})=>{const{t:k}=Object(p.useTranslation)(),E=n.useRef(!1);let T={};const{values:S,setFieldValue:j,initialValues:I,touched:w}=Object(o.f)(),{name:C,imageStream:O,application:R,formType:P,isi:x}=s.a(S,t)||S,D=null==x?void 0:x.ports,{imageStream:N,route:q}=s.a(I,t)||I,L=t?t+".":"",{state:B,hasImageStreams:_,setValidated:V}=n.useContext(y.a),{selectedImageStream:F,accessLoading:U,loading:G}=B;T=Object(h.d)(F);const M=""!==O.namespace&&!U,A=M&&_&&!G&&!l.a(T),K=""!==O.image,$=null==N?void 0:N.image,H=n.useCallback(e=>{j(L+"isSearchingForImage",!0),Object(b.kb)(g.ImageStreamTagModel,`${O.image}:${e}`,O.namespace).then(a=>{if(E.current)return;const{image:n,tag:i,status:l,metadata:{labels:m}}=a;t&&j(L+"imageStreamTag",a);const p=c.a(m,h.m),g=O.image,b={name:g,image:n,tag:i,status:l},v=Object(h.e)(b);j(L+"isSearchingForImage",!1),j(L+"isi.name",g),j(L+"isi.image",u.a(n,{metadata:{labels:p}})),j(L+"isi.tag",e),j(L+"isi.ports",v),j(L+"image.ports",v),"edit"!==P&&C!==g&&j(L+"name",Object(h.j)(g)),R&&R.selectedKey!==f.z&&!R.name&&j(L+"application.name",Object(h.j)(g)+"-app");const y=q&&(!q.targetPort||Object(o.d)(s.a(w,L+"imageStream"),"image"))&&!Object(o.d)(s.a(w,L+"route"),"targetPort")&&d.a(v);y&&j(L+"route.targetPort",Object(h.n)(y)),V(r.d.success)}).catch(e=>{E.current||(j(L+"isi",{}),j(L+"isi.status",{metadata:{},status:"",message:e.message}),j(L+"isSearchingForImage",!1),V(r.d.error))})},[j,L,O.image,O.namespace,t,C,P,R,q,w,V]);return n.useEffect(()=>{O.tag&&H(O.tag)},[O.tag]),n.useEffect(()=>{a&&O.tag&&H(O.tag)},[a]),n.useEffect(()=>{if(q&&Object(o.d)(s.a(w,L+"imageStream"),"image")&&!Object(o.d)(s.a(w,L+"route"),"targetPort")&&!m.a($,O.image)){const e=d.a(D);e&&j(L+"route.targetPort",Object(h.n)(e))}},[w.route,w.imageStream,O.image,j,D,q,$,L,w]),n.useEffect(()=>()=>{E.current=!0},[]),n.createElement(v.I,{name:L+"imageStream.tag",label:k("devconsole~Tag"),items:T,key:O.image,autocompleteFilter:i,title:O.tag||k(M&&K&&!A?"devconsole~No tag":"devconsole~Select tag"),disabled:!K||!A||e,fullWidth:!0,required:!0,onChange:e=>{""!==e&&H(e)}})}},6158:function(e,t,a){},6227:function(e,t,a){"use strict";var n=a(6584),r=a(6582),o=a(6581),i=a(6579),s=a(6580),l=a(6583);window.monaco.editor.defineTheme("console-light",{base:"vs",inherit:!0,colors:{"editor.background":i.global_BackgroundColor_light_100.value,"editorGutter.background":"#f5f5f5","editorLineNumber.activeForeground":s.global_Color_dark_100.value,"editorLineNumber.foreground":o.global_BackgroundColor_dark_200.value},rules:[{token:"number",foreground:"486b00"},{token:"type",foreground:"795600"},{token:"string",foreground:"004080"},{token:"keyword",foreground:"40199a"}]}),window.monaco.editor.defineTheme("console-dark",{base:"vs-dark",inherit:!0,colors:{"editor.background":r.global_BackgroundColor_dark_100.value,"editorGutter.background":"#292e34","editorLineNumber.activeForeground":l.global_Color_light_100.value,"editorLineNumber.foreground":n.global_BackgroundColor_200.value},rules:[{token:"number",foreground:"ace12e"},{token:"type",foreground:"73bcf7"},{token:"string",foreground:"f0ab00"},{token:"keyword",foreground:"cbc1ff"}]})},6324:function(e,t,a){"use strict";var n=a(0),r=a(80),o=a(1939),i=a(7);t.a=({onClose:e})=>{const{t:t}=Object(i.useTranslation)();return n.createElement(r.a,{actionClose:e&&n.createElement(o.a,{onClose:e}),isInline:!0,title:t('console-shared~Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.'),variant:"info","data-test":"info-alert"})}},6333:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var n=a(10);a.d(t,"a",(function(){return n.BuildConfigModel}));var r,o=a(974);a.d(t,"c",(function(){return o.BuildStrategyType})),function(e){e.Parallel="Parallel",e.Serial="Serial",e.SerialLatestOnly="SerialLatestOnly"}(r||(r={}))},6552:function(e,t,a){"use strict";var n=a(0),r=a(281),o=a(55),i=a(7),s=a(15),l=a(5618);t.a=()=>{const{t:e}=Object(i.useTranslation)(),[,t]=Object(o.e)("formData.name"),a=!t.initialValue;return n.createElement(l.a,{dataTest:"section name"},n.createElement(s.ab,{label:e("devconsole~Name"),name:"formData.name",type:r.b.text,isDisabled:!a,required:!0}))}},6792:function(e,t,a){"use strict";var n=a(0),r=a(219),o=a(297),i=a(319),s=a(157),l=a(55),c=a(6411),u=a(1205),d=a(15),m=(a(6227),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a});t.a=e=>{var{name:t,label:a,helpText:p,required:g,isDisabled:b,onChange:v}=e,f=m(e,["name","label","helpText","required","isDisabled","onChange"]);const h=n.useContext(u.a),{getFieldMeta:y,setFieldValue:k,setFieldTouched:E}=Object(l.f)(),{error:T,value:S}=y(t),j=Object(d.Ce)((e,a)=>{v&&v(e,a),k(t,e,!1),E(t,!0)},100);return n.createElement(r.a,{fieldId:"",label:a,isRequired:g},n.createElement(c.a,Object.assign({},f,{value:S,onChange:j,theme:"light"===h?"console-light":"console-dark"})),n.createElement(o.a,null,n.createElement(i.a,null,T?n.createElement(s.a,{variant:"error",icon:n.createElement(d.Mb,null)}):n.createElement(s.a,null,p))))}},7316:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(7),i=a(15),s=a(5618);t.a=({namespace:e})=>{const{t:t}=Object(o.useTranslation)(),{values:{formData:{environmentVariables:a}}}=Object(r.f)();return n.createElement(s.a,{title:t("devconsole~Environment Variables"),dataTest:"section environment-variables"},n.createElement(i.M,{name:"formData.environmentVariables",envs:a,obj:{metadata:{namespace:e}}}))}},7401:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5591),r=a(614),o=a(8115);const i=()=>({editorType:r.b.Form,formData:{name:"",source:{type:"none",git:{formType:"edit",name:"",git:{url:"",type:n.b.INVALID,ref:"",dir:"/",showGitType:!1,secret:"",isUrlValidating:!1},image:{selectedKey:"",selected:"",recommended:"",tagObj:"",couldNotRecommend:!1},application:{selected:"",selectedKey:"",name:"",isInContext:null},build:{strategy:o.a.Source},project:{name:void 0}},dockerfile:""},images:{buildFrom:{type:"none",imageStreamTag:{fromImageStreamTag:!1,isSearchingForImage:!1,imageStream:{namespace:"",image:"",tag:""},project:{name:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]}},imageStreamImage:"",dockerImage:""},pushTo:{type:"none",imageStreamTag:{fromImageStreamTag:!1,isSearchingForImage:!1,imageStream:{namespace:"",image:"",tag:""},project:{name:""},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]}},imageStreamImage:"",dockerImage:""}},environmentVariables:[],triggers:{configChange:!1,imageChange:!1,otherTriggers:[]},secrets:[],policy:{runPolicy:null},hooks:{enabled:!1,type:"command",commands:[""],shell:"",arguments:[]}},yamlData:"",resourceVersion:void 0})},7402:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(640),r=a(1941);const o=(e,...t)=>{t.forEach(t=>delete e[t])},i=(e,t)=>{if("imageStreamTag"===e.type){const{namespace:a,image:n="",tag:r}=e.imageStreamTag.imageStream,o=r?`${n}:${r}`:n;return a===t?{kind:"ImageStreamTag",name:o}:{kind:"ImageStreamTag",namespace:a,name:o}}if("imageStreamImage"===e.type){const a=e.imageStreamImage;return{kind:"ImageStreamImage",namespace:a.includes("/")?a.substring(0,a.indexOf("/")):t,name:a.includes("/")?a.substring(a.indexOf("/")+1):a}}return"dockerImage"===e.type?{kind:"DockerImage",name:e.dockerImage}:null},s=(e,t)=>{let a=n.a(e);return a&&"object"==typeof a||(a={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{},spec:{}}),a.apiVersion||(a.apiVersion="build.openshift.io/v1"),a.kind||(a.kind="BuildConfig"),a.metadata&&"object"==typeof a.metadata||(a.metadata={}),a.spec&&"object"==typeof a.spec||(a.spec={}),((e,t)=>{t.metadata.name=e.formData.name})(t,a),((e,t)=>{var a,n,r,i;switch(e.formData.source.type){case"git":{const{git:r}=e.formData.source.git;t.spec.source=Object.assign(Object.assign({},t.spec.source),{type:"Git",git:r.ref?{uri:r.url,ref:r.ref}:{uri:r.url},contextDir:r.dir}),r.secret?t.spec.source.sourceSecret={name:r.secret}:delete t.spec.source.sourceSecret,o(t.spec.source,"dockerfile"),(null===(a=t.spec.strategy)||void 0===a?void 0:a.type)||(t.spec.strategy=Object.assign({type:e.formData.images.strategyType||"Source"},t.spec.strategy)),(null===(n=t.metadata.annotations)||void 0===n?void 0:n["app.openshift.io/vcs-uri"])&&(t.metadata.annotations["app.openshift.io/vcs-uri"]=r.url,r.ref?t.metadata.annotations["app.openshift.io/vcs-ref"]=r.ref:delete t.metadata.annotations["app.openshift.io/vcs-ref"]);break}case"dockerfile":t.spec.source=Object.assign(Object.assign({},t.spec.source),{type:"Dockerfile",dockerfile:e.formData.source.dockerfile}),o(t.spec.source,"git"),(null===(r=t.spec.strategy)||void 0===r?void 0:r.type)||(t.spec.strategy=Object.assign({type:e.formData.images.strategyType||"Docker"},t.spec.strategy));break;case"binary":t.spec.source=Object.assign(Object.assign({},t.spec.source),{type:"Binary"}),(null===(i=t.spec.strategy)||void 0===i?void 0:i.type)||(t.spec.strategy=Object.assign({type:e.formData.images.strategyType||"Source"},t.spec.strategy))}})(t,a),((e,t)=>{var a,n,r,o,s;const l=i(e.formData.images.buildFrom,t.metadata.namespace);l&&!(null===(a=t.spec.strategy)||void 0===a?void 0:a.type)&&(t.spec.strategy=Object.assign({type:e.formData.images.strategyType||"Source"},t.spec.strategy));const c=(null===(r=null===(n=t.spec.strategy)||void 0===n?void 0:n.type)||void 0===r?void 0:r.toLowerCase())+"Strategy";l&&!(null===(o=t.spec.strategy)||void 0===o?void 0:o[c])?t.spec.strategy[c]={from:l}:l?t.spec.strategy[c].from=l:(null===(s=t.spec.strategy)||void 0===s?void 0:s[c])&&delete t.spec.strategy[c].from;const u=i(e.formData.images.pushTo,t.metadata.namespace);u&&!t.spec.output?t.spec.output={to:u}:u?t.spec.output.to=u:t.spec.output&&delete t.spec.output.to})(t,a),((e,t)=>{var a,n,r,o,i;const s=e.formData.environmentVariables;s.length>0&&!(null===(a=t.spec.strategy)||void 0===a?void 0:a.type)&&(t.spec.strategy=Object.assign({type:e.formData.images.strategyType||"Source"},t.spec.strategy));const l=(null===(r=null===(n=t.spec.strategy)||void 0===n?void 0:n.type)||void 0===r?void 0:r.toLowerCase())+"Strategy";s.length>0&&!(null===(o=t.spec.strategy)||void 0===o?void 0:o[l])?t.spec.strategy[l]={env:s}:s.length>0?t.spec.strategy[l].env=s:(null===(i=t.spec.strategy)||void 0===i?void 0:i[l])&&delete t.spec.strategy[l].env})(t,a),((e,t)=>{var a,n,r;const o=[];(null===(a=e.formData.triggers)||void 0===a?void 0:a.configChange)&&o.push({type:"ConfigChange"}),(null===(n=e.formData.triggers)||void 0===n?void 0:n.imageChange)&&o.push({type:"ImageChange"}),(null===(r=e.formData.triggers)||void 0===r?void 0:r.otherTriggers)&&o.push(...e.formData.triggers.otherTriggers.filter(e=>e.type&&e.secret).map(e=>({type:e.type,[e.type.toLowerCase()]:Object.assign(Object.assign({},e.data?e.data.secretReference?{secretReference:{name:e.secret}}:{secret:e.secret}:{secretReference:{name:e.secret}}),e.allowEnv?{allowEnv:e.allowEnv}:{})}))),o.length>0?t.spec.triggers=o:delete t.spec.triggers})(t,a),((e,t)=>{var a,n;const r=e.formData.secrets.map(e=>({secret:{name:e.secret},destinationDir:e.mountPoint}));r.length>0&&!(null===(a=t.spec.source)||void 0===a?void 0:a.type)&&(t.spec.source=Object.assign({type:"Source"},t.spec.source)),r.length>0?t.spec.source=Object.assign(Object.assign({},t.spec.source),{secrets:r}):(null===(n=t.spec.source)||void 0===n?void 0:n.secrets)&&delete t.spec.source.secrets})(t,a),((e,t)=>{e.formData.policy.runPolicy?t.spec.runPolicy=e.formData.policy.runPolicy:delete t.spec.runPolicy})(t,a),((e,t)=>{var a;e.formData.hooks.enabled?"command"===e.formData.hooks.type&&e.formData.hooks.commands.some(e=>!!e)?t.spec.postCommit={command:e.formData.hooks.commands,args:e.formData.hooks.arguments}:"shell"===e.formData.hooks.type?t.spec.postCommit={script:e.formData.hooks.shell,args:e.formData.hooks.arguments}:"command"===e.formData.hooks.type&&(null===(a=e.formData.hooks.arguments)||void 0===a?void 0:a.some(e=>!!e))||"onlyArgs"===e.formData.hooks.type?t.spec.postCommit={args:e.formData.hooks.arguments}:delete t.spec.postCommit:delete t.spec.postCommit})(t,a),a},l=e=>{const t=Object(r.c)(e.yamlData),a=s(t,e);return Object(r.b)(a,"",{skipInvalid:!0})}},8031:function(e,t,a){"use strict";var n=a(0),r=a(137),o=a(7),i=a(14),s=a(5),l=a(108),c=a(8879),u=a(6333);t.a=()=>{const{t:e}=Object(o.useTranslation)(),{ns:t,name:a}=Object(i.useParams)(),d=!a,[m,p,g]=Object(l.a)(d?null:{kind:u.a.kind,name:a,namespace:t}),b=d?{apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:{namespace:t},spec:{}}:m,v=e(d?"devconsole~Create BuildConfig":"devconsole~Edit BuildConfig");return n.createElement(n.Fragment,null,n.createElement(r.b,null,n.createElement("title",null,v)),n.createElement(s.wb,{loaded:p,loadError:g,label:v,data:b},n.createElement(c.a,{heading:v,namespace:t,name:a,buildConfig:b})))}},8114:function(e,t,a){"use strict";a(7401);var n=a(7402);a.d(t,"b",(function(){return n.a})),a.d(t,"c",(function(){return n.b}));var r=a(8116);a.d(t,"a",(function(){return r.a}));var o=a(8117);a.d(t,"d",(function(){return o.a}))},8115:function(e,t,a){"use strict";var n=a(974);a.d(t,"a",(function(){return n.BuildStrategyType}))},8116:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(640),r=a(7401),o=a(8115);const i=(e,t,a)=>{if("ImageStreamTag"===(null==e?void 0:e.kind)){const n=e.namespace||a,{name:r=""}=e,o=r.includes(":")?r.substring(0,r.indexOf(":")):r,i=r.includes(":")?r.substring(r.indexOf(":")+1):null;t.type="imageStreamTag",t.imageStreamTag={fromImageStreamTag:!0,isSearchingForImage:!1,imageStream:{namespace:n,image:o,tag:i},project:{name:n},isi:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]},image:{name:"",image:{},tag:"",status:{metadata:{},status:""},ports:[]}}}else if("ImageStreamImage"===(null==e?void 0:e.kind)){const{namespace:a="",name:n=""}=e;t.type="imageStreamImage",t.imageStreamImage=a?`${a}/${n}`:n}else"DockerImage"===(null==e?void 0:e.kind)?(t.type="dockerImage",t.dockerImage=e.name||""):t.type="none"},s=(e,t=Object(r.a)())=>{const a=n.a(t),s={apiVersion:"build.openshift.io/v1",kind:"BuildConfig",metadata:(null==e?void 0:e.metadata)&&"object"==typeof e.metadata?e.metadata:{},spec:(null==e?void 0:e.spec)&&"object"==typeof e.spec?e.spec:{}};return((e,t)=>{t.formData.name=e.metadata.name||""})(s,a),((e,t)=>{var a,n,r,i,s,l,c;t.formData.source.git.project.name=e.metadata.namespace,"Git"===(null===(a=e.spec.source)||void 0===a?void 0:a.type)?(t.formData.source.type="git",t.formData.source.git.git.url=(null===(n=e.spec.source.git)||void 0===n?void 0:n.uri)||"",t.formData.source.git.git.ref=(null===(r=e.spec.source.git)||void 0===r?void 0:r.ref)||"",t.formData.source.git.git.dir=e.spec.source.contextDir||"",t.formData.source.git.git.secret=(null===(i=e.spec.source.sourceSecret)||void 0===i?void 0:i.name)||"",t.formData.source.git.build.strategy=(null===(s=e.spec.strategy)||void 0===s?void 0:s.type)||o.a.Source):"Dockerfile"===(null===(l=e.spec.source)||void 0===l?void 0:l.type)?(t.formData.source.type="dockerfile",t.formData.source.dockerfile=e.spec.source.dockerfile||""):"Binary"===(null===(c=e.spec.source)||void 0===c?void 0:c.type)?t.formData.source.type="binary":t.formData.source.type="none"})(s,a),((e,t)=>{var a,n,r,o,s,l;t.formData.images.strategyType=null===(a=e.spec.strategy)||void 0===a?void 0:a.type;const c=(null===(r=null===(n=e.spec.strategy)||void 0===n?void 0:n.type)||void 0===r?void 0:r.toLowerCase())+"Strategy",u=null===(s=null===(o=e.spec.strategy)||void 0===o?void 0:o[c])||void 0===s?void 0:s.from;i(u,t.formData.images.buildFrom,e.metadata.namespace);const d=null===(l=e.spec.output)||void 0===l?void 0:l.to;i(d,t.formData.images.pushTo,e.metadata.namespace)})(s,a),((e,t)=>{var a,n,r,o,i,s;if("Source"===(null===(a=e.spec.strategy)||void 0===a?void 0:a.type)){const a=(null===(r=null===(n=e.spec.strategy)||void 0===n?void 0:n.sourceStrategy)||void 0===r?void 0:r.env)||[];t.formData.environmentVariables=a}else if("Docker"===(null===(o=e.spec.strategy)||void 0===o?void 0:o.type)){const a=(null===(s=null===(i=e.spec.strategy)||void 0===i?void 0:i.dockerStrategy)||void 0===s?void 0:s.env)||[];t.formData.environmentVariables=a}})(s,a),((e,t)=>{const a=e.spec.triggers||[];t.formData.triggers.configChange=!!a.find(e=>"ConfigChange"===e.type),t.formData.triggers.imageChange=!!a.find(e=>"ImageChange"===e.type),t.formData.triggers.otherTriggers=a.filter(e=>{var t,a;return e.type&&((null===(t=e[e.type.toLowerCase()])||void 0===t?void 0:t.secretReference)||(null===(a=e[e.type.toLowerCase()])||void 0===a?void 0:a.secret))}).map(e=>{var t;return Object.assign(Object.assign({type:e.type,secret:(null===(t=e[e.type.toLowerCase()].secretReference)||void 0===t?void 0:t.name)||e[e.type.toLowerCase()].secret},e[e.type.toLowerCase()].allowEnv?{allowEnv:e[e.type.toLowerCase()].allowEnv}:{}),{data:e[e.type.toLowerCase()]})})})(s,a),((e,t)=>{var a,n;t.formData.secrets=(null===(n=null===(a=e.spec.source)||void 0===a?void 0:a.secrets)||void 0===n?void 0:n.map(e=>({secret:e.secret.name,mountPoint:e.destinationDir})))||[]})(s,a),((e,t)=>{t.formData.policy.runPolicy=e.spec.runPolicy||null})(s,a),((e,t)=>{var a,n,r;const o=(null===(a=e.spec.postCommit)||void 0===a?void 0:a.command)||[""],i=(null===(n=e.spec.postCommit)||void 0===n?void 0:n.script)||"",s=(null===(r=e.spec.postCommit)||void 0===r?void 0:r.args)||[];o.length>0&&o[0]?(t.formData.hooks.enabled=!0,t.formData.hooks.type="command"):i?(t.formData.hooks.enabled=!0,t.formData.hooks.type="shell"):s.length>0?(t.formData.hooks.enabled=!0,t.formData.hooks.type="onlyArgs"):t.formData.hooks.enabled=!1,t.formData.hooks.commands=o,t.formData.hooks.shell=i,t.formData.hooks.arguments=s})(s,a),a}},8117:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(689),r=a(359),o=a(614);const i=e=>n.object({type:n.string().required(r.a.t("devconsole~Required")).oneOf(e),imageStreamTag:n.object().when("type",{is:"imageStreamTag",then:n.object({imageStream:n.object({namespace:n.string().required(r.a.t("devconsole~Required")),image:n.string().required(r.a.t("devconsole~Required")),tag:n.string().required(r.a.t("devconsole~Required"))})})}),imageStreamImage:n.string().when("type",{is:"imageStreamImage",then:n.string().required(r.a.t("devconsole~Required"))}),dockerImage:n.string().when("type",{is:"dockerImage",then:n.string().required(r.a.t("devconsole~Required"))})}),s=()=>n.mixed().test({test:e=>n.object({editorType:n.string().oneOf(Object.values(o.b)).required(r.a.t("devconsole~Required")),formData:n.mixed().when("editorType",{is:o.b.Form,then:n.object({name:n.string().required(r.a.t("devconsole~Required")),source:n.object({type:n.string().required(r.a.t("devconsole~Required")).oneOf(["git","dockerfile","binary"]),git:n.object().when("type",{is:"git",then:n.object({git:n.object({url:n.string().required(r.a.t("devconsole~Required")),ref:n.string(),dir:n.string()})})}),dockerfile:n.string().when("type",{is:"dockerfile",then:n.string()})}).required(r.a.t("devconsole~Required")),images:n.object({buildFrom:i(["imageStreamTag","imageStreamImage","dockerImage"]),pushTo:i(["none","imageStreamTag","imageStreamImage","dockerImage"])}),environmentVariables:n.array(),triggers:n.object(),secrets:n.array(),policy:n.object(),hooks:n.object()})}),yamlData:n.mixed().when("editorType",{is:o.b.YAML,then:n.string().required(r.a.t("devconsole~Required"))})}).validate(e,{abortEarly:!1})})},8879:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(7),i=a(5),s=a(8),l=a(614),c=a(1941),u=a(8880),d=a(8114),m=a(6333),p=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};t.a=({heading:e,namespace:t,name:a,buildConfig:g})=>{const{t:b}=Object(o.useTranslation)(),[v]=n.useState(()=>{var e;const t=Object(d.a)(g);return t.yamlData=Object(c.b)(g,"",{skipInvalid:!0}),t.resourceVersion=null===(e=null==g?void 0:g.metadata)||void 0===e?void 0:e.resourceVersion,t.formReloadCount=0,t}),f=()=>i.Vb.goBack();return n.createElement(r.b,{initialValues:v,onSubmit:(e,n)=>p(void 0,void 0,void 0,(function*(){var r;let o;try{o=Object(c.c)(e.yamlData),(null===(r=null==o?void 0:o.metadata)||void 0===r?void 0:r.namespace)||(o.metadata.namespace=t)}catch(e){return void n.setStatus({submitSuccess:"",submitError:b("devconsole~Invalid YAML - {{err}}",{err:e})})}const u=e.editorType===l.b.Form?Object(d.b)(o,e):o;try{const e=!a?yield Object(s.jb)(m.a,u):yield Object(s.rb)(m.a,u,t,a);i.Vb.push(Object(i.uc)(m.a,e.metadata.name,e.metadata.namespace))}catch(e){n.setStatus({submitSuccess:"",submitError:e.message})}})),validationSchema:Object(d.d)(),enableReinitialize:!0},t=>n.createElement(u.a,Object.assign({},t,{heading:e,buildConfig:g,handleCancel:f})))}},8880:function(e,t,a){"use strict";var n=a(0),r=a(22),o=a(7),i=a(15),s=a(5962),l=a(614),c=a(1941),u=a(8881),d=a(8114),m=a(6333);t.a=({heading:e,buildConfig:t,status:a,isSubmitting:p,dirty:g,handleSubmit:b,handleCancel:v,setFieldValue:f,setStatus:h,setErrors:y,errors:k,values:E})=>{var T,S,j;const{t:I}=Object(o.useTranslation)(),[w]=Object(i.ue)(),C=!(null===(T=null==t?void 0:t.metadata)||void 0===T?void 0:T.name),O=!C&&(null===(S=null==t?void 0:t.metadata)||void 0===S?void 0:S.resourceVersion)!==E.resourceVersion,R=(null===(j=null==t?void 0:t.metadata)||void 0===j?void 0:j.namespace)||w,P=n.createElement(u.a,{namespace:R}),x=n.createElement(i.C,{name:"yamlData",model:m.a,showSamples:C,onSave:b}),D=n.useCallback(()=>{var e;h({submitSuccess:"",submitError:""}),y({}),E.editorType===l.b.Form&&f("formData",Object(d.a)(t,E).formData,!1),f("yamlData",Object(c.b)(t,"",{skipInvalid:!0}),!1),f("resourceVersion",null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.resourceVersion,!0),f("formReloadCount",E.formReloadCount+1)},[y,f,h,E,t]);return n.createElement(i.P,{onSubmit:b},n.createElement(i.Q,{flexLayout:!0},n.createElement(i.S,{title:e}),n.createElement(i.fc,{name:"editorType",formContext:{name:"formData",editor:P,sanitizeTo:e=>Object(d.a)(e,E).formData},yamlContext:{name:"yamlData",editor:x,sanitizeTo:()=>Object(d.c)(E)},lastViewUserSettingKey:"devconsole.buildConfigForm.editor.lastView",noMargin:!0})),n.createElement(i.R,{handleReset:C?null:D,errorMessage:null==a?void 0:a.submitError,successMessage:null==a?void 0:a.submitSuccess,showAlert:O,infoTitle:I("devconsole~This object has been updated."),infoMessage:I("devconsole~Click reload to see the new version."),isSubmitting:p,submitLabel:I(C?"devconsole~Create":"devconsole~Save"),disableSubmit:(E.editorType===l.b.YAML?!g:!g||!r.a(k))||p,handleCancel:v,handleDownload:E.editorType===l.b.YAML&&(()=>Object(s.a)(E.yamlData)),sticky:!0}))}},8881:function(e,t,a){"use strict";var n=a(0),r=a(7),o=a(15),i=a(6324),s=a(5618),l=a(7316),c=a(8882),u=a(9230),d=a(6552),m=a(9231),p=a(9232),g=a(9233),b=a(9234);const v=({children:e})=>{const{t:t}=Object(r.useTranslation)();return n.createElement(r.Trans,{t:t,ns:"devconsole",defaults:"Click on the names to access advanced options for <0></0>.",components:[e]})},f=({namespace:e})=>{const{t:t}=Object(r.useTranslation)(),[a,i]=n.useState([]);return n.createElement(o.Eb,{visibleItems:a,onVisibleItemChange:e=>{i([...a,e])},Footer:v},n.createElement(o.Fb,{name:t("devconsole~Triggers")},n.createElement(b.a,{namespace:e})),n.createElement(o.Fb,{name:t("devconsole~Secrets")},n.createElement(p.a,{namespace:e})),n.createElement(o.Fb,{name:t("devconsole~Run Policy")},n.createElement(m.a,null)),n.createElement(o.Fb,{name:t("devconsole~Hooks")},n.createElement(c.a,null)))};t.a=({namespace:e})=>{const{t:t}=Object(r.useTranslation)(),[a,o]=n.useState(!0);return n.createElement(n.Fragment,null,a&&n.createElement(i.a,{onClose:()=>o(!1)}),n.createElement(d.a,null),n.createElement(g.a,null),n.createElement(u.a,null),n.createElement(l.a,{namespace:e}),n.createElement(s.a,{title:t("devconsole~Advanced options"),dataTest:"section advanced-options",fullWidth:!0},n.createElement("div",null,n.createElement(f,{namespace:e}))))}},8882:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(7),i=a(15),s=a(5618),l=a(6792);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[{value:{enabled:t,type:a,commands:c}}]=Object(r.e)("formData.hooks"),u={command:e("devconsole~Command"),shell:e("devconsole~Shell script"),onlyArgs:e("devconsole~Arguments to default image entry point")};return n.createElement(s.a,{title:e("devconsole~Hooks"),dataTest:"section hooks"},n.createElement(i.A,{name:"formData.hooks.enabled",label:e("devconsole~Run build hooks after image is built"),helpText:e("devconsole~Build hooks allow you to run commands at the end of the build to verify the image.")}),t?n.createElement(i.I,{name:"formData.hooks.type",label:e("devconsole~Hook type"),items:u,fullWidth:!0,dataTest:"type"}):null,t&&"shell"===a?n.createElement(l.a,{name:"formData.hooks.shell",label:e("devconsole~Script"),height:270,theme:"console",options:{lineHeight:18,readOnly:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1}}):null,t&&"command"===a?n.createElement(i.lc,{name:"formData.hooks.commands",label:e("devconsole~Command"),addLabel:e("devconsole~Add command"),placeholder:e("devconsole~Command"),helpText:e("devconsole~Enter the command to run inside the container. The command is considered successful if its exit code is 0."),disableDeleteRow:1===(null==c?void 0:c.length)}):null,!t||"shell"!==a&&"command"!==a&&"onlyArgs"!==a?null:n.createElement(i.lc,{name:"formData.hooks.arguments",label:e("devconsole~Arguments"),addLabel:e("devconsole~Add argument"),placeholder:e("devconsole~Argument"),helpText:e("devconsole~Enter the arguments that will be appended to the command.")}))}},9230:function(e,t,a){"use strict";var n=a(0),r=a(281),o=a(55),i=a(7),s=a(15),l=a(6108),c=a(5618),u=a(6333);const d=({fieldPrefix:e,label:t,fallbackTitle:a,items:u,dataTest:d,required:m})=>{const{t:p}=Object(i.useTranslation)(),[{value:g}]=Object(o.e)(e+".type");return n.createElement(c.a,{"data-test":d},n.createElement(s.I,{name:e+".type",label:t,items:u,title:u[g]||a,dataTest:d+" type",required:m}),"imageStreamTag"===g?n.createElement(l.a,{label:p("devconsole~Image stream tag"),formContextField:e+".imageStreamTag",dataTest:d+" image-stream-tag",required:!0}):null,"imageStreamImage"===g?n.createElement(s.ab,{label:p("devconsole~Image stream image"),name:e+".imageStreamImage",type:r.b.text,"data-test":d+" image-stream-image",required:!0}):null,"dockerImage"===g?n.createElement(s.ab,{label:p("devconsole~Image registry"),name:e+".dockerImage",type:r.b.text,"data-test":d+" docker-image",required:!0}):null)};t.a=()=>{const{t:e}=Object(i.useTranslation)(),[{value:t}]=Object(o.e)("formData.images.strategyType"),a=t===u.c.Docker?{none:e("devconsole~None"),imageStreamTag:e("devconsole~Image Stream Tag"),imageStreamImage:e("devconsole~Image Stream Image"),dockerImage:e("devconsole~External container image")}:{imageStreamTag:e("devconsole~Image Stream Tag"),imageStreamImage:e("devconsole~Image Stream Image"),dockerImage:e("devconsole~External container image")},r={none:e("devconsole~None"),imageStreamTag:e("devconsole~Image Stream Tag"),dockerImage:e("devconsole~External container image")};return n.createElement(c.a,{title:e("devconsole~Images"),dataTest:"section images"},n.createElement(d,{fieldPrefix:"formData.images.buildFrom",label:e("devconsole~Build from"),fallbackTitle:e("devconsole~Please select"),items:a,dataTest:"build-from",required:!0}),n.createElement(d,{fieldPrefix:"formData.images.pushTo",label:e("devconsole~Push to"),fallbackTitle:e("devconsole~Please select"),items:r,dataTest:"push-to"}))}},9231:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(7),i=a(15),s=a(5618),l=a(6333);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[{value:t}]=Object(r.e)("formData.policy.runPolicy"),a={[l.b.Serial]:e("devconsole~Serial"),[l.b.Parallel]:e("devconsole~Parallel"),[l.b.SerialLatestOnly]:e("devconsole~Serial latest only")},c={[l.b.Serial]:e("devconsole~Builds triggered from this Build Configuration will run one at the time, in the order they have been triggered."),[l.b.Parallel]:e("devconsole~Builds triggered from this Build Configuration will run all at the same time. The order in which they will finish is not guaranteed."),[l.b.SerialLatestOnly]:e("devconsole~Builds triggered from this Build Configuration will run one at the time. When a currently running build completes, the next build that will run is the latest build created. Other queued builds will be cancelled.")};return n.createElement(s.a,{title:e("devconsole~Policy"),subTitle:e("devconsole~The build run policy describes the order in which the builds created from the build configuration should run."),dataTest:"section policy"},n.createElement(i.I,{name:"formData.policy.runPolicy",label:e("devconsole~Run policy"),title:a[t||l.b.Serial],items:a,helpText:c[t||l.b.Serial],dataTest:"dropdown run-policy"}))}},9232:function(e,t,a){"use strict";var n=a(0),r=a(281),o=a(230),i=a(7),s=a(10),l=a(15),c=a(5618);t.a=({namespace:e})=>{const{t:t}=Object(i.useTranslation)(),a=[{isList:!0,kind:s.SecretModel.kind,prop:s.SecretModel.id,namespace:e}],u=t("devconsole~Mount point");return n.createElement(c.a,{title:t("devconsole~Secrets"),dataTest:"section secrets"},n.createElement(l.mb,{name:"formData.secrets",addLabel:t("devconsole~Add secret"),headers:[t("devconsole~Secret"),u],emptyValues:{}},n.createElement(l.Ob,{name:"secret",resources:a,dataSelector:["metadata","name"],placeholder:t("devconsole~Select a secret"),autocompleteFilter:(e,t)=>{var a;return o(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},fullWidth:!0,showBadge:!0}),n.createElement(l.ab,{name:"mountPoint",type:r.b.text,"aria-label":u})))}},9233:function(e,t,a){"use strict";var n=a(0),r=a(55),o=a(7),i=a(15),s=a(6107),l=a(5618),c=a(6792);t.a=()=>{const{t:e}=Object(o.useTranslation)(),[,t]=Object(r.e)("formData.name"),a=!t.initialValue,[{value:u}]=Object(r.e)("formData.source.type"),d={git:e("devconsole~Git"),dockerfile:e("devconsole~Dockerfile"),binary:e("devconsole~Binary")};return n.createElement(l.a,{title:e("devconsole~Source"),dataTest:"section source"},a||"git"!==u&&"dockerfile"!==u&&"binary"!==u?n.createElement(i.I,{name:"formData.source.type",label:e("devconsole~Source type"),title:e("devconsole~Please select your source type"),items:d,helpText:e("devconsole~Source could be a git repository or Dockerfile"),required:!0,fullWidth:!0}):null,"git"===u?n.createElement(s.a,{title:"",formContextField:"formData.source.git"}):null,"dockerfile"===u?n.createElement(c.a,{name:"formData.source.dockerfile",label:e("devconsole~Dockerfile"),height:180,language:"dockerfile",theme:"console",options:{lineHeight:18,readOnly:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1}}):null,"binary"===u?n.createElement("div",null,e("devconsole~There are no editable source types for this build config.")):null)}},9234:function(e,t,a){"use strict";var n=a(0),r=a(219),o=a(55),i=a(230),s=a(7),l=a(10),c=a(15),u=a(5618);t.a=({namespace:e})=>{const{t:t}=Object(s.useTranslation)(),[{value:a}]=Object(o.e)("formData.images.buildFrom.type"),d={Generic:t("devconsole~Generic"),GitHub:t("devconsole~GitHub"),GitLab:t("devconsole~GitLab"),Bitbucket:t("devconsole~BitBucket")},m=[{isList:!0,kind:l.SecretModel.kind,prop:l.SecretModel.id,namespace:e}];return n.createElement(u.a,{title:t("devconsole~Triggers"),dataTest:"section triggers"},n.createElement(r.a,{fieldId:"configChange",label:t("devconsole~Config change")},n.createElement(c.A,{name:"formData.triggers.configChange",label:t("devconsole~Automatically build a new image when config changes"),"data-test":"config-change checkbox"})),"none"!==a?n.createElement(r.a,{fieldId:"imageChange",label:t("devconsole~Image change")},n.createElement(c.A,{name:"formData.triggers.imageChange",label:t("devconsole~Automatically build a new image when image changes"),"data-test":"image-change checkbox"})):null,n.createElement(c.mb,{name:"formData.triggers.otherTriggers",addLabel:t("devconsole~Add trigger"),headers:[t("devconsole~Type"),t("devconsole~Secret")],emptyValues:{type:"generic"}},n.createElement(c.I,{name:"type",title:t("devconsole~Select"),items:d,fullWidth:!0}),n.createElement(c.Ob,{name:"secret",resources:m,dataSelector:["metadata","name"],placeholder:t("devconsole~Select a secret"),autocompleteFilter:(e,t)=>{var a;return i(e,null===(a=null==t?void 0:t.props)||void 0===a?void 0:a.name)},fullWidth:!0,showBadge:!0})))}}}]);
//# sourceMappingURL=buildConfig-chunk-87505ec757c2f8a3c61e.min.js.map