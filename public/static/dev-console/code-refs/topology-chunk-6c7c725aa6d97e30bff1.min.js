(window.webpackJsonp=window.webpackJsonp||[]).push([[158,20,35,44,57,91,126,132,218,258,259,298],{1407:function(e,t,n){"use strict";n.r(t),n.d(t,"getQuotaResourceTypes",(function(){return U})),n.d(t,"getACRQResourceUsage",(function(){return B})),n.d(t,"getResourceUsage",(function(){return F})),n.d(t,"UsageIcon",(function(){return q})),n.d(t,"ResourceUsageRow",(function(){return G})),n.d(t,"QuotaScopesInline",(function(){return V})),n.d(t,"QuotaScopesList",(function(){return Y})),n.d(t,"hasComputeResources",(function(){return z})),n.d(t,"ResourceQuotasList",(function(){return J})),n.d(t,"AppliedClusterResourceQuotasList",(function(){return Z})),n.d(t,"quotaType",(function(){return X})),n.d(t,"flatten",(function(){return ee})),n.d(t,"ResourceQuotasPage",(function(){return te})),n.d(t,"AppliedClusterResourceQuotasPage",(function(){return ne})),n.d(t,"ResourceQuotasDetailsPage",(function(){return ae})),n.d(t,"AppliedClusterResourceQuotasDetailsPage",(function(){return oe}));var a=n(16),o=n(160),r=n(1120),s=n(460),i=n(839),c=n(0),l=n(18),u=n(14),d=n(54),p=n(5839),m=n(5840),b=n(2248),v=n(2247),g=n(1199),h=n(7),f=n(5747),E=n(5746),y=n(5868),O=n(15),j=n(40),k=n(5),_=n(243),S=n(207),T=n(139),N=n(8),R=n(10),w=n(5674);const{common:C}=k.F.factory,P=[...k.F.getExtensionsActionsForKind(R.ResourceQuotaModel),...C],D=[...k.F.getExtensionsActionsForKind(R.ClusterResourceQuotaModel),...C],x=e=>[...k.F.getExtensionsActionsForKind(R.ClusterResourceQuotaModel),k.F.factory.ModifyLabels,k.F.factory.ModifyAnnotations,(t,n)=>({labelKey:"public~Edit AppliedClusterResourceQuota",href:`/k8s/ns/${e}/${Object(N.Hb)(R.AppliedClusterResourceQuotaModel)}/${n.metadata.name}/yaml`,accessReview:{group:t.apiGroup,resource:t.plural,name:n.metadata.name,namespace:e,verb:"update"}}),k.F.factory.Delete],I=e=>!e.metadata.namespace,M=Object(N.Hb)(R.ClusterResourceQuotaModel),L=Object(N.Hb)(R.AppliedClusterResourceQuotaModel),A=(e,t)=>e.metadata.namespace?P:"ClusterResourceQuota"===e.kind?D:"AppliedClusterResourceQuota"===e.kind?x(t.namespace):void 0,U=e=>{const t=I(e)?a.a(e,"spec.quota.hard"):a.a(e,"spec.hard");return o.a(t).sort()},B=(e,t,n)=>{var a,o,r,s,i,c,l,u,d,p,m,b,v;let g;if(n){g={namespace:null===(r=null===(o=(null===(a=e.status)||void 0===a?void 0:a.namespaces).filter(e=>e.namespace===n)[0])||void 0===o?void 0:o.status)||void 0===r?void 0:r.used[t],cluster:null===(i=null===(s=e.status)||void 0===s?void 0:s.total)||void 0===i?void 0:i.used[t]}}else g={namespace:0,cluster:null===(l=null===(c=e.status)||void 0===c?void 0:c.total)||void 0===l?void 0:l.used[t]};const h=null===(d=null===(u=e.status)||void 0===u?void 0:u.total)||void 0===d?void 0:d.used[t],f=(null===(m=null===(p=e.status)||void 0===p?void 0:p.total)||void 0===m?void 0:m.hard[t])||(null===(v=null===(b=e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.hard[t]),E=f&&g.namespace?Object(k.Ib)(g.namespace)/Object(k.Ib)(f)*100:0,y=(f&&g.cluster?Object(k.Ib)(g.cluster)/Object(k.Ib)(f)*100:0)-E;return{used:g,totalUsed:h,max:f,percent:{namespace:E,otherNamespaces:y,unused:100-(E+y)}}},F=(e,t)=>{const n=I(e),o=n?["status","total","hard"]:["status","hard"],r=n?["spec","quota","hard"]:["spec","hard"],s=n?["status","total","used"]:["status","used"],i=a.a(e,[...o,t])||a.a(e,[...r,t]),c=a.a(e,[...s,t]);return{used:c,max:i,percent:i&&c?Object(k.Ib)(c)/Object(k.Ib)(i)*100:0}},K=["","","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],$=["","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg",k.F.columnClass],q=({percent:e})=>{let t=c.createElement(g.a,null);return 0===e?t=c.createElement(p.a,{className:"co-resource-quota-empty"}):e>0&&e<50?t=c.createElement(m.a,{className:"co-resource-quota-almost-empty"}):e>=50&&e<100?t=c.createElement(b.a,{className:"co-resource-quota-almost-full"}):100===e?t=c.createElement(v.a,{className:"co-resource-quota-full"}):e>100&&(t=c.createElement(O.tc,{className:"co-resource-quota-exceeded"})),t},G=({quota:e,resourceType:t,namespace:n})=>{if(Object(N.Db)(e)===L){const{used:a,totalUsed:o,max:r,percent:s}=B(e,t,n);return c.createElement("div",{className:"row co-m-row"},c.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),c.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},c.createElement(q,{percent:s.namespace})),c.createElement("div",{className:"col-sm-2 col-xs-2"},a.namespace),c.createElement("div",{className:"col-sm-2 col-xs-2"},o),c.createElement("div",{className:"col-sm-2 col-xs-2"},r))}const{used:a,max:o,percent:r}=F(e,t);return c.createElement("div",{className:"row co-m-row"},c.createElement("div",{className:"col-sm-4 col-xs-6 co-break-word"},t),c.createElement("div",{className:"col-sm-2 hidden-xs co-resource-quota-icon"},c.createElement(q,{percent:r})),c.createElement("div",{className:"col-sm-3 col-xs-3"},a),c.createElement("div",{className:"col-sm-3 col-xs-3"},o))},V=({scopes:e})=>c.createElement("span",null,"(",e.join(", "),")"),Y=({scopes:e})=>{const{t:t}=Object(h.useTranslation)(),n={Terminating:{description:t("public~Affects pods that have an active deadline. These pods usually include builds, deployers, and jobs.")},NotTerminating:{description:t("public~Affects pods that do not have an active deadline. These pods usually include your applications.")},BestEffort:{description:t("public~Affects pods that do not have resource limits set. These pods have a best effort quality of service.")},NotBestEffort:{description:t("public~Affects pods that have at least one resource limit set. These pods do not have a best effort quality of service.")}};return e.map(e=>{const t=a.a(n,e);return t?c.createElement("dd",{key:e},c.createElement("div",{className:"co-resource-quota-scope__label"},e),c.createElement("div",{className:"co-resource-quota-scope__description"},t.description)):c.createElement("dd",{key:e,className:"co-resource-quota-scope__label"},e)})},z=e=>r.a(e,["requests.cpu","cpu","limits.cpu","requests.memory","memory","limits.memory"]).length>0,H=({obj:e})=>{var t,n,a,o,r,s,i,d,p;const{t:m}=Object(h.useTranslation)(),b=Object(u.useParams)(),v=U(e),g=null!==(n=null===(t=e.spec)||void 0===t?void 0:t.scopes)&&void 0!==n?n:null===(o=null===(a=e.spec)||void 0===a?void 0:a.quota)||void 0===o?void 0:o.scopes,O=Object(N.Db)(e),j=O===L,_=null==b?void 0:b.ns;let S,T;switch(O){case L:S=m("public~AppliedClusterResourceQuota details"),T=c.createElement(f.a,{appliedClusterResourceQuota:e,namespace:_});break;case M:S=m("public~ClusterResourceQuota details"),T=c.createElement(y.a,{clusterResourceQuota:e});break;default:S=m("public~ResourceQuota details"),T=c.createElement(E.a,{resourceQuota:e})}const w=Object(k.Dc)({group:R.ClusterResourceQuotaModel.apiGroup,resource:R.ClusterResourceQuotaModel.plural,verb:"list"});return c.createElement(c.Fragment,null,c.createElement("div",{className:"co-m-pane__body"},c.createElement(k.ob,{text:S}),T,c.createElement("div",{className:"row"},c.createElement("div",{className:"col-sm-6"},c.createElement(k.lb,{resource:e},w&&c.createElement(k.r,{label:m("public~ClusterResourceQuota"),obj:e,path:"rq.metadata.name"},c.createElement(k.hb,{kind:M,name:e.metadata.name})),c.createElement(k.r,{label:m("public~Label selector"),obj:e,path:"spec.selector.labels.matchLabels"},c.createElement(k.L,{kind:L,labels:null===(i=null===(s=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===s?void 0:s.labels)||void 0===i?void 0:i.matchLabels})),c.createElement(k.r,{label:m("public~Project annotations"),obj:e,path:"spec.selector.annotations"},c.createElement(k.pb,{selector:null===(p=null===(d=e.spec)||void 0===d?void 0:d.selector)||void 0===p?void 0:p.annotations,namespace:_})))),g&&c.createElement("div",{className:"col-sm-6"},c.createElement("dl",{className:"co-m-pane__details"},c.createElement("dt",null,m("public~Scopes")),c.createElement(Y,{scopes:g}))))),c.createElement("div",{className:"co-m-pane__body"},c.createElement(k.ob,{text:S,style:{display:"block",marginBottom:"20px"}},c.createElement(k.B,null,c.createElement("p",null,m("public~Requests are the amount of resources you expect to use. These are used when establishing if the cluster can fulfill your Request.")),c.createElement("p",null,m("public~Limits are a maximum amount of a resource you can consume. Applications consuming more than the Limit may be terminated.")),c.createElement("p",null,m("public~A cluster administrator can establish limits on both the amount you can request and your limits with a ResourceQuota.")))),c.createElement("div",{className:"co-m-table-grid co-m-table-grid--bordered"},c.createElement("div",{className:"row co-m-table-grid__head"},c.createElement("div",{className:"col-sm-4 col-xs-6"},m("public~Resource type")),c.createElement("div",{className:"col-sm-2 hidden-xs"},m("public~Capacity")),c.createElement("div",{className:l({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},m("public~Used")),j&&c.createElement("div",{className:"col-sm-2 col-xs-2"},m("public~Total used")),c.createElement("div",{className:l({"col-sm-2 col-xs-2":j},{"col-sm-3 col-xs-3":!j})},m("public~Max"))),c.createElement("div",{className:"co-m-table-grid__body"},v.map(t=>c.createElement(G,{key:t,quota:e,resourceType:t,namespace:_}))))))},W=({obj:e,customData:t})=>{var n,a,o,r,s,i,u,d;const{t:p}=Object(h.useTranslation)(),m=A(e,t);let b;return b=e.kind===R.ResourceQuotaModel.kind?Object.keys((null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.hard)||{}).reduce((t,n)=>{var a,o,r;return Object(w.b)(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.hard[n],null===(r=null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.used)||void 0===r?void 0:r[n])>=100?t+1:t},0):Object.keys((null===(o=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===o?void 0:o.hard)||{}).reduce((t,n)=>{var a,o,r,s,i;return Object(w.b)(null===(o=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===o?void 0:o.hard[n],null===(i=null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.total)||void 0===s?void 0:s.used)||void 0===i?void 0:i[n])>=100?t+1:t},0),c.createElement(c.Fragment,null,c.createElement(j.k,{className:K[0]},c.createElement(k.hb,{kind:Object(N.Db)(e),name:e.metadata.name,namespace:Object(N.Db)(e)===L?t.namespace:e.metadata.namespace,className:"co-resource-item__resource-name",dataTest:"resource-quota-link"})),c.createElement(j.k,{className:l(K[1],"co-break-word"),columnID:"namespace"},e.metadata.namespace?c.createElement(k.hb,{kind:"Namespace",name:e.metadata.namespace}):p("public~None")),c.createElement(j.k,{className:l(K[2],"co-break-word")},c.createElement(k.L,{kind:L,labels:null===(i=null===(s=null===(r=e.spec)||void 0===r?void 0:r.selector)||void 0===s?void 0:s.labels)||void 0===i?void 0:i.matchLabels})),c.createElement(j.k,{className:l(K[3],"co-break-word")},c.createElement(k.pb,{selector:null===(d=null===(u=e.spec)||void 0===u?void 0:u.selector)||void 0===d?void 0:d.annotations,namespace:t.namespace})),c.createElement(j.k,{className:l(K[4],"co-break-word")},b>0?c.createElement(c.Fragment,null,c.createElement(O.tc,null)," ",p("public~{{count}} resource reached quota",{count:b})):p("public~none are at quota")),c.createElement(j.k,{className:K[5]},c.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),c.createElement(j.k,{className:K[6]},c.createElement(k.gb,{customData:t,actions:m,kind:Object(N.Db)(e),resource:e})))},Q=({obj:e,customData:t})=>{var n,a,o,r,s,i,u;const{t:d}=Object(h.useTranslation)(),p=A(e,t),m=Object.keys((null===(a=null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.total)||void 0===a?void 0:a.hard)||{}).reduce((t,n)=>{var a,o,r,s,i;return Object(w.b)(null===(o=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.total)||void 0===o?void 0:o.hard[n],null===(i=null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.total)||void 0===s?void 0:s.used)||void 0===i?void 0:i[n])>=100?t+1:t},0);return c.createElement(c.Fragment,null,c.createElement(j.k,{className:$[0]},c.createElement(k.hb,{kind:L,name:e.metadata.name,namespace:t.namespace,className:"co-resource-item__resource-name"})),c.createElement(j.k,{className:l($[1],"co-break-word")},c.createElement(k.L,{kind:L,labels:null===(s=null===(r=null===(o=e.spec)||void 0===o?void 0:o.selector)||void 0===r?void 0:r.labels)||void 0===s?void 0:s.matchLabels})),c.createElement(j.k,{className:l($[2],"co-break-word")},c.createElement(k.pb,{selector:null===(u=null===(i=e.spec)||void 0===i?void 0:i.selector)||void 0===u?void 0:u.annotations,namespace:t.namespace})),c.createElement(j.k,{className:l($[3],"co-break-word")},m>0?c.createElement(c.Fragment,null,c.createElement(O.tc,null)," ",d("public~{{count}} resource reached quota",{count:m})):d("public~none are at quota")),c.createElement(j.k,{className:$[4]},c.createElement(k.xb,{timestamp:e.metadata.creationTimestamp})),c.createElement(j.k,{className:$[5]},c.createElement(k.gb,{customData:t,actions:p,kind:L,resource:e})))},J=e=>{const{t:t}=Object(h.useTranslation)();return c.createElement(j.j,Object.assign({},e,{"aria-label":t("public~ResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:K[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[d.a],props:{className:K[1]},id:"namespace"},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:K[2]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:K[3]}},{title:t("public~Status"),props:{className:K[4]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:K[5]}},{title:"",props:{className:K[6]}}],Row:W,virtualize:!0,customData:{namespace:e.namespace}}))},Z=e=>{const{t:t}=Object(h.useTranslation)();return c.createElement(j.j,Object.assign({},e,{"aria-label":t("public~AppliedClusterResourceQuotas"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[d.a],props:{className:$[0]}},{title:t("public~Label selector"),sortField:"spec.selector.labels.matchLabels",transforms:[d.a],props:{className:$[1]}},{title:t("public~Project annotations"),sortField:"spec.selector.annotations",transforms:[d.a],props:{className:$[2]}},{title:t("public~Status"),props:{className:$[3]},transforms:[d.a]},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[d.a],props:{className:$[4]}},{title:"",props:{className:$[5]}}],Row:Q,virtualize:!0,customData:{namespace:e.namespace}}))},X=e=>{if(e)return e.metadata.namespace?"namespace":"cluster"},ee=e=>s.a(e,e=>i.a(e.data)),te=Object(_.a)(O.O.OPENSHIFT)(({namespace:e,flags:t,mock:n,showTitle:a})=>{const{t:o}=Object(h.useTranslation)(),r=[{kind:"ResourceQuota",namespaced:!0}];let s=null;if(Object(S.c)(t[O.O.OPENSHIFT]))return c.createElement(T.f,null);t[O.O.OPENSHIFT]&&(e?r.push({kind:Object(N.Hb)(R.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}):r.push({kind:Object(N.Hb)(R.ClusterResourceQuotaModel),namespaced:!1,optional:!0}),s=[{filterGroupName:o("public~Role"),type:"role-kind",reducer:X,items:[{id:"cluster",title:o("public~Cluster-wide {{resource}}",{resource:o(R.ResourceQuotaModel.labelPluralKey)})},{id:"namespace",title:o("public~Namespace {{resource}}",{resource:o(R.ResourceQuotaModel.labelPluralKey)})}]}]);const i=e||"default",l={model:R.ResourceQuotaModel,namespace:i};return c.createElement(j.i,{canCreate:!0,createAccessReview:l,createButtonText:o("public~Create ResourceQuota"),createProps:{to:`/k8s/ns/${i}/resourcequotas/~new`},ListComponent:J,resources:r,label:o(R.ResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:o(R.ResourceQuotaModel.labelPluralKey),rowFilters:s,mock:n,showTitle:a})}),ne=({namespace:e,mock:t,showTitle:n})=>{const{t:a}=Object(h.useTranslation)(),o=[{kind:Object(N.Hb)(R.AppliedClusterResourceQuotaModel),namespaced:!0,namespace:e,optional:!0}];return c.createElement(j.i,{ListComponent:Z,resources:o,label:a(R.AppliedClusterResourceQuotaModel.labelPluralKey),namespace:e,flatten:ee,title:a(R.AppliedClusterResourceQuotaModel.labelPluralKey),mock:t,showTitle:n})},ae=e=>c.createElement(j.a,Object.assign({},e,{menuActions:P,pages:[k.mc.details(H),k.mc.editYaml()]})),oe=e=>{const t=Object(u.useParams)(),n=x(null==t?void 0:t.ns);return c.createElement(j.a,Object.assign({},e,{menuActions:n,pages:[k.mc.details(H),k.mc.editYaml()]}))}},1945:function(e,t,n){"use strict";n.r(t),n.d(t,"deleteModal",(function(){return H})),n.d(t,"NamespacesList",(function(){return oe})),n.d(t,"NamespacesPage",(function(){return re})),n.d(t,"projectMenuActions",(function(){return se})),n.d(t,"ProjectsTable",(function(){return pe})),n.d(t,"ProjectList",(function(){return he})),n.d(t,"ProjectsPage",(function(){return fe})),n.d(t,"PullSecret",(function(){return Ee})),n.d(t,"NamespaceLineCharts",(function(){return ye})),n.d(t,"TopPodsBarChart",(function(){return Oe})),n.d(t,"NamespaceSummary",(function(){return ke})),n.d(t,"NamespaceDetails",(function(){return _e})),n.d(t,"NamespacesDetailsPage",(function(){return Te})),n.d(t,"ProjectsDetailsPage",(function(){return Ne}));var a=n(16),o=n(667),r=n(1256),s=n(501),i=n(22),c=n(50),l=n(461),u=n(0),d=n(137),p=n(18),m=n(54),b=n(88),v=n(80),g=n(19),h=n(2244),f=n.n(h),E=n(31),y=n(7),O=n(29),j=n(615),k=n(764),_=n(15),S=n(762),T=n(121),N=n(13),R=n(10),w=n(109),C=n(8),P=n(53),D=n(40),x=n(5),I=n(131),M=n(767),L=n(199),A=n(207),U=n(978),B=n(5852),F=n(5838),K=n(108),$=n(1418),q=n(2249),G=n(2250),V=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const Y=e=>a.a(e,["metadata","annotations","openshift.io/display-name"]),z=()=>[{filterGroupName:O.a.t("public~Requester"),type:"requester",reducer:e=>{var t,n,a;const o=null===(t=e.metadata)||void 0===t?void 0:t.name,r=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)||void 0===a?void 0:a["openshift.io/requester"];return Object($.b)(r)?_.Hb.ME:Object($.c)(r,o)?_.Hb.USER:Object($.d)({title:o})?_.Hb.SYSTEM:void 0},items:[{id:_.Hb.ME,title:O.a.t("public~Me")},{id:_.Hb.USER,title:O.a.t("public~User")},{id:_.Hb.SYSTEM,title:O.a.t("public~System"),hideIfEmpty:!0}]}],H=(e,t)=>{var n;const{labelKey:a,labelKind:o,weight:r,accessReview:s}=x.F.factory.Delete(e,t);let i,c,l=void 0;return"default"===t.metadata.name?i=e.label+" default cannot be deleted":"Terminating"===(null===(n=t.status)||void 0===n?void 0:n.phase)?i=e.label+" is already terminating":l=()=>Object(I.r)({kind:e,resource:t}),i&&(c=u.createElement("div",{className:"dropdown__disabled"},u.createElement(b.a,{content:i},u.createElement("span",null,O.a.t(a,o))))),{label:c,labelKey:a,labelKind:o,weight:r,callback:l,accessReview:s}},W=[x.F.factory.ModifyLabels,x.F.factory.ModifyAnnotations,x.F.factory.Edit,H],Q=()=>{const e=[{key:"memory",query:'sum by(namespace) (container_memory_working_set_bytes{container="",pod!=""})'},{key:"cpu",query:"namespace:container_cpu_usage:sum"}].map(({key:e,query:t})=>{const n=`${L.g}/api/v1/query?&query=${t}`;return Object(w.c)(n).then(({data:{result:t}})=>t.reduce((t,n)=>{const a=Number(n.value[1]);return o.a(t,[e,n.metric.namespace],a)},{}))});return Promise.all(e).then(e=>r.a({},...e)).catch(console.error)},J=Object.freeze({name:{classes:"",id:"name"},displayName:{classes:"co-break-word",id:"displayName"},status:{classes:"",id:"status"},requester:{classes:"",id:"requester"},memory:{classes:"",id:"memory"},cpu:{classes:"",id:"cpu"},created:{classes:"",id:"created"},description:{classes:"",id:"description"},labels:{classes:"",id:"labels"}}),Z=()=>[{title:O.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:O.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:O.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:O.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},{title:O.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:O.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}},{title:O.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:O.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:O.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},{title:"",props:{className:x.F.columnClass}}];Z.displayName="NamespacesTableHeader";const X=Object(C.Hb)(R.NamespaceModel),ee=()=>new Set(Z().reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])),te=({obj:e,customData:{tableColumns:t}})=>{var n,a,o;const{t:r}=Object(y.useTranslation)(),s=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),i=Object(_.dd)(e),c=Object(_.Bd)(e),l=null===(n=null==s?void 0:s.memory)||void 0===n?void 0:n[i],d=null===(a=null==s?void 0:s.cpu)||void 0===a?void 0:a[i],m=Object(_.Jc)(e),b=e.metadata.labels,v=(null==t?void 0:t.length)>0?new Set(t):ee();return u.createElement(u.Fragment,null,u.createElement(D.k,{className:J.name.classes},u.createElement(x.hb,{kind:"Namespace",name:e.metadata.name})),u.createElement(D.k,{className:J.displayName.classes,columns:v,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},Y(e)||u.createElement("span",{className:"text-muted"},r("public~No display name")))),u.createElement(D.k,{className:p(J.status.classes,"co-break-word"),columns:v,columnID:J.status.id},u.createElement(_.cc,{status:null===(o=e.status)||void 0===o?void 0:o.phase})),u.createElement(D.k,{className:p(J.requester.classes,"co-break-word"),columns:v,columnID:J.requester.id},c||u.createElement("span",{className:"text-muted"},r("public~No requester"))),u.createElement(D.k,{className:J.memory.classes,columns:v,columnID:J.memory.id},l?Object(x.Ob)(l)+" MiB":"-"),u.createElement(D.k,{className:J.cpu.classes,columns:v,columnID:J.cpu.id},d?r("public~{{cores}} cores",{cores:Object(x.Pb)(d)}):"-"),u.createElement(D.k,{className:J.created.classes,columns:v,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),u.createElement(D.k,{className:J.description.classes,columns:v,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},m||u.createElement("span",{className:"text-muted"},r("public~No description")))),u.createElement(D.k,{className:J.labels.classes,columns:v,columnID:J.labels.id},u.createElement(x.L,{kind:"Namespace",labels:b})),u.createElement(D.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:W,kind:"Namespace",resource:e})))},ne=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No Namespaces found"),Icon:f.a},e("public~No results were found for the requested Namespaces."))},ae=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Namespaces"),Icon:f.a},e("public~No results match the filter criteria."))},oe=e=>{var t;const{t:n}=Object(y.useTranslation)(),a=Object(E.useDispatch)(),[o]=Object(_.ff)(_.q,_.r,void 0,!0);u.useEffect(()=>{const e=()=>Q().then(e=>a(P.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[a]);const r=(null===(t=null==o?void 0:o[X])||void 0===t?void 0:t.length)>0?new Set(o[X]):null,s=u.useMemo(()=>({tableColumns:null==o?void 0:o[X]}),[o]);return u.createElement(D.j,Object.assign({},e,{activeColumns:r,columnManagementID:X,"aria-label":n("public~Namespaces"),Header:Z,Row:te,customData:s,virtualize:!0,EmptyMsg:ae,NoDataEmptyMsg:ne}))},re=e=>{var t;const{t:n}=Object(y.useTranslation)(),a=Object(q.a)(),[o]=Object(_.ff)(_.q,_.r,void 0,!0),r=(null===(t=null==o?void 0:o[X])||void 0===t?void 0:t.length)>0?new Set(o[X]):ee();return u.createElement(D.c,Object.assign({},e,{rowFilters:z(),ListComponent:oe,canCreate:!0,createHandler:()=>a(),columnLayout:{columns:Z().map(e=>s.a(e,["title","additional","id"])),id:X,selectedColumns:r,type:n("public~Namespaces")}}))},se=[x.F.factory.Edit,H],ie=Object(C.Hb)(R.ProjectModel),ce=({showMetrics:e,showActions:t})=>[{title:O.a.t("public~Name"),id:J.name.id,sortField:"metadata.name",transforms:[m.a],props:{className:J.name.classes}},{title:O.a.t("public~Display name"),id:J.displayName.id,sortField:'metadata.annotations["openshift.io/display-name"]',transforms:[m.a],props:{className:J.displayName.classes}},{title:O.a.t("public~Status"),id:J.status.id,sortField:"status.phase",transforms:[m.a],props:{className:J.status.classes}},{title:O.a.t("public~Requester"),id:J.requester.id,sortField:"metadata.annotations.['openshift.io/requester']",transforms:[m.a],props:{className:J.requester.classes}},...e?[{title:O.a.t("public~Memory"),id:J.memory.id,sortFunc:"namespaceMemory",transforms:[m.a],props:{className:J.memory.classes}},{title:O.a.t("public~CPU"),id:J.cpu.id,sortFunc:"namespaceCPU",transforms:[m.a],props:{className:J.cpu.classes}}]:[],{title:O.a.t("public~Created"),id:J.created.id,sortField:"metadata.creationTimestamp",transforms:[m.a],props:{className:J.created.classes}},{title:O.a.t("public~Description"),id:J.description.id,sortField:"metadata.annotations.['openshift.io/description']",transforms:[m.a],props:{className:J.description.classes},additional:!0},{title:O.a.t("public~Labels"),id:J.labels.id,sortField:"metadata.labels",transforms:[m.a],props:{className:J.labels.classes},additional:!0},...t?[{title:"",props:{className:x.F.columnClass}}]:[]],le=({project:e})=>{const t=Object(E.useDispatch)(),[,n]=Object(_.ff)(_.gb,_.fb),a=new URL(window.location.href),o=new URLSearchParams(a.search),r=a.pathname;o.has("project-name")&&o.delete("project-name");const s={search:"?"+o.toString(),hash:a.hash},i=P.b(e.metadata.name,r,s);return u.createElement("span",{className:"co-resource-item co-resource-item--truncate"},u.createElement(x.fb,{kind:"Project"}),u.createElement(k.Link,{to:i,className:"co-resource-item__resource-name",onClick:a=>{Object(_.Sd)(a)||(n(e.metadata.name),sessionStorage.setItem(_.fb,e.metadata.name),t(T.b(Object(C.Hb)(R.ProjectModel),"project-name","")))}},e.metadata.name))},ue=()=>ce({showMetrics:!1,showActions:!1}),de=({obj:e,customData:t={}})=>{var n,a,o;const{t:r}=Object(y.useTranslation)(),s=Object(E.useSelector)(({UI:e})=>e.getIn(["metrics","namespace"])),i=Object(_.dd)(e),c=Object(_.Bd)(e),{ProjectLinkComponent:l,actionsEnabled:d=!0,showMetrics:m,showActions:b,isColumnManagementEnabled:v=!0,tableColumns:g}=t,h=null===(n=null==s?void 0:s.memory)||void 0===n?void 0:n[i],f=null===(a=null==s?void 0:s.cpu)||void 0===a?void 0:a[i],O=Object(_.Jc)(e),j=e.metadata.labels,k=v?(null==g?void 0:g.length)>0?new Set(g):(({showMetrics:e,showActions:t})=>new Set(ce({showMetrics:e,showActions:t}).reduce((e,t)=>(t.id&&!t.additional&&e.push(t.id),e),[])))({showMetrics:m,showActions:b}):null;return u.createElement(u.Fragment,null,u.createElement(D.k,{className:J.name.classes},t&&l?u.createElement(l,{project:e}):u.createElement("span",{className:"co-resource-item"},u.createElement(x.hb,{kind:"Project",name:e.metadata.name}))),u.createElement(D.k,{className:J.displayName.classes,columns:k,columnID:J.displayName.id},u.createElement("span",{className:"co-break-word co-line-clamp"},Y(e)||u.createElement("span",{className:"text-muted"},r("public~No display name")))),u.createElement(D.k,{className:J.status.classes,columns:k,columnID:J.status.id},u.createElement(_.cc,{status:null===(o=e.status)||void 0===o?void 0:o.phase})),u.createElement(D.k,{className:p(J.requester.classes,"co-break-word"),columns:k,columnID:J.requester.id},c||u.createElement("span",{className:"text-muted"},r("public~No requester"))),m&&u.createElement(u.Fragment,null,u.createElement(D.k,{className:J.memory.classes,columns:k,columnID:J.memory.id},h?Object(x.Ob)(h)+" MiB":"-"),u.createElement(D.k,{className:J.cpu.classes,columns:k,columnID:J.cpu.id},f?r("public~{{cores}} cores",{cores:Object(x.Pb)(f)}):"-")),u.createElement(D.k,{className:J.created.classes,columns:k,columnID:J.created.id},u.createElement(x.xb,{timestamp:e.metadata.creationTimestamp})),v&&u.createElement(u.Fragment,null,u.createElement(D.k,{className:J.description.classes,columns:k,columnID:J.description.id},u.createElement("span",{className:"co-break-word co-line-clamp"},O||u.createElement("span",{className:"text-muted"},r("public~No description")))),u.createElement(D.k,{className:J.labels.classes,columns:k,columnID:J.labels.id},u.createElement(x.L,{labels:j,kind:"Project"}))),d&&u.createElement(D.k,{className:x.F.columnClass},u.createElement(x.gb,{actions:se,kind:"Project",resource:e})))};de.displayName="ProjectTableRow";const pe=e=>{const{t:t}=Object(y.useTranslation)(),n=u.useMemo(()=>({ProjectLinkComponent:le,actionsEnabled:!1,isColumnManagementEnabled:!1}),[]);return u.createElement(D.j,Object.assign({},e,{"aria-label":t("public~Projects"),Header:ue,Row:de,customData:n,virtualize:!0}))},me=()=>ce({showMetrics:!0,showActions:!0}),be=()=>ce({showMetrics:!1,showActions:!0}),ve=()=>{const{t:e}=Object(y.useTranslation)(),t=Object(_.Fe)(_.O.CAN_CREATE_NS),n=Object(_.Fe)(_.O.CAN_CREATE_PROJECT),a=t||n;return u.createElement(x.h,{title:e("public~Welcome to OpenShift")},u.createElement(U.a,{canCreate:a}))},ge=()=>{const{t:e}=Object(y.useTranslation)();return u.createElement(x.h,{title:e("public~No matching Projects"),icon:f.a},e("public~No results match the filter criteria."))},he=e=>{var t,{data:n}=e,a=V(e,["data"]);const{t:o}=Object(y.useTranslation)(),r=Object(E.useDispatch)(),s=Object(_.Fe)(_.O.CAN_GET_NS),[i]=Object(_.ff)(_.q,_.r,void 0,!0),c=Object(_.Ue)()&&s&&window.screen.width>=1200,l=u.useMemo(()=>({showMetrics:c,tableColumns:null==i?void 0:i[ie]}),[c,i]);u.useEffect(()=>{if(c){const e=()=>Q().then(e=>r(P.q(e)));e();const t=setInterval(e,3e4);return()=>clearInterval(t)}},[r,c]);const d=(null===(t=null==i?void 0:i[ie])||void 0===t?void 0:t.length)>0?new Set(i[ie]):null;return Object(A.c)(s)?null:u.createElement(D.j,Object.assign({},a,{activeColumns:d,columnManagementID:ie,"aria-label":o("public~Projects"),data:n,Header:c?me:be,Row:de,NoDataEmptyMsg:ve,EmptyMsg:ge,customData:l,virtualize:!0}))},fe=e=>{var t;const{t:n}=Object(y.useTranslation)(),a=Object(G.a)(),o=Object(_.Fe)(_.O.CAN_GET_NS),r=Object(_.Fe)(_.O.CAN_CREATE_PROJECT),[i]=Object(_.ff)(_.q,_.r,void 0,!0),c=Object(_.Ue)()&&o&&window.screen.width>=1200,l=c;return u.createElement(D.c,Object.assign({},e,{rowFilters:z(),ListComponent:he,canCreate:r,createHandler:()=>a(),filterLabel:n("public~by name or display name"),skipAccessReview:!0,textFilter:"project-name",kind:"Project",columnLayout:{columns:ce({showMetrics:c,showActions:l}).map(e=>s.a(e,["title","additional","id"])),id:ie,selectedColumns:(null===(t=null==i?void 0:i[ie])||void 0===t?void 0:t.length)>0?new Set(i[ie]):null,type:n("public~Project")}}))},Ee=e=>{const[t,n]=u.useState(!0),[a,o]=u.useState([]),[r,s]=u.useState(!1),{t:i}=Object(y.useTranslation)(),{namespace:c,canViewSecrets:l}=e;u.useEffect(()=>{Object(C.kb)(R.ServiceAccountModel,"default",c.metadata.name,{}).then(e=>{var t;n(!1),o(null!==(t=e.imagePullSecrets)&&void 0!==t?t:[]),s(!1)}).catch(e=>{n(!1),o([]),s(!0),console.error("Error getting default ServiceAccount",e)})},[c.metadata.name]);const d=()=>Object(I.k)({namespace:c,pullSecret:void 0});return u.createElement(u.Fragment,null,u.createElement("dt",null,i("public~Default pull Secret",{count:a.length})),u.createElement("dd",null,t?u.createElement(x.T,null):r?u.createElement(v.a,{variant:"danger",isInline:!0,title:i("Error loading default pull Secrets")}):a.length>0?a.map(e=>u.createElement("div",{key:e.name},u.createElement(x.hb,{kind:"Secret",name:e.name,namespace:c.metadata.name,linkTo:l}))):u.createElement(g.a,{variant:"link",type:"button",isInline:!0,onClick:d},i("public~Not configured"),u.createElement(j.a,{className:"co-icon-space-l pf-v5-c-button-icon--plain"}))))},ye=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(L.b,{title:t("public~CPU usage"),humanize:x.Yb,namespace:e.metadata.name,query:`namespace:container_cpu_usage:sum{namespace='${e.metadata.name}'}`})),u.createElement("div",{className:"col-md-6 col-sm-12"},u.createElement(L.b,{title:t("public~Memory usage"),humanize:x.Wb,byteDataType:S.a.BinaryBytes,namespace:e.metadata.name,query:`sum by(namespace) (container_memory_working_set_bytes{namespace="${e.metadata.name}",container="",pod!=""})`})))},Oe=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return u.createElement(L.c,{title:t("public~Memory usage by pod (top 10)"),namespace:e.metadata.name,query:`sort_desc(topk(10, sum by (pod)(container_memory_working_set_bytes{container="",pod!="",namespace="${e.metadata.name}"})))`,humanize:x.Wb,metric:"pod"})},je=({ns:e})=>{const{t:t}=Object(y.useTranslation)();return Object(_.Ue)()?u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:t("public~Resource usage")}),u.createElement(ye,{ns:e}),u.createElement(Oe,{ns:e})):null},ke=({ns:e})=>{var t,n,a;const{t:o}=Object(y.useTranslation)(),r=Y(e),s=Object(_.Jc)(e),i=Object(_.Bd)(e),c=null===(n=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["maistra.io/member-of"],l=Object(x.Dc)({group:R.SecretModel.apiGroup,resource:R.SecretModel.plural,verb:"patch",namespace:e.metadata.name});return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement(x.lb,{resource:e,showLabelEditor:"Namespace"===e.kind},u.createElement("dt",null,o("public~Display name")),u.createElement("dd",{className:p({"text-muted":!r})},r||o("public~No display name")),u.createElement("dt",null,o("public~Description")),u.createElement("dd",null,u.createElement("p",{className:p({"text-muted":!s,"co-pre-wrap":s,"co-namespace-summary__description":s})},s||o("public~No description"))),i&&u.createElement("dt",null,"Requester"),i&&u.createElement("dd",null,i))),u.createElement("div",{className:"col-sm-6 col-xs-12"},u.createElement("dl",{className:"co-m-pane__details"},u.createElement(x.r,{label:o("public~Status"),obj:e,path:"status.phase"},u.createElement(_.cc,{status:null===(a=e.status)||void 0===a?void 0:a.phase})),u.createElement(Ee,{namespace:e,canViewSecrets:l}),u.createElement("dt",null,o("public~NetworkPolicies")),u.createElement("dd",null,u.createElement(k.Link,{to:`/k8s/ns/${e.metadata.name}/networkpolicies`},o("public~NetworkPolicies"))),c&&u.createElement(u.Fragment,null,u.createElement("dt",null,o("public~Service mesh")),u.createElement("dd",null,u.createElement(_.X,null)," ",o("public~Service mesh enabled"))))))},_e=({obj:e,customData:t})=>{const{t:n}=Object(y.useTranslation)(),[a]=Object(N.jc)(),[o]=Object(K.a)({isList:!0,kind:Object(C.Hb)(R.ConsoleLinkModel),optional:!0}),r=Object(F.b)(e,o);return u.createElement("div",null,"dev"===a&&u.createElement(d.b,null,u.createElement("title",null,n("public~Project details"))),u.createElement("div",{className:"co-m-pane__body"},!(null==t?void 0:t.hideHeading)&&u.createElement(x.ob,{text:n("public~{{kind}} details",{kind:e.kind})}),u.createElement(ke,{ns:e})),"Namespace"===e.kind&&u.createElement(je,{ns:e}),!i.a(r)&&u.createElement("div",{className:"co-m-pane__body"},u.createElement(x.ob,{text:n("public~Launcher")}),u.createElement("ul",{className:"pf-v5-c-list pf-m-plain"},c.a(l.a(r,"spec.text"),e=>u.createElement("li",{key:e.metadata.uid},u.createElement(x.z,{href:e.spec.href,text:e.spec.text}))))))},Se=({obj:{metadata:e}})=>u.createElement(M.RoleBindingsPage,{createPath:`/k8s/ns/${e.name}/rolebindings/~new`,namespace:e.name,showTitle:!1}),Te=e=>u.createElement(D.a,Object.assign({},e,{menuActions:W,pages:[x.mc.details(_e),x.mc.editYaml(),x.mc.roles(Se)]})),Ne=e=>u.createElement(D.a,Object.assign({},e,{menuActions:se,pages:[{href:"",nameKey:"public~Overview",component:F.a},{href:"details",nameKey:"public~Details",component:_e},x.mc.editYaml(),x.mc.workloads(B.a),x.mc.roles(Se)]}))},2231:function(e,t,n){"use strict";n.r(t),n.d(t,"getStatusGroups",(function(){return p})),n.d(t,"getPodStatusGroups",(function(){return m})),n.d(t,"getNodeStatusGroups",(function(){return b})),n.d(t,"getPVCStatusGroups",(function(){return v})),n.d(t,"getPVStatusGroups",(function(){return g})),n.d(t,"getVSStatusGroups",(function(){return h}));var a=n(2233),o=n(2238),r=n(8),s=n(475);const i={[s.a.NOT_MAPPED]:["Running","Succeeded"],[s.a.ERROR]:["CrashLoopBackOff","Failed"],[s.a.PROGRESS]:["Terminating","Pending"],[s.a.WARN]:["Unknown"]},c={[s.a.NOT_MAPPED]:["Bound"],[s.a.ERROR]:["Lost"],[s.a.PROGRESS]:["Pending"]},l={[s.a.NOT_MAPPED]:["Available","Bound"],[s.a.PROGRESS]:["Released"],[s.a.ERROR]:["Failed"]},u={[s.a.NOT_MAPPED]:["Ready"],[s.a.PROGRESS]:["Not Ready"]},d={[s.a.NOT_MAPPED]:["Ready"],[s.a.PROGRESS]:["Pending"],[s.a.ERROR]:["Error"]},p=(e,t,n,a)=>{const o={[s.a.UNKNOWN]:{statusIDs:[],count:0}};return Object.keys(t).forEach(e=>{o[e]={statusIDs:[...t[e]],count:0,filterType:a}}),e.forEach(e=>{const a=n(e),r=Object.keys(t).find(e=>t[e].includes(a))||s.a.UNKNOWN;o[r].count++}),o},m=e=>p(e,i,r.Ab,"pod-status"),b=e=>p(e,u,a.a,"node-status"),v=e=>p(e,c,e=>e.status.phase,"pvc-status"),g=e=>p(e,l,e=>e.status.phase,"pv-status"),h=e=>p(e,d,o.b,"snapshot-status")},322:function(e,t,n){"use strict";n.r(t);var a=n(5811);n.d(t,"useCronJobSideBarDetails",(function(){return a.a}));var o=n(5812);n.d(t,"useDaemonSetSideBarDetails",(function(){return o.a}));var r=n(5813);n.d(t,"useDeploymentConfigSideBarDetails",(function(){return r.a}));var s=n(5814);n.d(t,"useDeploymentSideBarDetails",(function(){return s.a}));var i=n(5815);n.d(t,"useJobSideBarDetails",(function(){return i.a}));var c=n(5816);n.d(t,"usePodsSideBarTabSection",(function(){return c.a}));var l=n(5818);n.d(t,"useStatefulSetSideBarDetails",(function(){return l.a}));var u=n(5819);n.d(t,"getWorkloadResourceLink",(function(){return u.a}));var d=n(5700);n.d(t,"getDataFromAdapter",(function(){return d.b})),n.d(t,"podsAdapterForWorkloads",(function(){return d.e})),n.d(t,"buildsAdapterForWorkloads",(function(){return d.a})),n.d(t,"networkAdapterForWorkloads",(function(){return d.c})),n.d(t,"podsAdapterForCronJobWorkload",(function(){return d.d}));var p=n(5820);n.d(t,"useBuildsSideBarTabSection",(function(){return p.a}));var m=n(5821);n.d(t,"useNetworkingSideBarTabSection",(function(){return m.a}));var b=n(5822);n.d(t,"useJobsSideBarTabSection",(function(){return b.a}));var v=n(5823);n.d(t,"usePodSideBarDetails",(function(){return v.a}));var g=n(5824);n.d(t,"useHealthChecksAlert",(function(){return g.a})),n.d(t,"useResourceQuotaAlert",(function(){return g.b}));var h=n(5825);n.d(t,"useVpaSideBarTabSection",(function(){return h.a}))},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var o=n(869);n.d(t,"SecretTypeAbstraction",(function(){return o.c})),n.d(t,"AUTHS_KEY",(function(){return o.a})),n.d(t,"SecretType",(function(){return o.b}));var r=n(5598);n.d(t,"SecretFormWrapper",(function(){return r.a}));var s=n(5604);n.d(t,"PullSecretForm",(function(){return s.a}));var i=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return i.a}));var c=n(5605);n.d(t,"CreateConfigSubform",(function(){return c.a}));var l=n(5607);n.d(t,"UploadConfigSubform",(function(){return l.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var b=n(5609);n.d(t,"GenericSecretForm",(function(){return b.a}));var v=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return v.b})),n.d(t,"KeyValueEntryForm",(function(){return v.a}));var g=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return g.b})),n.d(t,"EditSecret",(function(){return g.a}));var h=n(5637);n.d(t,"CreateSecret",(function(){return h.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var E=n(5600);n.d(t,"SecretSubForm",(function(){return E.a}));n(5638)},4367:function(e,t,n){"use strict";n.r(t),n.d(t,"useTopologyWorkloadActionProvider",(function(){return u})),n.d(t,"useTopologyVisualConnectorActionProvider",(function(){return d}));var a=n(0),o=n(8),r=n(473),s=n(2221),i=n(5594),c=n(5741),l=n(5750);const u=e=>{const t=Object(i.f)(e),n=Object(a.useMemo)(()=>{if(e.getType()!==s.y)return;if(!t)return[];const n=Object(o.vb)(Object(o.Db)(t));return[Object(l.a)(n,t)]},[e,t]);return Object(a.useMemo)(()=>n?[n,!0,void 0]:[[],!0,void 0],[n])},d=e=>{var t;const n=Object(i.f)(null===(t=e.getSource)||void 0===t?void 0:t.call(e)),[l,u]=Object(r.a)(Object(o.Db)(null!=n?n:{})),d=Object(a.useMemo)(()=>{if(l&&e.getType()===s.v)return[Object(c.b)(l,e),Object(c.a)(l,e)]},[e,l]);return Object(a.useMemo)(()=>d?[d,!u,void 0]:[[],!0,void 0],[d,u])}},4368:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return w})),n.d(t,"DeploymentConfigDetailsList",(function(){return P})),n.d(t,"DeploymentConfigDeprecationAlert",(function(){return D})),n.d(t,"DeploymentConfigsDetails",(function(){return x})),n.d(t,"DeploymentConfigsDetailsPage",(function(){return U})),n.d(t,"DeploymentConfigsList",(function(){return K})),n.d(t,"DeploymentConfigsPage",(function(){return $}));var a=n(0),o=n(16),r=n(313),s=n(50),i=n(15),c=n(7),l=n(5667),u=n(5721),d=n(5766),p=n(5767),m=n(8),b=n(131),v=n(10),g=n(972),h=n(409),f=n(2226),E=n(40),y=n(5),O=n(4369),j=n(5758),k=n(2224),_=n(80),S=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const{ModifyCount:T,AddStorage:N,common:R}=y.F.factory,w=[(e,t)=>({labelKey:"public~Start rollout",callback:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(m.jb)(v.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(b.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(y.Ac)(e,t).catch(e=>Object(b.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),Object(p.d)(T),u.a,p.a,p.c,N,p.b,d.a,...Object(y.Rb)(v.DeploymentConfigModel),u.b,...R],C=e=>{const t=o.a(e,"status.conditions"),n=r.a(t,{type:"Progressing",reason:"ProgressDeadlineExceeded",status:"False"}),a=r.a(t,{type:"ReplicaFailure",status:"True"});return n||a?"Failed":e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?"Up to date":"Updating"},P=({dc:e})=>{var t,n;const{t:r}=Object(c.useTranslation)(),i=o.a(e,"spec.strategy.rollingParams.timeoutSeconds"),l=o.a(e,"spec.strategy.rollingParams.updatePeriodSeconds"),u=o.a(e,"spec.strategy.rollingParams.intervalSeconds"),d=s.a(e.spec.triggers,"type").join(", ");return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(y.r,{label:r("public~Latest version"),obj:e,path:"status.latestVersion"}),a.createElement(y.r,{label:r("public~Message"),obj:e,path:"status.details.message",hideEmpty:!0}),a.createElement(y.r,{label:r("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"Rolling"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(y.r,{label:r("public~Timeout"),obj:e,path:"spec.strategy.rollingParams.timeoutSeconds",hideEmpty:!0},r("public~{{count}} second",{count:i})),a.createElement(y.r,{label:r("public~Update period"),obj:e,path:"spec.strategy.rollingParams.updatePeriodSeconds",hideEmpty:!0},r("public~{{count}} second",{count:l})),a.createElement(y.r,{label:r("public~Interval"),obj:e,path:"spec.strategy.rollingParams.intervalSeconds",hideEmpty:!0},r("public~{{count}} second",{count:u})),a.createElement(y.r,{label:r("public~Max unavailable"),obj:e,path:"spec.strategy.rollingParams.maxUnavailable"},r("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingParams.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(y.r,{label:r("public~Max surge"),obj:e,path:"spec.strategy.rollingParams.maxSurge"},r("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingParams.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(y.r,{label:r("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?r("public~{{count}} second",{count:e.spec.minReadySeconds}):r("public~Not configured")),a.createElement(y.r,{label:r("public~Triggers"),obj:e,path:"spec.triggers",hideEmpty:!0},d),a.createElement(y.mb,{obj:e}),a.createElement(k.a,{obj:e}))},D=()=>{const{t:e}=Object(c.useTranslation)();return a.createElement(_.a,{isInline:!0,variant:"info",title:e("public~DeploymentConfig is being deprecated with OpenShift 4.14")},a.createElement("p",null,e("public~Feature development of DeploymentConfigs will be deprecated in OpenShift Container Platform 4.14.")),a.createElement("p",null,e("public~DeploymentConfigs will continue to be supported for security and critical fixes, but you should migrate to Deployments wherever it is possible.")),!Object(y.hc)()&&a.createElement(y.z,{href:Object(y.Qb)(y.Lb.deprecatedDeploymentConfig),text:e("public~Learn more about Deployments"),additionalClassName:"pf-v5-u-mt-md"}))},x=({obj:e})=>{const{t:t}=Object(c.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~DeploymentConfig details")}),e.spec.paused&&a.createElement(y.Db,{obj:e,model:v.DeploymentConfigModel}),a.createElement(l.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(y.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,a.createElement(i.cc,{status:C(e)})))),a.createElement("div",{className:"col-sm-6"},a.createElement(P,{dc:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~Containers")}),a.createElement(y.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(f.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~Conditions")}),a.createElement(g.b,{conditions:e.status.conditions})))},I=e=>a.createElement(y.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),M=["spec","template","spec","containers"],L=[y.mc.details(x),y.mc.editYaml(),{href:"replicationcontrollers",nameKey:"public~ReplicationControllers",component:({obj:e})=>{const{metadata:{namespace:t,name:n}}=e;return a.createElement(O.ReplicationControllersPage,{showTitle:!1,namespace:t,selector:{"openshift.io/deployment-config.name":n},canCreate:!1})}},y.mc.pods(),y.mc.envEditor(e=>a.createElement(I,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:M,readOnly:!1})),y.mc.events(h.ResourceEventStream)],A=({kindObj:e,obj:t})=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(i.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(i.h,{actions:e,options:t,variant:i.i.DROPDOWN}))},U=e=>a.createElement(E.a,Object.assign({},e,{kind:"DeploymentConfig",customActionMenu:(e,t)=>a.createElement(A,{kindObj:e,obj:t}),pages:L}),a.createElement(D,null),a.createElement("br",null));U.displayName="DeploymentConfigsDetailsPage";const B=e=>{var{obj:t}=e,n=S(e,["obj"]);const o={[Object(m.Db)(t)]:t},r=a.createElement(i.hb,{context:o});return a.createElement(j.b,Object.assign({obj:t,customActionMenu:r,kind:"DeploymentConfig"},n))},F=()=>Object(j.a)();F.displayName="DeploymentConfigTableHeader";const K=e=>{const{t:t}=Object(c.useTranslation)();return a.createElement(E.j,Object.assign({},e,{"aria-label":t("public~DeploymentConfigs"),Header:F,Row:B,virtualize:!0}))};K.displayName="DeploymentConfigsList";const $=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deploymentconfigs/~new/form`};return a.createElement(E.c,Object.assign({kind:"DeploymentConfig",ListComponent:K,createProps:t,canCreate:!0,helpText:a.createElement(D,null)},e))};$.displayName="DeploymentConfigsListPage"},4369:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicationControllersDetailsPage",(function(){return S})),n.d(t,"ReplicationControllersList",(function(){return w})),n.d(t,"ReplicationControllersPage",(function(){return C}));var a=n(0),o=n(16),r=n(18),s=n(7),i=n(14),c=n(54),l=n(15),u=n(409),d=n(40),p=n(5),m=n(8),b=n(2226),v=n(2224);const g=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),h=["spec","template","spec","containers"],f=e=>a.createElement(g,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:h,readOnly:!1}),{details:E,editYaml:y,pods:O,envEditor:j,events:k}=p.mc,_=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),S=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(d.a,Object.assign({},e,{getResourceStatus:e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"])||null},customActionMenu:(e,t)=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(l.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(l.h,{actions:e,options:t,variant:l.i.DROPDOWN}))},pages:[E(({obj:e})=>{const n=o.a(e,["metadata","annotations","openshift.io/deployment-config.latest-version"]),r=o.a(e,["metadata","annotations","openshift.io/deployment.phase"]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~ReplicationController details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},n&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Deployment revision")),a.createElement("dd",null,n)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},r&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Phase")),a.createElement("dd",null,a.createElement(l.cc,{status:r}))),a.createElement(p.kb,{resource:e}),a.createElement(p.mb,{obj:e}),a.createElement(v.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(b.a,{resource:e,heading:t("public~Volumes")})))}),y(),O(_),j(f),k(u.ResourceEventStream)]}))},T="ReplicationController",N=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",p.F.columnClass],R=({obj:e})=>{var t,n;const{t:o}=Object(s.useTranslation)(),c=null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"],u={[Object(m.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:N[0]},a.createElement(p.hb,{kind:T,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:r(N[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:N[2]},a.createElement(i.Link,{to:Object(p.tc)(T,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},o("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(d.k,{className:N[3]},a.createElement(l.cc,{status:c})),a.createElement(d.k,{className:N[4]},a.createElement(p.Y,{resource:e})),a.createElement(d.k,{className:N[5]},a.createElement(p.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(d.k,{className:N[6]},a.createElement(l.hb,{context:u})))},w=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~ReplicationControllers"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[c.a],props:{className:N[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[c.a],props:{className:N[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[c.a],props:{className:N[2]}},{title:t("public~Phase"),sortField:'metadata.annotations["openshift.io/deployment.phase"]',transforms:[c.a],props:{className:N[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[c.a],props:{className:N[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[c.a],props:{className:N[5]}},{title:"",props:{className:N[6]}}],Row:R,virtualize:!0}))},C=e=>{const{canCreate:t=!0}=e;return a.createElement(d.c,Object.assign({canCreate:t,kind:"ReplicationController",ListComponent:w},e))}},4370:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicaSetsList",(function(){return C})),n.d(t,"ReplicaSetsPage",(function(){return P})),n.d(t,"ReplicaSetsDetailsPage",(function(){return T}));var a=n(0),o=n(16),r=n(18),s=n(14),i=n(54),c=n(7),l=n(40),u=n(5),d=n(409),p=n(2226),m=n(15),b=n(2224),v=n(8);const g=({obj:e})=>{const t=o.a(e,["metadata","annotations","deployment.kubernetes.io/revision"]),{t:n}=Object(c.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~ReplicaSet details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(u.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},t&&a.createElement(a.Fragment,null,a.createElement("dt",null,n("public~Deployment revision")),a.createElement("dd",null,t)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},a.createElement(u.kb,{resource:e}),a.createElement(u.mb,{obj:e}),a.createElement(b.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~Containers")}),a.createElement(u.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.a,{resource:e,heading:n("public~Volumes")})))},h=e=>a.createElement(u.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),f=["spec","template","spec","containers"],E=e=>a.createElement(h,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:f,readOnly:!1}),y=e=>a.createElement(u.ab,Object.assign({},e,{showNodes:!0})),{details:O,editYaml:j,pods:k,envEditor:_,events:S}=u.mc,T=e=>a.createElement(l.a,Object.assign({},e,{customActionMenu:(e,t)=>{const n={[Object(v.Hb)(e)]:t};return a.createElement(m.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(m.h,{actions:e,options:t,variant:m.i.DROPDOWN}))},pages:[O(g),j(),k(y),_(E),S(d.ResourceEventStream)]})),N="ReplicaSet",R=["","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),r("pf-m-hidden","pf-m-visible-on-xl"),u.F.columnClass],w=({obj:e})=>{const{t:t}=Object(c.useTranslation)(),n={[Object(v.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(l.k,{className:R[0]},a.createElement(u.hb,{kind:N,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(l.k,{className:r(R[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(l.k,{className:R[2]},a.createElement(s.Link,{to:Object(u.tc)(N,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},t("public~{{count1}} of {{count2}} pods",{count1:e.status.replicas||0,count2:e.spec.replicas}))),a.createElement(l.k,{className:R[3]},a.createElement(u.L,{kind:N,labels:e.metadata.labels})),a.createElement(l.k,{className:R[4]},a.createElement(u.Y,{resource:e})),a.createElement(l.k,{className:R[5]},a.createElement(u.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(l.k,{className:R[6]},a.createElement(m.hb,{context:n})))},C=e=>{const{t:t}=Object(c.useTranslation)();return a.createElement(l.j,Object.assign({},e,{"aria-label":t("public~ReplicaSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:R[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:R[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[i.a],props:{className:R[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[i.a],props:{className:R[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[i.a],props:{className:R[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[i.a],props:{className:R[5]}},{title:"",props:{className:R[6]}}],Row:w,virtualize:!0}))},P=e=>{const{canCreate:t=!0}=e;return a.createElement(l.c,Object.assign({canCreate:t,kind:"ReplicaSet",ListComponent:C},e))}},4371:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return h})),n.d(t,"DaemonSetDetailsList",(function(){return y})),n.d(t,"DaemonSets",(function(){return T})),n.d(t,"DaemonSetsPage",(function(){return N})),n.d(t,"DaemonSetsDetailsPage",(function(){return w}));var a=n(0),o=n(14),r=n(18),s=n(54),i=n(7),c=n(5721),l=n(15),u=n(8),d=n(40),p=n(5),m=n(409),b=n(2226),v=n(10),g=n(2224);const h=[c.a,p.F.factory.AddStorage,...p.F.getExtensionsActionsForKind(v.DaemonSetModel),c.b,...p.F.factory.common],f="DaemonSet",E=["","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),p.F.columnClass],y=({ds:e})=>{const{t:t}=Object(i.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(p.r,{label:t("public~Current count"),obj:e,path:"status.currentNumberScheduled"}),a.createElement(p.r,{label:t("public~Desired count"),obj:e,path:"status.desiredNumberScheduled"}),a.createElement(g.a,{obj:e}))},O=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),{podData:n,loaded:o}=Object(l.Se)(e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~DaemonSet details")}),o?a.createElement(l.Ab,{key:e.metadata.uid,pods:(null==n?void 0:n.pods)||[],obj:e,resourceKind:v.DaemonSetModel,enableScaling:!1}):a.createElement(p.T,null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"col-lg-6"},a.createElement(y,{ds:e})))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(b.a,{resource:e,heading:t("public~Volumes")})))},j=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),k=["spec","template","spec","containers"],_=e=>a.createElement(j,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:k,readOnly:!1}),S=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),n={[Object(u.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:E[0]},a.createElement(p.hb,{kind:f,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:r(E[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:E[2]},a.createElement(o.Link,{to:`/k8s/ns/${e.metadata.namespace}/daemonsets/${e.metadata.name}/pods`,title:"pods"},t("public~{{currentNumber}} of {{desiredNumber}} pods",{currentNumber:e.status.currentNumberScheduled,desiredNumber:e.status.desiredNumberScheduled}))),a.createElement(d.k,{className:E[3]},a.createElement(p.L,{kind:f,labels:e.metadata.labels})),a.createElement(d.k,{className:E[4]},a.createElement(p.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(d.k,{className:E[5]},a.createElement(l.hb,{context:n})))},T=e=>{const{t:t}=Object(i.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~DaemonSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[s.a],props:{className:E[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[s.a],props:{className:E[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"daemonsetNumScheduled",transforms:[s.a],props:{className:E[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[s.a],props:{className:E[3]}},{title:t("public~Pod selector"),sortField:"spec.selector",transforms:[s.a],props:{className:E[4]}},{title:"",props:{className:E[5]}}],Row:S,virtualize:!0}))},N=e=>a.createElement(d.c,Object.assign({canCreate:!0,ListComponent:T,kind:f},e)),R=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),w=e=>{const t=Object(l.Ue)();return a.createElement(d.a,Object.assign({},e,{kind:f,customActionMenu:(e,t)=>{const n={[Object(u.Hb)(e)]:t};return a.createElement(l.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(l.h,{actions:e,options:t,variant:l.i.DROPDOWN}))},pages:[p.mc.details(Object(p.Kb)(O)),...t?[p.mc.metrics()]:[],p.mc.editYaml(),p.mc.pods(R),p.mc.envEditor(_),p.mc.events(m.ResourceEventStream)]}))}},4372:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return T})),n.d(t,"DeploymentDetailsList",(function(){return N})),n.d(t,"DeploymentsDetailsPage",(function(){return x})),n.d(t,"DeploymentsList",(function(){return L})),n.d(t,"DeploymentsPage",(function(){return A}));var a=n(0),o=n(7),r=n(15),s=n(5667),i=n(5721),c=n(5766),l=n(5767),u=n(10),d=n(8),p=n(131),m=n(972),b=n(409),v=n(2226),g=n(40),h=n(5),f=n(4370),E=n(5758),y=n(2224),O=n(5922),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const{ModifyCount:k,AddStorage:_,common:S}=h.F.factory,T=[Object(l.d)(k),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(h.Ac)(e,t).catch(e=>Object(p.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),i.a,l.a,l.c,_,(e,t)=>({labelKey:"public~Edit update strategy",callback:()=>Object(p.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),l.b,c.a,...h.F.getExtensionsActionsForKind(u.DeploymentModel),i.b,...S],N=({deployment:e})=>{var t,n;const{t:r}=Object(o.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(h.r,{label:r("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"RollingUpdate"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(h.r,{label:r("public~Max unavailable"),obj:e,path:"spec.strategy.rollingUpdate.maxUnavailable"},r("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingUpdate.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(h.r,{label:r("public~Max surge"),obj:e,path:"spec.strategy.rollingUpdate.maxSurge"},r("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingUpdate.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(h.r,{label:r("public~Progress deadline seconds"),obj:e,path:"spec.progressDeadlineSeconds"},e.spec.progressDeadlineSeconds?r("public~{{count}} second",{count:e.spec.progressDeadlineSeconds}):r("public~Not configured")),a.createElement(h.r,{label:r("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?r("public~{{count}} second",{count:e.spec.minReadySeconds}):r("public~Not configured")),a.createElement(h.mb,{obj:e}),a.createElement(y.a,{obj:e}),a.createElement(O.a,{obj:e}))};N.displayName="DeploymentDetailsList";const R=({obj:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.ob,{text:t("public~Deployment details")}),e.spec.paused&&a.createElement(h.Db,{obj:e,model:u.DeploymentModel}),a.createElement(s.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(h.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?a.createElement(r.cc,{status:"Up to date"}):a.createElement(r.cc,{status:"Updating"})))),a.createElement("div",{className:"col-sm-6"},a.createElement(N,{deployment:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.ob,{text:t("public~Containers")}),a.createElement(h.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(v.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.ob,{text:t("public~Conditions")}),a.createElement(m.b,{conditions:e.status.conditions})))};R.displayName="DeploymentDetails";const w=e=>a.createElement(h.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),C=["spec","template","spec","containers"],P=e=>a.createElement(w,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:C,readOnly:!1}),D=({obj:e})=>{const{metadata:{namespace:t},spec:{selector:n}}=e;return a.createElement(f.ReplicaSetsPage,{showTitle:!1,namespace:t,selector:n,canCreate:!1})},x=e=>{const t=Object(r.Ue)();return a.createElement(g.a,Object.assign({},e,{kind:"Deployment",customActionMenu:(e,t)=>{const n={[Object(d.Hb)(e)]:t};return a.createElement(r.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(r.h,{actions:e,options:t,variant:r.i.DROPDOWN}))},pages:[h.mc.details(R),...t?[h.mc.metrics()]:[],h.mc.editYaml(),{href:"replicasets",nameKey:"public~ReplicaSets",component:D},h.mc.pods(),h.mc.envEditor(P),h.mc.events(b.ResourceEventStream)]}))};x.displayName="DeploymentsDetailsPage";const I=e=>{var{obj:t}=e,n=j(e,["obj"]);const o={[Object(d.Db)(t)]:t},s=a.createElement(r.hb,{context:o});return a.createElement(E.b,Object.assign({obj:t,customActionMenu:s,kind:"Deployment"},n))},M=()=>Object(E.a)();M.displayName="DeploymentTableHeader";const L=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(g.j,Object.assign({},e,{"aria-label":t("public~Deployments"),Header:M,Row:I,virtualize:!0}))};L.displayName="DeploymentsList";const A=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deployments/~new/form`};return a.createElement(g.c,Object.assign({kind:"Deployment",canCreate:!0,createProps:t,ListComponent:L},e))};A.displayName="DeploymentsPage"},4380:function(e,t,n){"use strict";n.r(t),n.d(t,"FileUploadContext",(function(){return d})),n.d(t,"FileUploadContextProvider",(function(){return p})),n.d(t,"useValuesFileUploadContext",(function(){return m}));var a=n(0),o=n(80),r=n(367),s=n(7),i=n(13),c=n(989),l=n(324),u=n(6126);const d=a.createContext({fileUpload:void 0,setFileUpload:()=>{},extensions:[]}),p=d.Provider,m=()=>{const{t:e}=Object(s.useTranslation)(),[t,n]=Object(i.kc)(i.ub),d=Object(c.a)(),[p]=Object(l.useActiveNamespace)(),[m,b]=a.useState(void 0),v=a.useMemo(()=>n?r.a(t.map(e=>e.properties.fileExtensions)).map(e=>e.toLowerCase()):[],[t,n]);return{fileUpload:m,setFileUpload:a.useCallback(n=>{if(n){if(v.length>0){const a=Object(u.a)(t,n.name);a?(b(n),a.properties.handler(n,p)):d.addToast({variant:o.b.warning,title:e("console-app~Incompatible file type"),content:e("console-app~{{fileName}} cannot be uploaded. Only {{fileExtensions}} files are supported currently. Try another file.",{fileName:n.name,fileExtensions:v.toString()}),timeout:!0,dismissible:!0})}}else b(void 0)},[b,v,e,p,d,t]),extensions:v}}},5419:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(5),r=n(10),s=n(15),i=n(7232);t.default=({item:e})=>{const{monitoringAlerts:t}=e,{kind:n,metadata:{uid:c,name:l,namespace:u}}=e.obj,{podData:d,loadError:p,loaded:m}=Object(s.Se)(e.obj,e.obj.kind,u),b=a.useMemo(()=>{const e=[{isList:!0,kind:"Event",namespace:u,prop:"resourceEvents",fieldSelector:`involvedObject.uid=${c},involvedObject.name=${l},involvedObject.kind=${n}`}];return m&&!p&&(null==d?void 0:d.pods)&&d.pods.forEach(t=>{const n=`involvedObject.uid=${t.metadata.uid},involvedObject.name=${t.metadata.name},involvedObject.kind=${r.PodModel.kind}`;e.push({isList:!0,kind:"Event",namespace:t.metadata.namespace,prop:t.metadata.uid,fieldSelector:n})}),e},[n,c,l,u,m,p,d]);return a.createElement(o.C,{resources:b},a.createElement(i.a,{resource:e.obj,pods:(null==d?void 0:d.pods)||[],monitoringAlerts:t}))}},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var o=n(5611);n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b})),n.d(t,"e",(function(){return o.c}));var r=n(5641);n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return r.b}))},5588:function(e,t,n){"use strict";var a,o,r,s,i,c,l,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"v",(function(){return r})),n.d(t,"t",(function(){return s})),n.d(t,"w",(function(){return i})),n.d(t,"u",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"z",(function(){return y})),n.d(t,"y",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return _})),n.d(t,"n",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return R})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(o||(o={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(r||(r={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(s||(s={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(i||(i={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(c||(c={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(l||(l={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",b="1.5.2",v="pipeline",g="bridge/pipeline-run-auto-start-failed",h=275,f=375,E=60,y="pipeline.openshift.io/preferredName",O="chains.tekton.dev/signed",j="openshift-pipelines",k="openshift",_="config";var S;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(S||(S={}));const T="FLAG_TEKTON_V1_ENABLED",N="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",R="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"k",(function(){return _})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"b",(function(){return R})),n.d(t,"l",(function(){return w}));var a=n(5596),o=n(29),r=n(117),s=n(16),i=n(22),c=n(279),l=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),b=n(5659),v=n(5625),g=n(1400);const h=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),E=e=>{var t,n,a;const o=r.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==o?void 0:o.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==o?void 0:o.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},y=(e,t,n,o)=>{if(!e)return null;const r=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const o=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${o}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${o}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${o}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${o}`:a})(a(e),t,o);return n?`${n}/f?url=${r}&policies.create=peruser`:r},O=(e,t)=>{var n,a;return(null===(a=null===(n=r.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},j=(e,t)=>t?e.filter(e=>s.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,k=(e,t)=>t.length>0&&!i.a(t[0].spec)?Object(u.c)(t[0]):null,_=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},S=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||_(null==e?void 0:e.getData())},T=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(_(null==e?void 0:e.getData())),N=(e,t)=>{const n=null==e?void 0:e.getData(),a=S(e);if(!e||!a||!c.a(n.resources))return Promise.reject();const r=[],s=[];r.push(a),e.getType()===b.d&&l.a(n.groupResources,e=>{r.push(e.resource)});for(const e of r){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(o.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));s.push(Object(v.c)(n,e,t))}return Promise.all(s)},R=(e,t,n=null)=>e&&t&&e!==t?Object(g.a)(e,t,n):Promise.reject(new Error(o.a.t("topology~Can not create a connection from a node to itself."))),w=e=>{const t=S(e.getSource()),n=S(e.getTarget());return t&&n?Object(g.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return v}));var a=n(279),o=n(160),r=n(107),s=n(1404),i=n(7),c=n(869);const l=e=>{switch(e){case c.c.source:return c.b.basicAuth;case c.c.image:return c.b.dockerconfigjson;default:return c.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case c.b.basicAuth:case c.b.sshAuth:return c.c.source;case c.b.dockerconfigjson:case c.b.dockercfg:return c.c.image;default:return(null==t?void 0:t[s.WebHookSecretKey])&&1===a.a(t)?c.c.webhook:c.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=o.a(e).sort();return r.a(t,["tls.crt","tls.key"])?c.b.tls:r.a(t,["ca.crt","namespace","service-ca.crt","token"])?c.b.serviceAccountToken:r.a(t,[".dockercfg"])?c.b.dockercfg:r.a(t,[".dockerconfigjson"])?c.b.dockerconfigjson:r.a(t,["password","username"])?c.b.basicAuth:r.a(t,["ssh-privatekey"])?c.b.sshAuth:c.b.opaque},m=e=>{switch(e){case c.b.dockercfg:return".dockercfg";case c.b.dockerconfigjson:return".dockerconfigjson";default:return e}},b=(e,t)=>{const{t:n}=Object(i.useTranslation)();switch(t){case c.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case c.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},v=e=>{const{t:t}=Object(i.useTranslation)();switch(e){case c.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case c.c.source:return t("public~Source secrets let you authenticate against a Git server.");case c.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case c.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var o=n(5642);n.d(t,"e",(function(){return o.a}));var r=n(5645);n.d(t,"a",(function(){return r.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5643),o=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class r{constructor(e){this.gitsource=e}detectBuildTypes(){return o(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(282);const r=e=>a.createElement(o.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,n){"use strict";var a=n(5625);n.d(t,"a",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var o=n(5589);n.d(t,"c",(function(){return o.d})),n.d(t,"d",(function(){return o.e})),n.d(t,"f",(function(){return o.g})),n.d(t,"g",(function(){return o.h})),n.d(t,"h",(function(){return o.k}));n(1400);var r=n(5671);n.d(t,"b",(function(){return r.a}));var s=n(5679);n.d(t,"j",(function(){return s.a}));var i=n(5680);n.d(t,"i",(function(){return i.a}));var c=n(5664);n.d(t,"l",(function(){return c.a}));n(5678);var l=n(5665);n.d(t,"e",(function(){return l.a}));var u=n(5672);n.d(t,"m",(function(){return u.a}))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var o=n(5628);n.d(t,"e",(function(){return o.a}));n(5629),n(5630);var r=n(5631);n.d(t,"f",(function(){return r.a}));var s=n(5632);n.d(t,"a",(function(){return s.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(380),o=n(83),r=n(437),s=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const i="/api/dev-console/proxy/internet",c=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),l=e=>s(void 0,void 0,void 0,(function*(){const t=yield o.consoleFetchJSON.post(i,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new r.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>l(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(501),o=n(838),r=n(2324),s=n(16),i=n(640),c=n(1256),l=n(0),u=n(137),d=n(7),p=n(320),m=n(966),b=n(19),v=n(14),g=n(8),h=n(5),f=n(118),E=n(10),y=n(5590),O=n(5600);const j=e=>{const{isCreate:t,modal:n,onCancel:j}=e,{t:k}=Object(d.useTranslation)(),_=Object(v.useNavigate)(),S=Object(v.useParams)(),T=a.a(e.obj,["metadata","type"]),N=Object(y.d)(e.secretTypeAbstraction),R=o.a({},e.fixed,T,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:N}),[w]=l.useState(e.secretTypeAbstraction),[C,P]=l.useState(R),[D,x]=l.useState(!1),[I,M]=l.useState(),[L,A]=l.useState(r.a(s.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[U,B]=l.useState({}),[F,K]=l.useState(!1),$=Object(y.g)(t,w),q=Object(y.f)(w),G=()=>_(`/k8s/ns/${S.ns}/core~v1~Secret`),V=e=>{A(Object.assign({},null==e?void 0:e.stringData)),B(Object.assign({},null==e?void 0:e.base64StringData))},Y=e=>{M(e),x(!1)},z=e=>{const t=e.target.value,n=i.a(C);n.metadata.name=t,P(n)},H=n=>{n.preventDefault();const{metadata:a}=C;x(!0);const o=Object.assign(Object.assign({},r.a(L,e=>p.Base64.encode(e))),U),s=c.a({},C,{data:o},t?{type:Object(y.a)(L)}:{});(t?Object(g.jb)(E.SecretModel,s):Object(g.rb)(E.SecretModel,s,a.namespace,s.metadata.name)).then(t=>{x(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||_(Object(h.sc)(t,Object(g.Db)(t)))},e=>{M(e.message),x(!1)})},W=()=>{var n;return l.createElement(l.Fragment,null,l.createElement("fieldset",{disabled:!t},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},k("public~Secret name")),l.createElement("div",null,l.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:z,value:null===(n=null==C?void 0:C.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),l.createElement("p",{className:"help-block",id:"secret-name-help"},k("public~Unique name of the new secret."))))),l.createElement(O.a,{typeAbstraction:e.secretTypeAbstraction,onChange:V,onError:Y,onFormDisable:e=>K(e),stringData:L,secretType:C.type,isCreate:t}))};return n?l.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:H},l.createElement(f.d,null,$),l.createElement(f.a,null,W()),l.createElement(f.c,{errorMessage:I||"",inProgress:D,submitText:k("public~Create"),cancel:j||G})):l.createElement("div",{className:"co-m-pane__form"},l.createElement(u.a,null,l.createElement("title",null,$)),l.createElement(h.Z,{title:$,helpText:q}),l.createElement("div",{className:"co-m-pane__body"},l.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:H},W(),l.createElement(h.g,{errorMessage:I,inProgress:D},l.createElement(m.a,{className:"pf-v5-c-form"},l.createElement(b.a,{type:"submit","data-test":"save-changes",isDisabled:F,variant:"primary",id:"save-changes"},e.saveButtonText||k("public~Create")),l.createElement(b.a,{type:"button",variant:"secondary",id:"cancel",onClick:j||G},k("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f}));var a,o=n(5591),r=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const s={[o.b.GITHUB]:"GitHub",[o.b.GITLAB]:"GitLab",[o.b.GITEA]:"Gitea",[o.b.BITBUCKET]:"Bitbucket",[o.b.UNSURE]:"Other"};var i,c,l,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(i||(i={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(c||(c={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(l||(l={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[c.OpenShift]:r.DeploymentConfigModel.labelKey,[c.Kubernetes]:r.DeploymentModel.labelKey,[c.KnativeService]:"devconsole~Serverless Deployment"},p={[l.BUILDS]:"devconsole~BuildConfig",[l.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[l.PIPELINES]:"devconsole~Build using pipelines",[l.DISABLED]:"devconsole~Disabled"},m={[c.OpenShift]:r.DeploymentConfigModel.kind,[c.Kubernetes]:r.DeploymentModel.kind,[c.KnativeService]:"Service"};var b,v,g,h,f,E;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(b||(b={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(v||(v={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(h||(h={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(E||(E={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(869),r=n(5601),s=n(5604),i=n(5608),c=n(5609),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=l(e,["typeAbstraction"]);switch(t){case o.c.source:return a.createElement(r.a,Object.assign({},n));case o.c.image:return a.createElement(s.a,Object.assign({},n));case o.c.webhook:return a.createElement(i.a,Object.assign({},n));default:return a.createElement(c.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(7),r=n(5),s=n(869),i=n(5602),c=n(5603);class l extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:s.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[s.b.basicAuth]:e("public~Basic authentication"),[s.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(r.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===s.b.basicAuth?a.createElement(i.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(c.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(o.withTranslation)()(l)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(7);class r extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const s=Object(o.withTranslation)()(r)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(7),r=n(5593);const s=({onChange:e,stringData:t})=>{const{t:n}=Object(o.useTranslation)();return a.createElement(r.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),o=n(0),r=n(7),s=n(5),i=n(5590),c=n(869),l=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[b,v]=o.useState("credentials"),{t:g}=Object(r.useTranslation)(),h=o.useMemo(()=>{var e;try{const t=Object(i.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=o.useCallback(t=>{a.a(t)||n(!1);const o=t[c.a]?".dockerconfigjson":".dockercfg";e({stringData:{[o]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),E={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return o.createElement(o.Fragment,null,m&&o.createElement("div",{className:"form-group"},o.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),o.createElement("div",{className:"co-create-secret__dropdown"},o.createElement(s.t,{items:E,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:b,onChange:v}))),"credentials"===b?o.createElement(l.a,{onChange:f,stringData:h}):o.createElement(u.a,{onChange:f,stringData:h,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(22),o=n(840),r=n(4434),s=n(57),i=n(16),c=n(4437),l=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),b=n(7),v=n(320),g=n(19),h=n(408),f=n(407),E=n(869),y=n(5606);class O extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[E.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[E.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:o.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?r.a(t,this.newImageSecretEntry()):(s.a(e,(e,n)=>{const r=v.Base64.decode(i.a(e,"auth","")),s=a.a(r)?c.a(Array(2),""):l.a(r,":");t.push({entry:{address:n,username:i.a(e,"username",s[0]),password:i.a(e,"password",s[1]),email:i.a(e,"email",""),auth:i.a(e,"auth","")},uid:i.a(e,"uid",o.a())})}),t)}imageSecretArrayToObject(e){const t={};return s.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[E.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],o={uid:a[t].uid,entry:e,auth:v.Base64.encode(`${e.username}:${e.password}`)};return a[t]=o,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:r.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:o}=null!=t?t:{},{address:r,email:s,password:i,username:c}=null!=o?o:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(g.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(h.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(y.a,{id:n,address:r,email:s,password:i,username:c,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const j=Object(b.withTranslation)()(O)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(7),r=n(320);const s=({id:e,address:t,email:n,password:s,username:i,onChange:c})=>{const{t:l}=Object(o.useTranslation)(),u=(a,o)=>{const l=i.trim(),u=s.trim(),d=i&&s?r.Base64.encode(`${l}:${u}`):"";c(Object.assign({address:t,username:i,password:s,email:n,[a]:o},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},l("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},l("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},l("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:i,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},l("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:s,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},l("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),o=n(1973),r=n(1240),s=n(0),i=n(7),c=n(5593);class l extends s.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(o.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(o.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:r.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(c.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&s.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(i.withTranslation)()(l)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(7),r=n(5590);class s extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(r.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const i=Object(o.withTranslation)()(s)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(840),o=n(22),r=n(50),s=n(255),i=n(1256),c=n(4434),l=n(279),u=n(0),d=n(7),p=n(320),m=n(19),b=n(408),v=n(407),g=n(973),h=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return o.a(e)?[this.newGenericSecretEntry()]:r.a(e,(e,t)=>{const n=g.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return s.a(e,(e,t)=>{var n,a;return i.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:c.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=r.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},l.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(h.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(v.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const E=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(0),o=n(7),r=n(5593);class s extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(r.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const i=Object(o.withTranslation)()(s)},5611:function(e,t,n){"use strict";var a,o,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(o||(o={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(r||(r={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),o=n(5596),r=n(320),s=n(83),i=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.BASIC_AUTH:case c.e.OAUTH:return{auth:r.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=o(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return c.d.Reachable}catch(e){switch(e.status){case 403:return c.d.RateLimitExceeded;case 404:return c.d.PrivateRepo;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}return c.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const o={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},r={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},c="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield s.consoleFetchJSON.post(i.a,{url:`${c}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:o,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const l="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:l}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),o=n(5707),r=(n(4360),n(83)),s=n(5597),i=n(5587),c=n(5592),l=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class u extends c.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case i.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>l(this,void 0,void 0,(function*(){const o=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},o),n);if(this.isServer)return Object(s.c)(Object.assign({url:e,method:t||"GET",headers:Object(s.d)(r)},a&&{body:JSON.stringify(a)}));const i=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!i.ok)throw i;return"text/plain"===i.headers.get("Content-Type")?i.text():i.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=o(this.gitsource.url),r=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return i.d.Reachable}catch(e){switch(e.status){case 429:return i.d.RateLimitExceeded;case 403:return i.d.PrivateRepo;case 404:return i.d.ResourceNotFound;default:return i.d.InvalidGitTypeSelected}}return i.d.Unreachable})),this.getRepoBranchList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>l(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>l(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>l(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},o={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},i=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield r.consoleFetchJSON.post(s.a,{url:i,method:"POST",headers:a,body:JSON.stringify(o)})).statusCode})),this.isFilePresent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>l(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),o=n(5708),r=n(29),s=n(320),i=n(83),c=n(5597),l=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(r.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(r.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.OAUTH:case l.e.BASIC_AUTH:return s.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),l.d.Reachable}catch(e){switch(e.status){case 429:return l.d.RateLimitExceeded;case 403:return l.d.PrivateRepo;case 404:return l.d.ResourceNotFound;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const o=yield this.getProjectId(),r={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},s={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield i.consoleFetchJSON.post(c.a,{url:`${this.metadata.host}/api/v4/projects/${o}/hooks`,method:"POST",headers:r,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),o=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,o,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new o.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:o}=a(this.gitsource.url),r=(null==(s=this.gitsource.contextDir)?void 0:s.replace(/^\//,""))||"";var s;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:o,contextDir:r,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),o=n(320),r=n(22),s=(n(4360),n(83)),i=n(5597),c=n(5587),l=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class d extends l.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===c.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!r.a(e)){return{authorization:"Basic "+o.Base64.encode(`${o.Base64.decode(e)}:${o.Base64.decode(t)}`)}}return{Authorization:"token "+o.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const o=this.getAuthProvider(),r=Object.assign(Object.assign({Accept:"application/json"},o),n);if(this.isServer)return Object(i.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(i.d)(r)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:r},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:o,full_name:r}=a(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+o,defaultBranch:this.gitsource.ref,fullName:r,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return c.d.Reachable}catch(e){return c.d.GiteaRepoUnreachable}return c.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},o=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(i.a,{url:o,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5643),o=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const r=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>o(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],s=e=>o(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(r.map(n=>o(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return h}));var a,o=n(29),r=n(16),s=n(240),i=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const c=e=>{var t;const n=r.a(e,["status","conditions"],[]);if(0===n.length)return null;const o=n.find(e=>"Succeeded"===e.type),s=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!s)return i.a.Cancelling;if(!o||!o.status)return null;const c="True"===o.status?i.a.Succeeded:"False"===o.status?i.a.Failed:i.a.Running;if(o.reason&&o.reason!==c)switch(o.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return i.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return i.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return i.a.Pending;case a.ConditionCheckFailed:return i.a.Skipped;default:return c}return c},l=e=>{const t=c(e);if(!t)return"-";switch(t){case i.a.Cancelled:return o.a.t("pipelines-plugin~Cancelled");case i.a.Failed:return o.a.t("pipelines-plugin~Failed");case i.a.Succeeded:return o.a.t("pipelines-plugin~Succeeded");case i.a.Pending:return o.a.t("pipelines-plugin~Pending");case i.a.Running:return o.a.t("pipelines-plugin~Running");case i.a.Skipped:return o.a.t("pipelines-plugin~Skipped");case i.a.Cancelling:return o.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&c(e.latestRun)||i.a.Other,d=e=>e.latestRun&&l(e.latestRun)||"-",p=e=>l(e)||"-",m=e=>c(e)||i.a.Other,b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},v=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},g=e=>c(e)||i.a.Other,h=e=>l(e)||"-"},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"i",(function(){return N}));var a=n(4413),o=n(689),r=n(5),s=n(5620),i=n(2221),c=n(5624),l=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,b=o.object().shape({name:o.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),v=o.object().shape({selectedKey:o.string(),name:o.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:i.b,then:o.string().required("Required")})}),g=e=>o.object().shape({replicas:o.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),h=o.string().oneOf([l.k.OpenShift,l.k.Kubernetes,l.k.KnativeService]).required(),f=e=>o.object().when("resources",{is:l.k.KnativeService,then:o.object().shape({scaling:o.object({minpods:o.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:o.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:o.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:o.number().transform(e=>a.a(e)?void 0:e).test(Object(c.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:o.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:o.object().shape({autoscalewindow:o.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:o.array().of(o.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),E=e=>o.object().shape({secure:o.boolean(),tls:o.object().when("secure",{is:!0,then:o.object({termination:o.string().required(e("devconsole~Please select a termination type."))})}),hostname:o.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:o.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:o.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),y=e=>o.object().shape({cpu:o.object().shape({request:o.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:o.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:o.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:o.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${e}${a}`)>=Object(r.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:o.object().shape({request:o.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(r.Ib)(`${e}${t}`)<=Object(r.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:o.string(e("devconsole~Unit must be Mi or Gi.")),limit:o.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(r.Ib)(`${t}${n}`)<=Object(r.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:o.string(e("devconsole~Unit must be Mi or Gi."))})}),O=e=>o.object().when("build",{is:e=>"Source"===e.strategy,then:o.object().shape({selected:o.string().required(e("devconsole~Required")),tag:o.string().required(e("devconsole~Required"))})}),j=e=>o.object().shape({url:o.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:o.string().when("showGitType",{is:!0,then:o.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:o.boolean()}),k=e=>o.object().when("build",{is:e=>"Docker"===e.strategy,then:o.object().shape({containerPort:o.number().test(Object(c.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:o.string().required(e("devconsole~Required"))})}),_=e=>o.object().when("build",{is:e=>"Devfile"===e.strategy,then:o.object().shape({devfilePath:o.string().required(e("devconsole~Required")),devfileContent:o.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:o.boolean().oneOf([!1]),devfileSuggestedResources:o.object().required(e("devconsole~Required"))})}),S=o.object().shape({strategy:o.string()}),T=e=>o.object().shape({name:o.string().required(e("devconsole~Required")),image:o.object().required(e("devconsole~Required")),tag:o.string(),status:o.string().required(e("devconsole~Required"))}),N=o.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===l.a.PIPELINES)&&n!==s.a.PAC,then:o.object().shape({templateSelected:o.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"s",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return _}));var a=n(5654);const o=a.chart_color_green_400.value,r={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:o},s={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:o},i={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:o},c={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:o},l={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:o},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:o},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:o},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:o},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:o},b={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:o},v={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:o},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:o},h={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:o},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:o},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:o},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:o},O={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:o},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},k={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},_={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"h",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return P})),n.d(t,"e",(function(){return D})),n.d(t,"v",(function(){return x})),n.d(t,"B",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"s",(function(){return A})),n.d(t,"w",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return F})),n.d(t,"t",(function(){return K})),n.d(t,"g",(function(){return $})),n.d(t,"x",(function(){return q})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return V})),n.d(t,"r",(function(){return W})),n.d(t,"u",(function(){return Q})),n.d(t,"q",(function(){return J})),n.d(t,"i",(function(){return Z})),n.d(t,"A",(function(){return X})),n.d(t,"n",(function(){return ee}));var a=n(321),o=n(29),r=n(1557),s=n(117),i=n(16),c=n(22),l=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),b=n(5588),v=n(5650),g=n(5586),h=n(5595),f=n(5635),E=n(5617);const y=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,O=e=>e.runAfter&&e.runAfter.length>0;var j;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(j||(j={}));const k={[j.Running]:o.a.t("pipelines-plugin~Running"),[j.Failed]:o.a.t("pipelines-plugin~Failed"),[j.Succeeded]:o.a.t("pipelines-plugin~Succeeded"),[j.Cancelled]:o.a.t("pipelines-plugin~Cancelled"),[j.Other]:o.a.t("pipelines-plugin~Other")};var _;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(_||(_={}));_.Git,_.PullRequest,_.Image,_.Cluster,_.Storage,_.CloudEvent;const S=(e,t,n,o=!1)=>((o?e.spec.finally:e.spec.tasks)||[]).map(e=>{var o;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===E.a.PipelineRunCancelled?r.a(e,{status:{reason:h.a.Cancelled}}):t.spec.status===E.a.PipelineRunPending?r.a(e,{status:{reason:h.a.Idle}}):r.a(e,{status:{reason:h.a.Failed}});const c=s.a(n,t=>t.metadata.labels[b.u.pipelineTask]===e.name),l=null==c?void 0:c.status,u=r.a(e,{status:(null===(o=null==t?void 0:t.status)||void 0===o?void 0:o.taskRuns)?i.a(s.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):l});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(E.d)(u)||h.a.Pending:u.status&&!u.status.reason&&(u.status.reason=h.a.Pending):u.status={reason:h.a.Pending},u}),T=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const o=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||c.a(e.spec.tasks))return o;const r=S(e,t,n);return r.forEach(e=>{y(e)||O(e)||(0===o.length&&o.push([]),o[0].push(e))}),r.forEach(e=>{var t;if(!O(e)&&y(e)){let n=o.length-1;for(let a=0;a<o.length;a++)for(const r of o[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&r.name!==e.resources.inputs[0].from[0]||(n=a);const a=o[n+1]?o[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):o.splice(n+1,0,[e])}}),r.forEach(e=>{var t;if(O(e)){let n=o.length-1;for(let a=0;a<o.length;a++)for(const r of o[a])(null===(t=r.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&r.name!==e.runAfter[0]||(n=a);const a=o[n+1]?o[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):o.splice(n+1,0,[e])}}),o},N=(e,t,n)=>S(e,t,n,!0),R=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!c.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},w=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:h.a.PipelineNotStarted};let n=Object(E.c)(t);return"-"===n&&(n=h.a.Pending),{latestPipelineRun:t,status:n}},C=e=>e&&e.map(e=>({name:e.name,value:e.default})),P=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),D=(e,t,n)=>{const a=new Date(e).getTime(),o=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(v.g)(o,n)},x=e=>{var t,n,a,o;const r=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,s=null!==(o=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==o?o:null;return!r||!s&&"Running"!==Object(E.d)(e)?"-":D(r,s,!0)},I=(e,t,n)=>{const a=l.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},M=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,b.l,t).then(t=>{void 0===s.a(t.secrets,t=>t.name===e.metadata.name)&&I(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},L=(e,t)=>e===b.p.Git?`tekton.dev/${b.p.Git}-${t}`:e===b.p.Image?`tekton.dev/${b.p.Image}-${t}`:null,A=(e,t={})=>{let n=0,a=L(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=L(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},U=e=>{switch(e.kind){case g.PipelineModel.kind:case g.TaskModel.kind:case g.EventListenerModel.kind:return"";case g.PipelineRunModel.kind:return"pipeline-runs";case g.PipelineResourceModel.kind:return"pipeline-resources";case g.ConditionModel.kind:return"conditions";case g.TaskRunModel.kind:return"task-runs";case g.ClusterTaskModel.kind:return"cluster-tasks";case g.TriggerTemplateModel.kind:return"trigger-templates";case g.TriggerBindingModel.kind:return"trigger-bindings";case g.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case g.RepositoryModel.kind:return"repositories";default:return null}},B=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),F=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),K=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),$=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),q=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineModelV1Beta1:g.PipelineModel,G=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineRunModelV1Beta1:g.PipelineRunModel,V=e=>"tekton.dev/v1beta1"===e.apiVersion?g.TaskModelV1Beta1:g.TaskModel;var Y,z,H;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(Y||(Y={})),function(e){e.EXTERNAL_LINK="external-link"}(z||(z={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(H||(H={}));const W=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[Y.KEY])===H.SBOM}),Q=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[Y.TYPE])===z.EXTERNAL_LINK},J=e=>{var t,n,a,o;return null===(o=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===H.SBOM))||void 0===o?void 0:o.value},Z=e=>{var t,n,a,o;return null===(o=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===H.IMAGE_REPOSITORY))||void 0===o?void 0:o.value},X=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return h.a.Pending;return Object(E.d)(e)},ee=e=>{var t,n,a;const o=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,r=null==o?void 0:o.match(/(\w+)(?::\s*|\s+)(\d+)/g),s={};null==r||r.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);s[t.trim()]=Number(n.trim())});const i=((null==s?void 0:s.Completed)||0)-((null==s?void 0:s.Failed)||0)-((null==s?void 0:s.Cancelled)||0);return{Running:(null==s?void 0:s.Incomplete)||0,Succeeded:i||0,Cancelled:(null==s?void 0:s.Cancelled)||0,Failed:(null==s?void 0:s.Failed)||0,Skipped:(null==s?void 0:s.Skipped)||0,Completed:(null==s?void 0:s.Completed)||0,Cancelling:(null==s?void 0:s.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),o=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return T}));var a=n(29),o=n(22),r=n(16),s=n(57),i=n(640),c=n(5649),l=n(5),u=n(10),d=n(8),p=n(76),m=n(870),b=n(5586),v=n(5623),g=n(15),h=n(2221),f=n(1400),E=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const y=(e,t=e)=>{switch(t){case h.z:case h.b:return"";default:return e}},O=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const r=[{op:o.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,r)},j=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const o=r.a(t,["metadata","labels","app.kubernetes.io/instance"]),i=r.a(t,["metadata","labels","app.kubernetes.io/part-of"]),c=[O(e,t,n)];if(!o)return Promise.all(c);return i&&({"app.kubernetes.io/instance":o}["app.kubernetes.io/part-of"]=i),Object(f.e)(t.metadata.namespace,o,{"app.kubernetes.io/part-of":i}).then(e=>(s.a(e,e=>{s.a(e,e=>{!i&&r.a(e,["metadata","labels","app.kubernetes.io/part-of"])||c.push(O(Object(d.vb)(e.kind),e,n))})}),Promise.all(c)))},k=(e,t={},n)=>E(void 0,void 0,void 0,(function*(){var a,o;try{if(n){const n=yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(o=null==t?void 0:t.response)||void 0===o?void 0:o.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),_=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(l.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),S=(e,t)=>E(void 0,void 0,void 0,(function*(){var n,a;const o=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},r=Object(c.c)(o["app.openshift.io/vcs-uri"]),s=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let i;if((null==t?void 0:t.length)>0)i=null==t?void 0:t.reduce((t,n)=>{var a,o;return[...t,...(null!==(o=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==o?o:[]).reduce((t,n)=>{var a,o;let i;const c=n.generic?"generic":r,l=n.generic||n[r];if(l){const t=null!==(o=null===(a=l.secretReference)||void 0===a?void 0:a.name)&&void 0!==o?o:`${e.metadata.name}-${c}-webhook-secret`;i=s.find(e=>e.metadata.name===t)}return i?[...t,_(u.SecretModel,i)]:t},[])]},[]);else{const t=s.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=s.find(t=>t.metadata.name===`${e.metadata.name}-${r}-webhook-secret`);i=[_(u.SecretModel,t),_(u.SecretModel,n)]}return i})),T=e=>E(void 0,void 0,void 0,(function*(){const t=[],n=yield k(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield k(u.BuildModel,{ns:e.metadata.namespace}),r=yield k(b.PipelineModel,{ns:e.metadata.namespace},!0),s=yield k(b.TriggerTemplateModel,{ns:e.metadata.namespace},!0),c=yield k(b.EventListenerModel,{ns:e.metadata.namespace},!0),l=yield Object(m.fetchChannelsCrd)(),h=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},E=Object(g.Gc)(e,f),y=!o.a(E),O=Object(v.l)(e,r);let j=[],T=[];const N=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],R=[p.p,u.ImageStreamModel];o.a(O)||(N.push(b.PipelineModel),R.push(b.PipelineModel),j=Object(v.t)(O,s),T=Object(v.g)(j,c));const w=i.a(e),C=(e,n)=>{const a=_(e,n);a&&t.push(a)};y&&E.forEach(e=>{C(u.BuildConfigModel,e)});const P=(e,t)=>{e.forEach(e=>C(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&C(Object(d.vb)(Object(d.Db)(e)),e),l.find(t=>t.kind===e.kind)&&C(h,e),j.length>0&&j.forEach(e=>C(b.TriggerTemplateModel,e)),T.length>0&&T.forEach(e=>C(b.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:C(h,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:C(h,e),P(N,e);break;case p.p.kind:P(R,w);break;case p.b.kind:case p.k.kind:C(h,e)}return y&&t.push(...yield S(e,E)),O&&t.push(...yield S(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,o,r;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(o||(o={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(r||(r={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,o;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(o||(o={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5587),o=n(5611),r=n(5616),s=n(5661),i=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const c=[{name:"Devfile",type:o.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:o.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:o.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:o.b.S2I,expectedRegexp:/^/,priority:0,customDetection:r.a}],l=(e,t,n=!1)=>i(void 0,void 0,void 0,(function*(){let e,r=[],l=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(s.b)(n,t),r=yield Promise.all(c.map(e=>i(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),l=!0}catch(e){l=!0,u=e.message}else l=!0;return e||(r=r.filter(e=>e.type!==o.b.SERVERLESS_FUNCTION)),r=r.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:l,loadError:u,repositoryStatus:d,strategies:r}}))},5634:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return y})),n.d(t,"r",(function(){return O}));var a=n(2221);const o="event-source",r="event-sink",s="kafka-sink",i="event-source-kafka",c="event-source-link",l="event-sink-link",u="event-source-kafka-link",d="event-pubsub",p="event-pubsub-link",m="knative-service",b="revision-traffic",v="knative-revision",g="sink-uri",h=a.h,f=100,E=[a.c,a.c,a.c+10,a.c],y=6,O="URI"},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return _})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return w}));var a=n(5699),o=n(1403),r=n(5692),s=n(5691),i=n(5654),c=n(2225),l=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),b=n(5617);const v=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(b.c)(n),n},g=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=v(n,"creationTimestamp"),e}),h=e=>{switch(e){case m.a.Succeeded:return{message:l.a.t("pipelines-plugin~Succeeded"),pftoken:i.chart_color_green_400};case m.a.Failed:return{message:l.a.t("pipelines-plugin~Failed"),pftoken:c.global_danger_color_100};case m.a.FailedToStart:return{message:l.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:c.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:l.a.t("pipelines-plugin~Running"),pftoken:s.chart_color_blue_300};case m.a.Skipped:return{message:l.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:l.a.t("pipelines-plugin~Cancelled"),pftoken:o.chart_color_black_500};case m.a.Cancelling:return{message:l.a.t("pipelines-plugin~Cancelling"),pftoken:o.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:l.a.t("pipelines-plugin~Pending"),pftoken:r.chart_color_blue_100};default:return{message:l.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:r.chart_color_blue_100}}},f=e=>{var t,n,a,o,r;const s=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),i=(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.pipelineSpec)||(null===(r=null==e?void 0:e.spec)||void 0===r?void 0:r.pipelineSpec);return s&&i?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:s,namespace:e.metadata.namespace},spec:i}:null},E=(e,t,n)=>{var a,o,r,s,i;const c=(e=>{var t,n,a,o;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(o=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==o?o:0)})(t)-(e=>{var t,n,a,o;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(o=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==o?o:0)})(t),l=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=l().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.taskRuns)||n){l().forEach(t=>{const a=Object(b.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(b.c)(e)===m.a.Cancelled,o=c>=u?c-u-d:c;t||a?p[m.a.Cancelled]+=o:p[m.a.Pending]+=o}else"False"===(null===(i=null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.conditions)||void 0===s?void 0:s[0])||void 0===i?void 0:i.status)||(null==e?void 0:e.spec.status)===b.a.PipelineRunCancelled?p[m.a.Cancelled]=c:(null==e?void 0:e.spec.status)===b.a.PipelineRunPending?p[m.a.Pending]+=c:p[m.a.PipelineNotStarted]++;return p},y=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,O=e=>(y(e)||p.TaskModel).kind,j=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,k=e=>(j(e)||p.TriggerBindingModel).kind,_=e=>{const t=y(e);return Object(u.Hb)(t)},S=(e,t)=>{const n=t&&E(e,void 0,t);return null==n?void 0:n.Running},T=(e,t)=>!(e&&(S(e,t)>0||Object(b.c)(e)===m.a.Running)),N=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(b.c)(e)===m.a.Running)),R=(e,t)=>!(e&&S(e,t)>0&&Object(b.c)(e)!==m.a.Cancelled),w=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(b.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),o=n(0),r=n(7),s=n(14),i=n(5),c=n(869),l=n(5590),u=n(5598);const d=Object(r.withTranslation)()(class extends o.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:c.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(l.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return o.createElement(i.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return o.createElement(i.wb,Object.assign({},e),o.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(s.useParams)(),{t:n}=Object(r.useTranslation)();return o.createElement(i.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},o.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(14),r=n(5598);const s=()=>{const e=Object(o.useParams)(),t=e.type;return a.createElement(r.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},o={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},r={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},s={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},i={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},r,o,a,i,c,d,l,u,s],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n(5587);function o(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function r(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4359),o=n(5587),r=n(5613),s=n(5615),i=n(5612),c=n(5614);function l(e,t,n,l,u,d,p){let m,b;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=o.e.BASIC_AUTH,b=u.data;break;case a.SecretType.sshAuth:m=o.e.SSH,b=u["ssh-privatekey"];break;default:m=o.e.NO_AUTH}const v={url:e,ref:n,contextDir:l,secretType:m,secretContent:b,devfilePath:d,dockerfilePath:p};switch(t){case o.b.GITHUB:return new i.a(v);case o.b.BITBUCKET:return new r.a(v);case o.b.GITLAB:return new c.a(v);case o.b.GITEA:return new s.a(v);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5709);class o{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5647:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"b",(function(){return _})),n.d(t,"i",(function(){return S})),n.d(t,"d",(function(){return T}));var a=n(29),o=n(16),r=n(57),s=n(117),i=n(367),c=n(1401),l=n(10),u=n(8),d=n(5634),p=n(15),m=n(2221),b=n(1400),v=n(5589);const g=(e,t)=>{var n,a,o,r,s,i,c,l;if(!(null==e?void 0:e.builds)&&!(null==e?void 0:e.buildConfigs)&&!(null==e?void 0:e.pipelines))return null;const u=e=>{var t,n,a;return null!==(a=null===(n=null===(t=e.spec)||void 0===t?void 0:t.source)||void 0===n?void 0:n.contextDir)&&void 0!==a?a:null},d=null===(a=null===(n=null==e?void 0:e.builds)||void 0===n?void 0:n.data)||void 0===a?void 0:a.find(e=>e.metadata.name===t);if(d){return u(d)}const p=null===(r=null===(o=null==e?void 0:e.buildConfigs)||void 0===o?void 0:o.data)||void 0===r?void 0:r.find(e=>e.metadata.name===t);if(p){return u(p)}const m=null===(i=null===(s=null==e?void 0:e.pipelines)||void 0===s?void 0:s.data)||void 0===i?void 0:i.find(e=>e.metadata.name===t);if(m){const e=null===(l=null===(c=null==m?void 0:m.spec)||void 0===c?void 0:c.params)||void 0===l?void 0:l.find(e=>"PATH_CONTEXT"===e.name);if(e)return e.default}return null},h=(e,t,n,a,r=!1,s)=>{const{monitoringAlerts:i=[]}=t,l=o.a(e,"metadata.uid"),m=o.a(e,"metadata.labels",{}),b=o.a(e,"metadata.annotations",{}),v=o.a(e,"metadata.name",""),h=g(s,v),f=Object(c.d)("icon-"+m["app.openshift.io/runtime"])||Object(c.d)("icon-"+m["app.kubernetes.io/name"]);return{id:l,name:(null==e?void 0:e.metadata.name)||m["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:r}),data:{monitoringAlerts:i,kind:Object(u.Db)(e),editURL:b["app.openshift.io/edit-url"],vcsURI:b["app.openshift.io/vcs-uri"],vcsRef:b["app.openshift.io/vcs-ref"],contextDir:h,builderImage:f||a,isKnativeResource:!(!n||n!==d.i&&n!==d.n&&n!==d.j)||Object(p.Rd)(e,"metadata.labels")}}},f=(e,t,n,a,o,r,s)=>{var i;const c=null==e?void 0:e.metadata.uid,l=null==e?void 0:e.metadata.name,d=null===(i=null==e?void 0:e.metadata.labels)||void 0===i?void 0:i["app.openshift.io/instance"],p=r||Object(u.Db)(e);return Object.assign(Object.assign({id:c,type:t,label:d||l,shape:s,resource:e,resourceKind:p,data:n},o&&o.length&&{children:o}),a||{})},E={width:m.m,height:m.k,group:!1,visible:!0,style:{padding:m.l}},y=(e,t)=>{const n=o.a(e,"metadata.annotations"),i=[];return r.a(Object(b.d)(n),n=>{const r=o.a(s.a(t,e=>{var t,a,o,r,s;let i;if("string"==typeof n)return i=null!==(o=null===(a=null===(t=e.metadata)||void 0===t?void 0:t.labels)||void 0===a?void 0:a["app.kubernetes.io/instance"])&&void 0!==o?o:null===(r=e.metadata)||void 0===r?void 0:r.name,i===n;i=null===(s=e.metadata)||void 0===s?void 0:s.name;const{apiVersion:c,kind:l,name:u}=n,{kind:d,apiVersion:p}=e;let m=i===u&&d===l;return p&&(m=m&&p===c),m}),["metadata","uid"]),c=o.a(e,["metadata","uid"]);r&&i.push({id:`${c}_${r}`,type:m.v,label:a.a.t("topology~Visual connector"),source:c,target:r})}),i},O=e=>{const t=o.a(e,["metadata","labels","app.kubernetes.io/part-of"]);return t?{id:"group:"+t,type:m.u,group:!0,label:t,children:[o.a(e,["metadata","uid"])],width:m.h,height:m.f,data:{},visible:!0,collapsed:!1,style:{padding:m.g}}:null},j=(e,t)=>{var n;if(!e)return;e.children=null===(n=e.children)||void 0===n?void 0:n.filter(e=>!(null==t?void 0:t.find(t=>{var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e)})));const a=t.find(t=>t.group&&t.id===e.id);a?e.children.forEach(t=>{a.children.includes(t)||a.children.push(t),((e,t)=>{var n,a,o,r;((null===(n=t.data)||void 0===n?void 0:n.groupResources)||(null===(a=e.data)||void 0===a?void 0:a.groupResources))&&((null===(o=t.data)||void 0===o?void 0:o.groupResources)||(t.data.groupResources=[]),(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.groupResources)&&e.data.groupResources.forEach(e=>{t.data.groupResources.includes(e)||t.data.groupResources.push(e)}))})(e,a)}):t.push(e)},k=(e,t)=>{e&&e.length&&e.forEach(e=>{j(e,t)})},_=(e,t,n=[])=>{(null==e?void 0:e.edges)&&t.edges.push(...e.edges),(null==e?void 0:e.nodes)&&(t.nodes.push(...e.nodes.filter(e=>!e.group&&!t.nodes.find(a=>{if(e.id===a.id)return!0;const{resource:o}=e;return!o||!!n.find(e=>e(o,t))}))),k(e.nodes.filter(e=>e.group),t.nodes))},S=(e,t,n=v.a)=>i.a(n.map(n=>e[n]?e[n].data.map(e=>{const a=e.kind||t[n];let o,r=a;return a&&Object(u.eb)(a)&&(r=Object(u.tb)(a),o=Object(u.o)(a)),Object.assign({kind:r,apiVersion:o},e)}):[])),T=e=>({deploymentConfigs:{isList:!0,kind:"DeploymentConfig",namespace:e,optional:!0},deployments:{isList:!0,kind:"Deployment",namespace:e,optional:!0},daemonSets:{isList:!0,kind:"DaemonSet",namespace:e,optional:!0},pods:{isList:!0,kind:"Pod",namespace:e,optional:!0},jobs:{isList:!0,kind:"Job",namespace:e,optional:!0},cronJobs:{isList:!0,kind:"CronJob",namespace:e,optional:!0},statefulSets:{isList:!0,kind:"StatefulSet",namespace:e,optional:!0},services:{isList:!0,kind:"Service",namespace:e,optional:!0},hpas:{isList:!0,kind:l.HorizontalPodAutoscalerModel.kind,namespace:e,optional:!0},buildConfigs:{isList:!0,kind:l.BuildConfigModel.kind,namespace:e,optional:!0}})},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,o,r,s=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(o||(o={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(r||(r={}));const i={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},c={[o.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[o.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[o.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[o.BRANCH]:"pipelinesascode.tekton.dev/branch"};var l;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(l||(l={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:s.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[s.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[s.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(2338),o=n(689),r=n(5591),s=n(5653),i=n(15),c=n(5655),l=n(5621);const u=e=>o.object().shape({name:Object(i.Zd)(e),project:l.l,application:l.a,image:Object(l.h)(e),git:Object(l.g)(e),docker:Object(l.e)(e),devfile:Object(l.d)(e),deployment:Object(l.c)(e),serverless:Object(l.o)(e),route:Object(l.n)(e),limits:Object(l.k)(e),build:l.b,resources:l.m,healthChecks:Object(c.a)(e),pac:Object(s.e)(e),pipeline:l.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>l.f.test(e)?d(e,"github.com")?r.b.GITHUB:d(e,"bitbucket.org")?r.b.BITBUCKET:d(e,"gitlab.com")?r.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?r.b.GITEA:r.b.UNSURE:r.b.INVALID,m=e=>{if(i.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},b=e=>{if(!l.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return _}));var a,o,r=n(321),s=n(29),i=n(550),c=n(50),l=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),b=n(158),v=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(o||(o={}));const g=(e=o.TEKTON_PIPELINES_CONTROLLER)=>({[v.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:i.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:i.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[v.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:i.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:i.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:i.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:i.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[v.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:i.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:i.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:i.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:i.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),h=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>b.b.format(e),E=(e,t,n)=>{const{metric:a,values:o}=e,r=c.a(o,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),s=Number(l.a(r,"[0].x")),i=Number(l.a(u.a(r),"x")),p=n/t;return d.a(s,i,p).forEach((e,t)=>{const n=new Date(e);l.a(r,[t,"x"])>n&&r.splice(t,0,{x:n,y:null,metric:a})}),r},y=(e,t,n)=>{var a;const o=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==o?void 0:o.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,o])=>{var r,s;return{x:null!==(r=null==t?void 0:t(e))&&void 0!==r?r:new Date(1e3*a),y:null!==(s=null==n?void 0:n(o))&&void 0!==s?s:parseFloat(o),metric:null==e?void 0:e.metric,time:a}})})},O=e=>{const t=[];if(!e)return t;const n=Object(r.b)("1d"),a=Math.round(e/n),o=new Date(Date.now());for(o.setHours(0,0,0,0);t.length-1<a;)t.push(o.getTime()),o.setDate(o.getDate()-1);return t.slice(0,a)},j=(e,t)=>{if(0===e)return s.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,o=0,r="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(o=Math.floor(a/60),a%=60),o>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} hour",{count:o}):s.a.t("pipelines-plugin~{{hr}}h",{hr:o}),r+=" "),a>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} minute",{count:a}):s.a.t("pipelines-plugin~{{min}}m",{min:a}),r+=" "),n>0&&(r+=t?s.a.t("pipelines-plugin~{{count}} second",{count:n}):s.a.t("pipelines-plugin~{{sec}}s",{sec:n})),r.trim()},k=()=>({"1d":s.a.t("pipelines-plugin~1 day"),"3d":s.a.t("pipelines-plugin~3 days"),"1w":s.a.t("pipelines-plugin~1 week"),"2w":s.a.t("pipelines-plugin~2 weeks"),"3w":s.a.t("pipelines-plugin~3 weeks"),"4w":s.a.t("pipelines-plugin~4 weeks")}),_=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),o=n(1402);const r=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},s=/ *\([^)]*\) */g,i=e=>e.replace(s,""),c=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:r,kind:s,name:i}=e.spec.ref;return Object(a.n)(o.l)===r&&s===o.l.kind&&i!==t?i:null},l=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(i(e)))).map(e=>i(e)))],u=e=>e.some(e=>new RegExp(s).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,o;const r=null==t?void 0:t.find(t=>t.metadata.name===i(e));return r&&(null===(o=null===(a=r.spec)||void 0===a?void 0:a.ref)||void 0===o?void 0:o.name)!==n?r:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),o=n(8),r=n(5663);class s extends r.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(o.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=s},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"d",(function(){return w}));var a=n(5596),o=n(320),r=n(2338),s=n(689),i=n(5621),c=n(5624),l=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),b=n(5586),v=n(5620),g=n(5656),h=n(5588),f=n(5648),E=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const y={dryRun:"All"},O=e=>s.object().shape({name:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:s.string().matches(i.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:s.string(),webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(c.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>s.object().shape({webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),k=e=>s.object().shape({repository:s.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===v.a.PAC&&t,then:j(e)})}),_=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),S=e=>i.f.test(e)?_(e,"github.com")?u.b.GITHUB:_(e,"bitbucket.org")?u.b.BITBUCKET:_(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,T=(e,t,n={},r)=>E(void 0,void 0,void 0,(function*(){var s,i,c;const{name:m,gitUrl:v,webhook:{secretObj:g,method:h,token:O,secret:j,user:k}}=e,_=o.Base64.encode(j),T=S(v);let N;O&&"token"===h?N=yield((e,t,n,a,r,s,i)=>E(void 0,void 0,void 0,(function*(){const c={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},s&&{"webhook.secret":s}),r===u.b.BITBUCKET&&{"webhook.auth":o.Base64.encode(`${t}:${n}`)})};return Object(l.g)({model:p.SecretModel,data:c,ns:a,queryParams:i?y:{}})})))(m,k,O,t,T,j,r):"secret"===h&&g&&(null===(s=null==g?void 0:g.data)||void 0===s?void 0:s["webhook.secret"])!==_&&(yield Object(l.p)({model:p.SecretModel,resource:g,data:[{op:"replace",path:"/data/webhook.secret",value:o.Base64.encode(j)}]}));const R=a(v).source,w=N||g,C={kind:b.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:v},w||"github.com"!==R?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(R)?{}:{url:R}),"bitbucket.org"===R?{user:k}:{}),w?{secret:{name:null===(i=null==w?void 0:w.metadata)||void 0===i?void 0:i.name,key:"provider.token"},webhook_secret:{name:null===(c=null==w?void 0:w.metadata)||void 0===c?void 0:c.name,key:"webhook.secret"}}:{})}:{})};return yield Object(l.g)({model:b.RepositoryModel,data:C,ns:t,queryParams:r?y:{}})})),N=(e,t,n)=>E(void 0,void 0,void 0,(function*(){var a,r,s;const{gitUrl:i,webhook:{method:c,token:l,secret:d,url:p,secretObj:m,user:b}}=e,v=S(i),g=Object(u.e)(i,v);let h,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),h=v===u.b.BITBUCKET?"token"===c?o.Base64.encode(`${b}:${l}`):o.Base64.decode(null===(r=null==m?void 0:m.data)||void 0===r?void 0:r["webhook.auth"]):"token"===c?l:o.Base64.decode(null===(s=null==m?void 0:m.data)||void 0===s?void 0:s["provider.token"]);return yield g.createRepoWebhook(h,p,f,d)})),R=e=>{if(!i.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+r.a(n);var n},w=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(l.n)({model:p.ConfigMapModel,queryParams:{ns:h.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>E(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(l.j)({model:p.ConfigMapModel,ns:h.g,name:g.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689);const o=/^\/.*$/,r=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(o,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),s=e=>a.object().shape({readinessProbe:r(e),livenessProbe:r(e),startupProbe:r(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",o="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",r="https://api.github.com/app-manifests",s="pipelines-as-code-interceptor",i="pipelines-as-code-secret",c="pipelines-ci-clustername",l="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5657:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i}));const a=e=>"Topology/ComponentFactory"===e.type,o=e=>"Topology/DataModelFactory"===e.type,r=e=>"Topology/CreateConnector"===e.type,s=e=>"Topology/DisplayFilters"===e.type,i=e=>"Topology/Decorator"===e.type},5658:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0);const o=a.createContext({})},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(2221);const o="operator-backed-service",r=a.h,s=a.f,i=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(447),o=n(1941),r=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const s=e=>r(void 0,void 0,void 0,(function*(){var t,n,r;if(!(yield e.isFuncYamlPresent()))return{values:{}};const s=yield e.getFuncYamlContent();try{const e=a.a(s)?Object(o.c)(s):s,i=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,c=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,l=null==e?void 0:e.runtime;return{values:{builder:i,runtime:l,builderEnvs:c,runtimeEnvs:null===(r=null==e?void 0:e.run)||void 0===r?void 0:r.envs}}}catch(e){return{values:{}}}})),i=(e,t)=>r(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),r=Object(o.c)(e);if(!(null===(n=null==r?void 0:r.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==r?void 0:r.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5662:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(0),o=n(5619),r=n(5589),s=n(5647),i=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};class c{constructor(e){this.extensions={},this.namespace=void 0,this.model={nodes:[],edges:[]},this.loaded=!1,this.loadError=void 0,this.extensionsLoaded=!1,this.watchedResources={},this.updateWatchedResources=()=>{const e=Object.keys(this.extensions);this.watchedResources=e.reduce((e,t)=>{if(this.extensions[t].resources){const n=this.extensions[t].resources(this.namespace);Object.keys(n).forEach(t=>{e[t]||(e[t]=n[t])})}return e},Object(s.d)(this.namespace))},this.updateExtension=(e,t)=>{this.extensions[e]=Object.assign(Object.assign({},this.extensions[e]||{}),t),this.updateExtensionsLoaded(),this.updateWatchedResources()},this.getWorkloadResources=e=>{const t=this.watchedResources,n=Object.keys(t).reduce((e,n)=>(e[n]=t[n].kind,e),{});return Object(s.i)(e,n,this.workloadKeys)},this.getExtensionModels=e=>i(this,void 0,void 0,(function*(){const t={nodes:[],edges:[]},n=this.dataModelGetters;if(!(null==n?void 0:n.length))return Promise.resolve(t);const a=this.dataModelDepicters,o=this.getWorkloadResources(e),r=n.map(t=>{try{return t(this.namespace,e,o)}catch(e){return console.error("Unable to add some resources to topology",e),null}});return yield Promise.all(r).then(e=>{e.forEach(e=>{if(e)try{Object(s.b)(e,t,a)}catch(e){console.error("Unable to add some resources to topology",e)}})}),Promise.resolve(t)})),this.reconcileModel=(e,t)=>{this.dataModelReconcilers.forEach(n=>{try{n(e,t)}catch(e){console.error("Unable to reconcile some resources in topology",e)}})},this.namespace=e,Object(o.p)(this,{namespace:o.q,model:o.q.ref,loaded:o.q,loadError:o.q,extensionsLoaded:o.q,watchedResources:o.q.ref,isEmptyModel:o.i})}updateExtensionsLoaded(){const e=Object.keys(this.extensions),t=this.extensionsLoaded;this.extensionsLoaded=e.length>1&&e.every(e=>!!this.extensions[e].dataModelGetter&&!!this.extensions[e].dataModelDepicter&&!!this.extensions[e].dataModelReconciler),!t&&this.extensionsLoaded&&this.onExtensionsLoaded&&this.onExtensionsLoaded(this)}getExtensions(){return this.extensions}getExtension(e){return this.extensions[e]}get workloadKeys(){const e=[...r.a];return Object.keys(this.extensions).forEach(t=>{this.extensions[t].workloadKeys&&this.extensions[t].workloadKeys.forEach(t=>{e.includes(t)||e.push(t)})}),e}get prioritizedKeys(){return Object.keys(this.extensions).sort((e,t)=>this.extensions[e].priority-this.extensions[t].priority)}get dataModelGetters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelGetter&&e.push(this.extensions[t].dataModelGetter),e),[])}get dataModelDepicters(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelDepicter&&e.push(this.extensions[t].dataModelDepicter),e),[])}get dataModelReconcilers(){return this.prioritizedKeys.reduce((e,t)=>(this.extensions[t].dataModelReconciler&&e.push(this.extensions[t].dataModelReconciler),e),[])}get isEmptyModel(){var e,t,n;return 0===(null!==(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}}const l=Object(a.createContext)(null)},5663:function(e,t,n){"use strict";var a=n(5585),o=n(5619);const r=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class s extends a.BaseElement{constructor(){super(),this.anchors={[r()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(o.p)(this,{anchors:o.q.shallow,dimensions:o.q.ref,dimensionsInitialized:o.q,position:o.q.ref,nodes:o.i,group:o.q,collapsed:o.q,labelPosition:o.q,shape:o.q,status:o.q,groupBounds:o.i,sourceEdges:o.i,targetEdges:o.i,setDimensions:o.f,setBounds:o.f,setPosition:o.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:o,y:r}=this.position;e.x===o&&e.y===r||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,o=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,r=t.getPosition(),s=new a.Point(r.x+n,r.y+o);t.setPosition(s)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[r(e,t)];return!n&&t&&(n=this.anchors[r(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[r(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[r(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=r(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=s},5664:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(31);const o=()=>Object(a.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5);const o=(e,t)=>{const n=t.current?t.current.pods:t.pods;let o=0,r=0;const s=[],i=[];return(null==n?void 0:n.length)&&n.forEach(({metadata:{name:t}})=>{var n,c;const l=null===(n=null==e?void 0:e.memory)||void 0===n?void 0:n[t];if(Number.isFinite(l)){o+=l;const e=Object(a.Ob)(l)+" MiB";s.push({name:t,value:l,formattedValue:e})}const u=null===(c=null==e?void 0:e.cpu)||void 0===c?void 0:c[t];if(Number.isFinite(u)){r+=u,i[t]=Object(a.Pb)(u)+" cores";const e=Object(a.Pb)(u)+" cores";i.push({name:t,value:u,formattedValue:e})}}),{totalBytes:o,totalCores:r,memoryByPod:s,cpuByPod:i}}},5667:function(e,t,n){"use strict";var a=n(0),o=n(516),r=n(164),s=n(4341),i=n(404),c=n(5794),l=n(5912),u=n(5),d=n(8),p=n(64),m=n(197),b=n(2245);t.a=({obj:e,path:t})=>{var n;const{podData:v,loadError:g,loaded:h}=Object(p.A)(e),f=Object(d.vb)(null==e?void 0:e.kind),E=a.useMemo(()=>h&&!g?Object(m.z)(Object.assign(Object.assign({},v),{obj:e})):{inProgressDeploymentData:null,completedDeploymentData:null},[g,h,v,e]),y=(null==v?void 0:v.current)&&(null==v?void 0:v.current.obj),O=(null==v?void 0:v.previous)&&(null==v?void 0:v.previous.obj),{inProgressDeploymentData:j,completedDeploymentData:k}=E,_=j&&y,S=j&&k?O:y;return h?a.createElement(o.a,{hasGutter:!0},a.createElement(r.a,null,a.createElement(b.a,{key:j?"deploy":"notDeploy",pods:k,rc:(null==v?void 0:v.isRollingOut)?S:null===(n=null==v?void 0:v.current)||void 0===n?void 0:n.obj,resourceKind:f,obj:e,path:t,enableScaling:!(null==v?void 0:v.isRollingOut)})),j&&a.createElement(a.Fragment,null,a.createElement(r.a,null,a.createElement(s.a,null,a.createElement(i.a,{size:"xl"},a.createElement(c.a,{color:l.global_Color_200.value})))),a.createElement(r.a,null,a.createElement(b.a,{pods:j,rc:_,resourceKind:f,obj:e,path:t,enableScaling:!1})))):a.createElement(u.T,null)}},5670:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(31),r=n(499),s=n(327),i=n(517),c=n(5);const l=e=>({watchURL:(t,n)=>e(Object(i.g)(t,n)),stopWatchURL:t=>e(Object(i.e)(t)),watchPrometheusQuery:(t,n,a)=>e(Object(i.f)(t,n,a)),stopWatchPrometheusQuery:(t,n)=>e(Object(i.d)(t,n))}),u=e=>({[s.a.URL]:e.dashboards.get(s.a.URL),[s.a.PROMETHEUS]:e.dashboards.get(s.a.PROMETHEUS),notificationAlerts:e.observe.get("notificationAlerts")}),d=e=>Object(o.connect)(u,l)(class extends a.Component{constructor(e){super(e),this.urls=[],this.queries=[],this.watchingAlerts=!1,this.watchURL=(e,t)=>{this.urls.push(e),this.props.watchURL(e,t)},this.watchPrometheus=(e,t,n)=>{this.queries.push(Object(i.c)(e,n)),this.props.watchPrometheusQuery(e,t,n)},this.stopWatchPrometheusQuery=(e,t)=>{const n=Object(i.c)(e,t);this.queries=this.queries.filter(e=>e!==n),this.props.stopWatchPrometheusQuery(e,t)},this.watchAlerts=()=>{this.watchingAlerts=!0},this.stopWatchAlerts=()=>{this.watchingAlerts=!1},this.watchK8sResource=e=>{this.setState(t=>({k8sResources:[...t.k8sResources,Object.assign(Object.assign({},e),{optional:!0})]}))},this.stopWatchK8sResource=e=>{this.setState(t=>({k8sResources:t.k8sResources.filter(t=>t.prop!==e.prop)}))},this.getExternalProps=e=>r.a(e,"watchURL","stopWatchURL","watchPrometheusQuery","stopWatchPrometheusQuery","watchAlerts","stopWatchAlerts",s.a.URL,s.a.PROMETHEUS,"notificationAlerts"),this.state={k8sResources:[]}}shouldComponentUpdate(e,t){var n,a,o,r,i,c;const l=this.urls.some(t=>this.props[s.a.URL].getIn([t,"data"])!==e[s.a.URL].getIn([t,"data"])||this.props[s.a.URL].getIn([t,"loadError"])!==e[s.a.URL].getIn([t,"loadError"])),u=this.queries.some(t=>this.props[s.a.PROMETHEUS].getIn([t,"data"])!==e[s.a.PROMETHEUS].getIn([t,"data"])||this.props[s.a.PROMETHEUS].getIn([t,"loadError"])!==e[s.a.PROMETHEUS].getIn([t,"loadError"])),d=(null===(a=null===(n=this.props)||void 0===n?void 0:n.notificationAlerts)||void 0===a?void 0:a.data)!==(null===(o=null==e?void 0:e.notificationAlerts)||void 0===o?void 0:o.data)||(null===(i=null===(r=this.props)||void 0===r?void 0:r.notificationAlerts)||void 0===i?void 0:i.loadError)!==(null===(c=null==e?void 0:e.notificationAlerts)||void 0===c?void 0:c.loadError),p=this.state.k8sResources!==t.k8sResources,m=this.getExternalProps(e),b=this.getExternalProps(this.props);return l||u||p||this.watchingAlerts&&d||Object.keys(m).length!==Object.keys(b).length||Object.keys(m).some(e=>m[e]!==b[e])}render(){return a.createElement(c.C,{resources:this.state.k8sResources},a.createElement(e,Object.assign({watchURL:this.watchURL,stopWatchURL:this.props.stopWatchURL,watchPrometheus:this.watchPrometheus,stopWatchPrometheusQuery:this.stopWatchPrometheusQuery,watchAlerts:this.watchAlerts,stopWatchAlerts:this.stopWatchAlerts,urlResults:this.props[s.a.URL],prometheusResults:this.props[s.a.PROMETHEUS],notificationAlerts:this.props.notificationAlerts,watchK8sResource:this.watchK8sResource,stopWatchK8sResource:this.stopWatchK8sResource},this.getExternalProps(this.props))))}})},5671:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5589);const o=(e,t,n=null)=>Object(a.b)(Object(a.g)(e),Object(a.g)(t),n?Object(a.g)(n):null)},5672:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(5668),r=n(5),s=n(8),i=n(5589);const c=e=>t=>{const n=n=>{const o=Object(i.g)(n.element),c=Object(s.vb)(Object(s.Db)(o)),l=Object(r.Dc)({group:c.apiGroup,verb:e,resource:c.plural,name:o.metadata.name,namespace:o.metadata.namespace});return a.createElement(t,Object.assign({},n,{canEdit:l}))};return n.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(o.a)(n)}},5674:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(5);const o=["configmaps","persistentvolumeclaims","pods","replicationcontrollers","resourcequotas","services","services.loadbalancers","services.nodeports","secrets","openshift.io/imagestreams"],r=(e,t)=>{let n=Object(a.Ib)(t),o=Object(a.Ib)(e);return n&&o||(n=parseInt(n,10),o=parseInt(o,10)),n&&o?n/o*100:0},s=({resourceName:e,used:t,hard:n})=>{const s=e.startsWith("count/")||o.includes(e),i=r(n,t);return{label:s?`${t||0} of ${n}`:Object(a.ec)(i).string,percent:i}}},5678:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(22),r=n(15),s=n(5665),i=n(5664);const c=e=>{const t=Object(i.a)(),{podData:n,loaded:c}=Object(r.Se)(e,e.kind,e.metadata.namespace);return a.useMemo(()=>o.a(t)||!c?null:Object(s.a)(t,n),[c,t,n])}},5679:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(7),r=n(131),s=n(15),i=n(5589);const c=e=>Object(r.n)({title:a.createElement(a.Fragment,null,a.createElement(s.tc,{className:"co-icon-space-r"})," ",a.createElement(o.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(i.l)(e).catch(e=>{e&&Object(r.s)({error:e.message})})})},5680:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(7),r=n(131),s=n(5589);const i=(e,t)=>{const n=e.getParent()!==e.getGraph()?e.getParent():void 0;if(n===t)return Promise.reject();if(n){const i=t?"topology~Move component node":"topology~Remove component node from application",c=e.getLabel(),l=n.getLabel(),u=null==t?void 0:t.getLabel(),d=t?a.createElement(o.Trans,{ns:"topology"},"Are you sure you want to move ",a.createElement("strong",null,{nodeLabel:c})," from ",{sourceLabel:l}," to"," ",{targetLabel:u},"?"):a.createElement(o.Trans,{ns:"topology"},"Are you sure you want to remove ",a.createElement("strong",null,{nodeLabel:c})," from ",{sourceLabel:l},"?"),p=t?"topology~Move":"topology~Remove";return new Promise((n,a)=>{Object(r.n)({titleKey:i,message:d,btnTextKey:p,close:()=>{a()},cancel:()=>{a()},executeFn:()=>Object(s.m)(e,t?t.getLabel():null).then(n).catch(e=>{const t=e.message;Object(r.s)({error:t}),a(e)})})})}return Object(s.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(r.s)({error:t})})}},5686:function(e,t,n){"use strict";var a=n(0);n(5887);t.a=({children:e})=>a.createElement("div",{className:"ocs-sidebar-tabsection"},e)},5693:function(e,t,n){"use strict";var a,o;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.graph="graph",e.list="list"}(a||(a={})),function(e){e.show="show",e.expand="expand",e.kind="kind"}(o||(o={}));const r="show-regroup-hint"},5694:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(14),s=(n(5950),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=e=>{var{x:t,y:n,radius:i,href:c,ariaLabel:l,external:u}=e,d=s(e,["x","y","radius","href","ariaLabel","external"]);const p=a.createElement(o.Decorator,Object.assign({x:t,y:n,radius:i,className:"odc-decorator",showBackground:!0},d));return c?u?a.createElement("a",{className:"odc-decorator__link",href:c,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},role:"button","aria-label":l},p):a.createElement(r.Link,{className:"odc-decorator__link",to:c,role:"button","aria-label":l},p):p}},5695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,o=n(0),r=n(18),s=n(1946),i=n(5727);n(5728);!function(e){e.light="light",e.default="default"}(a||(a={}));t.b=({children:e,disabled:t,onNamespaceChange:n,hideProjects:c=!1,hideApplications:l=!1,variant:u=a.default,toolbar:d})=>o.createElement("div",{className:"odc-namespaced-page"},o.createElement(s.NamespaceBar,{isDisabled:t,onNamespaceChange:n,hideProjects:c},!l&&o.createElement(i.a,{disabled:t}),d&&o.createElement("div",{className:"odc-namespaced-page__toolbar"},d)),o.createElement("div",{className:r("odc-namespaced-page__content",{["is-"+u]:u!==a.default})},e))},5697:function(e,t,n){"use strict";var a=n(5703);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.c})),n.d(t,"c",(function(){return a.f}));var o=n(5751);n.d(t,"d",(function(){return o.b})),n.d(t,"e",(function(){return o.c})),n.d(t,"f",(function(){return o.g})),n.d(t,"g",(function(){return o.j})),n.d(t,"h",(function(){return o.k})),n.d(t,"i",(function(){return o.m}));var r=n(5881);n.d(t,"j",(function(){return r.a}));var s=n(5882);n.d(t,"l",(function(){return s.a}));var i=n(5773);n.d(t,"k",(function(){return i.a}));n(5883)},5698:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(18),s=n(13),i=n(8),c=n(5589),l=(n(5976),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=Object(o.observer)(e=>{var{className:t,element:n,endTerminalType:u=o.EdgeTerminalType.directional,onShowRemoveConnector:d,onHideRemoveConnector:p,targetDragRef:m,sourceDragRef:b}=e,v=l(e,["className","element","endTerminalType","onShowRemoveConnector","onHideRemoveConnector","targetDragRef","sourceDragRef"]);const g=Object(c.g)(n.getSource()),h=g&&Object(i.vb)(Object(i.Db)(g)),[f,E]=Object(o.useSelection)({controlled:!0}),y=Object(s.ic)({group:null==h?void 0:h.apiGroup,verb:"patch",resource:null==h?void 0:h.plural,name:null==g?void 0:g.metadata.name,namespace:null==g?void 0:g.metadata.namespace});return a.createElement(o.DefaultEdge,Object.assign({className:r("odc-base-edge",t),element:n,onShowRemoveConnector:y?d:void 0,onHideRemoveConnector:y?p:void 0,targetDragRef:y?m:void 0,sourceDragRef:y?b:void 0,endTerminalType:u,selected:f,onSelect:E},v))})},5700:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var a=n(0),o=n(108),r=n(10),s=n(15),i=n(5594);const c=(e,[t,n])=>n?t.reduce((t,{properties:{adapt:n}})=>{const a=n(e);return null!=a?a:t},void 0):void 0,l=e=>{const t=Object(s.ve)(e),{podData:n,loaded:o,loadError:r}=Object(s.Se)(e);return a.useMemo(()=>({pods:null==n?void 0:n.pods,loaded:o,loadError:r,buildConfigData:t}),[t,r,o,n])},u=e=>{const t=Object(i.f)(e);if(t&&t&&[r.DeploymentConfigModel.kind,r.DeploymentModel.kind,r.DaemonSetModel.kind,r.StatefulSetModel.kind,r.JobModel.kind,r.PodModel.kind].includes(t.kind))return{resource:t,provider:l}},d=e=>{const t=Object(i.f)(e);if(t&&t&&[r.DeploymentConfigModel.kind,r.DeploymentModel.kind,r.DaemonSetModel.kind,r.StatefulSetModel.kind,r.CronJobModel.kind].includes(t.kind))return{resource:t,provider:s.ve}},p=e=>{const t=Object(i.f)(e);if(t&&t&&[r.DeploymentConfigModel.kind,r.DeploymentModel.kind,r.DaemonSetModel.kind,r.StatefulSetModel.kind,r.PodModel.kind].includes(t.kind))return{resource:t}},m=e=>{const{jobs:t}=Object(s.Le)(e),{metadata:{namespace:n}}=e,[r,i]=a.useState([]),[c,l]=a.useState(!1),[u,d]=a.useState(""),p=a.useMemo(()=>Object(s.Fd)("CronJob",n),[n]),m=Object(o.b)(p);return a.useEffect(()=>{const e=Object.keys(m).find(e=>m[e].loadError);if(e)d(m[e].loadError);else if(d(""),Object.keys(m).length>0&&Object.keys(m).every(e=>m[e].loaded)){const e=(null==t?void 0:t.length)?t.reduce((e,t)=>(e.push(...Object(s.vd)(t,m)),e),[]):[];i(e),l(!0)}},[t,m]),{pods:r,loaded:c,loadError:u}},b=e=>{const t=Object(i.f)(e);if(t&&t.kind===r.CronJobModel.kind)return{resource:t,provider:m}}},5702:function(e,t,n){"use strict";n.d(t,"d",(function(){return R})),n.d(t,"k",(function(){return D})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return L})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return V})),n.d(t,"o",(function(){return z})),n.d(t,"h",(function(){return H})),n.d(t,"l",(function(){return W})),n.d(t,"e",(function(){return Q})),n.d(t,"m",(function(){return J})),n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return X})),n.d(t,"c",(function(){return ee})),n.d(t,"n",(function(){return te}));var a=n(1195),o=n(29),r=n(50),s=n(16),i=n(116),c=n(57),l=n(117),u=n(22),d=n(255),p=n(7146),m=n(655),b=n(499),v=n(1401),g=n(10),h=n(8),f=n(15),E=n(2221),y=n(5647),O=n(5589),j=n(132),k=n(76),_=n(870),S=n(5634),T=n(5726);const N=e=>{switch(e){case T.c.EventSource:case T.c.EventSink:case T.c.EventSourceKafka:case T.c.KafkaSink:return{width:E.m,height:E.k,visible:!0,shape:a.n.rhombus,style:{padding:E.l}};case T.c.KnService:return{width:S.d,height:S.b,visible:!0,collapsed:!1,group:!0,shape:a.n.rect,style:{padding:S.c}};case T.c.PubSub:return{width:E.m,height:E.k/2,visible:!0,shape:a.n.stadium,style:{padding:E.l}};case T.c.SinkUri:return{width:.75*E.m,height:.75*E.k,visible:!0,shape:a.n.circle,style:{padding:E.l}};default:return y.a}},R=({FLAGS:e})=>e.get(j.B),w=e=>{var t;return e.kind!==k.f.kind&&!!(null===(t=e.metadata)||void 0===t?void 0:t.ownerReferences)},C=(e,t,n)=>{var a,o,r;const s=null===(o=null===(a=null==t?void 0:t.spec)||void 0===a?void 0:a.subscriber)||void 0===o?void 0:o.ref,i=null===(r=null==t?void 0:t.spec)||void 0===r?void 0:r.channel;return(!i||n.metadata.name===i.name&&n.kind===i.kind&&n.apiVersion===i.apiVersion)&&(s&&Object(h.o)(Object(h.Db)(e))===s.apiVersion&&e.metadata.name===s.name)},P=(e,t,n)=>{var a,o,r,s;const{name:i,kind:c,apiVersion:l}=(null===(o=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===o?void 0:o.ref)||{};if(n.metadata.name!==i||n.kind!==c||n.apiVersion!==l)return!1;if(t.kind===k.i.kind)return(null===(r=t.spec)||void 0===r?void 0:r.broker)===e.metadata.name;const u=null===(s=t.spec)||void 0===s?void 0:s.channel;return u&&u.name===e.metadata.name&&u.kind===e.kind&&u.apiVersion===e.apiVersion},D=e=>{var t,n;const a={filters:[]},o=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.attributes;if(o&&!u.a(o))for(const[e,t]of Object.entries(o))a.filters.push({key:e,value:t});return a},x=(e,t)=>t.reduce((t,n)=>{var a,o;return[...t,...null!==(o=null===(a=e[n])||void 0===a?void 0:a.data)&&void 0!==o?o:[]]},[]),I=(e,t)=>{const n=[...Object(_.getDynamicEventSourcesModelRefs)(),k.b.plural];return d.a(x(t,n),(t,n)=>{var a,o;const r=(null===(o=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===o?void 0:o.ref)||{};return e.kind===r.kind&&e.metadata.name===r.name&&e.apiVersion===r.apiVersion&&t.push(n),t},[])},M=(e,t)=>{const n=Object(_.getDynamicChannelModelRefs)(),a={Broker:[{relatedResource:"ksservices",relationshipResource:"triggers",isRelatedResource:C},{relatedResource:"services",relationshipResource:"triggers",isRelatedResource:C},{relatedResource:"kafkasinks",relationshipResource:"triggers",isRelatedResource:C}],Service:[{relatedResource:"brokers",relationshipResource:"triggers",isRelatedResource:P}]};c.a(n,e=>{a.Service.push({relatedResource:e,relationshipResource:"eventingsubscription",isRelatedResource:P}),a[e]=[{relatedResource:"ksservices",relationshipResource:"eventingsubscription",isRelatedResource:C},{relatedResource:"services",relationshipResource:"eventingsubscription",isRelatedResource:C},{relatedResource:"kafkasinks",relationshipResource:"eventingsubscription",isRelatedResource:C}]});let o=[];if(a[e.kind]||a[Object(h.Db)(e)]){const n=a[e.kind]||a[Object(h.Db)(e)];c.a(n,n=>{var a;const{relatedResource:r,relationshipResource:s,isRelatedResource:i}=n;t[r]&&(null===(a=t[r].data)||void 0===a?void 0:a.length)>0&&(o=o.concat(d.a(t[r].data,(n,a)=>{if(Object(h.Db)(a)!==Object(h.Db)(g.ServiceModel)&&w(a)||!i)return n;const o=(t[s].data||[]).filter(t=>i(a,t,e)).map(e=>Object.assign({kind:Object(h.Db)(e),name:e.metadata.name,namespace:e.metadata.namespace},D(e)));if(o.length>0){const e={kind:Object(h.Db)(a),name:a.metadata.name,namespace:a.metadata.namespace,data:o};n.push(e)}return n},[])))})}return o},L=(e=[])=>{if(0===e.length)return[[],[]];const t=Object(_.getDynamicChannelModelRefs)();return p.a(e,e=>t.includes(e.kind))},A=(e,t)=>{const n={channels:[],brokers:[]};["triggers","eventingsubscription"].forEach(a=>{if(t[a]&&t[a].data.length>0){const o=t[a].data;r.a(o,t=>{var a,o,r,s;if(!w(t)){const i=null===(o=null===(a=t.spec)||void 0===a?void 0:a.subscriber)||void 0===o?void 0:o.ref;if(i){const a=e.kind===i.kind&&e.metadata.name===i.name;if(a&&t.kind===k.i.kind){const e=null===(r=t.spec)||void 0===r?void 0:r.broker;n.brokers.includes(e)||n.brokers.push(e)}else if(a){const e=null===(s=t.spec)||void 0===s?void 0:s.channel,{apiVersion:a,name:o,kind:r}=e||{},i=l.a(n.channels,{apiVersion:a,name:o,kind:r});e&&!i&&n.channels.push(e)}}}})}});const a=[],o=e=>{l.a(a,{kind:e.kind,metadata:{name:e.metadata.name}})||a.push(e)};return n.brokers.forEach(e=>{const n=l.a(t.brokers.data,{metadata:{name:e}});(n?I(n,t):[]).forEach(e=>{o(e)})}),n.channels.forEach(e=>{const n=(e=>{const t=Object(_.getDynamicChannelModelRefs)();return l.a(t,t=>e===Object(h.tb)(t))})(e.kind),a=t[n];if(a){const n=l.a(a.data,{metadata:{name:e.name},kind:e.kind});(n?I(n,t):[]).forEach(e=>{o(e)})}}),I(e,t).forEach(e=>{o(e)}),a},U=(e,t)=>{var n,a;const o=Object(f.pd)(e,null===(n=t.configurations)||void 0===n?void 0:n.data);return o&&o.length?Object(f.pd)(o[0],null===(a=t.revisions)||void 0===a?void 0:a.data):[]},B=(e,t,n)=>{var a,o;const r=Object(f.pd)(e,null===(a=t.configurations)||void 0===a?void 0:a.data),s={revisions:U(e,t),configurations:r,ksroutes:t.ksroutes?Object(f.pd)(e,null===(o=t.ksroutes)||void 0===o?void 0:o.data):void 0,eventSources:A(e,t)};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),s):s},F=(e,t)=>{var n;if([j.q,k.b.kind].includes(e.kind)&&t.integrations){const a=Object(f.pd)(e,t.integrations.data);return(null==a?void 0:a.length)>0?Object(f.pd)(a[0],null===(n=t.deployments)||void 0===n?void 0:n.data):[]}return[]},K=(e,t,n)=>{let a=Object(f.pd)(e,t.deployments.data);if(a=[...a,...F(e,t)],!u.a(a)){const o=Object.assign(Object.assign({},a[0]),{apiVersion:Object(h.n)(g.DeploymentModel),kind:g.DeploymentModel.kind}),r={obj:e,associatedDeployment:o};return n?n.reduce((n,a)=>Object.assign(Object.assign({},n),a(e,t)),r):r}const o=M(e,t),r=B(e,t,n);return Object.assign({obj:e,subscribers:o},r)},$=(e,t,n,a)=>{const o=[],r=[];if(t===T.c.KnService&&a&&a.configurations){const t=Object(f.pd)(e,a.configurations.data),n=s.a(t[0],["metadata","uid"]),l=i.a(a.revisions.data,{metadata:{ownerReferences:[{uid:n}]}});c.a(((e,t)=>{if(s.a(e,"status.traffic",null))return e.status.traffic.reduce((e,n)=>{const a=t.find(e=>n.revisionName===e.metadata.name);return a?[...e,a]:e},[])})(e,l),e=>{const t=e.metadata.uid;r.push(t),o.push(Object(y.h)(e,T.c.Revision,null,N(T.c.Revision)))})}return o.push(Object(y.h)(e,t,n,N(t),r)),o},q=e=>{var t;return null===(t=Object(h.cb)(e))||void 0===t?void 0:t.group},G=(e,{data:t})=>{var n;const a=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,r=s.a(e,"spec.sink.ref",null)||s.a(e,"spec.sink",null),i=[];return r&&c.a(t,e=>{const{apiVersion:t,kind:n,metadata:{uid:s,name:c}}=e;c===r.name&&n===r.kind&&q(t)===q(r.apiVersion)&&i.push({id:`${a}_${s}`,type:T.a.EventSource,label:o.a.t("knative-plugin~Event source connector"),source:a,target:s})}),i},V=(e,t)=>{if(t&&t.length>0&&!u.a(t[0].status)){const n=l.a(t[0].status.traffic,{revisionName:e.metadata.name});return null==n?void 0:n.url}return null},Y=(e,t,n,a)=>{var r,s;const i=null===(s=null===(r=e.spec)||void 0===r?void 0:r.sink)||void 0===s?void 0:s.uri;let u=((e,t)=>{var n;const a=l.a(e,({data:e})=>{var n;return t===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.sinkUri)});return null!==(n=null==a?void 0:a.id)&&void 0!==n?n:""})(a.nodes,i);if(i){if(!u){u=encodeURIComponent(i);const e=((e,t)=>{const n=[...Object(_.getDynamicEventSourcesModelRefs)(),k.b.plural];return d.a(x(t,n),(t,n)=>{var a,o;const r=(null===(o=null===(a=n.spec)||void 0===a?void 0:a.sink)||void 0===o?void 0:o.uri)||"";return e===r&&t.push(n),t},[])})(i,t),o={metadata:{uid:u,namespace:n.resources.obj.metadata.namespace||""},spec:{sinkUri:i},kind:S.r},r={id:u,name:"URI",type:T.c.SinkUri,resources:Object.assign(Object.assign({},n.resources),{obj:o,eventSources:e}),data:Object.assign(Object.assign({},n.data),{sinkUri:i}),resource:o};a.nodes.push(...((e,t,n)=>{const a=[],o=N(e);return a.push(Object.assign({id:t,type:e,resource:n.resource,resourceKind:"URI",data:n},o||{})),a})(T.c.SinkUri,u,r))}a.edges.push(...((e,t)=>{var n,a,r;const s=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,i=[];return(null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.sink)||void 0===r?void 0:r.uri)&&s&&i.push({id:`${s}_${t}`,type:T.a.EventSource,label:o.a.t("knative-plugin~Event source connector"),source:s,target:t}),i})(e,u))}if(!w(e)){const n=Object(_.getDynamicChannelModelRefs)();c.a(n,n=>{t[n]&&a.edges.push(...G(e,t[n]))})}a.edges.push(...G(e,t.brokers))},z=(e,t,n,r)=>{const i={nodes:[],edges:[]};return c.a(e,e=>{var u;const p=K(e,n,r);switch(t){case T.c.KafkaSink:case T.c.EventSink:{const a=((e,t,n)=>{var a,o,r;const s=Object(f.pd)(e,null===(a=n.integrations)||void 0===a?void 0:a.data),i=Object(f.pd)(s[0],null===(o=n.ksservices)||void 0===o?void 0:o.data),c=Object(f.pd)(s[0],null===(r=n.deployments)||void 0===r?void 0:r.data);let l={};return i.length>0&&(l=B(i[0],n)),Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign(Object.assign({},t.resources),{integrations:s,services:i,deployments:c}),l)})})(e,((e,t,n,a=!1)=>({id:s.a(e,"metadata.uid"),name:null==e?void 0:e.metadata.name,type:n,resource:e,resources:Object.assign(Object.assign({},t),{isOperatorBackedService:a}),data:{kind:Object(h.Db)(e),isKnativeResource:n===T.c.EventSink,kameletType:T.b.Sink}}))(e,p,t),n);i.nodes.push(...$(e,t,a,n)),i.edges.push(...((e,t)=>{var n,a,r,s,i;const c=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.uid,l=null===(r=null===(a=null==e?void 0:e.spec)||void 0===a?void 0:a.source)||void 0===r?void 0:r.ref;if(!c||!l)return[];let u;const d=Object(h.Db)(l);return u=(null==l?void 0:l.kind)===k.f.kind?t.brokers.data.find(e=>e.metadata.name===l.name):null===(i=null===(s=t[d])||void 0===s?void 0:s.data)||void 0===i?void 0:i.find(e=>e.metadata.name===l.name),u?[{id:`${u.metadata.uid}_${c}`,type:T.a.EventSink,label:o.a.t("knative-plugin~Event sink connector"),target:c,source:u.metadata.uid}]:[]})(e,n));const r=Object(y.g)(e);Object(y.j)(r,i.nodes);break}case T.c.EventSource:{const a=Object(y.c)(e,p,t,Object(v.d)("icon-openshift"));if(Object(h.Db)(e)===Object(h.Hb)(k.b)&&(a.data=Object.assign(Object.assign({},a.data),{kameletType:T.b.Source})),e.kind!==j.w||!(null===(u=e.metadata)||void 0===u?void 0:u.ownerReferences)){const o=((e,t,n)=>{var a,o;const r=[...Object(_.getDynamicEventSourcesModelRefs)(),k.b.plural],s=x(n,r);let i=Object(f.pd)(e,s);if(e.kind===k.b.kind&&(null===(o=null===(a=n.integrations)||void 0===a?void 0:a.data)||void 0===o?void 0:o.length)>0){const t=Object(f.pd)(e,n.integrations.data);i=null==t?void 0:t.reduce((e,t)=>[...e,...Object(f.pd)(t,s)],[])}return Object.assign(Object.assign({},t),{resources:Object.assign(Object.assign({},t.resources),{eventSources:i})})})(e,a,n);i.nodes.push(...$(e,t,o,n)),i.edges.push(...n.ksservices?G(e,n.ksservices):[],...n.kafkasinks?G(e,n.kafkasinks):[]),Y(e,n,a,i);const r=Object(y.g)(e);Object(y.j)(r,i.nodes)}break}case T.c.KnService:{const a=((e,t,n,a)=>{var o;const{obj:r}=t,i=s.a(r,"metadata.uid"),c=s.a(r,"metadata.labels",{}),l=s.a(r,"metadata.annotations",{}),u=s.a(r,"metadata.name"),d=Object(y.e)(a,u);return{id:i,name:s.a(r,"metadata.name")||c["app.kubernetes.io/instance"],type:n,resource:e,resources:Object.assign({},t),data:{url:(null===(o=r.status)||void 0===o?void 0:o.url)||"",kind:Object(h.Db)(r),editURL:l["app.openshift.io/edit-url"],vcsURI:l["app.openshift.io/vcs-uri"],vcsRef:l["app.openshift.io/vcs-ref"],isKnativeResource:!0,contextDir:d}}})(e,p,t,n);i.nodes.push(...$(e,t,a,n)),i.edges.push(...((e,{data:t})=>{const n=s.a(e,["metadata","uid"]),a=s.a(e,["status","traffic"],[]),r=[];return c.a(a,e=>{const a=s.a(e,["revisionName"]),i=s.a(e,["percent"]),c=l.a(t,e=>s.a(e,["metadata","name"])===a),u=s.a(c,["metadata","uid"],null);if(u){const e=m.a(r,e=>e.id===`${n}_${u}`);e>=0?r[e].data.percent+=i:r.push({id:`${n}_${u}`,type:T.a.Traffic,label:o.a.t("knative-plugin~Traffic distribution connector"),source:n,target:u,data:{percent:i}})}}),r})(e,n.revisions));const r=Object(y.g)(e);Object(y.j)(r,i.nodes);break}case T.c.PubSub:if(!w(e)){const a=((e,t,n)=>{const{obj:{metadata:{name:a,uid:o,labels:r}}}=t;return{id:o,name:a||(null==r?void 0:r["app.kubernetes.io/instance"]),type:n,resource:e,resources:Object.assign({},t),data:{kind:Object(h.Db)(t.obj),isKnativeResource:!0}}})(e,((e,t)=>{var n,a,o,r;const{kind:i,metadata:{name:u},spec:p}=e,b=Object(_.getDynamicChannelModelRefs)(),v=Object(f.pd)(e,x(t,b)),h=null!==(a=null===(n=null==t?void 0:t.eventingsubscription)||void 0===n?void 0:n.data)&&void 0!==a?a:[],E=null!==(r=null===(o=null==t?void 0:t.triggers)||void 0===o?void 0:o.data)&&void 0!==r?r:[];let y={};const O=I(e,t),j=d.a(h,(e,n)=>{var a,o;const r=s.a(n,"metadata.uid"),i=(null===(a=null==p?void 0:p.subscribable)||void 0===a?void 0:a.subscribers)||(null==p?void 0:p.subscribers);if(-1!==m.a(i,(function({uid:e}){return e===r}))){e.eventingsubscription.push(n);const a=s.a(n,"spec.subscriber.ref",null);c.a(null===(o=null==t?void 0:t.ksservices)||void 0===o?void 0:o.data,t=>{t.kind===(null==a?void 0:a.kind)&&t.metadata.name===(null==a?void 0:a.name)&&e.ksservices.push(t)})}return e},{eventingsubscription:[],ksservices:[]});return i===k.f.kind&&(y=d.a(E,(e,n)=>{var a,o,r,s,i,c,d,p,m,b,v,g;const h=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.broker,f=l.a(null===(o=null==t?void 0:t.ksservices)||void 0===o?void 0:o.data,{metadata:{name:null===(i=null===(s=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.subscriber)||void 0===s?void 0:s.ref)||void 0===i?void 0:i.name},kind:null===(p=null===(d=null===(c=null==n?void 0:n.spec)||void 0===c?void 0:c.subscriber)||void 0===d?void 0:d.ref)||void 0===p?void 0:p.kind,apiVersion:null===(v=null===(b=null===(m=null==n?void 0:n.spec)||void 0===m?void 0:m.subscriber)||void 0===b?void 0:b.ref)||void 0===v?void 0:v.apiVersion}),E=f&&(null===(g=e.ksservices)||void 0===g?void 0:g.filter(e=>e.metadata.name===f.metadata.name).length)>0;return u===h&&(e.triggers=[...e.triggers,n],e.ksservices=f&&!E?[...e.ksservices,f]:e.ksservices),e},{ksservices:[],triggers:[],pods:[],deployments:[]}),[g.PodModel,g.DeploymentModel].forEach(({kind:e,plural:n})=>{var a;y[n]=null===(a=null==t?void 0:t[n])||void 0===a?void 0:a.data.filter(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["eventing.knative.dev/broker"])===u}).map(t=>Object.assign(Object.assign({},t),{kind:e}))})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({obj:e},v&&{channels:v}),{eventSources:O}),j),y),{subscribers:M(e,t)})})(e,n),t);i.nodes.push(...$(e,t,a,n)),e.kind===k.f.kind?i.edges.push(...((e,t)=>{const{metadata:{uid:n,name:a}}=e,{triggers:o,ksservices:r,kafkasinks:s}=t,i=[...(null==r?void 0:r.data.length)>0?r.data:[],...(null==s?void 0:s.data.length)>0?s.data:[]],u=[];return c.a(null==o?void 0:o.data,o=>{var r,s,c;const d=null===(r=null==o?void 0:o.spec)||void 0===r?void 0:r.broker,p=null===(c=null===(s=o.spec)||void 0===s?void 0:s.subscriber)||void 0===c?void 0:c.ref;if(a===d&&i.length>0){const a=l.a(i,{metadata:{name:p.name}});if(a&&q(p.apiVersion)===Object(h.l)(Object(h.Db)(a))){const{metadata:{uid:r}}=a;u.push({id:`${n}_${r}`,type:T.a.EventPubSubLink,source:n,target:r,data:{resources:{obj:o,eventSources:I(e,t),brokers:[e],subscriberRes:[a],filters:D(o).filters}}})}}}),u})(e,n)):i.edges.push(...((e,t)=>{const{kind:n,metadata:{uid:a,name:o}}=e,{eventingsubscription:r,ksservices:s,kafkasinks:i}=t,l=[...(null==s?void 0:s.data.length)>0?s.data:[],...(null==i?void 0:i.data.length)>0?i.data:[]],u=[];return c.a(null==r?void 0:r.data,r=>{var s,i,d;const p=null===(s=null==r?void 0:r.spec)||void 0===s?void 0:s.channel;if(o===(null==p?void 0:p.name)&&n===(null==p?void 0:p.kind)&&l.length>0){const n=null===(d=null===(i=null==r?void 0:r.spec)||void 0===i?void 0:i.subscriber)||void 0===d?void 0:d.ref;n&&c.a(l,o=>{const{metadata:{uid:s,name:i}}=o;i===n.name&&Object(h.cb)(n.apiVersion).group===Object(h.l)(Object(h.Db)(o))&&u.push({id:`${a}_${s}`,type:T.a.EventPubSubLink,source:a,target:s,data:{resources:{obj:r,eventSources:I(e,t),channels:[e],subscriberRes:[o]}}})})}}),u})(e,n));const o=Object(y.g)(e);Object(y.j)(o,i.nodes)}break;case T.c.EventSourceKafka:{const r=Object(y.c)(e,p,t,Object(v.d)("icon-openshift"));i.nodes.push(...$(e,t,r,n)),i.edges.push(...((e,t)=>{if(!(null==t?void 0:t.data))return[];const{data:n}=t;return n.reduce((t,n)=>{var r,s,i,c,l,u,d,p,m,b,v,g,h,f,E,y,O,j;const k=null===(s=null===(r=null==n?void 0:n.spec)||void 0===r?void 0:r.credentials)||void 0===s?void 0:s.serviceAccountSecretName,_=null===(d=null===(u=null===(l=null===(c=null===(i=e.spec)||void 0===i?void 0:i.net)||void 0===c?void 0:c.sasl)||void 0===l?void 0:l.password)||void 0===u?void 0:u.secretKeyRef)||void 0===d?void 0:d.name,S=null===(g=null===(v=null===(b=null===(m=null===(p=e.spec)||void 0===p?void 0:p.net)||void 0===m?void 0:m.sasl)||void 0===b?void 0:b.user)||void 0===v?void 0:v.secretKeyRef)||void 0===g?void 0:g.name,N=null===(h=n.status)||void 0===h?void 0:h.bootstrapServerHost;if(k&&k===_&&k===S&&N&&(null===(f=e.spec)||void 0===f?void 0:f.bootstrapServers.includes(N))){const r=`${null===(E=null==e?void 0:e.metadata)||void 0===E?void 0:E.uid}_${null===(y=null==n?void 0:n.metadata)||void 0===y?void 0:y.uid}`;t.push({id:r,type:T.a.EventSourceKafkaLink,edgeStyle:a.f.dashedMd,label:o.a.t("knative-plugin~Kafka connector"),source:null===(O=e.metadata)||void 0===O?void 0:O.uid,target:null===(j=n.metadata)||void 0===j?void 0:j.uid})}return t},[])})(e,n.kafkaConnections),...G(e,n.ksservices),...G(e,n.kafkasinks)),Y(e,n,r,i);const s=Object(y.g)(e);Object(y.j)(s,i.nodes);break}}}),i},H=(e,t,n)=>{const a={};return c.a(e,e=>{const{uid:o}=e.metadata,r=K(e,t,n);a[o]=Object(y.c)(e,r,T.c.Revision,Object(v.d)("icon-openshift"))}),a},W=(e,t)=>{const n=Object(_.getDynamicEventSourcesModelRefs)();return!!l.a(x(t,n),t=>{var n,a,o;return null===(o=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[j.f])||void 0===o?void 0:o.startsWith(t.metadata.name)})},Q=e=>{var t,n,a,o,r,s;const i=null!==(n=null===(t=null==e?void 0:e.kameletbindings)||void 0===t?void 0:t.data)&&void 0!==n?n:[],c=((null===(o=null===(a=null==e?void 0:e.kamelets)||void 0===a?void 0:a.data)||void 0===o?void 0:o.length)>0?e.kamelets.data:null!==(s=null===(r=null==e?void 0:e.kameletGlobalNS)||void 0===r?void 0:r.data)&&void 0!==s?s:[]).filter(e=>"sink"===e.metadata.labels["camel.apache.org/kamelet.type"]);return i.reduce(({camelSinkKameletBindings:e,camelSourceKameletBindings:t},n)=>{var a,o,r;const s=null===(r=null===(o=null===(a=null==n?void 0:n.spec)||void 0===a?void 0:a.sink)||void 0===o?void 0:o.ref)||void 0===r?void 0:r.name;return c.findIndex(e=>e.metadata.name===s)>-1?e.push(n):t.push(n),{camelSinkKameletBindings:e,camelSourceKameletBindings:t}},{camelSinkKameletBindings:[],camelSourceKameletBindings:[]})},J=(e,t)=>!!l.a(t,t=>{var n,a,o;return null===(o=null===(a=null===(n=e.metadata)||void 0===n?void 0:n.labels)||void 0===a?void 0:a[j.f])||void 0===o?void 0:o.startsWith(t.metadata.name)}),Z=(e,t)=>{if(!e||!t||e===t)return Promise.reject();return((e,t)=>{var n;if(!e||!t||e===t)return Promise.reject();const a=b.a(e,"status");let o={};if(t.kind===S.r)o={uri:null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.sinkUri};else{const e=s.a(t,"metadata.name");o={ref:{apiVersion:t.apiVersion,kind:t.kind,name:e}}}const r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{sink:o})});return Object(h.rb)(Object(h.vb)(Object(h.Db)(e)),r)})(Object(O.g)(e),Object(O.g)(t))},X=(e,t)=>{var n,a,r;if(!e||!t||e===t)return Promise.reject();const s=Object(O.g)(e),i=Object(O.g)(t),c=null===(n=null==i?void 0:i.status)||void 0===n?void 0:n.bootstrapServerHost,l=null===(r=null===(a=null==i?void 0:i.spec)||void 0===a?void 0:a.credentials)||void 0===r?void 0:r.serviceAccountSecretName,u=b.a(s,"status");if(!c||!l)return Promise.reject(new Error(o.a.t("knative-plugin~Unable to create kafka connector as bootstrapServerHost or secret is not available in target resource.")));const d=Object.assign(Object.assign({},u),{spec:Object.assign(Object.assign({},u.spec),{bootstrapServers:[c],net:{sasl:{enable:!0,user:{secretKeyRef:{name:l,key:"client-id"}},password:{secretKeyRef:{name:l,key:"client-secret"}}},tls:{enable:!0}}})});return Object(h.rb)(Object(h.vb)(Object(h.Db)(u)),d)},ee=(e,t)=>{const{resources:n}=e.getData(),a=t.getData();if(!a||!(null==n?void 0:n.obj))return Promise.reject();const o=Object(O.k)(a);return((e,t)=>{var n;if(!e||!t)return Promise.reject();const a=b.a(e,"status"),o={ref:{apiVersion:t.apiVersion,kind:t.kind,name:null===(n=t.metadata)||void 0===n?void 0:n.name}},r=Object.assign(Object.assign({},a),{spec:Object.assign(Object.assign({},a.spec),{subscriber:Object.assign({},o)})});return Object(h.rb)(Object(h.vb)(Object(h.Db)(a)),r)})(n.obj,o)},te=e=>{if(!e)return!1;const{metadata:{labels:t}}=e;return!(!(null==t?void 0:t[j.Z])&&!(null==t?void 0:t[j.ab]))}},5703:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(5693);const o="show-pod-count",r="show-labels",s="expand-app-groups",i="expand-groups",c=[{type:a.b.expand,id:i,labelKey:"topology~Expand groups",priority:1,value:!0},{type:a.b.show,id:o,labelKey:"topology~Pod count",priority:10,value:!1},{type:a.b.show,id:r,labelKey:"topology~Labels",priority:900,value:!0},{type:a.b.expand,id:s,labelKey:"topology~Application groupings",priority:10,value:!0}],l=[o,r]},5704:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(13),s=n(5),i=n(69),c=n(15),l=n(5710),u=n(5647),d=n(5720),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};t.a=e=>{var{namespace:t}=e,n=p(e,["namespace"]);const{t:m}=Object(o.useTranslation)(),b=Object(i.z)(d.a),v=Object(i.z)(r.Zb),g=a.useMemo(()=>Object(l.b)(v),[v]),h=a.useMemo(()=>{let e=Object(u.d)(t);return[...b,...g].forEach(n=>{var a,o;const r=null===(o=(a=n.properties).resources)||void 0===o?void 0:o.call(a,t);r&&(e=Object.assign(Object.assign({},r),e))}),Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{prop:t}))},[g,b,t]);return a.createElement(s.C,{resources:h},a.createElement(c.Nb,Object.assign({},n,{placeholder:m("topology~Select an application"),dataSelector:["metadata","labels","app.kubernetes.io/part-of"]})))}},5710:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(0),o=n(13),r=n(8),s=n(69),i=n(5657),c=n(5714),l=n(5662),u=n(5715);const d=e=>e.map(e=>Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{resources:t=>Object.entries(e.properties.resources||{}).reduce((n,[a,o])=>{const s=((e,t,n,a,o={})=>{if(!a)return Object.assign({namespace:e},o);if(a.version){const t=Object(r.Fb)(a);return Object.assign({namespace:e,kind:t},o)}const s=Object(r.wb)(a.group,a.kind);if(!s)return console.warn(`Plugin "${t.pluginID}": Could not find model (CRD) for group "${a.group}" and kind "${a.kind}" to determinate version. Please add a required flag to the extension to suppress this warning. The resource "${n}" will not be loaded and ignored in the topology view for now:`,t,n,a,o),null;const i=Object(r.Hb)(s);return Object.assign({namespace:e,kind:i},o)})(t,e,a,null==o?void 0:o.model,null==o?void 0:o.opts);return s&&(n[a]=s),n},{})})}));t.a=({namespace:e,children:t})=>{const[n,r]=a.useState(new l.a(e));a.useEffect(()=>{r(new l.a(e))},[e]);const p=Object(s.z)(i.c),m=Object(s.z)(o.Zb),b=a.useMemo(()=>d(m),[m]);return a.createElement(l.b.Provider,{value:n},e&&a.createElement(a.Fragment,null,[...b,...p].map(e=>a.createElement(c.a,{key:e.properties.id,dataModelFactory:e.properties}))),e&&a.createElement(u.a,null),t)}},5712:function(e,t,n){},5714:function(e,t,n){"use strict";var a=n(0),o=n(15),r=n(5662);t.a=({dataModelFactory:e})=>{const t=a.useContext(r.b),{id:n,priority:s,resources:i}=e,c=Object(o.De)(e.workloadKeys),l=a.useRef({priority:s,workloadKeys:c,resources:i});return a.useEffect(()=>{if(!t.getExtension(n)){l.current={priority:s,workloadKeys:c,resources:i},t.updateExtension(n,l.current);const{getDataModel:a,isResourceDepicted:o,getDataModelReconciler:r}=e;a?a().then(e=>{l.current.dataModelGetter=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,l.current)}):(l.current.dataModelGetter=()=>Promise.resolve({}),t.updateExtension(n,l.current)),o?o().then(e=>{l.current.dataModelDepicter=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelDepicter=()=>!1,t.updateExtension(n,l.current)}):(l.current.dataModelDepicter=()=>!1,t.updateExtension(n,l.current)),r?r().then(e=>{l.current.dataModelReconciler=e,t.updateExtension(n,l.current)}).catch(()=>{l.current.dataModelReconciler=()=>{},t.updateExtension(n,l.current)}):(l.current.dataModelReconciler=()=>{},t.updateExtension(n,l.current))}},[t,e,n,s,i,c]),null}},5715:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(22),s=n(108),i=n(15),c=n(5662),l=n(5716),u=n(5718);t.a=Object(o.observer)(({trafficData:e})=>{const t=a.useContext(c.b),{namespace:n,extensionsLoaded:o,watchedResources:d}=t,[p,m]=a.useState(),b=Object(u.a)(n),v=a.useMemo(()=>n&&o?d:{},[o,d,n]),g=Object(i.Ce)(m,250),h=Object(s.b)(v);return a.useEffect(()=>g(h),[g,h]),a.useEffect(()=>{t.model=null},[n]),a.useEffect(()=>{r.a(p)||Object(l.a)(t,p,e,b).then(e=>{t.loadError=e.loadError,e.loaded&&(t.loaded=!0,t.model=e.model)}).catch(()=>{})},[p,e,t,b]),null})},5716:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5717);const o=(e,t,n,o)=>{const{extensionsLoaded:r,watchedResources:s}=e;if(!r||!t)return Promise.resolve({loaded:!1,loadError:"",model:null});const i=Object.keys(t).find(e=>(e=>t[e].loadError&&!s[e].optional?t[e].loadError:"")(e));if(i)return Promise.resolve({loaded:!1,loadError:t[i].loadError,model:null});if(!Object.keys(t).every(e=>(e=>t[e].loaded||t[e].loadError&&s[e].optional)(e)))return Promise.resolve({loaded:!1,loadError:"",model:null});const c=e.getWorkloadResources(t),l=e.dataModelDepicters;return e.getExtensionModels(t).then(r=>{const s=Object(a.a)(r,e.namespace,t,c,l,n,o);return e.reconcileModel(s,t),Promise.resolve({loaded:!0,loadError:"",model:s})})}},5717:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1401),o=n(15),r=n(2221),s=n(5589),i=n(5647);const c=(e,t)=>{const n=e.nodes.filter(({data:e})=>e.nodeType===r.y);return e.edges.reduce((e,{data:a})=>{const{data:o}=n.find(e=>e.data.id===a.source),{data:s}=n.find(e=>e.data.id===a.target),i=t.find(e=>e.metadata.name===o[o.nodeType]),c=t.find(e=>e.metadata.name===s[s.nodeType]);return i&&c?[...e,{id:`${i.metadata.uid}_${c.metadata.uid}`,type:r.x,source:i.metadata.uid,target:c.metadata.uid,data:a.traffic}]:e},[])},l=(e,t,n,l,u,d,p)=>{const m=(e=>{const t={nodes:[],edges:[]};return s.a.forEach(n=>{var s,c;if(null===(c=null===(s=null==e?void 0:e[n])||void 0===s?void 0:s.data)||void 0===c?void 0:c.length){const s={nodes:[],edges:[]};e[n].data.forEach(t=>{const c=Object(o.yc)(n,t,e);if(c){const n=Object(i.c)(t,c,r.y,Object(a.d)("icon-openshift"),void 0,e);s.nodes.push(Object(i.h)(t,r.y,n,i.a)),Object(i.j)(Object(i.g)(t),s.nodes)}}),Object(i.b)(s,t)}}),t})(Object.assign(Object.assign({},n),{monitoringAlerts:p}));return Object(i.b)(m,e,u),(e=>{e.nodes.forEach(t=>{var n,a;t.type===r.u&&(t.children=t.children.filter(t=>e.nodes.find(e=>e.id===t)),t.data.groupResources=null!==(a=null===(n=t.children)||void 0===n?void 0:n.map(t=>e.nodes.find(e=>t===e.id)))&&void 0!==a?a:[])}),e.nodes=e.nodes.filter(e=>e.type!==r.u||e.children.length>0)})(e),((e,t)=>{t.forEach(n=>{e.edges.push(...Object(i.f)(n,t))})})(e,l),((e,t,n)=>{n&&e.edges.push(...c(n,t))})(e,l,d),e}},5718:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(5719),r=n(58),s=n(15);const i=e=>{const[t,n,i]=Object(o.a)({namespace:e}),c=a.useMemo(()=>{let e;return i||n||(e=Object(r.j)(null==t?void 0:t.data).alerts,e.forEach(e=>{delete e.activeAt,e.rule&&(delete e.rule.evaluationTime,delete e.rule.lastEvaluation,e.rule.alerts&&e.rule.alerts.forEach(e=>{delete e.activeAt}))})),{data:e,loaded:!i,loadError:n}},[n,i,t]);return Object(s.De)(c)}},5719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(763),o=n(436);const r=({delay:e,namespace:t})=>{const n=Object(o.b)({endpoint:o.a.RULES,namespace:t});return Object(a.useURLPoll)(n,e,t)}},5720:function(e,t,n){"use strict";var a=n(5657);n.d(t,"a",(function(){return a.c}))},5721:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(400),o=n(8);const r=e=>{var t,n,o;const r=null===(o=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.spec)||void 0===o?void 0:o.containers;return a.a(r,e=>e.readinessProbe||e.livenessProbe||e.startupProbe)},s=(e,t)=>{var n,a,r,s;const{kind:i,metadata:{name:c,namespace:l}}=t,u=e.crd?Object(o.Db)(t):i,d=null===(r=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===r?void 0:r.containers;return`/k8s/ns/${l}/${u}/${c}/containers/${null===(s=null==d?void 0:d[0])||void 0===s?void 0:s.name}/health-checks`},i=(e,t)=>({labelKey:"console-app~Add Health Checks",hidden:r(t),href:s(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),c=(e,t)=>({labelKey:"console-app~Edit Health Checks",hidden:!r(t),href:s(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"get"}})},5722:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(29),o=n(131),r=n(5),s=n(8);const i={Delete:(e,t,n,s)=>({id:"delete-resource",label:a.a.t("console-app~Delete {{kind}}",{kind:e.kind}),cta:()=>Object(o.q)({kind:e,resource:t,message:s}),accessReview:Object(r.Eb)(e,t,"delete")}),Edit:(e,t)=>({id:"edit-resource",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(r.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/yaml"},accessReview:Object(r.Eb)(e,t,"update")}),ModifyLabels:(e,t)=>({id:"edit-labels",label:a.a.t("console-app~Edit labels"),cta:()=>Object(o.v)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyAnnotations:(e,t)=>({id:"edit-annotations",label:a.a.t("console-app~Edit annotations"),cta:()=>Object(o.b)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyCount:(e,t)=>({id:"edit-pod-count",label:a.a.t("console-app~Edit Pod count"),cta:()=>Object(o.l)({resourceKind:e,resource:t}),accessReview:Object(r.Eb)(e,t,"patch","scale")}),ModifyPodSelector:(e,t)=>({id:"edit-pod-selector",label:a.a.t("console-app~Edit Pod selector"),cta:()=>Object(o.x)({kind:e,resource:t,blocking:!0}),accessReview:Object(r.Eb)(e,t,"patch")}),ModifyTolerations:(e,t)=>({id:"edit-toleration",label:a.a.t("console-app~Edit tolerations"),cta:()=>Object(o.D)({resourceKind:e,resource:t,modalClassName:"modal-lg"}),accessReview:Object(r.Eb)(e,t,"patch")}),AddStorage:(e,t)=>({id:"add-storage",label:a.a.t("console-app~Add storage"),cta:{href:Object(r.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/attach-storage"},accessReview:Object(r.Eb)(e,t,"patch")})},c=(e,t,n)=>[i.ModifyLabels(e,t),i.ModifyAnnotations(e,t),i.Edit(e,t),i.Delete(e,t,void 0,n)]},5726:function(e,t,n){"use strict";var a,o,r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.EventSource="event-source",e.EventSink="event-sink",e.KnService="knative-service",e.Revision="knative-revision",e.PubSub="event-pubsub",e.SinkUri="sink-uri",e.EventSourceKafka="event-source-kafka",e.Kafka="knative-kafka",e.KafkaSink="kafka-sink"}(a||(a={})),function(e){e.Traffic="revision-traffic",e.EventSource="event-source-link",e.EventSink="event-sink-link",e.EventPubSubLink="event-pubsub-link",e.EventSourceKafkaLink="event-source-kafka-link"}(o||(o={})),function(e){e.Sink="Sink",e.Source="Source"}(r||(r={}))},5727:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(31),s=n(53),i=n(518),c=n(15),l=n(5704);t.a=Object(r.connect)(e=>({namespace:Object(i.d)(e),application:Object(i.c)(e)}),e=>({onChange:t=>{e(Object(s.k)(t))}}))(({namespace:e,application:t,onChange:n,disabled:r})=>{const{t:s}=Object(o.useTranslation)(),i=s("topology~All applications"),u=s("topology~No application group"),d=t===c.b?i:t===c.mc?u:t,[p,m]=a.useState(d);if(a.useEffect(()=>{r||m(d)},[r,d]),e===c.c)return null;return a.createElement(l.a,{className:"co-namespace-selector",buttonClassName:"pf-m-plain",namespace:e,title:p&&a.createElement("span",{className:"btn-link__title"},p),titlePrefix:s("topology~Application"),allSelectorItem:{allSelectorKey:c.b,allSelectorTitle:i},noneSelectorItem:{noneSelectorKey:c.mc,noneSelectorTitle:u},selectedKey:t||c.b,onChange:(e,t)=>{t===c.b?n(t):n(e)},userSettingsPrefix:c.f,storageKey:c.e,disabled:r})})},5728:function(e,t,n){},5730:function(e,t,n){"use strict";var a=n(0),o=n(6024),r=n(5585);t.a=({id:e,dx:t=0,dy:n=1,stdDeviation:s=2,floodColor:i=o.global_palette_black_1000.value,floodOpacity:c=.2})=>window.navigator.userAgent.includes("Edge")?a.createElement(r.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*s}%`,y:`-${12.5*s}%`,width:100+25*s+"%",height:100+25*s+"%"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:s}),a.createElement("feOffset",{dx:t,dy:n,result:"offsetblur"}),a.createElement("feFlood",{floodColor:i,floodOpacity:c}),a.createElement("feComposite",{in2:"offsetblur",operator:"in"}),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"})))):a.createElement(r.SVGDefs,{id:e},a.createElement("filter",{id:e,x:`-${12.5*s}%`,y:`-${12.5*s}%`,width:100+25*s+"%",height:100+25*s+"%"},a.createElement("feDropShadow",{dx:t,dy:n,stdDeviation:s,floodColor:i,floodOpacity:c})))},5734:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>Object.assign(Object.assign({},e),{prop:`${t}-${e.prop}`})},5735:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(0),o=n(353),r=n(19),s=n(7),i=n(14),c=n(13),l=n(517),u=n(5670),d=n(1406),p=n(5),m=n(980),b=n(108),v=n(8),g=n(15),h=n(30),f=n(119),E=n(2229);n(5828);const y=a.memo(({current:e,title:t,humanize:n,consumers:i,namespace:c,position:l=o.b.top,description:u,children:d})=>{const{t:p}=Object(s.useTranslation)(),[m,b]=a.useState(!1),v=a.useCallback(()=>b(!0),[]),g=a.useCallback(()=>b(!1),[]);return e?a.createElement(o.a,{position:l,headerContent:p("console-shared~{{title}} breakdown",{title:t}),bodyContent:a.createElement(k,{humanize:n,consumers:i,namespace:c,isOpen:m,description:u},d),enableFlip:!0,onShow:v,onHide:g,maxWidth:"21rem"},a.createElement(r.a,{variant:"link",isInline:!0},e)):null});t.b=y;const O=e=>{switch(e){case c.m.ERROR:return a.createElement(f.h,null);case c.m.WARN:return a.createElement(f.m,null);default:return null}},j=({limitState:e,requestedState:t,total:n,limit:o,current:r,available:i,requested:l})=>{const{t:u}=Object(s.useTranslation)();return(!!e&&e!==c.m.OK||!!t&&t!==c.m.OK)&&a.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},a.createElement(E.default,{value:n},u("console-shared~Total capacity")),a.createElement(E.default,{value:o,icon:O(e)},u("console-shared~Total limit")),a.createElement(E.default,{value:r},u("console-shared~Current utilization")),a.createElement(E.default,{value:i},u("console-shared~Current available capacity")),a.createElement(E.default,{value:l,icon:O(t)},u("console-shared~Total requested")))},k=Object(u.a)(a.memo(({humanize:e,consumers:t,namespace:n,watchPrometheus:o,stopWatchPrometheusQuery:r,prometheusResults:u,isOpen:f,description:E,children:y})=>{const{t:O}=Object(s.useTranslation)(),[j,k]=a.useState(t[0]),S=Object(c.jc)()[0],T=Object(g.Fe)(h.A.CAN_GET_NS)&&!!window.SERVER_FLAGS.prometheusBaseURL,{query:N,model:R,metric:w,fieldSelector:C}=j,P=a.useMemo(()=>f?((e,t,n)=>({isList:!0,kind:e.crd?Object(v.Hb)(e):e.kind,fieldSelector:n,namespace:t}))(R,n,C):null,[C,f,R,n]),[D,x,I]=Object(b.a)(P);a.useEffect(()=>f?(o(N,n),()=>{r(N)}):()=>{},[N,r,o,n,f]);const M=[],[L,A]=Object(l.b)(u,N),U=Object(d.a)(L,w);if(P&&x&&!I)for(const t of U){if(D.some(e=>Object(g.dd)(e)===t.metric[w]&&(!R.namespaced||Object(g.ed)(e)===t.metric.namespace))&&M.push(Object.assign(Object.assign({},t),{y:e(t.y).string})),5===M.length)break}const B=a.useMemo(()=>{const e=new URLSearchParams;return e.set("query0",j.query),e},[j.query]),F=a.useMemo(()=>t.reduce((e,t)=>(e[Object(v.Hb)(t.model)]=O("console-shared~By {{label}}",{label:t.model.labelKey?O(t.model.labelKey):t.model.label}),e),{}),[t,O]),K=a.useCallback(e=>k(t.find(t=>Object(v.Hb)(t.model)===e)),[t]),$=T&&"admin"===S?"/monitoring/query-browser?"+B.toString():`/dev-monitoring/ns/${n}/metrics?${B.toString()}`;let q;return q=A||I?a.createElement("div",{className:"text-secondary"},O("console-shared~Not available")):x&&L?a.createElement(a.Fragment,null,a.createElement("ul",{className:"co-utilization-card-popover__consumer-list","aria-label":O("console-shared~Top consumer by {{label}}",{label:R.label})},M&&M.map(e=>{const t=String(e.x);return a.createElement(_,{key:t,value:e.y},a.createElement(i.Link,{className:"co-utilization-card-popover__consumer-name",to:Object(p.uc)(R,t,e.metric.namespace)},t))})),a.createElement(i.Link,{to:$},O("console-shared~View more"))):a.createElement("ul",{className:"co-utilization-card-popover__consumer-list"},a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"}),a.createElement("li",{className:"skeleton-consumer"})),a.createElement("div",{className:"co-utilization-card-popover__body"},E&&a.createElement("div",{className:"co-utilization-card-popover__description"},E),y,a.createElement("div",{className:"co-utilization-card-popover__title"},1===t.length?O("console-shared~Top {{label}} consumers",{label:j.model.label.toLowerCase()}):O("console-shared~Top consumers")),t.length>1&&a.createElement(m.b,{className:"co-utilization-card-popover__dropdown",id:"consumer-select",name:"selectConsumerType","aria-label":O("console-shared~Select consumer type"),items:F,onChange:K,selectedKey:Object(v.Hb)(R)}),q)})),_=({children:e,value:t})=>a.createElement("li",{className:"co-utilization-card-popover__consumer-item"},e,a.createElement("div",{className:"co-utilization-card-popover__consumer-value"},t))},5738:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j}));var a=n(0),o=n(7),r=n(406),s=n(967),i=n(4377),c=n(5791),l=n(1409),u=n(52),d=n(5),p=n(108),m=n(5670),b=n(5734),v=n(517),g=n(5784);const h=({operatorStatus:e,isResolved:t,key:n,Component:o,LoadingComponent:r})=>{const s=o;return t?a.createElement(s,{key:n,operatorStatus:e}):a.createElement(d.c,{key:e.operators[0].metadata.uid,operatorStatus:e,loader:o,LoadingComponent:r})},f=({resources:e,operatorExtensions:t,dynamicOperatorSubsystems:n})=>{const{t:i}=Object(o.useTranslation)(),l=[...t.map((t,n)=>{const o=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop],t),{});return a.createElement(r.a,{key:t.title},a.createElement(c.a,{resources:o,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:h,Component:t.operatorRowLoader,isResolved:!1}))}),...n.map((t,n)=>{const o=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop],t),{});return a.createElement(r.a,{key:t.title},a.createElement(c.a,{resources:o,getOperatorsWithStatuses:t.getOperatorsWithStatuses,title:t.title,linkTo:t.viewAllLink||Object(d.tc)(t.resources[0].kind),Row:h,Component:t.operatorRowLoader,isResolved:!0}))})].reverse();return a.createElement(s.a,{hasGutter:!0},a.createElement(r.a,null,i("public~Operators create, configure, and manage applications by extending the Kubernetes API.")),l)},E=Object(m.a)(({resources:e,watchK8sResource:t,stopWatchK8sResource:n,operatorExtensions:r,dynamicOperatorSubsystems:s})=>{const{t:c}=Object(o.useTranslation)();a.useEffect(()=>(r.forEach((e,n)=>e.resources.forEach(e=>t(Object(b.a)(e,n)))),()=>{r.forEach((e,t)=>e.resources.forEach(e=>n(Object(b.a)(e,t))))}),[t,n,r]);const d=r.map((t,n)=>{const a=t.resources.reduce((t,a)=>(t[a.prop]=e[Object(b.a)(a,n).prop]||{},t),{});if(Object.keys(a).some(e=>a[e].loadError))return{health:u.a.NOT_AVAILABLE};if(Object.keys(a).some(e=>!a[e].loaded))return{health:u.a.LOADING};const o=t.getOperatorsWithStatuses(a);if(!o.length)return{health:u.a.OK};const r=Object(l.a)(o);return{health:r[0].status.health,count:r.length}}),p=Object(l.b)(d,c);return a.createElement(i.default,{title:c("public~Operators"),state:p.health,details:p.detailMessage,popupTitle:c("public~Operator status")},a.createElement(f,{resources:e,operatorExtensions:r,dynamicOperatorSubsystems:s}))}),y=Object(m.a)(({watchURL:e,stopWatchURL:t,urlResults:n,resources:o,watchK8sResource:r,stopWatchK8sResource:s,subsystem:c,models:l})=>{const u=c.additionalResource&&!!l.get(c.additionalResource.kind);a.useEffect(()=>(e(c.url,c.fetch?c.fetch:void 0),u&&r(c.additionalResource),()=>{t(c.url),u&&s(c.additionalResource)}),[e,t,r,s,c,u]);const p=n.getIn([c.url,"data"]),m=n.getIn([c.url,"loadError"]),b=c.additionalResource?o[c.additionalResource.prop]:null,v=c.healthHandler(p,m,b);return a.createElement(i.default,{title:c.title,state:v.state,details:v.message,popupTitle:c.popupTitle,popupBodyContent:c.popupComponent?e=>a.createElement(d.c,{loader:c.popupComponent,healthResult:p,healthResultError:m,k8sResult:b,hide:e}):void 0})}),O=Object(m.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,watchPrometheus:r,stopWatchPrometheusQuery:s,prometheusResults:c,subsystem:l,models:u})=>{const{t:p}=Object(o.useTranslation)(),{infrastructure:m}=a.useContext(g.a),b=l.additionalResource&&!!u.get(l.additionalResource.kind);a.useEffect(()=>(l.queries.forEach(e=>r(e)),b&&e(l.additionalResource),()=>{l.queries.forEach(e=>s(e)),b&&t(l.additionalResource)}),[e,t,r,s,l,b]);const h=a.useMemo(()=>l.queries.map(e=>{const[t,n]=Object(v.b)(c,e);return{response:t,error:n}}),[c,l.queries]),f=l.additionalResource?n[l.additionalResource.prop]:null,E=l.healthHandler(h,p,f,m);return a.createElement(i.default,{title:l.title,state:E.state,details:E.message,popupTitle:l.popupTitle,popupClassname:l.popupClassname,popupKeepOnOutsideClick:l.popupKeepOnOutsideClick,popupBodyContent:l.popupComponent?e=>a.createElement(d.c,{loader:l.popupComponent,responses:h,k8sResult:f,hide:e}):void 0})}),j=({subsystem:e,namespace:t})=>{const{t:n}=Object(o.useTranslation)(),{title:r,resources:s,healthHandler:c,popupComponent:l,popupTitle:u}=e,m=a.useMemo(()=>Object.assign(Object.assign({},s),s.imageManifestVuln&&{imageManifestVuln:Object.assign(Object.assign({},s.imageManifestVuln),{namespace:t})}),[s,t]),b=Object(p.b)(m),v=c(b,n);return a.createElement(i.default,{title:r,state:v.state,details:v.message,popupTitle:u},l&&b&&a.createElement(d.c,Object.assign({loader:l},b,{namespace:t})))}},5741:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g}));var a=n(5585),o=n(29),r=n(5),s=n(8),i=n(5634),c=n(5829),l=n(5920),u=n(2221),d=n(5594),p=n(5589);const m=(e,t)=>{const n=e.getSource().getSourceEdges().map(e=>e.getTarget().getId());return t.filter(t=>{if(t.getId()===e.getSource().getId())return!1;if(t.getId()!==e.getTarget().getId()&&n.includes(t.getId()))return!1;if(t.getType()===i.i)return!1;switch(e.getType()){case u.v:return t.getType()!==i.n&&t.getType()!==i.o;case u.w:return!1;case i.k:return t.getType()===i.o||t.getType()===i.e;case i.p:case u.x:return!1;case i.l:return t.getType()===c.d;default:return!0}}).sort((e,t)=>e.getLabel().localeCompare(t.getLabel()))},b=(e,t)=>{const n=Object(p.g)(t.getSource()),s=t.getController().getElements().filter(e=>Object(a.isNode)(e)&&!e.isGroup()),i=m(t,s);return{id:"move-visual-connector",label:o.a.t("topology~Move connector"),cta:()=>{Object(l.a)({edge:t,availableTargets:i})},disabled:i.length<=1,accessReview:Object(r.Eb)(e,n,"delete")}},v=(e,t)=>{const n=Object(p.g)(t.getSource());return{id:"delete-connector",label:o.a.t("topology~Delete connector"),cta:()=>{Object(d.j)(t)},accessReview:Object(r.Eb)(e,n,"delete")}},g=(e,t)=>{const n=[],a=m(e,t);return n.push(((e,t)=>{const n=Object(p.g)(e.getSource()),a=Object(s.vb)(Object(s.Db)(n));return{labelKey:"topology~Move connector",callback:()=>{Object(l.a)({edge:e,availableTargets:t})},isDisabled:t.length<=1,accessReview:Object(r.Eb)(a,n,"delete")}})(e,a)),n}},5742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Promise.all([n.e(0),n.e(1),n.e(20),n.e(261)]).then(n.bind(null,6018)).then(t=>t.resourceLimitsModal(e))},5744:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var a,o=n(550);!function(e){e.CPU_USAGE="CPU_USAGE",e.CPU_REQUESTS="CPU_REQUESTS",e.MEMORY_USAGE="MEMORY_USAGE",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.POD_COUNT="POD_COUNT",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_FILESYSTEM="PODS_BY_FILESYSTEM",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.FILESYSTEM_USAGE="FILESYSTEM_USAGE",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION"}(a||(a={}));const r={[a.CPU_USAGE]:o.a("namespace:container_cpu_usage:sum{namespace='<%= project %>'}"),[a.CPU_REQUESTS]:o.a('sum(kube_pod_resource_request{resource="cpu", namespace="<%= project %>"}) by (namespace)'),[a.MEMORY_USAGE]:o.a('sum(container_memory_working_set_bytes{namespace=\'<%= project %>\',container="",pod!=""}) BY (namespace)'),[a.MEMORY_REQUESTS]:o.a('sum(kube_pod_resource_request{resource="memory", namespace="<%= project %>"}) by (namespace)'),[a.POD_COUNT]:o.a("count(kube_running_pod_ready{namespace='<%= project %>'}) BY (namespace)"),[a.FILESYSTEM_USAGE]:o.a('sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (namespace)'),[a.NETWORK_IN_UTILIZATION]:o.a('sum(rate(container_network_receive_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)'),[a.NETWORK_OUT_UTILIZATION]:o.a('sum(rate(container_network_transmit_bytes_total{container="POD",pod!="",namespace=\'<%= project %>\'}[5m])) BY (namespace)')},s={[a.PODS_BY_CPU]:o.a('topk(25, sort_desc(sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[a.PODS_BY_MEMORY]:o.a('topk(25, sort_desc(sum(avg_over_time(container_memory_working_set_bytes{container="",pod!="",namespace=\'<%= project %>\'}[5m])) BY (pod, namespace)))'),[a.PODS_BY_FILESYSTEM]:o.a('topk(25, sort_desc(sum(pod:container_fs_usage_bytes:sum{container="",pod!="",namespace=\'<%= project %>\'}) BY (pod, namespace)))'),[a.PODS_BY_NETWORK_IN]:o.a('topk(25, sort_desc(sum(rate(container_network_receive_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))'),[a.PODS_BY_NETWORK_OUT]:o.a('topk(25, sort_desc(sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= "", namespace = \'<%= project %>\'}[5m])) BY (namespace, pod)))')},i=e=>({[a.NETWORK_UTILIZATION]:[{query:r[a.NETWORK_IN_UTILIZATION]({project:e}),desc:"in"},{query:r[a.NETWORK_OUT_UTILIZATION]({project:e}),desc:"out"}]}),c=e=>({[a.CPU_USAGE]:r[a.CPU_USAGE]({project:e}),[a.CPU_REQUESTS]:r[a.CPU_REQUESTS]({project:e}),[a.MEMORY_USAGE]:r[a.MEMORY_USAGE]({project:e}),[a.MEMORY_REQUESTS]:r[a.MEMORY_REQUESTS]({project:e}),[a.POD_COUNT]:r[a.POD_COUNT]({project:e}),[a.FILESYSTEM_USAGE]:r[a.FILESYSTEM_USAGE]({project:e})}),l=e=>({[a.PODS_BY_CPU]:s[a.PODS_BY_CPU]({project:e}),[a.PODS_BY_MEMORY]:s[a.PODS_BY_MEMORY]({project:e}),[a.PODS_BY_FILESYSTEM]:s[a.PODS_BY_FILESYSTEM]({project:e}),[a.PODS_BY_NETWORK_IN]:s[a.PODS_BY_NETWORK_IN]({project:e}),[a.PODS_BY_NETWORK_OUT]:s[a.PODS_BY_NETWORK_OUT]({project:e})})},5745:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var a,o=n(550);!function(e){e.MEMORY_TOTAL="MEMORY_TOTAL",e.MEMORY_UTILIZATION="MEMORY_UTILIZATION",e.MEMORY_REQUESTS="MEMORY_REQUESTS",e.NETWORK_UTILIZATION="NETWORK_UTILIZATION",e.NETWORK_IN_UTILIZATION="NETWORK_IN_UTILIZATION",e.NETWORK_OUT_UTILIZATION="NETWORK_OUT_UTILIZATION",e.CPU_UTILIZATION="CPU_UTILIZATION",e.CPU_TOTAL="CPU_TOTAL",e.CPU_REQUESTS="CPU_REQUESTS",e.STORAGE_UTILIZATION="STORAGE_UTILIZATION",e.STORAGE_TOTAL="STORAGE_TOTAL",e.PODS_BY_CPU="PODS_BY_CPU",e.PODS_BY_MEMORY="PODS_BY_MEMORY",e.PODS_BY_STORAGE="PODS_BY_STORAGE",e.PODS_BY_NETWORK_IN="PODS_BY_NETWORK_IN",e.PODS_BY_NETWORK_OUT="PODS_BY_NETWORK_OUT",e.NODES_BY_CPU="NODES_BY_CPU",e.NODES_BY_MEMORY="NODES_BY_MEMORY",e.NODES_BY_STORAGE="NODES_BY_STORAGE",e.NODES_BY_NETWORK_IN="NODES_BY_NETWORK_IN",e.NODES_BY_NETWORK_OUT="NODES_BY_NETWORK_OUT",e.NODES_BY_PODS="NODES_BY_PODS",e.PROJECTS_BY_CPU="PROJECTS_BY_CPU",e.PROJECTS_BY_MEMORY="PROJECTS_BY_MEMORY",e.PROJECTS_BY_STORAGE="PROJECTS_BY_STORAGE",e.PROJECTS_BY_NETWORK_IN="PROJECTS_BY_NETWORK_IN",e.PROJECTS_BY_NETWORK_OUT="PROJECTS_BY_NETWORK_OUT",e.PROJECTS_BY_PODS="PROJECTS_BY_PODS",e.POD_UTILIZATION="POD_UTILIZATION"}(a||(a={}));const r={[a.PODS_BY_CPU]:o.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_MEMORY]:o.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_STORAGE]:o.a('\n      topk(25, sort_desc(\n        (\n          sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (pod, namespace)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_NETWORK_IN]:o.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.PODS_BY_NETWORK_OUT]:o.a('\n      topk(25, sort_desc(\n        (\n          sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n          *\n          on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n        )\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.NODES_BY_CPU]:o.a('\n      topk(25, sort_desc(\n        avg_over_time(instance:node_cpu:rate:sum[5m])\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_MEMORY]:o.a('\n      topk(25, sort_desc(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_STORAGE]:o.a('\n      topk(25, sort_desc(\n        (\n          sum by (instance) (max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"}))\n          -\n          sum by (instance) (max by (device, instance) (node_filesystem_avail_bytes{device=~"/.*"}))\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_PODS]:o.a('\n      topk(25, sort_desc(\n        sum(avg_over_time(kubelet_running_pods[5m])) BY (node)\n        *\n        on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      ))\n    '),[a.NODES_BY_NETWORK_IN]:o.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_receive_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.NODES_BY_NETWORK_OUT]:o.a('\n      topk(25, sort_desc(\n        sum(instance:node_network_transmit_bytes_excluding_lo:rate1m) BY (instance)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      ))\n    '),[a.PROJECTS_BY_CPU]:o.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_cpu_usage:sum{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_MEMORY]:o.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(container_memory_working_set_bytes{container="",pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_STORAGE]:o.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(avg_over_time(pod:container_fs_usage_bytes:sum{container="", pod!=""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_PODS]:o.a('\n      topk(25, sort_desc(\n        count by (namespace) (\n            topk without(uid) (1, kube_running_pod_ready)\n            *\n            ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n          *\n          on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"})))\n        ))\n    '),[a.PROJECTS_BY_NETWORK_IN]:o.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_receive_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    '),[a.PROJECTS_BY_NETWORK_OUT]:o.a('\n      topk(25, sort_desc(\n        sum by (namespace) (\n          (\n            sum(rate(container_network_transmit_bytes_total{ container="POD", pod!= ""}[5m])) BY (namespace, pod)\n            *\n            on(pod,namespace) group_left(node) (node_namespace_pod:kube_pod_info:)\n          )\n          *\n          on(node) group_left(role) (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n        )\n      ))\n    ')},s={[a.MEMORY_TOTAL]:o.a('\n      sum(\n        node_memory_MemTotal_bytes\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.MEMORY_UTILIZATION]:o.a('\n      sum(\n        (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes)\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.MEMORY_REQUESTS]:o.a('\n      sum(\n        kube_pod_resource_request{resource="memory"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.NETWORK_UTILIZATION]:o.a('\n      sum(\n        (\n          instance:node_network_transmit_bytes_excluding_lo:rate1m\n          +\n          instance:node_network_receive_bytes_excluding_lo:rate1m\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.CPU_UTILIZATION]:o.a('\n      sum(\n        1 - sum without (mode) (rate(node_cpu_seconds_total{mode=~"idle|iowait|steal"}[2m]))\n        *\n        on(instance) group_left() (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node","(.*)")\n        )\n      )\n    '),[a.CPU_TOTAL]:o.a('\n      sum(\n        kube_node_status_capacity{resource="cpu",unit="core"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.CPU_REQUESTS]:o.a('\n      sum(\n        kube_pod_resource_request{resource="cpu"}\n        *\n        on(node) group_left(role) (\n          max by (node) (kube_node_role{role=~"<%= nodeType %>"})\n        )\n      )\n    '),[a.STORAGE_UTILIZATION]:o.a('\n      sum(\n        (\n          max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n          -\n          max by (device, instance) (node_filesystem_free_bytes{device=~"/.*"})\n        )\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.STORAGE_TOTAL]:o.a('\n      sum(\n        max by (device, instance) (node_filesystem_size_bytes{device=~"/.*"})\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.POD_UTILIZATION]:o.a('\n      count(\n        (\n          topk without(uid) (1, kube_running_pod_ready)\n          *\n          ignoring(node,uid) group_right node_namespace_pod:kube_pod_info:\n        )\n        *\n        on(node) group_left() (max by (node) (kube_node_role{role=~"<%= nodeType %>"}))\n      )\n    '),[a.NETWORK_IN_UTILIZATION]:o.a('\n      sum(\n        instance:node_network_receive_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    '),[a.NETWORK_OUT_UTILIZATION]:o.a('\n      sum(\n        instance:node_network_transmit_bytes_excluding_lo:rate1m\n        *\n        on(instance) group_left(role) (\n          label_replace(max by (node) (kube_node_role{role=~"<%= nodeType %>"}), "instance", "$1", "node", "(.*)")\n        )\n      )\n    ')},i=e=>({[a.NETWORK_UTILIZATION]:[{query:s[a.NETWORK_IN_UTILIZATION]({nodeType:e}),desc:"in"},{query:s[a.NETWORK_OUT_UTILIZATION]({nodeType:e}),desc:"out"}]}),c=e=>({[a.PODS_BY_CPU]:r[a.PODS_BY_CPU]({nodeType:e}),[a.PODS_BY_MEMORY]:r[a.PODS_BY_MEMORY]({nodeType:e}),[a.PODS_BY_STORAGE]:r[a.PODS_BY_STORAGE]({nodeType:e}),[a.PODS_BY_NETWORK_IN]:r[a.PODS_BY_NETWORK_IN]({nodeType:e}),[a.PODS_BY_NETWORK_OUT]:r[a.PODS_BY_NETWORK_OUT]({nodeType:e}),[a.NODES_BY_CPU]:r[a.NODES_BY_CPU]({nodeType:e}),[a.NODES_BY_MEMORY]:r[a.NODES_BY_MEMORY]({nodeType:e}),[a.NODES_BY_STORAGE]:r[a.NODES_BY_STORAGE]({nodeType:e}),[a.NODES_BY_PODS]:r[a.NODES_BY_PODS]({nodeType:e}),[a.NODES_BY_NETWORK_IN]:r[a.NODES_BY_NETWORK_IN]({nodeType:e}),[a.NODES_BY_NETWORK_OUT]:r[a.NODES_BY_NETWORK_OUT]({nodeType:e}),[a.PROJECTS_BY_CPU]:r[a.PROJECTS_BY_CPU]({nodeType:e}),[a.PROJECTS_BY_MEMORY]:r[a.PROJECTS_BY_MEMORY]({nodeType:e}),[a.PROJECTS_BY_STORAGE]:r[a.PROJECTS_BY_STORAGE]({nodeType:e}),[a.PROJECTS_BY_PODS]:r[a.PROJECTS_BY_PODS]({nodeType:e}),[a.PROJECTS_BY_NETWORK_IN]:r[a.PROJECTS_BY_NETWORK_IN]({nodeType:e}),[a.PROJECTS_BY_NETWORK_OUT]:r[a.PROJECTS_BY_NETWORK_OUT]({nodeType:e})}),l=e=>({[a.CPU_UTILIZATION]:{utilization:s[a.CPU_UTILIZATION]({nodeType:e}),total:s[a.CPU_TOTAL]({nodeType:e}),requests:s[a.CPU_REQUESTS]({nodeType:e})},[a.MEMORY_UTILIZATION]:{utilization:s[a.MEMORY_UTILIZATION]({nodeType:e}),total:s[a.MEMORY_TOTAL]({nodeType:e}),requests:s[a.MEMORY_REQUESTS]({nodeType:e})},[a.STORAGE_UTILIZATION]:{utilization:s[a.STORAGE_UTILIZATION]({nodeType:e}),total:s[a.STORAGE_TOTAL]({nodeType:e})},[a.POD_UTILIZATION]:{utilization:s[a.POD_UTILIZATION]({nodeType:e})}})},5746:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(5807),s=n(5674);n(5712);t.a=({resourceQuota:e})=>{var t,n;const{t:i}=Object(o.useTranslation)(),c=Object.keys(null!==(n=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==n?n:{}).map(t=>{var n;const o=e.status.hard[t],i=null===(n=e.status.used)||void 0===n?void 0:n[t],{label:c,percent:l}=Object(s.a)({resourceName:t,used:i,hard:o});return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.b,{data:{x:l+"%",y:l},thresholds:[{value:90},{value:101}],title:t,label:c}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},c.length?c:a.createElement(a.Fragment,null,i("console-app~No quota")))}},5747:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(5748),s=n(5674);n(5712);t.a=({appliedClusterResourceQuota:e,namespace:t})=>{var n,i,c,l;const{t:u}=Object(o.useTranslation)(),d=null===(i=null===(n=e.status)||void 0===n?void 0:n.namespaces)||void 0===i?void 0:i.find(e=>e.namespace===t),p=Object.keys(null!==(l=null===(c=null==d?void 0:d.status)||void 0===c?void 0:c.hard)&&void 0!==l?l:{}).map(t=>{var n,o,i,c,l;const u=null===(o=null===(n=e.status.total)||void 0===n?void 0:n.hard)||void 0===o?void 0:o[t],p=null===(c=null===(i=e.status.total)||void 0===i?void 0:i.used)||void 0===c?void 0:c[t],m=null===(l=d.status.used)||void 0===l?void 0:l[t],b=Object(s.b)(u,p),v=100-b,{label:g,percent:h}=Object(s.a)({resourceName:t,used:m,hard:u}),f=b-h;return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.a,{data:[{x:"Namespace",y:h},{x:"Other namespaces",y:f},{x:"Unused",y:v}],title:t,label:g}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},p.length?p:a.createElement(a.Fragment,null,u("console-app~No quota")))}},5748:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(0),o=n(2232),r=n(6044),s=n(6045),i=n(6046),c=n(6047),l=n(6048),u=n(18),d=n.n(u),p=n(7),m=n(1943),b=n(5);const v=({data:e,query:t="",title:n,ariaChartLinkLabel:u,ariaChartTitle:v,ariaDescription:g,usedLabel:h,label:f,secondaryTitle:E,className:y})=>{var O;const{t:j}=Object(p.useTranslation)(),[k,_]=Object(b.Ic)(),S=h||j("public~used"),T=E||S,N=f||j("No data"),R=e.filter(e=>"Namespace"===e.x);return a.createElement(m.a,{className:d()("graph-wrapper--title-center graph-wrapper--gauge",y),ref:k,title:n},a.createElement(m.b,{query:t,ariaChartLinkLabel:u},a.createElement(o.a,{ariaTitle:v||n,ariaDesc:g,data:e,height:_,padding:0,labels:({datum:{x:e,y:t}})=>j("public~{{x}}: {{y}}%",{x:e,y:t}),width:_,subTitle:T,colorScale:100===(null===(O=R[0])||void 0===O?void 0:O.y)?[r.a.value,s.a.value,i.a.value]:[c.a.value,l.a.value,i.a.value],title:N})))}},5749:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(5674),s=n(119);n(5869);t.a=({hard:e,used:t})=>{const{t:n}=Object(o.useTranslation)(),i=Object.keys(e||{}).reduce((n,a)=>Object(r.b)(e[a],null==t?void 0:t[a])>=100?n+1:n,0);return a.createElement("div",{className:"co-resource-quota__summary"},n("console-shared~{{count}} resource",{count:Object.keys(e||{}).length}),", ",i>0?a.createElement(a.Fragment,null,a.createElement(s.m,null)," ",n("console-shared~{{count}} resource reached quota",{count:i})):n("console-shared~none are at quota"))}},5750:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(29),o=n(5921);const r=(e,t,n)=>{var r;return{id:"modify-application",label:a.a.t("topology~Edit application grouping"),insertBefore:null!=n?n:"edit-pod-count",cta:()=>Object(o.a)({resourceKind:e,resource:t,blocking:!0,initialApplication:""}),accessReview:{verb:"patch",group:e.apiGroup,resource:e.plural,namespace:null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.namespace}}}},5751:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"m",(function(){return f}));var a=n(5),o=n(5693),r=n(5703);const s="searchQuery",i="labels";var c;!function(e){e.Name="Name",e.Label="Label"}(c||(c={}));const l=e=>{e.length>0?Object(a.wc)(s,e):Object(a.qc)(s)},u=()=>{l("")},d=()=>{Object(a.qc)(i)},p=()=>{u(),d()},m=e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.plugins)||void 0===t?void 0:t.devconsole)||void 0===n?void 0:n.topology;return a?a.get("supportedFilters"):r.b.map(e=>e.id)},b=e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.plugins)||void 0===t?void 0:t.devconsole)||void 0===n?void 0:n.topology;return a?a.get("supportedKinds"):{}},v=()=>{var e,t;return null!==(t=null!==(e=Object(a.Tb)(s))&&void 0!==e?e:Object(a.Tb)(i))&&void 0!==t?t:""},g=(e,t)=>t?t.find(t=>t.id===e):null,h=(e,t)=>{var n,a;if(!t)return!0;if(!(null===(a=null===(n=g(r.d,t))||void 0===n?void 0:n.value)||void 0===a||a))return!1;const s=g(e,t);return!s||s.type!==o.b.expand||s.value},f=(e,t)=>{var n,a;if(!t||!e)return!0;return 0===t.filter(e=>e.type===o.b.kind&&e.value).length||null!==(a=null===(n=g(e,t))||void 0===n?void 0:n.value)&&void 0!==a&&a}},5757:function(e,t,n){"use strict";var a=n(5762);n.d(t,"a",(function(){return a.a}));var o=n(5886);n.d(t,"e",(function(){return o.a})),n.d(t,"f",(function(){return o.b}));var r=n(5777);n.d(t,"d",(function(){return r.a}));var s=n(5888);n.d(t,"b",(function(){return s.a})),n.d(t,"c",(function(){return s.b}))},5758:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),o=n(18),r=n(54),s=n(14),i=n(40),c=n(7),l=n(29),u=n(5);const d=["","",o("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),o("pf-m-hidden","pf-m-visible-on-lg"),o("pf-m-hidden","pf-m-visible-on-lg"),u.F.columnClass],p=({obj:e,kind:t,menuActions:n,customActionMenu:r,customData:l})=>{const{t:p}=Object(c.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(i.k,{className:d[0]},a.createElement(u.hb,{kind:t,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(i.k,{className:o(d[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(i.k,{className:d[2]},a.createElement(s.Link,{to:Object(u.tc)(t,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},p("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(i.k,{className:d[3]},a.createElement(u.L,{kind:t,labels:e.metadata.labels})),a.createElement(i.k,{className:d[4]},a.createElement(u.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(i.k,{className:d[5]},r||a.createElement(u.gb,{actions:n,kind:t,resource:e,customData:l})))};p.displayName="WorkloadTableRow";const m=()=>[{title:l.a.t("public~Name"),sortField:"metadata.name",transforms:[r.a],props:{className:d[0]}},{title:l.a.t("public~Namespace"),sortField:"metadata.namespace",transforms:[r.a],props:{className:d[1]},id:"namespace"},{title:l.a.t("public~Status"),sortFunc:"numReplicas",transforms:[r.a],props:{className:d[2]}},{title:l.a.t("public~Labels"),sortField:"metadata.labels",transforms:[r.a],props:{className:d[3]}},{title:l.a.t("public~Pod selector"),sortField:"spec.selector",transforms:[r.a],props:{className:d[4]}},{title:"",props:{className:d[5]}}];m.displayName="WorkloadTableHeader"},5761:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),o=n(5585),r=n(13),s=n(8),i=n(15),c=n(1421),l=n(5594);const u=e=>Object(i.me)(e).map(e=>{switch(Object(i.cd)(e)){case r.o.SUB_MENU:return a.createElement(o.ContextSubMenuItem,{label:e.label,key:e.id},u(e.children));case r.o.GROUP_MENU:return a.createElement(a.Fragment,{key:e.id},e.label&&a.createElement("h1",{className:"pf-v5-c-dropdown__group-title"},e.label),u(e.children));default:return a.createElement(c.a,{key:e.id,action:e,component:o.ContextMenuItem})}}),d=(e,t)=>({"topology-context-actions":{element:e,connectorSource:t}}),p=(e,t)=>({"topology-context-actions":{element:e,connectorSource:t}}),m=e=>{var t,n;const a=Object(l.f)(e),{csvName:o}=null!==(n=null===(t=e.getData())||void 0===t?void 0:t.data)&&void 0!==n?n:{};return Object.assign(Object.assign({"topology-actions":e},a?{[Object(s.Db)(a)]:a}:{}),o?{"csv-actions":{csvName:o,resource:a}}:{})}},5762:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(18),s=n.n(r),i=n(5),c=n(8),l=n(15),u=n(5873),d=n(5697),p=n(5809),m=n(5589),b=n(5810),v=(n(5885),n(5989),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=Object(o.observer)(e=>{var t,{className:n,innerRadius:r,icon:g,kind:h,element:f,hoverRef:E,children:y,onShowCreateConnector:O,onContextMenu:j,contextMenuOpen:k,createConnectorAccessVerb:_="patch",createConnectorDrag:S,alertVariant:T}=e,N=v(e,["className","innerRadius","icon","kind","element","hoverRef","children","onShowCreateConnector","onContextMenu","contextMenuOpen","createConnectorAccessVerb","createConnectorDrag","alertVariant"]);const[R,w]=a.useState(!1),[C,P]=Object(u.a)(200,200,[R]),D=Object(o.useCombineRefs)(P,E),{width:x,height:I}=f.getDimensions(),M=x/2,L=I/2,A=Object(m.k)(f.getData()),U=Object(c.vb)(Object(c.Db)(A)),B=.9*r,F=Object(i.Dc)({group:null==U?void 0:U.apiGroup,verb:_,resource:null==U?void 0:U.plural,name:A.metadata.name,namespace:A.metadata.namespace}),[K]=Object(d.l)(f.getLabel(),null===(t=null==A?void 0:A.metadata)||void 0===t?void 0:t.labels),$=Object(p.a)(C||k),q=h&&Object(b.a)(h),G=f.getController().getGraph().getDetailsLevel(),V=C||k||G!==o.ScaleDetailsLevel.low,Y=q?s()("odc-resource-icon",{["odc-resource-icon-"+q.kindStr.toLowerCase()]:!q.kindColor}):"";return a.useEffect(()=>{S||w(e=>!e)},[S]),a.createElement(o.Layer,{id:C||k?o.TOP_LAYER:o.DEFAULT_LAYER},a.createElement("g",{ref:D,"data-test-id":f.getLabel()},a.createElement(o.DefaultNode,Object.assign({className:s()("odc-base-node",n,T&&o.StatusModifier[T],{"is-filtered":K}),truncateLength:l.Ib,element:f,showLabel:$,scaleNode:(C||k)&&G!==o.ScaleDetailsLevel.high,onShowCreateConnector:F&&G!==o.ScaleDetailsLevel.low&&O,onContextMenu:j,contextMenuOpen:k,badge:null==q?void 0:q.kindAbbr,badgeColor:null==q?void 0:q.kindColor,badgeClassName:Y,showStatusBackground:!V},N),a.createElement("g",{"data-test-id":"base-node-handler"},g&&V&&a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--pf-v5-global--palette--white)",cx:M,cy:L,r:r+6}),a.createElement("image",{x:M-B,y:L-B,width:2*B,height:2*B,xlinkHref:g})),V&&y))))})},5763:function(e,t,n){"use strict";var a=n(0),o=n(5694),r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};t.a=e=>{var{children:t,radius:n,x:s,y:i}=e,c=r(e,["children","radius","x","y"]);return a.createElement(o.a,Object.assign({x:s,y:i,radius:n},c),a.createElement("g",{transform:`translate(-${n/2}, -${n/2})`},a.createElement("foreignObject",{width:n,height:n,style:{fontSize:n}},t)))}},5765:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(5585),s=n(18),i=n(5),c=n(15),l=n(5697),u=n(5774),d=n(5775),p=n(5776),m=(n(5984),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});const b={length:c.Ib};t.a=Object(r.observer)(e=>{var{element:t,bgClassName:n,badge:c,badgeColor:v,badgeClassName:g,children:h,emptyValue:f,typeIconClass:E}=e,y=m(e,["element","bgClassName","badge","badgeColor","badgeClassName","children","emptyValue","typeIconClass"]);const O=a.useRef(),[j]=Object(l.l)(t.getLabel()),[k,_]=Object(r.useHover)(),[S,T]=Object(r.useSize)([c]),N=S?S.width:0,R=S?S.height:0,w=t.getLabel(),{groupResources:C}=t.getData(),[P,D]=Object(r.useSize)([C]),x=P?P.width:0,I=P?P.height:0;Object(r.useAnchor)(a.useCallback(e=>new d.a(e,x,I,1.5),[x,I]));return a.createElement(r.DefaultNode,Object.assign({element:t,className:s("odc-group-node",{"is-filtered":j}),badge:c,badgeColor:v,badgeClassName:g,showLabel:!1,getCustomShape:()=>()=>a.createElement("rect",{className:s("odc-group-node__bg",n),x:0,y:0,width:x,height:I,rx:"5",ry:"5"})},y),a.createElement("g",{ref:D},E&&a.createElement(u.a,{className:"odc-group-node__type-icon",x:10,y:-10,width:20,height:20,iconClass:E}),a.createElement("g",{ref:D},a.createElement(r.LabelBadge,{ref:T,x:20,y:18,badge:c,badgeClassName:g,badgeColor:v}),w&&a.createElement("g",{ref:_},a.createElement(o.a,{content:w,position:o.b.top,trigger:"manual",isVisible:k&&Object(i.xc)(w,b),triggerRef:O},a.createElement("text",{ref:O,className:"odc-group-node__title",x:20+N+10,y:20+R,textAnchor:"start",dy:"-0.25em"},Object(i.Bc)(w,b)))),(h||C||f)&&a.createElement("g",{transform:`translate(20, ${20+R})`},(C||f)&&a.createElement(p.a,{groupResources:C,emptyValue:f}),h))))})},5766:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5742);const o=(e,t)=>({labelKey:"console-app~Edit resource limits",callback:()=>Object(a.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}})},5767:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(10),o=n(8),r=n(15);const s=e=>Array.isArray(null==e?void 0:e.hpas)&&e.hpas.length>0,i=({metadata:{name:e,namespace:t}},n)=>`/workload-hpa/ns/${t}/${Object(o.Hb)(n)}/${e}`,c=(e,t)=>Object(r.Qd)(e)||((e,t)=>(null==t?void 0:t.isOperatorBacked)||Object(r.Ud)(e,null==t?void 0:t.csvs))(e,t),l=(e,t,n,o)=>({labelKey:"console-app~Add HorizontalPodAutoscaler",href:i(t,e),hidden:s(n)||c(t,o),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"create"}}),u=(e,t,n,o)=>({labelKey:"console-app~Edit HorizontalPodAutoscaler",href:i(t,e),hidden:!s(n)||c(t,o),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"update"}}),d=(e,t,n,o)=>({labelKey:"console-app~Remove HorizontalPodAutoscaler",callback:()=>{var e;Object(r.zc)({workload:t,hpa:null===(e=null==n?void 0:n.hpas)||void 0===e?void 0:e[0]})},hidden:!s(n)||c(t,o),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"delete"}}),p=e=>(t,n,a)=>{const o=e(t,n);return Object.assign(Object.assign({},o),{hidden:s(a)||o.hidden})}},5768:function(e,t,n){"use strict";var a=n(5769);n.d(t,"f",(function(){return a.a})),n.d(t,"h",(function(){return a.c})),n.d(t,"p",(function(){return a.e})),n.d(t,"r",(function(){return a.f})),n.d(t,"s",(function(){return a.i})),n.d(t,"t",(function(){return a.j})),n.d(t,"u",(function(){return a.k})),n.d(t,"v",(function(){return a.l})),n.d(t,"w",(function(){return a.m})),n.d(t,"x",(function(){return a.n})),n.d(t,"y",(function(){return a.o}));var o=n(5875);n.d(t,"q",(function(){return o.a}));n(5770);var r=n(5757);n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b})),n.d(t,"e",(function(){return r.c})),n.d(t,"l",(function(){return r.d})),n.d(t,"n",(function(){return r.e})),n.d(t,"o",(function(){return r.f}));var s=n(5771);n.d(t,"a",(function(){return s.b})),n.d(t,"d",(function(){return s.d})),n.d(t,"m",(function(){return s.e}));var i=n(5772);n.d(t,"g",(function(){return i.b}));var c=n(5889);n.d(t,"i",(function(){return c.a})),n.d(t,"j",(function(){return c.b})),n.d(t,"k",(function(){return c.c}))},5769:function(e,t,n){"use strict";n.d(t,"m",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return N})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"o",(function(){return _})),n.d(t,"n",(function(){return S})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return v}));var a=n(5585),o=n(29),r=n(5619),s=n(131),i=n(5594),c=n(5770),l=n(5974),u=(n(5975),function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))});const d="#moveConnector#",p="#node#",m="#edge#",b=(e,t,n)=>t.getSource()!==n&&(t.getTarget()===n||!n.getTargetEdges().find(e=>e.getSource()===t.getSource())),v=(e,t)=>{const n=e.getOperation();return!(!e.isDragging()||!n)&&(n.type===a.CREATE_CONNECTOR_OPERATION?e.getItem()!==t&&e.getItem().getParent()!==t&&!e.getItem().getSourceEdges().find(e=>e.getTarget()===t):n.canDropOnNode&&n.canDropOnNode(n.type,e.getItem(),t))},g=(e,t=!0,n=!1)=>({item:{type:p},operation:(e,o)=>(n||o.canEdit)&&t&&Object(c.c)(o.element)?{[a.Modifiers.SHIFT]:{type:"regroup",edit:!0}}:void 0,canCancel:e=>{var t;return"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type)},begin:(e,a)=>({element:a.element,allowRegroup:(n||a.canEdit)&&t&&Object(c.c)(a.element)}),end:(e,t,n)=>u(void 0,void 0,void 0,(function*(){var o;if(!t.isCancelled()&&"regroup"===(null===(o=t.getOperation())||void 0===o?void 0:o.type)){if(!(t.didDrop()&&e&&n&&n.element.getParent()!==e))return Promise.reject();{const t=n.element.getController();yield Object(i.i)(n.element,Object(a.isNode)(e)?e:null),Object(r.f)(()=>{t.getNodeById(n.element.getId())&&e.appendChild(n.element)})()}}})),collect:e=>{var t;return{dragging:e.isDragging(),regrouping:"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type)}}}),h={item:{type:p},collect:e=>({dragging:e.isDragging()})},f=(e,t)=>{var n,o;return!!e.isDragging()&&("moveconnector"===(null===(n=e.getOperation())||void 0===n?void 0:n.type)?e.getItem().getSource()===t.element:(null===(o=e.getOperation())||void 0===o?void 0:o.type)===a.CREATE_CONNECTOR_OPERATION&&e.getItem()===t.element)},E={accept:[m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:(e,t,n)=>{var o;return Object(a.isEdge)(e)?b(null===(o=t.getOperation())||void 0===o?void 0:o.type,e,n.element):!(!n.element||e===n.element)&&!n.element.getTargetEdges().find(t=>t.getSource()===e)},collect:(e,t)=>({canDrop:v(e,t.element),dropTarget:e.isOver({shallow:!0}),edgeDragging:f(e,t)})},y={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],hitTest:()=>!0,canDrop:(e,t,n)=>{var o;return t.isOver({shallow:t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE})&&("regroup"===(null===(o=t.getOperation())||void 0===o?void 0:o.type)&&e.element.hasParent()&&e.element.getParent()!==n.element||t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE)},collect:e=>{const t=e.getOperation(),n=e.isDragging(),o=e.isDragging()&&((null==t?void 0:t.type)===a.CREATE_CONNECTOR_OPERATION||(null==t?void 0:t.edit));return{dragInProgress:n,dragEditInProgress:o,dragCreate:o&&(e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE||e.getItemType()===d),hasDropTarget:o&&e.hasDropTarget()}},dropHint:"create"},O={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:(e,t)=>{var n;return t.isOver({shallow:t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE})&&("regroup"===(null===(n=t.getOperation())||void 0===n?void 0:n.type)||t.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE)},collect:e=>{var t,n,o;return{droppable:e.isDragging()&&"regroup"===(null===(t=e.getOperation())||void 0===t?void 0:t.type),dropTarget:e.isOver({shallow:e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE}),canDrop:e.isDragging()&&("regroup"===(null===(n=e.getOperation())||void 0===n?void 0:n.type)||e.getItemType()===a.CREATE_CONNECTOR_DROP_TYPE),dragRegroupable:e.isDragging()&&(null===(o=e.getItem())||void 0===o?void 0:o.allowRegroup)}},dropHint:"create"},j=(e,t,n)=>({item:{type:m},operation:{type:"moveconnector",edit:!0,canDropOnNode:b},begin:(e,t)=>(t.element.raise(),t.element),drag:(e,t,n)=>{n.element.setEndPoint(e.x,e.y)},end:(e,a,r)=>{var i;const c=r.element;if(c.setEndPoint(),a.didDrop()&&e&&b(null===(i=a.getOperation())||void 0===i?void 0:i.type,c,e)){const a=void 0!==n?n:o.a.t("topology~Error moving connection");t(c.getSource(),e,c.getTarget()).catch(e=>{Object(s.s)({title:a,error:e.message,showIcon:!0})})}},collect:e=>({dragging:e.isDragging()})}),k={accept:[p,m,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:()=>!1},_=()=>Object(a.withDndDrop)(k),S=e=>Object(l.a)(e,document.getElementById("popper-container"),"odc-topology-context-menu"),T=(e,t)=>Object(a.isGraph)(t)?Object(c.a)(t,e):t.isGroup()?Object(c.b)(t,e):(Object(i.b)(e,t,null).catch(e=>{Object(s.s)({title:o.a.t("topology~Error creating connection"),error:e.message})}),null),N=()=>(e,t,n,o)=>{var r,s,i,c;if(e===t)return null;const l=null===(s=null===(r=t.getGraph())||void 0===r?void 0:r.getData())||void 0===s?void 0:s.relationshipProviderExtensions,u=null==l?void 0:l.find(({uid:e})=>o.includes(e));if(u)return u.properties.create(e,t);const d=null===(c=null===(i=t.getGraph())||void 0===i?void 0:i.getData())||void 0===c?void 0:c.createConnectorExtensions;if(Object(a.isGraph)(t)||!d)return Promise.resolve(T(e,t));const p=d.find(n=>!!n(o,e,t));return p?p(o,e,t)(e,t):Promise.resolve(T(e,t))}},5770:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(0),o=n(5585),r=n(15),s=n(2221),i=n(5761);const c=e=>Object(o.isGraph)(null==e?void 0:e.getParent())||(null==e?void 0:e.getParent().getType())===s.u,l=(e,t)=>[a.createElement(r.j,{key:"topology",context:{"topology-context-actions":{element:e,connectorSource:t}}},({options:e,loaded:t})=>t&&Object(i.b)(e))],u=(e,t)=>[a.createElement(r.j,{key:"topology",context:{"topology-context-actions":{element:e,connectorSource:t}}},({options:e,loaded:t})=>t&&Object(i.b)(e))]},5771:function(e,t,n){"use strict";var a=n(5698);n.d(t,"b",(function(){return a.a}));var o=n(5876);n.d(t,"a",(function(){return o.a}));var r=n(5877);n.d(t,"c",(function(){return r.a}));var s=n(5878);n.d(t,"d",(function(){return s.a}));var i=n(5879);n.d(t,"e",(function(){return i.a}));var c=n(5880);n.d(t,"f",(function(){return c.a}))},5772:function(e,t,n){"use strict";var a=n(5765);n.d(t,"b",(function(){return a.a}));n(5775);var o=n(5884);n.d(t,"a",(function(){return o.a}));n(5776)},5773:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(15),r=n(5785);const s=()=>{const{filters:e}=Object(a.useContext)(r.a);return Object(o.De)(e)}},5774:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(1401),s=n(5730);const i="SvgTypedIconDropShadowFilterId";t.a=a.forwardRef(({className:e,x:t,y:n,width:c,height:l,iconClass:u,icon:d,padding:p=4},m)=>{const[b,v]=Object(o.useSize)([]);let g=0,h=0;return b&&({width:g,height:h}=b),a.createElement("g",{className:e},a.createElement(s.a,{id:i}),a.createElement("circle",{key:"circle-"+i,ref:m,filter:Object(o.createSvgIdUrl)(i),cx:t-g/2,cy:n+h/2,r:g/2+p}),d?a.createElement("g",{ref:v},a.createElement("foreignObject",{key:"image-"+i,x:t-g+4,y:n,width:c,height:l},d)):a.createElement("g",{ref:v},a.createElement("image",{key:"image-"+i,x:t-g,y:n,width:c,height:l,xlinkHref:Object(r.d)(u)||u,filter:Object(o.createSvgIdUrl)(i)})))})},5775:function(e,t,n){"use strict";var a=n(5585);class o extends a.AbstractAnchor{constructor(e,t,n,a=0){super(e,a),this.width=t,this.height=n}getLocation(e){const t=new a.Point(this.owner.getPosition().x+this.width/2,this.owner.getPosition().y+this.height/2),n=2*this.offset;return Object(a.getRectAnchorPoint)(t,this.width+n,this.height+n,e)}}t.a=o},5776:function(e,t,n){"use strict";var a=n(0),o=n(57),r=n(160),s=n(663),i=n(5),c=n(8);n(5983);t.a=({groupResources:e,emptyValue:t})=>{const n={};o.a(e,e=>{var t;if(!e)return;const a=e.resourceKind||(null===(t=e.resource)||void 0===t?void 0:t.kind);n[a]=[...n[a]?n[a]:[],e.resource]});const l=r.a(n);return l.length?a.createElement("foreignObject",{width:250,height:32+29*l.length},a.createElement("div",{className:"odc-resource-kinds-info"},a.createElement("table",{className:"odc-resource-kinds-info__table"},a.createElement("tbody",{className:"odc-resource-kinds-info__body"},l.map(e=>{const t=Object(c.vb)(e);let o,r;return t?(o=t.crd?Object(c.Hb)(t):t.kind,r=n[e].length>1?t.labelPlural:t.label):(o=e,r=n[e].length>1?Object(c.yb)(e):s.a(e)),a.createElement("tr",{key:e,className:"odc-resource-kinds-info__row"},a.createElement("td",{className:"odc-resource-kinds-info__count"},n[e].length),a.createElement("td",{className:"odc-resource-kinds-info__resource-icon"},a.createElement(i.fb,{kind:o})),a.createElement("td",{className:"odc-resource-kinds-info__kind"},r))}))))):a.createElement("foreignObject",{width:250,height:61},a.createElement("div",{className:"odc-resource-kinds-info"},t))}},5777:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(0),o=n(7),r=n(76),s=n(15);const i=(e,t)=>{const n=e-3;return{innerPodStatusOuterRadius:n,innerPodStatusInnerRadius:n-.6*t}},c=(e,t)=>{const{podStatusInnerRadius:n,podStatusStrokeWidth:a}=Object(s.vc)(e);let o=n;if(t&&Object(s.ne)(t.obj,t.current,t.isRollingOut)){const{innerPodStatusInnerRadius:e}=i(o,a);o=e}const{podStatusStrokeWidth:r,podStatusInset:c}=Object(s.vc)(2*o);return o-r-c},l=a.memo((function({size:e,data:t,x:n=0,y:c=0,showPodCount:l}){var u,d,p,m,b,v,g,h;const{t:f}=Object(o.useTranslation)(),{podStatusOuterRadius:E,podStatusInnerRadius:y,podStatusStrokeWidth:O}=Object(s.vc)(e),{innerPodStatusOuterRadius:j,innerPodStatusInnerRadius:k}=i(y,O),{inProgressDeploymentData:_,completedDeploymentData:S}=Object(s.td)(t),[T]=Object(s.We)(null===(u=t.obj)||void 0===u?void 0:u.apiVersion,null===(d=t.obj)||void 0===d?void 0:d.kind,null===(m=null===(p=t.obj)||void 0===p?void 0:p.metadata)||void 0===m?void 0:m.name,null===(v=null===(b=t.obj)||void 0===b?void 0:b.metadata)||void 0===v?void 0:v.namespace),N=!!T,R=(null===(g=t.current)||void 0===g?void 0:g.obj)||t.obj,w=r.n.kind===(null===(h=t.obj)||void 0===h?void 0:h.kind)?t.obj.kind:R.kind,{title:C,subTitle:P,titleComponent:D}=Object(s.Re)(R,w,null==t?void 0:t.pods,N,f,T);return a.createElement(a.Fragment,null,a.createElement(s.Bb,{key:_?"deploy":"notDeploy",x:n-e/2,y:c-e/2,innerRadius:y,outerRadius:E,data:S,size:e,subTitle:l?P:void 0,title:l?C:void 0,titleComponent:l?D:void 0}),_&&a.createElement(s.Bb,{x:n-e/2,y:c-e/2,innerRadius:k,outerRadius:j,data:_,size:e}))}));t.a=l},5778:function(e,t,n){"use strict";var a=n(0);t.a=({style:e,topology:t})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t?"0 20 650 587":"0 20 650 450",fill:"currentColor","aria-hidden":"true",role:"img",width:"1em",height:"1em",style:e},a.createElement("path",{d:"m395.9 484.2-126.9-61c-12.5-6-17.9-21.2-11.8-33.8l61-126.9c6-12.5 21.2-17.9 33.8-11.8 17.2 8.3 27.1 13 27.1 13l-.1-109.2 16.7-.1.1 117.1s57.4 24.2 83.1 40.1c3.7 2.3 10.2 6.8 12.9 14.4 2.1 6.1 2 13.1-1 19.3l-61 126.9c-6.2 12.7-21.4 18.1-33.9 12z",style:{fill:"#fff"}}),a.createElement("path",{d:"M622.7 149.8c-4.1-4.1-9.6-4-9.6-4s-117.2 6.6-177.9 8c-13.3.3-26.5.6-39.6.7v117.2c-5.5-2.6-11.1-5.3-16.6-7.9 0-36.4-.1-109.2-.1-109.2-29 .4-89.2-2.2-89.2-2.2s-141.4-7.1-156.8-8.5c-9.8-.6-22.5-2.1-39 1.5-8.7 1.8-33.5 7.4-53.8 26.9C-4.9 212.4 6.6 276.2 8 285.8c1.7 11.7 6.9 44.2 31.7 72.5 45.8 56.1 144.4 54.8 144.4 54.8s12.1 28.9 30.6 55.5c25 33.1 50.7 58.9 75.7 62 63 0 188.9-.1 188.9-.1s12 .1 28.3-10.3c14-8.5 26.5-23.4 26.5-23.4S547 483 565 451.5c5.5-9.7 10.1-19.1 14.1-28 0 0 55.2-117.1 55.2-231.1-1.1-34.5-9.6-40.6-11.6-42.6zM125.6 353.9c-25.9-8.5-36.9-18.7-36.9-18.7S69.6 321.8 60 295.4c-16.5-44.2-1.4-71.2-1.4-71.2s8.4-22.5 38.5-30c13.8-3.7 31-3.1 31-3.1s7.1 59.4 15.7 94.2c7.2 29.2 24.8 77.7 24.8 77.7s-26.1-3.1-43-9.1zm300.3 107.6s-6.1 14.5-19.6 15.4c-5.8.4-10.3-1.2-10.3-1.2s-.3-.1-5.3-2.1l-112.9-55s-10.9-5.7-12.8-15.6c-2.2-8.1 2.7-18.1 2.7-18.1L322 273s4.8-9.7 12.2-13c.6-.3 2.3-1 4.5-1.5 8.1-2.1 18 2.8 18 2.8L467.4 315s12.6 5.7 15.3 16.2c1.9 7.4-.5 14-1.8 17.2-6.3 15.4-55 113.1-55 113.1z",style:{fill:"currentColor"}}),a.createElement("path",{d:"M326.8 380.1c-8.2.1-15.4 5.8-17.3 13.8-1.9 8 2 16.3 9.1 20 7.7 4 17.5 1.8 22.7-5.4 5.1-7.1 4.3-16.9-1.8-23.1l24-49.1c1.5.1 3.7.2 6.2-.5 4.1-.9 7.1-3.6 7.1-3.6 4.2 1.8 8.6 3.8 13.2 6.1 4.8 2.4 9.3 4.9 13.4 7.3.9.5 1.8 1.1 2.8 1.9 1.6 1.3 3.4 3.1 4.7 5.5 1.9 5.5-1.9 14.9-1.9 14.9-2.3 7.6-18.4 40.6-18.4 40.6-8.1-.2-15.3 5-17.7 12.5-2.6 8.1 1.1 17.3 8.9 21.3 7.8 4 17.4 1.7 22.5-5.3 5-6.8 4.6-16.3-1.1-22.6 1.9-3.7 3.7-7.4 5.6-11.3 5-10.4 13.5-30.4 13.5-30.4.9-1.7 5.7-10.3 2.7-21.3-2.5-11.4-12.6-16.7-12.6-16.7-12.2-7.9-29.2-15.2-29.2-15.2s0-4.1-1.1-7.1c-1.1-3.1-2.8-5.1-3.9-6.3 4.7-9.7 9.4-19.3 14.1-29-4.1-2-8.1-4-12.2-6.1-4.8 9.8-9.7 19.7-14.5 29.5-6.7-.1-12.9 3.5-16.1 9.4-3.4 6.3-2.7 14.1 1.9 19.8l-24.6 50.4z",style:{fill:"currentColor"}}))},5779:function(e,t,n){"use strict";var a=n(5585),o=n(5619);class r extends a.BaseEdge{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(o.p)(this,{resource:o.q.ref,resourceKind:o.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=r},5782:function(e,t,n){"use strict";var a=n(5768);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g})),n.d(t,"h",(function(){return a.h})),n.d(t,"i",(function(){return a.i})),n.d(t,"j",(function(){return a.j})),n.d(t,"k",(function(){return a.k})),n.d(t,"l",(function(){return a.l})),n.d(t,"m",(function(){return a.n})),n.d(t,"n",(function(){return a.o})),n.d(t,"o",(function(){return a.p})),n.d(t,"p",(function(){return a.r})),n.d(t,"q",(function(){return a.t})),n.d(t,"r",(function(){return a.u})),n.d(t,"s",(function(){return a.v})),n.d(t,"t",(function(){return a.w})),n.d(t,"u",(function(){return a.x})),n.d(t,"v",(function(){return a.y}));n(5890)},5784:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0);const o=a.createContext({infrastructureLoaded:!0,infrastructureError:null})},5785:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(0),o=n(15),r=n(5982),s=n(5703);const i=e=>(null==e?void 0:e.length)?e.reduce((e,t)=>(e[t.id]=t.value,e),{}):{},c=()=>{const[e,t,n]=Object(o.ff)("devconsole.topology.filters",r.a,i(s.b)),[c,l]=a.useState(!1),[u,d]=a.useState([]);a.useEffect(()=>{n&&!c&&(d((e=>{const t=[...s.b];return t.forEach(t=>{void 0!==e[t.id]&&(t.value=e[t.id])}),t})(e)),l(!0))},[e,n,c]);const p=a.useCallback(e=>{d(e),t(i(e))},[t]);return[u,e,e&&c,p]},l=a.createContext({}),u=({children:e})=>{const[t,n,o,r]=c();return a.createElement(l.Provider,{value:{filters:t,appliedFilters:n,setTopologyFilters:r}},o?e:null)}},5791:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(363),r=n(7),s=n(14),i=n(1409),c=n(52),l=n(2229);n(5792);const u=({resources:e,getOperatorsWithStatuses:t,title:n,linkTo:u,Row:d,Component:p,isResolved:m})=>{const{t:b}=Object(r.useTranslation)(),v=o.a(e).some(e=>e.loadError),g=t(e),h=Object(i.a)(g).sort((e,t)=>e.operators[0].metadata.name.localeCompare(t.operators[0].metadata.name)),f=h.every(e=>e.status.health===c.a.OK),E=a.useCallback(()=>a.createElement("div",{className:"co-status__operator-skeleton"}),[]);return g.length?a.createElement(l.StatusPopupSection,{firstColumn:a.createElement(a.Fragment,null,a.createElement("span",null,n),a.createElement("span",{className:"text-secondary co-status__operator-detail"}," ",b("console-shared~({{operatorStatusLength}} installed)",{operatorStatusLength:g.length}))),secondColumn:b("console-shared~Status")},v?a.createElement("div",{className:"text-secondary"},b("console-shared~Not available")):!f&&h.map(e=>a.createElement(d,{key:e.operators[0].metadata.uid,Component:p,operatorStatus:e,LoadingComponent:E,isResolved:m})),a.createElement(l.default,{value:b("console-shared~All {{status}}",{status:g[0].status.title.toLowerCase()}),icon:g[0].status.icon},a.createElement(s.Link,{to:u},b("console-shared~View all")))):null}},5792:function(e,t,n){},5793:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return R}));var a=n(0),o=n(22),r=n(31),s=n(14),i=n(7),c=n(69),l=n(13),u=n(192),d=n(434),p=n(295),m=n(5387),b=n(5388),v=n(15),g=n(4375),h=n(4364),f=n(4376),E=n(58),y=n(8),O=n(10),j=n(5738),k=n(108),_=n(206),S=n(1417);const T={kind:Object(y.Hb)(O.ClusterVersionModel),namespaced:!1,name:"version",isList:!1},N=({labelSelector:e})=>{const{t:t}=Object(i.useTranslation)(),n=Object(_.a)(v.O.CLUSTER_VERSION),[r,,c]=Object(S.a)(e),[l,u]=Object(k.a)(n?T:{}),d=Object(v.we)()&&n&&u&&Object(y.db)(l)&&!e;return a.createElement(g.default,{error:!o.a(c)},d&&a.createElement(f.StatusItem,{key:"clusterUpdate",Icon:v.n,message:t("public~A cluster version update is available")},a.createElement(s.Link,{to:"/settings/cluster?showVersions"},t("public~Update cluster"))),r.map(e=>a.createElement(f.default,{key:Object(E.h)(e,e.rule.id),alert:e})))},R=Object(r.connect)(e=>({k8sModels:e.k8s.getIn(["RESOURCES","models"])}))(({k8sModels:e})=>{const t=Object(c.z)(c.f),[n]=Object(l.kc)(l.gb),o=a.useMemo(()=>((e,t)=>e.filter(e=>{if(Object(c.g)(e)||Object(c.d)(e)||Object(l.hb)(e)||Object(l.fb)(e)){const n=e;return!(n.properties.additionalResource&&!n.properties.additionalResource.optional)||!!t.get(n.properties.additionalResource.kind)}return!0}))([...t,...n],e).map(e=>{if(Object(l.Kb)(e)||Object(l.Ib)(e)||Object(l.Jb)(e)){const t=e.properties.popupComponent?{popupComponent:()=>Promise.resolve(e.properties.popupComponent)}:{};return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),t)})}return e}),[t,n,e]),r=a.useMemo(()=>o.findIndex(e=>Object(c.c)(e)||Object(l.Hb)(e)),[o]),{t:v}=Object(i.useTranslation)(),g=[];if(o.forEach(t=>{if(Object(c.g)(t)||Object(l.Kb)(t))g.push({title:t.properties.title,Component:a.createElement(j.d,{subsystem:t.properties,models:e})});else if(Object(c.d)(t)||Object(l.Ib)(t)){const{disallowedControlPlaneTopology:n}=t.properties;if((null==n?void 0:n.length)&&n.includes(window.SERVER_FLAGS.controlPlaneTopology))return;g.push({title:t.properties.title,Component:a.createElement(j.b,{subsystem:t.properties,models:e})})}else(Object(c.e)(t)||Object(l.Jb)(t))&&g.push({title:t.properties.title,Component:a.createElement(j.c,{subsystem:t.properties})})}),-1!==r){const e=[],t=[];o.forEach(n=>{Object(l.Hb)(n)?t.push(n.properties):Object(c.c)(n)&&e.push(n.properties)}),g.splice(r,0,{title:"Operators",Component:a.createElement(j.a,{operatorExtensions:e,dynamicOperatorSubsystems:t})})}return a.createElement(u.a,{"data-test-id":"status-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},a.createElement(d.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(s.Link,{to:"/monitoring/alerts","data-test":"status-card-view-alerts"},v("public~View alerts"))),hasNoOffset:!1,className:"co-overview-card__actions"}},a.createElement(p.a,null,v("public~Status"))),a.createElement(h.default,null,a.createElement(m.a,{className:"co-overview-status__health",hasGutter:!0},g.map(e=>a.createElement(b.a,{key:e.title,"data-test":e.title},e.Component)))),a.createElement(N,null))})},5805:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(19),r=n(7),s=n(15),i=n(984),c=n(5851),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const u=({openProjectModal:e})=>{const{t:t}=Object(r.useTranslation)(),n=Object(s.Fe)(s.O.CAN_CREATE_NS);return Object(s.Fe)(s.O.CAN_CREATE_PROJECT)?a.createElement(r.Trans,{t:t,ns:"devconsole"}," or ",a.createElement(o.a,{isInline:!0,variant:"link",onClick:e},"create a Project")):n?a.createElement(r.Trans,{t:t,ns:"devconsole"}," or ",a.createElement(o.a,{isInline:!0,variant:"link",onClick:e},"create a Namespace")):null};t.b=e=>{var{onCreate:t,title:n,children:o}=e,r=l(e,["onCreate","title","children"]);const[,u]=Object(s.ue)(),d=Object(i.a)(),p=a.useCallback(()=>{d({onSubmit:e=>{var n;u(null===(n=e.metadata)||void 0===n?void 0:n.name),t&&t(e)}})},[t,u,d]);return a.createElement(c.a,Object.assign({},r,{title:n}),o(p))}},5806:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return M}));var a=n(0),o=n(22),r=n(7),s=n(205),i=n(165),c=n(682),l=n(354),u=n(294),d=n(192),p=n(434),m=n(516),b=n(164),v=n(295),g=n(13),h=n(4382),f=n(4365),E=n(762),y=n(5670),O=n(982),j=n(1406),k=n(5745),_=n(10),S=n(517),T=n(108),N=n(8),R=n(4366),w=n(1200),C=n(5856);const P=[C.d,C.e],D=Object(y.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:n,utilizationQuery:o,totalQuery:r,title:s,TopConsumerPopover:i,humanizeValue:c,byteDataType:l,namespace:u,isDisabled:d=!1,limitQuery:p,requestQuery:m,setLimitReqState:b})=>{let v,g,f,E,y,O,k,_,T,N=!1;const{duration:R}=Object(w.useUtilizationDuration)();return a.useEffect(()=>{if(!d)return e(o,u,R),r&&e(r,u),p&&e(p,u,R),m&&e(m,u,R),()=>{t(o,R),r&&t(r),p&&t(p,R),m&&t(m,R)}},[e,t,R,o,r,u,d,p,m]),d||([v,g]=Object(S.b)(n,o,R),[f,E]=Object(S.b)(n,r),[O,k]=Object(S.b)(n,p,R),[_,T]=Object(S.b)(n,m,R),y=Object(j.a)(f),N=!v||r&&!f||p&&!O),a.createElement(h.default,{title:s,utilization:v,limit:O,requested:_,error:g||E||k||T,isLoading:N,humanizeValue:c,byteDataType:l,query:[o,p,m],max:y&&y.length?y[0].y:null,TopConsumerPopover:i,setLimitReqState:b})}),x=Object(y.a)(({watchPrometheus:e,stopWatchPrometheusQuery:t,prometheusResults:n,queries:o,title:r,TopConsumerPopovers:s,humanizeValue:i,byteDataType:c,namespace:l,isDisabled:u=!1})=>{const{duration:d}=Object(w.useUtilizationDuration)();a.useEffect(()=>{if(!u)return o.forEach(t=>e(t.query,l,d)),()=>{o.forEach(e=>t(e.query,d))}},[e,t,d,o,l,u]);const p=[];let m=!1,b=!1;return u||o.forEach(e=>{var t;const[a,o]=Object(S.b)(n,e.query,d);return o?(m=!0,!1):a?void p.push((null===(t=Object(j.b)(a,e.desc,null,h.trimSecondsXMutator))||void 0===t?void 0:t[0])||[]):(b=!0,!1)}),a.createElement(h.MultilineUtilizationItem,{title:r,data:p,error:m,isLoading:b,humanizeValue:i,byteDataType:c,queries:o,TopConsumerPopovers:s})}),I=({machineConfigPools:e,onNodeSelect:t,selectedNodes:n})=>{const{t:o}=Object(r.useTranslation)(),[d,p]=a.useState(!1),m=e.sort((e,t)=>{const n=["worker","master"],a=n.indexOf(e.metadata.name),o=n.indexOf(t.metadata.name);return-1===a&&-1===o?e.metadata.name.localeCompare(t.metadata.name):-1===a?1:-1===o?-1:a-o}).map(e=>{const t="master"===e.metadata.name?"control plane":e.metadata.name;return a.createElement(s.a,{hasCheckbox:!0,key:e.metadata.name,value:t,isSelected:n.includes(e.metadata.name)},t)});return a.createElement(l.a,{role:"menu","aria-label":o("public~Filter by Node type"),onSelect:t,isOpen:d,selected:n,onOpenChange:e=>p(e),toggle:e=>a.createElement(i.a,{ref:e,onClick:e=>p(e),variant:"plainText"},o("public~Filter by Node type"),n.length>0&&a.createElement(c.a,{className:"pf-v5-u-ml-sm",isRead:!0},n.length))},a.createElement(u.a,null,m))},M=()=>{const{t:e}=Object(r.useTranslation)(),[t,n]=Object(T.a)({isList:!0,kind:Object(N.Hb)(_.MachineConfigPoolModel)}),[s,i]=a.useState([]),[c]=Object(g.kc)(g.Y),[l]=Object(g.kc)(g.X),u=o.a(s)?".+":s.join("|"),[h,y]=a.useMemo(()=>[Object(k.d)(u),Object(k.b)(u)],[u]);return n&&a.createElement(d.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},a.createElement(p.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(m.a,null,a.createElement(b.a,null,a.createElement(I,{machineConfigPools:t,onNodeSelect:(e,t)=>{const n="control plane"===t?"master":t;s.includes(n)?i(s.filter(e=>e!==n)):i([...s,n])},selectedNodes:s})),a.createElement(b.a,null,a.createElement(R.UtilizationDurationDropdown,null)))),hasNoOffset:!1,className:void 0}},a.createElement(v.a,{"data-test":"utilization-card__title"},e("public~Cluster utilization"))),a.createElement(f.default,null,a.createElement(C.b.Provider,{value:u},a.createElement(D,{title:e("public~CPU"),utilizationQuery:h[k.a.CPU_UTILIZATION].utilization,totalQuery:h[k.a.CPU_UTILIZATION].total,requestQuery:h[k.a.CPU_UTILIZATION].requests,TopConsumerPopover:C.a,humanizeValue:O.h}),a.createElement(D,{title:e("public~Memory"),utilizationQuery:h[k.a.MEMORY_UTILIZATION].utilization,totalQuery:h[k.a.MEMORY_UTILIZATION].total,requestQuery:h[k.a.MEMORY_UTILIZATION].requests,TopConsumerPopover:C.c,humanizeValue:O.f,byteDataType:E.a.BinaryBytes}),a.createElement(D,{title:e("public~Filesystem"),utilizationQuery:h[k.a.STORAGE_UTILIZATION].utilization,totalQuery:h[k.a.STORAGE_UTILIZATION].total,TopConsumerPopover:C.g,humanizeValue:O.f,byteDataType:E.a.BinaryBytes}),a.createElement(x,{title:e("public~Network transfer"),queries:y[k.a.NETWORK_UTILIZATION],humanizeValue:O.j,TopConsumerPopovers:P}),a.createElement(D,{title:e("public~Pod count"),utilizationQuery:h[k.a.POD_UTILIZATION].utilization,TopConsumerPopover:C.f,humanizeValue:O.k}),c.map(({uid:e,properties:t})=>{var n,o,r;return a.createElement(D,{key:e,title:t.title,utilizationQuery:t.getUtilizationQuery(s),totalQuery:null===(n=t.getTotalQuery)||void 0===n?void 0:n.call(t,s),humanizeValue:t.humanize,TopConsumerPopover:t.TopConsumerPopover,requestQuery:null===(o=t.getRequestQuery)||void 0===o?void 0:o.call(t,s),limitQuery:null===(r=t.getLimitQuery)||void 0===r?void 0:r.call(t,s)})}),l.map(({uid:e,properties:t})=>a.createElement(x,{key:e,title:t.title,queries:t.getUtilizationQueries(s),humanizeValue:t.humanize,TopConsumerPopovers:t.TopConsumerPopovers})))))}},5807:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h}));var a=n(0),o=n(515),r=n(6028),s=n(6029),i=n(18),c=n.n(i),l=n(7),u=n(1943),d=n(1197),p=n(436),m=n(5),b=n(1406);const v=[{value:67},{value:92}],g=({data:e,error:t,humanize:n=m.ec,invert:i=!1,loading:d,query:p="",remainderLabel:b,themeColor:g=o.a.green,thresholds:h=v,title:f,ariaChartLinkLabel:E,ariaChartTitle:y,usedLabel:O,label:j,secondaryTitle:k,className:_})=>{const{t:S}=Object(l.useTranslation)(),[T,N]=Object(m.Ic)(),R=!t&&!d,w=d?S("Loading"):t,C=O||S("public~used"),P=k||C,D=j||(e?n(e.y).string:void 0)||S("No data");return a.createElement(u.a,{className:c()("graph-wrapper--title-center graph-wrapper--gauge",_),ref:T,title:f},a.createElement(u.b,{query:p,ariaChartLinkLabel:E},a.createElement(r.a,{ariaTitle:y||f,data:h,height:N,padding:0,width:N,y:"value"},a.createElement(s.a,{labels:({datum:{x:e,y:t}})=>e?`${e} ${C}`:`${t} ${b||S("available")}`,data:R?e:{y:0},invert:i,padding:0,subTitle:R?P:"",themeColor:g,thresholds:h,title:w||D}))))},h=({humanize:e=m.ec,invert:t,namespace:n,percent:o=0,query:r,remainderLabel:s,secondaryTitle:i,thresholds:c,title:u,usedLabel:v})=>{const{t:h}=Object(l.useTranslation)(),[f,E,y]=Object(d.usePrometheusPoll)({endpoint:p.a.QUERY,namespace:n,query:r}),[O]=f?Object(b.a)(f,null,e).map(({label:e,y:t})=>({x:e,y:t})):[{x:e(o).string,y:o}];return a.createElement(g,{data:O,error:!!E&&h("No data"),invert:t,label:O.x,loading:y,query:r,remainderLabel:s,secondaryTitle:i,thresholds:c,title:u,usedLabel:v})}},5808:function(e,t,n){"use strict";n(5741),n(5872),n(5750);var a=n(5761);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));n(4367)},5809:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5585),o=n(5703),r=n(5751),s=n(5773);const i=e=>{const t=Object(s.a)(),n=Object(a.useVisualizationController)().getGraph().getDetailsLevel(),i=Object(r.g)(o.e,t);return e||n===a.ScaleDetailsLevel.high&&(null==i?void 0:i.value)}},5810:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(16),o=n(8);const r=e=>{const t=Object(o.vb)(e),n=Object(a.a)(t,"kind",e),r=Object(a.a)(t,"color",void 0);return{kindStr:n,kindAbbr:t&&t.abbr||Object(o.ub)(n),kindColor:r}}},5811:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(7),r=n(5),s=n(10),i=n(5667),c=n(5594);const l=({cronjob:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(i.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement(r.lb,{resource:e,showPodSelector:!0},a.createElement(r.r,{label:t("topology~Schedule"),obj:e,path:"spec.schedule"}),a.createElement(r.r,{label:t("topology~Concurrency policy"),obj:e,path:"spec.concurrencyPolicy"}),a.createElement(r.r,{label:t("topology~Starting deadline seconds"),obj:e,path:"spec.startingDeadlineSeconds"},e.spec.startingDeadlineSeconds?t("topology~second",{count:e.spec.startingDeadlineSeconds}):t("topology~Not configured")),a.createElement(r.r,{label:t("topology~Last schedule time"),obj:e,path:"status.lastScheduleTime"},a.createElement(r.xb,{timestamp:e.status.lastScheduleTime}))))},u=e=>{const t=Object(c.f)(e);if(!t||t.kind!==s.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{cronjob:t}),!0,void 0]}},5812:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(4371),r=n(5),s=n(10),i=n(15),c=n(5594);const l=({ds:e})=>{var t;const{namespace:n}=e.metadata,{podData:c,loaded:l,loadError:u}=Object(i.Se)(e,"DaemonSet",n);return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(r.wb,{loaded:l,data:c,loadError:u},a.createElement(i.Ab,{pods:null!==(t=null==c?void 0:c.pods)&&void 0!==t?t:[],resourceKind:s.DaemonSetModel,obj:e,enableScaling:!1}))),a.createElement("div",{className:"resource-overview__summary"},a.createElement(r.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"resource-overview__details"},a.createElement(o.DaemonSetDetailsList,{ds:e})))},u=e=>{const t=Object(c.f)(e);if(!t||t.kind!==s.DaemonSetModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{ds:t}),!0,void 0]}},5813:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(7),r=n(4368),s=n(5),i=n(10),c=n(5667),l=n(5594);const u=({dc:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(s.Db,{obj:e,model:i.DeploymentConfigModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(c.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(s.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(s.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.DeploymentConfigDetailsList,{dc:e})))},d=e=>{const t=Object(l.f)(e);if(!t||t.kind!==i.DeploymentConfigModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{dc:t}),!0,void 0]}},5814:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(7),r=n(4372),s=n(5),i=n(10),c=n(5667),l=n(5594);const u=({deployment:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(s.Db,{obj:e,model:i.DeploymentModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(c.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(s.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(s.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.DeploymentDetailsList,{deployment:e})))},d=e=>{const t=Object(l.f)(e);if(!t||t.kind!==i.DeploymentModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{deployment:t}),!0,void 0]}},5815:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(7),r=n(5),s=n(10),i=n(15),c=n(5667),l=n(5594);const u=({job:e})=>{var t;const{namespace:n}=e.metadata,{podData:s,loaded:l,loadError:u}=Object(i.Se)(e,"Job",n),{t:d}=Object(o.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(r.wb,{loaded:l,data:s,loadError:u},a.createElement(c.a,{key:e.metadata.uid,obj:e,path:""}))),a.createElement(r.lb,{resource:e,showPodSelector:!0},a.createElement(r.r,{label:d("topology~Desired completions"),obj:e,path:"spec.completions"}),a.createElement(r.r,{label:d("topology~Parallelism"),obj:e,path:"spec.parallelism"}),a.createElement(r.r,{label:d("topology~Active deadline seconds"),obj:e,path:"spec.activeDeadlineSeconds"},(null===(t=e.spec)||void 0===t?void 0:t.activeDeadlineSeconds)?Object(r.oc)(e.spec.activeDeadlineSeconds,"second"):d("topology~Not configured"))))},d=e=>{const t=Object(l.f)(e);if(!t||t.kind!==s.JobModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{job:t}),!0,void 0]}},5816:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(13),r=n(5945),s=n(5686),i=n(5817),c=n(5700);const l=({id:e,podAdapter:t,podAdapterExtensionResolved:n})=>{const[{data:o,loaded:c},l]=a.useState({loaded:!1}),u=a.useCallback(e=>{var n;"CronJob"===(null===(n=null==t?void 0:t.resource)||void 0===n?void 0:n.kind)?setTimeout(()=>l({data:e,loaded:!0}),3e3):l({data:e,loaded:!0})},[t]);return t?a.createElement(s.a,null,n&&a.createElement(i.a,{key:e,resource:t.resource,data:t.data,useAdapterHook:t.provider,onAdapterDataResolved:u}),c&&o.loaded&&!o.loadError&&a.createElement(r.a,Object.assign({obj:t.resource},o))):null},u=e=>{const[t,n]=Object(o.kc)(o.Db),r=a.useMemo(()=>Object(c.b)(e,[t,n]),[e,t,n]);if(!r)return[void 0,!0,void 0];return[a.createElement(l,{id:e.getId(),podAdapter:r,podAdapterExtensionResolved:n}),!0,void 0]}},5817:function(e,t,n){"use strict";var a=n(0);t.a=({resource:e,data:t,useAdapterHook:n,onAdapterDataResolved:o})=>{const r=n(e,t);return a.useEffect(()=>{r&&o(r)},[r]),null}},5818:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(5),r=n(10),s=n(5667),i=n(5594);const c=({ss:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(s.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement(o.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),l=e=>{const t=Object(i.f)(e);if(!t||t.kind!==r.StatefulSetModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{ss:t}),!0,void 0]}},5819:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(14),r=n(5),s=n(8),i=n(5594);const c=e=>{const t=Object(i.f)(e);if(!t)return null;const n=Object(s.Db)(t);return a.createElement(a.Fragment,null,a.createElement(r.fb,{className:"co-m-resource-icon--lg",kind:n}),a.createElement(o.Link,{to:Object(r.tc)(n,t.metadata.name,t.metadata.namespace),className:"co-resource-item__resource-name"},t.metadata.name))}},5820:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(13),r=n(5686),s=n(5946),i=n(5817),c=n(5700);const l=({id:e,buildAdapter:t,extensionsResolved:n})=>{const[{data:o,loaded:c},l]=a.useState({loaded:!1}),u=a.useCallback(e=>{l({data:e,loaded:!0})},[]);return t?a.createElement(r.a,null,n&&a.createElement(i.a,{key:e,resource:t.resource,useAdapterHook:t.provider,onAdapterDataResolved:u}),c&&a.createElement(s.a,{buildConfigs:o.buildConfigs})):null},u=e=>{const[t,n]=Object(o.kc)(o.S),r=a.useMemo(()=>Object(c.b)(e,[t,n]),[t,e,n]);if(!r)return[void 0,!0,void 0];return[a.createElement(l,{id:e.getId(),buildAdapter:r,extensionsResolved:n}),!0,void 0]}},5821:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(13),r=n(5686),s=n(5947),i=n(5700);const c=({networkAdapter:e})=>e?a.createElement(r.a,null,a.createElement(s.a,{obj:e.resource})):null,l=e=>{const[t,n]=Object(o.kc)(o.zb),r=a.useMemo(()=>Object(i.b)(e,[t,n]),[e,n,t]);if(!r)return[void 0,!0,void 0];return[a.createElement(c,{networkAdapter:r}),!0,void 0]}},5822:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(10),r=n(15),s=n(5594),i=n(5686),c=n(5948);const l=({resource:e})=>{const{jobs:t}=Object(r.Le)(e);return a.createElement(i.a,null,a.createElement(c.a,{obj:e,jobs:t}))},u=e=>{const t=Object(s.f)(e);if(!t||t.kind!==o.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{resource:t}),!0,void 0]}},5823:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(1410),r=n(10),s=n(5667),i=n(5594);const c=({pod:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(s.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(o.PodResourceSummary,{pod:e})),a.createElement("div",{className:"resource-overview__details"},a.createElement(o.PodDetailsList,{pod:e}))),l=e=>{const t=Object(i.f)(e);if(!t||t.kind!==r.PodModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{pod:t}),!0,void 0]}},5824:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return h}));var a=n(0),o=n(1923),r=n(7),s=n(14),i=n(5722),c=n(5847),l=n(13),u=n(10),d=n(8),p=n(1402),m=n(172),b=n(5594);const v=[Object(d.Hb)(u.DeploymentConfigModel),Object(d.Hb)(u.DeploymentModel),Object(d.Hb)(u.DaemonSetModel),Object(d.Hb)(u.StatefulSetModel),Object(d.Hb)(p.l)],g=e=>{var t,n,o,i,c;const u=Object(b.f)(e),p=null==u?void 0:u.kind,m=null===(t=null==u?void 0:u.metadata)||void 0===t?void 0:t.name,g=null===(n=null==u?void 0:u.metadata)||void 0===n?void 0:n.namespace,{t:h}=Object(r.useTranslation)(),f=u?Object(d.Db)(u):void 0,E=f?Object(d.vb)(f):void 0,y=(null==E?void 0:E.crd)?f:p,[O,j]=Object(l.hc)({group:null==E?void 0:E.apiGroup,resource:null==E?void 0:E.plural,namespace:g,name:m,verb:"update"});if(!u||!v.includes(Object(d.Db)(u)))return null;const k=null===(c=null===(i=null===(o=null==u?void 0:u.spec)||void 0===o?void 0:o.template)||void 0===i?void 0:i.spec)||void 0===c?void 0:c.containers,_=null==k?void 0:k.map(e=>e.name),S=!(null==k?void 0:k.every(e=>e.readinessProbe||e.livenessProbe||e.startupProbe))&&O&&!j,T=`/k8s/ns/${g}/${y}/${m}/containers/${_[0]}/health-checks`,N=(null==_?void 0:_.length)>1?h("topology~Not all Containers have health checks to ensure your application is running correctly."):h("topology~Container {{containersName}} does not have health checks to ensure your application is running correctly.",{containersName:_});return S?{title:h("topology~Health checks"),dismissible:!0,content:a.createElement(a.Fragment,null,N," ",a.createElement(s.Link,{to:T},h("topology~Add health checks"))),variant:"custom"}:null},h=e=>{var t,n,s,p,v,g,h;const{t:f}=Object(r.useTranslation)(),E=Object(m.a)(),y=Object(b.f)(e),O=null===(t=null==y?void 0:y.metadata)||void 0===t?void 0:t.name,j=null===(n=null==y?void 0:y.metadata)||void 0===n?void 0:n.namespace,[k,_]=Object(l.hc)({group:u.DeploymentModel.apiGroup,resource:u.DeploymentModel.plural,namespace:j,name:O,verb:"patch"});if(!y||Object(d.Hb)(u.DeploymentModel)!==Object(d.Db)(y))return null;const S=(null!==(p=null===(s=y.status)||void 0===s?void 0:s.conditions)&&void 0!==p?p:[]).find(e=>"ReplicaFailure"===e.type),T=null!==(v=null==S?void 0:S.message)&&void 0!==v?v:"",N=null!==(h=null===(g=T.split(":"))||void 0===g?void 0:g[3])&&void 0!==h?h:"";let R;N.includes("limits")?R=c.a.EditResourceLimits(u.DeploymentModel,y):N.includes("pods")&&(R=i.a.ModifyCount(u.DeploymentModel,y));const w=R&&k&&!_,C=null==R?void 0:R.cta,P=w?a.createElement(o.a,{onClick:()=>{E("Resource Quota Warning Alert Action Link Clicked"),C()}},R.label):void 0;return S?{title:f("topology~Resource Quotas"),dismissible:!0,content:T,actionLinks:P,variant:"warning"}:null}},5825:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),o=n(7),r=n(91),s=n(5),i=n(108),c=n(15),l=n(2221),u=n(5594),d=n(5686);const p=({vpas:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.ub,{text:t("topology~VerticalPodAutoscalers")}),a.createElement("ul",{className:"list-group"},e.map(e=>a.createElement("li",{key:e.metadata.name,className:"list-group-item"},a.createElement(s.hb,{groupVersionKind:Object(r.d)(e),name:e.metadata.name,namespace:e.metadata.namespace})))))},m=e=>{const[t]=Object(i.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},isList:!0,namespaced:!0});if(e.getType()!==l.y)return[void 0,!0,void 0];const n=Object(u.f)(e),o=Object(c.Ld)(t,n);return[o.length>0?a.createElement(d.a,null,a.createElement(p,{vpas:o})):void 0,!0,void 0]}},5828:function(e,t,n){},5829:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i}));var a=n(2221);const o=a.m,r=a.k,s=a.l,i="KafkaConnection"},5830:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(7),s=n(5),i=n(10),c=n(15),l=n(5594),u=n(5763);t.a=({element:e,radius:t,x:n,y:d})=>{var p,m,b;const v=a.useRef(),{t:g}=Object(r.useTranslation)(),h=Object(l.f)(e),{buildConfigs:f}=Object(c.ve)(h),E=null===(m=null===(p=null==f?void 0:f[0])||void 0===p?void 0:p.builds)||void 0===m?void 0:m[0];if(!E)return null;const y=g("topology~Build {{status}}",{status:null===(b=E.status)||void 0===b?void 0:b.phase}),O=Object(s.uc)(i.BuildModel,E.metadata.name,E.metadata.namespace)+"/logs";return a.createElement(o.a,{triggerRef:v,content:y,position:o.b.left},a.createElement("g",{ref:v},a.createElement(u.a,{x:n,y:d,radius:t,ariaLabel:y,href:O},a.createElement(c.cc,{status:E.status.phase,iconOnly:!0,noTooltip:!0}))))}},5831:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(7),s=n(5901),i=n(108),c=n(10),l=n(8),u=n(5594),d=n(5694);t.a=({element:e,radius:t,x:n,y:p})=>{const m=a.useRef(),{t:b}=Object(r.useTranslation)(),[v]=Object(i.a)({isList:!0,kind:Object(l.Hb)(c.ConsoleLinkModel),optional:!0}),{cheURL:g,cheIconURL:h}=Object(u.c)(v),f=e.getData().data,{editURL:E,vcsURI:y,vcsRef:O,contextDir:j}=f,k=!!g,_=E||Object(u.d)(y,O,g,j),S=Object(s.a)(_,t,b,k,h);if(!S)return null;const T=b("topology~Edit source code");return a.createElement(o.a,{triggerRef:m,content:T,position:o.b.right},a.createElement("g",{ref:m},a.createElement(d.a,{x:n,y:p,radius:t,href:_,external:!0,ariaLabel:T},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},S))))}},5832:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(5585),s=n(7),i=n(31),c=n(53),l=n(15),u=n(5694);t.a=Object(i.connect)(null,e=>({showMonitoringOverview:()=>e(Object(c.j)("Observe"))}))(({element:e,radius:t,x:n,y:i,showMonitoringOverview:c})=>{const d=a.useRef(),{t:p}=Object(s.useTranslation)(),m=e.getData().data,{monitoringAlerts:b}=m,v=Object(l.Lc)(b),g=Object(l.Hd)(v);if(Object(l.oe)(g))return null;const h=p("topology~Monitoring alert");return a.createElement(o.a,{triggerRef:d,key:"monitoringAlert",content:h,position:o.b.left},a.createElement("g",{ref:d},a.createElement(u.a,{x:n,y:i,radius:t,onClick:t=>{t.stopPropagation(),c(),e.getGraph().getController().fireEvent(r.SELECTION_EVENT,[e.getId()])},ariaLabel:h},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},a.createElement(l.k,{severityAlertType:g,fontSize:t})))))})},5833:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(566),s=n(7),i=n(5951),c=n(5594),l=n(5694);t.a=({element:e,radius:t,x:n,y:u})=>{const d=a.useRef(),{t:p}=Object(s.useTranslation)(),m=Object(c.f)(e),b=Object(i.a)(m);if(!b)return null;const v=p("topology~Open URL");return a.createElement(o.a,{triggerRef:d,key:"route",content:v,position:o.b.right},a.createElement("g",{ref:d},a.createElement(l.a,{x:n,y:u,radius:t,href:b,external:!0,ariaLabel:v},a.createElement("g",{transform:`translate(-${t/2}, -${t/2})`},a.createElement(r.a,{style:{fontSize:t},title:v})))))}},5838:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return R}));var a=n(0),o=n(137),r=n(116),s=n(16),i=n(22),c=n(240),l=n(7),u=n(13),d=n(694),p=n(4374),m=n(108),b=n(10),v=n(8),g=n(5853),h=n(5854),f=n(5855),E=n(5858),y=n(5859),O=n(5658),j=n(5860),k=n(5864);const _=[{Card:h.a},{Card:f.a},{Card:k.a}],S=[{Card:g.a},{Card:E.a}],T=[{Card:y.a}],N=(e,t)=>r.a(t,t=>{if("NamespaceDashboard"!==t.spec.location)return!1;const n=s.a(t,"spec.namespaceDashboard.namespaces"),a=s.a(t,"spec.namespaceDashboard.namespaceSelector");return!(!i.a(n)||!i.a(a))||(!!c.a(n,e.metadata.name)||!i.a(a)&&new v.e(a).matches(e))}),R=({obj:e})=>{const{t:t}=Object(l.useTranslation)(),[n]=Object(u.jc)(),[r]=Object(m.a)({isList:!0,kind:Object(v.Hb)(b.ConsoleLinkModel),optional:!0}),s=N(e,r),i={obj:e,namespaceLinks:s},c=!!s.length,g=a.useMemo(()=>c?[{Card:j.a},...T]:T,[c]);return a.createElement(a.Fragment,null,"dev"===n&&a.createElement(o.b,null,a.createElement("title",null,t("public~Project overview"))),a.createElement(O.a.Provider,{value:i},a.createElement(d.default,null,a.createElement(p.default,{mainCards:_,leftCards:S,rightCards:g}))))}},5847:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(29),o=n(77),r=n(131),s=n(5),i=n(10),c=n(8),l=n(769),u=n(5742),d=n(2240);const p=(e,t)=>Object(o.p)({model:e,resource:t,data:[{path:"/metadata/annotations/openshift.io~1deployment.phase",op:"replace",value:"New"},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"add",value:""},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"remove"},{path:"/metadata/annotations/openshift.io~1deployment.status-reason",op:"remove"}]}),m={EditDeployment:(e,t)=>({id:"edit-deployment",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(s.sc)(t,e.crd?Object(c.Hb)(e):e.kind)+"/form"},accessReview:Object(s.Eb)(e,t,"update")}),UpdateStrategy:(e,t)=>({id:"edit-update-strategy",label:a.a.t("console-app~Edit update strategy"),cta:()=>Object(r.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),PauseRollout:(e,t)=>({id:"pause-rollout",label:t.spec.paused?a.a.t("console-app~Resume rollouts"):a.a.t("console-app~Pause rollouts"),cta:()=>Object(s.Ac)(e,t).catch(e=>Object(r.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),RestartRollout:(e,t)=>({id:"restart-rollout",label:a.a.t("console-app~Restart rollout"),cta:()=>((e,t)=>{const n=[];return"annotations"in t.spec.template.metadata||n.push({path:"/spec/template/metadata/annotations",op:"add",value:{}}),n.push({path:"/spec/template/metadata/annotations/openshift.openshift.io~1restartedAt",op:"add",value:new Date}),Object(o.p)({model:e,resource:t,data:n})})(e,t).catch(e=>Object(r.s)({error:e.message})),disabled:t.spec.paused||!1,disabledTooltip:"The deployment is paused and cannot be restarted.",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),StartDCRollout:(e,t)=>({id:"start-rollout",label:a.a.t("console-app~Start rollout"),cta:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(c.jb)(i.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(r.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),EditResourceLimits:(e,t)=>({id:"edit-resource-limits",label:a.a.t("console-app~Edit resource limits"),cta:()=>Object(u.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),CreateServiceBinding:(e,t)=>({id:"create-service-binding",label:a.a.t("console-app~Create Service Binding"),cta:()=>Object(d.a)({model:e,source:t}),accessReview:Object(s.Eb)(l.a,t,"create")})}},5848:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));const a=({group:e,version:t,kind:n})=>[e||"core",t,n].join("~"),o=e=>a({group:e.apiGroup,version:e.apiVersion,kind:e.kind}),r=e=>{const t=e.split("~");if(t.length>3)throw new Error("Provided reference is invalid.");const[n,a,o]=t;return{group:n,version:a,kind:o}},s=e=>e&&"string"!=typeof e?a(e):e},5851:function(e,t,n){"use strict";var a=n(0),o=n(155),r=n(40),s=n(1945),i=n(5),c=(n(5871),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=e=>{var{badge:t,title:n,children:l,listComponent:u}=e,d=c(e,["badge","title","children","listComponent"]);return a.createElement("div",{className:"odc-project-list-page"},a.createElement(i.Z,{title:n,badge:t},l),a.createElement(o.a,{className:"co-divider"}),a.createElement(r.c,Object.assign({},d,{showTitle:!1,kind:"Project",ListComponent:u||s.ProjectsTable,canCreate:!1,filterLabel:"by name or display name",textFilter:"project-name"})))}},5852:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(5);const r=()=>Promise.all([n.e(17),n.e(25),n.e(0),n.e(1),n.e(4),n.e(3),n.e(6),n.e(5),n.e(7),n.e(11),n.e(8),n.e(9),n.e(10),n.e(16),n.e(14),n.e(12),n.e(2),n.e(13),n.e(15),n.e(18),n.e(26),n.e(33),n.e(65),n.e(237)]).then(n.bind(null,6058)).then(e=>e.OverviewListPage),s=e=>a.createElement(o.c,Object.assign({loader:r},e))},5853:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(160),o=n(4440),r=n(501),s=n(0),i=n(18),c=n.n(i),l=n(7),u=n(192),d=n(434),p=n(295),m=n(296),b=n(19),v=n(4379),g=n(2239),h=n(15),f=n(5),E=n(10),y=n(5658),O=n(14);const j=()=>{var e,t,n;const{obj:i}=s.useContext(y.a),j=a.a(i.metadata.labels).sort(),k=o.a(j,3),_=r.a(i.metadata.labels,k),S=null===(e=i.metadata.annotations)||void 0===e?void 0:e["openshift.io/description"],T=Object(f.uc)(E.ProjectModel,i.metadata.name)+"/details",N=null===(n=null===(t=i.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n["maistra.io/member-of"],{t:R}=Object(l.useTranslation)();return s.createElement(u.a,{"data-test-id":"details-card",isClickable:!0,isSelectable:!0},s.createElement(d.a,{actions:{actions:s.createElement(s.Fragment,null,s.createElement(O.Link,{to:T,"data-test":"details-card-view-all"},R("public~View all"))),hasNoOffset:!1,className:"co-overview-card__actions"}},s.createElement(p.a,null,R("public~Details"))),s.createElement(m.a,null,s.createElement(v.default,null,s.createElement(g.b,{isLoading:!i,title:R("public~Name")},Object(h.dd)(i)),s.createElement(g.b,{isLoading:!i,title:R("public~Requester")},Object(h.Bd)(i)||s.createElement("span",{className:"text-muted"},R("public~No requester"))),s.createElement(g.b,{isLoading:!i,title:R("public~Labels")},s.createElement("div",{className:"co-project-dashboard__details-labels"},s.createElement(f.L,{kind:E.ProjectModel.kind,labels:_}),j.length>3&&s.createElement(b.a,{variant:"link"},s.createElement(O.Link,{to:T},R("public~View all"))))),s.createElement(g.b,{isLoading:!i,title:R("public~Description")},s.createElement("span",{className:c()({"text-muted":!S,"co-project-dashboard-details-card__description":S})},S||R("public~No description"))),N&&s.createElement(g.b,{isLoading:!i,title:R("public~Service mesh")},s.createElement(h.X,null)," ",R("public~Service mesh enabled")))))}},5854:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(0),o=n(7),r=n(192),s=n(434),i=n(295),c=n(5387),l=n(4364),u=n(15),d=n(139),p=n(69),m=n(5658),b=n(5738),v=n(5793);const g=()=>{var e;const{obj:t}=a.useContext(m.a),n=Object(p.z)(p.f),g=a.useMemo(()=>{return(e=n,e.filter(p.e)).find(e=>"Image Vulnerabilities"===e.properties.title);var e},[n]),{metadata:{name:h}}=t,{t:f}=Object(o.useTranslation)();return a.createElement(r.a,{"data-test-id":"status-card",className:"co-overview-card--gradient"},a.createElement(s.a,null,a.createElement(i.a,null,f("public~Status"))),t?a.createElement(a.Fragment,null,a.createElement(l.default,null,a.createElement(c.a,{className:"co-overview-status__health",hasGutter:!0},a.createElement("div",{className:"co-status-card__health-item","data-test":"project-status"},a.createElement(u.cc,{status:null===(e=t.status)||void 0===e?void 0:e.phase,className:"co-icon-and-text--lg"})),g&&a.createElement(b.c,{subsystem:g.properties,namespace:h}))),a.createElement(v.a,{labelSelector:{namespace:h}})):a.createElement(d.g,null))}},5855:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),o=n(7),r=n(192),s=n(434),i=n(295),c=n(4365),l=n(762),u=n(13),d=n(5),p=n(5658),m=n(5744),b=n(5806),v=n(4366),g=n(5857);const h=[g.d,g.e],f=()=>{var e;const{t:t}=Object(o.useTranslation)(),{obj:n}=a.useContext(p.a),f=null===(e=null==n?void 0:n.metadata)||void 0===e?void 0:e.name,[E,y]=a.useMemo(()=>[Object(m.d)(f),Object(m.b)(f)],[f]),[O]=Object(u.kc)(u.Fb);return a.createElement(r.a,{"data-test-id":"utilization-card",isClickable:!0,isSelectable:!0},a.createElement(s.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(v.UtilizationDurationDropdown,null)),hasNoOffset:!1,className:void 0}},a.createElement(i.a,null,t("public~Utilization"))),a.createElement(c.default,null,a.createElement(g.f.Provider,{value:f},a.createElement(b.b,{title:t("public~CPU"),humanizeValue:d.Yb,utilizationQuery:E[m.a.CPU_USAGE],requestQuery:E[m.a.CPU_REQUESTS],TopConsumerPopover:g.a,namespace:f}),a.createElement(b.b,{title:t("public~Memory"),humanizeValue:d.Wb,utilizationQuery:E[m.a.MEMORY_USAGE],requestQuery:E[m.a.MEMORY_REQUESTS],byteDataType:l.a.BinaryBytes,TopConsumerPopover:g.c,namespace:f}),a.createElement(b.b,{title:t("public~Filesystem"),humanizeValue:d.Wb,utilizationQuery:E[m.a.FILESYSTEM_USAGE],byteDataType:l.a.BinaryBytes,TopConsumerPopover:g.b,namespace:f}),a.createElement(b.a,{title:t("public~Network transfer"),humanizeValue:d.ac,queries:y[m.a.NETWORK_UTILIZATION],TopConsumerPopovers:h,namespace:f}),a.createElement(b.b,{title:t("public~Pod count"),humanizeValue:d.bc,utilizationQuery:E[m.a.POD_COUNT],namespace:f}),O.map(({uid:e,properties:t})=>{var n,o,r;return a.createElement(b.b,{key:e,title:t.title,humanizeValue:t.humanize,utilizationQuery:t.getUtilizationQuery(f),requestQuery:null===(n=t.getRequestQuery)||void 0===n?void 0:n.call(t,f),limitQuery:null===(o=t.getLimitQuery)||void 0===o?void 0:o.call(t,f),totalQuery:null===(r=t.getTotalQuery)||void 0===r?void 0:r.call(t,f),namespace:f,TopConsumerPopover:t.TopConsumerPopover})}))))}},5856:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return g}));var a=n(0),o=n(7),r=n(5745),s=n(5735),i=n(10),c=n(5);const l=a.createContext(".+"),u=(e,t,n)=>{const o=a.useContext(l);return a.useMemo(()=>{const a=Object(r.c)(o);return[{query:a[e],model:i.ProjectModel,metric:"namespace"},{query:a[t],model:i.PodModel,metric:"pod"},{query:a[n],model:i.NodeModel,metric:"instance"}]},[n,o,e,t])},d=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(r.a.PROJECTS_BY_CPU,r.a.PODS_BY_CPU,r.a.NODES_BY_CPU);return a.createElement(s.b,{title:t("public~CPU"),current:e,consumers:n,humanize:c.Yb})},p=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(r.a.PROJECTS_BY_MEMORY,r.a.PODS_BY_MEMORY,r.a.NODES_BY_MEMORY);return a.createElement(s.b,{title:t("public~Memory"),current:e,consumers:n,humanize:c.Wb})},m=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(r.a.PROJECTS_BY_STORAGE,r.a.PODS_BY_STORAGE,r.a.NODES_BY_STORAGE);return a.createElement(s.b,{title:t("public~Filesystem"),current:e,consumers:n,humanize:c.Wb})},b=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=a.useContext(l),u=a.useMemo(()=>{const e=Object(r.c)(n);return[{query:e[r.a.PROJECTS_BY_PODS],model:i.ProjectModel,metric:"namespace"},{query:e[r.a.NODES_BY_PODS],model:i.NodeModel,metric:"node"}]},[n]);return a.createElement(s.b,{title:t("public~Pod count"),current:e,consumers:u,humanize:c.bc})},v=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(r.a.PROJECTS_BY_NETWORK_IN,r.a.PODS_BY_NETWORK_IN,r.a.NODES_BY_NETWORK_IN);return a.createElement(s.b,{title:t("public~Network in"),current:e,consumers:n,humanize:c.ac})},g=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(r.a.PROJECTS_BY_NETWORK_OUT,r.a.PODS_BY_NETWORK_OUT,r.a.NODES_BY_NETWORK_OUT);return a.createElement(s.b,{title:t("public~Network out"),current:e,consumers:n,humanize:c.ac})}},5857:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return v}));var a=n(0),o=n(7),r=n(5735),s=n(5744),i=n(10),c=n(5);const l=a.createContext(""),u=e=>{const t=a.useContext(l);return{consumers:a.useMemo(()=>[{query:Object(s.c)(t)[e],model:i.PodModel,metric:"pod"}],[e,t]),namespace:t}},d=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(s.a.PODS_BY_CPU);return a.createElement(r.b,Object.assign({title:t("public~CPU"),current:e,humanize:c.Yb},n))},p=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(s.a.PODS_BY_MEMORY);return a.createElement(r.b,Object.assign({title:t("public~Memory"),current:e,humanize:c.Wb},n))},m=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(s.a.PODS_BY_FILESYSTEM);return a.createElement(r.b,Object.assign({title:t("public~Filesystem"),current:e,humanize:c.Wb},n))},b=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(s.a.PODS_BY_NETWORK_IN);return a.createElement(r.b,Object.assign({title:t("public~Network in"),current:e,humanize:c.ac},n))},v=({current:e})=>{const{t:t}=Object(o.useTranslation)(),n=u(s.a.PODS_BY_NETWORK_OUT);return a.createElement(r.b,Object.assign({title:t("public~Network out"),current:e,humanize:c.ac},n))}},5858:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(0),o=n(16),r=n(7),s=n(5670),i=n(406),c=n(192),l=n(434),u=n(295),d=n(296),p=n(967),m=n(10),b=n(4378),v=n(2231),g=n(5),h=n(8),f=n(15),E=n(5658),y=n(69),O=n(13),j=n(108),k=n(198);const _=Object(s.a)(({projectName:e,watchK8sResource:t,stopWatchK8sResource:n,resources:r,model:s,mapper:c,additionalResources:l,additionalDynamicResources:u})=>{var d;a.useEffect(()=>{if(e){const a=((e,t)=>({kind:e.crd?Object(h.Hb)(e):e.kind,isList:!0,prop:"resource",namespace:t}))(s,e);return t(a),l&&l.forEach(n=>t(Object.assign(Object.assign({},n),{namespace:e}))),()=>{n(a),l&&l.forEach(n)}}},[t,n,e,s,l]);const p=o.a(r.resource,"data",[]),m=o.a(r.resource,"loaded"),v=o.a(r.resource,"loadError"),g=l?l.reduce((e,t)=>(e[t.prop]=o.a(r[t.prop],"data"),e),{}):{},f=!l||l.filter(e=>!e.optional).every(e=>o.a(r[e.prop],"loaded")),E=!!l&&l.filter(e=>!e.optional).some(e=>!!o.a(r[e.prop],"loadError")),y=Object(j.b)(u||{}),O=null===(d=Object.values(y).find(e=>e.loadError))||void 0===d?void 0:d.loadError,k=Object.keys(y).every(e=>y[e].loaded);return a.createElement(i.a,null,a.createElement(b.ResourceInventoryItem,{kind:s,isLoading:!(e&&m&&f&&k),namespace:e,error:!!v||E||O,resources:p,additionalResources:g,mapper:c,dataTest:"resource-inventory-item"}))}),S=()=>{const e=Object(y.z)(y.t),[t]=Object(O.kc)(O.mb),[n]=Object(O.kc)(O.Eb),{obj:o}=a.useContext(E.a),s=Object(f.dd)(o),b=Object(g.Dc)({group:m.SecretModel.apiGroup,resource:m.SecretModel.plural,namespace:s,verb:"list"}),{t:h}=Object(r.useTranslation)();return a.createElement(c.a,{"data-test-id":"inventory-card"},a.createElement(l.a,null,a.createElement(u.a,null,h("public~Inventory"))),a.createElement(d.a,null,a.createElement(p.a,{hasGutter:!0},a.createElement(_,{projectName:s,model:m.DeploymentModel}),a.createElement(_,{projectName:s,model:m.DeploymentConfigModel}),a.createElement(_,{projectName:s,model:m.StatefulSetModel}),a.createElement(_,{projectName:s,model:m.PodModel,mapper:v.getPodStatusGroups}),a.createElement(_,{projectName:s,model:m.PersistentVolumeClaimModel,mapper:v.getPVCStatusGroups}),a.createElement(_,{projectName:s,model:m.ServiceModel}),a.createElement(_,{projectName:s,model:m.RouteModel}),a.createElement(_,{projectName:s,model:m.ConfigMapModel}),b&&a.createElement(_,{projectName:s,model:m.SecretModel}),a.createElement(_,{projectName:s,model:m.VolumeSnapshotModel,mapper:v.getVSStatusGroups}),e.map(e=>a.createElement(_,{key:e.properties.model.kind,projectName:s,model:e.properties.model,mapper:e.properties.mapper,additionalResources:e.properties.additionalResources})),t.map(e=>a.createElement(_,{key:e.properties.model.kind,projectName:s,model:e.properties.model,mapper:e.properties.mapper,additionalDynamicResources:e.properties.additionalResources})),n.map(({uid:e,properties:{component:t}})=>a.createElement(k.a,{key:e},a.createElement(i.a,null,a.createElement(t,{projectName:s})))))))}},5859:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(0),o=n(367),r=n(16),s=n(31),i=n(192),c=n(434),l=n(295),u=n(1950),d=n(5670),p=n(10),m=n(69),b=n(13),v=n(5734),g=n(5658),h=n(15),f=n(7),E=n(14);const y=Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,projectName:o,viewEvents:r})=>(a.useEffect(()=>{if(o){const n=(e=>({isList:!0,kind:p.EventModel.kind,prop:"events",namespace:e}))(o);return e(n),()=>{t(n)}}},[e,t,o]),a.createElement(u.RecentEventsBody,{events:n.events,moreLink:r}))),O=Object(s.connect)(e=>({models:e.k8s.getIn(["RESOURCES","models"])}))(Object(d.a)(({watchK8sResource:e,stopWatchK8sResource:t,resources:n,projectName:s,models:i})=>{const c=Object(m.z)(m.k),[l]=Object(b.kc)(b.lb),d=a.useMemo(()=>[...c,...l].filter(e=>{const t=i.get(e.properties.k8sResource.kind);return t&&t.namespaced}),[c,l,i]);a.useEffect(()=>{if(s)return d.forEach((t,n)=>{e(Object(v.a)(Object.assign(Object.assign({},t.properties.k8sResource),{namespace:s}),n))}),()=>{d.forEach((e,n)=>{t(Object(v.a)(e.properties.k8sResource,n))})}},[e,t,s,d]);const p=a.useMemo(()=>o.a(d.map((e,t)=>r.a(n,[Object(v.a)(e.properties.k8sResource,t).prop,"data"],[]).filter(t=>!e.properties.isActivity||e.properties.isActivity(t)).map(t=>{var n,a,o,r;return{resource:t,timestamp:e.properties.getTimestamp?e.properties.getTimestamp(t):null,loader:null===(a=null===(n=e)||void 0===n?void 0:n.properties)||void 0===a?void 0:a.loader,component:null===(r=null===(o=e)||void 0===o?void 0:o.properties)||void 0===r?void 0:r.component}}))),[d,n]),g=a.useMemo(()=>d.every((e,t)=>r.a(n,[Object(v.a)(e.properties.k8sResource,t).prop,"loaded"])),[d,n]);return a.createElement(u.OngoingActivityBody,{loaded:s&&g&&0!==i.size,resourceActivities:p})})),j=()=>{const{obj:e}=a.useContext(g.a),t=Object(h.dd)(e),n=`/k8s/ns/${t}/events`,{t:o}=Object(f.useTranslation)();return a.createElement(i.a,{"data-test-id":"activity-card",className:"co-overview-card--gradient",isClickable:!0,isSelectable:!0},a.createElement(c.a,{actions:{actions:a.createElement(a.Fragment,null,a.createElement(E.Link,{to:n,"data-test":"view-events-link"},o("public~View events"))),hasNoOffset:!1,className:"co-overview-card__actions"}},a.createElement(l.a,null,o("public~Activity"))),a.createElement(u.default,{className:"co-project-dashboard__activity-body"},a.createElement(O,{projectName:t}),a.createElement(y,{projectName:t,viewEvents:n})))}},5860:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),o=n(461),r=n(7),s=n(192),i=n(434),c=n(295),l=n(296),u=n(5861),d=n(5863),p=n(5658);const m=()=>{const{namespaceLinks:e}=a.useContext(p.a),{t:t}=Object(r.useTranslation)();return a.createElement(s.a,{"data-test-id":"launcher-card"},a.createElement(i.a,null,a.createElement(c.a,null,t("public~Launcher"))),a.createElement(l.a,null,a.createElement(u.a,null,o.a(e,"spec.text").map(e=>a.createElement(d.a,{key:e.metadata.uid,consoleLink:e})))))}},5861:function(e,t,n){"use strict";var a=n(0);n(5862);t.a=({children:e})=>a.createElement("div",{className:"co-launcher-card__body"},e)},5862:function(e,t,n){},5863:function(e,t,n){"use strict";var a=n(0),o=n(173);t.a=({consoleLink:e})=>a.createElement(o.a,{additionalClassName:"co-launcher-card__item",href:e.spec.href,text:e.spec.text,dataTestID:"launcher-item"})},5864:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),o=n(7),r=n(192),s=n(434),i=n(295),c=n(296),l=n(967),u=n(406),d=n(976),p=n(5865),m=n(5867),b=n(5870),v=n(10),g=n(5658);const h=()=>{const{obj:e}=a.useContext(g.a),[t,n,h]=Object(d.xb)({groupVersionKind:{kind:v.ResourceQuotaModel.kind,version:v.ResourceQuotaModel.apiVersion},namespace:e.metadata.name,isList:!0}),[f,E,y]=Object(d.xb)({groupVersionKind:{kind:v.AppliedClusterResourceQuotaModel.kind,version:v.AppliedClusterResourceQuotaModel.apiVersion,group:v.AppliedClusterResourceQuotaModel.apiGroup},namespace:e.metadata.name,isList:!0}),{t:O}=Object(o.useTranslation)();return a.createElement(r.a,{"data-test-id":"resource-quotas-card"},a.createElement(s.a,null,a.createElement(i.a,null,O("public~ResourceQuotas"))),a.createElement(c.a,null,a.createElement(p.a,{error:!!h,isLoading:!n},t.length?a.createElement(l.a,{hasGutter:!0},t.map(e=>a.createElement(u.a,{key:e.metadata.uid},a.createElement(m.a,{resourceQuota:e})))):void 0)),a.createElement(s.a,null,a.createElement(i.a,null,O("public~AppliedClusterResourceQuotas"))),a.createElement(c.a,null,a.createElement(p.a,{error:!!y,isLoading:!E,noText:O("public~No AppliedClusterResourceQuotas")},f.length?a.createElement(l.a,{hasGutter:!0},f.map(t=>a.createElement(u.a,{key:t.metadata.uid},a.createElement(b.a,{resourceQuota:t,namespace:e.metadata.name})))):void 0)))}},5865:function(e,t,n){"use strict";var a=n(0),o=n(7);n(5866);t.a=({error:e,isLoading:t,noText:n,children:r})=>{let s;const{t:i}=Object(o.useTranslation)();return e?s=a.createElement("div",{className:"text-secondary"},i("console-shared~Not available")):t?s=a.createElement("div",{className:"skeleton-quota"}):a.Children.count(r)||(s=a.createElement("div",{className:"text-secondary"},n||i("console-shared~No ResourceQuotas"))),a.createElement(a.Fragment,null,s||r)}},5866:function(e,t,n){},5867:function(e,t,n){"use strict";var a=n(0),o=n(516),r=n(164),s=n(1921),i=n(5746),c=n(1407),l=n(99),u=n(10),d=n(5749);t.a=({resourceQuota:e})=>{var t,n,p,m,b;const v=Object.keys(null!==(n=null===(t=e.status)||void 0===t?void 0:t.hard)&&void 0!==n?n:{}),[g,h]=a.useState(v.length<=4),f=null===(p=e.spec)||void 0===p?void 0:p.scopes;return a.createElement(a.Fragment,null,a.createElement(o.a,{hasGutter:!0},a.createElement(r.a,{isFilled:!0},a.createElement(s.a,{onToggle:(e,t)=>h(t),isExpanded:g,toggleContent:a.createElement(l.ResourceLink,{groupVersionKind:{kind:u.ResourceQuotaModel.kind,version:u.ResourceQuotaModel.apiVersion},name:e.metadata.name,namespace:e.metadata.namespace,inline:!0,truncate:!0,dataTest:"resource-quota-link"})})),a.createElement(r.a,null,a.createElement(d.a,{hard:null===(m=e.status)||void 0===m?void 0:m.hard,used:null===(b=e.status)||void 0===b?void 0:b.used}))),g&&a.createElement(a.Fragment,null,f&&a.createElement(c.QuotaScopesInline,{scopes:f}),a.createElement(i.a,{resourceQuota:e})))}},5868:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(5748),s=n(5674);n(5712);t.a=({clusterResourceQuota:e})=>{var t,n,i;const{t:c}=Object(o.useTranslation)(),l=Object.keys(null!==(i=null===(n=null===(t=e.status)||void 0===t?void 0:t.total)||void 0===n?void 0:n.hard)&&void 0!==i?i:{}).map(t=>{var n;const o=e.status.total.hard[t],i=null===(n=e.status.total.used)||void 0===n?void 0:n[t],{label:c,percent:l}=Object(s.a)({resourceName:t,used:i,hard:o});return a.createElement("div",{key:t,className:"co-resource-quota__chart","data-test":"resource-quota-gauge-chart"},a.createElement(r.a,{data:[{x:"Used",y:l},{x:"Unused",y:100-l}],title:t,label:c}))});return a.createElement("div",{className:"co-resource-quota-chart-row"},l.length?l:a.createElement(a.Fragment,null,c("console-app~No quota")))}},5869:function(e,t,n){},5870:function(e,t,n){"use strict";var a=n(0),o=n(516),r=n(164),s=n(1921),i=n(5747),c=n(1407),l=n(99),u=n(10),d=n(5749);t.a=({resourceQuota:e,namespace:t})=>{var n,p,m,b,v,g,h,f,E;const y=Object.keys(null!==(m=null===(p=null===(n=e.status)||void 0===n?void 0:n.total)||void 0===p?void 0:p.hard)&&void 0!==m?m:{}),[O,j]=a.useState(y.length<=4),k=null===(v=null===(b=null==e?void 0:e.spec)||void 0===b?void 0:b.quota)||void 0===v?void 0:v.scopes;return a.createElement(a.Fragment,null,a.createElement(o.a,{hasGutter:!0},a.createElement(r.a,{isFilled:!0},a.createElement(s.a,{onToggle:(e,t)=>j(t),isExpanded:O,toggleContent:a.createElement(l.ResourceLink,{groupVersionKind:{kind:u.AppliedClusterResourceQuotaModel.kind,version:u.AppliedClusterResourceQuotaModel.apiVersion,group:u.AppliedClusterResourceQuotaModel.apiGroup},name:e.metadata.name,namespace:t,inline:!0,truncate:!0})})),a.createElement(r.a,null,a.createElement(d.a,{hard:null===(h=null===(g=e.status)||void 0===g?void 0:g.total)||void 0===h?void 0:h.hard,used:null===(E=null===(f=e.status)||void 0===f?void 0:f.total)||void 0===E?void 0:E.used}))),O&&a.createElement(a.Fragment,null,k&&a.createElement(c.QuotaScopesInline,{scopes:k}),a.createElement(i.a,{appliedClusterResourceQuota:e,namespace:t})))}},5871:function(e,t,n){},5872:function(e,t,n){"use strict";n(50),n(5),n(8)},5873:function(e,t,n){"use strict";var a=n(0),o=n(5585);const r=[];t.a=(e=200,t=200,n=r)=>{const[s,i]=a.useState(!1),c=a.useRef(!0);a.useEffect(()=>()=>{c.current=!1},[]),a.useEffect(()=>{i(!1)},n);const l=a.useRef();return[s,Object(o.useCallbackRef)(a.useCallback(n=>{if(n){let a;const o=(e,t)=>{clearTimeout(l.current),clearTimeout(a),null!=t?a=window.setTimeout(()=>{clearTimeout(l.current),i(e)},t):i(e)},r=()=>{o(!0,e)},s=()=>{o(!1,t)};return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",s),()=>{n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",s),clearTimeout(a),c.current&&(l.current=window.setTimeout(()=>{c.current&&i(!1)},Math.max(e,t)))}}},[e,t]))]}},5874:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(0),o=n(4),r=n(5585),s=n(5841),i=n.n(s),c=n(5668),l=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const d=Math.PI/180,p=1.5*Math.PI,m=32,b=Object(c.a)(e=>{const{element:t,onKeepAlive:n,onCreate:s,ConnectorComponent:c,handleAngle:u=d,handleAngleTop:b=p,handleLength:v=m,contextMenuClass:g,dragItem:h,dragOperation:f,hideConnectorMenu:E}=e,[y,O]=a.useState(null),[j,k]=a.useState(!1),_=a.useRef(),S=a.useMemo(()=>({item:h||{type:"#createConnector#"},operation:f||{type:"#createconnector#"},begin:(e,t)=>(k(!0),t.element),drag:(e,t,n)=>{n.element.raise()},end:(e,t,n)=>l(void 0,void 0,void 0,(function*(){const a=t.getDragEvent();if((Object(r.isNode)(e)||Object(r.isGraph)(e))&&a){const o=yield n.onCreate(n.element,e,a,t.getDropHints());if(o&&o.length&&!E)return void O({element:n.element,target:e,event:a,choices:o})}k(!1),n.onKeepAlive(!1)})),collect:e=>({dragging:!!e.getItem(),event:e.isDragging()?e.getDragEvent():void 0,hints:e.getDropHints()})}),[k,h,f,E]),[{dragging:T,event:N,hints:R},w]=Object(r.useDndDrag)(S,e),[C,P]=Object(r.useHover)(),D=Object(r.useCombineRefs)(w,P);if(!j&&T&&!N)return null;T&&(_.current=R);const x=y?y.event:N;let I,M;if(x)M=new r.Point(x.x,x.y),I=t.getAnchor(r.AnchorEnd.source).getLocation(M);else{const e=t.getBounds(),n=t.getLabelPosition()===r.LabelPosition.right,a=n?new r.Point(e.x+e.width/2,e.y):new r.Point(e.right(),Math.tan(u)*(e.width/2)+e.y+e.height/2);I=t.getAnchor(r.AnchorEnd.source).getLocation(a),M=new r.Point(Math.cos(n?b:u)*v+I.x,Math.sin(n?b:u)*v+I.y)}t.translateFromParent(I),t.translateFromParent(M);const L=a.createElement("g",{className:Object(o.css)(i.a.topologyDefaultCreateConnector),ref:D,onMouseEnter:j?void 0:()=>n(!0),onMouseLeave:j?void 0:()=>n(!1)},a.createElement(c,{startPoint:I,endPoint:M,dragging:T,hints:_.current||[],hover:C}),a.createElement("path",{d:Object(r.hullPath)([[I.x,I.y],[M.x,M.y]],7),fillOpacity:"0"}));return a.createElement(a.Fragment,null,j?a.createElement(r.Layer,{id:r.TOP_LAYER},L):L,y&&a.createElement(r.ContextMenu,{reference:{x:y.event.pageX,y:y.event.pageY},className:g,open:!0,onRequestClose:()=>{k(!1),n(!1)}},(A=y.choices,a.isValidElement(A[0])?y.choices:y.choices.map(e=>a.createElement(r.ContextMenuItem,{key:e.label,onClick:()=>{s(y.element,y.target,y.event,_.current,e)}},e.label)))));var A}),v=(e,t=r.DefaultCreateConnector,n,o)=>r=>{const s=s=>{var{children:i}=s,c=u(s,["children"]);const[l,d]=a.useState(!1),[p,m]=a.useState(!1),v=a.useCallback(()=>d(!0),[]),g=a.useCallback(()=>d(!1),[]),h=a.useCallback(e=>{m(t=>(t&&!e&&g(),e))},[g]);return a.createElement(r,Object.assign({},c,{onShowCreateConnector:v,onHideCreateConnector:g,createConnectorDrag:p}),i,(l||p)&&a.createElement(b,Object.assign({},o,{element:c.element,onCreate:e,onKeepAlive:h,ConnectorComponent:t,contextMenuClass:n})))};return s.displayName=`withCreateConnector(${r.displayName||r.name})`,Object(c.a)(s)}},5875:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5585),o=n(5808),r=n(5874),s=n(2221),i=n(5671),c=n(5672),l=n(5769),u=n(5771),d=n(5981),p=n(5772),m=n(5757);n(5991);const b=(e,t)=>{switch(t){case s.u:return Object(a.withDndDrop)(l.d)(Object(a.withDragNode)(Object(l.k)(t,!1,!1))(Object(a.withSelection)({controlled:!0})(Object(l.n)(o.d)(p.a))));case s.y:return Object(r.a)(Object(l.f)(),u.d)(Object(a.withDndDrop)(l.l)(Object(c.a)("patch")(Object(a.withDragNode)(Object(l.k)(t))(Object(a.withSelection)({controlled:!0})(Object(l.n)(o.a)(m.e))))));case s.v:return Object(a.withTargetDrag)(Object(l.g)(l.b,i.a))(Object(l.n)(o.a)(u.c));case s.t:return u.a;case s.x:return u.f;default:switch(e){case a.ModelKind.graph:return Object(a.withDndDrop)(l.h)(Object(a.withPanZoom)()(Object(a.withSelection)({controlled:!0})(Object(l.n)(o.c)(d.a))));default:return}}}},5876:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(5698),s=(n(5977),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=Object(o.observer)(e=>{var{element:t}=e,n=s(e,["element"]);const{bidirectional:i}=t.getData(),c=i||t.getSource().isCollapsed()&&t.getTarget().isCollapsed()?o.EdgeTerminalType.none:o.EdgeTerminalType.directional;return a.createElement(r.a,Object.assign({"data-test-id":"edge-handler",element:t,className:"odc-base-edge odc-aggregate-edge",endTerminalType:c},n))})},5877:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(5698);n(5978);t.a=Object(o.observer)(e=>a.createElement(r.a,Object.assign({className:"odc-connects-to",endTerminalType:o.EdgeTerminalType.directionalAlt},e)))},5878:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(7);t.a=({startPoint:e,endPoint:t,dragging:n,hover:s,hints:i})=>{const{t:c}=Object(r.useTranslation)();return a.createElement(o.DefaultCreateConnector,{startPoint:e,endPoint:t,dragging:n,hints:i,hover:s,tipContents:s&&n?c("topology~Add resources"):null})}},5879:function(e,t,n){"use strict";var a=n(0),o=n(4),r=n(5585),s=n(5841),i=n.n(s),c=n(1954),l=n(1419),u=n(5698);n(5979);t.a=Object(r.observer)(e=>{const{sbr:t}=e.element.getData(),n=Object(l.b)(t)===c.a.ERROR;let s;if(n){const t=e.element.getStartPoint(),n=e.element.getEndPoint(),c=(t.x+n.x)/2,l=(t.y+n.y)/2,u=Math.atan2(n.y-t.y,n.x-t.x)*(180/Math.PI),d=Object(o.css)(i.a.topologyEdge,r.StatusModifier[r.NodeStatus.danger],i.a.topologyConnectorArrow);s=a.createElement("g",{transform:`translate(${c}, ${l}) rotate(${u})`,className:d},a.createElement("line",{x1:-8,y1:-8,x2:8,y2:8,strokeWidth:2}),a.createElement("line",{x1:-8,y1:8,x2:8,y2:-8,strokeWidth:2}))}return a.createElement(u.a,Object.assign({className:"odc-service-binding",endTerminalStatus:n?r.NodeStatus.danger:void 0,endTerminalType:r.EdgeTerminalType.directional},e),s)})},5880:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(5698);n(5980);t.a=e=>a.createElement(r.a,Object.assign({className:"odc-traffic-connector",endTerminalType:o.EdgeTerminalType.directionalAlt},e))},5881:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(5785);const r=()=>Object(a.useContext)(o.a).appliedFilters},5882:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(230),r=n(549),s=n(15);const i=[],c=(e,t={})=>{var n,c;const l=Object(s.Ve)(),u=l.get("searchQuery"),d=null!==(c=null===(n=l.get("labels"))||void 0===n?void 0:n.split(","))&&void 0!==c?c:i,p=a.useMemo(()=>{const e=Object.entries(t).map(e=>e.join("="));return d.every(t=>e.includes(t))},[t,d]);return[a.useMemo(()=>{return t=u,n=e,o(Object(r.a)(t),Object(r.a)(n));var t,n},[u,e])&&!!u||p&&d.length>0,u]}},5883:function(e,t,n){"use strict"},5884:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(18),s=n.n(r),i=n(5697),c=n(5809),l=n(2242),u=n(5693),d=n(5810),p=n(5985),m=n(5987),b=n(5765),v=(n(5988),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});t.a=Object(o.observer)(e=>{var{element:t,dragNodeRef:n,canDrop:r,dropTarget:g,dragRegroupable:h}=e,f=v(e,["element","dragNodeRef","canDrop","dropTarget","dragRegroupable"]);const[E,y]=Object(o.useHover)(),O=Object(o.useCombineRefs)(n,y),[j]=Object(i.l)(t.getLabel()),k=a.useRef(!1);a.useEffect(()=>{const e=g&&!r&&h;e!==k.current&&(k.current=e,t.getController().fireEvent(u.a,t,e?a.createElement(p.a,null):null))},[g,r,t,h]);const _=Object(c.a)(E),{kindAbbr:S,kindStr:T,kindColor:N}=Object(d.a)(l.ApplicationModel.kind),R=s()("odc-resource-icon",{["odc-resource-icon-"+T.toLowerCase()]:!N}),w=s()("odc-application-group",{"is-filtered":j});return t.isCollapsed()?a.createElement(b.a,Object.assign({bgClassName:"odc-application-group__bg",element:t,canDrop:r,dropTarget:g,badge:S,badgeColor:N,badgeClassName:R,dragNodeRef:O},f)):a.createElement(m.a,Object.assign({className:w,showLabel:_,element:t,canDrop:r,dropTarget:g,dragNodeRef:O,badge:S,badgeColor:N,badgeClassName:R},f))})},5885:function(e,t,n){},5886:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E}));var a=n(0),o=n(88),r=n(5585),s=n(7),i=n(13),c=n(1401),l=n(15),u=n(5697),d=n(5589),p=n(322),m=n(5762),b=n(5949),v=n(5777),g=(n(5990),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n});const h={danger:["ContainerCannotRun","CrashLoopBackOff","Critical","ErrImagePull","Error","Failed","Failure","ImagePullBackOff","InstallCheckFailed","Lost","Rejected","UpgradeFailed"],warning:["Cancelled","Deleting","Expired","Not Ready","Terminating","Warning","RequiresApproval"],normal:["New","Pending","Planning","ContainerCreating","UpgradePending","In Progress","Installing","InstallReady","Replacing","Running","Updating","Upgrading","Accepted","Active","Bound","Complete","Completed","Created","Enabled","Succeeded","Ready","Up to date","Provisioned as node","Preferred","Connected","Info","Unknown","PipelineNotStarted"]},f=(e,t,n,a,o)=>{var s,c;const u=null!==(c=null===(s=null==e?void 0:e.pods)||void 0===s?void 0:s.reduce((e,t)=>Math.max(e,(e=>{switch(e){case l.l.Failed:case l.l.CrashLoopBackOff:return 3;case l.l.Warning:return 2;default:return 1}})(Object(l.ud)(t))),1))&&void 0!==c?c:r.NodeStatus.default;return 3===u||t===i.a.Critical||h.danger.includes(n)||h.danger.includes(a)?r.NodeStatus.danger:2===u||t===i.a.Warning||h.warning.includes(n)||h.warning.includes(a)||o===r.NodeStatus.warning?r.NodeStatus.warning:r.NodeStatus.default},E=Object(r.observer)((function(e){var t,n,i,h,E,y,O,j,k,{donutStatus:_,element:S,children:T,urlAnchorRef:N,canDrop:R,dropTarget:w,dropTooltip:C,contextMenuOpen:P}=e,D=g(e,["donutStatus","element","children","urlAnchorRef","canDrop","dropTarget","dropTooltip","contextMenuOpen"]);const{t:x}=Object(s.useTranslation)(),{width:I,height:M}=S.getDimensions(),L=S.getData().data,A=Object(u.k)(),[U,B]=Object(r.useHover)(),F=Math.min(I,M),{radius:K,decoratorRadius:$}=Object(l.vc)(F),q=I/2,G=M/2,V=C||x("topology~Create a visual connector"),Y=Object(u.f)(u.c,A),z=null!==(t=null==Y?void 0:Y.value)&&void 0!==t&&t,{decorators:H}=S.getGraph().getData(),W=Object(r.useVisualizationController)().getGraph().getDetailsLevel(),Q=null!==(n=Object(c.d)(L.builderImage))&&void 0!==n?n:L.builderImage,J=U||P||W!==r.ScaleDetailsLevel.low,Z=J?Object(b.a)(S,H,q,G,K,$):null,{monitoringAlerts:X}=L,ee=Object(l.Lc)(X),te=Object(l.Hd)(ee),ne=Object(d.g)(S),{buildConfigs:ae}=Object(l.ve)(ne),oe=null===(y=null===(E=null===(h=null===(i=null==ae?void 0:ae[0])||void 0===i?void 0:i.builds)||void 0===h?void 0:h[0])||void 0===E?void 0:E.status)||void 0===y?void 0:y.phase,re=null!==(k=null===(j=null===(O=S.getData())||void 0===O?void 0:O.resources)||void 0===j?void 0:j.pipelineRunStatus)&&void 0!==k?k:"Unknown",se=Object(p.useResourceQuotaAlert)(S),ie=(null==se?void 0:se.variant)||r.NodeStatus.default;return a.createElement("g",{className:"odc-workload-node"},a.createElement(o.a,{content:V,trigger:"manual",isVisible:w&&R,animationDuration:0},a.createElement(m.a,Object.assign({className:"odc-workload-node",hoverRef:B,innerRadius:Object(v.b)(F,_),icon:J&&!z?Q:void 0,kind:L.kind,element:S,dropTarget:w,canDrop:R,nodeStatus:!J&&f(_,te,oe,re,ie),attachments:Z,contextMenuOpen:P,alertVariant:ie},D),_&&J?a.createElement(v.a,{size:F,x:q,y:G,data:_,showPodCount:z}):null,T)))})),y=Object(r.observer)((function(e){var{element:t}=e,n=g(e,["element"]);const o=Object(d.k)(t.getData()),{podData:r,loadError:s,loaded:i}=Object(l.Se)(o,o.kind,o.metadata.namespace);return a.createElement(E,Object.assign({element:t,donutStatus:i&&!s?r:null},n))}))},5887:function(e,t,n){},5888:function(e,t,n){"use strict";var a=n(5694);n.d(t,"b",(function(){return a.a}));n(5830);var o=n(5763);n.d(t,"a",(function(){return o.a}));n(5831),n(5832),n(5833)},5889:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(0),o=n(5730);const r="NodeShadowsFilterId",s="NodeShadowsFilterId--hover",i=()=>a.createElement(a.Fragment,null,a.createElement(o.a,{id:r}),a.createElement(o.a,{id:s,dy:3,stdDeviation:7,floodOpacity:.24}))},5890:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(721),s=n(107),i=n(5619),c=n(31),l=n(13),u=n(15),d=n(198),p=n(2221),m=n(5923),b=n(5657),v=n(5924),g=n(5693),h=n(5768),f=n(5992),E=n(5995);n(5997);const y=["id","x","y"],O=a.memo(({visualizationReady:e,visualization:t,controlsDisabled:n,selectedId:r,dragHint:s})=>e?a.createElement("div",{className:"odc-topology-graph-view"},a.createElement(o.VisualizationProvider,{controller:t},a.createElement(o.VisualizationSurface,{state:{selectedIds:[r]}}),s&&a.createElement("div",{className:"odc-topology__hint-container"},a.createElement("div",{className:"odc-topology__hint-background"},s)),a.createElement(E.a,{visualization:t,isDisabled:n}))):null),j={graph:{id:"odc-topology-graph",type:"graph",layout:f.a,layers:[o.BOTTOM_LAYER,o.GROUPS_LAYER,"groups2",o.DEFAULT_LAYER,o.TOP_LAYER]}};t.a=Object(d.e)(Object(c.connect)(e=>({getStoredGraphModel:t=>Object(v.b)(e,t)}),e=>({onGraphModelChange:(t,n)=>{e(Object(v.e)(t,n))}}))(Object(u.if)(p.p,p.q,{})(a.memo(({model:e,application:t,namespace:n,onSelect:c,setVisualization:d,onGraphModelChange:p,getStoredGraphModel:v,userSettingState:E,setUserSettingState:k})=>{const _=a.useRef(null),[S,T]=a.useState(!1),[N,R]=a.useState(""),w=a.useRef(!1),C=Object(u.Ve)().get("selectId"),[P,D]=Object(l.kc)(b.a),[x,I]=Object(l.kc)(l.Xb),M=a.useCallback(()=>{const e=null==E?void 0:E[n],t=new o.Visualization;t.registerElementFactory(m.c),t.registerLayoutFactory(f.c);const a=r.a(()=>{const e=t.toModel(),a={id:e.graph.id,type:e.graph.type,x:e.graph.x,y:e.graph.y,scale:e.graph.scale,scaleExtent:e.graph.scaleExtent};p(n,a)},200),s=r.a(()=>{const e=t.toModel(),a=((e,t,n)=>{const a={};return a[e]={nodes:null==t?void 0:t.map(e=>Object.keys(e).reduce((t,n)=>(y.includes(n)&&(t[n]=e[n]),t),{})),layout:n},a})(n,e.nodes,e.graph.layout);k(e=>Object.assign(Object.assign({},e),a))},200);return t.addEventListener(o.NODE_POSITIONED_EVENT,s),t.addEventListener(o.GRAPH_POSITION_CHANGE_EVENT,a),e&&(f.b.includes(e.layout)?j.graph.layout=e.layout:(j.graph.layout=f.a,k(e=>Object.assign(Object.assign({},e),{layout:f.a})))),t.fromModel(j),t.addEventListener(o.SELECTION_EVENT,e=>{const n=e[0]?t.getElementById(e[0]):null;c(n)}),t},[n,p,c,k,E]),L=a.useRef();L.current||(L.current=M());const A=L.current;return a.useEffect(()=>{A&&d(A)},[d,A]),a.useEffect(()=>{var t;if(e&&S){if(!w.current){const a=v(n);a&&(e.graph=Object.assign(Object.assign({},j.graph),{x:a.x,y:a.y,scale:a.scale,scaleExtent:a.scaleExtent,data:null===(t=A.getGraph())||void 0===t?void 0:t.getData()}));const o=null==E?void 0:E[n];o&&e.nodes.forEach(e=>{const t=o.nodes.find(t=>t.id===e.id);t&&y.forEach(n=>{e[n]=t[n]})})}if(e.nodes.forEach(e=>{const t=A.getNodeById(e.id);t&&s.a(t.getData(),e.data)&&(e.data=t.getData())}),e.edges.forEach(e=>{const t=A.getEdgeById(e.id);t&&s.a(t.getData(),e.data)&&(e.data=t.getData())}),A.fromModel(e),!w.current&&(w.current=!0,null==E?void 0:E[n])){const e=A.getGraph(),t=A.getElements().filter(o.isNode);if(t.length){if(!t.find(t=>e.isNodeInView(t,{padding:0}))){const n=e.getBounds(),[a]=t.reduce(([e,t],a)=>{const o=((e,t)=>{const n=e.getBounds(),a=n.x+n.width/2,o=n.y+n.height/2,r=Math.max(t.x-a,0,a-(t.x+t.width)),s=Math.max(t.y-o,0,o-(t.y+t.height));return Math.sqrt(r*r+s*s)})(a,n);return!e||o<t?[a,o]:[e,t]},[null,0]);e.panIntoView(a)}}}const a=C?A.getElementById(C):null;a&&a.isVisible()?c(a):c()}},[e,A,S]),a.useEffect(()=>{D&&I&&(A.registerComponentFactory(h.q),[...P,...x].forEach(e=>{A.registerComponentFactory(e.properties.getFactory)}),A.addEventListener(g.a,(e,t)=>{R(t)}),T(!0))},[A,D,I,P,x]),a.useEffect(()=>{_.current?t!==_.current&&(_.current=t,A&&(A.getGraph().reset(),A.getGraph().layout())):_.current=t},[t,A]),a.useEffect(()=>{let e=null;if(A&&C){const t=A.getElementById(C);if(t){const n=Object(o.isNode)(t)?t:t.getSource();e=setTimeout(Object(i.f)(()=>{A.getGraph().panIntoView(n,{offset:20,minimumVisible:100}),e=null}),500)}}return()=>{e&&clearTimeout(e)}},[C,A]),a.createElement(O,{visualizationReady:S,visualization:A,controlsDisabled:!(null==e?void 0:e.nodes.length),dragHint:N,selectedId:C})}))),d.b)},5891:function(e,t,n){"use strict";var a=n(5585),o=n(5779),r=n(5652);t.a=e=>{switch(e){case a.ModelKind.graph:return new a.BaseGraph;case a.ModelKind.node:return new r.a;case a.ModelKind.edge:return new o.a;default:return}}},5901:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),o=n(5932),r=n(4373),s=n(5931),i=n(5933),c=n(5591),l=n(5902),u=n(5778),d=n(5649);const p=(e,t,n,p,m)=>{if(p&&e)return m?a.createElement("image",{xlinkHref:m,width:t,height:t}):a.createElement(l.a,{style:{fontSize:t}});switch(Object(d.c)(e)){case c.b.INVALID:return null;case c.b.GITHUB:return a.createElement(s.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case c.b.BITBUCKET:return a.createElement(o.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case c.b.GITLAB:return a.createElement(i.a,{style:{fontSize:t},title:n("devconsole~Edit source code")});case c.b.GITEA:return a.createElement(u.a,{style:{fontSize:t},topology:!0});default:return a.createElement(r.a,{style:{fontSize:t},title:n("devconsole~Edit source code")})}}},5902:function(e,t,n){"use strict";var a=n(0);t.a=({style:e})=>a.createElement("svg",{height:"1em",width:"1em",version:"1.1",viewBox:"0 0 47 57",style:e},a.createElement("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",fill:"none"},a.createElement("path",{d:"M0.032227,30.88l-0.032227-17.087,23.853-13.793,23.796,13.784-14.691,8.51-9.062-5.109-23.864,13.695z",fill:"#fdb940"}),a.createElement("path",{d:"M0,43.355l23.876,13.622,23.974-13.937v-16.902l-23.974,13.506-23.876-13.506v17.217z",fill:"#525c86"})))},5920:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),o=n(165),r=n(242),s=n(219),i=n(354),c=n(294),l=n(205),u=n(55),d=n(7),p=n(118),m=n(5),b=n(5634),v=n(5702),g=n(2221),h=n(5594);const f=e=>{var t;return a.createElement("span",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(m.fb,{kind:null===(t=e.getData().data)||void 0===t?void 0:t.kind})),e.getLabel())},E=({handleSubmit:e,isSubmitting:t,setTranslator:n,cancel:u,values:m,edge:b,availableTargets:v,status:g})=>{const{t:h}=Object(d.useTranslation)(),[E,y]=a.useState(!1),O=m.target.getId()!==b.getTarget().getId();n(h);const j=b.getSource().getLabel();return a.createElement("form",{onSubmit:e,className:"modal-content"},a.createElement(p.d,null,h("topology~Move connector")),a.createElement(p.a,null,a.createElement(r.a,{headingLevel:"h2",size:"md",className:"co-m-form-row"},a.createElement(d.Trans,{ns:"topology",t:h},"Connect ",a.createElement("strong",null,{sourceLabel:j})," to")),a.createElement("div",{className:"pf-v5-c-form"},a.createElement(s.a,{fieldId:"target-node",label:"Target"},a.createElement(i.a,{id:"target-node-dropdown",className:"dropdown--full-width",onSelect:(e,t)=>{t&&(m.target=t),y(!1)},toggle:e=>a.createElement(o.a,{id:"toggle-id",ref:e,onClick:()=>y(!E),isExpanded:E,isFullWidth:!0},f(m.target)),isOpen:E,onOpenChange:e=>y(e)},a.createElement(c.a,null,v.map(e=>a.createElement(l.a,{key:e.getId(),value:e,isSelected:m.target.getId()===e.getId()},f(e)))))))),a.createElement(p.c,{submitText:h("topology~Move"),submitDisabled:!O||t,cancel:u,inProgress:t,errorMessage:g&&g.submitError}))};class y extends m.bb{constructor(){super(...arguments),this.onSubmit=e=>{const{edge:t}=this.props;switch(t.getType()){case g.v:case g.w:return Object(h.b)(t.getSource(),e,t.getTarget());case b.k:return Object(v.b)(t.getSource(),e);case b.l:return Object(v.a)(t.getSource(),e);default:return Promise.reject(new Error(this.t("topology~Unable to move connector of type {{type}}.",{type:t.getType()})))}},this.handleSubmit=(e,t)=>{const{close:n}=this.props;return this.handlePromise(this.onSubmit(e.target)).then(()=>{n()}).catch(e=>{t.setStatus({submitError:e})})},this.setTranslator=e=>{this.t=e}}render(){const{edge:e}=this.props,t={target:e.getTarget()};return a.createElement(u.b,{initialValues:t,onSubmit:this.handleSubmit},e=>a.createElement(E,Object.assign({setTranslator:this.setTranslator},e,this.props)))}}const O=Object(p.f)(e=>a.createElement(y,Object.assign({},e)))},5921:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>n.e(297).then(n.bind(null,6125)).then(t=>t.editApplicationModal(e))},5922:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(7),r=n(91),s=n(108),i=n(99),c=n(15);const l=({obj:e})=>{var t,n,r;const{t:s}=Object(o.useTranslation)(),i=null!==(r=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.recommendation)||void 0===n?void 0:n.containerRecommendations)&&void 0!==r?r:[];return a.createElement(a.Fragment,null,i.length>0&&a.createElement("p",null,s("console-app~Recommended")),i.map(e=>a.createElement(a.Fragment,{key:e.containerName},a.createElement("div",null,s("console-app~Container name"),": ",e.containerName),a.createElement("div",null,s("console-app~CPU"),": ",e.target.cpu),a.createElement("div",null,s("console-app~Memory"),": ",e.target.memory))))},u=({obj:e})=>{var t;const{t:n}=Object(o.useTranslation)(),[u]=Object(s.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},namespace:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,isList:!0,namespaced:!0}),d=Object(c.Ld)(u,e);return a.createElement(a.Fragment,null,a.createElement("dt",null,n("console-app~VerticalPodAutoscalers")),a.createElement("dd",null,d.length>0?d.map(e=>{var t,n;return a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(i.ResourceLink,{groupVersionKind:Object(r.d)(e),name:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name,namespace:null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.namespace})),a.createElement(l,{obj:e}))}):n("console-app~No VerticalPodAutoscalers")))}},5923:function(e,t,n){"use strict";var a=n(5779);n.d(t,"a",(function(){return a.a}));var o=n(5652);n.d(t,"b",(function(){return o.a}));var r=n(5891);n.d(t,"c",(function(){return r.a}))},5924:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c}));var a,o=n(42);!function(e){e.topologyFilters="topologyFilters",e.supportedTopologyFilters="supportedTopologyFilters",e.supportedTopologyKinds="supportedTopologyKinds",e.topologyGraphModel="topologyGraphModel"}(a||(a={}));const r=e=>Object(o.action)(a.supportedTopologyFilters,{supportedFilters:e}),s=e=>Object(o.action)(a.supportedTopologyKinds,{supportedKinds:e}),i=(e,t)=>Object(o.action)(a.topologyGraphModel,{namespace:e,graphModel:t}),c=(e,t)=>{var n,a,o;const r=null===(a=null===(n=null==e?void 0:e.plugins)||void 0===n?void 0:n.devconsole)||void 0===a?void 0:a.topology;return null===(o=null==r?void 0:r.get("topologyGraphModel"))||void 0===o?void 0:o[t]}},5934:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(116),r=n(313),s=n(108),i=n(10),c=n(8),l=n(15);const u=(e,t)=>{const[n,u]=a.useState(!1),[d,p]=a.useState(""),[m,b]=a.useState([]),v=Object(l.De)(Array.isArray(e)?e:[e]),g=a.useMemo(()=>({deployments:{isList:!0,kind:"Deployment",namespace:t},replicaSets:{isList:!0,kind:"ReplicaSet",namespace:t},pods:{isList:!0,kind:"Pod",namespace:t}}),[t]),h=Object(s.b)(g),f=a.useCallback(e=>{var t;const n=Object.keys(e).find(t=>e[t].loadError);if(n)p(null===(t=e[n].loadError)||void 0===t?void 0:t.message);else if(Object.keys(e).length>0&&Object.keys(e).every(t=>e[t].loaded)){const t=v.reduce((t,n)=>{var a;const s=o.a(null===(a=null==e?void 0:e.deployments)||void 0===a?void 0:a.data,({metadata:{ownerReferences:e}})=>r.a(e,{uid:n,controller:!0}));if(null==s?void 0:s[0]){const n=Object.assign(Object.assign({},s[0]),{apiVersion:Object(c.n)(i.DeploymentModel),kind:i.DeploymentModel.kind});t.push(...Object(l.xd)(n,e))}return t},[]);u(!0),p(null),b(t)}},[v]),E=Object(l.Ce)(f,250);return a.useEffect(()=>{E(h)},[E,h]),Object(l.De)({loaded:n,loadError:d,pods:m})}},5945:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(0),o=n(80),r=n(1923),s=n(16),i=n(255),c=n(1533),l=n(6772),u=n(240),d=n(50),p=n(279),m=n(116),b=n(22),v=n(4440),g=n(7),h=n(14),f=n(1410),E=n(1955),y=n(5),O=n(108),j=n(8);n(15);const k=e=>{const t=[...s.a(e,"status.containerStatuses",[]),...s.a(e,"status.initContainerStatuses",[])],n=i.a(t,(t,n)=>n.state.running?[...t,s.a(n,"state.running.startedAt")]:n.state.terminated?[...t,s.a(n,"state.terminated.finishedAt")]:n.lastState.running?[...t,s.a(n,"lastState.running.startedAt")]:n.lastState.terminated?[...t,s.a(n,"lastState.terminated.finishedAt")]:[...t,s.a(n,s.a(e,"startTime"))],[]);return c.a(l.a(n.sort()))},_=["ContainerCannotRun","CrashLoopBackOff","Critical","Error","Failed","InstallCheckFailed","Cancelled","Expired","Not Ready","Terminating"],S=e=>u.a(_,Object(j.zb)(e)),T=e=>"Evicted"===Object(j.zb)(e),N=(e,t)=>{const n=S(e);if(n!==S(t))return n?-1:1;const a=T(e);if(a!==T(t))return a?1:-1;const o=k(e),r=k(t);return o<r?1:o>r?-1:e.metadata.name.localeCompare(t.metadata.name)},R=({pod:e})=>{const{metadata:{name:t,namespace:n}}=e,{t:o}=Object(g.useTranslation)();return a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"row"},a.createElement("span",{className:"col-xs-5"},a.createElement(y.hb,{kind:"Pod",name:t,namespace:n})),a.createElement("span",{className:"col-xs-3"},a.createElement(f.PodStatus,{pod:e})),a.createElement("span",{className:"col-xs-1"},a.createElement(E.a,{podName:t,namespace:n,tooltipFlag:!0})),a.createElement("span",{className:"col-xs-3 text-right"},a.createElement(h.Link,{to:Object(y.tc)("Pod",t,n)+"/logs"},o("public~View logs")))))};R.displayName="PodOverviewItem";const w=({pods:e})=>a.createElement("ul",{className:"list-group"},d.a(e,e=>a.createElement(R,{key:e.metadata.uid,pod:e})));w.displayName="PodsOverviewList";const C=({obj:e,pods:t,loaded:n,loadError:s,allPodsLink:i,emptyText:c,buildConfigData:l})=>{var u;const{metadata:{name:d,namespace:f}}=e,{t:E}=Object(g.useTranslation)(),[k,_]=a.useState(!1),T=((e,t)=>{const n={buildRunBeta:{groupVersionKind:{group:"shipwright.io",version:"v1beta1",kind:"BuildRun"},namespace:e},buildRunAlpha:{groupVersionKind:{group:"shipwright.io",version:"v1alpha1",kind:"BuildRun"},namespace:e}},o=Object(O.b)(n);return a.useMemo(()=>{const e=Object.assign(Object.assign({},o.buildRunBeta.data||{}),o.buildRunAlpha.data||{});return Object.keys(e).filter(n=>{var a,o;return(null===(o=null===(a=e[n].spec)||void 0===a?void 0:a.build)||void 0===o?void 0:o.name)===t}).map(t=>e[t])},[o,t])})(f,d),R=(null===(u=null==l?void 0:l.buildConfigs)||void 0===u?void 0:u.length)>0&&!l.buildConfigs[0].builds.some(e=>(e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.completionTimestamp})(e)),C=(null==T?void 0:T.length)>0&&!T.some(e=>(e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type);return("True"===(null==a?void 0:a.status)||"False"===(null==a?void 0:a.status))&&"Succeeded"===(null==a?void 0:a.reason)})(e)),P=(R||C)&&(e=>{var t,n;return"Deployment"===e.kind&&"OpenShiftWebConsole"===(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/generated-by"])})(e);let D=[...t];P&&!k&&(D=D.filter(e=>!(e=>{var t,n,a;return"Pending"===(null===(t=e.status)||void 0===t?void 0:t.phase)&&(null===(a=null===(n=e.status)||void 0===n?void 0:n.containerStatuses)||void 0===a?void 0:a.some(e=>!e.imageID))})(e))),D.sort(N);const x=p.a(m.a(t,e=>S(e))),I=Math.max(Math.min(x,10),3),M=i||Object(y.tc)(Object(j.Db)(e),d,f)+"/pods",L=c||E("console-shared~No Pods found for this resource."),A=P?a.createElement(o.a,{isInline:!0,variant:"info",title:E("public~Waiting for the build"),actionLinks:a.createElement(r.a,{onClick:()=>_(!k),"data-test":"waiting-pods"},E(k?"console-shared~Hide waiting pods with errors":"console-shared~Show waiting pods with errors"))},E('console-shared~Waiting for the first build to run successfully. You may temporarily see "ImagePullBackOff" and "ErrImagePull" errors while waiting.')):null;return a.createElement(a.Fragment,null,a.createElement(y.ub,{text:E("public~Pods")},p.a(t)>I&&a.createElement(h.Link,{className:"sidebar__section-view-all",to:M},E("console-shared~View all {{podSize}}",{podSize:p.a(t)}))),(null==l?void 0:l.loaded)&&!(null==l?void 0:l.loadError)&&A,b.a(D)?a.createElement("span",{className:"text-muted"},n||s?L:a.createElement(y.S,null)):a.createElement(w,{pods:v.a(D,I)}))};C.displayName="PodsOverviewContent"},5946:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),o=n(19),r=n(1196),s=n(7),i=n(14),c=n(13),l=n(974),u=n(1942),d=n(5),p=n(158),m=n(10),b=n(8),v=n(415),g=n(15);const h=({build:e})=>{var t,n;const{t:o}=Object(s.useTranslation)();switch(e.status.phase){case v.a.Cancelled:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," was cancelled");case v.a.Complete:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," was complete");case v.a.Error:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," encountered an error");case v.a.Failed:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," failed");case v.a.New:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," is new");case v.a.Pending:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," is pending");case v.a.Running:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," is running");default:return a.createElement(s.Trans,{t:o,ns:"topology"},"Build ",a.createElement(l.BuildNumberLink,{build:e})," is ",null===(n=null===(t=e.status)||void 0===t?void 0:t.phase)||void 0===n?void 0:n.toLowerCase())}},f=({build:e})=>{const{status:{logSnippet:t,message:n,phase:o}}=e;return[v.a.Error,v.a.Failed].includes(o)?a.createElement(g.ib,{message:n,logSnippet:t}):null},E=({build:e})=>{const{metadata:{creationTimestamp:t},status:{completionTimestamp:n,startTimestamp:o,phase:s}}=e,i=n||o||t;return a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",{className:"build-overview__status co-icon-and-text"},a.createElement("div",{className:"co-icon-and-text__icon co-icon-flex-child"},"Running"===s?a.createElement(c.A,{icon:a.createElement(r.a,null),title:s,spin:!0,iconOnly:!0}):a.createElement(g.cc,{status:s,iconOnly:!0})),a.createElement("div",null,a.createElement(h,{build:e}),i&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:"build-overview__item-time text-muted"},"(",Object(p.e)(i),")")))),a.createElement("div",null,a.createElement(l.BuildLogLink,{build:e}))),a.createElement(f,{build:e}))},y=({buildConfig:e})=>{const{metadata:{name:t,namespace:n},builds:r}=e,{t:c}=Object(s.useTranslation)(),l=Object(d.Dc)({group:m.BuildConfigModel.apiGroup,resource:m.BuildConfigModel.plural,subresource:"instantiate",name:t,namespace:n,verb:"create"});return a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",null,a.createElement(d.hb,{inline:!0,kind:"BuildConfig",name:t,namespace:n})),r.length>3&&a.createElement("div",null,a.createElement(i.Link,{className:"sidebar__section-view-all",to:Object(d.tc)(Object(b.Db)(e),t,n)+"/builds"},c("topology~View all {{buildsLength}}",{buildsLength:r.length}))),l&&a.createElement("div",null,a.createElement(o.a,{variant:"secondary",onClick:()=>{Object(v.d)(e).catch(e=>{const t=e.message;Object(u.errorModal)({error:t})})},"data-test-id":"start-build-action"},c("topology~Start Build"))))),(null==r?void 0:r.length)>0?r.slice(0,3).map(e=>a.createElement(E,{key:e.metadata.uid,build:e})):a.createElement("li",{className:"list-group-item"},a.createElement("span",{className:"text-muted"},c("topology~No Builds found for this Build Config."))))},O=({buildConfigs:e})=>{const{t:t}=Object(s.useTranslation)();return(null==e?void 0:e.length)>0?a.createElement("div",{className:"build-overview"},a.createElement(d.ub,{text:t("topology~Builds")}),e.map(e=>a.createElement(y,{key:e.metadata.uid,buildConfig:e}))):null}},5947:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(5794),r=n(7),s=n(2222),i=n(5),c=n(15);const l=({service:e})=>{var t,n;const s=null!==(n=null===(t=e.spec)||void 0===t?void 0:t.ports)&&void 0!==n?n:[],{t:i}=Object(r.useTranslation)();return a.createElement("ul",{className:"port-list"},s.map(({name:e,port:t,protocol:n,targetPort:r})=>a.createElement("li",{key:e||`${n}/${t}`},a.createElement("span",{className:"text-muted"},i("topology~Service port:"))," ",e||`${n}/${t}`," ",a.createElement(o.a,null)," ",a.createElement("span",{className:"text-muted"},i("topology~Pod port:"))," ",r)))},u=({service:e})=>{const{name:t,namespace:n}=e.metadata;return a.createElement("li",{className:"list-group-item"},a.createElement(i.hb,{kind:"Service",name:t,namespace:n}),a.createElement(l,{service:e}))},d=({services:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,service:e}))),p=({route:e})=>{const{name:t,namespace:n}=e.metadata,{t:o}=Object(r.useTranslation)();return a.createElement("li",{className:"list-group-item"},a.createElement(i.hb,{kind:"Route",name:t,namespace:n}),a.createElement("span",{className:"text-muted"},o("topology~Location:")),a.createElement(s.b,{obj:e}))},m=({routes:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(p,{key:e.metadata.uid,route:e}))),b=({obj:e})=>{const{t:t}=Object(r.useTranslation)(),n=Object(c.af)(e),o=n.loaded&&!n.loadError?n.services:[],s=Object(c.Ye)(e),l=s.loaded&&!s.loadError?s.routes:[];return a.createElement(a.Fragment,null,a.createElement(i.ub,{text:t("topology~Services")}),(null==o?void 0:o.length)>0?a.createElement(d,{services:o}):a.createElement("span",{className:"text-muted"},t("topology~No Services found for this resource.")),a.createElement(i.ub,{text:t("topology~Routes")}),(null==l?void 0:l.length)>0?a.createElement(m,{routes:l}):a.createElement("span",{className:"text-muted"},t("topology~No Routes found for this resource.")))}},5948:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),o=n(270),r=n(7),s=n(14),i=n(5),c=n(8),l=n(15);const u=({job:e})=>{const{metadata:{name:t,namespace:n}}=e,r=Object(i.tc)(Object(c.Db)(e),t,n)+"/pods",{podData:u,loaded:d,loadError:p}=Object(l.Se)(e,"Job",n);return d&&!p?a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"job-overview__item"},a.createElement(i.hb,{kind:"Job",name:t,namespace:n}),a.createElement(s.Link,{to:r,className:"overview__pod-donut-sm"},a.createElement(l.Bb,{standalone:!0,data:u.pods,size:25,innerRadius:8,outerRadius:12,title:""+u.pods.length,titleComponent:a.createElement(o.a,{style:{fontSize:"10px"}}),showTooltip:!1})))):null};u.displayName="JobOverviewItem";const d=({jobs:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,job:e})));d.displayName="JobsOverviewList";const p=({jobs:e,obj:t,allJobsLink:n,emptyText:o})=>{const{metadata:{name:l,namespace:u}}=t,{t:p}=Object(r.useTranslation)(),m=n||Object(i.tc)(Object(c.Db)(t),l,u)+"/jobs",b=o||p("topology~No Jobs found for this resource.");return a.createElement(a.Fragment,null,a.createElement(i.ub,{text:"Jobs"},(null==e?void 0:e.length)>3&&a.createElement(s.Link,{className:"sidebar__section-view-all",to:m},p("topology~View all ({{jobCount}})",{jobCount:e.length}))),(null==e?void 0:e.length)>0?a.createElement(d,{jobs:e.slice(0,3)}):a.createElement("span",{className:"text-muted"},b))}},5949:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(1195);const r=(e,t,n,r,s,i,c,l)=>{const u=t?Object.keys(t):[];return a.createElement(a.Fragment,null,u.map(a=>((e,t,n,a,r,s,i,c,l)=>{var u,d;let p,m;const b=s>0?s:c/2,v=s>0?s:l/2,g=s>0?.7*i:0;switch(e){case o.r.upperRight:p=a+b-g,m=r-v+g;break;case o.r.lowerRight:p=a+b-g,m=r+v-g;break;case o.r.upperLeft:p=a-b+g,m=r-v+g;break;case o.r.lowerLeft:p=a-b+g,m=r+v-g;break;default:p=a,m=r}let h,f=0;const E=null!==(d=null===(u=null==n?void 0:n[e])||void 0===u?void 0:u.length)&&void 0!==d?d:0;for(;!h&&f<E;)h=n[e][f++].decorator(t,i,p,m);return h})(a,e,t,n,r,s,i,c,l)))}},5950:function(e,t,n){},5951:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(15),r=n(2221),s=n(5589);const i=e=>{var t,n,i,c;const l="true"===(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[r.n]),u=null===(c=null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.annotations)||void 0===c?void 0:c[r.o],d=Object(o.Ye)(e),p=a.useMemo(()=>d.loaded&&!d.loadError?d.routes:[],[d]),m=a.useMemo(()=>Object(s.i)(e,p),[e,p]),b=u||m;return l||!b||!b.startsWith("http://")&&!b.startsWith("https://")?null:b}},5952:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(19),s=n(2212),i=n(4323),c=n(4324),l=n(4325),u=n(12092),d=n(1890),p=n(5585),m=n(18),b=n(7),v=n(31),g=n(53),h=n(8),f=n(15),E=n(5697),y=n(5589),O=n(6277);t.a=Object(v.connect)(null,e=>({onSelectTab:t=>e(Object(g.j)(t))}))(Object(p.observer)(({item:e,selectedIds:t,onSelect:n,onSelectTab:p,badgeCell:v,labelCell:g,alertsCell:j,memoryCell:k,cpuCell:_,statusCell:S,groupResourcesCell:T,hideAlerts:N=!1,noPods:R=!1,children:w})=>{var C,P,D,x,I,M;const{t:L}=Object(b.useTranslation)(),[A]=Object(E.l)(e.getLabel(),null===(P=null===(C=Object(y.g)(e))||void 0===C?void 0:C.metadata)||void 0===P?void 0:P.labels);if(!e.isVisible)return null;const U=Object(y.h)(e);let B=null;const F=Object(f.Lc)(null!==(x=null===(D=e.getData().data)||void 0===D?void 0:D.monitoringAlerts)&&void 0!==x?x:[]);if((null==F?void 0:F.length)>0){const t=()=>{n([e.getId()]),p("Observe")},s=Object(f.Hd)(F);B=Object(f.oe)(s)?null:a.createElement(o.a,{key:"monitoringAlert",content:L("topology~Monitoring alert"),position:o.b.right},a.createElement(r.a,{variant:"plain",className:"odc-topology-list-view__alert-button",onClick:t},a.createElement(f.k,{severityAlertType:s})))}const K=[];K.push(g||a.createElement(s.a,{className:"odc-topology-list-view__label-cell",key:"label",id:e.getId()+"_label"},v||a.createElement(O.h,{key:"type-icon",kind:U}),a.createElement("span",{"data-test-id":e.getLabel()},e.getLabel()),B)),e.isGroup()?e.isCollapsed()&&K.push(T||a.createElement(O.d,{key:"resources",group:e})):(N||K.push(j||a.createElement(O.a,{key:"alerts",item:e})),R||(t[0]||(K.push(k||a.createElement(O.e,{key:"memory",item:e})),K.push(_||a.createElement(O.b,{key:"cpu",item:e}))),K.push(S||a.createElement(O.g,{key:"status",item:e}))));const $=m("odc-topology-list-view__item-row",{"is-filtered":A});return a.createElement(i.a,{key:e.getId(),id:e.getId(),"aria-labelledby":e.getId()+"_label",isExpanded:void 0!==w,"data-test":"row-"+e.getLabel()},a.createElement(c.a,{className:$},a.createElement(l.a,{dataListCells:K})),w?a.createElement(u.a,{className:"odc-topology-list-view__group-children","aria-label":L("topology~{{kindLabel}} {{label}}",{label:e.getLabel(),kindLabel:null!==(M=null===(I=Object(h.vb)(U))||void 0===I?void 0:I.label)&&void 0!==M?M:U}),id:`${e.getId()}-${e.getLabel()}`,isHidden:!1},a.createElement(d.a,{"aria-label":L("topology~{{label}} sub-resources",{label:e.getLabel()}),selectedDataListItemId:t[0],onSelectDataListItem:(e,a)=>n(t[0]===a?[]:[a])},w)):null)}))},5960:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n(13);const o=()=>{if(window.SERVER_FLAGS.addPage){const e=JSON.parse(window.SERVER_FLAGS.addPage),{disabledActions:t}=e;return t}},r=()=>{const[e,t]=Object(a.kc)(a.O),n=o(),r=(null==n?void 0:n.length)===(null==e?void 0:e.length);if(e&&n&&n.length>0){return[e.filter(e=>!n.includes(e.properties.id)),t,r]}return[e,t,r]}},5974:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(5668),s=n(15),i=n(5808);t.a=(e,t,n,c=!0)=>l=>{const u=r=>{const u=a.useContext(o.ElementContext),[d,p]=a.useState(null),m=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p(c?{x:e.pageX,y:e.pageY}:e.currentTarget)},[]);return a.createElement(a.Fragment,null,a.createElement(l,Object.assign({},r,{onContextMenu:m,contextMenuOpen:!!d})),d?a.createElement(s.j,{context:e(u)},({options:e,loaded:r})=>r?a.createElement(o.ContextMenu,{reference:d,container:t,className:n,open:!0,onRequestClose:()=>p(null)},Object(i.b)(e)):null):null)};return u.displayName=`withContextMenu(${l.displayName||l.name})`,Object(r.a)(u)}},5975:function(e,t,n){},5976:function(e,t,n){},5977:function(e,t,n){},5978:function(e,t,n){},5979:function(e,t,n){},5980:function(e,t,n){},5981:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(18);t.a=e=>{const{dragInProgress:t,dragEditInProgress:n,hasDropTarget:s,dragCreate:i}=e,c=r("odc-graph",{"odc-m-drag-create":i}),l=e.element.getController();return a.useEffect(()=>{l.setRenderConstraint(!t)},[l,t]),a.useEffect(()=>{const e=[],t=[];n?e.push("odc-m-drag-active"):t.push("odc-m-drag-active"),s?e.push("odc-m-valid-drop-target"):t.push("odc-m-valid-drop-target"),e.length&&e.forEach(e=>document.body.classList.add(e)),t.length&&t.forEach(e=>document.body.classList.remove(e))},[n,s]),a.createElement("g",{className:c},a.createElement(o.GraphComponent,Object.assign({},e)))}},5982:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="bridge/topology-display-filters"},5983:function(e,t,n){},5984:function(e,t,n){},5985:function(e,t,n){"use strict";var a=n(0),o=n(873),r=n(7),s=n(15);n(5986);t.a=()=>{const{t:e}=Object(r.useTranslation)();return a.createElement("div",{className:"odc-regroup-hint"},a.createElement(o.a,{className:"odc-regroup-hint__icon"}),a.createElement("span",{className:"odc-regroup-hint__text"},a.createElement(s.Yb,null,a.createElement(s.Xb,{shift:!0,drag:!0},e("topology~Edit application grouping")))))}},5986:function(e,t,n){},5987:function(e,t,n){"use strict";var a=n(0),o=n(6102),r=n(4),s=n(5585),i=n(5841),c=n.n(i),l=n(6210),u=n(57),d=n(4425),p=n(4426),m=n(5668);t.a=Object(m.a)(({className:e,element:t,collapsible:n,selected:i,onSelect:m,hover:b,label:v,secondaryLabel:g,showLabel:h=!0,truncateLength:f,dndDropRef:E,droppable:y,canDrop:O,dropTarget:j,onContextMenu:k,contextMenuOpen:_,dragging:S,dragNodeRef:T,badge:N,badgeColor:R,badgeTextColor:w,badgeBorderColor:C,badgeClassName:P,badgeLocation:D,labelIconClass:x,labelIcon:I,labelIconPadding:M,onCollapseChange:L})=>{const[A,U]=Object(s.useHover)(),[B,F]=Object(s.useHover)(),K=Object(s.useDragNode)()[1],$=Object(s.useCombineRefs)(U,T),q=void 0!==b?b:A,G=Object(s.useSvgAnchor)(),V=Object(s.useCombineRefs)(E,G),Y=a.useRef(),z=a.useRef();let H=t.getParent(),W=!1;for(;!Object(s.isGraph)(H);)W=!W,H=H.getParent();const Q=Object(s.maxPadding)(t.getStyle().padding),J=e=>(e[2]||0)+Q;if(!y||!z.current||!Y.current){const e=t.getNodes().filter(e=>e.isVisible());if(0===e.length)return null;const n=[];u.a(e,e=>{if(e.getNodeShape()===s.NodeShape.circle){const t=e.getBounds(),{width:a,height:o}=t,{x:r,y:s}=t.getCenter(),i=Math.max(a,o)/2;n.push([r,s,i])}else{const{width:t,height:a,x:o,y:r}=e.getBounds();n.push([o,r,0]),n.push([o+t,r,0]),n.push([o,r+a,0]),n.push([o+t,r+a,0])}});const a=n.length>2?Object(l.a)(n):n;if(!a)return null;z.current=Object(s.hullPath)(a,J),Y.current=function(e){let t;return u.a(e,e=>{const n=t?Math.round(e[1])-Math.round(t[0][1]):1/0;n>5?t=[e]:Math.abs(n)<=5&&t.push(e)}),[(d.a(t,e=>e[0])[0]+p.a(t,e=>e[0])[0])/2,t[0][1],p.a(t,e=>e[2])[2]]}(a)}const Z=Object(r.css)(c.a.topologyGroup,e,W&&"pf-m-alt-group",O&&"pf-m-highlight",S&&"pf-m-dragging",i&&"pf-m-selected"),X=Object(r.css)(c.a.topologyGroup,e,W&&"pf-m-alt-group",O&&"pf-m-highlight",S&&"pf-m-dragging",i&&"pf-m-selected",(q||B)&&"pf-m-hover",O&&j&&"pf-m-drop-target");return a.createElement("g",{ref:F,onContextMenu:k,onClick:m,className:Z},a.createElement(s.Layer,{id:s.GROUPS_LAYER},a.createElement("g",{ref:$,onContextMenu:k,onClick:m,className:X},a.createElement("path",{ref:V,className:c.a.topologyGroupBackground,d:z.current}))),h&&a.createElement(s.NodeLabel,{className:c.a.topologyGroupLabel,"data-test":"group-label-text",x:Y.current[0],y:Y.current[1]+J(Y.current)+24,paddingX:8,paddingY:5,dragRef:T?K:void 0,status:t.getNodeStatus(),secondaryLabel:g,truncateLength:f,badge:N,badgeColor:R,badgeTextColor:w,badgeBorderColor:C,badgeClassName:P,badgeLocation:D,labelIconClass:x,labelIcon:I,labelIconPadding:M,onContextMenu:k,contextMenuOpen:_,hover:q||B,actionIcon:n?a.createElement(o.a,null):void 0,onActionIconClick:()=>L(t,!0)},v||t.getLabel()))})},5988:function(e,t,n){},5989:function(e,t,n){},5990:function(e,t,n){},5991:function(e,t,n){},5992:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));var a=n(5993);const o="Cola",r=["Cola"],s=(e,t)=>"Cola"===e?new a.a(t,{layoutOnDrag:!1}):void 0},5993:function(e,t,n){"use strict";var a=n(5585),o=n(5994);class r extends a.ColaLayout{getConstraints(e,t,n){return Object(o.a)(e,t,n,this.options)}startLayout(e,t,n){var a;0!==(null===(a=e.getNodes())||void 0===a?void 0:a.filter(e=>e.isVisible()).length)&&super.startLayout(e,t,n)}}t.a=r},5994:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5585),o=n(16),r=n(1533),s=n(5634);const i=e=>{const t=e.element.getData();return new Date(o.a(t,"resources.obj.metadata.creationTimestamp",0))},c=(e,t)=>i(e)>i(t)?-1:1,l=(e,t,n,o,r)=>{const i=[],l=e.filter(e=>!(e.element.getType()!==t||e.target.isFixed||e.source.isFixed||e.target.element!==n.element&&e.source.element!==n.element&&e.target.element.getParent()!==n.element)).sort((e,t)=>c(e.source,t.source));if(l.length){const e=l.reduce((e,t)=>e+t.source.height,0),c=n instanceof a.ColaGroup?r.radius+Object(a.getGroupPadding)(n.element):r.width/2,u={type:"alignment",axis:"y",offsets:[{node:l[0].target.index,offset:0}]};let d=-e/2;l.forEach(e=>{t===s.f?u.offsets.push({node:e.target.index,offset:d+e.target.height/2}):u.offsets.push({node:e.source.index,offset:d+e.source.height/2}),t===s.h?i.push({axis:"x",left:e.source.index,right:e.target.index,gap:c+e.source.width/2+o.linkDistance,equality:!0}):i.push({axis:"x",left:e.source.index,right:r.index,gap:c+e.source.width/2+o.linkDistance,equality:!0}),d+=e.source.height}),i.push(u)}return i},u=(e,t,n,o)=>{let i=[];return[...t,...e].filter(e=>[s.e,s.q,s.o].includes(e.element.getType())).forEach(e=>{const t=e instanceof a.ColaGroup&&e.leaves.sort(c).filter(e=>!e.isFixed),u=t&&r.a(t)||e;if(e.element.getType()===s.o){const e={type:"alignment",axis:"y",offsets:[]};if(t){for(let n=0;n<t.length;n++)e.offsets.push({node:t[n].index,offset:0}),n<t.length-1&&i.push({axis:"x",left:t[n].index,right:t[n+1].index,gap:t[n].width,equality:!0});e.offsets.length&&i.push(e)}}const d=l(n,s.k,e,o,u),p=l(n,s.f,e,o,u),m=l(n,s.h,e,o,u);i=[...i,...d,...p,...m]}),i}},5995:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(7);n(5996);const s=Object(o.observer)(({visualization:e,isDisabled:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement("span",{className:"pf-topology-control-bar odc-topology-control-bar"},a.createElement(o.TopologyControlBar,{controlButtons:[...Object(o.createTopologyControlButtons)(Object.assign(Object.assign({},o.defaultControlButtonsOptions),{zoomInCallback:Object(o.action)(()=>{e.getGraph().scaleBy(4/3)}),zoomInTip:n("topology~Zoom in"),zoomInAriaLabel:n("topology~Zoom in"),zoomInDisabled:t,zoomOutCallback:Object(o.action)(()=>{e.getGraph().scaleBy(.75)}),zoomOutTip:n("topology~Zoom out"),zoomOutAriaLabel:n("topology~Zoom out"),zoomOutDisabled:t,fitToScreenCallback:Object(o.action)(()=>{e.getGraph().fit(80)}),fitToScreenTip:n("topology~Fit to screen"),fitToScreenAriaLabel:n("topology~Fit to screen"),fitToScreenDisabled:t,resetViewCallback:Object(o.action)(()=>{e.getGraph().reset(),e.getGraph().layout()}),resetViewTip:n("topology~Reset view"),resetViewAriaLabel:n("topology~Reset view"),resetViewDisabled:t,legend:!1}))]}))});t.a=s},5996:function(e,t,n){},5997:function(e,t,n){},6008:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(838),o=(n(4360),n(6510)),r=n(6511),s=n(6134),i=n(6512),c=n(6063),l=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const u=(e,t="GET",n={},u)=>l(void 0,void 0,void 0,(function*(){const d=Object(c.a)(),p=a.a({method:t},n,{headers:d}),m=yield((e,t={},n=6e4)=>l(void 0,void 0,void 0,(function*(){const a=Object(o.a)().appFetch(e,t);if(n<=0)return a;const r=new Promise((t,a)=>{setTimeout(()=>a(new i.a(e,n)),n)});return Promise.race([a,r])})))(e,p,u),b=(e=>l(void 0,void 0,void 0,(function*(){const t=yield e.text(),n="text/plain"===e.headers.get("Content-Type");return t?n||!e.ok?t:JSON.parse(t):n?"":{}})))(m),v=m.headers.get("Warning");return m.ok&&v&&"GET"!==t&&b.then(e=>{var t;return((e,t,n)=>{const a=`${t}_${n}_${e}`,o={kind:t,name:n,warning:e};s.a.getStore().dispatch(Object(r.a)(a,o))})(v,e.kind,null===(t=e.metadata)||void 0===t?void 0:t.name)}).catch(()=>{}),b})),d=(e,t="GET",n={},o)=>{const r=a.a({},n,{headers:{Accept:"application/json"}});return u(e,t,r,o)},p=(e,t,n=null,o={},r)=>{const s={headers:{Accept:"application/json","Content-Type":`application/${"PATCH"===t?"json-patch+json":"json"};charset=UTF-8`}};return n&&(s.body=JSON.stringify(n)),d(e,t,a.a(s,o),r)};d.delete=(e,t=null,n={},a)=>t?p(e,"DELETE",t,n,a):d(e,"DELETE",n,a),d.post=(e,t,n={},a)=>p(e,"POST",t,n,a),d.put=(e,t,n={},a)=>p(e,"PUT",t,n,a),d.patch=(e,t,n={},a)=>p(e,"PATCH",t,n,a)},6009:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(31),o=n(5848);const r=(e,t)=>{var n;const a=Object(o.c)(t);return a?null!==(n=e.getIn(["RESOURCES","models",a]))&&void 0!==n?n:e.getIn(["RESOURCES","models",Object(o.a)(a).kind]):void 0},s=e=>[Object(a.useSelector)(({k8s:t})=>r(t,e)),Object(a.useSelector)(({k8s:e})=>{var t;return null!==(t=e.getIn(["RESOURCES","inFlight"]))&&void 0!==t&&t})]},6030:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(2221);const o="helm-release",r="helm-workload",s=a.h,i=a.f,c=a.g},6031:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(1401),s=n(5),i=n(15);t.a=Object(o.observer)(({typeIconClass:e,typeIcon:t,imageClass:n,kind:o})=>{let c,l;return c=n?a.createElement("image",{className:"odc-topology-list-view__resource-icon co-m-resource-icon--md",xlinkHref:Object(i.Wd)(n)?n:Object(r.d)(n)}):a.createElement(s.fb,{className:"odc-topology-list-view__resource-icon co-m-resource-icon--md",kind:o}),l=e?a.createElement("span",{className:"odc-topology-list-view__type-icon-bg"},a.createElement("img",{className:"odc-topology-list-view__type-icon",alt:o,src:Object(i.Wd)(e)?e:Object(r.d)(e)})):t?a.createElement("span",{className:"odc-topology-list-view__type-icon-bg"},a.createElement("foreignObject",{className:"odc-topology-list-view__type-icon"},t)):null,a.createElement("span",{className:"odc-topology-list-view__resource-icon__container"},c,l)})},6043:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.sdkCore.impersonate},6062:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,o=n(42);!function(e){e.SetUser="setUser",e.BeginImpersonate="beginImpersonate",e.EndImpersonate="endImpersonate",e.SetActiveCluster="setActiveCluster",e.SetAdmissionWebhookWarning="setAdmissionWebhookWarning",e.RemoveAdmissionWebhookWarning="removeAdmissionWebhookWarning"}(a||(a={}));const r=(e,t)=>Object(o.action)(a.SetAdmissionWebhookWarning,{id:e,warning:t})},6063:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6513),o=n(6134);const r=()=>{const e=o.a.getStore();if(!e)return;const t=e.getState(),n={"X-CSRFToken":document&&document.cookie&&document.cookie.split(";").map(e=>e.trim()).filter(e=>e.startsWith("csrf-token=")).map(e=>e.slice("csrf-token=".length)).pop()},{kind:r,name:s}=Object(a.a)(t)||{};return"User"!==r&&"Group"!==r||!s||(n["Impersonate-User"]=s,"Group"===r&&(n["Impersonate-Group"]=s)),n}},6064:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return N}));var a,o=n(489),r=n(16),s=n(42),i=n(5848),c=n(6198),l=n(6103),u=n(6043),d=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};!function(e){e.ReceivedResources="resources",e.GetResourcesInFlight="getResourcesInFlight",e.StartWatchK8sObject="startWatchK8sObject",e.StartWatchK8sList="startWatchK8sList",e.ModifyObject="modifyObject",e.StopWatchK8s="stopWatchK8s",e.Errored="errored",e.Loaded="loaded",e.BulkAddToList="bulkAddToList",e.UpdateListFromWS="updateListFromWS",e.FilterList="filterList"}(a||(a={}));const p=(e,t)=>Object(s.action)(a.UpdateListFromWS,{id:e,k8sObjects:t}),m=(e,t)=>Object(s.action)(a.Loaded,{id:e,k8sObjects:t}),b=(e,t)=>Object(s.action)(a.BulkAddToList,{id:e,k8sObjects:t}),v=e=>Object(s.action)(a.StartWatchK8sObject,{id:e}),g=(e,t)=>Object(s.action)(a.StartWatchK8sList,{id:e,query:t}),h=(e,t)=>Object(s.action)(a.ModifyObject,{id:e,k8sObjects:t}),f=e=>Object(s.action)(a.StopWatchK8s,{id:e}),E=(e,t)=>Object(s.action)(a.Errored,{id:e,k8sObjects:t}),y={Accept:"application/json;as=PartialObjectMetadataList;v=v1;g=meta.k8s.io,application/json"},O={Accept:"application/json;as=PartialObjectMetadata;v=v1;g=meta.k8s.io,application/json"},j={},k={},_={},S=e=>t=>{if(_[e]-=1,_[e]>0)return o.a;const n=j[e];n&&(n.destroy(),delete j[e]);const a=k[e];return clearInterval(a),delete k[e],delete _[e],t(f(e))},T=(e,t,n,a,s=!1)=>(v,h)=>{if(e in _)return _[e]+=1,o.a;v(g(e,t)),_[e]=1;const f=(o="")=>d(void 0,void 0,void 0,(function*(){if(!_[e])return null;const r=s?{headers:y}:{},i=yield Object(c.c)(n,Object.assign(Object.assign({limit:250},t),o?{continue:o}:{}),!0,r);return _[e]?(o?v(b(e,i.items)):[m,a].forEach(t=>t&&v(t(e,i.items))),i.metadata.continue?f(i.metadata.continue):i.metadata.resourceVersion):null})),O=()=>d(void 0,void 0,void 0,(function*(){delete k[e];try{const a=yield f();if(!_[e])return console.log(`stopped watching ${e} before finishing incremental loading.`),void v(S(e));if(j[e])return void console.warn(`Attempted to create multiple websockets for ${e}.`);if(!r.a(n,"verbs",["watch"]).includes("watch"))return console.warn(Object(i.b)(n)+" does not support watching, falling back to polling."),void(k[e]||(k[e]=window.setTimeout(O,15e3)));const{subprotocols:o}=Object(u.a)(h())||{};j[e]=Object(l.a)(n,Object.assign(Object.assign({},t),{resourceVersion:a}),{subprotocols:o,timeout:6e4})}catch(t){return _[e]?(v(E(e,t)),void(k[e]||(k[e]=window.setTimeout(O,15e3)))):(console.log(`stopped watching ${e} before finishing incremental loading with error ${t}!`),void v(S(e)))}j[e].onclose(t=>{if(1006!==t.code)return;console.log("WS closed abnormally");const n=j[e];n&&n.destroy(!0)}).ondestroy(t=>{t&&(console.log(`WS ${e} timed out - restarting polling`),delete j[e],k[e]||(k[e]=window.setTimeout(O,15e3)))}).onbulkmessage(t=>[p,a].forEach(n=>n&&v(n(e,t))))}));return O()},N=(e,t,n,a,s,d=!1)=>(p,m)=>{if(e in _)return _[e]+=1,o.a;const b=p(v(e));_[e]=1;const g=d?{headers:O}:{},f=()=>{Object(c.b)(s,t,n,{},g).then(t=>p(h(e,t)),t=>p(E(e,t))).catch(e=>{console.log(e)})};if(k[e]=window.setInterval(f,3e4),f(),!r.a(s,"verbs",["watch"]).includes("watch"))return console.warn(Object(i.b)(s)+" does not support watching"),o.a;if(s.namespaced&&a.name&&!a.ns)return console.error("Namespace required to watch namespaced resource: ",s.kind,a.name),o.a;a.name&&(a.fieldSelector="metadata.name="+a.name,delete a.name);const{subprotocols:y}=Object(u.a)(m())||{};return j[e]=Object(l.a)(s,a,{subprotocols:y}).onbulkmessage(t=>t.forEach(t=>p(h(e,t.object)))),b}},6065:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(5),o=n(15);const r=(e,t)=>{if(!e||!t)return[];const n=t.map(e=>Object.assign(Object.assign({},e),{items:[]}));return e.reduce((e,t)=>{const n=e.filter(e=>t.properties.groupId===e.id);return n.length?n.forEach(e=>e.items.push(t)):e.push({id:t.properties.id,name:t.properties.label,items:[t]}),e},n).filter(e=>e.items.length)},s=(e,t)=>{a.Vb.push(t),e.preventDefault()},i=(e,t)=>e&&t?e.replace(/:namespace\b/g,t):null,c=(e,t)=>e&&t?e===o.c?t.filter(({properties:{href:e}})=>!(null==e?void 0:e.match(/:namespace\b/))):t:[]},6103:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));n(61);var a=n(22),o=n(50),r=(n(363),n(460),n(6514)),s=(n(5848),n(6515));n(10);const i=(e,t)=>`${r.a}${((e,t)=>{let n=(({apiGroup:e="core",apiVersion:t})=>{const n="core"===e&&"v1"===t;let a=n?"/api/":"/apis/";return!n&&e&&(a+=e+"/"),a+=t,a})(e);if(t.ns&&(n+="/namespaces/"+t.ns),n+="/"+e.plural,t.name&&(n+="/"+encodeURIComponent(t.name)),t.path&&(n+="/"+t.path),!a.a(t.queryParams)){n+="?"+o.a(t.queryParams,(e,t)=>`${t}=${e}`).join("&")}return n})(e,t)}`,c=e=>Array.isArray(e)?e:[e],l=e=>"Equals"===e.operator?`${e.key}=${e.values[0]}`:"NotEquals"===e.operator?`${e.key}!=${e.values[0]}`:"Exists"===e.operator?e.key:"DoesNotExist"===e.operator?"!"+e.key:"In"===e.operator?`${e.key} in (${c(e.values).join(",")})`:"NotIn"===e.operator?`${e.key} notin (${c(e.values).join(",")})`:"GreaterThan"===e.operator?`${e.key} > ${e.values[0]}`:"LessThan"===e.operator?`${e.key} < ${e.values[0]}`:"",u=e=>((e={})=>{const t=[],n=(e=>!e.matchLabels&&!e.matchExpressions)(e)?e:e.matchLabels,{matchExpressions:a}=e;return Object.keys(n||{}).sort().forEach(e=>{var a,o;t.push((a=e,o=n[e],{key:a,operator:"Equals",values:[o]}))}),(a||[]).forEach(e=>{t.push(e)}),t})(e).map(l).join(","),d=(e,t={},n={})=>{const a={watch:"true"},o={queryParams:a},r=Object.assign({host:"auto",reconnect:!0,jsonParse:!0,bufferFlushInterval:500,bufferMax:1e3},n),{labelSelector:c}=t;if(c){const e=encodeURIComponent(u(c));e&&(a.labelSelector=e)}t.fieldSelector&&(a.fieldSelector=encodeURIComponent(t.fieldSelector)),t.ns&&(o.ns=t.ns),t.resourceVersion&&(a.resourceVersion=encodeURIComponent(t.resourceVersion));const l=i(e,o);return r.path=l,new s.a(l,r)}},6104:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(7),s=n(5),i=n(108),c=n(10),l=n(8),u=n(2221),d=n(5589);t.a=({edge:e})=>{var t;const{t:n}=Object(r.useTranslation)(),[p]=Object(i.a)({isList:!0,kind:Object(l.Hb)(c.ConsoleLinkModel),optional:!0}),m=Object(d.g)(e.getSource()),b=Object(d.g)(e.getTarget()),v=e.getData(),g=[m,b],{metadata:{namespace:h}}=g[1];return a.createElement("div",{className:"overview__sidebar-pane-body"},a.createElement(s.ub,{text:n("topology~Connections")}),a.createElement("ul",{className:"list-group"},o.a(g,e=>{if(!e)return null;const{metadata:{name:t,uid:n},spec:o}=e,r=null==o?void 0:o.sinkUri;return a.createElement("li",{className:"list-group-item  container-fluid",key:n},r?a.createElement(s.z,{href:r,additionalClassName:"co-external-link--block",text:r,dataTestID:"sink-uri-"+r}):a.createElement(s.hb,{kind:Object(l.Db)(e),name:t,namespace:h,dataTest:"resource-link-"+t}))})),(null===(t=null==v?void 0:v.sbr)||void 0===t?void 0:t.status.secret)&&a.createElement(a.Fragment,null,a.createElement(s.ub,{text:n("topology~Secret")}),a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item  container-fluid",key:v.sbr.status.secret},a.createElement(s.hb,{kind:Object(l.Hb)(c.SecretModel),name:v.sbr.status.secret,namespace:v.sbr.metadata.namespace,dataTest:"secret-resource-link-"+v.sbr.status.secret})))),e.getType()===u.x&&a.createElement(a.Fragment,null,a.createElement(s.ub,{text:n("topology~Kiali link")}),a.createElement(s.z,{href:Object(d.f)(p,h),text:n("topology~Kiali Graph view"),dataTestID:"kiali-link"})))}},6126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{var n;return null!==(n=e.find(e=>((e,t)=>{const n=(e=>-1===e.lastIndexOf(".")?null:e.split(".").pop())(e);return!(!n||0===n.length)&&t.includes(n.toLowerCase())})(t,e.properties.fileExtensions)))&&void 0!==n?n:null}},6133:function(e,t,n){"use strict";var a=n(6008);n.d(t,"a",(function(){return a.a}));n(6063)},6134:function(e,t,n){"use strict";let a;const o={setStore:e=>{a=e},getStore:()=>a};t.a=o},6135:function(e,t,n){"use strict";n(6009),n(6201);var a=n(6202);n.d(t,"a",(function(){return a.a}));var o=n(6206);n.d(t,"b",(function(){return o.a}))},6137:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return j}));var a=n(0),o=n(6528),r=n(6208),s=n(6527),i=n(6529),c=n(4373),l=n(4393),u=n(6526),d=n(29),p=n(616),m=n(2221),b=n(761),v=n(6065),g=n(5960);const h="allImportResourceAccess",f="allCatalogImageResourceAccess",E=(e,t,n,a,o)=>{const r=Object(v.d)(e,t),s=new URLSearchParams;return n||a?(n?s.append(b.r.APPLICATION,n):s.append(b.r.APPLICATION,m.z),a&&s.append(b.r.CONTEXT_ACTION,JSON.stringify({type:o?b.j:b.i,payload:a})),`${r}${r.indexOf("?")>-1?"&":"?"}${s.toString()}`):r},y={FromGit:(e,t,n,o,r)=>({id:"import-from-git",label:d.a.t("devconsole~Import from Git"),icon:a.createElement(c.a,null),cta:{href:E("/import/ns/:namespace",e,t,n)},path:o,disabled:r}),ContainerImage:(e,t,n,o,r)=>({id:"deploy-image",label:d.a.t("devconsole~Container Image"),icon:a.createElement(u.a,null),cta:{href:E("/deploy-image/ns/:namespace",e,t,n)},path:o,disabled:r}),DevCatalog:(e,t,n,o,s)=>({id:"dev-catalog",label:d.a.t("devconsole~From Catalog"),icon:a.createElement(r.a,null),cta:{href:E("/catalog/ns/:namespace",e,t,n)},path:o,disabled:s}),DatabaseCatalog:(e,t,n,o,r)=>({id:"dev-catalog-databases",label:d.a.t("devconsole~Database"),icon:a.createElement(s.a,null),cta:{href:E("/catalog/ns/:namespace?category=databases",e,t,n)},path:o,disabled:r}),Samples:(e,t,n,o,r)=>({id:"import-from-samples",label:d.a.t("devconsole~Samples"),icon:a.createElement(l.a,null),cta:{href:E("/samples/ns/:namespace",e,t,n)},path:o,disabled:r}),OperatorBacked:(e,t,n,r,s,i)=>({id:"operator-backed",label:d.a.t("devconsole~Operator Backed"),icon:a.createElement(o.a,null),cta:{href:E("/catalog/ns/:namespace?catalogType=OperatorBackedService",e,t,n,i)},path:r,disabled:s}),UploadJarFile:(e,t,n,o,r)=>({id:"upload-jar",label:d.a.t("devconsole~Upload JAR file"),icon:a.createElement(i.a,null),cta:{href:E("/upload-jar/ns/:namespace",e,t,n)},path:o,disabled:r}),CreateServerlessFunction:(e,t,n,o,r)=>({id:"create-serverless-function",label:d.a.t("devconsole~Create Serverless function"),icon:a.createElement(p.ServerlessFunctionIcon,{style:p.eventIconStyle}),cta:{href:E("/serverless-function/ns/:namespace",e,t,n)},path:o,disabled:r}),CreateServerlessFunctionUsingSamples:(e,t,n,o,r)=>({id:"create-serverless-function-samples",label:d.a.t("devconsole~Serverless function using Samples"),icon:a.createElement(p.ServerlessFunctionIcon,{style:p.eventIconStyle}),cta:{href:E("/samples/ns/:namespace?sampleType=Serverless function",e,t,n)},path:o,disabled:r})},O=Object(g.a)(),j=e=>!(null==O?void 0:O.includes(e.id))},6198:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n(839),o=n(22),r=n(50),s=n(499),i=n(6133),c=n(6103);const l=(e,t)=>n=>{const a=t.map(e=>{if("opts"===e){const{name:e,ns:t,path:a,queryParams:o}=n||{};return Object.assign(Object.assign(Object.assign(Object.assign({},e&&{name:e}),t&&{ns:t}),a&&{path:a}),o&&{queryParams:o})}return n[e]});return e(...a)},u=(e,t,n,a,o)=>Object(i.a)(Object(c.b)(e,Object.assign({ns:n,name:t},a)),"GET",o,null),d=(l(u,["model","name","ns","opts","requestInit"]),(e,t,n={})=>{var a;return i.a.post(Object(c.b)(e,Object.assign({ns:null===(a=null==t?void 0:t.metadata)||void 0===a?void 0:a.namespace},n)),t,null,null)}),p=(l(d,["model","data","opts"]),l((e,t,n,a,o)=>{var r,s;return i.a.put(Object(c.b)(e,Object.assign({ns:n||(null===(r=t.metadata)||void 0===r?void 0:r.namespace),name:a||(null===(s=t.metadata)||void 0===s?void 0:s.name)},o)),t,null,null)},["model","data","ns","name","opts"]),l((e,t,n,r={})=>{const s=a.a(n);return o.a(s)?Promise.resolve(t):i.a.patch(Object(c.b)(e,Object.assign({ns:t.metadata.namespace,name:t.metadata.name},r)),s,null,null)},["model","resource","data","opts"]),l((e,t,n={},a={},o=null)=>{const{propagationPolicy:r}=e,s=null!=o?o:r&&{kind:"DeleteOptions",apiVersion:"v1",propagationPolicy:r};return i.a.delete(Object(c.b)(e,Object.assign({ns:t.metadata.namespace,name:t.metadata.name},n)),s,a,null)},["model","resource","opts","requestInit","json"]),(e,t={},n=!1,a={})=>{const o=r.a(s.a(t,"ns"),(e,t)=>{let n;return"labelSelector"===t&&(n=Object(c.c)(e)),`${encodeURIComponent(t)}=${encodeURIComponent(null!=n?n:e)}`}).join("&"),l=Object(c.b)(e,{ns:t.ns});return Object(i.a)(`${l}?${o}`,"GET",a,null).then(t=>{var a;const o=null===(a=t.items)||void 0===a?void 0:a.map(n=>Object.assign({kind:e.kind,apiVersion:t.apiVersion},n));return n?Object.assign(Object.assign({},t),{items:o}):o})});l(p,["model","queryParams","raw","requestInit"])},6199:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,Object.setPrototypeOf(this,new.target.prototype)}}},6200:function(e,t,n){"use strict";n(61),n(6062)},6201:function(e,t,n){"use strict";n(31)},6202:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(31),r=n(6064),s=n(6516),i=n(6203),c=n(6204),l=n(6009),u=n(6205);const d=e=>{const t=Object(c.a)(e,!0),n=Object(u.a)(),[d]=Object(l.b)((null==t?void 0:t.groupVersionKind)||(null==t?void 0:t.kind)),p=a.useMemo(()=>Object(i.b)(t,d),[d,t]),m=Object(o.useDispatch)();a.useEffect(()=>(p&&m(p.dispatch),()=>{p&&m(r.a(p.id))}),[m,p]);const b=Object(o.useSelector)(e=>p?Object(s.a)(e,p.id):null);return a.useMemo(()=>{if(!t)return[void 0,!0,void 0];if(!b){const e=(null==t?void 0:t.isList)?[]:{};return n&&!d?[e,!0,new i.a]:[e,!1,void 0]}return[Object(i.c)(b.get("data"),t),b.get("loaded"),b.get("loadError")]},[t,b,n,d])}},6203:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(22),o=n(6064),r=n(6199),s=n(5848);class i extends r.a{constructor(){super("Model does not exist")}}const c=Symbol("_cachedToArrayResult"),l=Symbol("_cachedToJSONResult"),u=(e,t)=>e?t.isList&&e.toArray?(e[c]||(e[c]=e.toArray().map(e=>e.toJSON?(e[l]||(e[l]=e.toJSON()),e[l]):e)),e[c]):e.toJSON?(e[l]||(e[l]=e.toJSON()),e[l]):null:null,d=(e,t)=>{if(!t||!e)return null;const n=((e,t,n,o,r)=>{const s={};return a.a(t)||(s.labelSelector=t),a.a(e)||(s.ns=e),a.a(o)||(s.name=o),n&&(s.fieldSelector=n),r&&(s.limit=r),s})(e.namespace,e.selector,e.fieldSelector,e.name,e.limit),r=((e,t)=>{let n="";return a.a(t)||(n="---"+JSON.stringify(t)),`${Object(s.b)(e||{})}${n}`})(t,n);return{id:r,dispatch:e.isList?o.b(r,n,t,null,e.partialMetadata):o.c(r,e.name,e.namespace,n,t,e.partialMetadata)}}},6204:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(107);const r=(e,t)=>{const n=a.useRef();return(t?JSON.stringify(e)===JSON.stringify(n.current):o.a(e,n.current))||(n.current=e),n.current}},6205:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(31);const r=()=>{const e=a.useRef(!1),t=Object(o.useSelector)(({k8s:e})=>e.getIn(["RESOURCES","loaded"])),n=Object(o.useSelector)(({k8s:e})=>e.getIn(["RESOURCES","inFlight"]));return e.current||!t||n||(e.current=!0),e.current}},6206:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(61),r=n(31),s=n(786),i=n(6064),c=n(5848),l=n(6203),u=n(6204),d=n(6009),p=n(6205),m=n(6517);const b=e=>{const t=Object(u.a)(e,!0),n=Object(p.a)(),b=Object(r.useSelector)(e=>e.k8s.getIn(["RESOURCES","models"])),v=Object(m.a)(b),g=Object(m.a)(t),h=a.useRef(Object(o.Map)());if(g!==t||v!==b&&Object.values(t).some(e=>{const t=Object(c.c)(e.groupVersionKind||e.kind);return Object(d.a)(v,t)!==Object(d.a)(b,t)})){const e=Object.values(t).map(e=>Object(c.c)(e.groupVersionKind||e.kind));h.current=b.filter(t=>e.includes(Object(c.b)(t))||e.includes(t.kind))}const f=h.current,E=a.useMemo(()=>n?Object.keys(t).reduce((e,n)=>{const a=Object(c.c)(t[n].groupVersionKind||t[n].kind),o=a&&(f.get(a)||f.get(Object(c.a)(a).kind));if(o){const a=Object(l.b)(t[n],o);a&&(e[n]=a)}else e[n]={noModel:!0};return e},{}):null,[f,n,t]),y=Object(r.useDispatch)();a.useEffect(()=>{const e=Object.keys(E||{});return e.forEach(e=>{E[e].dispatch&&y(E[e].dispatch)}),()=>{e.forEach(e=>{E[e].dispatch&&y(i.a(E[e].id))})}},[y,E]);const O=a.useMemo(()=>Object(s.b)(s.c,(e,t)=>Object.keys(E||{}).filter(e=>!E[e].noModel).every(n=>e.get(E[n].id)===t.get(E[n].id))),[E]),j=a.useMemo(()=>O(e=>e.k8s,e=>e),[O]),k=Object(r.useSelector)(j);return a.useMemo(()=>Object.keys(t).reduce((e,n)=>{if(null==E?void 0:E[n].noModel)e[n]={data:t[n].isList?[]:{},loaded:!0,loadError:new l.a};else if(k.has(null==E?void 0:E[n].id)){const a=Object(l.c)(k.getIn([E[n].id,"data"]),t[n]),o=k.getIn([E[n].id,"loaded"]),r=k.getIn([E[n].id,"loadError"]);e[n]={data:a,loaded:o,loadError:r}}else e[n]={data:t[n].isList?[]:{},loaded:!1,loadError:void 0};return e},{}),[t,E,k])}},6209:function(e,t,n){"use strict";var a=n(5873);n.d(t,"a",(function(){return a.a}));var o=n(5874);n.d(t,"b",(function(){return o.a}))},6275:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(5585),o=n(15),r=n(5589);const s=e=>{const t=e.filter(e=>Object(a.isNode)(e)).reduce((e,t)=>{const n=Object(r.h)(t);return e[n]||(e[n]=[]),e[n].push(t),e},{});return{kindsMap:t,kindKeys:Object.keys(t).sort((e,t)=>Object(o.Xd)(e).localeCompare(Object(o.Xd)(t)))}},i=e=>e.filter(e=>Object(a.isNode)(e)).sort((e,t)=>Object(o.Xd)(Object(r.h)(e)).localeCompare(Object(o.Xd)(Object(r.h)(t)))).sort((e,t)=>e.getLabel().localeCompare(t.getLabel()))},6276:function(e,t,n){"use strict";var a=n(0),o=n(2212),r=n(5585),s=(n(1401),n(5)),i=n(15),c=n(5697);t.a=Object(r.observer)(({group:e})=>{const t=Object(c.k)(),{groupResources:n}=e.getData(),r=n.filter(e=>{var n;return Object(c.i)(e.resourceKind||(null===(n=e.resource)||void 0===n?void 0:n.kind),t)}).reduce((e,t)=>{var n;const a=t.resourceKind||(null===(n=t.resource)||void 0===n?void 0:n.kind);return e[a]||(e[a]=0),e[a]++,e},{}),l=Object.keys(r).sort((e,t)=>Object(i.Xd)(e).localeCompare(Object(i.Xd)(t)));return a.createElement(o.a,{key:"resources",id:e.getId()+"_resources"},l.map(e=>{let t;return t=a.createElement(s.fb,{className:"co-m-resource-icon--md",kind:e}),a.createElement("span",{key:e,className:"odc-topology-list-view__group-resource-count"},r[e],t)}))})},6277:function(e,t,n){"use strict";var a=n(6536);n.d(t,"a",(function(){return a.a}));var o=n(6276);n.d(t,"d",(function(){return o.a}));var r=n(6278);n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b}));var s=n(6279);n.d(t,"e",(function(){return s.a})),n.d(t,"f",(function(){return s.b}));var i=n(6280);n.d(t,"g",(function(){return i.a}));var c=n(6031);n.d(t,"h",(function(){return c.a}))},6278:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(0),o=n(2212),r=n(7),s=n(5),i=n(5589),c=n(5678),l=n(6537);n(7267);const u=a.memo(({cpuByPod:e,totalCores:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement("div",{className:"odc-topology-list-view__metrics-cell__detail--cpu"},a.createElement(l.a,{metricLabel:n("topology~CPU"),byPod:e},a.createElement("span",null,a.createElement("span",{className:"odc-topology-list-view__metrics-cell__metric-value"},Object(s.Pb)(t))," ",a.createElement("span",{className:"odc-topology-list-view__metrics-cell__metric-unit"},"cores"))))}),d=({item:e})=>{const t=Object(i.k)(e.getData()),n=Object(c.a)(t);return a.createElement(o.a,{id:e.getId()+"_metrics"},n&&n.totalBytes&&n.totalCores?a.createElement(u,{cpuByPod:n.cpuByPod,totalCores:n.totalCores}):null)}},6279:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(0),o=n(2212),r=n(5),s=n(5589),i=n(5678),c=n(6537);n(7268);const l=a.memo(({totalBytes:e,memoryByPod:t})=>a.createElement("div",{className:"odc-topology-list-view__metrics-cell__detail--memory"},a.createElement(c.a,{metricLabel:"Memory",byPod:t},a.createElement("span",null,a.createElement("span",{className:"odc-topology-list-view__metrics-cell__metric-value"},Object(r.Ob)(e))," ",a.createElement("span",{className:"odc-topology-list-view__metrics-cell__metric-unit"},"MiB"))))),u=({item:e})=>{const t=Object(s.k)(e.getData()),n=Object(i.a)(t);return a.createElement(o.a,{id:e.getId()+"_memory"},n&&n.totalBytes&&n.totalCores?a.createElement(l,{totalBytes:n.totalBytes,memoryByPod:n.memoryByPod}):null)}},6280:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),o=n(2212),r=n(7),s=n(14),i=n(5),c=n(10),l=n(8),u=n(15),d=n(5589);n(7269);const p=({desired:e=0,ready:t=0,resource:n})=>{const{t:o}=Object(r.useTranslation)(),c=Object(i.sc)(n,n.kind)+"/pods";return a.createElement(s.Link,{to:c},o("topology~{{ready, number}} of {{count, number}} Pod",{ready:t,count:e}))},m=({obj:e,podData:t})=>{var n,o,u,d,m;const{t:b}=Object(r.useTranslation)();if(e.kind===c.DaemonSetModel.kind)return a.createElement(p,{desired:null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.desiredNumberScheduled,ready:null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.currentNumberScheduled,resource:e});if(void 0===(null===(u=e.spec)||void 0===u?void 0:u.replicas)){const n=Object(i.sc)(e,e.kind)+"/pods",o=null!==(m=null===(d=t.pods)||void 0===d?void 0:d.filter(e=>"Completed"!==Object(l.zb)(e)))&&void 0!==m?m:[];return o.length?a.createElement(s.Link,{to:n},b("topology~{{length}} Pods",{length:o.length})):null}return t.isRollingOut?a.createElement("span",{className:"text-muted"},b("topology~Rollout in progress...")):a.createElement(p,{desired:e.spec.replicas,ready:e.status.replicas,resource:t.current?t.current.obj:e})},b=({item:e})=>{const t=Object(d.k)(e.getData()),{podData:n,loaded:r,loadError:s}=Object(u.Se)(t);return a.createElement(o.a,{id:e.getId()+"_status"},a.createElement("div",{className:"odc-topology-list-view__detail--status"},r&&!s?a.createElement(m,{obj:t,podData:n}):null))}},6510:function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return o}));const o=()=>{if(void 0===a)throw new Error("setUtilsConfig has not been called");return a}},6511:function(e,t,n){"use strict";var a=n(6062);n.d(t,"a",(function(){return a.b}))},6512:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6199);class o extends a.a{constructor(e,t,n,a){super(e),this.code=t,this.response=n,this.json=a}static fromCode(e){return new o(o.messages[e],e)}}o.messages={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",510:"Not Extended",511:"Network Authentication Required"};class r extends a.a{constructor(e,t){super(`Call to ${e} timed out after ${t}ms.`),this.url=e,this.ms=t}}a.a;a.a},6513:function(e,t,n){"use strict";n(6200);var a=n(6043);n.d(t,"a",(function(){return a.a}))},6514:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=window.SERVER_FLAGS.basePath+"api/kubernetes"},6515:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e,t){this.id=e,this.options=t,this.bufferMax=t.bufferMax||0,this.paused=!1,this.handlers={open:[],close:[],error:[],message:[],destroy:[],bulkmessage:[]},this.connect(),this.bufferMax&&(this.flushCanceler=setInterval(this.flushMessageBuffer.bind(this),this.options.bufferFlushInterval||500))}reconnect(){if(this.connectionAttempt||"destroyed"===this.state)return;let e=1e3;const t=()=>this.options.reconnect&&"open"!==this.state?this.options.timeout&&e>this.options.timeout?(clearTimeout(this.connectionAttempt),this.connectionAttempt=null,void this.destroy()):(this.connect(),e=Math.round(Math.min(1.5*e,6e4)),this.connectionAttempt=setTimeout(t,e),void console.log(`attempting reconnect in ${e/1e3} seconds...`)):(clearTimeout(this.connectionAttempt),void(this.connectionAttempt=null));this.connectionAttempt=setTimeout(t,e)}connect(){const e=this;this.state="init",this.messageBuffer=[];const t=((e,t)=>{let n;return"auto"===e?(n="https:"===window.location.protocol?"wss://":"ws://",n+=window.location.host):n=e,t&&(n+=t),n})(this.options.host,this.options.path);try{this.ws=new WebSocket(t,this.options.subprotocols)}catch(e){return console.error("Error creating websocket:",e),void this.reconnect()}this.ws.onopen=function(){console.log("websocket open: "+e.id),e.state="open",e.triggerEvent("open",void 0),e.connectionAttempt&&(clearTimeout(e.connectionAttempt),e.connectionAttempt=null)},this.ws.onclose=function(t){console.log("websocket closed: "+e.id,t),e.state="closed",e.triggerEvent("close",t),e.reconnect()},this.ws.onerror=function(t){console.log("websocket error: "+e.id),e.state="error",e.triggerEvent("error",t)},this.ws.onmessage=function(t){var n;const a=(null===(n=e.options)||void 0===n?void 0:n.jsonParse)?JSON.parse(t.data):t.data;"destroyed"!==e.state&&"closed"!==e.state&&(e.state="open"),e.triggerEvent("message",a)}}registerHandler(e,t){"destroyed"!==this.state&&this.handlers[e].push(t)}invokeHandlers(e,t){const n=this.handlers[e];n&&n.forEach((function(e){try{e(t)}catch(e){console.error("WS handling failed:",e)}}))}triggerEvent(e,t){if("destroyed"!==this.state)return this.bufferMax&&"message"===e?(this.messageBuffer.push(t),void(this.messageBuffer.length>this.bufferMax&&this.messageBuffer.shift())):void this.invokeHandlers(e,t)}onmessage(e){return this.registerHandler("message",e),this}onbulkmessage(e){return this.registerHandler("bulkmessage",e),this}onerror(e){return this.registerHandler("error",e),this}onopen(e){return this.registerHandler("open",e),this}onclose(e){return this.registerHandler("close",e),this}ondestroy(e){return this.registerHandler("destroy",e),this}flushMessageBuffer(){this.paused||this.messageBuffer.length&&(this.handlers.bulkmessage.length?this.invokeHandlers("bulkmessage",this.messageBuffer):this.messageBuffer.forEach(e=>this.invokeHandlers("message",e)),this.messageBuffer=[])}pause(){this.paused=!0}unpause(){this.paused=!1,this.flushMessageBuffer()}isPaused(){return this.paused}getState(){return this.state}bufferSize(){return this.messageBuffer.length}destroy(e){if(console.log("destroying websocket: "+this.id),"destroyed"!==this.state){try{this.ws&&this.ws.close()}catch(e){console.error("Error while close WS socket",e)}clearInterval(this.flushCanceler),clearTimeout(this.connectionAttempt),this.ws&&(this.ws.onopen=null,this.ws.onclose=null,this.ws.onerror=null,this.ws.onmessage=null,delete this.ws);try{this.triggerEvent("destroy",e)}catch(e){console.error("Error while trigger destroy event for WS socket",e)}this.state="destroyed",this.messageBuffer=[]}}send(e){this.ws&&this.ws.send(e)}}},6516:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>e.k8s.get(t)},6517:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0);const o=(e,t)=>{const n=a.useRef();return a.useEffect(()=>{n.current=e},t||[e]),n.current}},6520:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(1957),s=n(15),i=n(6521);const c=({quickStarts:e,quickStartsLoaded:t,catalogService:n,catalogServiceSample:r,namespace:c,viewContainer:l,isOpen:u,setIsOpen:d})=>{const{t:p}=Object(o.useTranslation)(),m=Object(i.a)(e),b=[{catalogType:"devCatalog",items:n.items,loaded:n.loaded,getCatalogURL:(e,t)=>`/catalog/ns/${t}?keyword=${e}`,catalogLinkLabel:"topology~View all developer catalog items ({{itemCount, number}})",extensions:n.catalogExtensions},{catalogType:"quickStarts",items:m,loaded:t,getCatalogURL:e=>"/quickstart?keyword="+e,catalogLinkLabel:"topology~View all quick starts ({{itemCount, number}})",extensions:n.catalogExtensions},{catalogType:"Samples",items:r.items,loaded:r.loaded,getCatalogURL:(e,t)=>`/samples/ns/${t}?keyword=${e}`,catalogLinkLabel:"topology~View all samples ({{itemCount, number}})",extensions:n.catalogExtensions}];return a.createElement(s.Gb,{quickSearchProviders:b,allItemsLoaded:n.loaded&&t,searchPlaceholder:p("topology~Add to Project")+"...",namespace:c,viewContainer:l,isOpen:u,limitItemCount:5,setIsOpen:d})};t.a=a.memo(({namespace:e,viewContainer:t,isOpen:n,setIsOpen:o})=>a.createElement(s.z,{namespace:e,catalogId:"dev-catalog"},i=>a.createElement(s.z,{namespace:e,catalogId:"samples-catalog"},s=>a.createElement(r.default,null,(r,l)=>a.createElement(c,Object.assign({},{namespace:e,viewContainer:t,isOpen:n,setIsOpen:o,catalogService:i,catalogServiceSample:s,quickStarts:r,quickStartsLoaded:l}))))))},6521:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(2217),r=n(356),s=n(7),i=n(879);const c=e=>{const{setActiveQuickStart:t}=Object(i.useQuickStartContext)(),{t:n}=Object(s.useTranslation)();return a.useMemo(()=>e.map(e=>{var s;const i=null===(s=e.spec.prerequisites)||void 0===s?void 0:s.filter(e=>e),c=a.createElement(a.Fragment,null,a.createElement("p",null,e.spec.description),(null==i?void 0:i.length)>0&&a.createElement(a.Fragment,null,a.createElement("h5",null,n("topology~Prerequisites")),a.createElement(o.a,null,i.map((e,t)=>a.createElement(r.a,{key:t},e)))));return{name:e.spec.displayName,type:n("topology~Quick Starts"),uid:e.metadata.uid,cta:{callback:()=>{var n;return t(e.metadata.name,null===(n=e.spec.tasks)||void 0===n?void 0:n.length)},label:n("topology~Start")},icon:{url:e.spec.icon},description:c}}),[n,e,t])}},6522:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(19),s=n(7),i=n(2309);n(6523);t.a=({onClick:e})=>{const{t:t}=Object(s.useTranslation)();return a.createElement(o.a,{position:"right",content:t("topology~Add to Project")},a.createElement(r.a,{className:"odc-topology-quick-search-button","data-test":"quick-search",variant:"plain",onClick:t=>{t.stopPropagation(),e()},"aria-label":t("topology~Quick search button")},a.createElement(i.a,null)))}},6523:function(e,t,n){},6524:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),o=n(351),r=n(7),s=n(14),i=n(976),c=n(99),l=n(10),u=n(172),d=n(6525);const p=({namespace:e})=>{const{t:t}=Object(r.useTranslation)(),n=Object(u.a)(),[p,m]=a.useState(),[b,v]=a.useState(null),[g,h]=a.useState(null),f=a.useMemo(()=>({resourcequotas:{groupVersionKind:{kind:l.ResourceQuotaModel.kind,version:l.ResourceQuotaModel.apiVersion},namespace:e,isList:!0},appliedclusterresourcequotas:{groupVersionKind:{kind:l.AppliedClusterResourceQuotaModel.kind,version:l.AppliedClusterResourceQuotaModel.apiVersion,group:l.AppliedClusterResourceQuotaModel.apiGroup},namespace:e,isList:!0}}),[e]),{resourcequotas:E,appliedclusterresourcequotas:y}=Object(i.yb)(f),[O=[],j,k]=a.useMemo(()=>E.loaded&&!E.loadError?Object(d.a)(E.data):[],[E]),[_=[],S,T]=a.useMemo(()=>y.loaded&&!y.loadError?Object(d.a)(y.data):[],[y]);let N=a.useMemo(()=>[...O,..._],[O,_]);N=N.filter(e=>0!==e),a.useEffect(()=>{1===N.length?(v(j||S),h(k||T)):(v(null),h(null))},[T,S,N,k,j]),a.useEffect(()=>{N.length>0?m(!0):m(!1)},[N]);return a.createElement(a.Fragment,null,p&&E.loaded&&y.loaded?a.createElement(o.a,{color:"orange",icon:a.createElement(i.Y,null)},a.createElement(s.Link,{to:b&&g===l.AppliedClusterResourceQuotaModel.kind?Object(c.resourcePathFromModel)(l.AppliedClusterResourceQuotaModel,b,e):b?Object(c.resourcePathFromModel)(l.ResourceQuotaModel,b,e):Object(c.resourcePathFromModel)(l.ResourceQuotaModel,null,e),"data-test":"resource-quota-warning",onClick:()=>{n("Resource Quota Warning Label Clicked")}},t("devconsole~{{count}} resource reached quota",{count:N.reduce((e,t)=>e+t,0)}))):null)}},6525:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5674),o=n(10);const r=e=>{let t="",n="";return[e.map(e=>{var r,s,i;let c;return c=(null==e?void 0:e.kind)===o.ResourceQuotaModel.kind?Object.keys((null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.hard)||{}).reduce((t,n)=>{var o,r,s;return Object(a.b)(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.hard[n],null===(s=null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.used)||void 0===s?void 0:s[n])>=100?t+1:t},0):Object.keys((null===(i=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===i?void 0:i.hard)||{}).reduce((t,n)=>{var o,r,s,i,c;return Object(a.b)(null===(r=null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.total)||void 0===r?void 0:r.hard[n],null===(c=null===(i=null===(s=null==e?void 0:e.status)||void 0===s?void 0:s.total)||void 0===i?void 0:i.used)||void 0===c?void 0:c[n])>=100?t+1:t},0),c>0&&(t=e.metadata.name,n=e.kind),c}),t,n]}},6530:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(0),o=n(80),r=n(241),s=n(130),i=n(19),c=n(499),l=n(7),u=n(91),d=n(118),p=n(158),m=n(15),b=n(172),v=n(6531),g=n(6532),h=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{c(a.next(e))}catch(e){r(e)}}function i(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))};const f=Object(d.f)(e=>{var t,n;const{t:f}=Object(l.useTranslation)(),E=Object(b.a)(),{cancel:y,name:O,namespace:j,exportResource:k,toast:_}=e,[S,T]=a.useState(null),[N,R]=a.useState(""),[w,C]=Object(m.ef)(m.nc+".exportApp",{},!0);a.useEffect(()=>{var e;k&&!0!==(null===(e=k.status)||void 0===e?void 0:e.completed)&&T(Object(p.c)().format(new Date(k.metadata.creationTimestamp)))},[k]);const P=()=>h(void 0,void 0,void 0,(function*(){try{const e=yield Object(v.a)(Object(v.b)(O,j));E("Export Application Started");const t=`${j}-${O}`,n=Object.assign(Object.assign({},w),{[t]:{groupVersionKind:Object(u.d)(e),uid:e.metadata.uid,name:O,namespace:j}});null==_||_.addToast({variant:o.b.info,title:f("topology~Export application"),content:a.createElement(a.Fragment,null,a.createElement(l.Trans,{t:f,ns:"topology"},"Export of resources in ",a.createElement("strong",null,{namespace:j})," has started."),a.createElement(g.a,{name:O,namespace:j})),dismissible:!0,timeout:m.hc}),C(n)}catch(e){null==_||_.addToast({variant:o.b.danger,title:f("topology~Export application"),content:a.createElement(l.Trans,{t:f,ns:"topology"},"Export of resources in ",a.createElement("strong",null,{namespace:j})," has failed with error:"," ",e.message),dismissible:!0,timeout:m.gc})}})),D=()=>h(void 0,void 0,void 0,(function*(){try{yield h(void 0,void 0,void 0,(function*(){return k&&(yield Object(v.d)(k)),!0})),y()}catch(e){R(e.message)}})),x=k&&!0!==(null===(t=k.status)||void 0===t?void 0:t.completed);return a.createElement("div",{className:"modal-content","data-test":"export-application-modal"},a.createElement(d.d,null,f("topology~Export Application")),a.createElement(d.a,null,x?S?a.createElement(l.Trans,{t:f,ns:"topology"},"Application export in ",a.createElement("strong",null,{namespace:j})," is in progress. Started at"," ",{startTime:S},"."):a.createElement(l.Trans,{t:f,ns:"topology"},"Application export in ",a.createElement("strong",null,{namespace:j})," is in progress."):a.createElement(l.Trans,{t:f,ns:"topology"},"Do you want to export your application?")),a.createElement(d.b,{inProgress:!1,errorMessage:N},a.createElement(r.a,{justifyContent:{default:"justifyContentFlexEnd"}},a.createElement(s.a,null,a.createElement(i.a,{type:"button",variant:"secondary","data-test":x?"export-cancel-btn":"cancel-btn",onClick:()=>x?D():y()},f(x?"topology~Cancel Export":"topology~Cancel"))),x&&a.createElement(a.Fragment,null,a.createElement(s.a,null,a.createElement(i.a,{type:"button",variant:"secondary","data-test":"export-restart-btn",onClick:()=>h(void 0,void 0,void 0,(function*(){try{yield h(void 0,void 0,void 0,(function*(){try{k&&(yield Object(v.d)(k)),(yield Object(v.c)(O,j))?setTimeout(P,2e3):yield P()}catch(e){P().catch(e=>console.warn("Could not createExportCR:",e))}return!0})),y()}catch(e){R(e.message)}}))},f("topology~Restart Export"))),a.createElement(s.a,null,a.createElement(g.a,{name:O,namespace:j,onViewLog:y}))),a.createElement(s.a,null,a.createElement(i.a,{type:"button",variant:"primary","data-test":k&&!0!==(null===(n=k.status)||void 0===n?void 0:n.completed)?"export-close-btn":"close-btn",onClick:()=>{var e;return k&&!0!==(null===(e=k.status)||void 0===e?void 0:e.completed)?y():h(void 0,void 0,void 0,(function*(){var e;try{if(k&&(null===(e=k.status)||void 0===e?void 0:e.completed)){yield Object(v.d)(k);const e=c.a(w,`${j}-${O}`);C(e),yield P()}else yield P()}catch(e){P().catch(e=>console.warn("Could not createExportCR:",e))}y()}))}},f("topology~OK"))))))}),E=(e,t,n)=>h(void 0,void 0,void 0,(function*(){try{const a=yield Object(v.c)(e,t);f({name:e,namespace:t,exportResource:a,toast:n})}catch(a){console.warn("Error while getting export resource:",a),f({name:e,namespace:t,toast:n})}}))},6531:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var a=n(8),o=n(2284);const r=(e,t)=>({apiVersion:`${o.a.apiGroup}/${o.a.apiVersion}`,kind:o.a.kind,metadata:{name:e,namespace:t},spec:{method:"download"}}),s=e=>Object(a.jb)(o.a,e),i=(e,t)=>Object(a.kb)(o.a,e,t),c=e=>Object(a.lb)(o.a,e)},6532:function(e,t,n){"use strict";var a=n(0),o=n(19),r=n(88),s=n(7),i=n(5),c=n(108),l=n(10),u=n(15),d=n(2221);t.a=({name:e,namespace:t,onViewLog:n})=>{const{t:p}=Object(s.useTranslation)(),[m,b]=Object(c.a)({kind:l.JobModel.kind,name:d.e+e,namespace:t,isList:!1}),v=a.useMemo(()=>b&&(null==m?void 0:m.metadata)?{kind:l.PodModel.kind,isList:!1,namespace:m.metadata.namespace,selector:m.spec.selector}:null,[m,b]),[g,h]=Object(c.a)(v),f=h&&(null==g?void 0:g.kind)===(null===l.PodModel||void 0===l.PodModel?void 0:l.PodModel.kind)&&(null==g?void 0:g.metadata)&&Object(i.tc)(l.PodModel.kind,null==g?void 0:g.metadata.name,null==g?void 0:g.metadata.namespace)+"/logs",E=a.createElement(o.a,{component:"a",variant:"link","data-test":"export-view-log-btn",href:f,onClick:e=>{Object(u.Sd)(e)||(e.preventDefault(),i.Vb.push(f),null==n||n())}},p("topology~View Logs")),y=a.createElement(r.a,{content:p("topology~Logs not available yet")},a.createElement(o.a,{component:"a",variant:"link","data-test":"export-view-log-btn",isAriaDisabled:!0},p("topology~View Logs")));return f?E:y}},6533:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(5),r=n(10),s=n(975),i=n(15),c=n(6137),l=n(761);const u=(e,t)=>({group:e.apiGroup||"",resource:e.plural,namespace:t,verb:"create"}),d=e=>{const t=Object(o.Dc)(u(r.BuildConfigModel,e)),n=Object(o.Dc)(u(r.ImageStreamModel,e)),d=Object(o.Dc)(u(r.DeploymentConfigModel,e)),p=Object(o.Dc)(u(r.ImageStreamImportsModel,e)),m=Object(o.Dc)(u(r.SecretModel,e)),b=Object(o.Dc)(u(r.RouteModel,e)),v=Object(o.Dc)(u(r.ServiceModel,e)),g=Object(i.Fe)(s.a);return a.useMemo(()=>{const e=[];return t&&n&&d&&m&&b&&v&&(e.push(c.c),p&&e.push(c.b)),g&&e.push(l.v),e},[t,d,n,p,b,m,v,g])}},6534:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(50),o=n(1256),r=n(199),s=n(109),i=n(58),c=n(436);const l=[401,403,502,503],u=e=>{if(!r.h)return Promise.resolve(null);const t={memory:`sum(container_memory_working_set_bytes{namespace='${e}',container='',pod!=''}) BY (pod, namespace)`,cpu:`pod:container_cpu_usage:sum{namespace="${e}"}`},n=a.a(t,(t,n)=>{const a=`${r.h}/api/v1/query?namespace=${e}&query=${encodeURIComponent(t)}`;return Object(s.c)(a).then(({data:{result:e}})=>{const t=e.reduce((e,{metric:t,value:n})=>(e[t.pod]=Number(n[1]),e),{});return{[n]:t}})});return Promise.all(n).then(e=>e.reduce((e,t)=>o.a(e,t),{}))},d=e=>{if(!r.h)return Promise.resolve(null);const t=Object(c.b)({endpoint:c.a.RULES,namespace:e});return Object(s.c)(t).then(({data:e})=>{const{alerts:t}=Object(i.j)(e);return t})}},6535:function(e,t,n){"use strict";var a=n(0),o=n(4323),r=n(4324),s=n(4325),i=n(2212),c=n(12092),l=n(1890),u=n(5585),d=n(7),p=n(15),m=n(7263);t.a=Object(u.observer)(({groupLabel:e,kind:t,childElements:n,selectedIds:b,onSelect:v})=>{const{t:g}=Object(d.useTranslation)(),h=Object(p.Id)(t),f=n.filter(e=>Object(u.isNode)(e));return f.sort((e,t)=>e.getLabel().localeCompare(t.getLabel())),a.createElement(o.a,{key:t,"aria-labelledby":`${e}-${h}-label`.replace(" ","-"),isExpanded:!0},a.createElement(r.a,{className:"odc-topology-list-view__kind-row"},a.createElement(s.a,{dataListCells:[a.createElement(i.a,{key:t,className:"odc-topology-list-view__kind-label",id:`${e}-${h}-label`.replace(" ","-")},h)]})),a.createElement(c.a,{"aria-label":g("topology~{{groupLabel}} {{resourceLabel}}",{groupLabel:e,resourceLabel:h}),id:`${e}-${h}`,isHidden:!1},a.createElement(l.a,{"aria-label":g("topology~{{resourceLabel}} sub-resources",{resourceLabel:h}),selectedDataListItemId:b[0],onSelectDataListItem:(e,t)=>v(b[0]===t?[]:[t])},f.map(e=>a.createElement(m.a,{key:e.getId(),item:e,selectedIds:b,onSelect:v})))))})},6536:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(2212),s=n(547),i=n(1257),c=n(7),l=n(15),u=n(5594),d=n(322);n(7266);const p=({alerts:e,severity:t,isMobile:n})=>{if(!e)return null;const r=e.length,i=s.a(e.map(e=>e.message)).join("\n"),c=a.createElement("span",{className:"odc-topology-list-view__alert-cell--status"},a.createElement(l.cc,{status:t,title:String(r)}));if(n)return c;const u=[a.createElement("span",{key:"message",className:"co-pre-wrap"},i)];return a.createElement(o.a,{content:u,distance:10},c)};t.a=({item:e})=>{const{t:t}=Object(c.useTranslation)(),n=Object(l.Ke)(),o=Object(u.f)(e),{podData:s,loaded:m}=Object(l.Se)(o),{buildConfigs:b,loaded:v}=Object(l.ve)(o),{loaded:g,mostRecentRC:h}=Object(l.Xe)(o),f=Object(d.useResourceQuotaAlert)(e),E=f?{rqAlert:{message:f.content,severity:f.variant}}:{},y=a.useMemo(()=>m&&s.current?s.current.alerts:{},[m,s]),O=a.useMemo(()=>m&&s.previous?s.current.alerts:{},[m,s]),j=a.useMemo(()=>v&&b?Object(l.Fc)(b):{},[v,b]),k=a.useMemo(()=>g&&h?Object(l.yd)(h):{},[h,g]),_=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(l.Dd)(o)),k),j),y),O),E);if(null==_?void 0:_.length)return null;const{error:S,warning:T,info:N,buildNew:R,buildPending:w,buildRunning:C,buildFailed:P,buildError:D}=i.a(_,"severity");return a.createElement(r.a,{id:e.getId()+"_alerts"},a.createElement("div",{className:"odc-topology-list-view__alert-cell"},(S||T||N)&&a.createElement("div",{className:"odc-topology-list-view__alert-cell__status"},a.createElement("span",{className:"odc-topology-list-view__alert-cell__label"},t("topology~Alerts:")),a.createElement(p,{severity:"Error",alerts:S,isMobile:n}),a.createElement(p,{severity:"Warning",alerts:T,isMobile:n}),a.createElement(p,{severity:"Info",alerts:N,isMobile:n})),(R||w||C||P||D)&&a.createElement("div",{className:"odc-topology-list-view__alert-cell__status"},a.createElement("span",{className:"odc-topology-list-view__alert-cell__label"},t("topology~Builds:")),a.createElement(p,{severity:"New",alerts:R,isMobile:n}),a.createElement(p,{severity:"Pending",alerts:w,isMobile:n}),a.createElement(p,{severity:"Running",alerts:C,isMobile:n}),a.createElement(p,{severity:"Failed",alerts:P,isMobile:n}),a.createElement(p,{severity:"Error",alerts:D,isMobile:n}))))}},6537:function(e,t,n){"use strict";var a=n(0),o=n(88),r=n(599),s=n(22),i=n(4434),c=n(7),l=n(5),u=n(15);t.a=({metricLabel:e,byPod:t,children:n})=>{const{t:d}=Object(c.useTranslation)();if(Object(u.Ke)())return a.createElement(a.Fragment,null,n);const p=r.a(t,["value","name"],["desc","asc"]),m=s.a(p)?[a.createElement(a.Fragment,{key:"no-metrics"},d("topology~No {{metricLabel}} metrics available.",{metricLabel:e}))]:i.a(a.createElement("div",{className:"odc-topology-list-view__metrics-cell__tooltip-title",key:"#title"},d("topology~{{metricLabel}} usage by Pod",{metricLabel:e})),p.map(({name:e,formattedValue:t})=>a.createElement("div",{key:e,className:"odc-topology-list-view__metrics-cell__metric-tooltip"},a.createElement("div",{className:"odc-topology-list-view__metrics-cell__tooltip-name"},a.createElement("span",{className:"no-wrap"},Object(l.Bc)(e))),a.createElement("div",{className:"odc-topology-list-view__metrics-cell__metric-tooltip-value"},t))));if(m.length>7){const e=m.length-6;m.splice(6,e,a.createElement("div",{key:"#removed-pods"},"and ",e," other pods"))}return a.createElement(o.a,{content:m,distance:15},a.createElement(a.Fragment,null,n))}},6786:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(1422),s=n(1954),i=n(1419);t.a=({serviceBinding:e})=>{const{t:t}=Object(o.useTranslation)(),n=Object(i.b)(e);if(n===s.a.CONNECTED)return a.createElement(r.a,{status:n,title:t("service-binding-plugin~Connected")});if(n===s.a.ERROR){const n=Object(i.c)(e);return a.createElement(r.a,{status:"Error",title:t("service-binding-plugin~Error")},n?a.createElement(a.Fragment,null,a.createElement("pre",null,n.reason),n.message):null)}return a.createElement(r.a,{status:n})}},700:function(e,t,n){"use strict";n.r(t);var a=n(7998);n.d(t,"getDevConsoleComponentFactory",(function(){return a.a}));var o=n(7231);n.d(t,"providerProvidesServiceBinding",(function(){return o.b})),n.d(t,"providerCreateServiceBinding",(function(){return o.a}));var r=n(8004);n.d(t,"useHpaTabSectionForTopologySideBar",(function(){return r.a}));var s=n(8005);n.d(t,"useObserveSideBarTabSection",(function(){return s.a}));var i=n(8006);n.d(t,"getSbrPanelResourceLink",(function(){return i.a})),n.d(t,"useSbrPanelDetailsSection",(function(){return i.b})),n.d(t,"useSbrPanelResourceSection",(function(){return i.c}));var c=n(8009);n.d(t,"TopologyPage",(function(){return c.a}))},7228:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(2356),s=n.n(r),i=n(8),c=n(5594),l=n(7229),u=n(5762),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};t.a=Object(o.observer)(e=>{var t,n,{element:r,selected:p,onSelect:m,tooltipLabel:b}=e,v=d(e,["element","selected","onSelect","tooltipLabel"]);const g=r,h=a.useMemo(()=>Object(l.a)(),[]),{width:f,height:E}=g.getBounds(),y=.25*Math.min(f,E),[O,j]=Object(o.useDndDrop)(h,Object.assign({element:g},v)),k=Object(c.h)(r.getData()),_=Object(i.vb)(Object(i.Db)(k)),S=(null===(n=null===(t=r.getData())||void 0===t?void 0:t.data)||void 0===n?void 0:n.icon)||s.a,T=_&&Object(i.Hb)(_);return a.createElement(u.a,Object.assign({className:"bindable-node",tooltipLabel:b,onSelect:m,icon:S,kind:T,innerRadius:y,selected:p,element:g},v,{dndDropRef:j},O))})},7229:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5585),o=n(5782),r=n(5923);const s=()=>{const e=e=>e.getItem()instanceof r.a?e.getItem().getSource():e.getItem(),t=(t,n)=>{const a=e(t);return a instanceof r.b&&a.getSourceEdges().find(e=>e.getTarget()===n)},n=(t,n)=>{var o,s;const i=e(t),c=n.element,l=null===(s=null===(o=c.getGraph())||void 0===o?void 0:o.getData())||void 0===s?void 0:s.relationshipProviderExtensions,u=i instanceof r.b&&c instanceof r.b&&Object(a.isNode)(i)&&Object(a.isNode)(c)?null==l?void 0:l.filter(({properties:{provides:e}})=>e(i,c)):[];return u.length>0&&u.sort((e,t)=>{var n,a;return(null===(n=t.properties)||void 0===n?void 0:n.priority)-(null===(a=e.properties)||void 0===a?void 0:a.priority)})[0]};return{accept:[o.f,a.CREATE_CONNECTOR_DROP_TYPE],canDrop:(e,r,s)=>{var i;const c=s.element;if(Object(a.isEdge)(e))return Object(o.o)(null===(i=r.getOperation())||void 0===i?void 0:i.type,e,c);if(!c||e===c)return!1;return!!n(r,s)&&!t(r,c)},collect:(e,a)=>{var r;const s=n(e,a);return{canDrop:!!s&&!t(e,a.element),dropTarget:e.isOver({shallow:!0}),edgeDragging:Object(o.t)(e,a),tooltipLabel:null===(r=null==s?void 0:s.properties)||void 0===r?void 0:r.tooltip}},dropHint:(e,t,a)=>{const o=n(t,a);return null==o?void 0:o.uid}}}},7230:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="bindable-node"},7231:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(2240),o=n(8),r=n(2221),s=n(5594);const i=(e,t)=>{var n,a,o;if(!e||!t)return!1;const i=Object(s.f)(e),c=Object(s.f)(t);return i&&c&&i!==c&&(null===(n=e.getData())||void 0===n?void 0:n.type)===r.y&&"external-service"===(null===(o=null===(a=c.metadata)||void 0===a?void 0:a.labels)||void 0===o?void 0:o["app.kubernetes.io/component"])},c=(e,t)=>{const n=Object(s.f)(e),r=Object(s.f)(t);return Object(a.a)({model:Object(o.vb)(Object(o.Db)(n)),source:n,target:r})}},7232:function(e,t,n){"use strict";var a=n(0),o=n(1934),r=n(1935),s=n(1936),i=n(516),c=n(164),l=n(682),u=n(1937),d=n(156),p=n(405),m=n(564),b=n(355),v=n(873),g=n(7),h=n(14),f=n(409),E=n(5),y=n(10),O=n(15),j=n(7233),k=n(7237),_=n(7240);n(7242);t.a=e=>{var t,n,S;const{t:T}=Object(g.useTranslation)(),{resource:N,pods:R,resourceEvents:w,monitoringAlerts:C}=e,P=Object(O.Lc)(C),[D,x]=a.useState(["metrics",...P.length>0?["monitoring-alerts"]:[]]);if(!w||!w.loaded||R&&R.find(t=>!e[t.metadata.uid]||!e[t.metadata.uid].loaded))return a.createElement(E.S,null);let I=[...w.data];R&&R.forEach(t=>{const n=e[t.metadata.uid];n&&I.push(...n.data)}),I=Object(f.sortEvents)(I);const M=e=>{const t=D.indexOf(e),n=t>=0?[...D.slice(0,t),...D.slice(t+1,D.length)]:[...D,e];x(n)};return a.createElement("div",{className:"odc-monitoring-overview"},a.createElement(o.a,{asDefinitionList:!1,className:"odc-monitoring-overview__metric-accordion",headingLevel:"h5"},P.length>0&&a.createElement(r.a,null,a.createElement(s.a,{onClick:()=>{M("monitoring-alerts")},isExpanded:D.includes("monitoring-alerts"),id:"monitoring-alerts",className:"odc-monitoring-overview__alerts-toggle"},a.createElement(i.a,null,a.createElement(c.a,null,T("devconsole~Alerts")),a.createElement(c.a,{isFilled:!0}),a.createElement(c.a,null,a.createElement(l.a,null,C.length)))),a.createElement(u.a,{className:"odc-monitoring-overview__alerts-body",id:"monitoring-alerts-content",isHidden:!D.includes("monitoring-alerts")},a.createElement(k.a,{alerts:P}))),a.createElement(r.a,null,a.createElement(s.a,{onClick:()=>{M("metrics")},isExpanded:D.includes("metrics"),id:"metrics"},T("devconsole~Metrics")),a.createElement(u.a,{id:"metrics-content",isHidden:!D.includes("metrics")},N.kind===y.DeploymentConfigModel.kind?a.createElement(d.a,null,a.createElement(p.a,{titleText:a.createElement(a.Fragment,null,T("devconsole~No metrics found")),icon:a.createElement(m.a,{className:"odc-monitoring-overview__empty-state-icon",icon:v.a}),headingLevel:"h2"}),a.createElement(b.a,null,T("devconsole~Deployment Configuration metrics are not yet supported."))):a.createElement(a.Fragment,null,a.createElement("div",{className:"odc-monitoring-overview__view-monitoring-dashboards"},a.createElement(h.Link,{to:`/dev-monitoring/ns/${null===(t=null==N?void 0:N.metadata)||void 0===t?void 0:t.namespace}?dashboard=grafana-dashboard-k8s-resources-workload&workload=${null===(n=null==N?void 0:N.metadata)||void 0===n?void 0:n.name}&type=${null===(S=null==N?void 0:N.kind)||void 0===S?void 0:S.toLowerCase()}`,"data-test":"observe-dashboards-link"},T("devconsole~View dashboards"))),a.createElement(j.a,{resource:N})))),a.createElement(r.a,null,a.createElement(s.a,{onClick:()=>{M("all-events")},isExpanded:D.includes("all-events"),id:"all-events"},T("devconsole~All events")),a.createElement(u.a,{id:"all-events-content",isHidden:!D.includes("all-events")},a.createElement(_.a,{events:I})))))}},7233:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(7),s=n(2304),i=n(7234),c=n(7236);t.a=({resource:e})=>{var t,n,l;const{t:u}=Object(r.useTranslation)();if(!Object(s.a)())return null;const d=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,p=null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.name,m=null===(l=null==e?void 0:e.kind)||void 0===l?void 0:l.toLowerCase();return a.createElement(a.Fragment,null,o.a(Object(c.a)(u),e=>a.createElement(i.a,{key:e.title,title:e.title,namespace:d,graphType:e.chartType,query:e.query({namespace:d,workloadName:p,workloadType:m}),humanize:e.humanize,byteDataType:e.byteDataType})))}},7234:function(e,t,n){"use strict";var a,o=n(0),r=n(192),s=n(434),i=n(295),c=n(296),l=n(839),u=n(1596),d=n(7),p=n(31),m=n(14),b=n(98),v=n(1215);n(7235);!function(e){e.area="Area",e.line="Line"}(a||(a={}));const g=({query:e,namespace:t,ariaChartLinkLabel:n})=>{const{t:a}=Object(d.useTranslation)(),r=l.a(u.a(e));if(!r.length)return null;const s=new URLSearchParams;return r.forEach((e,t)=>s.set("query"+t,e)),o.createElement(m.Link,{"aria-label":n,to:`/dev-monitoring/ns/${t}/metrics?${s.toString()}`},a("devconsole~Inspect"))};t.a=({query:e,namespace:t,title:n,graphType:l=a.area,timespan:u,pollInterval:m,endTime:h})=>{const{t:f}=Object(d.useTranslation)(),E=Object(p.useDispatch)(),y=o.useCallback((e,t)=>{E(Object(b.f)(t,"dev")),E(Object(b.g)(t-e,"dev"))},[E]);return o.createElement(r.a,{className:"monitoring-dashboards__card odc-monitoring-dashboard-graph","data-test":n.toLowerCase().replace(/\s+/g,"-"),isClickable:!0,isSelectable:!0},o.createElement(s.a,{actions:{actions:o.createElement(g,{namespace:t,query:e,ariaChartLinkLabel:f("devconsole~View metrics for {{title}}",{title:n})}),hasNoOffset:!1,className:"co-overview-card__actions"}},o.createElement(i.a,null,n)),o.createElement(c.a,null,o.createElement(v.QueryBrowser,{hideControls:!0,defaultTimespan:18e5,defaultSamples:30,namespace:t,queries:[e],isStack:l===a.area,timespan:u,pollInterval:m,fixedEndTime:h,formatSeriesTitle:e=>e.pod,onZoom:y,showLegend:!0})))}},7235:function(e,t,n){},7236:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a,o=n(550),r=(n(117),n(5)),s=n(762);!function(e){e.area="Area",e.line="Line"}(a||(a={}));const i=e=>[{title:e("devconsole~CPU usage"),chartType:a.area,humanize:r.Yb,byteDataType:s.a.BinaryBytes,query:o.a("sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace='<%= namespace %>'}\n          * on(namespace,pod) group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{\n          namespace='<%= namespace %>', workload='<%= workloadName %>', workload_type='<%= workloadType %>'}) by (pod)")},{title:e("devconsole~Memory usage"),chartType:a.area,humanize:r.Wb,byteDataType:s.a.BinaryBytes,query:o.a("sum(container_memory_working_set_bytes{namespace='<%= namespace %>', container!=\"\"}\n          * on(namespace,pod) group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{\n          namespace='<%= namespace %>', workload='<%= workloadName %>', workload_type='<%= workloadType %>'}) by (pod)")},{title:e("devconsole~Receive bandwidth"),chartType:a.area,humanize:r.ac,byteDataType:s.a.DecimalBytes,query:o.a("sum(irate(container_network_receive_bytes_total{namespace='<%= namespace %>'}[4h])\n          * on (namespace,pod) group_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{\n          namespace='<%= namespace %>', workload=~'<%= workloadName %>', workload_type='<%= workloadType %>'}) by (pod)")}]},7237:function(e,t,n){"use strict";var a=n(0),o=n(80),r=n(50),s=n(14),i=n(13),c=n(58),l=n(158),u=n(15),d=n(7238);n(7239);const p=({alerts:e})=>{const[t]=Object(i.jc)(),n=Object(u.qe)(e);return a.createElement("div",{className:"odc-monitoring-overview-alerts"},r.a(n,e=>{const{activeAt:n,annotations:{message:r},labels:{severity:i,alertname:u,namespace:p},rule:{name:m,id:b}}=e,v="admin"===t?`/monitoring/alerts/${b}?${Object(c.l)(e.labels)}`:`/dev-monitoring/ns/${p}/alerts/${b}?${Object(c.l)(e.labels)}`;return a.createElement(o.a,{variant:Object(d.a)(i),isInline:!0,title:a.createElement(s.Link,{to:v},m),key:`${u}-${b}`},r,a.createElement("div",{className:"odc-monitoring-overview-alerts__timestamp"},a.createElement("small",{className:"text-secondary"},Object(l.e)(n))))}))};t.a=p},7238:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(13);const o=e=>{switch(e){case a.a.Critical:return"danger";case a.a.Info:case a.a.None:return"info";case a.a.Warning:default:return"warning"}}},7239:function(e,t,n){},7240:function(e,t,n){"use strict";var a=n(0),o=n(241),r=n(130),s=n(22),i=n(50),c=n(7),l=n(409),u=n(5),d=n(158),p=n(8),m=n(15);n(7241);t.a=({events:e})=>{const{t:t}=Object(c.useTranslation)();return a.createElement("div",{className:"odc-monitoring-events"},s.a(e)?a.createElement("div",{className:"text-secondary"},t("devconsole~There are no recent events.")):i.a(e,e=>a.createElement("div",{className:"odc-monitoring-events__event-item",key:e.metadata.uid},a.createElement(o.a,{alignSelf:{default:"alignSelfBaseline"}},a.createElement(r.a,{title:e.lastTimestamp,className:"text-secondary"},d.i.format(new Date(Object(l.getLastTime)(e)))),"Warning"===e.type&&a.createElement(r.a,null,a.createElement(m.tc,{className:"odc-monitoring-events__warning-icon"})),a.createElement(r.a,null,a.createElement(u.hb,{kind:Object(p.Db)(e.involvedObject),namespace:e.involvedObject.namespace,name:e.involvedObject.name,title:e.involvedObject.uid}))),a.createElement("div",{className:"odc-monitoring-events__event-message"},e.message))))}},7241:function(e,t,n){},7242:function(e,t,n){},7243:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(5),s=n(8),i=n(6786);t.a=({serviceBinding:e})=>{var t,n,c,l,u;const{findModel:d}=Object(s.Nb)(),{t:p}=Object(o.useTranslation)(),m=d(e.spec.application.group,e.spec.application.resource);return a.createElement("dl",null,a.createElement("dt",null,p("service-binding-plugin~Status")),a.createElement("dd",null,a.createElement(i.a,{serviceBinding:e})),(null===(n=null===(t=e.spec)||void 0===t?void 0:t.application)||void 0===n?void 0:n.labelSelector)?a.createElement(r.r,{label:p("service-binding-plugin~Label Selector"),obj:e,path:"spec.application.labelSelector"},a.createElement(r.L,{kind:m.kind,labels:e.spec.application.labelSelector.matchLabels})||"-"):a.createElement(r.r,{label:p("service-binding-plugin~Application"),obj:e,path:"spec.application"},(null===(c=e.spec.application)||void 0===c?void 0:c.name)||"-"),a.createElement(r.r,{label:p("service-binding-plugin~Services"),obj:e,path:"spec.services"},(null===(u=null===(l=e.spec)||void 0===l?void 0:l.services)||void 0===u?void 0:u.length)?e.spec.services.map((t,n)=>a.createElement(r.hb,{key:n,groupVersionKind:t,namespace:e.metadata.namespace,name:t.name})):"-"))}},7244:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(14),s=n(5695),i=n(5805),c=n(978),l=n(5),u=n(15),d=n(198),p=n(2221),m=n(5710),b=n(5697),v=n(5785),g=n(5693),h=n(7245),f=n(7246),E=n(7301);const y=Object(c.b)(({viewType:e})=>{const{t:t}=Object(o.useTranslation)(),{name:n}=Object(r.useParams)();return n?a.createElement(f.a,{viewType:e}):a.createElement(i.b,{title:t("topology~Topology")},e=>a.createElement(o.Trans,{t:t,ns:"topology"},"Select a Project to view the topology",a.createElement(i.a,{openProjectModal:e}),"."))});t.a=Object(d.e)(({activeViewStorageKey:e=p.j,hideProjects:t=!1,defaultViewType:n=g.c.graph})=>{const[o,i]=Object(h.a)(),[c,d,f]=Object(u.ff)(p.s,e,n),O=Object(r.useParams)(),j=i&&f,k=a.useMemo(()=>j?"latest"===o?c:o||c:null,[j,o,c]),_=O.name,S=Object(u.Ve)(),T=S.get("view")||k||n;a.useEffect(()=>{var e;const t=JSON.parse(null!==(e=sessionStorage.getItem(p.i))&&void 0!==e?e:"{}");j&&_ in t&&!Object(l.Tb)("selectId")&&Object(l.wc)("selectId",t[_])},[j,_]),a.useEffect(()=>{!S.get("view")&&j&&Object(l.wc)("view",k||n)},[n,k,S,j]);const N=a.useCallback(e=>{Object(l.wc)("view",e),d(e)},[d]),R=_&&T===g.c.graph?s.a.default:s.a.light;return a.createElement(v.b,null,a.createElement(m.a,{namespace:_},a.createElement(s.b,{variant:R,onNamespaceChange:e=>{e!==_&&Object(l.qc)(b.e)},hideProjects:t,toolbar:a.createElement(E.a,{viewType:T,onViewChange:N}),"data-test-id":T===g.c.graph?"topology-graph-page":"topology-list-page"},a.createElement(y,{viewType:T}))))},d.b)},7245:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15);const o=()=>{const[e,,t]=Object(a.ef)("topology.preferredView");return[e,t]}},7246:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(7),s=n(5),i=n(5662),c=n(5693),l=n(7247);const u=Object(o.observer)((function({viewType:e}){const{t:t}=Object(r.useTranslation)(),{namespace:n,model:o,loaded:u,loadError:d}=a.useContext(i.b);return a.createElement(s.wb,{skeleton:e===c.c.list&&a.createElement("div",{className:"co-m-pane__body skeleton-overview"},a.createElement("div",{className:"skeleton-overview--head"}),a.createElement("div",{className:"skeleton-overview--tile"}),a.createElement("div",{className:"skeleton-overview--tile"}),a.createElement("div",{className:"skeleton-overview--tile"})),data:o,label:t("topology~Topology"),loaded:u,loadError:d},a.createElement(l.a,{viewType:e,model:o,namespace:n}))}));t.a=u},7247:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),o=n(300),r=n(1438),s=n(4380),i=n(703),c=n(7248);const l={drop(e,t){e.onDrop&&t.isOver()&&e.onDrop(t)}},u=Object(o.d)(r.a.FILE,l,(e,t,n)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()&&n.canDropFile}))(c.a),d=Object(i.a)(e=>{const{setFileUpload:t,extensions:n}=a.useContext(s.FileUploadContext);return a.createElement(u,Object.assign({},e,{onDrop:e=>{if(!e)return;const[n]=e.getItem().files;n&&t(n)},canDropFile:n.length>0}))})},7248:function(e,t,n){"use strict";var a=n(0),o=n(967),r=n(406),s=n(465),i=n(1933),c=n(2218),l=n(5585),u=n(18),d=n(7),p=n(31),m=n(4380),b=n(6533),v=n(13),g=n(53),h=n(5),f=n(518),E=n(5702),y=n(15),O=n(172),j=n(2221),k=n(7249),_=n(5657),S=n(5697),T=n(5785),N=n(7250),R=n(5924),w=n(5693),C=n(5890),P=n(7259),D=n(6520),x=n(7283),I=n(7297),M=n(7298),L=n(7299);n(7300);t.a=Object(p.connect)(e=>({application:Object(f.c)(e),eventSourceEnabled:Object(E.d)(e)}),e=>({onSelectTab:t=>e(Object(g.j)(t)),onSupportedFiltersChange:t=>{e(Object(R.c)(t))},onSupportedKindsChange:t=>{e(Object(R.d)(t))}}))(({model:e,namespace:t,viewType:n,eventSourceEnabled:p,application:g,onSupportedFiltersChange:f,onSupportedKindsChange:E,connectDropTarget:R,isOver:A,canDrop:U})=>{var B,F,K,$;const{t:q}=Object(d.useTranslation)(),G=Object(O.a)(),[V,Y]=a.useState(null),{setTopologyFilters:z}=a.useContext(T.a),[H,W]=a.useState(),[Q,J]=a.useState(null),[Z,X]=a.useState(),[ee,te]=a.useState(!1),ne=Object(S.k)(),ae=Object(y.De)(ne),oe=a.useRef(null),re=Object(b.a)(t),[se,ie]=a.useState("string"==typeof Object(h.Tb)("catalogSearch")),ce=a.useCallback(e=>{e&&G("Quick Search Accessed"),ie(e)},[G]),le=Object(S.j)(),[ue,de]=Object(v.kc)(_.e),[pe,me]=Object(v.kc)(_.b),[be,ve]=Object(v.kc)(_.d),[ge,he]=Object(v.kc)(v.bc),[fe,Ee]=Object(v.kc)(v.Yb),[ye,Oe]=Object(v.kc)(v.ac),[je]=Object(v.kc)(v.cc),[ke,_e]=a.useState({}),[Se,Te]=a.useState(!1),Ne=Object(y.Ve)(),{extensions:Re}=a.useContext(m.FileUploadContext),we=Ne.get(S.e),Ce=Ne.get(S.d),Pe=Re.map(e=>"."+e).toString(),De=a.useCallback(e=>{const n=Object(l.isGraph)(e)?void 0:e;J(n),n?(Object(h.wc)("selectId",n.getId()),sessionStorage.setItem(j.i,JSON.stringify({[t]:n.getId()}))):(Object(h.qc)("selectId"),sessionStorage.removeItem(j.i))},[t]),xe=a.useMemo(()=>({createResourceAccess:re,namespace:t,eventSourceEnabled:p,createConnectorExtensions:me&&Ee?[...pe,...fe].map(e=>e.properties.getCreateConnector):[],decorators:ke,relationshipProviderExtensions:je}),[pe,me,re,fe,Ee,p,t,je,ke]);a.useEffect(()=>{Z&&Z.getGraph().setData(xe)},[Z,xe]),a.useEffect(()=>{if(ve&&Oe){const e=[...be,...ye].reduce((e,t)=>{const n=t.properties;return e[n.quadrant]||(e[n.quadrant]=[]),e[n.quadrant].push(n),e},{[l.TopologyQuadrant.upperLeft]:[],[l.TopologyQuadrant.upperRight]:[],[l.TopologyQuadrant.lowerLeft]:[],[l.TopologyQuadrant.lowerRight]:[]});Object.keys(e).forEach(t=>e[t].sort((e,t)=>e.priority-t.priority)),_e(e)}},[ye,Oe,be,ve]),a.useEffect(()=>{if(de&&he){const e=[...ae];[...ue,...ge].forEach(t=>{const n=t.properties.getTopologyFilters();null==n||n.forEach(t=>{e.find(e=>e.id===t.id)||(void 0!==le[t.id]&&(t.value=le[t.id]),e.push(ae.find(e=>e.id===t.id)||t))}),z(e),Te(!0)})}},[de,he,ue,ge]),a.useEffect(()=>{if(Se){const t=Object(k.a)(e,ae,g,[...ue,...ge].map(e=>e.properties.applyDisplayOptions),f,E);oe.current=g,W(t)}},[e,ae,g,Se,f,E,ue,ge]),a.useEffect(()=>{if(ae.find(e=>e.type!==w.b.kind)){const e=ae.filter(e=>e.type!==w.b.kind);z(e)}},[t]),a.useEffect(()=>{Object(S.g)().length>0?document.body.classList.add("odc-m-filter-active"):document.body.classList.remove("odc-m-filter-active")},[we,Ce]);const Ie=null!==(F=null===(B=null==H?void 0:H.nodes)||void 0===B?void 0:B.length)&&void 0!==F?F:0,Me=a.useMemo(()=>Ie<=300||ee?n===w.c.list?a.createElement(P.a,{model:H,namespace:t,onSelect:De,setVisualization:X}):a.createElement(C.a,{model:H,namespace:t,application:oe.current,onSelect:De,setVisualization:X}):null,[H,t,De,n,Ie,ee]),Le=Object(x.b)(Q);if(!H)return null;const Ae=a.createElement("div",{className:"odc-topology"},a.createElement(o.a,null,a.createElement(r.a,{isFilled:!1},a.createElement(N.a,{viewType:n,visualization:Z,setIsQuickSearchOpen:ce,isDisabled:!(null===(K=e.nodes)||void 0===K?void 0:K.length)||Ie>300&&!ee})),a.createElement(r.a,{isFilled:!0,className:"pf-topology-container"},a.createElement("div",{className:"co-file-dropzone co-file-dropzone__flex"},a.createElement(s.a,{isExpanded:Le,isInline:!0},a.createElement(i.a,{panelContent:a.createElement(I.a,{onClose:()=>De()},a.createElement(x.a,{selectedEntity:Q}))},a.createElement(c.a,null,a.createElement("div",{ref:Y,className:"pf-topology-content ocs-quick-search-modal__no-backdrop"},U&&A&&a.createElement("div",{className:u("co-file-dropzone-container","co-file-dropzone--drop-over","odc-topology__dropzone")},a.createElement("span",{className:"co-file-dropzone__drop-text odc-topology__dropzone-text"},q("topology~Drop file ({{fileTypes}}) here",{fileTypes:Pe}))),Ie>300&&!ee?a.createElement(M.a,{onShowTopologyAnyway:()=>te(!0)}):Me,(null===($=e.nodes)||void 0===$?void 0:$.length)?null:a.createElement(L.a,{setIsQuickSearchOpen:ce}))))))),a.createElement(D.a,{namespace:t,viewContainer:V,isOpen:se,setIsOpen:ce})));return"function"==typeof R?R(Ae):Ae})},7249:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(5585),o=n(640),r=n(8),s=n(15),i=n(2221),c=n(5697),l=n(5589);const u=(e,t)=>{if(e.type===i.u)return e;const n=t.find(t=>{var n;return t.group&&(null===(n=t.children)||void 0===n?void 0:n.includes(e.id))});return n?n.type===i.u?n:u(n,t):null},d=e=>{let{resource:t}=e;if(t){const e=Object(r.Db)(t);if(e)return e}const n=e.resourceKind;return n||(t=Object(l.k)(e.data),t?Object(r.Db)(t):null)},p=(e,t,n)=>{let a=Object(c.i)(d(e),t);if(!a){const o=n.find(t=>{var n;return t.group&&t.type!==i.u&&(null===(n=t.children)||void 0===n?void 0:n.includes(e.id))});a=o&&p(o,t,n)}return a},m=(e,t,n=s.b,r,l,m)=>{const b={nodes:o.a(e.nodes),edges:o.a(e.edges)},v=[...c.a],g={};let h=!1;const f=Object(c.h)(c.b,t);b.nodes.forEach(e=>{e.visible=!0,r&&r.forEach(e=>{const n=e(b,t);v.push(...n.filter(e=>!v.includes(e)))}),e.type===i.u&&(h||(h=!0,v.push(c.b)),e.collapsed=!f);const n=d(e);n&&(g[n]||(g[n]=0),g[n]++)}),b.nodes=b.nodes.filter(e=>p(e,t,b.nodes)),b.nodes.forEach(e=>{e.group&&e.children&&(e.children=e.children.filter(e=>b.nodes.find(t=>t.id===e)))}),n!==s.b&&b.nodes.forEach(e=>{const t=u(e,b.nodes);e.visible=e.visible&&(null==t?void 0:t.label)===n||!t&&n===s.mc});const E=b.edges.filter(e=>b.nodes.find(t=>t.id===e.source)&&b.nodes.find(t=>t.id===e.target));return b.edges=Object(a.createAggregateEdges)(i.t,E,b.nodes),l&&l(v),m&&m(g),b}},7250:function(e,t,n){"use strict";var a=n(0),o=n(969),r=n(1193),s=n(204),i=n(510),c=n(968),l=n(353),u=n(19),d=n(873),p=n(5585),m=n(7),b=n(31),v=n(7251),g=n(6524),h=n(5),f=n(108),E=n(10),y=n(8),O=n(897),j=n(518),k=n(2271),_=n(15),S=n(7252),T=n(6522),N=n(2221),R=n(5693),w=n(5594),C=n(5589),P=n(5751),D=n(7253),x=n(5785),I=n(7255),M=n(7257);n(7258);t.a=Object(b.connect)(e=>({supportedFilters:Object(P.h)(e),supportedKinds:Object(P.i)(e),namespace:Object(j.d)(e)}))(({supportedFilters:e,supportedKinds:t,isDisabled:n,visualization:b,viewType:j,namespace:L,setIsQuickSearchOpen:A})=>{var U;const{t:B}=Object(m.useTranslation)(),{filters:F,setTopologyFilters:K}=a.useContext(x.a),[$,q]=a.useState(""),[G]=Object(f.a)({isList:!0,kind:Object(y.Hb)(E.ConsoleLinkModel),optional:!0}),V=Object(C.f)(G,L),Y=Object(_.Ve)(),z=Y.get(P.c)||"",H=(null===(U=Y.get(P.b))||void 0===U?void 0:U.split(","))||[],W=Object(_.Fe)(N.a),Q=((null==b?void 0:b.getElements())||[]).filter(p.isNode).map(w.f).filter(e=>!!e);return a.createElement(o.a,{className:"co-namespace-bar odc-topology-filter-bar",clearAllFilters:P.d},a.createElement(r.a,null,a.createElement(s.a,null,a.createElement(T.a,{onClick:()=>A(!0)})),a.createElement(i.a,{variant:i.b["filter-group"]},a.createElement(s.a,null,a.createElement(D.a,{filters:F,viewType:j,supportedFilters:e,onChange:K,isDisabled:n}))),a.createElement(i.a,{variant:i.b["filter-group"]},a.createElement(s.a,{"data-test":"filter-by-resource"},a.createElement(I.a,{filters:F,supportedKinds:t,onChange:K,isDisabled:n}))),a.createElement(i.a,{variant:i.b["filter-group"]},a.createElement(s.a,null,a.createElement(c.a,{deleteChipGroup:P.e,chips:[...H],deleteChip:(e,t)=>{const n=H.filter(e=>e!==t);n.length>0?Object(h.wc)(P.b,n.join(",")):Object(P.e)()},categoryName:B("topology~Label")},a.createElement(c.a,{chips:z.length>0?[z]:[],deleteChip:P.f,categoryName:B("topology~Name")},a.createElement(M.a,{onChange:(e,t,n)=>{e===P.a.Label?((e,t)=>{if(q(e),void 0!==Object(O.a)(e)&&t){const t=[...new Set([...H,e])];Object(h.wc)(P.b,t.join(",")),q("")}})(t,n):(e=>{const t=null==e?void 0:e.trim();Object(P.l)(t)})(t)},nameFilterInput:z,labelFilterInput:$,data:Q,isDisabled:n})))),j===R.c.graph?a.createElement(s.a,null,a.createElement(l.a,{"aria-label":B("topology~Find by name"),position:"left",bodyContent:a.createElement(m.Trans,{ns:"topology"},"Search results may appear outside of the visible area."," ",a.createElement(u.a,{variant:"link",onClick:()=>b.getGraph().fit(80),isInline:!0},"Click here")," ","to fit to the screen.")},a.createElement(u.a,{variant:"link",className:"odc-topology-filter-bar__info-icon","aria-label":B("topology~Find by name"),isDisabled:n},a.createElement(d.a,null)))):null),a.createElement(i.a,{variant:i.b["button-group"],align:{default:"alignRight"}},a.createElement(s.a,null,a.createElement(k.c,{namespace:L})),a.createElement(s.a,null,a.createElement(v.a,{namespace:L})),a.createElement(s.a,{className:W||V?"odc-topology-filter-bar__resource-quota-warning-block":""},a.createElement(g.a,{namespace:L})),V&&a.createElement(s.a,{className:"odc-topology-filter-bar__kiali-link1"},a.createElement(h.z,{href:V,text:B("topology~Kiali")})),a.createElement(S.a,{namespace:L,isDisabled:n}))))})},7251:function(e,t,n){"use strict";var a=n(0),o=n(351),r=n(7),s=n(14),i=n(976),c=n(99),l=n(172),u=n(200),d=n(2266);t.a=({namespace:e})=>{const{t:t}=Object(r.useTranslation)(),n=Object(l.a)(),p=a.useMemo(()=>({groupVersionKind:{group:u.PodDisruptionBudgetModel.apiGroup,kind:u.PodDisruptionBudgetModel.kind,version:u.PodDisruptionBudgetModel.apiVersion},isList:!0,namespaced:!0,namespace:e}),[e]),[m,b,v]=Object(i.xb)(p),{count:g,name:h}=Object(d.a)(m);return a.createElement(a.Fragment,null,g>0&&b&&!v&&a.createElement(o.a,{color:"orange",icon:a.createElement(i.Y,null)},a.createElement(s.Link,{to:Object(c.resourcePathFromModel)(u.PodDisruptionBudgetModel,h||null,e),"data-test":"pdb-warning",onClick:()=>{n("PodDisruptionBudget Warning Label Clicked")}},a.createElement(r.Trans,{t:t,ns:"console-app",count:g},{count:g}," PodDisruptionBudget violated"))))}},7252:function(e,t,n){"use strict";var a=n(0),o=n(204),r=n(19),s=n(7),i=n(5),c=n(15),l=n(2221),u=n(2242),d=n(6530);t.a=({namespace:e,isDisabled:t})=>{const{t:n}=Object(s.useTranslation)(),p=Object(c.Ke)(),m=Object(c.df)(),b=Object(c.Fe)(l.a),v=Object(i.Dc)({group:u.ExportModel.apiGroup,resource:u.ExportModel.plural,verb:"create",namespace:e})&&b&&!p,g=l.d;return v?a.createElement(o.a,null,a.createElement(r.a,{variant:"secondary","data-test":"export-app-btn","aria-label":n("topology~Export application"),isDisabled:t,onClick:()=>Object(d.a)(g,e,m)},n("topology~Export application"))):null}},7253:function(e,t,n){"use strict";var a=n(0),o=n(2216),r=n(1927),s=n(205),i=n(155),c=n(165),l=n(354),u=n(294),d=n(7),p=n(172),m=n(5693),b=n(5703);n(7254);t.a=({filters:e,viewType:t,supportedFilters:n,onChange:v,isDisabled:g=!1,opened:h=!1})=>{var f,E;const{t:y}=Object(d.useTranslation)(),O=Object(p.a)(),[j,k]=a.useState(h),_=null===(E=null===(f=null==e?void 0:e.find(e=>e.id===b.d))||void 0===f?void 0:f.value)||void 0===E||E,S=e.filter(e=>e.type===m.b.expand&&e.id!==b.d&&n.includes(e.id)).sort((e,t)=>e.priority-t.priority),T=e.filter(e=>e.type===m.b.show&&n.includes(e.id)).sort((e,t)=>e.priority-t.priority),N=g||(t===m.c.graph?!S.length&&!T.length:!S.length),R=a.createElement("div",{className:"odc-topology-filter-dropdown"},S.length?a.createElement("div",{className:"odc-topology-filter-dropdown__group"},a.createElement("span",{className:"odc-topology-filter-dropdown__expand-groups-switcher"},a.createElement("span",{className:"pf-v5-c-menu__group-title"},y("topology~Expand")),a.createElement(o.a,{"aria-label":y("topology~Collapse groups"),isChecked:_,onChange:(t,n)=>{var a;const o=null!==(a=null==e?void 0:e.findIndex(e=>e.id===b.d))&&void 0!==a?a:-1;if(-1===o)return;const r=Object.assign(Object.assign({},e[o]),{value:n});v([...e.slice(0,o),r,...e.slice(o+1)]),O("Topology Display Option Changed",{property:b.d,value:n})}})),a.createElement(r.a,{className:"odc-topology-filter-dropdown__expand-groups-label",label:a.createElement(a.Fragment,null)},S.map(e=>a.createElement(s.a,{key:e.id,value:e.id,isDisabled:!_,isSelected:e.value,hasCheckbox:!0},e.labelKey?y(e.labelKey):e.label)))):null,t===m.c.graph&&T.length?a.createElement("div",null,a.createElement(i.a,null),a.createElement(r.a,{label:y("topology~Show")},T.map(e=>a.createElement(s.a,{key:e.id,value:e.id,isSelected:e.value,hasCheckbox:!0},e.labelKey?y(e.labelKey):e.label)))):null);return a.createElement(l.a,{toggle:e=>a.createElement(c.a,{ref:e,onClick:()=>k(!j),isExpanded:j,isDisabled:N},y("topology~Display options")),className:"odc-topology-filter-dropdown__select",onToggle:(e,t)=>k(t),isOpen:j,onSelect:(t,n)=>{const a=e.findIndex(e=>e.id===n),o=Object.assign(Object.assign({},e[a]),{value:t.target.checked});v([...e.slice(0,a),o,...e.slice(a+1)]),O("Topology Display Option Changed",{property:n,value:t.target.checked})},isGrouped:!0,isCheckboxSelectionBadgeHidden:!0,onOpenChange:e=>k(e)},a.createElement(u.a,null,R))}},7254:function(e,t,n){},7255:function(e,t,n){"use strict";var a=n(0),o=n(19),r=n(205),s=n(165),i=n(354),c=n(294),l=n(7),u=n(5),d=n(15),p=n(5693);n(7256);t.a=({filters:e,supportedKinds:t,onChange:n,isDisabled:m=!1,opened:b=!1})=>{const{t:v}=Object(l.useTranslation)(),[g,h]=a.useState(b);let f=e.filter(e=>e.type===p.b.kind&&t[e.id]);const E=f.filter(e=>e.value).length;f=Object.keys(t).reduce((t,n)=>(e.find(e=>e.id===n)||t.push({type:p.b.kind,id:n,label:Object(d.Id)(n),value:!1,priority:1}),t),f),f.sort((e,t)=>e.label.localeCompare(t.label));const y=a.createElement("div",{className:"odc-topology-filter-dropdown__group odc-kind-filter-dropdown"},a.createElement("span",{className:"odc-kind-filter-dropdown__clear-button"},a.createElement(o.a,{variant:"link",onClick:()=>{const t=e.filter(e=>e.type!==p.b.kind);n(t)}},v("topology~Clear all filters"))),f.map(e=>a.createElement(r.a,{key:e.id,value:e.id,isSelected:e.value,"data-test":e.label,hasCheckbox:!0},a.createElement(u.fb,{kind:e.id}),e.label," (",t[e.id],")")));return a.createElement(i.a,{toggle:e=>a.createElement(s.a,{ref:e,onClick:()=>h(!g),isExpanded:g,isDisabled:m},v("topology~Filter by resource"),E?a.createElement("span",{className:"odc-kind-filter-dropdown__kind-count"},E):null),onToggle:(e,t)=>h(t),isOpen:g,onSelect:(t,a)=>{const o=e.findIndex(e=>e.id===a);let r;if(-1===o){const n=f.find(e=>e.id===a);if(!n)return;const o=Object.assign(Object.assign({},n),{value:t.target.checked});r=[...e,o]}else{const n=Object.assign(Object.assign({},e[o]),{value:t.target.checked});r=[...e.slice(0,o),n,...e.slice(o+1)]}n(r)},onOpenChange:e=>h(e)},a.createElement(c.a,null,y))}},7256:function(e,t,n){},7257:function(e,t,n){"use strict";var a=n(0),o=n(165),r=n(354),s=n(294),i=n(205),c=n(1236),l=n(7),u=n(2331),d=n(40),p=n(5751);t.a=e=>{const{data:t,onChange:n,nameFilterInput:m,labelFilterInput:b,isDisabled:v}=e,[g,h]=a.useState(!1),[f,E]=a.useState(p.a.Name),{t:y}=Object(l.useTranslation)(),O=[p.a.Name,p.a.Label],j=e=>{n(f,e,!1)};return a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement(r.a,{onSelect:(e,t)=>{t&&E(t),h(!1)},toggle:e=>a.createElement(o.a,{id:"toggle-id",ref:e,onClick:e=>{h(!g)},isDisabled:v},a.createElement(a.Fragment,null,a.createElement(c.a,{className:"span--icon__right-margin"})," ",y(f))),isOpen:g,onOpenChange:e=>h(e)},a.createElement(s.a,null,O.map(e=>a.createElement(i.a,{key:e,value:e,isSelected:f===e},y(e))))),f===p.a.Label?a.createElement(u.a,{onSuggestionSelect:e=>{n(p.a.Label,e,!0)},showSuggestions:!0,textValue:b,setTextValue:j,placeholder:y("topology~Find by label..."),data:t,className:"co-text-node",labelPath:"metadata.labels"}):a.createElement(d.l,{onChange:(e,t)=>j(t),placeholder:y("topology~Find by name..."),value:m,"aria-labelledby":"toggle-id",isDisabled:v,autoFocus:!0}))}},7258:function(e,t,n){},7259:function(e,t,n){"use strict";var a=n(0),o=n(1890),r=n(5585),s=n(107),i=n(31),c=n(98),l=n(53),u=n(15),d=n(198),p=n(2221),m=n(5923),b=n(7260),v=n(7261),g=n(6275),h=n(7262),f=n(7281);n(7282);const E=a.memo((function({visualizationReady:e,visualization:t,onSelect:n,applicationGroups:r,unassignedItems:s,selectedId:i}){return e?a.createElement("div",{className:"odc-topology-list-view"},a.createElement(o.a,{"aria-label":"Topology List View",className:"odc-topology-list-view__data-list",selectedDataListItemId:i,onSelectDataListItem:(e,a)=>n(i===a?void 0:t.getElementById(a))},r.map(e=>a.createElement(h.a,{key:e.getId(),appGroup:e,selectedIds:[i],onSelect:e=>n(e?t.getElementById(e[0]):void 0)})),s.length>0?a.createElement(f.a,{key:"unassigned",showCategory:r.length>0,items:s,selectedIds:[i],onSelect:e=>n(e?t.getElementById(e[0]):void 0)}):null)):null}),(e,t)=>e.visualizationReady===t.visualizationReady&&e.visualization===t.visualization&&e.onSelect===t.onSelect&&e.selectedId===t.selectedId&&(s.a(e.applicationGroups.map(e=>({label:e.getId()})),t.applicationGroups.map(e=>({label:e.getId()})))&&s.a(e.unassignedItems.map(e=>({label:e.getId()})),t.unassignedItems.map(e=>({label:e.getId()}))))),y={graph:{id:"odc-topology-list",type:"graph"}},O=Object(r.observer)((function({model:e,onSelect:t,setVisualization:n,namespace:o,metrics:s,updateMetrics:i,updateMonitoringAlerts:c}){const l=Object(u.Ve)().get("selectId"),[d,h]=a.useState(!1),f=a.useRef();f.current||(f.current=(()=>{const e=new r.Visualization;return e.registerElementFactory(m.c),e.fromModel(y),e})());const O=f.current;a.useEffect(()=>{O&&n(O)},[n,O]),a.useEffect(()=>{var n;if(e){(null===(n=e.graph)||void 0===n?void 0:n.layout)&&delete e.graph.layout,O.fromModel(e);const a=l?O.getElementById(l):null;a&&a.isVisible()?t(a):t()}h(!0)},[e,t,O]);const j=O.getElements().filter(e=>Object(r.isNode)(e)),k=j.filter(e=>e.getType()===p.u);k.sort((e,t)=>e.getLabel().localeCompare(t.getLabel()));const _=j.filter(e=>e.getType()!==p.u&&Object(r.isGraph)(e.getParent())&&e.isVisible());return a.useLayoutEffect(()=>{if(d&&l){const e=document.getElementById(l);e&&e.scrollIntoView({block:"nearest"})}},[l,d]),a.useEffect(()=>{const e=()=>{const e=[],t=n=>{if(n){e.push(n);Object(g.b)(n.getChildren()).forEach(e=>{Object(r.isNode)(e)&&t(e)})}},n=e=>{const{kindsMap:n,kindKeys:a}=Object(g.a)(e);a.forEach(e=>{n[e].sort((e,t)=>e.getLabel().localeCompare(t.getLabel())).forEach(e=>{t(e)})})};return k.forEach(t=>{e.push(t),n(t.getChildren())}),n(_),e},n=e=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),e.stopPropagation(),e.preventDefault()},a=a=>{const{nodeName:o}=a.target;if("INPUT"!==o&&"TEXTAREA"!==o)switch(a.key){case"Escape":n(a),t();break;case"Enter":n(a),(e=>{const n=e.target,a=(null==n?void 0:n.id)&&O.getElementById(n.id);a&&t(a)})(a);break;case"k":case"ArrowUp":n(a),(()=>{const n=e(),a=n.findIndex(e=>l===e.getId());a>0&&t(n[a-1])})();break;case"j":case"ArrowDown":n(a),(()=>{const n=e(),a=n.findIndex(e=>l===e.getId());a<n.length-1&&t(n[a+1])})()}};return O&&window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[O,l,k,_,t]),a.useEffect(()=>{const e=Object(v.a)(o,s,i),t=Object(b.a)(o,c);return()=>{e(),t()}},[o,i,c]),a.createElement(E,{visualizationReady:d,visualization:O,selectedId:l,onSelect:t,applicationGroups:k,unassignedItems:_})})),j=Object(d.e)(Object(i.connect)(({UI:e})=>({metrics:e.get("overview").toJS()}),e=>({updateMetrics:t=>e(l.C(t)),updateMonitoringAlerts:t=>e(Object(c.c)("devAlerts",t,"dev"))}))(a.memo(O)),d.b);t.a=j},7260:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(6534);const o=(e,t,n=15e3)=>{let o=null;const r=()=>{Object(a.b)(e).then(e=>{t(e)}).catch(e=>{console.error("Failed to fetch monitoring alerts",e)}).then(()=>{o=setTimeout(r,n)}).catch(e=>{console.error("Failed to fetch monitoring alerts",e)})};return r(),()=>{clearTimeout(o)}}},7261:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(240),o=n(22),r=n(199),s=n(6534),i=n(15);const c=(e,t,n,c=i.jb)=>{let l=null;const u=()=>{r.h&&Object(s.c)(e).then(e=>{n(e)}).catch(e=>{var n;const r=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.status;if(console.error("Could not fetch metrics, status:",r),a.a(s.a,r)&&o.a(t))throw new Error("Could not fetch metrics, status: "+r)}).then(()=>{l=setTimeout(u,c)}).catch(e=>{console.error("Failed to fetch metrics",e)})};return u(),()=>{clearTimeout(l)}}},7262:function(e,t,n){"use strict";var a=n(0),o=n(2212),r=n(4323),s=n(4324),i=n(4325),c=n(1890),l=n(5585),u=n(18),d=n(5),p=n(5697),m=n(2242),b=n(6276),v=n(6275),g=n(6535);t.a=Object(l.observer)(({appGroup:e,selectedIds:t,onSelect:n})=>{const[l]=Object(p.l)(e.getLabel()),h=Object(p.k)(),f=e.getId(),E=e.isVisible(),y=e.getLabel(),O=e.isCollapsed(),j=e.getChildren(),{groupResources:k}=e.getData();if(!E||!O&&!(null==j?void 0:j.length)||O&&!k.find(e=>{var t;return Object(p.i)(e.resourceKind||(null===(t=e.resource)||void 0===t?void 0:t.kind),h)}))return null;const{kindsMap:_,kindKeys:S}=Object(v.a)(j),T=[];T.push(a.createElement(o.a,{key:f,className:"odc-topology-list-view__application-label-cell",id:f+"_label"},a.createElement(d.fb,{className:"odc-topology-list-view__resource-icon co-m-resource-icon--lg",kind:m.ApplicationModel.kind}),a.createElement("span",{className:"odc-topology-list-view__application-label"},y))),O&&T.push(a.createElement(o.a,{key:"resources",id:f+"_resources"},a.createElement(b.a,{group:e})));const N=u("odc-topology-list-view__application-row",{"is-filtered":l});return a.createElement(r.a,{className:"odc-topology-list-view__application",key:f,id:f,"aria-labelledby":f+"_label",isExpanded:!0},a.createElement(s.a,{className:N,"data-test":f},a.createElement(i.a,{dataListCells:T})),!O&&a.createElement(c.a,{"aria-label":f,id:f+"_kinds"},S.map(o=>a.createElement(g.a,{key:o,groupLabel:e.getLabel(),kind:o,childElements:_[o],selectedIds:t,onSelect:n}))))})},7263:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(5668),s=n(15),i=n(5589),c=n(7264);const l=Object(r.a)((function({item:e,selectedIds:t,onSelect:n,children:o}){const r=e.getType(),s=a.useMemo(()=>Object(c.a)(r),[r]);return a.createElement(s,{key:e.getId(),item:e,selectedIds:t,onSelect:n},o)})),u=Object(r.a)((function({item:e,selectedIds:t,onSelect:n}){return a.createElement(a.Fragment,null,e.getChildren().filter(o.isNode).sort((e,t)=>Object(s.Xd)(Object(i.h)(e)).localeCompare(Object(s.Xd)(Object(i.h)(t)))).map(e=>a.createElement(d,{key:e.getId(),item:e,onSelect:n,selectedIds:t})))})),d=Object(r.a)((function({item:e,selectedIds:t,onSelect:n}){return e.isVisible()?a.createElement(l,{item:e,onSelect:n,selectedIds:t},a.createElement(u,{item:e,onSelect:n,selectedIds:t})):null}));t.a=d},7264:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6030),o=n(7265),r=n(7270),s=n(2221),i=n(5659),c=n(7275),l=n(7276),u=n(5952);const d=e=>{const t=Object(r.a)(e);if(t)return t;const n=Object(l.a)(e);if(n)return n;switch(e){case s.y:return u.a;case i.d:return c.a;case a.d:return o.a;default:return u.a}}},7265:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(6031),s=n(5952),i=n(5589);t.a=Object(o.observer)(({item:e,selectedIds:t,onSelect:n,children:o})=>{const{data:c}=e.getData(),l=Object(i.h)(e),u=c.chartIcon||"icon-helm",d=a.createElement(r.a,{key:"type-icon",kind:l,typeIconClass:u});return a.createElement(s.a,{item:e,selectedIds:t,onSelect:n,badgeCell:d},o)})},7266:function(e,t,n){},7267:function(e,t,n){},7268:function(e,t,n){},7269:function(e,t,n){},7270:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5634),o=n(7271),r=n(7272),s=n(7273),i=n(7274);const c=e=>{switch(e){case a.o:return r.a;case a.n:return o.a;case a.q:return i.a;case a.f:case a.i:case a.k:case a.h:case a.e:case a.j:return s.a;default:return null}}},7271:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),o=n(2212),r=n(5585),s=n(6278),i=n(6279),c=n(6280),l=n(5952),u=n(5594),d=n(5934);const p=Object(r.observer)(({item:e,selectedIds:t,onSelect:n,children:r})=>{const p=Object(u.h)(e.getData()),m=Object(u.l)(),{loaded:b,pods:v}=Object(d.a)(p.metadata.uid,p.metadata.namespace),g=a.useMemo(()=>{if(!b)return null;const[e,t]=v,n=!!e&&!!t;return{current:e,previous:t,obj:(null==e?void 0:e.obj)||p,isRollingOut:n,pods:[...(null==e?void 0:e.pods)||[],...(null==t?void 0:t.pods)||[]]}},[b,v,p]),h=a.useMemo(()=>g?Object(u.e)(m,g):null,[m,g]),f=a.createElement(o.a,{key:"memory",id:e.getId()+"_memory"},h&&h.totalBytes&&h.totalCores?a.createElement(i.b,{totalBytes:h.totalBytes,memoryByPod:h.memoryByPod}):null),E=a.createElement(o.a,{key:"cpu",id:e.getId()+"_metrics"},h&&h.totalBytes&&h.totalCores?a.createElement(s.b,{cpuByPod:h.cpuByPod,totalCores:h.totalCores}):null),y=a.createElement(o.a,{key:"status",id:e.getId()+"_status"},a.createElement("div",{className:"odc-topology-list-view__detail--status"},g?a.createElement(c.b,{obj:g.obj,podData:g}):null));return a.createElement(l.a,{item:e,selectedIds:t,onSelect:n,memoryCell:f,cpuCell:E,statusCell:y},r)})},7272:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(5585),r=n(6031),s=n(5952),i=n(5594),c=n(5702);const l=Object(o.observer)(({item:e,selectedIds:t,onSelect:n,children:o})=>{const l=Object(i.g)(e),u=Object(c.n)(Object(i.f)(e))?"icon-serverless-function":"icon-knative",d=a.createElement(r.a,{key:"type-icon",kind:l,typeIconClass:u});return a.createElement(s.a,{item:e,selectedIds:t,onSelect:n,badgeCell:d},o)})},7273:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(6031),r=n(5952),s=n(5594),i=n(616),c=n(5726);const l=e=>{const t=Object(s.g)(e.item),n=a.createElement(o.a,{key:"type-icon",kind:t,typeIcon:a.createElement(i.EventSourceIcon,{style:i.eventIconStyle})});return a.createElement(r.a,Object.assign({noPods:!0},e,{badgeCell:e.item.getType()===c.c.EventSource?n:null}))}},7274:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),o=n(2212),r=n(5585),s=n(6031),i=n(5952),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const l=Object(r.observer)(e=>{var t,n,{item:r}=e,l=c(e,["item"]);const u=null===(n=null===(t=r.getResource())||void 0===t?void 0:t.spec)||void 0===n?void 0:n.sinkUri,d=a.createElement(o.a,{className:"odc-topology-list-view__label-cell",key:"label",id:u},a.createElement(s.a,{key:"type-icon",kind:r.getResourceKind()}),u);return a.createElement(i.a,Object.assign({item:r,labelCell:d,noPods:!0},l))})},7275:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(6277),s=n(5952),i=n(5589);t.a=Object(o.observer)(({item:e,selectedIds:t,onSelect:n,children:o})=>{const{data:c}=e.getData(),l=c.operatorKind||Object(i.h)(e),u=null==c?void 0:c.builderImage,d=a.createElement(r.h,{key:"type-icon",kind:l,typeIconClass:u});return a.createElement(s.a,{item:e,selectedIds:t,onSelect:n,badgeCell:d},o)})},7276:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(7277);const o=e=>{switch(e){case"virtual-machine":return a.a;default:return null}}},7277:function(e,t,n){"use strict";var a=n(0),o=n(2212),r=n(5585),s=n(5594),i=n(7278),c=n(6277),l=n(5952),u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const d=Object(r.observer)(e=>{var{item:t}=e,n=u(e,["item"]);const r=Object(s.h)(t.getData()),d=Object(s.l)(),{podData:p}=Object(i.a)(r),m=a.useMemo(()=>p?Object(s.e)(d,p):null,[d,p]),b=a.createElement(o.a,{key:"memory",id:t.getId()+"_memory"},m&&m.totalBytes&&m.totalCores?a.createElement(c.f,{totalBytes:m.totalBytes,memoryByPod:m.memoryByPod}):null),v=a.createElement(o.a,{key:"cpu",id:t.getId()+"_metrics"},m&&m.totalBytes&&m.totalCores?a.createElement(c.c,{cpuByPod:m.cpuByPod,totalCores:m.totalCores}):null),g=a.createElement(o.a,{key:"status",id:t.getId()+"_status"});return a.createElement(l.a,Object.assign({item:t,memoryCell:b,cpuCell:v,statusCell:g},n))});t.a=d},7278:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(6135),r=n(83),s=n(10),i=n(15),c=n(7279),l=n(7280);const u=e=>{const{namespace:t}=e.metadata,[n,u]=a.useState(!1),[d,p]=a.useState(""),[m,b]=a.useState(),v=e.metadata.name,g=a.useRef(e),h=a.useMemo(()=>({replicationControllers:{isList:!0,groupVersionKind:Object(r.getGroupVersionKindForModel)(s.ReplicationControllerModel),namespace:t},pods:{isList:!0,groupVersionKind:Object(r.getGroupVersionKindForModel)(s.PodModel),namespace:t},virtualmachineinstances:{isList:!0,groupVersionKind:Object(r.getGroupVersionKindForModel)(c.a),namespace:t,optional:!0}}),[t]),f=Object(o.b)(h),E=a.useCallback(t=>{const n=Object.keys(t).find(e=>t[e].loadError);if(n)p(t[n].loadError);else if(Object.keys(t).length>0&&Object.keys(t).every(e=>t[e].loaded)){const n=t.virtualmachineinstances.data.find(e=>e.metadata.name===v),{visibleReplicationControllers:a}=Object(i.zd)(g.current,t),[o,r]=a,s=Object(l.a)(n,t.pods.data),c={current:o,previous:r,isRollingOut:!1,pods:s?[s]:[],obj:e};u(!0),p(null),b(c)}},[v]),y=Object(i.Ce)(E,250);return a.useEffect(()=>{y(f)},[y,f]),Object(i.De)({loaded:n,loadError:d,podData:m})}},7279:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={label:"Virtual Machine Instance",labelPlural:"Virtual Machine Instances",apiVersion:"v1",apiGroup:"kubevirt.io",plural:"virtualmachineinstances",abbr:"VMI",namespaced:!0,kind:"VirtualMachineInstance",id:"virtualmachineinstance",color:"#002F5D",crd:!0}},7280:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15);const o=(e,t)=>{if(!t||!e)return null;const n=Object(a.Jd)(e);return t.filter(t=>{const o=Object(a.rd)(t);return Object(a.ed)(t)===Object(a.ed)(e)&&o&&o.some(e=>e.uid===n)}).sort((e,t)=>e.metadata.creationTimestamp>t.metadata.creationTimestamp?-1:1).sort(e=>{return"Running"===(null===(n=null==(t=e)?void 0:t.status)||void 0===n?void 0:n.phase)&&(null===(o=null===(a=null==t?void 0:t.status)||void 0===a?void 0:a.containerStatuses)||void 0===o?void 0:o.every(e=>e.ready))?-1:1;var t,n,a,o})[0]}},7281:function(e,t,n){"use strict";var a=n(0),o=n(1890),r=n(2212),s=n(4323),i=n(4324),c=n(4325),l=n(5585),u=n(7),d=n(6275),p=n(6535);t.a=Object(l.observer)(({items:e,showCategory:t,selectedIds:n,onSelect:l})=>{const{t:m}=Object(u.useTranslation)();if(!(null==e?void 0:e.length))return null;const{kindsMap:b,kindKeys:v}=Object(d.a)(e),g=a.createElement(o.a,{"aria-label":"unassigned items",id:"unassigned-items"},v.map(e=>a.createElement(p.a,{groupLabel:m("topology~unassigned"),key:e,kind:e,childElements:b[e],selectedIds:n,onSelect:l})));if(!t)return g;const h=[];return h.push(a.createElement(r.a,{key:"label",className:"odc-topology-list-view__unassigned-label",id:"unassigned_label"},m("topology~No application group"))),a.createElement(s.a,{className:"odc-topology-list-view__application",key:"unassigned","aria-labelledby":"unassigned_label",isExpanded:!0},a.createElement(i.a,{className:"odc-topology-list-view__application-row odc-topology-list-view__unassigned-group"},a.createElement(c.a,{dataListCells:h})),g)})},7282:function(e,t,n){},7283:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(0),o=n(5585),r=n(5634),s=n(2221),i=n(7284),c=n(7285);const l=e=>!(!Object(o.isNode)(e)&&!Object(o.isEdge)(e)),u=({selectedEntity:e})=>e?Object(o.isNode)(e)?a.createElement(c.a,{element:e}):Object(o.isEdge)(e)?[r.p,r.k,r.h,r.l,s.w,r.f,s.v].includes(e.getType())?a.createElement(c.a,{element:e}):a.createElement(i.a,{edge:e}):null:null},7284:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(18),s=n(7),i=n(5),c=n(5741),l=n(2221),u=n(6104);t.a=({edge:e})=>{const{t:t}=Object(s.useTranslation)(),n=e.getController().getElements().filter(e=>Object(o.isNode)(e)&&!e.isGroup());return a.createElement("div",{className:"overview__sidebar-pane resource-overview"},a.createElement("div",{className:"overview__sidebar-pane-head resource-overview__heading"},a.createElement("h1",{className:"co-m-pane__heading"},a.createElement("div",{className:"co-m-pane__name co-resource-item"},t((e=>{switch(e){case l.x:return"topology~Traffic connector";default:return""}})(e.getType()))),a.createElement("div",{className:"co-actions"},a.createElement(i.b,{actions:Object(c.c)(e,n)})))),a.createElement("ul",{className:r("co-m-horizontal-nav__menu","co-m-horizontal-nav__menu--within-sidebar","co-m-horizontal-nav__menu--within-overview-sidebar","odc-application-resource-tab")},a.createElement("li",{className:"co-m-horizontal-nav__menu-item"},a.createElement("button",{type:"button"},t("topology~Resources")))),a.createElement(u.a,{edge:e}))}},7285:function(e,t,n){"use strict";var a=n(0),o=n(7286),r=n(7292);t.a=({element:e})=>a.createElement("div",{className:"overview__sidebar-pane resource-overview"},a.createElement(r.a,{element:e}),a.createElement(o.a,{element:e}))},7286:function(e,t,n){"use strict";var a=n(0),o=n(7),r=n(31),s=n(53),i=n(5),c=n(15),l=n(7287);const u=({tabs:e})=>{const{t:t}=Object(o.useTranslation)(),n=Object(r.useSelector)(({UI:e})=>e.getIn(["overview","selectedDetailsTab"])),l=Object(r.useDispatch)(),u=Object(c.Ve)().get("selectTab"),d=a.useCallback(e=>{l(s.j(e))},[l]);return a.createElement(i.vb,{selectedTab:u||n||t("topology~Details"),tabs:e,tabProps:null,onClickTab:d,additionalClassNames:"co-m-horizontal-nav__menu--within-sidebar co-m-horizontal-nav__menu--within-overview-sidebar"})};t.a=({element:e})=>{const t=e.getId();return a.createElement(l.a,{key:t,element:e},(e,t)=>t?a.createElement(u,{tabs:e}):null)}},7287:function(e,t,n){"use strict";var a=n(0),o=n(7288),r=n(7290),s=n(7291);t.a=({element:e,children:t})=>{const n=Object(r.a)(),[i,c]=Object(s.a)();return c?a.createElement(o.a,{element:e,tabExtensions:n,tabSectionExtensions:i},t):t([],!1)}},7288:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(6022),s=n(7),i=n(15),c=n(5594),l=n(7289),u=n(6104),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const p={},m=()=>null;t.a=Object(r.b)(({element:e,children:t,tabSectionExtensions:n,tabExtensions:r})=>{const{t:b}=Object(s.useTranslation)(),v=n.reduce((t,n)=>{var{provider:a,section:o,tab:r}=n,s=d(n,["provider","section","tab"]);let i;if(a){const n=a(e);if(!n)return t;[i]=n}else o&&(p[s.id]||(p[s.id]=!0,console.warn(`TabSectionExtension "${s.id}" should be updated from section to provider (hook)`)),i=o(e,m));return i?Object.assign(Object.assign({},t),t[r]?{[r]:[...t[r],Object.assign(Object.assign({},s),{contentElement:i})]}:{[r]:[Object.assign(Object.assign({},s),{contentElement:i})]}):t},{}),[g,h]=a.useMemo(()=>{if(0===Object.keys(v).length)return[[],!0];return[r.reduce((e,{id:t,label:n})=>{if(!v[t])return e;const o=Object(i.me)(v[t]).map(({id:e,contentElement:t})=>a.createElement(a.Fragment,{key:e},t));return[...e,{name:n,component:o}]},[]),!0]},[r,v]);if(h&&0===g.length){const t=Object(c.f)(e);t&&g.push({name:b("topology~Details"),component:()=>a.createElement(l.a,{resource:t})}),Object(o.isEdge)(e)&&g.push({name:b("topology~Resources"),component:()=>a.createElement(u.a,{edge:e})})}return t(g,h)})},7289:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(5);const r=({resource:e})=>a.createElement("div",{className:"overview__sidebar-pane resource-overview"},a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__summary"},a.createElement(o.lb,{resource:e}))))},7290:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(13),r=n(69),s=n(15);const i=()=>{const e=Object(r.z)(o.rb);return a.useMemo(()=>Object(s.me)(e.map(({properties:e})=>e)),[e])}},7291:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(13),r=n(15);const s=()=>{const[e,t]=Object(o.kc)(o.sb);return[a.useMemo(()=>t?Object(r.me)(e.map(({properties:e})=>e)):[],[e,t]),t]}},7292:function(e,t,n){"use strict";var a=n(0),o=n(4368),r=n(10),s=n(7293),i=n(7294),c=n(7295);n(7296);t.a=({element:e})=>{var t,n;const l=e.getLabel(),u=Object(i.a)(e),d=null===(n=null===(t=e.getData())||void 0===t?void 0:t.resource)||void 0===n?void 0:n.kind;return a.createElement("div",{className:"overview__sidebar-pane-head resource-overview__heading"},a.createElement("h1",{className:"co-m-pane__heading"},a.createElement("div",{className:"co-m-pane__name co-resource-item"},null!=u?u:l),a.createElement("div",{className:"co-actions"},a.createElement(s.a,{element:e}))),d===r.DeploymentConfigModel.kind&&a.createElement("div",{className:"dc-deprecation-sidebar-alert"},a.createElement(o.DeploymentConfigDeprecationAlert,null)),a.createElement("div",{className:"odc-topology-sidebar-alert"},a.createElement(c.a,{element:e})))}},7293:function(e,t,n){"use strict";var a=n(0),o=n(5585),r=n(8),s=n(15),i=n(5594);t.a=Object(o.observer)(({element:e})=>{const t=Object(i.f)(e),n=a.useMemo(()=>{var n,a;const{csvName:o}=null!==(a=null===(n=e.getData())||void 0===n?void 0:n.data)&&void 0!==a?a:{};return Object.assign(Object.assign({"topology-actions":e,"topology-context-actions":{element:e}},t?{[Object(r.Db)(t)]:t}:{}),o?{"csv-actions":{csvName:o,resource:t}}:{})},[e,t]);return a.createElement(s.j,{key:e.getId(),context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(s.h,{actions:e,options:t,variant:s.i.DROPDOWN}))})},7294:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n(13);const r=e=>{const[t,n]=Object(o.kc)(o.qb);return a.useMemo(()=>{var a,o,r;return n?null===(r=null===(o=null===(a=t.sort((e,t)=>t.properties.priority-e.properties.priority).find(({properties:{link:t}})=>!!t(e)))||void 0===a?void 0:a.properties)||void 0===o?void 0:o.link)||void 0===r?void 0:r.call(o,e):null},[t,n,e])}},7295:function(e,t,n){"use strict";var a=n(0),o=n(80),r=n(1939),s=n(5585),i=n(13),c=n(15),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const u=Object(s.observer)((function({id:e,useResourceAlertsContent:t,element:n}){const[s,i,l]=Object(c.ef)(`${c.nc}.sideBarAlerts.${e}.${n.getId()}`,!0),u=t(n);if(!u)return null;const{variant:d,content:p,actionLinks:m,dismissible:b,title:v}=u;return l&&s?a.createElement(o.a,{isInline:!0,variant:d,title:v,actionLinks:m,actionClose:b&&a.createElement(r.a,{onClose:()=>{i(!1)}})},p):null}));t.a=({element:e})=>{const[t,n]=Object(i.kc)(i.pb);return n?a.createElement(a.Fragment,null,t.map(t=>{var{uid:n}=t,o=t.properties,{contentProvider:r}=o,s=l(o,["contentProvider"]);const i=`${n}-${e.getId()}`;return a.createElement(u,Object.assign({key:i},s,{useResourceAlertsContent:r,element:e}))})):null}},7296:function(e,t,n){},7297:function(e,t,n){"use strict";var a=n(0),o=n(1932),r=n(5585),s=n(15),i=n(997),c=n(2221);n(5887);t.a=({children:e,onClose:t})=>{const[n,l,u]=Object(s.ef)(c.r,500),d=a.useCallback((e,t)=>{l(t)},[l]);return a.createElement(o.a,{isResizable:!0,minSize:"400px",defaultSize:(u?n:500)+"px",onResize:d,className:"ocs-sidebar-index"},a.createElement(r.TopologySideBar,{resizable:!0,className:"pf-topology-side-bar-resizable","data-test":"topology-sidepane"},a.createElement("div",{className:"pf-topology-side-bar__body"},a.createElement("div",{className:"co-sidebar-dismiss clearfix"},a.createElement(i.a,{onClick:t,dataTestID:"sidebar-close-button",additionalClassName:"co-sidebar-dismiss__close-button"})),e)))}},7298:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(156),r=n(405),s=n(564),i=n(355),c=n(611),l=n(19),u=n(612),d=n(6405),p=n(7),m=n(14);const b=({onShowTopologyAnyway:e})=>{const{t:t}=Object(p.useTranslation)();return a.createElement(o.a,null,a.createElement(r.a,{titleText:a.createElement(a.Fragment,null,t("topology~Loading is taking longer than expected")),icon:a.createElement(s.a,{icon:d.a}),headingLevel:"h4"}),a.createElement(i.a,null,t("topology~We noticed that it is taking a long time to visualize your application Topology. You can use Search to find specific resources or click Continue to keep waiting.")),a.createElement(c.a,null,a.createElement(l.a,{variant:"primary",component:e=>a.createElement(m.Link,Object.assign({},e,{to:"/search-page"}))},t("topology~Go to Search")),a.createElement(u.a,null,a.createElement(l.a,{variant:"link",onClick:e},t("topology~Continue")))))}},7299:function(e,t,n){"use strict";var a=n(0),o=n(156),r=n(405),s=n(564),i=n(611),c=n(612),l=n(19),u=n(6405),d=n(7),p=n(14);t.a=a.memo(({setIsQuickSearchOpen:e})=>{const{t:t}=Object(d.useTranslation)();return a.createElement(o.a,{className:"odc-topology__empty-state",variant:o.b.full,"data-test":"no-resources-found"},a.createElement(r.a,{titleText:a.createElement(a.Fragment,null,t("topology~No resources found")),icon:a.createElement(s.a,{icon:u.a}),headingLevel:"h3"}),a.createElement(i.a,null,a.createElement(c.a,null,a.createElement(d.Trans,{t:t,ns:"topology"},a.createElement(l.a,{isInline:!0,variant:"link","data-test":"start-building-your-application",onClick:t=>{t.stopPropagation(),e(!0)}},"Start building your application")," or visit the ",a.createElement(p.Link,{to:"/add","data-test":"add-page"},"Add page")," for more details."))))})},7300:function(e,t,n){},7301:function(e,t,n){"use strict";var a=n(0),o=n(353),r=n(19),s=n(88),i=n(404),c=n(8010),l=n(979),u=n(6405),d=n(5585),p=n(7),m=n(4380),b=n(6137),v=n(6533),g=n(15),h=n(5662),f=n(5693),E=n(7302);const y=Object(d.observer)((function({viewType:e,onViewChange:t}){const{t:n}=Object(p.useTranslation)(),d=Object(g.Ke)(),{extensions:y}=a.useContext(m.FileUploadContext),O=e===f.c.graph,j=a.useContext(h.b),{namespace:k,isEmptyModel:_}=j,S=Object(v.a)(k).includes(b.c),T=n(O?"topology~List view":"topology~Graph view");return k?a.createElement(a.Fragment,null,d?null:a.createElement(o.a,{"aria-label":n("topology~Shortcuts"),bodyContent:Object(E.a)(n,{supportedFileTypes:y,isEmptyModel:_,viewType:e,allImportAccess:S}),position:"left",maxWidth:"100vw"},a.createElement(r.a,{type:"button",variant:"link",className:"odc-topology__shortcuts-button",icon:a.createElement(l.a,null),"data-test-id":"topology-view-shortcuts"},n("topology~View shortcuts"))),a.createElement(s.a,{position:"left",content:T},a.createElement(r.a,{variant:"link","aria-label":T,className:"pf-m-plain odc-topology__view-switcher","data-test-id":"topology-switcher-view",isDisabled:_,onClick:()=>t(O?f.c.list:f.c.graph)},a.createElement(i.a,{size:"md"},O?a.createElement(c.a,null):a.createElement(u.a,null))))):null}));t.a=y},7302:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(15),r=n(5693);const s=(e,t)=>{const{supportedFileTypes:n,isEmptyModel:s,viewType:i,allImportAccess:c}=t;return a.createElement(o.Yb,null,!s&&i===r.c.graph&&a.createElement(a.Fragment,null,a.createElement(o.Xb,{"data-test-id":"move",drag:!0},e("topology~Move")),c&&a.createElement(a.Fragment,null,a.createElement(o.Xb,{"data-test-id":"edit-application-grouping",shift:!0,drag:!0},e("topology~Edit application grouping")),a.createElement(o.Xb,{"data-test-id":"context-menu",rightClick:!0},e("topology~Access context menu")),a.createElement(o.Xb,{"data-test-id":"create-connector-handle",hover:!0},e("topology~Access create connector handle")))),!s&&a.createElement(o.Xb,{"data-test-id":"view-details",click:!0},e("topology~View details in side panel")),a.createElement(o.Xb,{"data-test-id":"open-quick-search",ctrl:!0,keyName:"Spacebar"},e("topology~Open quick search modal")),(null==n?void 0:n.length)>0&&c&&a.createElement(o.Xb,{"data-test-id":"upload-file",dragNdrop:!0},e("topology~Upload file ({{fileTypes}}) to project",{fileTypes:n.map(e=>"."+e).toString()})))}},7998:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5585),o=n(5808),r=n(6209),s=n(5782),i=n(7228),c=n(5594),l=n(7230);const u=(e,t)=>{switch(t){case l.a:return Object(r.b)(Object(s.p)(),s.d)(Object(c.m)("patch")(Object(a.withDragNode)(Object(s.r)(t))(Object(a.withSelection)({controlled:!0})(Object(s.u)(o.a)(i.a)))));default:return}}},8004:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(5686),r=n(2221),s=n(8832);const i=e=>{var t;if(e.getType()!==r.y)return[void 0,!0,void 0];const n=e.getData(),{hpas:i}=null!==(t=null==n?void 0:n.resources)&&void 0!==t?t:{};return[i?a.createElement(o.a,null,a.createElement(s.a,{hpas:i})):void 0,!0,void 0]}},8005:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(10),r=n(5594),s=n(5419);const i=e=>{const t=Object(r.f)(e);if(!t||![o.DeploymentConfigModel.kind,o.DeploymentModel.kind,o.StatefulSetModel.kind,o.DaemonSetModel.kind].includes(t.kind))return[void 0,!0,void 0];const{resources:n}=e.getData();return[n?a.createElement(s.default,{item:n}):void 0,!0,void 0]}},8006:function(e,t,n){"use strict";var a=n(8007);n.d(t,"a",(function(){return a.a}));var o=n(8008);n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b}))},8007:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),o=n(5),r=n(8),s=n(2221),i=n(5594);const c=e=>{if(e.getType()!==s.w)return;const t=Object(i.f)(e);return a.createElement(a.Fragment,null,a.createElement(o.fb,{kind:t.kind}),a.createElement(o.hb,{kind:Object(r.Db)(t),name:t.metadata.name,namespace:t.metadata.namespace,hideIcon:!0}))}},8008:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(0),o=n(7),r=n(5),s=n(7243),i=n(6104),c=n(2221),l=n(5594);const u=({resource:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body"},a.createElement(r.ob,{text:t("devconsole~Details")}),a.createElement("div",{className:"resource-overview__body"},a.createElement("div",{className:"resource-overview__summary"},a.createElement(r.lb,{resource:e})),a.createElement("div",{className:"resource-overview__details"},a.createElement(s.a,{serviceBinding:e}))))},d=e=>{if(e.getType()!==c.w)return[void 0,!0,void 0];const t=Object(l.f)(e);return[a.createElement(u,{resource:t}),!0,void 0]},p=e=>{if(e.getType()!==c.w)return[void 0,!0,void 0];return[a.createElement(i.a,{edge:e}),!0,void 0]}},8009:function(e,t,n){"use strict";var a=n(0),o=n(137),r=n(7),s=n(7244);t.a=()=>{const{t:e}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.b,null,a.createElement("title",null,e("devconsole~Topology"))),a.createElement(s.a,null))}},8832:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),o=n(5),r=n(10);const s=({hpas:e})=>(null==e?void 0:e.length)?a.createElement(a.Fragment,null,a.createElement(o.ub,{text:r.HorizontalPodAutoscalerModel.labelPlural}),a.createElement("ul",{className:"list-group"},e.map(e=>a.createElement("li",{key:e.metadata.name,className:"list-group-item"},a.createElement(o.hb,{kind:r.HorizontalPodAutoscalerModel.kind,name:e.metadata.name,namespace:e.metadata.namespace}))))):null}}]);
//# sourceMappingURL=topology-chunk-6c7c725aa6d97e30bff1.min.js.map