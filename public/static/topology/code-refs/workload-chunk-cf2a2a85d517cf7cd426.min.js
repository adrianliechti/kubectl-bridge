(window.webpackJsonp=window.webpackJsonp||[]).push([[303,20,44,126,132,137,138,258,259,348],{322:function(e,t,n){"use strict";n.r(t);var a=n(5811);n.d(t,"useCronJobSideBarDetails",(function(){return a.a}));var r=n(5812);n.d(t,"useDaemonSetSideBarDetails",(function(){return r.a}));var i=n(5813);n.d(t,"useDeploymentConfigSideBarDetails",(function(){return i.a}));var s=n(5814);n.d(t,"useDeploymentSideBarDetails",(function(){return s.a}));var o=n(5815);n.d(t,"useJobSideBarDetails",(function(){return o.a}));var l=n(5816);n.d(t,"usePodsSideBarTabSection",(function(){return l.a}));var c=n(5818);n.d(t,"useStatefulSetSideBarDetails",(function(){return c.a}));var u=n(5819);n.d(t,"getWorkloadResourceLink",(function(){return u.a}));var d=n(5700);n.d(t,"getDataFromAdapter",(function(){return d.b})),n.d(t,"podsAdapterForWorkloads",(function(){return d.e})),n.d(t,"buildsAdapterForWorkloads",(function(){return d.a})),n.d(t,"networkAdapterForWorkloads",(function(){return d.c})),n.d(t,"podsAdapterForCronJobWorkload",(function(){return d.d}));var p=n(5820);n.d(t,"useBuildsSideBarTabSection",(function(){return p.a}));var m=n(5821);n.d(t,"useNetworkingSideBarTabSection",(function(){return m.a}));var h=n(5822);n.d(t,"useJobsSideBarTabSection",(function(){return h.a}));var b=n(5823);n.d(t,"usePodSideBarDetails",(function(){return b.a}));var g=n(5824);n.d(t,"useHealthChecksAlert",(function(){return g.a})),n.d(t,"useResourceQuotaAlert",(function(){return g.b}));var v=n(5825);n.d(t,"useVpaSideBarTabSection",(function(){return v.a}))},4359:function(e,t,n){"use strict";n.r(t);var a=n(5590);n.d(t,"toDefaultSecretType",(function(){return a.d})),n.d(t,"toTypeAbstraction",(function(){return a.e})),n.d(t,"generateSecret",(function(){return a.b})),n.d(t,"determineSecretType",(function(){return a.a})),n.d(t,"getImageSecretKey",(function(){return a.c})),n.d(t,"useSecretTitle",(function(){return a.g})),n.d(t,"useSecretDescription",(function(){return a.f}));var r=n(869);n.d(t,"SecretTypeAbstraction",(function(){return r.c})),n.d(t,"AUTHS_KEY",(function(){return r.a})),n.d(t,"SecretType",(function(){return r.b}));var i=n(5598);n.d(t,"SecretFormWrapper",(function(){return i.a}));var s=n(5604);n.d(t,"PullSecretForm",(function(){return s.a}));var o=n(5606);n.d(t,"PullSecretCredentialEntry",(function(){return o.a}));var l=n(5605);n.d(t,"CreateConfigSubform",(function(){return l.a}));var c=n(5607);n.d(t,"UploadConfigSubform",(function(){return c.a}));var u=n(5608);n.d(t,"WebHookSecretForm",(function(){return u.a}));var d=n(5601);n.d(t,"SourceSecretForm",(function(){return d.a}));var p=n(5602);n.d(t,"BasicAuthSubform",(function(){return p.a}));var m=n(5603);n.d(t,"SSHAuthSubform",(function(){return m.a}));var h=n(5609);n.d(t,"GenericSecretForm",(function(){return h.a}));var b=n(5610);n.d(t,"KeyValueEntryFormWithTranslation",(function(){return b.b})),n.d(t,"KeyValueEntryForm",(function(){return b.a}));var g=n(5636);n.d(t,"SecretLoadingWrapper",(function(){return g.b})),n.d(t,"EditSecret",(function(){return g.a}));var v=n(5637);n.d(t,"CreateSecret",(function(){return v.a}));var f=n(5593);n.d(t,"DroppableFileInput",(function(){return f.a}));var E=n(5600);n.d(t,"SecretSubForm",(function(){return E.a}));n(5638)},4368:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return C})),n.d(t,"DeploymentConfigDetailsList",(function(){return D})),n.d(t,"DeploymentConfigDeprecationAlert",(function(){return _})),n.d(t,"DeploymentConfigsDetails",(function(){return x})),n.d(t,"DeploymentConfigsDetailsPage",(function(){return M})),n.d(t,"DeploymentConfigsList",(function(){return U})),n.d(t,"DeploymentConfigsPage",(function(){return G}));var a=n(0),r=n(16),i=n(313),s=n(50),o=n(15),l=n(7),c=n(5667),u=n(5721),d=n(5766),p=n(5767),m=n(8),h=n(131),b=n(10),g=n(972),v=n(409),f=n(2226),E=n(40),y=n(5),k=n(4369),j=n(5758),R=n(2224),O=n(80),P=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const{ModifyCount:S,AddStorage:N,common:w}=y.F.factory,C=[(e,t)=>({labelKey:"public~Start rollout",callback:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(m.jb)(b.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(h.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(y.Ac)(e,t).catch(e=>Object(h.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),Object(p.d)(S),u.a,p.a,p.c,N,p.b,d.a,...Object(y.Rb)(b.DeploymentConfigModel),u.b,...w],T=e=>{const t=r.a(e,"status.conditions"),n=i.a(t,{type:"Progressing",reason:"ProgressDeadlineExceeded",status:"False"}),a=i.a(t,{type:"ReplicaFailure",status:"True"});return n||a?"Failed":e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?"Up to date":"Updating"},D=({dc:e})=>{var t,n;const{t:i}=Object(l.useTranslation)(),o=r.a(e,"spec.strategy.rollingParams.timeoutSeconds"),c=r.a(e,"spec.strategy.rollingParams.updatePeriodSeconds"),u=r.a(e,"spec.strategy.rollingParams.intervalSeconds"),d=s.a(e.spec.triggers,"type").join(", ");return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(y.r,{label:i("public~Latest version"),obj:e,path:"status.latestVersion"}),a.createElement(y.r,{label:i("public~Message"),obj:e,path:"status.details.message",hideEmpty:!0}),a.createElement(y.r,{label:i("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"Rolling"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(y.r,{label:i("public~Timeout"),obj:e,path:"spec.strategy.rollingParams.timeoutSeconds",hideEmpty:!0},i("public~{{count}} second",{count:o})),a.createElement(y.r,{label:i("public~Update period"),obj:e,path:"spec.strategy.rollingParams.updatePeriodSeconds",hideEmpty:!0},i("public~{{count}} second",{count:c})),a.createElement(y.r,{label:i("public~Interval"),obj:e,path:"spec.strategy.rollingParams.intervalSeconds",hideEmpty:!0},i("public~{{count}} second",{count:u})),a.createElement(y.r,{label:i("public~Max unavailable"),obj:e,path:"spec.strategy.rollingParams.maxUnavailable"},i("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingParams.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(y.r,{label:i("public~Max surge"),obj:e,path:"spec.strategy.rollingParams.maxSurge"},i("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingParams.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(y.r,{label:i("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?i("public~{{count}} second",{count:e.spec.minReadySeconds}):i("public~Not configured")),a.createElement(y.r,{label:i("public~Triggers"),obj:e,path:"spec.triggers",hideEmpty:!0},d),a.createElement(y.mb,{obj:e}),a.createElement(R.a,{obj:e}))},_=()=>{const{t:e}=Object(l.useTranslation)();return a.createElement(O.a,{isInline:!0,variant:"info",title:e("public~DeploymentConfig is being deprecated with OpenShift 4.14")},a.createElement("p",null,e("public~Feature development of DeploymentConfigs will be deprecated in OpenShift Container Platform 4.14.")),a.createElement("p",null,e("public~DeploymentConfigs will continue to be supported for security and critical fixes, but you should migrate to Deployments wherever it is possible.")),!Object(y.hc)()&&a.createElement(y.z,{href:Object(y.Qb)(y.Lb.deprecatedDeploymentConfig),text:e("public~Learn more about Deployments"),additionalClassName:"pf-v5-u-mt-md"}))},x=({obj:e})=>{const{t:t}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~DeploymentConfig details")}),e.spec.paused&&a.createElement(y.Db,{obj:e,model:b.DeploymentConfigModel}),a.createElement(c.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(y.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,a.createElement(o.cc,{status:T(e)})))),a.createElement("div",{className:"col-sm-6"},a.createElement(D,{dc:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~Containers")}),a.createElement(y.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(f.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(y.ob,{text:t("public~Conditions")}),a.createElement(g.b,{conditions:e.status.conditions})))},A=e=>a.createElement(y.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),I=["spec","template","spec","containers"],F=[y.mc.details(x),y.mc.editYaml(),{href:"replicationcontrollers",nameKey:"public~ReplicationControllers",component:({obj:e})=>{const{metadata:{namespace:t,name:n}}=e;return a.createElement(k.ReplicationControllersPage,{showTitle:!1,namespace:t,selector:{"openshift.io/deployment-config.name":n},canCreate:!1})}},y.mc.pods(),y.mc.envEditor(e=>a.createElement(A,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:I,readOnly:!1})),y.mc.events(v.ResourceEventStream)],L=({kindObj:e,obj:t})=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(o.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(o.h,{actions:e,options:t,variant:o.i.DROPDOWN}))},M=e=>a.createElement(E.a,Object.assign({},e,{kind:"DeploymentConfig",customActionMenu:(e,t)=>a.createElement(L,{kindObj:e,obj:t}),pages:F}),a.createElement(_,null),a.createElement("br",null));M.displayName="DeploymentConfigsDetailsPage";const B=e=>{var{obj:t}=e,n=P(e,["obj"]);const r={[Object(m.Db)(t)]:t},i=a.createElement(o.hb,{context:r});return a.createElement(j.b,Object.assign({obj:t,customActionMenu:i,kind:"DeploymentConfig"},n))},$=()=>Object(j.a)();$.displayName="DeploymentConfigTableHeader";const U=e=>{const{t:t}=Object(l.useTranslation)();return a.createElement(E.j,Object.assign({},e,{"aria-label":t("public~DeploymentConfigs"),Header:$,Row:B,virtualize:!0}))};U.displayName="DeploymentConfigsList";const G=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deploymentconfigs/~new/form`};return a.createElement(E.c,Object.assign({kind:"DeploymentConfig",ListComponent:U,createProps:t,canCreate:!0,helpText:a.createElement(_,null)},e))};G.displayName="DeploymentConfigsListPage"},4369:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicationControllersDetailsPage",(function(){return P})),n.d(t,"ReplicationControllersList",(function(){return C})),n.d(t,"ReplicationControllersPage",(function(){return T}));var a=n(0),r=n(16),i=n(18),s=n(7),o=n(14),l=n(54),c=n(15),u=n(409),d=n(40),p=n(5),m=n(8),h=n(2226),b=n(2224);const g=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),v=["spec","template","spec","containers"],f=e=>a.createElement(g,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:v,readOnly:!1}),{details:E,editYaml:y,pods:k,envEditor:j,events:R}=p.mc,O=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),P=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(d.a,Object.assign({},e,{getResourceStatus:e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"])||null},customActionMenu:(e,t)=>{const n={[Object(m.Hb)(e)]:t};return a.createElement(c.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(c.h,{actions:e,options:t,variant:c.i.DROPDOWN}))},pages:[E(({obj:e})=>{const n=r.a(e,["metadata","annotations","openshift.io/deployment-config.latest-version"]),i=r.a(e,["metadata","annotations","openshift.io/deployment.phase"]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~ReplicationController details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},n&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Deployment revision")),a.createElement("dd",null,n)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},i&&a.createElement(a.Fragment,null,a.createElement("dt",null,t("public~Phase")),a.createElement("dd",null,a.createElement(c.cc,{status:i}))),a.createElement(p.kb,{resource:e}),a.createElement(p.mb,{obj:e}),a.createElement(b.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.a,{resource:e,heading:t("public~Volumes")})))}),y(),k(O),j(f),R(u.ResourceEventStream)]}))},S="ReplicationController",N=["","","pf-m-hidden pf-m-visible-on-md","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-lg","pf-m-hidden pf-m-visible-on-xl",p.F.columnClass],w=({obj:e})=>{var t,n;const{t:r}=Object(s.useTranslation)(),l=null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/deployment.phase"],u={[Object(m.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:N[0]},a.createElement(p.hb,{kind:S,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:i(N[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:N[2]},a.createElement(o.Link,{to:Object(p.tc)(S,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},r("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(d.k,{className:N[3]},a.createElement(c.cc,{status:l})),a.createElement(d.k,{className:N[4]},a.createElement(p.Y,{resource:e})),a.createElement(d.k,{className:N[5]},a.createElement(p.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(d.k,{className:N[6]},a.createElement(c.hb,{context:u})))},C=e=>{const{t:t}=Object(s.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~ReplicationControllers"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[l.a],props:{className:N[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[l.a],props:{className:N[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[l.a],props:{className:N[2]}},{title:t("public~Phase"),sortField:'metadata.annotations["openshift.io/deployment.phase"]',transforms:[l.a],props:{className:N[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[l.a],props:{className:N[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[l.a],props:{className:N[5]}},{title:"",props:{className:N[6]}}],Row:w,virtualize:!0}))},T=e=>{const{canCreate:t=!0}=e;return a.createElement(d.c,Object.assign({canCreate:t,kind:"ReplicationController",ListComponent:C},e))}},4370:function(e,t,n){"use strict";n.r(t),n.d(t,"ReplicaSetsList",(function(){return T})),n.d(t,"ReplicaSetsPage",(function(){return D})),n.d(t,"ReplicaSetsDetailsPage",(function(){return S}));var a=n(0),r=n(16),i=n(18),s=n(14),o=n(54),l=n(7),c=n(40),u=n(5),d=n(409),p=n(2226),m=n(15),h=n(2224),b=n(8);const g=({obj:e})=>{const t=r.a(e,["metadata","annotations","deployment.kubernetes.io/revision"]),{t:n}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~ReplicaSet details")}),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement(u.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},t&&a.createElement(a.Fragment,null,a.createElement("dt",null,n("public~Deployment revision")),a.createElement("dd",null,t)))),a.createElement("div",{className:"col-md-6"},a.createElement("dl",{className:"co-m-pane__details"},a.createElement(u.kb,{resource:e}),a.createElement(u.mb,{obj:e}),a.createElement(h.a,{obj:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(u.ob,{text:n("public~Containers")}),a.createElement(u.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.a,{resource:e,heading:n("public~Volumes")})))},v=e=>a.createElement(u.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),f=["spec","template","spec","containers"],E=e=>a.createElement(v,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:f,readOnly:!1}),y=e=>a.createElement(u.ab,Object.assign({},e,{showNodes:!0})),{details:k,editYaml:j,pods:R,envEditor:O,events:P}=u.mc,S=e=>a.createElement(c.a,Object.assign({},e,{customActionMenu:(e,t)=>{const n={[Object(b.Hb)(e)]:t};return a.createElement(m.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(m.h,{actions:e,options:t,variant:m.i.DROPDOWN}))},pages:[k(g),j(),R(y),O(E),P(d.ResourceEventStream)]})),N="ReplicaSet",w=["","",i("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-xl"),u.F.columnClass],C=({obj:e})=>{const{t:t}=Object(l.useTranslation)(),n={[Object(b.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(c.k,{className:w[0]},a.createElement(u.hb,{kind:N,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(c.k,{className:i(w[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(c.k,{className:w[2]},a.createElement(s.Link,{to:Object(u.tc)(N,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},t("public~{{count1}} of {{count2}} pods",{count1:e.status.replicas||0,count2:e.spec.replicas}))),a.createElement(c.k,{className:w[3]},a.createElement(u.L,{kind:N,labels:e.metadata.labels})),a.createElement(c.k,{className:w[4]},a.createElement(u.Y,{resource:e})),a.createElement(c.k,{className:w[5]},a.createElement(u.xb,{timestamp:e.metadata.creationTimestamp})),a.createElement(c.k,{className:w[6]},a.createElement(m.hb,{context:n})))},T=e=>{const{t:t}=Object(l.useTranslation)();return a.createElement(c.j,Object.assign({},e,{"aria-label":t("public~ReplicaSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[o.a],props:{className:w[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[o.a],props:{className:w[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"numReplicas",transforms:[o.a],props:{className:w[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[o.a],props:{className:w[3]}},{title:t("public~Owner"),sortField:"metadata.ownerReferences[0].name",transforms:[o.a],props:{className:w[4]}},{title:t("public~Created"),sortField:"metadata.creationTimestamp",transforms:[o.a],props:{className:w[5]}},{title:"",props:{className:w[6]}}],Row:C,virtualize:!0}))},D=e=>{const{canCreate:t=!0}=e;return a.createElement(c.c,Object.assign({canCreate:t,kind:"ReplicaSet",ListComponent:T},e))}},4371:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return v})),n.d(t,"DaemonSetDetailsList",(function(){return y})),n.d(t,"DaemonSets",(function(){return S})),n.d(t,"DaemonSetsPage",(function(){return N})),n.d(t,"DaemonSetsDetailsPage",(function(){return C}));var a=n(0),r=n(14),i=n(18),s=n(54),o=n(7),l=n(5721),c=n(15),u=n(8),d=n(40),p=n(5),m=n(409),h=n(2226),b=n(10),g=n(2224);const v=[l.a,p.F.factory.AddStorage,...p.F.getExtensionsActionsForKind(b.DaemonSetModel),l.b,...p.F.factory.common],f="DaemonSet",E=["","",i("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),i("pf-m-hidden","pf-m-visible-on-lg"),p.F.columnClass],y=({ds:e})=>{const{t:t}=Object(o.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(p.r,{label:t("public~Current count"),obj:e,path:"status.currentNumberScheduled"}),a.createElement(p.r,{label:t("public~Desired count"),obj:e,path:"status.desiredNumberScheduled"}),a.createElement(g.a,{obj:e}))},k=({obj:e})=>{const{t:t}=Object(o.useTranslation)(),{podData:n,loaded:r}=Object(c.Se)(e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~DaemonSet details")}),r?a.createElement(c.Ab,{key:e.metadata.uid,pods:(null==n?void 0:n.pods)||[],obj:e,resourceKind:b.DaemonSetModel,enableScaling:!1}):a.createElement(p.T,null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-6"},a.createElement(p.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"col-lg-6"},a.createElement(y,{ds:e})))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(p.ob,{text:t("public~Containers")}),a.createElement(p.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(h.a,{resource:e,heading:t("public~Volumes")})))},j=e=>a.createElement(p.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),R=["spec","template","spec","containers"],O=e=>a.createElement(j,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:R,readOnly:!1}),P=({obj:e})=>{const{t:t}=Object(o.useTranslation)(),n={[Object(u.Db)(e)]:e};return a.createElement(a.Fragment,null,a.createElement(d.k,{className:E[0]},a.createElement(p.hb,{kind:f,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(d.k,{className:i(E[1],"co-break-word"),columnID:"namespace"},a.createElement(p.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(d.k,{className:E[2]},a.createElement(r.Link,{to:`/k8s/ns/${e.metadata.namespace}/daemonsets/${e.metadata.name}/pods`,title:"pods"},t("public~{{currentNumber}} of {{desiredNumber}} pods",{currentNumber:e.status.currentNumberScheduled,desiredNumber:e.status.desiredNumberScheduled}))),a.createElement(d.k,{className:E[3]},a.createElement(p.L,{kind:f,labels:e.metadata.labels})),a.createElement(d.k,{className:E[4]},a.createElement(p.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(d.k,{className:E[5]},a.createElement(c.hb,{context:n})))},S=e=>{const{t:t}=Object(o.useTranslation)();return a.createElement(d.j,Object.assign({},e,{"aria-label":t("public~DaemonSets"),Header:()=>[{title:t("public~Name"),sortField:"metadata.name",transforms:[s.a],props:{className:E[0]}},{title:t("public~Namespace"),sortField:"metadata.namespace",transforms:[s.a],props:{className:E[1]},id:"namespace"},{title:t("public~Status"),sortFunc:"daemonsetNumScheduled",transforms:[s.a],props:{className:E[2]}},{title:t("public~Labels"),sortField:"metadata.labels",transforms:[s.a],props:{className:E[3]}},{title:t("public~Pod selector"),sortField:"spec.selector",transforms:[s.a],props:{className:E[4]}},{title:"",props:{className:E[5]}}],Row:P,virtualize:!0}))},N=e=>a.createElement(d.c,Object.assign({canCreate:!0,ListComponent:S,kind:f},e)),w=e=>a.createElement(p.ab,Object.assign({},e,{showNodes:!0})),C=e=>{const t=Object(c.Ue)();return a.createElement(d.a,Object.assign({},e,{kind:f,customActionMenu:(e,t)=>{const n={[Object(u.Hb)(e)]:t};return a.createElement(c.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(c.h,{actions:e,options:t,variant:c.i.DROPDOWN}))},pages:[p.mc.details(Object(p.Kb)(k)),...t?[p.mc.metrics()]:[],p.mc.editYaml(),p.mc.pods(w),p.mc.envEditor(O),p.mc.events(m.ResourceEventStream)]}))}},4372:function(e,t,n){"use strict";n.r(t),n.d(t,"menuActions",(function(){return S})),n.d(t,"DeploymentDetailsList",(function(){return N})),n.d(t,"DeploymentsDetailsPage",(function(){return x})),n.d(t,"DeploymentsList",(function(){return F})),n.d(t,"DeploymentsPage",(function(){return L}));var a=n(0),r=n(7),i=n(15),s=n(5667),o=n(5721),l=n(5766),c=n(5767),u=n(10),d=n(8),p=n(131),m=n(972),h=n(409),b=n(2226),g=n(40),v=n(5),f=n(4370),E=n(5758),y=n(2224),k=n(5922),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const{ModifyCount:R,AddStorage:O,common:P}=v.F.factory,S=[Object(c.d)(R),(e,t)=>({labelKey:t.spec.paused?"public~Resume rollouts":"public~Pause rollouts",callback:()=>Object(v.Ac)(e,t).catch(e=>Object(p.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),o.a,c.a,c.c,O,(e,t)=>({labelKey:"public~Edit update strategy",callback:()=>Object(p.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),c.b,l.a,...v.F.getExtensionsActionsForKind(u.DeploymentModel),o.b,...P],N=({deployment:e})=>{var t,n;const{t:i}=Object(r.useTranslation)();return a.createElement("dl",{className:"co-m-pane__details"},a.createElement(v.r,{label:i("public~Update strategy"),obj:e,path:"spec.strategy.type"}),"RollingUpdate"===e.spec.strategy.type&&a.createElement(a.Fragment,null,a.createElement(v.r,{label:i("public~Max unavailable"),obj:e,path:"spec.strategy.rollingUpdate.maxUnavailable"},i("public~{{maxUnavailable}} of {{count}} pod",{maxUnavailable:null!==(t=e.spec.strategy.rollingUpdate.maxUnavailable)&&void 0!==t?t:1,count:e.spec.replicas})),a.createElement(v.r,{label:i("public~Max surge"),obj:e,path:"spec.strategy.rollingUpdate.maxSurge"},i("public~{{maxSurge}} greater than {{count}} pod",{maxSurge:null!==(n=e.spec.strategy.rollingUpdate.maxSurge)&&void 0!==n?n:1,count:e.spec.replicas}))),a.createElement(v.r,{label:i("public~Progress deadline seconds"),obj:e,path:"spec.progressDeadlineSeconds"},e.spec.progressDeadlineSeconds?i("public~{{count}} second",{count:e.spec.progressDeadlineSeconds}):i("public~Not configured")),a.createElement(v.r,{label:i("public~Min ready seconds"),obj:e,path:"spec.minReadySeconds"},e.spec.minReadySeconds?i("public~{{count}} second",{count:e.spec.minReadySeconds}):i("public~Not configured")),a.createElement(v.mb,{obj:e}),a.createElement(y.a,{obj:e}),a.createElement(k.a,{obj:e}))};N.displayName="DeploymentDetailsList";const w=({obj:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement("div",{className:"co-m-pane__body"},a.createElement(v.ob,{text:t("public~Deployment details")}),e.spec.paused&&a.createElement(v.Db,{obj:e,model:u.DeploymentModel}),a.createElement(s.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"}),a.createElement("div",{className:"co-m-pane__body-group"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-6"},a.createElement(v.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("public~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas&&e.spec.replicas===e.status.availableReplicas?a.createElement(i.cc,{status:"Up to date"}):a.createElement(i.cc,{status:"Updating"})))),a.createElement("div",{className:"col-sm-6"},a.createElement(N,{deployment:e}))))),a.createElement("div",{className:"co-m-pane__body"},a.createElement(v.ob,{text:t("public~Containers")}),a.createElement(v.k,{containers:e.spec.template.spec.containers})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(b.a,{resource:e,heading:t("public~Volumes")})),a.createElement("div",{className:"co-m-pane__body"},a.createElement(v.ob,{text:t("public~Conditions")}),a.createElement(m.b,{conditions:e.status.conditions})))};w.displayName="DeploymentDetails";const C=e=>a.createElement(v.c,Object.assign({loader:()=>Promise.all([n.e(2),n.e(28)]).then(n.bind(null,4361)).then(e=>e.EnvironmentPage)},e)),T=["spec","template","spec","containers"],D=e=>a.createElement(C,{obj:e.obj,rawEnvData:e.obj.spec.template.spec,envPath:T,readOnly:!1}),_=({obj:e})=>{const{metadata:{namespace:t},spec:{selector:n}}=e;return a.createElement(f.ReplicaSetsPage,{showTitle:!1,namespace:t,selector:n,canCreate:!1})},x=e=>{const t=Object(i.Ue)();return a.createElement(g.a,Object.assign({},e,{kind:"Deployment",customActionMenu:(e,t)=>{const n={[Object(d.Hb)(e)]:t};return a.createElement(i.j,{context:n},({actions:e,options:t,loaded:n})=>n&&a.createElement(i.h,{actions:e,options:t,variant:i.i.DROPDOWN}))},pages:[v.mc.details(w),...t?[v.mc.metrics()]:[],v.mc.editYaml(),{href:"replicasets",nameKey:"public~ReplicaSets",component:_},v.mc.pods(),v.mc.envEditor(D),v.mc.events(h.ResourceEventStream)]}))};x.displayName="DeploymentsDetailsPage";const A=e=>{var{obj:t}=e,n=j(e,["obj"]);const r={[Object(d.Db)(t)]:t},s=a.createElement(i.hb,{context:r});return a.createElement(E.b,Object.assign({obj:t,customActionMenu:s,kind:"Deployment"},n))},I=()=>Object(E.a)();I.displayName="DeploymentTableHeader";const F=e=>{const{t:t}=Object(r.useTranslation)();return a.createElement(g.j,Object.assign({},e,{"aria-label":t("public~Deployments"),Header:I,Row:A,virtualize:!0}))};F.displayName="DeploymentsList";const L=e=>{const t={to:`/k8s/ns/${e.namespace||"default"}/deployments/~new/form`};return a.createElement(g.c,Object.assign({kind:"Deployment",canCreate:!0,createProps:t,ListComponent:F},e))};L.displayName="DeploymentsPage"},5586:function(e,t,n){"use strict";n.r(t);var a=n(5622);n.d(t,"PipelineModel",(function(){return a.f})),n.d(t,"PipelineModelV1Beta1",(function(){return a.g})),n.d(t,"PipelineRunModel",(function(){return a.i})),n.d(t,"PipelineRunModelV1Beta1",(function(){return a.j})),n.d(t,"TaskModel",(function(){return a.l})),n.d(t,"TaskModelV1Beta1",(function(){return a.m})),n.d(t,"TaskRunModel",(function(){return a.n})),n.d(t,"TaskRunModelV1Beta1",(function(){return a.o})),n.d(t,"CustomRunModelV1Beta1",(function(){return a.d})),n.d(t,"PipelineResourceModel",(function(){return a.h})),n.d(t,"ClusterTaskModel",(function(){return a.a})),n.d(t,"ConditionModel",(function(){return a.c})),n.d(t,"TriggerBindingModel",(function(){return a.s})),n.d(t,"ClusterTriggerBindingModel",(function(){return a.b})),n.d(t,"TriggerTemplateModel",(function(){return a.t})),n.d(t,"EventListenerModel",(function(){return a.e})),n.d(t,"RepositoryModel",(function(){return a.k})),n.d(t,"TektonConfigModel",(function(){return a.p})),n.d(t,"TektonHubModel",(function(){return a.q})),n.d(t,"TektonResultModel",(function(){return a.r}))},5587:function(e,t,n){"use strict";n(5639);var a=n(5640);n.d(t,"d",(function(){return a.a}));var r=n(5611);n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b})),n.d(t,"e",(function(){return r.c}));var i=n(5641);n.d(t,"a",(function(){return i.a})),n.d(t,"f",(function(){return i.b}))},5588:function(e,t,n){"use strict";var a,r,i,s,o,l,c,u,d;n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return r})),n.d(t,"v",(function(){return i})),n.d(t,"t",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"z",(function(){return y})),n.d(t,"y",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return O})),n.d(t,"n",(function(){return P})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return w})),function(e){e.triggers="triggers.tekton.dev/eventlistener"}(a||(a={})),function(e){e.user="pipeline.openshift.io/started-by"}(r||(r={})),function(e){e.minVersion=" tekton.dev/pipelines.minVersion",e.tags="tekton.dev/tags",e.categories="tekton.dev/categories",e.installedFrom="openshift.io/installed-from",e.semVersion="openshift.io/sem-version"}(i||(i={})),function(e){e.redhat="Red Hat",e.community="Community",e.tektonHub="TektonHub",e.artifactHub="ArtifactHub"}(s||(s={})),function(e){e.providerType="operator.tekton.dev/provider-type",e.version="app.kubernetes.io/version"}(o||(o={})),function(e){e.pipeline="tekton.dev/pipeline",e.pipelinerun="tekton.dev/pipelineRun",e.taskrun="tekton.dev/taskRun",e.pipelineTask="tekton.dev/pipelineTask"}(l||(l={})),function(e){e.git="git",e.image="image",e.cluster="cluster",e.storage="storage"}(c||(c={})),function(e){e.NoWorkspace="noWorkspace",e.EmptyDirectory="emptyDirectory",e.ConfigMap="configMap",e.Secret="secret",e.PVC="pvc",e.VolumeClaimTemplate="volumeClaimTemplate"}(u||(u={})),function(e){e.Git="git",e.Image="docker"}(d||(d={}));d.Git,d.Image;const p="1.4.0",m="1.6.0",h="1.5.2",b="pipeline",g="bridge/pipeline-run-auto-start-failed",v=275,f=375,E=60,y="pipeline.openshift.io/preferredName",k="chains.tekton.dev/signed",j="openshift-pipelines",R="openshift",O="config";var P;!function(e){e.PIPELINE_TASK_LEVEL="pipeline/task",e.PIPELINERUN_TASKRUN_LEVEL="pipelinerun/taskrun",e.UNSUPPORTED_LEVEL="unsupported",e.UNSIMPLIFIED_METRICS_LEVEL="unsimplified"}(P||(P={}));const S="FLAG_TEKTON_V1_ENABLED",N="PIPELINES_OPERATOR_VERSION_1_16_OR_NEWER",w="PIPELINES_OPERATOR_VERSION_1_17_OR_NEWER"},5589:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return R})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return S})),n.d(t,"m",(function(){return N})),n.d(t,"b",(function(){return w})),n.d(t,"l",(function(){return C}));var a=n(5596),r=n(29),i=n(117),s=n(16),o=n(22),l=n(279),c=n(57),u=n(2222),d=n(8),p=n(975),m=n(5652),h=n(5659),b=n(5625),g=n(1400);const v=["deployments","deploymentConfigs","daemonSets","statefulSets","jobs","cronJobs","pods"],f=({FLAGS:e})=>e.get(p.a),E=e=>{var t,n,a;const r=i.a(e,["metadata.name","che"]);return{cheURL:null===(t=null==r?void 0:r.spec)||void 0===t?void 0:t.href,cheIconURL:null===(a=null===(n=null==r?void 0:r.spec)||void 0===n?void 0:n.applicationMenu)||void 0===a?void 0:a.imageURL}},y=(e,t,n,r)=>{if(!e)return null;const i=((e,t,n)=>{const a=`https://${e.resource}/${e.owner}/${e.name}`;if(!t)return a;const r=n?"/"+n.replace(/^\//,""):"";return e.resource.includes("github")?`${a}/tree/${t}${r}`:e.resource.includes("gitlab")?`${a}/-/tree/${t}${r}`:e.resource.includes("gitea")?`${a}/src/branch/${t}${r}`:e.resource.includes("bitbucket")&&!t.includes("/")?`${a}/src/${t}${r}`:a})(a(e),t,r);return n?`${n}/f?url=${i}&policies.create=peruser`:i},k=(e,t)=>{var n,a;return(null===(a=null===(n=i.a(e,["metadata.name","kiali-namespace-"+t]))||void 0===n?void 0:n.spec)||void 0===a?void 0:a.href)||""},j=(e,t)=>t?e.filter(e=>s.a(e,["metadata","labels","app.kubernetes.io/part-of"])===t):e,R=(e,t)=>t.length>0&&!o.a(t[0].spec)?Object(u.c)(t[0]):null,O=e=>{var t;return e?e.resource||(null===(t=e.resources)||void 0===t?void 0:t.obj):null},P=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.getResource())||O(null==e?void 0:e.getData())},S=e=>e instanceof m.a?e.getResourceKind():Object(d.Db)(O(null==e?void 0:e.getData())),N=(e,t)=>{const n=null==e?void 0:e.getData(),a=P(e);if(!e||!a||!l.a(n.resources))return Promise.reject();const i=[],s=[];i.push(a),e.getType()===h.d&&c.a(n.groupResources,e=>{i.push(e.resource)});for(const e of i){const n=Object(d.vb)(Object(d.Db)(e));if(!n)return Promise.reject(new Error(r.a.t("topology~Unable to update application, invalid resource type: {{kind}}",{kind:e.kind})));s.push(Object(b.c)(n,e,t))}return Promise.all(s)},w=(e,t,n=null)=>e&&t&&e!==t?Object(g.a)(e,t,n):Promise.reject(new Error(r.a.t("topology~Can not create a connection from a node to itself."))),C=e=>{const t=P(e.getSource()),n=P(e.getTarget());return t&&n?Object(g.f)(t,n):Promise.reject()}},5590:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return b}));var a=n(279),r=n(160),i=n(107),s=n(1404),o=n(7),l=n(869);const c=e=>{switch(e){case l.c.source:return l.b.basicAuth;case l.c.image:return l.b.dockerconfigjson;default:return l.b.opaque}},u=e=>{const{data:t,type:n}=e;switch(n){case l.b.basicAuth:case l.b.sshAuth:return l.c.source;case l.b.dockerconfigjson:case l.b.dockercfg:return l.c.image;default:return(null==t?void 0:t[s.WebHookSecretKey])&&1===a.a(t)?l.c.webhook:l.c.generic}},d=()=>{const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+e()+e()},p=e=>{const t=r.a(e).sort();return i.a(t,["tls.crt","tls.key"])?l.b.tls:i.a(t,["ca.crt","namespace","service-ca.crt","token"])?l.b.serviceAccountToken:i.a(t,[".dockercfg"])?l.b.dockercfg:i.a(t,[".dockerconfigjson"])?l.b.dockerconfigjson:i.a(t,["password","username"])?l.b.basicAuth:i.a(t,["ssh-privatekey"])?l.b.sshAuth:l.b.opaque},m=e=>{switch(e){case l.b.dockercfg:return".dockercfg";case l.b.dockerconfigjson:return".dockerconfigjson";default:return e}},h=(e,t)=>{const{t:n}=Object(o.useTranslation)();switch(t){case l.c.generic:return n(e?"public~Create key/value secret":"public~Edit key/value secret");case l.c.image:return n(e?"public~Create image pull secret":"public~Edit image pull secret");default:return n(e?"public~Create {{secretType}} secret":"public~Edit {{secretType}} secret",{secretType:t})}},b=e=>{const{t:t}=Object(o.useTranslation)();switch(e){case l.c.generic:return t("public~Key/value secrets let you inject sensitive data into your application as files or environment variables.");case l.c.source:return t("public~Source secrets let you authenticate against a Git server.");case l.c.image:return t("public~Image pull secrets let you authenticate against a private image registry.");case l.c.webhook:return t("public~Webhook secrets let you authenticate a webhook trigger.");default:return null}}},5591:function(e,t,n){"use strict";var a=n(5587);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}));var r=n(5642);n.d(t,"e",(function(){return r.a}));var i=n(5645);n.d(t,"a",(function(){return i.a}))},5592:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5643),r=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class i{constructor(e){this.gitsource=e}detectBuildTypes(){return r(this,void 0,void 0,(function*(){try{const e=yield this.getRepoFileList(),t=Object(a.a)(e.files);if(e.files.includes("package.json")){const e=yield this.getPackageJsonContent();if(Object(a.b)(e))return t.sort((e,t)=>"modern-webapp"===t.buildType?1:"modern-webapp"===e.buildType?-1:0)}return t}catch(e){return[]}}))}}},5593:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(282);const i=e=>a.createElement(r.a,Object.assign({loader:()=>Promise.resolve().then(n.bind(null,2223)).then(e=>e.DroppableFileInput)},e))},5594:function(e,t,n){"use strict";var a=n(5625);n.d(t,"a",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var r=n(5589);n.d(t,"c",(function(){return r.d})),n.d(t,"d",(function(){return r.e})),n.d(t,"f",(function(){return r.g})),n.d(t,"g",(function(){return r.h})),n.d(t,"h",(function(){return r.k}));n(1400);var i=n(5671);n.d(t,"b",(function(){return i.a}));var s=n(5679);n.d(t,"j",(function(){return s.a}));var o=n(5680);n.d(t,"i",(function(){return o.a}));var l=n(5664);n.d(t,"l",(function(){return l.a}));n(5678);var c=n(5665);n.d(t,"e",(function(){return c.a}));var u=n(5672);n.d(t,"m",(function(){return u.a}))},5595:function(e,t,n){"use strict";var a=n(5626);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c}));n(5627);var r=n(5628);n.d(t,"e",(function(){return r.a}));n(5629),n(5630);var i=n(5631);n.d(t,"f",(function(){return i.a}));var s=n(5632);n.d(t,"a",(function(){return s.a}))},5597:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(380),r=n(83),i=n(437),s=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const o="/api/dev-console/proxy/internet",l=e=>Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{}),c=e=>s(void 0,void 0,void 0,(function*(){const t=yield r.consoleFetchJSON.post(o,e);if(!t.statusCode)throw new Error("Unexpected proxy response: Status code is missing!");if(t.statusCode<200||t.statusCode>=300)throw new i.a("Unexpected status code: "+t.statusCode,t.statusCode,null,t);return t})),u=e=>c(e).then(e=>(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e.body)?JSON.parse(e.body):Object(a.safeLoad)(e.body))},5598:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(501),r=n(838),i=n(2324),s=n(16),o=n(640),l=n(1256),c=n(0),u=n(137),d=n(7),p=n(320),m=n(966),h=n(19),b=n(14),g=n(8),v=n(5),f=n(118),E=n(10),y=n(5590),k=n(5600);const j=e=>{const{isCreate:t,modal:n,onCancel:j}=e,{t:R}=Object(d.useTranslation)(),O=Object(b.useNavigate)(),P=Object(b.useParams)(),S=a.a(e.obj,["metadata","type"]),N=Object(y.d)(e.secretTypeAbstraction),w=r.a({},e.fixed,S,{apiVersion:"v1",data:{},kind:"Secret",metadata:{name:""},type:N}),[C]=c.useState(e.secretTypeAbstraction),[T,D]=c.useState(w),[_,x]=c.useState(!1),[A,I]=c.useState(),[F,L]=c.useState(i.a(s.a(e.obj,"data"),e=>e?p.Base64.decode(e):"")),[M,B]=c.useState({}),[$,U]=c.useState(!1),G=Object(y.g)(t,C),K=Object(y.f)(C),q=()=>O(`/k8s/ns/${P.ns}/core~v1~Secret`),H=e=>{L(Object.assign({},null==e?void 0:e.stringData)),B(Object.assign({},null==e?void 0:e.base64StringData))},V=e=>{I(e),x(!1)},J=e=>{const t=e.target.value,n=o.a(T);n.metadata.name=t,D(n)},z=n=>{n.preventDefault();const{metadata:a}=T;x(!0);const r=Object.assign(Object.assign({},i.a(F,e=>p.Base64.encode(e))),M),s=l.a({},T,{data:r},t?{type:Object(y.a)(F)}:{});(t?Object(g.jb)(E.SecretModel,s):Object(g.rb)(E.SecretModel,s,a.namespace,s.metadata.name)).then(t=>{x(!1),e.onSave&&e.onSave(t.metadata.name),e.modal||O(Object(v.sc)(t,Object(g.Db)(t)))},e=>{I(e.message),x(!1)})},W=()=>{var n;return c.createElement(c.Fragment,null,c.createElement("fieldset",{disabled:!t},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"control-label co-required",htmlFor:"secret-name"},R("public~Secret name")),c.createElement("div",null,c.createElement("input",{className:"pf-v5-c-form-control",type:"text",onChange:J,value:null===(n=null==T?void 0:T.metadata)||void 0===n?void 0:n.name,"aria-describedby":"secret-name-help",id:"secret-name","data-test":"secret-name",required:!0}),c.createElement("p",{className:"help-block",id:"secret-name-help"},R("public~Unique name of the new secret."))))),c.createElement(k.a,{typeAbstraction:e.secretTypeAbstraction,onChange:H,onError:V,onFormDisable:e=>U(e),stringData:F,secretType:T.type,isCreate:t}))};return n?c.createElement("form",{className:"co-create-secret-form modal-content",onSubmit:z},c.createElement(f.d,null,G),c.createElement(f.a,null,W()),c.createElement(f.c,{errorMessage:A||"",inProgress:_,submitText:R("public~Create"),cancel:j||q})):c.createElement("div",{className:"co-m-pane__form"},c.createElement(u.a,null,c.createElement("title",null,G)),c.createElement(v.Z,{title:G,helpText:K}),c.createElement("div",{className:"co-m-pane__body"},c.createElement("form",{className:"co-m-pane__body-group co-create-secret-form",onSubmit:z},W(),c.createElement(v.g,{errorMessage:A,inProgress:_},c.createElement(m.a,{className:"pf-v5-c-form"},c.createElement(h.a,{type:"submit","data-test":"save-changes",isDisabled:$,variant:"primary",id:"save-changes"},e.saveButtonText||R("public~Create")),c.createElement(h.a,{type:"button",variant:"secondary",id:"cancel",onClick:j||q},R("public~Cancel")))))))}},5599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return f}));var a,r=n(5591),i=n(10);!function(e){e.setAccessLoading="setAccessLoading",e.setLoading="setLoading",e.setSelectedImageStream="setSelectedImageStream"}(a||(a={}));const s={[r.b.GITHUB]:"GitHub",[r.b.GITLAB]:"GitLab",[r.b.GITEA]:"Gitea",[r.b.BITBUCKET]:"Bitbucket",[r.b.UNSURE]:"Other"};var o,l,c,u;!function(e){e.git="git",e.devfile="devfile",e.docker="docker",e.s2i="s2i"}(o||(o={})),function(e){e.OpenShift="openshift",e.Kubernetes="kubernetes",e.KnativeService="knative"}(l||(l={})),function(e){e.BUILDS="BUILDS",e.SHIPWRIGHT_BUILD="SHIPWRIGHT_BUILD",e.PIPELINES="PIPELINES",e.DISABLED="DISABLED"}(c||(c={})),function(e){e["Node.js"]="nodejs",e.Quarkus="quarkus",e.dotnet="dotnet",e.Python="python",e.Go="golang",e.springboot="spring-boot"}(u||(u={}));const d={[l.OpenShift]:i.DeploymentConfigModel.labelKey,[l.Kubernetes]:i.DeploymentModel.labelKey,[l.KnativeService]:"devconsole~Serverless Deployment"},p={[c.BUILDS]:"devconsole~BuildConfig",[c.SHIPWRIGHT_BUILD]:"devconsole~Builds for OpenShift (Shipwright)",[c.PIPELINES]:"devconsole~Build using pipelines",[c.DISABLED]:"devconsole~Disabled"},m={[l.OpenShift]:i.DeploymentConfigModel.kind,[l.Kubernetes]:i.DeploymentModel.kind,[l.KnativeService]:"Service"};var h,b,g,v,f,E;!function(e){e.EDGE="edge",e.PASSTHROUGH="passthrough",e.REENCRYPT="reencrypt"}(h||(h={})),function(e){e.None="None",e.Allow="Allow",e.Redirect="Redirect"}(b||(b={})),function(e){e.None="None",e.Redirect="Redirect"}(g||(g={})),function(e){e.m="millicores",e[""]="cores"}(v||(v={})),function(e){e.Mi="Mi",e.Gi="Gi"}(f||(f={})),function(e){e.GIT="GIT",e.CONTAINER="CONTAINER",e.CATALOG="CATALOG",e.DOCKERFILE="DOCKERFILE",e.DEVFILE="DEVFILE",e.DATABASE="DATABASE",e.EVENTSOURCE="EVENTSOURCE",e.EVENTPUBSUB="EVENTPUBSUB",e.OPERATORBACKED="OPERATORBACKED",e.HELMCHARTS="HELMCHARTS",e.SAMPLES="SAMPLES",e.EVENTCHANNEL="EVENTCHANNEL",e.EVENTBROKER="EVENTBROKER",e.UPLOADJAR="UPLOADJAR"}(E||(E={}))},5600:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(869),i=n(5601),s=n(5604),o=n(5608),l=n(5609),c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const u=e=>{var{typeAbstraction:t}=e,n=c(e,["typeAbstraction"]);switch(t){case r.c.source:return a.createElement(i.a,Object.assign({},n));case r.c.image:return a.createElement(s.a,Object.assign({},n));case r.c.webhook:return a.createElement(o.a,Object.assign({},n));default:return a.createElement(l.a,Object.assign({},n))}}},5601:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(5),s=n(869),o=n(5602),l=n(5603);class c extends a.Component{constructor(e){super(e),this.state={type:this.props.secretType,stringData:this.props.stringData||{},authType:s.b.basicAuth},this.changeAuthenticationType=this.changeAuthenticationType.bind(this),this.onDataChanged=this.onDataChanged.bind(this)}changeAuthenticationType(e){this.setState({type:e},()=>this.props.onChange(this.state))}onDataChanged(e){this.setState({stringData:Object.assign({},e)},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props,t={[s.b.basicAuth]:e("public~Basic authentication"),[s.b.sshAuth]:e("public~SSH key")};return a.createElement(a.Fragment,null,this.props.isCreate?a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"secret-type"},e("public~Authentication type")),a.createElement("div",{className:"co-create-secret__dropdown"},a.createElement(i.t,{items:t,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:this.state.authType,onChange:this.changeAuthenticationType}))):null,this.state.type===s.b.basicAuth?a.createElement(o.a,{onChange:this.onDataChanged,stringData:this.state.stringData}):a.createElement(l.a,{onChange:this.onDataChanged,stringData:this.state.stringData}))}}const u=Object(r.withTranslation)()(c)},5602:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(7);class i extends a.Component{constructor(e){super(e),this.state={username:this.props.stringData.username||"",password:this.props.stringData.password||""},this.changeData=this.changeData.bind(this)}changeData(e){this.setState({[e.target.name]:e.target.value},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:"username"},e("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"username","data-test":"secret-username","aria-describedby":"username-help",type:"text",name:"username",onChange:this.changeData,value:this.state.username}),a.createElement("p",{className:"help-block",id:"username-help"},e("public~Optional username for Git authentication.")))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"password"},e("public~Password or token")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:"password","data-test":"secret-password","aria-describedby":"password-help",type:"password",name:"password",onChange:this.changeData,value:this.state.password,required:!0}),a.createElement("p",{className:"help-block",id:"password-help"},e("public~Password or token for Git authentication. Required if a ca.crt or .gitconfig file is not specified.")))))}}const s=Object(r.withTranslation)()(i)},5603:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(7),i=n(5593);const s=({onChange:e,stringData:t})=>{const{t:n}=Object(r.useTranslation)();return a.createElement(i.a,{onChange:t=>{const n=t.endsWith("\n")?t:t+"\n";e({"ssh-privatekey":n})},inputFileData:t["ssh-privatekey"]||"",id:"ssh-privatekey",label:n("public~SSH private key"),inputFieldHelpText:n("public~Drag and drop file with your private SSH key here or browse to upload it."),textareaFieldHelpText:n("public~Private SSH key file for Git authentication."),isRequired:!0})}},5604:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1240),r=n(0),i=n(7),s=n(5),o=n(5590),l=n(869),c=n(5605),u=n(5607);const d=({onChange:e,onError:t,onFormDisable:n,stringData:d,secretType:p,isCreate:m})=>{const[h,b]=r.useState("credentials"),{t:g}=Object(i.useTranslation)(),v=r.useMemo(()=>{var e;try{const t=Object(o.c)(p),n=null!==(e=d[t])&&void 0!==e?e:"{}";return JSON.parse(n)}catch(e){return t("Error parsing secret's data: "+e.message),{}}},[d,p]),f=r.useCallback(t=>{a.a(t)||n(!1);const r=t[l.a]?".dockerconfigjson":".dockercfg";e({stringData:{[r]:JSON.stringify(t)},base64StringData:{}})},[n,onchange]),E={credentials:g("public~Image registry credentials"),"config-file":g("public~Upload configuration file")};return r.createElement(r.Fragment,null,m&&r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label",htmlFor:"secret-type"},g("public~Authentication type")),r.createElement("div",{className:"co-create-secret__dropdown"},r.createElement(s.t,{items:E,dropDownClassName:"dropdown--full-width",id:"dropdown-selectbox",selectedKey:h,onChange:b}))),"credentials"===h?r.createElement(c.a,{onChange:f,stringData:v}):r.createElement(u.a,{onChange:f,stringData:v,onDisable:n}))}},5605:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(22),r=n(840),i=n(4434),s=n(57),o=n(16),l=n(4437),c=n(4436),u=n(501),d=n(50),p=n(279),m=n(0),h=n(7),b=n(320),g=n(19),v=n(408),f=n(407),E=n(869),y=n(5606);class k extends m.Component{constructor(e){var t;super(e),this.state={isDockerconfigjson:a.a(this.props.stringData)||!!this.props.stringData[E.a],secretEntriesArray:this.imageSecretObjectToArray((null===(t=this.props.stringData)||void 0===t?void 0:t[E.a])||this.props.stringData),hasDuplicate:!1},this.onDataChanged=this.onDataChanged.bind(this)}newImageSecretEntry(){return{entry:{address:"",username:"",password:"",email:"",auth:""},uid:r.a()}}imageSecretObjectToArray(e){const t=[];return a.a(e)?i.a(t,this.newImageSecretEntry()):(s.a(e,(e,n)=>{const i=b.Base64.decode(o.a(e,"auth","")),s=a.a(i)?l.a(Array(2),""):c.a(i,":");t.push({entry:{address:n,username:o.a(e,"username",s[0]),password:o.a(e,"password",s[1]),email:o.a(e,"email",""),auth:o.a(e,"auth","")},uid:o.a(e,"uid",r.a())})}),t)}imageSecretArrayToObject(e){const t={};return s.a(e,e=>{t[e.entry.address]=u.a(e.entry,["username","password","auth","email"])}),t}propagateEntryChange(e){const t=this.imageSecretArrayToObject(e);this.props.onChange(this.state.isDockerconfigjson?{[E.a]:t}:t)}onDataChanged(e,t){this.setState(n=>{const a=[...n.secretEntriesArray],r={uid:a[t].uid,entry:e,auth:b.Base64.encode(`${e.username}:${e.password}`)};return a[t]=r,{secretEntriesArray:a}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}removeEntry(e){this.setState(t=>{const n=[...t.secretEntriesArray];return n.splice(e,1),{secretEntriesArray:n}},()=>this.propagateEntryChange(this.state.secretEntriesArray))}addEntry(){this.setState({secretEntriesArray:i.a(this.state.secretEntriesArray,this.newImageSecretEntry())},()=>{this.propagateEntryChange(this.state.secretEntriesArray)})}render(){const{t:e}=this.props,t=d.a(this.state.secretEntriesArray,(t,n)=>{const{uid:a,entry:r}=null!=t?t:{},{address:i,email:s,password:o,username:l}=null!=r?r:{};return m.createElement("div",{className:"co-add-remove-form__entry",key:a},p.a(this.state.secretEntriesArray)>1&&m.createElement("div",{className:"co-add-remove-form__link--remove-entry"},m.createElement(g.a,{onClick:()=>this.removeEntry(n),type:"button",variant:"link","data-test":"remove-entry-button"},m.createElement(v.a,{className:"co-icon-space-r"}),e("public~Remove credentials"))),m.createElement(y.a,{id:n,address:i,email:s,password:o,username:l,onChange:this.onDataChanged}))});return m.createElement(m.Fragment,null,t,m.createElement(g.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},m.createElement(f.a,{className:"co-icon-space-r"}),e("public~Add credentials")))}}const j=Object(h.withTranslation)()(k)},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(7),i=n(320);const s=({id:e,address:t,email:n,password:s,username:o,onChange:l})=>{const{t:c}=Object(r.useTranslation)(),u=(a,r)=>{const c=o.trim(),u=s.trim(),d=o&&s?i.Base64.encode(`${c}:${u}`):"";l(Object.assign({address:t,username:o,password:s,email:n,[a]:r},d?{auth:d}:{}),e)},d=e=>u(e.currentTarget.name,e.currentTarget.value.trim()),p=e=>u(e.currentTarget.name,e.currentTarget.value);return a.createElement("div",{className:"co-m-pane__body-group","data-test-id":"create-image-secret-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-address"},c("public~Registry server address")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-address","aria-describedby":e+"-address-help",type:"text",name:"address",onChange:p,value:t,onBlur:d,"data-test":"image-secret-address",required:!0})),a.createElement("p",{className:"help-block",id:e+"-address-help"},c("public~For example quay.io or docker.io"))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-username"},c("public~Username")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-username",type:"text",name:"username",onChange:p,value:o,onBlur:d,"data-test":"image-secret-username",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:e+"-password"},c("public~Password")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-password",type:"password",name:"password",onChange:p,value:s,onBlur:d,"data-test":"image-secret-password",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label",htmlFor:e+"-email"},c("public~Email")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:e+"-email",type:"text",name:"email",onChange:p,value:n,onBlur:d,"data-test":"image-secret-email"}))))}},5607:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(22),r=n(1973),i=n(1240),s=n(0),o=n(7),l=n(5593);class c extends s.Component{constructor(e){super(e),this.state={configFile:a.a(this.props.stringData)?"":JSON.stringify(this.props.stringData),parseError:!1},this.changeData=this.changeData.bind(this),this.onFileChange=this.onFileChange.bind(this)}changeData(e){this.updateState(r.a(JSON.parse,e.target.value),e.target.value)}onFileChange(e){this.updateState(r.a(JSON.parse,e),e)}updateState(e,t){this.setState({configFile:t,parseError:i.a(e)},()=>{this.props.onChange(e),this.props.onDisable(this.state.parseError)})}render(){const{t:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(l.a,{onChange:this.onFileChange,inputFileData:this.state.configFile,id:"docker-config",label:e("public~Configuration file"),inputFieldHelpText:e("public~Upload a .dockercfg or .docker/config.json file."),textareaFieldHelpText:e("public~File with credentials and other configuration for connecting to a secured image registry."),isRequired:!0}),this.state.parseError&&s.createElement("div",{className:"co-create-secret-warning"},e("public~Configuration file should be in JSON format.")))}}const u=Object(o.withTranslation)()(c)},5608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(7),i=n(5590);class s extends a.Component{constructor(e){super(e),this.state={stringData:{WebHookSecretKey:this.props.stringData.WebHookSecretKey||""}},this.changeWebHookSecretkey=this.changeWebHookSecretkey.bind(this),this.generateWebHookSecret=this.generateWebHookSecret.bind(this)}changeWebHookSecretkey(e){this.setState({stringData:{WebHookSecretKey:e.target.value}},()=>this.props.onChange(this.state))}generateWebHookSecret(){this.setState({stringData:{WebHookSecretKey:Object(i.b)()}},()=>this.props.onChange(this.state))}render(){const{t:e}=this.props;return a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:"webhook-secret-key"},e("public~Webhook secret key")),a.createElement("div",{className:"pf-v5-c-input-group"},a.createElement("input",{className:"pf-v5-c-form-control",id:"webhook-secret-key","data-test":"secret-key",type:"text",name:"webhookSecretKey",onChange:this.changeWebHookSecretkey,value:this.state.stringData.WebHookSecretKey,"aria-describedby":"webhook-secret-help",required:!0}),a.createElement("button",{type:"button",onClick:this.generateWebHookSecret,className:"pf-v5-c-button pf-m-tertiary","data-test":"webhook-generate-button"},e("public~Generate"))),a.createElement("p",{className:"help-block",id:"webhook-secret-help"},e("public~Value of the secret will be supplied when invoking the webhook.")))}}const o=Object(r.withTranslation)()(s)},5609:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(840),r=n(22),i=n(50),s=n(255),o=n(1256),l=n(4434),c=n(279),u=n(0),d=n(7),p=n(320),m=n(19),h=n(408),b=n(407),g=n(973),v=n(5610);class f extends u.Component{constructor(e){super(e),this.state={secretEntriesArray:this.genericSecretObjectToArray(this.props.stringData)},this.onDataChanged=this.onDataChanged.bind(this)}newGenericSecretEntry(){return{entry:{key:"",value:""},uid:a.a()}}genericSecretObjectToArray(e){return r.a(e)?[this.newGenericSecretEntry()]:i.a(e,(e,t)=>{const n=g.isBinary(null,e);return{uid:a.a(),entry:{key:t,value:n?p.Base64.encode(e):e,isBase64:n,isBinary:n}}})}genericSecretArrayToObject(e){return s.a(e,(e,t)=>{var n,a;return o.a(e,{[t.entry.key]:(null===(n=t.entry)||void 0===n?void 0:n.isBase64)||(null===(a=t.entry)||void 0===a?void 0:a.isBinary)?t.entry.value:p.Base64.encode(t.entry.value)})},{})}onDataChanged(e,t){const n=[...this.state.secretEntriesArray],a={uid:n[t].uid,entry:e};n[t]=a,this.setState({secretEntriesArray:n},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}removeEntry(e){const t=[...this.state.secretEntriesArray];t.splice(e,1),this.setState({secretEntriesArray:t},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}addEntry(){this.setState({secretEntriesArray:l.a(this.state.secretEntriesArray,this.newGenericSecretEntry())},()=>this.props.onChange({base64StringData:this.genericSecretArrayToObject(this.state.secretEntriesArray)}))}render(){const{t:e}=this.props,t=i.a(this.state.secretEntriesArray,(t,n)=>u.createElement("div",{className:"co-add-remove-form__entry",key:t.uid},c.a(this.state.secretEntriesArray)>1&&u.createElement("div",{className:"co-add-remove-form__link--remove-entry"},u.createElement(m.a,{type:"button",onClick:()=>this.removeEntry(n),variant:"link","data-test":"remove-entry-button"},u.createElement(h.a,{className:"co-icon-space-r"}),e("public~Remove key/value"))),u.createElement(v.a,{id:n,entry:t.entry,onChange:this.onDataChanged})));return u.createElement(u.Fragment,null,t,u.createElement(m.a,{className:"co-create-secret-form__link--add-entry pf-m-link--align-left",onClick:()=>this.addEntry(),type:"button",variant:"link","data-test":"add-credentials-button"},u.createElement(b.a,{className:"co-icon-space-r"}),e("public~Add key/value")))}}const E=Object(d.withTranslation)()(f)},5610:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n(0),r=n(7),i=n(5593);class s extends a.Component{constructor(e){super(e),this.state={key:e.entry.key,value:e.entry.value,isBinary:e.entry.isBinary},this.onValueChange=this.onValueChange.bind(this),this.onKeyChange=this.onKeyChange.bind(this)}onValueChange(e,t){this.setState({value:e,isBase64:t},()=>this.props.onChange(this.state,this.props.id))}onKeyChange(e){this.setState({key:e.target.value},()=>this.props.onChange(this.state,this.props.id))}render(){const{t:e}=this.props;return a.createElement("div",{className:"co-create-generic-secret__form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"control-label co-required",htmlFor:this.props.id+"-key"},e("public~Key")),a.createElement("div",null,a.createElement("input",{className:"pf-v5-c-form-control",id:this.props.id+"-key",type:"text",name:"key",onChange:this.onKeyChange,value:this.state.key,"data-test":"secret-key",required:!0}))),a.createElement("div",{className:"form-group"},a.createElement("div",null,a.createElement(i.a,{onChange:this.onValueChange,inputFileData:this.state.value,id:this.props.id+"-value",label:e("public~Value"),inputFieldHelpText:e("public~Drag and drop file with your value here or browse to upload it."),inputFileIsBinary:this.state.isBinary}))))}}const o=Object(r.withTranslation)()(s)},5611:function(e,t,n){"use strict";var a,r,i;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.BASIC_AUTH=1]="BASIC_AUTH",e[e.SSH=2]="SSH",e[e.PERSONAL_ACCESS_TOKEN=3]="PERSONAL_ACCESS_TOKEN",e[e.OAUTH=4]="OAUTH"}(a||(a={})),function(e){e.GITHUB="github",e.BITBUCKET="bitbucket",e.GITLAB="gitlab",e.GITEA="gitea",e.UNSURE="other",e.INVALID=""}(r||(r={})),function(e){e[e.S2I=0]="S2I",e[e.DOCKERFILE=1]="DOCKERFILE",e[e.DEVFILE=2]="DEVFILE",e[e.SERVERLESS_FUNCTION=3]="SERVERLESS_FUNCTION"}(i||(i={}))},5612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5706),r=n(5596),i=n(320),s=n(83),o=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(t){super(t),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case l.e.PERSONAL_ACCESS_TOKEN:case l.e.BASIC_AUTH:case l.e.OAUTH:return{auth:i.Base64.decode(this.gitsource.secretContent.password)};default:return null}},this.getRepoMetadata=()=>{var e;const{name:t,owner:n,source:a}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){try{if(200===(yield this.client.repos.get({owner:this.metadata.owner,repo:this.metadata.repoName})).status)return l.d.Reachable}catch(e){switch(e.status){case 403:return l.d.RateLimitExceeded;case 404:return l.d.PrivateRepo;case 422:return l.d.InvalidGitTypeSelected;default:return l.d.Unreachable}}return l.d.Unreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listBranches({owner:this.metadata.owner,repo:this.metadata.repoName});return{branches:e.data.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){try{const t=yield this.client.repos.getContents(Object.assign(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName},e&&(null==e?void 0:e.specificPath)?{path:`${this.metadata.contextDir}/${e.specificPath}`}:{path:this.metadata.contextDir}),this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));let n=[];return 200===t.status&&Array.isArray(t.data)&&(n=t.data.map(e=>e.name)),{files:n}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){try{const e=yield this.client.repos.listLanguages({owner:this.metadata.owner,repo:this.metadata.repoName});return 200===e.status?{languages:Object.keys(e.data)}:{languages:[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const r={Accept:["application/vnd.github+json"],Authorization:["Bearer "+e],"X-GitHub-Api-Version":["2022-11-28"]},i={name:"web",active:!0,config:{url:t,content_type:"json",insecure_ssl:n?"0":"1",secret:a},events:["push","pull_request"]},l="github.com"===this.metadata.host?"https://api.github.com":`https://${this.metadata.host}/api/v3`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:`${l}/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`,method:"POST",headers:r,body:JSON.stringify(i)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){try{return 200===(yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:e},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}))).status}catch(e){return!1}})),this.getFileContent=t=>u(this,void 0,void 0,(function*(){try{const n=yield this.client.repos.getContents(Object.assign({owner:this.metadata.owner,repo:this.metadata.repoName,path:t},this.metadata.defaultBranch?{ref:this.metadata.defaultBranch}:{}));return 200===n.status?e.from(n.data.content,"base64").toString():null}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json");const n=this.getAuthProvider();this.metadata=this.getRepoMetadata();const c="github.com"===this.metadata.host?null:`https://${this.metadata.host}/api/v3`;this.client=new a(Object.assign(Object.assign({},n),{baseUrl:c}))}}}).call(this,n(265).Buffer)},5613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(320),r=n(5707),i=(n(4360),n(83)),s=n(5597),o=n(5587),l=n(5592),c=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class u extends l.a{constructor(e){super(e),this.baseURL="https://api.bitbucket.org/2.0",this.isServer=!1,this.getAuthProvider=()=>{switch(this.gitsource.secretType){case o.e.BASIC_AUTH:{const{username:e,password:t}=this.gitsource.secretContent;return{Authorization:"Basic "+a.Base64.encode(`${a.Base64.decode(e)}:${a.Base64.decode(t)}`)}}default:return null}},this.fetchJson=(e,t,n,a)=>c(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),n);if(this.isServer)return Object(s.c)(Object.assign({url:e,method:t||"GET",headers:Object(s.d)(i)},a&&{body:JSON.stringify(a)}));const o=yield fetch(e,Object.assign({method:t||"GET",headers:i},a&&{body:JSON.stringify(a)}));if(!o.ok)throw o;return"text/plain"===o.headers.get("Content-Type")?o.text():o.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,host:a}=r(this.gitsource.url),i=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:a,defaultBranch:this.gitsource.ref||"HEAD",contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{if((yield this.fetchJson(e)).slug===this.metadata.repoName)return o.d.Reachable}catch(e){switch(e.status){case 429:return o.d.RateLimitExceeded;case 403:return o.d.PrivateRepo;case 404:return o.d.ResourceNotFound;default:return o.d.InvalidGitTypeSelected}}return o.d.Unreachable})),this.getRepoBranchList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/branches`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/refs/branches`;try{const t=yield this.fetchJson(e);return{branches:t.values.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.isServerURL=(e,t)=>{let n="";return n=t?e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}/${t}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}/${t}?pagelen=50`:e?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/files/${this.metadata.contextDir}?limit=50&at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${this.metadata.contextDir}?pagelen=50`,n},this.getRepoFileList=e=>c(this,void 0,void 0,(function*(){var t;const n=(null==e?void 0:e.specificPath)?this.isServerURL(this.isServer,e.specificPath):this.isServerURL(this.isServer);try{const e=yield this.fetchJson(n);return{files:this.isServer?e.values:(null===(t=e.values)||void 0===t?void 0:t.map(e=>e.path))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>c(this,void 0,void 0,(function*(){const e=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}`;try{return{languages:[(yield this.fetchJson(e)).language]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n)=>c(this,void 0,void 0,(function*(){const a={"Content-Type":["application/json"],Authorization:["Basic "+e]},r={url:t,events:["repo:push","pullrequest:created","pullrequest:updated"],skip_cert_verification:!n,active:!0},o=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/hooks`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield i.consoleFetchJSON.post(s.a,{url:o,method:"POST",headers:a,body:JSON.stringify(r)})).statusCode})),this.isFilePresent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>c(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=this.isServer?`${this.baseURL}/projects/${this.metadata.owner}/repos/${this.metadata.repoName}/raw/${t}?at=${this.metadata.defaultBranch}`:`${this.baseURL}/repositories/${this.metadata.owner}/${this.metadata.repoName}/src/${this.metadata.defaultBranch}/${t}`;try{return yield this.fetchJson(n)}catch(e){return null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),"bitbucket.org"!==this.metadata.host&&(this.baseURL=`https://${this.metadata.host}/rest/api/1.0`,this.isServer=!0)}}},5614:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5596),r=n(5708),i=n(29),s=n(320),o=n(83),l=n(5597),c=n(5587),u=n(5592),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class p extends u.a{constructor(e){super(e),this.getRepo=()=>d(this,void 0,void 0,(function*(){if(this.repo)return Promise.resolve(this.repo);const e=yield this.client.Projects.show(this.metadata.fullName);if(!e)throw new Error(i.a.t("git-service~Unable to find repository"));if(e.path_with_namespace!==this.metadata.fullName)throw new Error(i.a.t("git-service~Repository path {{path}} does not match expected name {{name}}",{path:e.path_with_namespace,name:this.metadata.fullName}));return this.repo=e,Promise.resolve(this.repo)})),this.getAuthProvider=()=>{switch(this.gitsource.secretType){case c.e.PERSONAL_ACCESS_TOKEN:case c.e.OAUTH:case c.e.BASIC_AUTH:return s.Base64.decode(this.gitsource.secretContent.password);default:return null}},this.getProjectId=()=>d(this,void 0,void 0,(function*(){try{return(yield this.getRepo()).id}catch(e){throw e}})),this.isRepoReachable=()=>d(this,void 0,void 0,(function*(){try{return yield this.getRepo(),c.d.Reachable}catch(e){switch(e.status){case 429:return c.d.RateLimitExceeded;case 403:return c.d.PrivateRepo;case 404:return c.d.ResourceNotFound;case 422:return c.d.InvalidGitTypeSelected;default:return c.d.Unreachable}}})),this.getRepoBranchList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Branches.all(e);return{branches:t.map(e=>e.name)}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>d(this,void 0,void 0,(function*(){try{const t=yield this.getProjectId(),n=yield this.client.Repositories.tree(t,Object.assign({},(null==e?void 0:e.specificPath)?{path:this.filePath(e.specificPath)}:{path:this.metadata.contextDir}));return{files:n.reduce((t,n)=>(("blob"===n.type||(null==e?void 0:e.includeFolder)&&"tree"===n.type)&&t.push(n.path),t),[])}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Projects.languages(e);return{languages:Object.keys(t)}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t,n,a)=>d(this,void 0,void 0,(function*(){const r=yield this.getProjectId(),i={"Content-Type":["application/json"],"PRIVATE-TOKEN":[e]},s={url:t,push_events:!0,merge_requests_events:!0,enable_ssl_verification:n,token:a};return 201===(yield o.consoleFetchJSON.post(l.a,{url:`${this.metadata.host}/api/v4/projects/${r}/hooks`,method:"POST",headers:i,body:JSON.stringify(s)})).statusCode})),this.isFilePresent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch);return yield this.client.RepositoryFiles.showRaw(n,e,a),!0}catch(e){return!1}})),this.getFileContent=e=>d(this,void 0,void 0,(function*(){var t;try{const n=yield this.getProjectId(),a=this.metadata.defaultBranch||(null===(t=this.repo)||void 0===t?void 0:t.default_branch),r=e.replace(/^\/+/,"");return yield this.client.RepositoryFiles.showRaw(n,r,a)}catch(e){return null}})),this.filePath=e=>this.metadata.contextDir?`${this.metadata.contextDir}/${e}`:e,this.isDockerfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.dockerfilePath)),this.isTektonFolderPresent=()=>d(this,void 0,void 0,(function*(){try{const e=yield this.getProjectId(),t=yield this.client.Repositories.tree(e,{path:this.metadata.contextDir});return!!t.find(e=>"tree"===e.type&&".tekton"===e.name)}catch(e){return!1}})),this.getDockerfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.dockerfilePath)),this.isFuncYamlPresent=()=>this.isFilePresent(this.filePath("func.yaml"))||this.isFilePresent(this.filePath("func.yml")),this.getFuncYamlContent=()=>this.getFileContent(this.filePath("func.yaml"))||this.getFileContent(this.filePath("func.yml")),this.isDevfilePresent=()=>this.isFilePresent(this.filePath(""+this.metadata.devfilePath)),this.getDevfileContent=()=>this.getFileContent(this.filePath(""+this.metadata.devfilePath)),this.getPackageJsonContent=()=>this.getFileContent(this.filePath("package.json")),this.metadata=this.getRepoMetadata();const t=this.getAuthProvider();this.client=new r.Gitlab({host:this.metadata.host,token:t}),this.repo=null}getRepoMetadata(){const{name:e,owner:t,resource:n,full_name:r}=a(this.gitsource.url),i=(null==(s=this.gitsource.contextDir)?void 0:s.replace(/^\//,""))||"";var s;return{repoName:e,owner:t,host:"https://"+n,defaultBranch:this.gitsource.ref,fullName:r,contextDir:i,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}}}},5615:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5596),r=n(320),i=n(22),s=(n(4360),n(83)),o=n(5597),l=n(5587),c=n(5592),u=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class d extends c.a{constructor(e){super(e),this.isServer=!1,this.getAuthProvider=()=>{if(this.gitsource.secretType===l.e.BASIC_AUTH){const{username:e,password:t}=this.gitsource.secretContent;if(!i.a(e)){return{authorization:"Basic "+r.Base64.encode(`${r.Base64.decode(e)}:${r.Base64.decode(t)}`)}}return{Authorization:"token "+r.Base64.decode(t)}}return null},this.fetchJson=(e,t,n,a)=>u(this,void 0,void 0,(function*(){const r=this.getAuthProvider(),i=Object.assign(Object.assign({Accept:"application/json"},r),n);if(this.isServer)return Object(o.c)(Object.assign({allowInsecure:!0,url:e,method:t||"GET",headers:Object(o.d)(i)},a&&{body:JSON.stringify(a)}));const s=yield fetch(e,Object.assign({method:t||"GET",headers:i},a&&{body:JSON.stringify(a)}));if(!s.ok)throw s;return"text/plain"===s.headers.get("Content-Type")?s.text():s.json()})),this.getRepoMetadata=()=>{var e;const{name:t,owner:n,resource:r,full_name:i}=a(this.gitsource.url),s=(null===(e=this.gitsource.contextDir)||void 0===e?void 0:e.replace(/\/$/,""))||"";return{repoName:t,owner:n,host:"https://"+r,defaultBranch:this.gitsource.ref,fullName:i,contextDir:s,devfilePath:this.gitsource.devfilePath,dockerfilePath:this.gitsource.dockerfilePath}},this.isRepoReachable=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}`;try{const t=yield this.fetchJson(e);if((null==t?void 0:t.name)===this.metadata.repoName)return l.d.Reachable}catch(e){return l.d.GiteaRepoUnreachable}return l.d.GiteaRepoUnreachable})),this.getRepoBranchList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/branches`;try{const t=yield this.fetchJson(e);return{branches:(null==t?void 0:t.map(e=>e.name))||[]}}catch(e){return{branches:[]}}})),this.getRepoFileList=e=>u(this,void 0,void 0,(function*(){const t=(null==e?void 0:e.specificPath)?`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}/${e.specificPath}`:`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${this.metadata.contextDir}`;try{const e=yield this.fetchJson(t);return{files:(null==e?void 0:e.map(e=>e.name))||[]}}catch(e){return{files:[]}}})),this.getRepoLanguageList=()=>u(this,void 0,void 0,(function*(){const e=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/languages`;try{const t=yield this.fetchJson(e);return{languages:(null==Object?void 0:Object.keys(t))||[]}}catch(e){return{languages:[]}}})),this.createRepoWebhook=(e,t)=>u(this,void 0,void 0,(function*(){const n={"Content-Type":["application/json"],Authorization:["token "+e]},a={active:!0,authorization_header:"",branch_filter:"*",config:{content_type:"json",url:t},events:["push","pull_request"],type:"gitea"},r=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/hooks`;return 201===(yield s.consoleFetchJSON.post(o.a,{url:r,method:"POST",headers:n,body:JSON.stringify(a)})).statusCode})),this.isFilePresent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/contents/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n),!0}catch(e){return!1}})),this.getFileContent=e=>u(this,void 0,void 0,(function*(){const t=e.replace(/^\//,""),n=`${this.metadata.host}/api/v1/repos/${this.metadata.owner}/${this.metadata.repoName}/raw/${t}?ref=${this.metadata.defaultBranch}`;try{return yield this.fetchJson(n)}catch(e){return console.warn("Error fetching file content",e),null}})),this.isDockerfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isTektonFolderPresent=()=>this.isFilePresent(this.metadata.contextDir+"/.tekton"),this.getDockerfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.dockerfilePath}`),this.isFuncYamlPresent=()=>this.isFilePresent(this.metadata.contextDir+"/func.yaml")||this.isFilePresent(this.metadata.contextDir+"/func.yml"),this.getFuncYamlContent=()=>this.getFileContent(this.metadata.contextDir+"/func.yaml")||this.getFileContent(this.metadata.contextDir+"/func.yml"),this.isDevfilePresent=()=>this.isFilePresent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getDevfileContent=()=>this.getFileContent(`${this.metadata.contextDir}/${this.metadata.devfilePath}`),this.getPackageJsonContent=()=>this.getFileContent(this.metadata.contextDir+"/package.json"),this.metadata=this.getRepoMetadata(),this.metadata.host.includes("gitea.com")||(this.isServer=!0)}}},5616:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5643),r=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const i=[{name:"Maven",type:"java",language:"java",expectedRegexp:/pom.xml/,priority:0},{name:"Gradle",type:"java",language:"java",expectedRegexp:/.*gradle.*/,priority:0},{name:"Golang",type:"golang",language:"go",expectedRegexp:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),priority:0},{name:"Ruby",type:"ruby",language:"ruby",expectedRegexp:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),priority:0},{name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexp:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),priority:0},{name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexp:/package\.json/,priority:1,customDetection:e=>r(void 0,void 0,void 0,(function*(){const t=yield e.getPackageJsonContent();return Object(a.b)(t)?["package.json"]:[]}))},{name:"PHP",type:"php",language:"php",expectedRegexp:RegExp(["index.php","composer.json"].join("|")),priority:0},{name:"Python",type:"python",language:"python",expectedRegexp:RegExp(["requirements.txt","setup.py"].join("|")),priority:0},{name:"Perl",type:"perl",language:"perl",expectedRegexp:RegExp(["index.pl","cpanfile"].join("|")),priority:0},{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexp:RegExp(["project.json",".*.csproj"].join("|")),priority:0}],s=e=>r(void 0,void 0,void 0,(function*(){const{files:t}=yield e.getRepoFileList();return(yield Promise.all(i.map(n=>r(void 0,void 0,void 0,(function*(){let a=t.filter(e=>n.expectedRegexp.test(e));return a.length>0&&n.customDetection&&(a=yield n.customDetection(e)),{name:n.name,type:n.type,language:n.language,priority:n.priority,detectedFiles:a}}))))).filter(e=>!!e.detectedFiles.length).sort((e,t)=>t.priority-e.priority)}))},5617:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return v}));var a,r=n(29),i=n(16),s=n(240),o=n(5595);!function(e){e.PipelineRunCancelled="StoppedRunFinally",e.PipelineRunStopped="CancelledRunFinally",e.TaskRunCancelled="TaskRunCancelled",e.Cancelled="Cancelled",e.PipelineRunStopping="PipelineRunStopping",e.PipelineRunPending="PipelineRunPending",e.TaskRunStopping="TaskRunStopping",e.CreateContainerConfigError="CreateContainerConfigError",e.ExceededNodeResources="ExceededNodeResources",e.ExceededResourceQuota="ExceededResourceQuota",e.ConditionCheckFailed="ConditionCheckFailed"}(a||(a={}));const l=e=>{var t;const n=i.a(e,["status","conditions"],[]);if(0===n.length)return null;const r=n.find(e=>"Succeeded"===e.type),s=n.find(e=>"Cancelled"===e.reason);if([a.PipelineRunStopped,a.PipelineRunCancelled].includes(null===(t=e.spec)||void 0===t?void 0:t.status)&&!s)return o.a.Cancelling;if(!r||!r.status)return null;const l="True"===r.status?o.a.Succeeded:"False"===r.status?o.a.Failed:o.a.Running;if(r.reason&&r.reason!==l)switch(r.reason){case a.PipelineRunCancelled:case a.TaskRunCancelled:case a.Cancelled:case a.PipelineRunStopped:return o.a.Cancelled;case a.PipelineRunStopping:case a.TaskRunStopping:return o.a.Failed;case a.CreateContainerConfigError:case a.ExceededNodeResources:case a.ExceededResourceQuota:case a.PipelineRunPending:return o.a.Pending;case a.ConditionCheckFailed:return o.a.Skipped;default:return l}return l},c=e=>{const t=l(e);if(!t)return"-";switch(t){case o.a.Cancelled:return r.a.t("pipelines-plugin~Cancelled");case o.a.Failed:return r.a.t("pipelines-plugin~Failed");case o.a.Succeeded:return r.a.t("pipelines-plugin~Succeeded");case o.a.Pending:return r.a.t("pipelines-plugin~Pending");case o.a.Running:return r.a.t("pipelines-plugin~Running");case o.a.Skipped:return r.a.t("pipelines-plugin~Skipped");case o.a.Cancelling:return r.a.t("pipelines-plugin~Cancelling");default:return t}},u=e=>e.latestRun&&l(e.latestRun)||o.a.Other,d=e=>e.latestRun&&c(e.latestRun)||"-",p=e=>c(e)||"-",m=e=>l(e)||o.a.Other,h=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=u(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},b=(e,t)=>{var n;if(!e||!e.selected||!e.selected.length)return!0;const a=m(t);return(null===(n=e.selected)||void 0===n?void 0:n.includes(a))||!s.a(e.all,a)},g=e=>l(e)||o.a.Other,v=e=>c(e)||"-"},5620:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.PAC="pac",e.PIPELINE="pipeline"}(a||(a={}))},5621:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return P})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return N}));var a=n(4413),r=n(689),i=n(5),s=n(5620),o=n(2221),l=n(5624),c=n(5599),u=n(5651);const d=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,p=/^\/.*$/,m=/^((((ssh|git|https?:?):\/\/:?)(([^\s@]+@|[^@]:?)[-\w.]+(:\d\d+:?)?(\/[-\w.~/?[\]!$&'()*+,;=:@%]*:?)?:?))|([^\s@]+@[-\w.]+:[-\w.~/?[\]!$&'()*+,;=:@%]*?:?))$/,h=r.object().shape({name:r.string().matches(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/,"Name must consist of lower case alphanumeric characters or '-' and must start and end with an alphanumeric character.").required("Required")}),b=r.object().shape({selectedKey:r.string(),name:r.string().max(63,"Cannot be longer than 63 characters.").when("selectedKey",{is:o.b,then:r.string().required("Required")})}),g=e=>r.object().shape({replicas:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Replicas must be an integer."))).min(0,e("devconsole~Replicas must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Replicas must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({name:"isEmpty",test:e=>void 0!==e,message:e("devconsole~This field cannot be empty.")})}),v=r.string().oneOf([c.k.OpenShift,c.k.Kubernetes,c.k.KnativeService]).required(),f=e=>r.object().when("resources",{is:c.k.KnativeService,then:r.object().shape({scaling:r.object({minpods:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Min Pods must be an integer."))).min(0,e("devconsole~Min Pods must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Min Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),maxpods:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Max Pods must be an integer."))).min(1,e("devconsole~Max Pods must be greater than or equal to 1.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Max Pods must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})).test({test(e){const{minpods:t}=this.parent;return!e||e>=t},message:e("devconsole~Max Pods must be greater than or equal to Min Pods.")}),concurrencytarget:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency target must be an integer."))).min(0,e("devconsole~Concurrency target must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency target must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencylimit:r.number().transform(e=>a.a(e)?void 0:e).test(Object(l.b)(e("devconsole~Concurrency limit must be an integer."))).min(0,e("devconsole~Concurrency limit must be greater than or equal to 0.")).max(Number.MAX_SAFE_INTEGER,e("devconsole~Concurrency limit must be lesser than or equal to {{maxSafeInteger}}.",{maxSafeInteger:Number.MAX_SAFE_INTEGER})),concurrencyutilization:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Concurrency utilization must be between 0 and 100.")).max(100,e("devconsole~Concurrency utilization must be between 0 and 100.")),autoscale:r.object().shape({autoscalewindow:r.number().transform(e=>a.a(e)?void 0:e).test({test(e){if(e){const{autoscalewindowUnit:t}=this.parent,n=((e,t)=>{switch(t){case"m":return 60*e;case"h":return 3600*e;default:return e}})(e,t);return n>=6&&n<=3600}return!0},message:e("devconsole~Autoscale window must be between 6s and 1h.")})})}),domainMapping:r.array().of(r.string().transform(u.f).matches(d,{message:e("devconsole~Domain name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).test("domainname-has-segements",e("devconsole~Domain name must consist of at least two segments separated by dots."),(function(e){return e.split(".").length>=2})))})}),E=e=>r.object().shape({secure:r.boolean(),tls:r.object().when("secure",{is:!0,then:r.object({termination:r.string().required(e("devconsole~Please select a termination type."))})}),hostname:r.string().matches(d,{message:e("devconsole~Hostname must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or number."),excludeEmptyString:!0}).max(253,e("devconsole~Cannot be longer than 253 characters.")),path:r.string().matches(p,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),unknownTargetPort:r.number().typeError(e("devconsole~Port must be an integer.")).integer(e("devconsole~Port must be an integer.")).min(1,e("devconsole~Port must be between 1 and 65535.")).max(65535,e("devconsole~Port must be between 1 and 65535."))}),y=e=>r.object().shape({cpu:r.object().shape({request:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${n}${a}`)},message:e("devconsole~CPU request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limitUnit:r.string(e("devconsole~Unit must be millicores or cores.")).ensure(),limit:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(i.Ib)(`${e}${a}`)>=Object(i.Ib)(`${t}${n}`)},message:e("devconsole~CPU limit must be greater than or equal to request.")})}),memory:r.object().shape({request:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Request must be greater than or equal to 0.")).test({test(e){const{requestUnit:t,limit:n,limitUnit:a}=this.parent;return void 0===n||Object(i.Ib)(`${e}${t}`)<=Object(i.Ib)(`${n}${a}`)},message:e("devconsole~Memory request must be less than or equal to limit.")}),requestUnit:r.string(e("devconsole~Unit must be Mi or Gi.")),limit:r.number().transform(e=>a.a(e)?void 0:e).min(0,e("devconsole~Limit must be greater than or equal to 0.")).test({test(e){const{request:t,requestUnit:n,limitUnit:a}=this.parent;return void 0===e||Object(i.Ib)(`${t}${n}`)<=Object(i.Ib)(`${e}${a}`)},message:e("devconsole~Memory limit must be greater than or equal to request.")}),limitUnit:r.string(e("devconsole~Unit must be Mi or Gi."))})}),k=e=>r.object().when("build",{is:e=>"Source"===e.strategy,then:r.object().shape({selected:r.string().required(e("devconsole~Required")),tag:r.string().required(e("devconsole~Required"))})}),j=e=>r.object().shape({url:r.string().max(2e3,e("devconsole~Please enter a URL that is less then 2000 characters.")).matches(m,e("devconsole~Invalid Git URL.")).required(e("devconsole~Required")),type:r.string().when("showGitType",{is:!0,then:r.string().required(e("devconsole~We failed to detect the Git type. Please choose a Git type."))}),showGitType:r.boolean()}),R=e=>r.object().when("build",{is:e=>"Docker"===e.strategy,then:r.object().shape({containerPort:r.number().test(Object(l.b)(e("devconsole~Container port should be an integer"))),dockerfilePath:r.string().required(e("devconsole~Required"))})}),O=e=>r.object().when("build",{is:e=>"Devfile"===e.strategy,then:r.object().shape({devfilePath:r.string().required(e("devconsole~Required")),devfileContent:r.string().min(1,e("devconsole~Required")).required(e("devconsole~Required")),devfileHasError:r.boolean().oneOf([!1]),devfileSuggestedResources:r.object().required(e("devconsole~Required"))})}),P=r.object().shape({strategy:r.string()}),S=e=>r.object().shape({name:r.string().required(e("devconsole~Required")),image:r.object().required(e("devconsole~Required")),tag:r.string(),status:r.string().required(e("devconsole~Required"))}),N=r.object().when(["enabled","build.option","type"],{is:(e,t,n)=>(e||t===c.a.PIPELINES)&&n!==s.a.PAC,then:r.object().shape({templateSelected:r.string().required()})})},5622:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"t",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"k",(function(){return k})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return R})),n.d(t,"r",(function(){return O}));var a=n(5654);const r=a.chart_color_green_400.value,i={apiGroup:"tekton.dev",apiVersion:"v1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},s={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Pipeline",labelKey:"pipelines-plugin~Pipeline",labelPluralKey:"pipelines-plugin~Pipelines",plural:"pipelines",abbr:"PL",namespaced:!0,kind:"Pipeline",id:"pipeline",labelPlural:"Pipelines",crd:!0,color:r},o={apiGroup:"tekton.dev",apiVersion:"v1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},l={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"PipelineRun",labelKey:"pipelines-plugin~PipelineRun",labelPluralKey:"pipelines-plugin~PipelineRuns",plural:"pipelineruns",abbr:"PLR",namespaced:!0,kind:"PipelineRun",id:"pipelinerun",labelPlural:"PipelineRuns",crd:!0,color:r},c={apiGroup:"tekton.dev",apiVersion:"v1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},u={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"Task",labelKey:"pipelines-plugin~Task",labelPluralKey:"pipelines-plugin~Tasks",plural:"tasks",abbr:"T",namespaced:!0,kind:"Task",id:"task",labelPlural:"Tasks",crd:!0,color:r},d={apiGroup:"tekton.dev",apiVersion:"v1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},p={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"TaskRun",labelKey:"pipelines-plugin~TaskRun",labelPluralKey:"pipelines-plugin~TaskRuns",plural:"taskruns",abbr:"TR",namespaced:!0,kind:"TaskRun",id:"taskrun",labelPlural:"TaskRuns",crd:!0,color:r},m={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"CustomRun",labelKey:"pipelines-plugin~CustomRun",labelPluralKey:"pipelines-plugin~CustomRuns",plural:"customruns",abbr:"CR",namespaced:!0,kind:"CustomRun",id:"customrun",labelPlural:"CustomRuns",crd:!0,color:r},h={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"PipelineResource",labelKey:"pipelines-plugin~PipelineResource",labelPluralKey:"pipelines-plugin~PipelineResources",plural:"pipelineresources",abbr:"PR",namespaced:!0,kind:"PipelineResource",id:"pipelineresource",labelPlural:"PipelineResources",crd:!0,color:r},b={apiGroup:"tekton.dev",apiVersion:"v1beta1",label:"ClusterTask",labelKey:"pipelines-plugin~ClusterTask",labelPluralKey:"pipelines-plugin~ClusterTasks",plural:"clustertasks",abbr:"CT",namespaced:!1,kind:"ClusterTask",id:"clustertask",labelPlural:"ClusterTasks",crd:!0,color:r},g={apiGroup:"tekton.dev",apiVersion:"v1alpha1",label:"Condition",labelKey:"pipelines-plugin~Condition",labelPluralKey:"pipelines-plugin~Conditions",plural:"conditions",abbr:"C",namespaced:!0,kind:"Condition",id:"condition",labelPlural:"Conditions",crd:!0,color:r},v={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerBinding",labelKey:"pipelines-plugin~TriggerBinding",labelPluralKey:"pipelines-plugin~TriggerBindings",plural:"triggerbindings",abbr:"TB",namespaced:!0,kind:"TriggerBinding",id:"triggerbinding",labelPlural:"TriggerBindings",crd:!0,color:r},f={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"ClusterTriggerBinding",labelKey:"pipelines-plugin~ClusterTriggerBinding",labelPluralKey:"pipelines-plugin~ClusterTriggerBindings",plural:"clustertriggerbindings",abbr:"CTB",namespaced:!1,kind:"ClusterTriggerBinding",id:"clustertriggerbinding",labelPlural:"ClusterTriggerBindings",crd:!0,color:r},E={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"TriggerTemplate",labelKey:"pipelines-plugin~TriggerTemplate",labelPluralKey:"pipelines-plugin~TriggerTemplates",plural:"triggertemplates",abbr:"TT",namespaced:!0,kind:"TriggerTemplate",id:"triggertemplate",labelPlural:"TriggerTemplates",crd:!0,color:r},y={apiGroup:"triggers.tekton.dev",apiVersion:"v1beta1",label:"EventListener",labelKey:"pipelines-plugin~EventListener",labelPluralKey:"pipelines-plugin~EventListeners",plural:"eventlisteners",abbr:"EL",namespaced:!0,kind:"EventListener",id:"eventlistener",labelPlural:"EventListeners",crd:!0,color:r},k={apiGroup:"pipelinesascode.tekton.dev",apiVersion:"v1alpha1",label:"Repository",labelKey:"pipelines-plugin~Repository",labelPluralKey:"pipelines-plugin~Repositories",plural:"repositories",abbr:"R",namespaced:!0,kind:"Repository",id:"repository",labelPlural:"Repositories",crd:!0,color:r},j={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonConfig",labelKey:"pipelines-plugin~TektonConfig",labelPluralKey:"pipelines-plugin~TektonConfigs",plural:"tektonconfigs",abbr:"TC",namespaced:!1,kind:"TektonConfig",id:"tektonconfig",labelPlural:"TektonConfigs",crd:!0},R={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonHub",labelKey:"pipelines-plugin~TektonHub",labelPluralKey:"pipelines-plugin~TektonHubs",plural:"tektonhubs",abbr:"TH",namespaced:!1,kind:"TektonHub",id:"tektonhub",labelPlural:"TektonHubs",crd:!0},O={apiGroup:"operator.tekton.dev",apiVersion:"v1alpha1",label:"TektonResult",labelKey:"pipelines-plugin~TektonResult",labelPluralKey:"pipelines-plugin~TektonResults",plural:"tektonresults",abbr:"TR",namespaced:!1,kind:"TektonResult",id:"tektonresult",labelPlural:"TektonResults",crd:!0}},5623:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return P})),n.d(t,"p",(function(){return S})),n.d(t,"h",(function(){return N})),n.d(t,"f",(function(){return w})),n.d(t,"j",(function(){return C})),n.d(t,"m",(function(){return T})),n.d(t,"o",(function(){return D})),n.d(t,"e",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"B",(function(){return A})),n.d(t,"d",(function(){return I})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return M})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return $})),n.d(t,"t",(function(){return U})),n.d(t,"g",(function(){return G})),n.d(t,"x",(function(){return K})),n.d(t,"y",(function(){return q})),n.d(t,"z",(function(){return H})),n.d(t,"r",(function(){return W})),n.d(t,"u",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Q})),n.d(t,"A",(function(){return Z})),n.d(t,"n",(function(){return ee}));var a=n(321),r=n(29),i=n(1557),s=n(117),o=n(16),l=n(22),c=n(640),u=n(1942),d=n(5),p=n(10),m=n(8),h=n(5588),b=n(5650),g=n(5586),v=n(5595),f=n(5635),E=n(5617);const y=e=>e.resources&&e.resources.inputs&&e.resources.inputs.length>0&&!!e.resources.inputs[0].from,k=e=>e.runAfter&&e.runAfter.length>0;var j;!function(e){e.Running="Running",e.Failed="Failed",e.Succeeded="Succeeded",e.Cancelled="Cancelled",e.Other="-"}(j||(j={}));const R={[j.Running]:r.a.t("pipelines-plugin~Running"),[j.Failed]:r.a.t("pipelines-plugin~Failed"),[j.Succeeded]:r.a.t("pipelines-plugin~Succeeded"),[j.Cancelled]:r.a.t("pipelines-plugin~Cancelled"),[j.Other]:r.a.t("pipelines-plugin~Other")};var O;!function(e){e.Git="git",e.PullRequest="pullRequest",e.Image="image",e.Cluster="cluster",e.Storage="storage",e.CloudEvent="cloudEvent"}(O||(O={}));O.Git,O.PullRequest,O.Image,O.Cluster,O.Storage,O.CloudEvent;const P=(e,t,n,r=!1)=>((r?e.spec.finally:e.spec.tasks)||[]).map(e=>{var r;if(!t.status)return e;if(!n||0===n.length)return t.spec.status===E.a.PipelineRunCancelled?i.a(e,{status:{reason:v.a.Cancelled}}):t.spec.status===E.a.PipelineRunPending?i.a(e,{status:{reason:v.a.Idle}}):i.a(e,{status:{reason:v.a.Failed}});const l=s.a(n,t=>t.metadata.labels[h.u.pipelineTask]===e.name),c=null==l?void 0:l.status,u=i.a(e,{status:(null===(r=null==t?void 0:t.status)||void 0===r?void 0:r.taskRuns)?o.a(s.a(t.status.taskRuns,{pipelineTaskName:e.name}),"status"):c});if(u.status&&u.status.completionTime&&u.status.startTime){const e=new Date(u.status.completionTime).getTime()-new Date(u.status.startTime).getTime();u.status.duration=Object(a.a)(e)}return u.status?u.status&&u.status.conditions?u.status.reason=Object(E.d)(u)||v.a.Pending:u.status&&!u.status.reason&&(u.status.reason=v.a.Pending):u.status={reason:v.a.Pending},u}),S=(e,t={apiVersion:"",metadata:{},kind:"PipelineRun",spec:{}},n)=>{var a;const r=[];if(!(null===(a=e.spec)||void 0===a?void 0:a.tasks)||l.a(e.spec.tasks))return r;const i=P(e,t,n);return i.forEach(e=>{y(e)||k(e)||(0===r.length&&r.push([]),r[0].push(e))}),i.forEach(e=>{var t;if(!k(e)&&y(e)){let n=r.length-1;for(let a=0;a<r.length;a++)for(const i of r[a])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.resources.inputs[0].from[0]&&i.name!==e.resources.inputs[0].from[0]||(n=a);const a=r[n+1]?r[n+1]:null;a&&a[0]&&a[0].resources&&a[0].resources.inputs&&a[0].resources.inputs[0]&&a[0].resources.inputs[0].from&&a[0].resources.inputs[0].from[0]&&a[0].resources.inputs[0].from[0]===e.resources.inputs[0].from[0]?a.push(e):r.splice(n+1,0,[e])}}),i.forEach(e=>{var t;if(k(e)){let n=r.length-1;for(let a=0;a<r.length;a++)for(const i of r[a])(null===(t=i.taskRef)||void 0===t?void 0:t.name)!==e.runAfter[0]&&i.name!==e.runAfter[0]||(n=a);const a=r[n+1]?r[n+1]:null;a&&a[0].runAfter&&a[0].runAfter[0]&&a[0].runAfter[0]===e.runAfter[0]?a.push(e):r.splice(n+1,0,[e])}}),r},N=(e,t,n)=>P(e,t,n,!0),w=e=>{if(!e)return d.K;const{state:t,lastState:n}=e;return t.waiting&&!l.a(n)?d.H:t.waiting?d.K:t.terminated?d.J:d.I},C=e=>{if(!e||0===e.length)return{latestPipelineRun:null,status:v.a.PipelineNotStarted};const t=Object(f.b)(e,"creationTimestamp");if(!t)return{latestPipelineRun:null,status:v.a.PipelineNotStarted};let n=Object(E.c)(t);return"-"===n&&(n=v.a.Pending),{latestPipelineRun:t,status:n}},T=e=>e&&e.map(e=>({name:e.name,value:e.default})),D=e=>e&&e.map(e=>Object.assign({name:e.name},e.data)),_=(e,t,n)=>{const a=new Date(e).getTime(),r=((t?new Date(t).getTime():(new Date).getTime())-a)/1e3;return Object(b.g)(r,n)},x=e=>{var t,n,a,r;const i=null!==(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.startTime)&&void 0!==n?n:null,s=null!==(r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.completionTime)&&void 0!==r?r:null;return!i||!s&&"Running"!==Object(E.d)(e)?"-":_(i,s,!0)},A=(e,t,n)=>{const a=c.a(t);return a.secrets=[...a.secrets,{name:e}],n&&(a.imagePullSecrets=[...a.imagePullSecrets,{name:e}]),Object(m.rb)(p.ServiceAccountModel,a)},I=(e,t,n)=>{Object(m.kb)(p.ServiceAccountModel,h.l,t).then(t=>{void 0===s.a(t.secrets,t=>t.name===e.metadata.name)&&A(e.metadata.name,t,n)}).catch(e=>{Object(u.errorModal)({error:e.message})})},F=(e,t)=>e===h.p.Git?`tekton.dev/${h.p.Git}-${t}`:e===h.p.Image?`tekton.dev/${h.p.Image}-${t}`:null,L=(e,t={})=>{let n=0,a=F(null==e?void 0:e.key,n);if(!a)return t;for(;t[a]&&t[a]!==(null==e?void 0:e.value);)a=F(null==e?void 0:e.key,++n);return Object.assign(Object.assign({},t),{[a]:null==e?void 0:e.value})},M=e=>{switch(e.kind){case g.PipelineModel.kind:case g.TaskModel.kind:case g.EventListenerModel.kind:return"";case g.PipelineRunModel.kind:return"pipeline-runs";case g.PipelineResourceModel.kind:return"pipeline-resources";case g.ConditionModel.kind:return"conditions";case g.TaskRunModel.kind:return"task-runs";case g.ClusterTaskModel.kind:return"cluster-tasks";case g.TriggerTemplateModel.kind:return"trigger-templates";case g.TriggerBindingModel.kind:return"trigger-bindings";case g.ClusterTriggerBindingModel.kind:return"cluster-trigger-bindings";case g.RepositoryModel.kind:return"repositories";default:return null}},B=(e,t,n)=>e.filter(e=>{const{ownerReferences:a=[]}=e.metadata;return a.some(e=>e.name===t&&e.kind===n)}),$=(e,t)=>t.find(t=>t.metadata.name===e.metadata.name),U=(e,t)=>t.filter(t=>!!t.spec.resourcetemplates.find(t=>{var n;return(null===(n=t.spec.pipelineRef)||void 0===n?void 0:n.name)===e.metadata.name})),G=(e,t)=>t.reduce((t,n)=>(n.spec.triggers.filter(t=>e.find(e=>{var n;return(null==e?void 0:e.metadata.name)===(null===(n=null==t?void 0:t.template)||void 0===n?void 0:n.ref)})).length>0&&t.push(n),t),[]),K=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineModelV1Beta1:g.PipelineModel,q=e=>"tekton.dev/v1beta1"===e.apiVersion?g.PipelineRunModelV1Beta1:g.PipelineRunModel,H=e=>"tekton.dev/v1beta1"===e.apiVersion?g.TaskModelV1Beta1:g.TaskModel;var V,J,z;!function(e){e.KEY="task.results.key",e.TYPE="task.results.type"}(V||(V={})),function(e){e.EXTERNAL_LINK="external-link"}(J||(J={})),function(e){e.IMAGE_REPOSITORY="IMAGE_URL",e.SBOM="LINK_TO_SBOM",e.SCAN_OUTPUT="SCAN_OUTPUT",e.TEST_OUTPUT="TEST_OUTPUT"}(z||(z={}));const W=e=>null==e?void 0:e.find(e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[V.KEY])===z.SBOM}),Y=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n[V.TYPE])===J.EXTERNAL_LINK},X=e=>{var t,n,a,r;return null===(r=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.taskResults))||void 0===a?void 0:a.find(e=>e.name===z.SBOM))||void 0===r?void 0:r.value},Q=e=>{var t,n,a,r;return null===(r=null===(a=(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.results)||(null===(n=null==e?void 0:e.status)||void 0===n?void 0:n.pipelineResults))||void 0===a?void 0:a.find(e=>e.name===z.IMAGE_REPOSITORY))||void 0===r?void 0:r.value},Z=e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length))return v.a.Pending;return Object(E.d)(e)},ee=e=>{var t,n,a;const r=null===(a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===(null==e?void 0:e.type)))||void 0===a?void 0:a.message,i=null==r?void 0:r.match(/(\w+)(?::\s*|\s+)(\d+)/g),s={};null==i||i.forEach(e=>{const[t,n]=e.split(/(?::\s*|\s+)/);s[t.trim()]=Number(n.trim())});const o=((null==s?void 0:s.Completed)||0)-((null==s?void 0:s.Failed)||0)-((null==s?void 0:s.Cancelled)||0);return{Running:(null==s?void 0:s.Incomplete)||0,Succeeded:o||0,Cancelled:(null==s?void 0:s.Cancelled)||0,Failed:(null==s?void 0:s.Failed)||0,Skipped:(null==s?void 0:s.Skipped)||0,Completed:(null==s?void 0:s.Completed)||0,Cancelling:(null==s?void 0:s.Cancelled)||0,PipelineNotStarted:0,Pending:0}}},5624:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>({test:e=>null==e||Number.isInteger(e),message:e}),r=/^[a-z]([a-z0-9_]-?)*[a-z0-9]$/},5625:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return S}));var a=n(29),r=n(22),i=n(16),s=n(57),o=n(640),l=n(5649),c=n(5),u=n(10),d=n(8),p=n(76),m=n(870),h=n(5586),b=n(5623),g=n(15),v=n(2221),f=n(1400),E=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const y=(e,t=e)=>{switch(t){case v.z:case v.b:return"";default:return e}},k=(e,t,n)=>{const a=Object.assign(Object.assign({},t.metadata.labels),{"app.kubernetes.io/part-of":n||void 0});if(!e)return Promise.reject();const i=[{op:r.a(a)?"add":"replace",path:"/metadata/labels",value:a}];return Object(d.pb)(e,t,i)},j=(e,t,n)=>{if(!t)return Promise.reject(new Error(a.a.t("topology~Error: no resource provided to update application for.")));if(!e)return Promise.reject(new Error(a.a.t("topology~Error: invalid resource kind provided for updating application.")));const r=i.a(t,["metadata","labels","app.kubernetes.io/instance"]),o=i.a(t,["metadata","labels","app.kubernetes.io/part-of"]),l=[k(e,t,n)];if(!r)return Promise.all(l);return o&&({"app.kubernetes.io/instance":r}["app.kubernetes.io/part-of"]=o),Object(f.e)(t.metadata.namespace,r,{"app.kubernetes.io/part-of":o}).then(e=>(s.a(e,e=>{s.a(e,e=>{!o&&i.a(e,["metadata","labels","app.kubernetes.io/part-of"])||l.push(k(Object(d.vb)(e.kind),e,n))})}),Promise.all(l)))},R=(e,t={},n)=>E(void 0,void 0,void 0,(function*(){var a,r;try{if(n){const n=yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"list",namespace:null==t?void 0:t.ns});if(!(null===(a=null==n?void 0:n.status)||void 0===a?void 0:a.allowed))return[]}return yield Object(d.nb)(e,t)}catch(t){if(404===(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status))return console.warn(`Ignore that model ${e.plural} was not found:`,t),[];throw console.warn(`Error while loading model ${e.plural}:`,t),t}})),O=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;if(!(yield Object(c.Fb)({group:e.apiGroup,resource:e.plural,verb:"delete",name:t.metadata.name,namespace:t.metadata.namespace})).status.allowed)return console.warn(`User is not allowed to delete resource ${e.plural} ${t.metadata.name}.`),null;try{return yield Object(d.lb)(e,t)}catch(a){if(404===(null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.status))return console.warn(`Resource ${e.plural} ${t.metadata.name} was not found. Ignore this error.`,a),null;throw console.warn(`Error while deleting resource ${e.plural} ${t.metadata.name}:`,a),a}})),P=(e,t)=>E(void 0,void 0,void 0,(function*(){var n,a;const r=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.annotations)&&void 0!==a?a:{},i=Object(l.c)(r["app.openshift.io/vcs-uri"]),s=yield Object(d.nb)(u.SecretModel,{ns:e.metadata.namespace});let o;if((null==t?void 0:t.length)>0)o=null==t?void 0:t.reduce((t,n)=>{var a,r;return[...t,...(null!==(r=null===(a=n.spec)||void 0===a?void 0:a.triggers)&&void 0!==r?r:[]).reduce((t,n)=>{var a,r;let o;const l=n.generic?"generic":i,c=n.generic||n[i];if(c){const t=null!==(r=null===(a=c.secretReference)||void 0===a?void 0:a.name)&&void 0!==r?r:`${e.metadata.name}-${l}-webhook-secret`;o=s.find(e=>e.metadata.name===t)}return o?[...t,O(u.SecretModel,o)]:t},[])]},[]);else{const t=s.find(t=>t.metadata.name===e.metadata.name+"-generic-webhook-secret"),n=s.find(t=>t.metadata.name===`${e.metadata.name}-${i}-webhook-secret`);o=[O(u.SecretModel,t),O(u.SecretModel,n)]}return o})),S=e=>E(void 0,void 0,void 0,(function*(){const t=[],n=yield R(u.BuildConfigModel,{ns:e.metadata.namespace}),a=yield R(u.BuildModel,{ns:e.metadata.namespace}),i=yield R(h.PipelineModel,{ns:e.metadata.namespace},!0),s=yield R(h.TriggerTemplateModel,{ns:e.metadata.namespace},!0),l=yield R(h.EventListenerModel,{ns:e.metadata.namespace},!0),c=yield Object(m.fetchChannelsCrd)(),v=Object(d.vb)(Object(d.Db)(e)),f={buildConfigs:{data:n,loaded:!0,loadError:null},builds:{data:a,loaded:!0,loadError:null}},E=Object(g.Gc)(e,f),y=!r.a(E),k=Object(b.l)(e,i);let j=[],S=[];const N=[u.ServiceModel,u.RouteModel,u.ImageStreamModel],w=[p.p,u.ImageStreamModel];r.a(k)||(N.push(h.PipelineModel),w.push(h.PipelineModel),j=Object(b.t)(k,s),S=Object(b.g)(j,l));const C=o.a(e),T=(e,n)=>{const a=O(e,n);a&&t.push(a)};y&&E.forEach(e=>{T(u.BuildConfigModel,e)});const D=(e,t)=>{e.forEach(e=>T(e,t))};switch(Object(m.isDynamicEventResourceKind)(Object(d.Db)(e))&&T(Object(d.vb)(Object(d.Db)(e)),e),c.find(t=>t.kind===e.kind)&&T(v,e),j.length>0&&j.forEach(e=>T(h.TriggerTemplateModel,e)),S.length>0&&S.forEach(e=>T(h.EventListenerModel,e)),e.kind){case u.DaemonSetModel.kind:case u.StatefulSetModel.kind:case u.JobModel.kind:case u.CronJobModel.kind:case p.f.kind:T(v,e);break;case u.DeploymentModel.kind:case u.DeploymentConfigModel.kind:T(v,e),D(N,e);break;case p.p.kind:D(w,C);break;case p.b.kind:case p.k.kind:T(v,e)}return y&&t.push(...yield P(e,E)),k&&t.push(...yield P(e)),Promise.all(t)}))},5626:function(e,t,n){"use strict";var a,r,i;n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e.METRICS_PIPELINERUN_DURATION_TYPE="metrics.pipelinerun.duration-type",e.METRICS_PIPELINERUN_LEVEL="metrics.pipelinerun.level",e.METRICS_TASKRUN_DURATION_TYPE="metrics.taskrun.duration-type",e.METRICS_TASKRUN_LEVEL="metrics.taskrun.level"}(a||(a={})),function(e){e.PIPELINE="pipeline",e.PIPELINERUN="pipelinerun",e.TASK="task",e.TASKRUN="taskrun"}(r||(r={})),function(e){e.HISTOGRAM="histogram",e.LASTVALUE="lastvalue",e.NAMESPACE="namespace"}(i||(i={}))},5627:function(e,t,n){},5628:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"PipelineRun"}},5629:function(e,t,n){},5630:function(e,t,n){},5631:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={group:"tekton.dev",version:"v1",kind:"TaskRun"}},5632:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),function(e){e.Cancelling="Cancelling",e.Succeeded="Succeeded",e.Failed="Failed",e.Running="Running",e["In Progress"]="In Progress",e.FailedToStart="FailedToStart",e.PipelineNotStarted="PipelineNotStarted",e.Skipped="Skipped",e.Cancelled="Cancelled",e.Pending="Pending",e.Idle="Idle",e.Other="-"}(a||(a={})),function(e){e.RunCancelled="RunCancelled"}(r||(r={}))},5633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5587),r=n(5611),i=n(5616),s=n(5661),o=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const l=[{name:"Devfile",type:r.b.DEVFILE,expectedRegexp:/^\.?devfile\.yaml$/,priority:3},{name:"Dockerfile",type:r.b.DOCKERFILE,expectedRegexp:/^(Dockerfile|Containerfile).*/,priority:2},{name:"Serverless Function",type:r.b.SERVERLESS_FUNCTION,expectedRegexp:/^func\.(yaml|yml)$/,priority:1},{name:"Builder Image",type:r.b.S2I,expectedRegexp:/^/,priority:0,customDetection:i.a}],c=(e,t,n=!1)=>o(void 0,void 0,void 0,(function*(){let e,i=[],c=!1,u=null;const d=t?yield t.isRepoReachable():a.d.GitTypeNotDetected;let p,m=[];if(d===a.d.Reachable)try{const{files:a}=yield t.getRepoFileList({includeFolder:!0});e=yield Object(s.b)(n,t),i=yield Promise.all(l.map(e=>o(void 0,void 0,void 0,(function*(){return m=a.filter(t=>e.expectedRegexp.test(t)),m.length>0&&e.customDetection&&(p=yield e.customDetection(t)),{name:e.name,type:e.type,priority:e.priority,detectedFiles:m,detectedCustomData:p}})))),c=!0}catch(e){c=!0,u=e.message}else c=!0;return e||(i=i.filter(e=>e.type!==r.b.SERVERLESS_FUNCTION)),i=i.filter(e=>{var t;return!!e.detectedFiles.length||!!(null===(t=e.detectedCustomData)||void 0===t?void 0:t.length)}).sort((e,t)=>t.priority-e.priority),{loaded:c,loadError:u,repositoryStatus:d,strategies:i}}))},5635:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return R})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return N})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return C}));var a=n(5699),r=n(1403),i=n(5692),s=n(5691),o=n(5654),l=n(2225),c=n(29),u=n(8),d=n(5588),p=n(5586),m=n(5595),h=n(5617);const b=(e,t)=>{if(!(e&&e.length>0&&t))return null;let n=e[0];if("creationTimestamp"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].metadata&&e[a].metadata[t]&&new Date(e[a].metadata[t])>new Date(n.metadata[t])?e[a]:n;else if("startTime"===t||"completionTime"===t)for(let a=1;a<e.length;a++)n=e[a]&&e[a].status&&e[a].status[t]&&new Date(e[a].status[t])>new Date(n.status[t])?e[a]:n;else n=e[e.length-1];return n.status||(n=Object.assign(Object.assign({},n),{status:{pipelineSpec:{tasks:[]}}})),n.status.succeededCondition||(n.status=Object.assign(Object.assign({},n.status),{succeededCondition:""})),n.status.succeededCondition=Object(h.c)(n),n},g=(e,t)=>e.map(e=>{const n=t.filter(t=>{var n;return(null===(n=t.metadata.labels)||void 0===n?void 0:n["tekton.dev/pipeline"])===e.metadata.name});return e.latestRun=b(n,"creationTimestamp"),e}),v=e=>{switch(e){case m.a.Succeeded:return{message:c.a.t("pipelines-plugin~Succeeded"),pftoken:o.chart_color_green_400};case m.a.Failed:return{message:c.a.t("pipelines-plugin~Failed"),pftoken:l.global_danger_color_100};case m.a.FailedToStart:return{message:c.a.t("pipelines-plugin~PipelineRun failed to start"),pftoken:l.global_danger_color_100};case m.a.Running:case m.a["In Progress"]:return{message:c.a.t("pipelines-plugin~Running"),pftoken:s.chart_color_blue_300};case m.a.Skipped:return{message:c.a.t("pipelines-plugin~Skipped"),pftoken:a.chart_color_black_400};case m.a.Cancelled:return{message:c.a.t("pipelines-plugin~Cancelled"),pftoken:r.chart_color_black_500};case m.a.Cancelling:return{message:c.a.t("pipelines-plugin~Cancelling"),pftoken:r.chart_color_black_500};case m.a.Idle:case m.a.Pending:return{message:c.a.t("pipelines-plugin~Pending"),pftoken:i.chart_color_blue_100};default:return{message:c.a.t("pipelines-plugin~PipelineRun not started yet"),pftoken:i.chart_color_blue_100}}},f=e=>{var t,n,a,r,i;const s=(null===(n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.labels)||void 0===n?void 0:n[d.u.pipeline])||(null===(a=null==e?void 0:e.metadata)||void 0===a?void 0:a.name),o=(null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.pipelineSpec)||(null===(i=null==e?void 0:e.spec)||void 0===i?void 0:i.pipelineSpec);return s&&o?{apiVersion:Object(u.n)(p.PipelineModel),kind:p.PipelineModel.kind,metadata:{name:s,namespace:e.metadata.namespace},spec:o}:null},E=(e,t,n)=>{var a,r,i,s,o;const l=(e=>{var t,n,a,r;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).length)&&void 0!==n?n:0)+(null!==(r=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).length)&&void 0!==r?r:0)})(t)-(e=>{var t,n,a,r;if(!e)return 0;return(null!==(n=((null===(t=e.spec)||void 0===t?void 0:t.tasks)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==n?n:0)+(null!==(r=((null===(a=e.spec)||void 0===a?void 0:a.finally)||[]).filter(e=>{var t,n;return"Task"!==(null===(t=e.taskRef)||void 0===t?void 0:t.kind)&&"ClusterTask"!==(null===(n=e.taskRef)||void 0===n?void 0:n.kind)}).length)&&void 0!==r?r:0)})(t),c=()=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.taskRuns)?Object.keys(e.status.taskRuns):n?null==n?void 0:n.map(e=>e.metadata.name):[]},u=c().length,d=((null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.skippedTasks)||[]).length,p={PipelineNotStarted:0,Pending:0,Running:0,Succeeded:0,Failed:0,Cancelled:0,Skipped:d};if((null===(r=null==e?void 0:e.status)||void 0===r?void 0:r.taskRuns)||n){c().forEach(t=>{const a=Object(h.c)((null==n?void 0:n.find(e=>e.metadata.name===t))||e.status.taskRuns[t]);"Succeeded"===a?p[m.a.Succeeded]++:"Running"===a?p[m.a.Running]++:"Failed"===a?p[m.a.Failed]++:"Cancelled"===a?p[m.a.Cancelled]++:p[m.a.Pending]++});const t=p[m.a.Failed]>0,a=Object(h.c)(e)===m.a.Cancelled,r=l>=u?l-u-d:l;t||a?p[m.a.Cancelled]+=r:p[m.a.Pending]+=r}else"False"===(null===(o=null===(s=null===(i=null==e?void 0:e.status)||void 0===i?void 0:i.conditions)||void 0===s?void 0:s[0])||void 0===o?void 0:o.status)||(null==e?void 0:e.spec.status)===h.a.PipelineRunCancelled?p[m.a.Cancelled]=l:(null==e?void 0:e.spec.status)===h.a.PipelineRunPending?p[m.a.Pending]+=l:p[m.a.PipelineNotStarted]++;return p},y=e=>e===p.ClusterTaskModel.kind?p.ClusterTaskModel:e===p.TaskModel.kind||void 0===e?p.TaskModel:null,k=e=>(y(e)||p.TaskModel).kind,j=e=>e===p.ClusterTriggerBindingModel.kind?p.ClusterTriggerBindingModel:e===p.TriggerBindingModel.kind||void 0===e?p.TriggerBindingModel:null,R=e=>(j(e)||p.TriggerBindingModel).kind,O=e=>{const t=y(e);return Object(u.Hb)(t)},P=(e,t)=>{const n=t&&E(e,void 0,t);return null==n?void 0:n.Running},S=(e,t)=>!(e&&(P(e,t)>0||Object(h.c)(e)===m.a.Running)),N=(e,t)=>!(e&&((null==t?void 0:t.Running)>0||Object(h.c)(e)===m.a.Running)),w=(e,t)=>!(e&&P(e,t)>0&&Object(h.c)(e)!==m.a.Cancelled),C=(e,t)=>!(e&&(null==t?void 0:t.Running)>0&&Object(h.c)(e)!==m.a.Cancelled)},5636:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(22),r=n(0),i=n(7),s=n(14),o=n(5),l=n(869),c=n(5590),u=n(5598);const d=Object(i.withTranslation)()(class extends r.Component{constructor(){super(...arguments),this.state={secretTypeAbstraction:l.c.generic}}componentDidUpdate(){if(!a.a(this.props.obj.data)){const e=Object(c.e)(this.props.obj.data);this.state.secretTypeAbstraction!==e&&this.setState({secretTypeAbstraction:e})}}render(){const{obj:e,fixedKeys:t}=this.props,{secretTypeAbstraction:n}=this.state;if(!n)return r.createElement(o.S,null);const a=null==t?void 0:t.reduce((t,n)=>{var a;return Object.assign(Object.assign({},t),{[n]:(null===(a=e.data)||void 0===a?void 0:a[n])||""})},{});return r.createElement(o.wb,Object.assign({},e),r.createElement(u.a,Object.assign({},this.props,{secretTypeAbstraction:n,obj:e.data,fixed:a})))}}),p=({kind:e})=>{const t=Object(s.useParams)(),{t:n}=Object(i.useTranslation)();return r.createElement(o.C,{resources:[{kind:e,name:t.name,namespace:t.ns,isList:!1,prop:"obj"}]},r.createElement(d,{fixedKeys:["kind","metadata"],saveButtonText:n("public~Save")}))}},5637:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(14),i=n(5598);const s=()=>{const e=Object(r.useParams)(),t=e.type;return a.createElement(i.a,{fixed:{metadata:{namespace:e.ns}},secretTypeAbstraction:t,isCreate:!0})}},5638:function(e,t,n){},5639:function(e,t,n){},5640:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Reachable=0]="Reachable",e[e.Unreachable=1]="Unreachable",e[e.RateLimitExceeded=2]="RateLimitExceeded",e[e.GitTypeNotDetected=3]="GitTypeNotDetected",e[e.InvalidGitTypeSelected=4]="InvalidGitTypeSelected",e[e.PrivateRepo=5]="PrivateRepo",e[e.ResourceNotFound=6]="ResourceNotFound",e[e.GiteaRepoUnreachable=7]="GiteaRepoUnreachable"}(a||(a={}))},5641:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a={name:"Maven",type:"java",language:"java",expectedRegexps:RegExp(["pom.xml"].join("|")),expectedFiles:["pom.xml"]},r={name:"Gradle",type:"java",language:"java",expectedRegexps:RegExp([".*gradle.*"].join("|")),expectedFiles:["build.gradle","gradlew","gradlew.bat"]},i={name:"Golang",type:"golang",language:"go",expectedRegexps:RegExp([".*.\\.go","Gopkg.toml","glide.yaml"].join("|")),expectedFiles:["main.go","Gopkg.toml","glide.yaml"]},s={name:"Ruby",type:"ruby",language:"ruby",expectedRegexps:RegExp(["Gemfile","Rakefile","config.ru"].join("|")),expectedFiles:["Gemfile","Rakefile","config.ru"]},o={name:"NodeJS",type:"nodejs",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},l={name:"Modern Web App",type:"modern-webapp",language:"javascript",expectedRegexps:RegExp(["app.json","package.json","gulpfile.js","Gruntfile.js"].join("|")),expectedFiles:["app.json","package.json","gulpfile.js","Gruntfile.js"]},c={name:"PHP",type:"php",language:"php",expectedRegexps:RegExp(["index.php","composer.json"].join("|")),expectedFiles:["index.php","composer.json"]},u={name:"Python",type:"python",language:"python",expectedRegexps:RegExp(["requirements.txt","setup.py"].join("|")),expectedFiles:["requirements.txt","setup.py"]},d={name:"Perl",type:"perl",language:"perl",expectedRegexps:RegExp(["index.pl","cpanfile"].join("|")),expectedFiles:["index.pl","cpanfile"]},p=[{name:"Dotnet",type:"dotnet",language:"C#",expectedRegexps:RegExp(["project.json",".*.csproj"].join("|")),expectedFiles:["project.json","app.csproj"]},i,r,a,o,l,d,c,u,s],m=["react","angular","@angular/core","vue","knockout","knockback"]},5642:function(e,t,n){"use strict";n(5612),n(5613),n(5614),n(5615);var a=n(5644);n.d(t,"a",(function(){return a.a}));n(5592)},5643:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(5587);function r(e){return a.a.map(t=>{const n=e.filter(e=>t.expectedRegexps.test(e));return{buildType:t.type,language:t.language,files:n}}).filter(e=>e.files.length>0).sort((e,t)=>t.files.length-e.files.length)}function i(e){try{const t=JSON.parse(e);return a.f.some(e=>e in t.dependencies)}catch(e){return!1}}},5644:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4359),r=n(5587),i=n(5613),s=n(5615),o=n(5612),l=n(5614);function c(e,t,n,c,u,d,p){let m,h;switch(null==u?void 0:u.type){case a.SecretType.basicAuth:m=r.e.BASIC_AUTH,h=u.data;break;case a.SecretType.sshAuth:m=r.e.SSH,h=u["ssh-privatekey"];break;default:m=r.e.NO_AUTH}const b={url:e,ref:n,contextDir:c,secretType:m,secretContent:h,devfilePath:d,dockerfilePath:p};switch(t){case r.b.GITHUB:return new o.a(b);case r.b.BITBUCKET:return new i.a(b);case r.b.GITLAB:return new l.a(b);case r.b.GITEA:return new s.a(b);default:return null}}},5645:function(e,t,n){"use strict";n(5616);var a=n(5646);n.d(t,"a",(function(){return a.a}));n(5633)},5646:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5709);class r{constructor(e){this.content=e,this.parsedCommands=this.parse()}parse(){let e=[];try{e=Object(a.parse)(this.content)}catch(e){}return e}getContainerPort(){const e=this.parsedCommands.filter(e=>"EXPOSE"===e.name);if(e.length>0){const t=e[0];if(t.args.length>0)return Number(t.args[0])}return null}}},5648:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));var a,r,i,s=n(5591);!function(e){e.REPOSITORY="Repository",e.URL_REPO="RepoUrl",e.URL_ORG="RepoOrg",e.SHA="sha",e.EVENT_TYPE="EventType"}(a||(a={})),function(e){e.SHA_MESSAGE="sha_message",e.SHA_URL="sha_url",e.REPO_URL="repo_url",e.BRANCH="Branch"}(r||(r={})),function(e){e.golang="go",e.nodejs="nodejs",e.python="python",e.java="java"}(i||(i={}));const o={[a.REPOSITORY]:"pipelinesascode.tekton.dev/repository",[a.URL_REPO]:"pipelinesascode.tekton.dev/url-repository",[a.URL_ORG]:"pipelinesascode.tekton.dev/url-org",[a.SHA]:"pipelinesascode.tekton.dev/sha",[a.EVENT_TYPE]:"pipelinesascode.tekton.dev/event-type"},l={[r.SHA_MESSAGE]:"pipelinesascode.tekton.dev/sha-title",[r.SHA_URL]:"pipelinesascode.tekton.dev/sha-url",[r.REPO_URL]:"pipelinesascode.tekton.dev/repo-url",[r.BRANCH]:"pipelinesascode.tekton.dev/branch"};var c;!function(e){e.GITHUB="github",e.WEBHOOK="webhook"}(c||(c={}));const u={gitUrl:"",githubAppAvailable:!1,gitProvider:s.b.INVALID,name:"",method:"github",showOverviewPage:!1,yamlData:"",webhook:{token:"",method:"token",secret:"",url:"",user:"",autoAttach:!1}},d={[s.b.GITHUB]:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/app-passwords/"},p={[s.b.GITHUB]:"https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks",[s.b.GITLAB]:"https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-a-webhook-in-gitlab",[s.b.BITBUCKET]:"https://support.atlassian.com/bitbucket-cloud/docs/manage-webhooks/"},m=["github.com","bitbucket.org","gitlab.com"]},5649:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(2338),r=n(689),i=n(5591),s=n(5653),o=n(15),l=n(5655),c=n(5621);const u=e=>r.object().shape({name:Object(o.Zd)(e),project:c.l,application:c.a,image:Object(c.h)(e),git:Object(c.g)(e),docker:Object(c.e)(e),devfile:Object(c.d)(e),deployment:Object(c.c)(e),serverless:Object(c.o)(e),route:Object(c.n)(e),limits:Object(c.k)(e),build:c.b,resources:c.m,healthChecks:Object(l.a)(e),pac:Object(s.e)(e),pipeline:c.i}),d=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),p=e=>c.f.test(e)?d(e,"github.com")?i.b.GITHUB:d(e,"bitbucket.org")?i.b.BITBUCKET:d(e,"gitlab.com")?i.b.GITLAB:d(e,"gitea.com")||e.includes("gitea")?i.b.GITEA:i.b.UNSURE:i.b.INVALID,m=e=>{if(o.Yd.test(e))return e;const t=a.a(e);return e.match(/^\d/)||t.match(/^\d/)?"ocp-"+t:t},h=e=>{if(!c.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return m(t)}},5650:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"i",(function(){return O}));var a,r,i=n(321),s=n(29),o=n(550),l=n(50),c=n(16),u=n(384),d=n(4427),p=n(461),m=n(5),h=n(158),b=n(5588);!function(e){e.NUMBER_OF_PIPELINE_RUNS="NUMBER_OF_PIPELINE_RUNS",e.PIPELINE_RUN_DURATION="PIPELINE_RUN_DURATION",e.PIPELINE_RUN_TASK_RUN_DURATION="PIPELINE_RUN_TASK_RUN_DURATION",e.PIPELINE_SUCCESS_RATIO="PIPELINE_SUCCESS_RATIO"}(a||(a={})),function(e){e.TEKTON="tekton",e.TEKTON_PIPELINES_CONTROLLER="tekton_pipelines_controller"}(r||(r={}));const g=(e=r.TEKTON_PIPELINES_CONTROLLER)=>({[b.n.PIPELINE_TASK_LEVEL]:{[a.PIPELINE_SUCCESS_RATIO]:o.a(e+'_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"}'),[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",namespace="<%= namespace %>"})`)},[b.n.PIPELINERUN_TASKRUN_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds{pipeline="<%= name %>",namespace="<%= namespace %>"})) by(status)`)},[b.n.UNSIMPLIFIED_METRICS_LEVEL]:{[a.NUMBER_OF_PIPELINE_RUNS]:o.a(`sum(count by (pipelinerun) (${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"}))`),[a.PIPELINE_RUN_TASK_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_taskrun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun, task)`),[a.PIPELINE_RUN_DURATION]:o.a(`sum(${e}_pipelinerun_duration_seconds_sum{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})  by (pipelinerun)`),[a.PIPELINE_SUCCESS_RATIO]:o.a(`count(sort_desc(${e}_pipelinerun_duration_seconds_count{pipeline="<%= name %>",exported_namespace="<%= namespace %>"})) by(status)`)}}),v=e=>(e<0?"-":"")+(e=>0===e||e>=.001&&e<1e23?Object(m.cc)(e).string:e.toExponential(1))(Math.abs(e)),f=e=>h.b.format(e),E=(e,t,n)=>{const{metric:a,values:r}=e,i=l.a(r,e=>{const t=Number(e[1]);return{x:new Date(new Date(1e3*e[0]).setHours(0,0,0,0)),y:Number.isNaN(t)?null:t,metric:a}}),s=Number(c.a(i,"[0].x")),o=Number(c.a(u.a(i),"x")),p=n/t;return d.a(s,o,p).forEach((e,t)=>{const n=new Date(e);c.a(i,[t,"x"])>n&&i.splice(t,0,{x:n,y:null,metric:a})}),i},y=(e,t,n)=>{var a;const r=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.result)||[];return null==r?void 0:r.map(e=>{var a;return null===(a=null==e?void 0:e.values)||void 0===a?void 0:a.map(([a,r])=>{var i,s;return{x:null!==(i=null==t?void 0:t(e))&&void 0!==i?i:new Date(1e3*a),y:null!==(s=null==n?void 0:n(r))&&void 0!==s?s:parseFloat(r),metric:null==e?void 0:e.metric,time:a}})})},k=e=>{const t=[];if(!e)return t;const n=Object(i.b)("1d"),a=Math.round(e/n),r=new Date(Date.now());for(r.setHours(0,0,0,0);t.length-1<a;)t.push(r.getTime()),r.setDate(r.getDate()-1);return t.slice(0,a)},j=(e,t)=>{if(0===e)return s.a.t("pipelines-plugin~less than a sec");let n=Math.round(e),a=0,r=0,i="";return n>=60&&(a=Math.floor(n/60),n%=60),a>=60&&(r=Math.floor(a/60),a%=60),r>0&&(i+=t?s.a.t("pipelines-plugin~{{count}} hour",{count:r}):s.a.t("pipelines-plugin~{{hr}}h",{hr:r}),i+=" "),a>0&&(i+=t?s.a.t("pipelines-plugin~{{count}} minute",{count:a}):s.a.t("pipelines-plugin~{{min}}m",{min:a}),i+=" "),n>0&&(i+=t?s.a.t("pipelines-plugin~{{count}} second",{count:n}):s.a.t("pipelines-plugin~{{sec}}s",{sec:n})),i.trim()},R=()=>({"1d":s.a.t("pipelines-plugin~1 day"),"3d":s.a.t("pipelines-plugin~3 days"),"1w":s.a.t("pipelines-plugin~1 week"),"2w":s.a.t("pipelines-plugin~2 weeks"),"3w":s.a.t("pipelines-plugin~3 weeks"),"4w":s.a.t("pipelines-plugin~4 weeks")}),O=e=>{let t=0;return p.a(e,"x").map(e=>{const n=e.y-t;return t+=e.y,Object.assign(Object.assign({},e),{y:n})})}},5651:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(8),r=n(1402);const i=e=>{const[t,n]=null==e?void 0:e.match(/^[0-9]+|[a-zA-Z]*/g);return{autoscalewindow:Number(t)||"",autoscalewindowUnit:n||"s",defaultAutoscalewindowUnit:n||"s"}},s=/ *\([^)]*\) */g,o=e=>e.replace(s,""),l=(e,t)=>{var n;if(!(null===(n=e.spec)||void 0===n?void 0:n.ref))return null;const{apiVersion:i,kind:s,name:o}=e.spec.ref;return Object(a.n)(r.l)===i&&s===r.l.kind&&o!==t?o:null},c=(e,t)=>[...new Set(null==e?void 0:e.filter(e=>!((null==t?void 0:t.length)>0)||(null==t?void 0:t.includes(o(e)))).map(e=>o(e)))],u=e=>e.some(e=>new RegExp(s).test(e)),d=(e,t=[],n)=>e.filter(e=>u([e])).map(e=>{var a,r;const i=null==t?void 0:t.find(t=>t.metadata.name===o(e));return i&&(null===(r=null===(a=i.spec)||void 0===a?void 0:a.ref)||void 0===r?void 0:r.name)!==n?i:null}).filter(e=>!!e)},5652:function(e,t,n){"use strict";var a=n(5619),r=n(8),i=n(5663);class s extends i.a{constructor(){super(),this.resource=void 0,this.resourceKind=void 0,Object(a.p)(this,{resource:a.q.ref,resourceKind:a.q})}getResource(){return this.resource}setResource(e){this.resource=e}getResourceKind(){return this.resourceKind||Object(r.Db)(this.resource)}setResourceKind(e){this.resourceKind=e}setModel(e){super.setModel(e),"resource"in e&&(this.resource=e.resource),"resourceKind"in e&&(this.resourceKind=e.resourceKind)}}t.a=s},5653:function(e,t,n){"use strict";n.d(t,"g",(function(){return k})),n.d(t,"e",(function(){return R})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return N})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return C}));var a=n(5596),r=n(320),i=n(2338),s=n(689),o=n(5621),l=n(5624),c=n(77),u=n(5591),d=n(4359),p=n(10),m=n(15),h=n(5586),b=n(5620),g=n(5656),v=n(5588),f=n(5648),E=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const y={dryRun:"All"},k=e=>s.object().shape({name:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required")),gitUrl:s.string().matches(o.f,e("pipelines-plugin~Invalid Git URL.")).required(e("pipelines-plugin~Required")),accessToken:s.string(),webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(l.a,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers, underscores and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),j=e=>s.object().shape({webhook:s.object().when("gitProvider",{is:u.b.BITBUCKET,then:s.object().shape({user:s.string().matches(m.Yd,{message:e("pipelines-plugin~Name must consist of lower-case letters, numbers and hyphens. It must start with a letter and end with a letter or number."),excludeEmptyString:!0}).required(e("pipelines-plugin~Required"))})}).when(["method","gitProvider","gitUrl"],{is:(e,t,n)=>n&&t&&!(t===u.b.GITHUB&&e===u.b.GITHUB),then:s.object().shape({token:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef})),secretRef:s.string().test("oneOfRequired","Required",(function(){return this.parent.token||this.parent.secretRef}))})})}),R=e=>s.object().shape({repository:s.object().when(["pipelineType","pipelineEnabled"],{is:(e,t)=>e===b.a.PAC&&t,then:j(e)})}),O=(e,t)=>e.startsWith(`https://${t}/`)||e.startsWith(`https://www.${t}/`)||e.includes(`@${t}:`),P=e=>o.f.test(e)?O(e,"github.com")?u.b.GITHUB:O(e,"bitbucket.org")?u.b.BITBUCKET:O(e,"gitlab.com")?u.b.GITLAB:u.b.UNSURE:u.b.INVALID,S=(e,t,n={},i)=>E(void 0,void 0,void 0,(function*(){var s,o,l;const{name:m,gitUrl:b,webhook:{secretObj:g,method:v,token:k,secret:j,user:R}}=e,O=r.Base64.encode(j),S=P(b);let N;k&&"token"===v?N=yield((e,t,n,a,i,s,o)=>E(void 0,void 0,void 0,(function*(){const l={apiVersion:p.SecretModel.apiVersion,kind:p.SecretModel.kind,metadata:{generateName:e+"-token-",namespace:a},type:d.SecretType.opaque,stringData:Object.assign(Object.assign({"provider.token":n},s&&{"webhook.secret":s}),i===u.b.BITBUCKET&&{"webhook.auth":r.Base64.encode(`${t}:${n}`)})};return Object(c.g)({model:p.SecretModel,data:l,ns:a,queryParams:o?y:{}})})))(m,R,k,t,S,j,i):"secret"===v&&g&&(null===(s=null==g?void 0:g.data)||void 0===s?void 0:s["webhook.secret"])!==O&&(yield Object(c.p)({model:p.SecretModel,resource:g,data:[{op:"replace",path:"/data/webhook.secret",value:r.Base64.encode(j)}]}));const w=a(b).source,C=N||g,T={kind:h.RepositoryModel.kind,apiVersion:"pipelinesascode.tekton.dev/v1alpha1",metadata:Object.assign({name:m,namespace:t},n||{}),spec:Object.assign({url:b},C||"github.com"!==w?{git_provider:Object.assign(Object.assign(Object.assign({},f.j.includes(w)?{}:{url:w}),"bitbucket.org"===w?{user:R}:{}),C?{secret:{name:null===(o=null==C?void 0:C.metadata)||void 0===o?void 0:o.name,key:"provider.token"},webhook_secret:{name:null===(l=null==C?void 0:C.metadata)||void 0===l?void 0:l.name,key:"webhook.secret"}}:{})}:{})};return yield Object(c.g)({model:h.RepositoryModel,data:T,ns:t,queryParams:i?y:{}})})),N=(e,t,n)=>E(void 0,void 0,void 0,(function*(){var a,i,s;const{gitUrl:o,webhook:{method:l,token:c,secret:d,url:p,secretObj:m,user:h}}=e,b=P(o),g=Object(u.e)(o,b);let v,f=!0;n&&"false"===(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a["webhook-ssl-verification"])&&(f=!1),v=b===u.b.BITBUCKET?"token"===l?r.Base64.encode(`${h}:${c}`):r.Base64.decode(null===(i=null==m?void 0:m.data)||void 0===i?void 0:i["webhook.auth"]):"token"===l?c:r.Base64.decode(null===(s=null==m?void 0:m.data)||void 0===s?void 0:s["provider.token"]);return yield g.createRepoWebhook(v,p,f,d)})),w=e=>{if(!o.f.test(e))return;const t=e.replace(/\/$/,"").split("/").pop();return n=t,m.Yd.test(n)?"git-"+n:"git-"+i.a(n);var n},C=(e,t)=>E(void 0,void 0,void 0,(function*(){var n;let a;try{const[t]=yield Object(c.n)({model:p.ConfigMapModel,queryParams:{ns:v.g,labelSelector:{matchLabels:{"pipelinesascode.openshift.io/runtime":f.g[e]||e}}}});a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.template}catch(e){console.log("failed to fetch runtime template:",e)}return null!=a?a:yield(e=>E(void 0,void 0,void 0,(function*(){var t;let n=(e=>`apiVersion: tekton.dev/v1beta1\nkind: PipelineRun\nmetadata:\n  name: ${null!=e?e:"pull_request"}\n  annotations:\n    # The event we are targeting as seen from the webhook payload\n    # this can be an array too, i.e: [pull_request, push]\n    pipelinesascode.tekton.dev/on-event: "[pull_request, push]"\n\n    # The branch or tag we are targeting (ie: main, refs/tags/*)\n    pipelinesascode.tekton.dev/on-target-branch: "main"\n\n    # Fetch the git-clone task from hub, we are able to reference later on it\n    # with taskRef and it will automatically be embedded into our pipeline.\n    pipelinesascode.tekton.dev/task: "git-clone"\n\n    # You can add more tasks in here to reuse, browse the one you like from here\n    # https://hub.tekton.dev/\n    # example:\n    # pipelinesascode.tekton.dev/task-2: "[maven, buildah]"\n\n    # How many runs we want to keep attached to this event\n    pipelinesascode.tekton.dev/max-keep-runs: "5"\nspec:\n  params:\n    # The variable with brackets are special to Pipelines as Code\n    # They will automatically be expanded with the events from Github.\n    - name: repo_url\n      value: "{{ repo_url }}"\n    - name: revision\n      value: "{{ revision }}"\n  pipelineSpec:\n    params:\n      - name: repo_url\n      - name: revision\n    workspaces:\n      - name: source\n      - name: basic-auth\n    tasks:\n      - name: fetch-repository\n        taskRef:\n          name: git-clone\n        workspaces:\n          - name: output\n            workspace: source\n          - name: basic-auth\n            workspace: basic-auth\n        params:\n          - name: url\n            value: $(params.repo_url)\n          - name: revision\n            value: $(params.revision)\n\n      # Customize this task if you like, or just do a taskRef\n      # to one of the hub task.\n      - name: noop-task\n        runAfter:\n          - fetch-repository\n        workspaces:\n          - name: source\n            workspace: source\n        taskSpec:\n          workspaces:\n            - name: source\n          steps:\n            - name: noop-task\n              image: registry.access.redhat.com/ubi9/ubi-micro\n              workingDir: $(workspaces.source.path)\n              script: |\n                exit 0\n  workspaces:\n  - name: source\n    volumeClaimTemplate:\n      spec:\n        accessModes:\n          - ReadWriteOnce\n        resources:\n          requests:\n            storage: 1Gi\n  # This workspace will inject secret to help the git-clone task to be able to\n  # checkout the private repositories\n  - name: basic-auth\n    secret:\n      secretName: "{{ git_auth_secret }}"`)(e);try{const e=yield Object(c.j)({model:p.ConfigMapModel,ns:v.g,name:g.h});(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.template)&&(n=e.data.template)}catch(e){console.log("failed to fetch default template:",e)}return n})))(t)}))},5655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(689);const r=/^\/.*$/,i=e=>a.object().shape({containerName:a.string(),showForm:a.boolean(),enabled:a.boolean(),modified:a.boolean(),data:a.object().when("showForm",{is:!0,then:a.object().shape({periodSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Period must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),initialDelaySeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(0,e("devconsole~Initial delay must be greater than or equal to 0.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),failureThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Failure threshold must be greater than or equal to 1.")),timeoutSeconds:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Timeout must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),successThreshold:a.number().integer(e("devconsole~Value must be an integer.")).min(1,e("devconsole~Success threshold must be greater than or equal to 1.")).max(2147483647,e("devconsole~Value is larger than maximum value allowed.")),requestType:a.string(),httpGet:a.object().when("requestType",{is:"httpGet",then:a.object({path:a.string().matches(r,{message:e("devconsole~Path must start with /."),excludeEmptyString:!0}),port:a.number().required(e("devconsole~Required"))})}),tcpSocket:a.object().when("requestType",{is:"tcpSocket",then:a.object({port:a.number().required(e("devconsole~Required"))})}),exec:a.object().when("requestType",{is:"command",then:a.object({command:a.array().of(a.string().required(e("devconsole~Required")))})})})})}),s=e=>a.object().shape({readinessProbe:i(e),livenessProbe:i(e),startupProbe:i(e)})},5656:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="https://github.com/settings/apps/new",r="https://docs.github.com/en/developers/apps/getting-started-with-apps/about-apps#about-github-apps",i="https://api.github.com/app-manifests",s="pipelines-as-code-interceptor",o="pipelines-as-code-secret",l="pipelines-ci-clustername",c="pipelines-as-code-info",u="pipelines-as-code-pipelinerun-generic"},5659:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(2221);const r="operator-backed-service",i=a.h,s=a.f,o=a.g},5661:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(447),r=n(1941),i=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const s=e=>i(void 0,void 0,void 0,(function*(){var t,n,i;if(!(yield e.isFuncYamlPresent()))return{values:{}};const s=yield e.getFuncYamlContent();try{const e=a.a(s)?Object(r.c)(s):s,o=null===(t=null==e?void 0:e.build)||void 0===t?void 0:t.builder,l=null===(n=null==e?void 0:e.build)||void 0===n?void 0:n.buildEnvs,c=null==e?void 0:e.runtime;return{values:{builder:o,runtime:c,builderEnvs:l,runtimeEnvs:null===(i=null==e?void 0:e.run)||void 0===i?void 0:i.envs}}}catch(e){return{values:{}}}})),o=(e,t)=>i(void 0,void 0,void 0,(function*(){var n,a;if((yield t.isFuncYamlPresent())&&e){const e=yield t.getFuncYamlContent(),i=Object(r.c)(e);if(!(null===(n=null==i?void 0:i.build)||void 0===n?void 0:n.builder)||"s2i"===(null===(a=null==i?void 0:i.build)||void 0===a?void 0:a.builder))return!0}return!1}))},5663:function(e,t,n){"use strict";var a=n(5585),r=n(5619);const i=(e=a.AnchorEnd.both,t="")=>`${e}:${t}`;class s extends a.BaseElement{constructor(){super(),this.anchors={[i()]:new a.CenterAnchor(this)},this.dimensions=new a.Dimensions,this.dimensionsInitialized=!1,this.positioned=!1,this.uncollapsedCenter=null,this.position=new a.Point,this.group=!1,this.collapsed=!1,this.labelPosition=a.LabelPosition.bottom,this.shape=void 0,this.status=void 0,Object(r.p)(this,{anchors:r.q.shallow,dimensions:r.q.ref,dimensionsInitialized:r.q,position:r.q.ref,nodes:r.i,group:r.q,collapsed:r.q,labelPosition:r.q,shape:r.q,status:r.q,groupBounds:r.i,sourceEdges:r.i,targetEdges:r.i,setDimensions:r.f,setBounds:r.f,setPosition:r.f})}get nodes(){return this.isCollapsed()?[]:this.getChildren().filter(a.isNode)}get groupBounds(){const e=this.getChildren().filter(a.isNode).filter(e=>e.isVisible());if(!e.length)return this.getInternalBounds();let t;e.forEach(e=>{if(Object(a.isNode)(e)){const{padding:n}=e.getStyle(),a=e.getBounds();!e.isGroup()&&n&&a.padding(e.getStyle().padding),t?t.union(a):t=a.clone()}}),t||(t=new a.Rect);const{padding:n}=this.getStyle();return t.padding(n)}get sourceEdges(){return this.getGraph().getEdges().filter(e=>e.getSource()===this)}get targetEdges(){return this.getGraph().getEdges().filter(e=>e.getTarget()===this)}getChildren(){return this.isCollapsed()?super.getChildren().filter(a.isEdge):super.getChildren()}getAllNodeChildren(){return super.getChildren().reduce((e,t)=>(Object(a.isNode)(t)&&e.push(t.isGroup()?t.getAllNodeChildren():t),e),[])}getKind(){return a.ModelKind.node}getInternalBounds(){const{position:e,dimensions:t}=this;return new a.Rect(e.x,e.y,t.width,t.height)}getBounds(){return this.group&&!this.collapsed?this.groupBounds:this.getInternalBounds()}setBounds(e){const{width:t,height:n}=this.dimensions;e.width===t&&e.height===n||(this.dimensions=new a.Dimensions(e.width,e.height));const{x:r,y:i}=this.position;e.x===r&&e.y===i||this.setPosition(new a.Point(e.x,e.y))}getPosition(){return this.isGroup()&&this.getChildren().length&&!this.collapsed?this.getBounds().getCenter():this.position}updateChildrenPositions(e,t){const n=e.x-t.x,r=e.y-t.y;this.getChildren().forEach(e=>{if(Object(a.isNode)(e)){const t=e,i=t.getPosition(),s=new a.Point(i.x+n,i.y+r);t.setPosition(s)}})}setPosition(e){if(this.isGroup()&&this.getChildren().length&&!this.collapsed){const t=this.getBounds().getCenter();this.updateChildrenPositions(e,t)}else{this.position=e,this.positioned=!0;try{this.getController().fireEvent(a.NODE_POSITIONED_EVENT,{node:this})}catch(e){}}}isPositioned(){return this.positioned}getDimensions(){return this.dimensions}setDimensions(e){this.dimensions=e,this.dimensionsInitialized=!0}isDimensionsInitialized(){if(!this.dimensionsInitialized&&this.isGroup()){const e=this.getChildren().filter(a.isNode);if(0===e.length)return this.dimensionsInitialized;e.every(e=>e.isDimensionsInitialized())&&(this.dimensionsInitialized=!0)}return this.dimensionsInitialized}getAnchor(e,t){let n=this.anchors[i(e,t)];return!n&&t&&(n=this.anchors[i(e)]),n||e!==a.AnchorEnd.source&&e!==a.AnchorEnd.target||(n=this.anchors[i(a.AnchorEnd.both,t)],!n&&t&&(n=this.anchors[i(a.AnchorEnd.both)])),n}setAnchor(e,t,n){const a=i(t,n);e?this.anchors[a]=e:delete this.anchors[a]}getNodes(){return this.nodes}isGroup(){return this.group}setGroup(e){this.group=e}isCollapsed(){return this.collapsed}setCollapsed(e){if(e!==this.collapsed){const t=this.getBounds().getCenter();!e&&this.uncollapsedCenter?(this.updateChildrenPositions(t,this.uncollapsedCenter),this.uncollapsedCenter=null,this.collapsed=e):(this.uncollapsedCenter=e?t:null,this.collapsed=e,this.setBounds(this.getBounds().setCenter(t.x,t.y))),this.getController().fireEvent(a.NODE_COLLAPSE_CHANGE_EVENT,{node:this})}}getLabelPosition(){return this.labelPosition}setLabelPosition(e){this.labelPosition=e}getNodeShape(){return this.shape||(this.group?a.NodeShape.rect:a.NodeShape.ellipse)}setNodeShape(e){this.shape=e}getNodeStatus(){return this.status||a.NodeStatus.default}setNodeStatus(e){this.status=e}getSourceEdges(){return this.sourceEdges}getTargetEdges(){return this.targetEdges}isVisible(){return super.isVisible()&&this.isDimensionsInitialized()}setModel(e){let t,n;super.setModel(e),"width"in e&&null!=e.width&&e.width!==this.dimensions.width&&(t||(t=this.dimensions.clone()),t.width=e.width),"height"in e&&null!=e.height&&e.height!==this.dimensions.height&&(t||(t=this.dimensions.clone()),t.height=e.height),t&&this.setDimensions(t),"x"in e&&null!=e.x&&e.x!==this.position.x&&(n||(n=this.position.clone()),n.x=e.x),"y"in e&&null!=e.y&&e.y!==this.position.y&&(n||(n=this.position.clone()),n.y=e.y),n&&this.setPosition(n),"group"in e&&this.setGroup(!!e.group),"labelPosition"in e&&(this.labelPosition=e.labelPosition),"shape"in e&&(this.shape=e.shape),"status"in e&&(this.status=e.status),"collapsed"in e&&this.setCollapsed(!!e.collapsed)}toModel(){return Object.assign(Object.assign({},super.toModel()),{x:this.isPositioned()?this.getPosition().x:void 0,y:this.isPositioned()?this.getPosition().y:void 0,width:this.isDimensionsInitialized()?this.getDimensions().width:void 0,height:this.isDimensionsInitialized()?this.getDimensions().height:void 0,collapsed:this.isCollapsed(),group:this.isGroup(),labelPosition:this.labelPosition,shape:this.shape,status:this.status})}translateToParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(t,n)}}translateFromParent(e){if(!this.group||this.isCollapsed()){const{x:t,y:n}=this.getPosition();e.translate(-t,-n)}}}t.a=s},5664:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(31);const r=()=>Object(a.useSelector)(e=>e.UI.getIn(["overview","metrics"]))},5665:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5);const r=(e,t)=>{const n=t.current?t.current.pods:t.pods;let r=0,i=0;const s=[],o=[];return(null==n?void 0:n.length)&&n.forEach(({metadata:{name:t}})=>{var n,l;const c=null===(n=null==e?void 0:e.memory)||void 0===n?void 0:n[t];if(Number.isFinite(c)){r+=c;const e=Object(a.Ob)(c)+" MiB";s.push({name:t,value:c,formattedValue:e})}const u=null===(l=null==e?void 0:e.cpu)||void 0===l?void 0:l[t];if(Number.isFinite(u)){i+=u,o[t]=Object(a.Pb)(u)+" cores";const e=Object(a.Pb)(u)+" cores";o.push({name:t,value:u,formattedValue:e})}}),{totalBytes:r,totalCores:i,memoryByPod:s,cpuByPod:o}}},5667:function(e,t,n){"use strict";var a=n(0),r=n(516),i=n(164),s=n(4341),o=n(404),l=n(5794),c=n(5912),u=n(5),d=n(8),p=n(64),m=n(197),h=n(2245);t.a=({obj:e,path:t})=>{var n;const{podData:b,loadError:g,loaded:v}=Object(p.A)(e),f=Object(d.vb)(null==e?void 0:e.kind),E=a.useMemo(()=>v&&!g?Object(m.z)(Object.assign(Object.assign({},b),{obj:e})):{inProgressDeploymentData:null,completedDeploymentData:null},[g,v,b,e]),y=(null==b?void 0:b.current)&&(null==b?void 0:b.current.obj),k=(null==b?void 0:b.previous)&&(null==b?void 0:b.previous.obj),{inProgressDeploymentData:j,completedDeploymentData:R}=E,O=j&&y,P=j&&R?k:y;return v?a.createElement(r.a,{hasGutter:!0},a.createElement(i.a,null,a.createElement(h.a,{key:j?"deploy":"notDeploy",pods:R,rc:(null==b?void 0:b.isRollingOut)?P:null===(n=null==b?void 0:b.current)||void 0===n?void 0:n.obj,resourceKind:f,obj:e,path:t,enableScaling:!(null==b?void 0:b.isRollingOut)})),j&&a.createElement(a.Fragment,null,a.createElement(i.a,null,a.createElement(s.a,null,a.createElement(o.a,{size:"xl"},a.createElement(l.a,{color:c.global_Color_200.value})))),a.createElement(i.a,null,a.createElement(h.a,{pods:j,rc:O,resourceKind:f,obj:e,path:t,enableScaling:!1})))):a.createElement(u.T,null)}},5671:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5589);const r=(e,t,n=null)=>Object(a.b)(Object(a.g)(e),Object(a.g)(t),n?Object(a.g)(n):null)},5672:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(5668),i=n(5),s=n(8),o=n(5589);const l=e=>t=>{const n=n=>{const r=Object(o.g)(n.element),l=Object(s.vb)(Object(s.Db)(r)),c=Object(i.Dc)({group:l.apiGroup,verb:e,resource:l.plural,name:r.metadata.name,namespace:r.metadata.namespace});return a.createElement(t,Object.assign({},n,{canEdit:c}))};return n.displayName=`withEditReviewAccess(${t.displayName||t.name})`,Object(r.a)(n)}},5678:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(22),i=n(15),s=n(5665),o=n(5664);const l=e=>{const t=Object(o.a)(),{podData:n,loaded:l}=Object(i.Se)(e,e.kind,e.metadata.namespace);return a.useMemo(()=>r.a(t)||!l?null:Object(s.a)(t,n),[l,t,n])}},5679:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(7),i=n(131),s=n(15),o=n(5589);const l=e=>Object(i.n)({title:a.createElement(a.Fragment,null,a.createElement(s.tc,{className:"co-icon-space-r"})," ",a.createElement(r.Trans,{ns:"topology"},"Delete Connector?")),messageKey:"topology~Deleting the visual connector removes the `connects-to` annotation from the resources. Are you sure you want to delete the visual connector?",btnTextKey:"topology~Delete",submitDanger:!0,executeFn:()=>Object(o.l)(e).catch(e=>{e&&Object(i.s)({error:e.message})})})},5680:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(7),i=n(131),s=n(5589);const o=(e,t)=>{const n=e.getParent()!==e.getGraph()?e.getParent():void 0;if(n===t)return Promise.reject();if(n){const o=t?"topology~Move component node":"topology~Remove component node from application",l=e.getLabel(),c=n.getLabel(),u=null==t?void 0:t.getLabel(),d=t?a.createElement(r.Trans,{ns:"topology"},"Are you sure you want to move ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c}," to"," ",{targetLabel:u},"?"):a.createElement(r.Trans,{ns:"topology"},"Are you sure you want to remove ",a.createElement("strong",null,{nodeLabel:l})," from ",{sourceLabel:c},"?"),p=t?"topology~Move":"topology~Remove";return new Promise((n,a)=>{Object(i.n)({titleKey:o,message:d,btnTextKey:p,close:()=>{a()},cancel:()=>{a()},executeFn:()=>Object(s.m)(e,t?t.getLabel():null).then(n).catch(e=>{const t=e.message;Object(i.s)({error:t}),a(e)})})})}return Object(s.m)(e,t.getLabel()).catch(e=>{const t=e.message;Object(i.s)({error:t})})}},5686:function(e,t,n){"use strict";var a=n(0);n(5887);t.a=({children:e})=>a.createElement("div",{className:"ocs-sidebar-tabsection"},e)},5700:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var a=n(0),r=n(108),i=n(10),s=n(15),o=n(5594);const l=(e,[t,n])=>n?t.reduce((t,{properties:{adapt:n}})=>{const a=n(e);return null!=a?a:t},void 0):void 0,c=e=>{const t=Object(s.ve)(e),{podData:n,loaded:r,loadError:i}=Object(s.Se)(e);return a.useMemo(()=>({pods:null==n?void 0:n.pods,loaded:r,loadError:i,buildConfigData:t}),[t,i,r,n])},u=e=>{const t=Object(o.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.JobModel.kind,i.PodModel.kind].includes(t.kind))return{resource:t,provider:c}},d=e=>{const t=Object(o.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.CronJobModel.kind].includes(t.kind))return{resource:t,provider:s.ve}},p=e=>{const t=Object(o.f)(e);if(t&&t&&[i.DeploymentConfigModel.kind,i.DeploymentModel.kind,i.DaemonSetModel.kind,i.StatefulSetModel.kind,i.PodModel.kind].includes(t.kind))return{resource:t}},m=e=>{const{jobs:t}=Object(s.Le)(e),{metadata:{namespace:n}}=e,[i,o]=a.useState([]),[l,c]=a.useState(!1),[u,d]=a.useState(""),p=a.useMemo(()=>Object(s.Fd)("CronJob",n),[n]),m=Object(r.b)(p);return a.useEffect(()=>{const e=Object.keys(m).find(e=>m[e].loadError);if(e)d(m[e].loadError);else if(d(""),Object.keys(m).length>0&&Object.keys(m).every(e=>m[e].loaded)){const e=(null==t?void 0:t.length)?t.reduce((e,t)=>(e.push(...Object(s.vd)(t,m)),e),[]):[];o(e),c(!0)}},[t,m]),{pods:i,loaded:l,loadError:u}},h=e=>{const t=Object(o.f)(e);if(t&&t.kind===i.CronJobModel.kind)return{resource:t,provider:m}}},5721:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(400),r=n(8);const i=e=>{var t,n,r;const i=null===(r=null===(n=null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.template)||void 0===n?void 0:n.spec)||void 0===r?void 0:r.containers;return a.a(i,e=>e.readinessProbe||e.livenessProbe||e.startupProbe)},s=(e,t)=>{var n,a,i,s;const{kind:o,metadata:{name:l,namespace:c}}=t,u=e.crd?Object(r.Db)(t):o,d=null===(i=null===(a=null===(n=null==t?void 0:t.spec)||void 0===n?void 0:n.template)||void 0===a?void 0:a.spec)||void 0===i?void 0:i.containers;return`/k8s/ns/${c}/${u}/${l}/containers/${null===(s=null==d?void 0:d[0])||void 0===s?void 0:s.name}/health-checks`},o=(e,t)=>({labelKey:"console-app~Add Health Checks",hidden:i(t),href:s(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"update"}}),l=(e,t)=>({labelKey:"console-app~Edit Health Checks",hidden:!i(t),href:s(e,t),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"get"}})},5722:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(29),r=n(131),i=n(5),s=n(8);const o={Delete:(e,t,n,s)=>({id:"delete-resource",label:a.a.t("console-app~Delete {{kind}}",{kind:e.kind}),cta:()=>Object(r.q)({kind:e,resource:t,message:s}),accessReview:Object(i.Eb)(e,t,"delete")}),Edit:(e,t)=>({id:"edit-resource",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(i.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/yaml"},accessReview:Object(i.Eb)(e,t,"update")}),ModifyLabels:(e,t)=>({id:"edit-labels",label:a.a.t("console-app~Edit labels"),cta:()=>Object(r.v)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyAnnotations:(e,t)=>({id:"edit-annotations",label:a.a.t("console-app~Edit annotations"),cta:()=>Object(r.b)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyCount:(e,t)=>({id:"edit-pod-count",label:a.a.t("console-app~Edit Pod count"),cta:()=>Object(r.l)({resourceKind:e,resource:t}),accessReview:Object(i.Eb)(e,t,"patch","scale")}),ModifyPodSelector:(e,t)=>({id:"edit-pod-selector",label:a.a.t("console-app~Edit Pod selector"),cta:()=>Object(r.x)({kind:e,resource:t,blocking:!0}),accessReview:Object(i.Eb)(e,t,"patch")}),ModifyTolerations:(e,t)=>({id:"edit-toleration",label:a.a.t("console-app~Edit tolerations"),cta:()=>Object(r.D)({resourceKind:e,resource:t,modalClassName:"modal-lg"}),accessReview:Object(i.Eb)(e,t,"patch")}),AddStorage:(e,t)=>({id:"add-storage",label:a.a.t("console-app~Add storage"),cta:{href:Object(i.sc)(t,e.crd?Object(s.Hb)(e):e.kind)+"/attach-storage"},accessReview:Object(i.Eb)(e,t,"patch")})},l=(e,t,n)=>[o.ModifyLabels(e,t),o.ModifyAnnotations(e,t),o.Edit(e,t),o.Delete(e,t,void 0,n)]},5742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Promise.all([n.e(0),n.e(1),n.e(20),n.e(261)]).then(n.bind(null,6018)).then(t=>t.resourceLimitsModal(e))},5758:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(0),r=n(18),i=n(54),s=n(14),o=n(40),l=n(7),c=n(29),u=n(5);const d=["","",r("pf-m-hidden","pf-m-visible-on-sm","pf-v5-u-w-16-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),r("pf-m-hidden","pf-m-visible-on-lg"),u.F.columnClass],p=({obj:e,kind:t,menuActions:n,customActionMenu:i,customData:c})=>{const{t:p}=Object(l.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(o.k,{className:d[0]},a.createElement(u.hb,{kind:t,name:e.metadata.name,namespace:e.metadata.namespace})),a.createElement(o.k,{className:r(d[1],"co-break-word"),columnID:"namespace"},a.createElement(u.hb,{kind:"Namespace",name:e.metadata.namespace})),a.createElement(o.k,{className:d[2]},a.createElement(s.Link,{to:Object(u.tc)(t,e.metadata.name,e.metadata.namespace)+"/pods",title:"pods"},p("public~{{statusReplicas}} of {{specReplicas}} pods",{statusReplicas:e.status.replicas||0,specReplicas:e.spec.replicas}))),a.createElement(o.k,{className:d[3]},a.createElement(u.L,{kind:t,labels:e.metadata.labels})),a.createElement(o.k,{className:d[4]},a.createElement(u.pb,{selector:e.spec.selector,namespace:e.metadata.namespace})),a.createElement(o.k,{className:d[5]},i||a.createElement(u.gb,{actions:n,kind:t,resource:e,customData:c})))};p.displayName="WorkloadTableRow";const m=()=>[{title:c.a.t("public~Name"),sortField:"metadata.name",transforms:[i.a],props:{className:d[0]}},{title:c.a.t("public~Namespace"),sortField:"metadata.namespace",transforms:[i.a],props:{className:d[1]},id:"namespace"},{title:c.a.t("public~Status"),sortFunc:"numReplicas",transforms:[i.a],props:{className:d[2]}},{title:c.a.t("public~Labels"),sortField:"metadata.labels",transforms:[i.a],props:{className:d[3]}},{title:c.a.t("public~Pod selector"),sortField:"spec.selector",transforms:[i.a],props:{className:d[4]}},{title:"",props:{className:d[5]}}];m.displayName="WorkloadTableHeader"},5766:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5742);const r=(e,t)=>({labelKey:"console-app~Edit resource limits",callback:()=>Object(a.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}})},5767:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(10),r=n(8),i=n(15);const s=e=>Array.isArray(null==e?void 0:e.hpas)&&e.hpas.length>0,o=({metadata:{name:e,namespace:t}},n)=>`/workload-hpa/ns/${t}/${Object(r.Hb)(n)}/${e}`,l=(e,t)=>Object(i.Qd)(e)||((e,t)=>(null==t?void 0:t.isOperatorBacked)||Object(i.Ud)(e,null==t?void 0:t.csvs))(e,t),c=(e,t,n,r)=>({labelKey:"console-app~Add HorizontalPodAutoscaler",href:o(t,e),hidden:s(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"create"}}),u=(e,t,n,r)=>({labelKey:"console-app~Edit HorizontalPodAutoscaler",href:o(t,e),hidden:!s(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"update"}}),d=(e,t,n,r)=>({labelKey:"console-app~Remove HorizontalPodAutoscaler",callback:()=>{var e;Object(i.zc)({workload:t,hpa:null===(e=null==n?void 0:n.hpas)||void 0===e?void 0:e[0]})},hidden:!s(n)||l(t,r),accessReview:{group:a.HorizontalPodAutoscalerModel.apiGroup,resource:a.HorizontalPodAutoscalerModel.plural,namespace:t.metadata.namespace,verb:"delete"}}),p=e=>(t,n,a)=>{const r=e(t,n);return Object.assign(Object.assign({},r),{hidden:s(a)||r.hidden})}},5794:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(34);const r=Object(a.a)({name:"LongArrowAltRightIcon",height:512,width:448,svgPath:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z",yOffset:0,xOffset:0})},5811:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(5),s=n(10),o=n(5667),l=n(5594);const c=({cronjob:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(o.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement(i.lb,{resource:e,showPodSelector:!0},a.createElement(i.r,{label:t("topology~Schedule"),obj:e,path:"spec.schedule"}),a.createElement(i.r,{label:t("topology~Concurrency policy"),obj:e,path:"spec.concurrencyPolicy"}),a.createElement(i.r,{label:t("topology~Starting deadline seconds"),obj:e,path:"spec.startingDeadlineSeconds"},e.spec.startingDeadlineSeconds?t("topology~second",{count:e.spec.startingDeadlineSeconds}):t("topology~Not configured")),a.createElement(i.r,{label:t("topology~Last schedule time"),obj:e,path:"status.lastScheduleTime"},a.createElement(i.xb,{timestamp:e.status.lastScheduleTime}))))},u=e=>{const t=Object(l.f)(e);if(!t||t.kind!==s.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{cronjob:t}),!0,void 0]}},5812:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(4371),i=n(5),s=n(10),o=n(15),l=n(5594);const c=({ds:e})=>{var t;const{namespace:n}=e.metadata,{podData:l,loaded:c,loadError:u}=Object(o.Se)(e,"DaemonSet",n);return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(i.wb,{loaded:c,data:l,loadError:u},a.createElement(o.Ab,{pods:null!==(t=null==l?void 0:l.pods)&&void 0!==t?t:[],resourceKind:s.DaemonSetModel,obj:e,enableScaling:!1}))),a.createElement("div",{className:"resource-overview__summary"},a.createElement(i.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.DaemonSetDetailsList,{ds:e})))},u=e=>{const t=Object(l.f)(e);if(!t||t.kind!==s.DaemonSetModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{ds:t}),!0,void 0]}},5813:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(4368),s=n(5),o=n(10),l=n(5667),c=n(5594);const u=({dc:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(s.Db,{obj:e,model:o.DeploymentConfigModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(s.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(s.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(i.DeploymentConfigDetailsList,{dc:e})))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==o.DeploymentConfigModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{dc:t}),!0,void 0]}},5814:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(4372),s=n(5),o=n(10),l=n(5667),c=n(5594);const u=({deployment:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},e.spec.paused&&a.createElement(s.Db,{obj:e,model:o.DeploymentModel}),a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(s.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0},a.createElement("dt",null,t("topology~Status")),a.createElement("dd",null,e.status.availableReplicas===e.status.updatedReplicas?t("topology~Active"):a.createElement("div",null,a.createElement("span",{className:"co-icon-space-r"},a.createElement(s.T,null))," ",t("topology~Updating"))))),a.createElement("div",{className:"resource-overview__details"},a.createElement(i.DeploymentDetailsList,{deployment:e})))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==o.DeploymentModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{deployment:t}),!0,void 0]}},5815:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(7),i=n(5),s=n(10),o=n(15),l=n(5667),c=n(5594);const u=({job:e})=>{var t;const{namespace:n}=e.metadata,{podData:s,loaded:c,loadError:u}=Object(o.Se)(e,"Job",n),{t:d}=Object(r.useTranslation)();return a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(i.wb,{loaded:c,data:s,loadError:u},a.createElement(l.a,{key:e.metadata.uid,obj:e,path:""}))),a.createElement(i.lb,{resource:e,showPodSelector:!0},a.createElement(i.r,{label:d("topology~Desired completions"),obj:e,path:"spec.completions"}),a.createElement(i.r,{label:d("topology~Parallelism"),obj:e,path:"spec.parallelism"}),a.createElement(i.r,{label:d("topology~Active deadline seconds"),obj:e,path:"spec.activeDeadlineSeconds"},(null===(t=e.spec)||void 0===t?void 0:t.activeDeadlineSeconds)?Object(i.oc)(e.spec.activeDeadlineSeconds,"second"):d("topology~Not configured"))))},d=e=>{const t=Object(c.f)(e);if(!t||t.kind!==s.JobModel.kind)return[void 0,!0,void 0];return[a.createElement(u,{job:t}),!0,void 0]}},5816:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(13),i=n(5945),s=n(5686),o=n(5817),l=n(5700);const c=({id:e,podAdapter:t,podAdapterExtensionResolved:n})=>{const[{data:r,loaded:l},c]=a.useState({loaded:!1}),u=a.useCallback(e=>{var n;"CronJob"===(null===(n=null==t?void 0:t.resource)||void 0===n?void 0:n.kind)?setTimeout(()=>c({data:e,loaded:!0}),3e3):c({data:e,loaded:!0})},[t]);return t?a.createElement(s.a,null,n&&a.createElement(o.a,{key:e,resource:t.resource,data:t.data,useAdapterHook:t.provider,onAdapterDataResolved:u}),l&&r.loaded&&!r.loadError&&a.createElement(i.a,Object.assign({obj:t.resource},r))):null},u=e=>{const[t,n]=Object(r.kc)(r.Db),i=a.useMemo(()=>Object(l.b)(e,[t,n]),[e,t,n]);if(!i)return[void 0,!0,void 0];return[a.createElement(c,{id:e.getId(),podAdapter:i,podAdapterExtensionResolved:n}),!0,void 0]}},5817:function(e,t,n){"use strict";var a=n(0);t.a=({resource:e,data:t,useAdapterHook:n,onAdapterDataResolved:r})=>{const i=n(e,t);return a.useEffect(()=>{i&&r(i)},[i]),null}},5818:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(5),i=n(10),s=n(5667),o=n(5594);const l=({ss:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(s.a,{key:e.metadata.uid,obj:e,path:"/spec/replicas"})),a.createElement(r.lb,{resource:e,showPodSelector:!0,showNodeSelector:!0,showTolerations:!0})),c=e=>{const t=Object(o.f)(e);if(!t||t.kind!==i.StatefulSetModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{ss:t}),!0,void 0]}},5819:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(14),i=n(5),s=n(8),o=n(5594);const l=e=>{const t=Object(o.f)(e);if(!t)return null;const n=Object(s.Db)(t);return a.createElement(a.Fragment,null,a.createElement(i.fb,{className:"co-m-resource-icon--lg",kind:n}),a.createElement(r.Link,{to:Object(i.tc)(n,t.metadata.name,t.metadata.namespace),className:"co-resource-item__resource-name"},t.metadata.name))}},5820:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(13),i=n(5686),s=n(5946),o=n(5817),l=n(5700);const c=({id:e,buildAdapter:t,extensionsResolved:n})=>{const[{data:r,loaded:l},c]=a.useState({loaded:!1}),u=a.useCallback(e=>{c({data:e,loaded:!0})},[]);return t?a.createElement(i.a,null,n&&a.createElement(o.a,{key:e,resource:t.resource,useAdapterHook:t.provider,onAdapterDataResolved:u}),l&&a.createElement(s.a,{buildConfigs:r.buildConfigs})):null},u=e=>{const[t,n]=Object(r.kc)(r.S),i=a.useMemo(()=>Object(l.b)(e,[t,n]),[t,e,n]);if(!i)return[void 0,!0,void 0];return[a.createElement(c,{id:e.getId(),buildAdapter:i,extensionsResolved:n}),!0,void 0]}},5821:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(13),i=n(5686),s=n(5947),o=n(5700);const l=({networkAdapter:e})=>e?a.createElement(i.a,null,a.createElement(s.a,{obj:e.resource})):null,c=e=>{const[t,n]=Object(r.kc)(r.zb),i=a.useMemo(()=>Object(o.b)(e,[t,n]),[e,n,t]);if(!i)return[void 0,!0,void 0];return[a.createElement(l,{networkAdapter:i}),!0,void 0]}},5822:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(10),i=n(15),s=n(5594),o=n(5686),l=n(5948);const c=({resource:e})=>{const{jobs:t}=Object(i.Le)(e);return a.createElement(o.a,null,a.createElement(l.a,{obj:e,jobs:t}))},u=e=>{const t=Object(s.f)(e);if(!t||t.kind!==r.CronJobModel.kind)return[void 0,!0,void 0];return[a.createElement(c,{resource:t}),!0,void 0]}},5823:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1410),i=n(10),s=n(5667),o=n(5594);const l=({pod:e})=>a.createElement("div",{className:"overview__sidebar-pane-body resource-overview__body"},a.createElement("div",{className:"resource-overview__pod-counts"},a.createElement(s.a,{key:e.metadata.uid,obj:e,path:""})),a.createElement("div",{className:"resource-overview__summary"},a.createElement(r.PodResourceSummary,{pod:e})),a.createElement("div",{className:"resource-overview__details"},a.createElement(r.PodDetailsList,{pod:e}))),c=e=>{const t=Object(o.f)(e);if(!t||t.kind!==i.PodModel.kind)return[void 0,!0,void 0];return[a.createElement(l,{pod:t}),!0,void 0]}},5824:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var a=n(0),r=n(1923),i=n(7),s=n(14),o=n(5722),l=n(5847),c=n(13),u=n(10),d=n(8),p=n(1402),m=n(172),h=n(5594);const b=[Object(d.Hb)(u.DeploymentConfigModel),Object(d.Hb)(u.DeploymentModel),Object(d.Hb)(u.DaemonSetModel),Object(d.Hb)(u.StatefulSetModel),Object(d.Hb)(p.l)],g=e=>{var t,n,r,o,l;const u=Object(h.f)(e),p=null==u?void 0:u.kind,m=null===(t=null==u?void 0:u.metadata)||void 0===t?void 0:t.name,g=null===(n=null==u?void 0:u.metadata)||void 0===n?void 0:n.namespace,{t:v}=Object(i.useTranslation)(),f=u?Object(d.Db)(u):void 0,E=f?Object(d.vb)(f):void 0,y=(null==E?void 0:E.crd)?f:p,[k,j]=Object(c.hc)({group:null==E?void 0:E.apiGroup,resource:null==E?void 0:E.plural,namespace:g,name:m,verb:"update"});if(!u||!b.includes(Object(d.Db)(u)))return null;const R=null===(l=null===(o=null===(r=null==u?void 0:u.spec)||void 0===r?void 0:r.template)||void 0===o?void 0:o.spec)||void 0===l?void 0:l.containers,O=null==R?void 0:R.map(e=>e.name),P=!(null==R?void 0:R.every(e=>e.readinessProbe||e.livenessProbe||e.startupProbe))&&k&&!j,S=`/k8s/ns/${g}/${y}/${m}/containers/${O[0]}/health-checks`,N=(null==O?void 0:O.length)>1?v("topology~Not all Containers have health checks to ensure your application is running correctly."):v("topology~Container {{containersName}} does not have health checks to ensure your application is running correctly.",{containersName:O});return P?{title:v("topology~Health checks"),dismissible:!0,content:a.createElement(a.Fragment,null,N," ",a.createElement(s.Link,{to:S},v("topology~Add health checks"))),variant:"custom"}:null},v=e=>{var t,n,s,p,b,g,v;const{t:f}=Object(i.useTranslation)(),E=Object(m.a)(),y=Object(h.f)(e),k=null===(t=null==y?void 0:y.metadata)||void 0===t?void 0:t.name,j=null===(n=null==y?void 0:y.metadata)||void 0===n?void 0:n.namespace,[R,O]=Object(c.hc)({group:u.DeploymentModel.apiGroup,resource:u.DeploymentModel.plural,namespace:j,name:k,verb:"patch"});if(!y||Object(d.Hb)(u.DeploymentModel)!==Object(d.Db)(y))return null;const P=(null!==(p=null===(s=y.status)||void 0===s?void 0:s.conditions)&&void 0!==p?p:[]).find(e=>"ReplicaFailure"===e.type),S=null!==(b=null==P?void 0:P.message)&&void 0!==b?b:"",N=null!==(v=null===(g=S.split(":"))||void 0===g?void 0:g[3])&&void 0!==v?v:"";let w;N.includes("limits")?w=l.a.EditResourceLimits(u.DeploymentModel,y):N.includes("pods")&&(w=o.a.ModifyCount(u.DeploymentModel,y));const C=w&&R&&!O,T=null==w?void 0:w.cta,D=C?a.createElement(r.a,{onClick:()=>{E("Resource Quota Warning Alert Action Link Clicked"),T()}},w.label):void 0;return P?{title:f("topology~Resource Quotas"),dismissible:!0,content:S,actionLinks:D,variant:"warning"}:null}},5825:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),r=n(7),i=n(91),s=n(5),o=n(108),l=n(15),c=n(2221),u=n(5594),d=n(5686);const p=({vpas:e})=>{const{t:t}=Object(r.useTranslation)();return a.createElement(a.Fragment,null,a.createElement(s.ub,{text:t("topology~VerticalPodAutoscalers")}),a.createElement("ul",{className:"list-group"},e.map(e=>a.createElement("li",{key:e.metadata.name,className:"list-group-item"},a.createElement(s.hb,{groupVersionKind:Object(i.d)(e),name:e.metadata.name,namespace:e.metadata.namespace})))))},m=e=>{const[t]=Object(o.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},isList:!0,namespaced:!0});if(e.getType()!==c.y)return[void 0,!0,void 0];const n=Object(u.f)(e),r=Object(l.Ld)(t,n);return[r.length>0?a.createElement(d.a,null,a.createElement(p,{vpas:r})):void 0,!0,void 0]}},5847:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(29),r=n(77),i=n(131),s=n(5),o=n(10),l=n(8),c=n(769),u=n(5742),d=n(2240);const p=(e,t)=>Object(r.p)({model:e,resource:t,data:[{path:"/metadata/annotations/openshift.io~1deployment.phase",op:"replace",value:"New"},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"add",value:""},{path:"/metadata/annotations/openshift.io~1deployment.cancelled",op:"remove"},{path:"/metadata/annotations/openshift.io~1deployment.status-reason",op:"remove"}]}),m={EditDeployment:(e,t)=>({id:"edit-deployment",label:a.a.t("console-app~Edit {{kind}}",{kind:e.kind}),cta:{href:Object(s.sc)(t,e.crd?Object(l.Hb)(e):e.kind)+"/form"},accessReview:Object(s.Eb)(e,t,"update")}),UpdateStrategy:(e,t)=>({id:"edit-update-strategy",label:a.a.t("console-app~Edit update strategy"),cta:()=>Object(i.m)({deployment:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),PauseRollout:(e,t)=>({id:"pause-rollout",label:t.spec.paused?a.a.t("console-app~Resume rollouts"):a.a.t("console-app~Pause rollouts"),cta:()=>Object(s.Ac)(e,t).catch(e=>Object(i.s)({error:e.message})),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),RestartRollout:(e,t)=>({id:"restart-rollout",label:a.a.t("console-app~Restart rollout"),cta:()=>((e,t)=>{const n=[];return"annotations"in t.spec.template.metadata||n.push({path:"/spec/template/metadata/annotations",op:"add",value:{}}),n.push({path:"/spec/template/metadata/annotations/openshift.openshift.io~1restartedAt",op:"add",value:new Date}),Object(r.p)({model:e,resource:t,data:n})})(e,t).catch(e=>Object(i.s)({error:e.message})),disabled:t.spec.paused||!1,disabledTooltip:"The deployment is paused and cannot be restarted.",accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),StartDCRollout:(e,t)=>({id:"start-rollout",label:a.a.t("console-app~Start rollout"),cta:()=>(e=>{const t={kind:"DeploymentRequest",apiVersion:"apps.openshift.io/v1",name:e.metadata.name,latest:!0,force:!0},n={name:e.metadata.name,ns:e.metadata.namespace,path:"instantiate"};return Object(l.jb)(o.DeploymentConfigModel,t,n)})(t).catch(e=>{const t=e.message;Object(i.s)({error:t})}),accessReview:{group:e.apiGroup,resource:e.plural,subresource:"instantiate",name:t.metadata.name,namespace:t.metadata.namespace,verb:"create"}}),EditResourceLimits:(e,t)=>({id:"edit-resource-limits",label:a.a.t("console-app~Edit resource limits"),cta:()=>Object(u.a)({model:e,resource:t}),accessReview:{group:e.apiGroup,resource:e.plural,name:t.metadata.name,namespace:t.metadata.namespace,verb:"patch"}}),CreateServiceBinding:(e,t)=>({id:"create-service-binding",label:a.a.t("console-app~Create Service Binding"),cta:()=>Object(d.a)({model:e,source:t}),accessReview:Object(s.Eb)(c.a,t,"create")})}},5887:function(e,t,n){},5912:function(e,t,n){"use strict";t.__esModule=!0,t.global_Color_200={name:"--pf-v5-global--Color--200",value:"#6a6e73",var:"var(--pf-v5-global--Color--200)"},t.default=t.global_Color_200},5922:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(7),i=n(91),s=n(108),o=n(99),l=n(15);const c=({obj:e})=>{var t,n,i;const{t:s}=Object(r.useTranslation)(),o=null!==(i=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.recommendation)||void 0===n?void 0:n.containerRecommendations)&&void 0!==i?i:[];return a.createElement(a.Fragment,null,o.length>0&&a.createElement("p",null,s("console-app~Recommended")),o.map(e=>a.createElement(a.Fragment,{key:e.containerName},a.createElement("div",null,s("console-app~Container name"),": ",e.containerName),a.createElement("div",null,s("console-app~CPU"),": ",e.target.cpu),a.createElement("div",null,s("console-app~Memory"),": ",e.target.memory))))},u=({obj:e})=>{var t;const{t:n}=Object(r.useTranslation)(),[u]=Object(s.a)({groupVersionKind:{group:"autoscaling.k8s.io",version:"v1",kind:"VerticalPodAutoscaler"},namespace:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.namespace,isList:!0,namespaced:!0}),d=Object(l.Ld)(u,e);return a.createElement(a.Fragment,null,a.createElement("dt",null,n("console-app~VerticalPodAutoscalers")),a.createElement("dd",null,d.length>0?d.map(e=>{var t,n;return a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(o.ResourceLink,{groupVersionKind:Object(i.d)(e),name:null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.name,namespace:null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.namespace})),a.createElement(c,{obj:e}))}):n("console-app~No VerticalPodAutoscalers")))}},5945:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(0),r=n(80),i=n(1923),s=n(16),o=n(255),l=n(1533),c=n(6772),u=n(240),d=n(50),p=n(279),m=n(116),h=n(22),b=n(4440),g=n(7),v=n(14),f=n(1410),E=n(1955),y=n(5),k=n(108),j=n(8);n(15);const R=e=>{const t=[...s.a(e,"status.containerStatuses",[]),...s.a(e,"status.initContainerStatuses",[])],n=o.a(t,(t,n)=>n.state.running?[...t,s.a(n,"state.running.startedAt")]:n.state.terminated?[...t,s.a(n,"state.terminated.finishedAt")]:n.lastState.running?[...t,s.a(n,"lastState.running.startedAt")]:n.lastState.terminated?[...t,s.a(n,"lastState.terminated.finishedAt")]:[...t,s.a(n,s.a(e,"startTime"))],[]);return l.a(c.a(n.sort()))},O=["ContainerCannotRun","CrashLoopBackOff","Critical","Error","Failed","InstallCheckFailed","Cancelled","Expired","Not Ready","Terminating"],P=e=>u.a(O,Object(j.zb)(e)),S=e=>"Evicted"===Object(j.zb)(e),N=(e,t)=>{const n=P(e);if(n!==P(t))return n?-1:1;const a=S(e);if(a!==S(t))return a?1:-1;const r=R(e),i=R(t);return r<i?1:r>i?-1:e.metadata.name.localeCompare(t.metadata.name)},w=({pod:e})=>{const{metadata:{name:t,namespace:n}}=e,{t:r}=Object(g.useTranslation)();return a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"row"},a.createElement("span",{className:"col-xs-5"},a.createElement(y.hb,{kind:"Pod",name:t,namespace:n})),a.createElement("span",{className:"col-xs-3"},a.createElement(f.PodStatus,{pod:e})),a.createElement("span",{className:"col-xs-1"},a.createElement(E.a,{podName:t,namespace:n,tooltipFlag:!0})),a.createElement("span",{className:"col-xs-3 text-right"},a.createElement(v.Link,{to:Object(y.tc)("Pod",t,n)+"/logs"},r("public~View logs")))))};w.displayName="PodOverviewItem";const C=({pods:e})=>a.createElement("ul",{className:"list-group"},d.a(e,e=>a.createElement(w,{key:e.metadata.uid,pod:e})));C.displayName="PodsOverviewList";const T=({obj:e,pods:t,loaded:n,loadError:s,allPodsLink:o,emptyText:l,buildConfigData:c})=>{var u;const{metadata:{name:d,namespace:f}}=e,{t:E}=Object(g.useTranslation)(),[R,O]=a.useState(!1),S=((e,t)=>{const n={buildRunBeta:{groupVersionKind:{group:"shipwright.io",version:"v1beta1",kind:"BuildRun"},namespace:e},buildRunAlpha:{groupVersionKind:{group:"shipwright.io",version:"v1alpha1",kind:"BuildRun"},namespace:e}},r=Object(k.b)(n);return a.useMemo(()=>{const e=Object.assign(Object.assign({},r.buildRunBeta.data||{}),r.buildRunAlpha.data||{});return Object.keys(e).filter(n=>{var a,r;return(null===(r=null===(a=e[n].spec)||void 0===a?void 0:a.build)||void 0===r?void 0:r.name)===t}).map(t=>e[t])},[r,t])})(f,d),w=(null===(u=null==c?void 0:c.buildConfigs)||void 0===u?void 0:u.length)>0&&!c.buildConfigs[0].builds.some(e=>(e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.completionTimestamp})(e)),T=(null==S?void 0:S.length)>0&&!S.some(e=>(e=>{var t,n;const a=null===(n=null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.find(e=>"Succeeded"===e.type);return("True"===(null==a?void 0:a.status)||"False"===(null==a?void 0:a.status))&&"Succeeded"===(null==a?void 0:a.reason)})(e)),D=(w||T)&&(e=>{var t,n;return"Deployment"===e.kind&&"OpenShiftWebConsole"===(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.annotations)||void 0===n?void 0:n["openshift.io/generated-by"])})(e);let _=[...t];D&&!R&&(_=_.filter(e=>!(e=>{var t,n,a;return"Pending"===(null===(t=e.status)||void 0===t?void 0:t.phase)&&(null===(a=null===(n=e.status)||void 0===n?void 0:n.containerStatuses)||void 0===a?void 0:a.some(e=>!e.imageID))})(e))),_.sort(N);const x=p.a(m.a(t,e=>P(e))),A=Math.max(Math.min(x,10),3),I=o||Object(y.tc)(Object(j.Db)(e),d,f)+"/pods",F=l||E("console-shared~No Pods found for this resource."),L=D?a.createElement(r.a,{isInline:!0,variant:"info",title:E("public~Waiting for the build"),actionLinks:a.createElement(i.a,{onClick:()=>O(!R),"data-test":"waiting-pods"},E(R?"console-shared~Hide waiting pods with errors":"console-shared~Show waiting pods with errors"))},E('console-shared~Waiting for the first build to run successfully. You may temporarily see "ImagePullBackOff" and "ErrImagePull" errors while waiting.')):null;return a.createElement(a.Fragment,null,a.createElement(y.ub,{text:E("public~Pods")},p.a(t)>A&&a.createElement(v.Link,{className:"sidebar__section-view-all",to:I},E("console-shared~View all {{podSize}}",{podSize:p.a(t)}))),(null==c?void 0:c.loaded)&&!(null==c?void 0:c.loadError)&&L,h.a(_)?a.createElement("span",{className:"text-muted"},n||s?F:a.createElement(y.S,null)):a.createElement(C,{pods:b.a(_,A)}))};T.displayName="PodsOverviewContent"},5946:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(0),r=n(19),i=n(1196),s=n(7),o=n(14),l=n(13),c=n(974),u=n(1942),d=n(5),p=n(158),m=n(10),h=n(8),b=n(415),g=n(15);const v=({build:e})=>{var t,n;const{t:r}=Object(s.useTranslation)();switch(e.status.phase){case b.a.Cancelled:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," was cancelled");case b.a.Complete:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," was complete");case b.a.Error:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," encountered an error");case b.a.Failed:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," failed");case b.a.New:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is new");case b.a.Pending:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is pending");case b.a.Running:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is running");default:return a.createElement(s.Trans,{t:r,ns:"topology"},"Build ",a.createElement(c.BuildNumberLink,{build:e})," is ",null===(n=null===(t=e.status)||void 0===t?void 0:t.phase)||void 0===n?void 0:n.toLowerCase())}},f=({build:e})=>{const{status:{logSnippet:t,message:n,phase:r}}=e;return[b.a.Error,b.a.Failed].includes(r)?a.createElement(g.ib,{message:n,logSnippet:t}):null},E=({build:e})=>{const{metadata:{creationTimestamp:t},status:{completionTimestamp:n,startTimestamp:r,phase:s}}=e,o=n||r||t;return a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",{className:"build-overview__status co-icon-and-text"},a.createElement("div",{className:"co-icon-and-text__icon co-icon-flex-child"},"Running"===s?a.createElement(l.A,{icon:a.createElement(i.a,null),title:s,spin:!0,iconOnly:!0}):a.createElement(g.cc,{status:s,iconOnly:!0})),a.createElement("div",null,a.createElement(v,{build:e}),o&&a.createElement(a.Fragment,null," ",a.createElement("span",{className:"build-overview__item-time text-muted"},"(",Object(p.e)(o),")")))),a.createElement("div",null,a.createElement(c.BuildLogLink,{build:e}))),a.createElement(f,{build:e}))},y=({buildConfig:e})=>{const{metadata:{name:t,namespace:n},builds:i}=e,{t:l}=Object(s.useTranslation)(),c=Object(d.Dc)({group:m.BuildConfigModel.apiGroup,resource:m.BuildConfigModel.plural,subresource:"instantiate",name:t,namespace:n,verb:"create"});return a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item build-overview__item"},a.createElement("div",{className:"build-overview__item-title"},a.createElement("div",null,a.createElement(d.hb,{inline:!0,kind:"BuildConfig",name:t,namespace:n})),i.length>3&&a.createElement("div",null,a.createElement(o.Link,{className:"sidebar__section-view-all",to:Object(d.tc)(Object(h.Db)(e),t,n)+"/builds"},l("topology~View all {{buildsLength}}",{buildsLength:i.length}))),c&&a.createElement("div",null,a.createElement(r.a,{variant:"secondary",onClick:()=>{Object(b.d)(e).catch(e=>{const t=e.message;Object(u.errorModal)({error:t})})},"data-test-id":"start-build-action"},l("topology~Start Build"))))),(null==i?void 0:i.length)>0?i.slice(0,3).map(e=>a.createElement(E,{key:e.metadata.uid,build:e})):a.createElement("li",{className:"list-group-item"},a.createElement("span",{className:"text-muted"},l("topology~No Builds found for this Build Config."))))},k=({buildConfigs:e})=>{const{t:t}=Object(s.useTranslation)();return(null==e?void 0:e.length)>0?a.createElement("div",{className:"build-overview"},a.createElement(d.ub,{text:t("topology~Builds")}),e.map(e=>a.createElement(y,{key:e.metadata.uid,buildConfig:e}))):null}},5947:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),r=n(5794),i=n(7),s=n(2222),o=n(5),l=n(15);const c=({service:e})=>{var t,n;const s=null!==(n=null===(t=e.spec)||void 0===t?void 0:t.ports)&&void 0!==n?n:[],{t:o}=Object(i.useTranslation)();return a.createElement("ul",{className:"port-list"},s.map(({name:e,port:t,protocol:n,targetPort:i})=>a.createElement("li",{key:e||`${n}/${t}`},a.createElement("span",{className:"text-muted"},o("topology~Service port:"))," ",e||`${n}/${t}`," ",a.createElement(r.a,null)," ",a.createElement("span",{className:"text-muted"},o("topology~Pod port:"))," ",i)))},u=({service:e})=>{const{name:t,namespace:n}=e.metadata;return a.createElement("li",{className:"list-group-item"},a.createElement(o.hb,{kind:"Service",name:t,namespace:n}),a.createElement(c,{service:e}))},d=({services:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,service:e}))),p=({route:e})=>{const{name:t,namespace:n}=e.metadata,{t:r}=Object(i.useTranslation)();return a.createElement("li",{className:"list-group-item"},a.createElement(o.hb,{kind:"Route",name:t,namespace:n}),a.createElement("span",{className:"text-muted"},r("topology~Location:")),a.createElement(s.b,{obj:e}))},m=({routes:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(p,{key:e.metadata.uid,route:e}))),h=({obj:e})=>{const{t:t}=Object(i.useTranslation)(),n=Object(l.af)(e),r=n.loaded&&!n.loadError?n.services:[],s=Object(l.Ye)(e),c=s.loaded&&!s.loadError?s.routes:[];return a.createElement(a.Fragment,null,a.createElement(o.ub,{text:t("topology~Services")}),(null==r?void 0:r.length)>0?a.createElement(d,{services:r}):a.createElement("span",{className:"text-muted"},t("topology~No Services found for this resource.")),a.createElement(o.ub,{text:t("topology~Routes")}),(null==c?void 0:c.length)>0?a.createElement(m,{routes:c}):a.createElement("span",{className:"text-muted"},t("topology~No Routes found for this resource.")))}},5948:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),r=n(270),i=n(7),s=n(14),o=n(5),l=n(8),c=n(15);const u=({job:e})=>{const{metadata:{name:t,namespace:n}}=e,i=Object(o.tc)(Object(l.Db)(e),t,n)+"/pods",{podData:u,loaded:d,loadError:p}=Object(c.Se)(e,"Job",n);return d&&!p?a.createElement("li",{className:"list-group-item container-fluid"},a.createElement("div",{className:"job-overview__item"},a.createElement(o.hb,{kind:"Job",name:t,namespace:n}),a.createElement(s.Link,{to:i,className:"overview__pod-donut-sm"},a.createElement(c.Bb,{standalone:!0,data:u.pods,size:25,innerRadius:8,outerRadius:12,title:""+u.pods.length,titleComponent:a.createElement(r.a,{style:{fontSize:"10px"}}),showTooltip:!1})))):null};u.displayName="JobOverviewItem";const d=({jobs:e})=>a.createElement("ul",{className:"list-group"},null==e?void 0:e.map(e=>a.createElement(u,{key:e.metadata.uid,job:e})));d.displayName="JobsOverviewList";const p=({jobs:e,obj:t,allJobsLink:n,emptyText:r})=>{const{metadata:{name:c,namespace:u}}=t,{t:p}=Object(i.useTranslation)(),m=n||Object(o.tc)(Object(l.Db)(t),c,u)+"/jobs",h=r||p("topology~No Jobs found for this resource.");return a.createElement(a.Fragment,null,a.createElement(o.ub,{text:"Jobs"},(null==e?void 0:e.length)>3&&a.createElement(s.Link,{className:"sidebar__section-view-all",to:m},p("topology~View all ({{jobCount}})",{jobCount:e.length}))),(null==e?void 0:e.length)>0?a.createElement(d,{jobs:e.slice(0,3)}):a.createElement("span",{className:"text-muted"},h))}}}]);
//# sourceMappingURL=workload-chunk-cf2a2a85d517cf7cd426.min.js.map