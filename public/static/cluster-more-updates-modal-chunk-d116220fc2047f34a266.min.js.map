{"version":3,"sources":["webpack:///./public/components/modals/cluster-more-updates-modal.tsx"],"names":["ClusterMoreUpdatesModal","cancel","cv","moreAvailableUpdates","slice","reverse","releaseNotes","clusterUpgradeableFalseAndNotExternallyManaged","t","className","onCancel","map","update","key","version","inProgress","type","variant","onClick","clusterMoreUpdatesModal"],"mappings":"6FAAA,mMA2BO,MAAMA,EAAkE,EAAGC,SAAQC,SACxF,MACMC,EADmB,YAA0BD,GACLE,MAAM,GAAGC,UACjDC,EAAe,eACfC,IACF,YAA6BL,KAAQ,gBACnC,EAAEM,GAAM,2BAEd,OACE,uBAAKC,UAAU,gBAAe,YAAW,sBACvC,gBAAC,IAAU,KAAED,EAAE,iCACf,gBAAC,IAAS,KACPD,GACC,gBAAC,6BAA0B,CAACL,GAAIA,EAAIQ,SAAUT,IAEhD,yBAAOQ,UAAU,+CACf,yBAAOA,UAAU,wBACf,sBAAIA,UAAU,qBACZ,sBAAIA,UAAU,qBAAqBD,EAAE,mBACpCF,GAAgB,sBAAIG,UAAU,qBAAqBD,EAAE,2BAG1D,yBAAOC,UAAU,wBACdN,EAAqBQ,IAAKC,GAEvB,sBAAIH,UAAU,oBAAoBI,IAAKD,EAAOE,SAC5C,sBAAIL,UAAU,qBACXG,EAAOE,QACPP,GACC,aAAoB,YAAuBL,GAAKU,EAAOE,UACrD,gBAAC,qBAAkB,OAGxBR,GACC,sBAAIG,UAAU,qBACX,YAAoBG,EAAOE,SAC1B,gBAAC,KAAgB,CAACA,QAASF,EAAOE,UAChC,UAWpB,gBAAC,IAAW,CAACC,YAAY,GACvB,gBAAC,IAAW,CAACN,UAAU,gFACrB,gBAAC,IAAM,CACLO,KAAK,SACLC,QAAQ,UACRC,QAASjB,EAAM,YACL,mCAETO,EAAE,cAQFW,EAA0B,YAAoBnB","file":"cluster-more-updates-modal-chunk-d116220fc2047f34a266.min.js","sourcesContent":["import * as React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ActionGroup, Button } from '@patternfly/react-core';\n\nimport { isClusterExternallyManaged } from '@console/shared';\nimport {\n  ClusterVersionKind,\n  getConditionUpgradeableFalse,\n  getLastCompletedUpdate,\n  getReleaseNotesLink,\n  getSortedAvailableUpdates,\n  isMinorVersionNewer,\n  showReleaseNotes,\n} from '../../module/k8s';\nimport {\n  ModalBody,\n  ModalComponentProps,\n  ModalFooter,\n  ModalTitle,\n  createModalLauncher,\n} from '../factory/modal';\nimport {\n  ClusterNotUpgradeableAlert,\n  UpdateBlockedLabel,\n} from '../cluster-settings/cluster-settings';\nimport { ReleaseNotesLink } from '../utils';\n\nexport const ClusterMoreUpdatesModal: React.FC<ClusterMoreUpdatesModalProps> = ({ cancel, cv }) => {\n  const availableUpdates = getSortedAvailableUpdates(cv);\n  const moreAvailableUpdates = availableUpdates.slice(1).reverse();\n  const releaseNotes = showReleaseNotes();\n  const clusterUpgradeableFalseAndNotExternallyManaged =\n    !!getConditionUpgradeableFalse(cv) && !isClusterExternallyManaged();\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"modal-content\" data-test=\"more-updates-modal\">\n      <ModalTitle>{t('public~Other available paths')}</ModalTitle>\n      <ModalBody>\n        {clusterUpgradeableFalseAndNotExternallyManaged && (\n          <ClusterNotUpgradeableAlert cv={cv} onCancel={cancel} />\n        )}\n        <table className=\"pf-v5-c-table pf-m-compact pf-m-border-rows\">\n          <thead className=\"pf-v5-c-table__thead\">\n            <tr className=\"pf-v5-c-table__tr\">\n              <th className=\"pf-v5-c-table__th\">{t('public~Version')}</th>\n              {releaseNotes && <th className=\"pf-v5-c-table__th\">{t('public~Release notes')}</th>}\n            </tr>\n          </thead>\n          <tbody className=\"pf-v5-c-table__tbody\">\n            {moreAvailableUpdates.map((update) => {\n              return (\n                <tr className=\"pf-v5-c-table__tr\" key={update.version}>\n                  <td className=\"pf-v5-c-table__td\">\n                    {update.version}\n                    {clusterUpgradeableFalseAndNotExternallyManaged &&\n                      isMinorVersionNewer(getLastCompletedUpdate(cv), update.version) && (\n                        <UpdateBlockedLabel />\n                      )}\n                  </td>\n                  {releaseNotes && (\n                    <td className=\"pf-v5-c-table__td\">\n                      {getReleaseNotesLink(update.version) ? (\n                        <ReleaseNotesLink version={update.version} />\n                      ) : (\n                        '-'\n                      )}\n                    </td>\n                  )}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </ModalBody>\n      <ModalFooter inProgress={false}>\n        <ActionGroup className=\"pf-v5-c-form pf-v5-c-form__actions--right pf-v5-c-form__group--no-top-margin\">\n          <Button\n            type=\"button\"\n            variant=\"primary\"\n            onClick={cancel}\n            data-test=\"more-updates-modal-close-button\"\n          >\n            {t('Close')}\n          </Button>\n        </ActionGroup>\n      </ModalFooter>\n    </div>\n  );\n};\n\nexport const clusterMoreUpdatesModal = createModalLauncher(ClusterMoreUpdatesModal);\n\nexport type ClusterMoreUpdatesModalProps = {\n  cv: ClusterVersionKind;\n} & ModalComponentProps;\n"],"sourceRoot":""}