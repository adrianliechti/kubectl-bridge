(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{4466:function(e,t,n){"use strict";n.r(t);var a=n(7964);n.d(t,"ClusterConfigurationPage",(function(){return a.a}))},5798:function(e,t,n){"use strict";var a=n(83),r=n(768),i=n(10),c=n(2236);t.a=()=>Object(r.a)({groupVersionKind:Object(a.getGroupVersionKindForModel)(i.ConsoleOperatorConfigModel),isList:!1,name:c.a})},5799:function(e,t,n){"use strict";var a=n(875),r=n(10),i=n(8),c=n(2236);t.a=e=>{const t=Object(i.Jb)(r.ConsoleOperatorConfigModel,{name:c.a});return Object(a.b)(t,"PATCH",{headers:{Accept:"application/json","Content-Type":"application/merge-patch+json;charset=UTF-8"},body:JSON.stringify(e)})}},5800:function(e,t,n){"use strict";var a=n(0),r=n(4),i=n(1953),c=n.n(i);t.a=({children:e,isHorizontal:t=!1,isWidthLimited:n=!0})=>a.createElement("div",{className:Object(r.css)(c.a.form,t&&c.a.modifiers.horizontal,n&&c.a.modifiers.limitWidth)},e)},5801:function(e,t,n){"use strict";var a=n(0),r=n(80),i=n(7);t.a=({error:e})=>{var t,n,c;const{t:o}=Object(i.useTranslation)();return e?a.createElement(r.a,{variant:"warning",isInline:!0,title:o("console-shared~Could not load configuration.")},(null===(n=null===(t=e.message)||void 0===t?void 0:t.toString)||void 0===n?void 0:n.call(t))||(null===(c=e.toString)||void 0===c?void 0:c.call(e))):null}},5802:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(80),i=n(7);const c=({status:e,error:t})=>{var n,c,o;const{t:s}=Object(i.useTranslation)();return"successful"===e?a.createElement(r.a,{variant:"success","data-test":"success-alert",isInline:!0,title:s("console-shared~Saved.")},s("console-shared~This config update requires a console rollout, this can take up to a minute and require a browser refresh.")):"error"===e?a.createElement(r.a,{variant:"danger",isInline:!0,title:s("console-shared~Could not save configuration.")},(null===(c=null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.toString)||void 0===c?void 0:c.call(n))||(null===(o=null==t?void 0:t.toString)||void 0===o?void 0:o.call(t))):null}},5803:function(e,t,n){"use strict"},5918:function(e,t,n){"use strict";var a=n(766);n.d(t,"f",(function(){return a.a}));var r=n(5798);n.d(t,"e",(function(){return r.a}));var i=n(5799);n.d(t,"d",(function(){return i.a}));var c=n(5800);n.d(t,"a",(function(){return c.a}));var o=n(5801);n.d(t,"b",(function(){return o.a}));var s=n(5802);n.d(t,"c",(function(){return s.a}));n(5803)},7964:function(e,t,n){"use strict";var a=n(0),r=n(1924),i=n(1368),c=n(1891),o=n(156),s=n(405),l=n(564),u=n(355),d=n(4326),f=n(4416),m=n(137),v=n(7),p=n(14),g=n(5),b=n(15),h=n(8778),E=n(8781),O=n(8782),j=n(8783);n(8784);t.a=()=>{const{t:e}=Object(v.useTranslation)(),t=Object(p.useParams)().group||"general",[n,w]=a.useState(t),[y,C]=Object(O.a)(),[S,k]=Object(j.a)(),A=C&&k,[R,T]=a.useMemo(()=>{const e=Object(E.a)(y,S),[t,o]=e.reduce((e,t)=>{const{id:o,label:s,items:l}=t,u=a.createRef();return e[0].push(a.createElement(r.a,{key:o,eventKey:o,title:a.createElement(i.a,null,s),href:"/cluster-configuration/"+o,tabContentId:o,tabContentRef:u,"data-test":"tab "+o})),e[1].push(a.createElement(c.a,{key:o,eventKey:o,id:o,ref:u,"data-test":"tab-content "+o,hidden:o!==n},a.createElement(h.a,{items:l}))),e},[[],[]]);return[t,o]},[n,y,S]),F=!y.some(e=>e.id===n);return a.createElement("div",{className:"co-cluster-configuration-page"},a.createElement(m.b,null,a.createElement("title",null,e("console-app~Cluster configuration"))),a.createElement(b.zb,{title:e("console-app~Cluster configuration"),hint:e("console-app~Set cluster-wide configuration for the console experience. Your changes will be autosaved and will affect after a refresh.")},A?0===R.length?a.createElement(o.a,null,a.createElement(s.a,{titleText:a.createElement(a.Fragment,null,e("console-app~Insufficient permissions")),icon:a.createElement(l.a,{icon:f.a}),headingLevel:"h1"}),a.createElement(u.a,null,e("console-app~You do not have sufficient permissions to read any cluster configuration."))):a.createElement(a.Fragment,null,a.createElement("div",{className:"co-cluster-configuration-page-content"},a.createElement("div",{className:"co-cluster-configuration-page-content__tabs"},a.createElement(d.a,{activeKey:n,onSelect:(e,t)=>{if(Object(b.Sd)(e))return;e.preventDefault(),w(t);const n="/cluster-configuration/"+t;g.Vb.replace(n)},isVertical:!0,"data-test":"user-preferences tabs"},a.createElement(a.Fragment,null,R))),a.createElement("div",{className:"co-cluster-configuration-page-content__tab-content"},T)),F?a.createElement("section",{className:"co-cluster-configuration-page pf-v5-c-tab-content"},a.createElement("h1",null,e("console-app~{{section}} not found",{section:n}))):null):a.createElement(g.S,null)))}},8778:function(e,t,n){"use strict";var a=n(0),r=n(1922),i=n(8779);t.a=({items:e})=>(null==e?void 0:e.length)>0?a.createElement(r.a,{onSubmit:e=>e.preventDefault()},e.map(e=>a.createElement(i.a,{key:e.id,item:e}))):null},8779:function(e,t,n){"use strict";var a=n(0),r=n(13),i=n(8780);const c={[r.f.custom]:i.a};t.a=({item:e})=>{const t=c[e.field.type];return t?a.createElement(t,{item:e,field:e.field}):null}},8780:function(e,t,n){"use strict";var a=n(0),r=n(5918),i=n(198);t.a=({item:e,field:t})=>{const n=t.component;return a.createElement(i.c,null,a.createElement(r.a,null,a.createElement(n,Object.assign({},t.props,{readonly:e.readonly}))))}},8781:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(!(null==t?void 0:t.length)||!(null==e?void 0:e.length))return[];const n=e.map(e=>Object.assign(Object.assign({},e),{items:[]}));return t.filter(t=>e.find(e=>e.id===t.groupId)).reduce((e,t)=>{const n=e.find(e=>t.groupId===e.id);return n?n.items.push(t):e.push({id:t.id,label:t.label,items:[t]}),e},n).filter(e=>e.items.length)}},8782:function(e,t,n){"use strict";var a=n(0),r=n(13),i=n(15);t.a=()=>{const[e,t,n]=Object(r.kc)(r.U);return[a.useMemo(()=>Object(i.me)(e.map(e=>e.properties)),[e]),t,n]}},8783:function(e,t,n){"use strict";var a=n(0),r=n(13),i=n(15);t.a=()=>{const[e,t,n]=Object(r.kc)(r.V),c=a.useMemo(()=>Object(i.me)(e.map(e=>e.properties)),[e]),[o,s]=a.useState({}),[l,u]=a.useState({});a.useEffect(()=>{c.forEach(e=>{var t,n;(null===(t=e.readAccessReview)||void 0===t?void 0:t.length)>0&&Promise.all(e.readAccessReview.map(e=>Object(r.F)(e))).then(t=>{const n=t.every(e=>e.status.allowed);s(t=>Object.assign(Object.assign({},t),{[e.id]:n}))}).catch(t=>{console.warn(`readAccessReview check failed for "${e.id}"`,t)}),(null===(n=e.writeAccessReview)||void 0===n?void 0:n.length)>0&&Promise.all(e.writeAccessReview.map(e=>Object(r.F)(e))).then(t=>{const n=t.every(e=>e.status.allowed);u(t=>Object.assign(Object.assign({},t),{[e.id]:n}))}).catch(t=>{console.warn(`writeAccessReview check failed for "${e.id}"`,t)})})},[c]);return[a.useMemo(()=>c.filter(e=>{var t;return!((null===(t=e.readAccessReview)||void 0===t?void 0:t.length)>0)||o[e.id]}).map(e=>{var t;return Object.assign(Object.assign({},e),{readonly:(null===(t=e.writeAccessReview)||void 0===t?void 0:t.length)>0&&!l[e.id]})}),[c,o,l]),t,n]}},8784:function(e,t,n){}}]);
//# sourceMappingURL=clusterConfiguration-chunk-4c96e1e88ede61c88fab.min.js.map