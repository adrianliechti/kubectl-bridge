(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{11729:function(e,n,t){"use strict";var r=t(0),a=t(55),i=t(7),s=t(8),o=t(1412),l=t(5845),c=t(11730);n.a=({source:e,resourceType:n,cancel:t,close:u})=>{var d,v,m;const{t:b}=Object(i.useTranslation)(),{metadata:{namespace:p,name:f},spec:g}=e,O=!!(null===(d=null==g?void 0:g.subscriber)||void 0===d?void 0:d.ref),{name:j="",apiVersion:k="",kind:y=""}=O?null===(v=null==g?void 0:g.subscriber)||void 0===v?void 0:v.ref:{},h={ref:{apiVersion:k,kind:y,name:Object(l.a)(j,null===(m=null==g?void 0:g.subscriber)||void 0===m?void 0:m.ref)}};return r.createElement(a.b,{initialValues:h,onSubmit:(n,t)=>{var r;const a=Object(l.c)(Object.assign(Object.assign({},e),j!==(null===(r=null==n?void 0:n.ref)||void 0===r?void 0:r.name)&&{spec:Object.assign(Object.assign({},e.spec),{subscriber:Object.assign({},n)})}));return Object(s.rb)(Object(s.vb)(Object(s.Db)(e)),a).then(()=>{t.setStatus({error:""}),u()}).catch(e=>{const n=e.message||b("knative-plugin~An error occurred. Please try again");t.setStatus({error:n})})},onReset:t,initialStatus:{error:""}},e=>r.createElement(c.a,Object.assign({},e,{resourceName:f,resourceDropdown:Object(o.i)(p),labelTitle:b("knative-plugin~Move {{kind}}",{kind:n}),cancel:t})))}},11730:function(e,n,t){"use strict";var r=t(0),a=t(230),i=t(7),s=t(5618),o=t(118),l=t(15),c=t(5845);n.a=({resourceName:e,resourceDropdown:n,labelTitle:t,handleSubmit:u,cancel:d,isSubmitting:v,status:m,setFieldValue:b,setFieldTouched:p,validateForm:f,values:g,initialValues:O})=>{var j,k;const{t:y}=Object(i.useTranslation)(),h=r.useCallback((e,n)=>{var t;const r=null===(t=null==n?void 0:n.props)||void 0===t?void 0:t.model;if(e){if(p("ref.name",!0),b("ref.name",e),r){const{apiGroup:e="core",apiVersion:n,kind:t}=r;b("ref.apiVersion",`${e}/${n}`),p("ref.apiVersion",!0),b("ref.kind",t),p("ref.kind",!0)}f()}},[b,p,f]),E=(null===(j=null==g?void 0:g.ref)||void 0===j?void 0:j.name)!==O.ref.name;return r.createElement("form",{className:"modal-content",onSubmit:u},r.createElement(o.d,null,t),r.createElement(o.a,null,r.createElement("p",null,r.createElement(i.Trans,{t:y,ns:"knative-plugin",i18nKey:"Connects <strong>{{resourceName}}</strong> to"},"Connects ",r.createElement("strong",null,{resourceName:e})," to")),r.createElement(s.a,{fullWidth:!0},r.createElement(l.Ob,{name:"ref.name",resources:n,dataSelector:["metadata","name"],fullWidth:!0,required:!0,placeholder:y("knative-plugin~Select a sink"),showBadge:!0,autocompleteFilter:(e,n)=>{var t;return a(e,null===(t=null==n?void 0:n.props)||void 0===t?void 0:t.name)},customResourceKey:c.a,onChange:h,autoSelect:!0,selectedKey:null===(k=null==g?void 0:g.ref)||void 0===k?void 0:k.name}))),r.createElement(o.c,{inProgress:v,submitText:y("knative-plugin~Save"),cancelText:y("knative-plugin~Cancel"),submitDisabled:!E,cancel:d,errorMessage:m.error}))}},5498:function(e,n,t){"use strict";t.r(n),t.d(n,"sinkPubsubModalLauncher",(function(){return l}));var r=t(0),a=t(40),i=t(11729),s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const o=e=>{var{source:n}=e,t=s(e,["source"]);return r.createElement(i.a,Object.assign({},t,{source:n}))},l=Object(a.m)(o);n.default=o},5618:function(e,n,t){"use strict";var r=t(0),a=t(297),i=t(18),s=t.n(i);t(5732);const o={display:"flex",flex:1,flexDirection:"column",margin:"var(--pf-v5-global--spacer--md) 0"};n.a=({title:e,subTitle:n,fullWidth:t,children:i,flexLayout:l,extraMargin:c,dataTest:u,style:d})=>r.createElement("div",{className:s()("pf-v5-c-form",{"co-m-pane__form":!t,"odc-form-section--extra-margin":c}),style:Object.assign(Object.assign({},l?o:{}),d||{}),"data-test":u},e&&r.createElement("h2",{className:"odc-form-section__heading"},e),n&&r.createElement(a.a,null,n),i)},5732:function(e,n,t){},5845:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return o}));var r=t(8);const a=e=>{var n;return null!==(n={"serving.knative.dev":1,"messaging.knative.dev":2,"eventing.knative.dev":3}[(e=>e.split("/")[0])(e)])&&void 0!==n?n:4},i=(e,n)=>{if(!(null==n?void 0:n.apiVersion))return;const{apiVersion:t}=n;return e?[a(t),Object(r.Db)(n),e].join("#"):void 0},s=e=>{var n;return null!==(n=null==e?void 0:e.split("#").pop())&&void 0!==n?n:""},o=e=>{const n=Object.assign({},e);return n.spec.subscriber.ref.name=s(e.spec.subscriber.ref.name),n}}}]);
//# sourceMappingURL=sink-pubsub-chunk-f90b1a61849fe2187034.min.js.map