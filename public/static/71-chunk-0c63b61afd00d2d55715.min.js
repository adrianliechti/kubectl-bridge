(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{4407:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(2246),a=o(6411),i=o(1205),l=o(6678),s=o(6863);o(6227),o(7543);const c=n.forwardRef((e,t)=>{const{value:o,options:c=s.a,showShortcuts:u,showMiniMap:d,toolbarLinks:m,minHeight:f,onChange:g,onSave:p,language:v}=e,h=n.useContext(i.a),[b]=n.useState(void 0!==o),k=n.useCallback((e,t)=>{var o,n;const r=null===(o=e.getModel())||void 0===o?void 0:o.getModeId();switch(e.layout(),e.focus(),r){case"yaml":Object(s.c)(e,t,b);break;case"json":e.getAction("editor.action.formatDocument").run()}null===(n=t.editor.getModels()[0])||void 0===n||n.updateOptions({tabSize:2}),p&&e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KEY_S,p)},[p,b]),y=n.useMemo(()=>Object.assign(Object.assign({},c),{minimap:{enabled:d}}),[c,d]);return n.createElement(n.Fragment,null,n.createElement(l.a,{showShortcuts:u,toolbarLinks:m}),n.createElement(r.a,{bounds:!0},({measureRef:e,contentRect:r})=>n.createElement("div",{ref:e,className:"ocs-yaml-editor__root",style:{minHeight:f}},n.createElement("div",{className:"ocs-yaml-editor__wrapper"},n.createElement(a.a,{ref:t,language:null!=v?v:"yaml",theme:"light"===h?"console-light":"console-dark",height:r.bounds.height,width:r.bounds.width,value:o,options:y,editorDidMount:k,onChange:g})))))});t.default=c},5684:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(0),r=o(8),a=function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))};const i=(e,t,o,i)=>{const[l,s]=n.useState(),[c,u]=n.useState(!1),[d,m]=n.useState();return n.useEffect(()=>{a(void 0,void 0,void 0,(function*(){try{m(null),u(!1),s(null);const n=yield Object(r.kb)(e,t,o,i);s(n)}catch(e){m(e)}finally{u(!0)}}))},[e,t,o,i]),[l,c,d]}},6227:function(e,t,o){"use strict";var n=o(6584),r=o(6582),a=o(6581),i=o(6579),l=o(6580),s=o(6583);window.monaco.editor.defineTheme("console-light",{base:"vs",inherit:!0,colors:{"editor.background":i.global_BackgroundColor_light_100.value,"editorGutter.background":"#f5f5f5","editorLineNumber.activeForeground":l.global_Color_dark_100.value,"editorLineNumber.foreground":a.global_BackgroundColor_dark_200.value},rules:[{token:"number",foreground:"486b00"},{token:"type",foreground:"795600"},{token:"string",foreground:"004080"},{token:"keyword",foreground:"40199a"}]}),window.monaco.editor.defineTheme("console-dark",{base:"vs-dark",inherit:!0,colors:{"editor.background":r.global_BackgroundColor_dark_100.value,"editorGutter.background":"#292e34","editorLineNumber.activeForeground":s.global_Color_light_100.value,"editorLineNumber.foreground":n.global_BackgroundColor_200.value},rules:[{token:"number",foreground:"ace12e"},{token:"type",foreground:"73bcf7"},{token:"string",foreground:"f0ab00"},{token:"keyword",foreground:"cbc1ff"}]})},6437:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),function(e){e.OpenOLS="openOLS",e.CloseOLS="closeOLS"}(n||(n={}));const r=({plugins:e})=>{var t;return null===(t=null==e?void 0:e.ols)||void 0===t?void 0:t.get("codeBlock")}},6678:function(e,t,o){"use strict";var n=o(0),r=o(19),a=o(155),i=o(11423),l=o(7),s=o(31),c=o(42),u=o(6437),d=o(6679),m=o(2259),f=o(6680);o(6681);t.a=({showShortcuts:e,toolbarLinks:t})=>{const{t:o}=Object(l.useTranslation)(),g=Object(d.a)(),p=Object(s.useDispatch)();return e||(null==t?void 0:t.length)?n.createElement("div",{className:"co-toolbar__group co-toolbar__group--right"},n.createElement("div",{className:"ocs-yaml-editor-toolbar pf-v5-u-pb-sm pf-v5-l-flex"},g&&n.createElement("div",{className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},n.createElement(r.a,{variant:"secondary",size:"sm",onClick:()=>{p(Object(c.action)(u.a.OpenOLS))},icon:n.createElement(i.a,null)},o("console-shared~Ask OpenShift Lightspeed")),n.createElement(a.a,{orientation:{default:"vertical"}})),n.createElement("div",{className:"ocs-yaml-editor-toolbar__link"},n.createElement("div",null,n.createElement("span",{className:"ocs-yaml-editor-shortcut__command"},n.createElement(m.a,null,m.c?"âŒ¥ Opt":"Alt"),n.createElement(m.a,null,"F1")),n.createElement("span",{className:"ocs-yaml-editor-shortcut__text"},o("console-shared~Accessibility help")))),e&&n.createElement("div",{className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},n.createElement(a.a,{orientation:{default:"vertical"}}),n.createElement(f.a,null)),t&&t.map((t,o)=>n.createElement("div",{key:""+o,className:"ocs-yaml-editor-toolbar__link pf-v5-l-flex"},(e||o>0)&&t?n.createElement(a.a,{orientation:{default:"vertical"}}):null,n.createElement("div",{className:"ocs-yaml-editor-toolbar__link"},t))))):null}},6679:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(5684);const r={apiGroup:"ols.openshift.io",apiVersion:"v1alpha1",label:"OLSConfig",labelKey:"console-shared~OLSConfig",labelPluralKey:"console-shared~OLSConfigs",plural:"olsconfigs",abbr:"OLSC",namespaced:!1,kind:"OLSConfig",id:"olsconfig",labelPlural:"OLSConfigs",crd:!0},a=()=>{const[,e,t]=Object(n.a)(r,"cluster");return e&&!t}},6680:function(e,t,o){"use strict";var n=o(0),r=o(353),a=o(19),i=o(979),l=o(7),s=o(2281),c=o(2259);t.a=({onHideShortcuts:e})=>{const{t:t}=Object(l.useTranslation)();return n.createElement(r.a,{"aria-label":t("console-shared~Shortcuts"),bodyContent:n.createElement(s.b,null,n.createElement(s.a,{alt:!0,keyName:"F1"},t("console-shared~Accessibility help")),n.createElement(s.a,{keyName:"F1"},t("console-shared~View all editor shortcuts")),n.createElement(s.a,{ctrl:!0,keyName:"space"},t("console-shared~Activate auto complete")),n.createElement(s.a,{ctrl:!0,shift:c.c,keyName:"m"},t("console-shared~Toggle Tab action between insert Tab character and move focus out of editor")),n.createElement(s.a,{ctrlCmd:!0,shift:!0,keyName:"o"},t("console-shared~View document outline")),n.createElement(s.a,{hover:!0},t("console-shared~View property descriptions")),n.createElement(s.a,{ctrlCmd:!0,keyName:"s"},t("console-shared~Save"))),maxWidth:"25rem",distance:18,onHide:e},n.createElement(a.a,{type:"button",variant:"link",isInline:!0},n.createElement(i.a,{className:"co-icon-space-r co-p-has-sidebar__sidebar-link-icon"}),t("console-shared~View shortcuts")))}},6681:function(e,t,o){},6863:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return f})),o.d(t,"c",(function(){return p}));var n=o(6700),r=o(6864),a=o(8360),i=o(8363),l=o(8365),s=o(7542),c=o(2277);const u={readOnly:!1,scrollBeyondLastLine:!1},d=r.Uri.parse("inmemory://model.yaml"),m=e=>l.TextDocument.create("inmemory://model.yaml",null==e?void 0:e.getModeId(),null==e?void 0:e.getVersionId(),null==e?void 0:e.getValue()),f=(e,t,o)=>{const n=(e=>{const t=m(e),o=i.safeLoad(t.getText()),n=(null==o?void 0:o.mappings)||[];for(const e of n){const o=e.key,n=e.value;if("metadata"===o.value){const e=n.mappings||[];for(const o of e){if("managedFields"===o.key.value){return{start:t.positionAt(o.startPosition).line+1,end:t.positionAt(o.endPosition).line}}}}}return{start:-1,end:-1}})(t),{start:a}=n,{end:l}=n;if(a>=0&&l>=0){const t=e.getScrollTop();e.setSelection(new r.Range(a,0,l,0)),e.getAction("editor.fold").run().then(()=>{o&&e.setSelection(new r.Range(0,0,0,0)),e.setScrollTop(Math.abs(t))}).catch(()=>{})}},g=(e,t,o,n,r,a=!1)=>{var i;const l=new Map,s=()=>{var e;return null===(e=t.editor)||void 0===e?void 0:e.getModels()[0]},c=e=>{0!==e.getText().length?r.doValidation(e,!0).then(e=>{const n=o.asDiagnostics(e);t.editor.setModelMarkers(s(),"default",n)}).catch(()=>{}):t.editor.setModelMarkers(t.editor.getModel(n),"default",[])};let u=!1;const d=()=>{const t=m(s());u||""===t.getText()||(setTimeout(()=>f(e,s(),!0)),u=!0)};a&&d(),null===(i=s())||void 0===i||i.onDidChangeContent(()=>{d();const e=m(s());(e=>{const t=l.get(e.uri);void 0!==t&&(clearTimeout(t),l.delete(e.uri))})(e),l.set(e.uri,setTimeout(()=>{l.delete(e.uri),c(e)}))})},p=(e,t,o=!1)=>{const r=new a.MonacoToProtocolConverter,i=new a.ProtocolToMonacoConverter,u=(()=>{const e={resolveRelativePath:(e,t)=>n.resolve(t,e)},t=Object(l.getLanguageService)(e=>new Promise((t,o)=>{const n=new XMLHttpRequest;n.onload=()=>t(n.responseText),n.onerror=()=>o(n.statusText),n.open("GET",e,!0),n.send()}),e),o=Object(c.f)(),r=[{uri:"inmemory:yaml",fileMatch:["*"],schema:Object(s.a)(o)}];return t.configure({validate:!0,schemas:r,hover:!0,completion:!0}),t})();g(e,t,i,d,u,o),t.languages.getLanguages().filter(e=>"yaml"===e.id).length>1||((e=>{e.languages.register({id:"yaml",extensions:[".yml",".yaml"],aliases:["YAML","yaml"],mimetypes:["application/yaml"]})})(t),((e,t,o,n,r)=>{t.languages.registerCompletionItemProvider(e,{provideCompletionItems(e,t){const a=m(e);return r.doComplete(a,o.asPosition(t.lineNumber,t.column),!0).then(e=>n.asCompletionResult(e))}})})("yaml",t,r,i,u),((e,t,o,n)=>{t.languages.registerDocumentSymbolProvider(e,{provideDocumentSymbols(e){const t=m(e);return o.asSymbolInformations(n.findDocumentSymbols(t))}})})("yaml",t,i,u),((e,t,o,n,r)=>{t.languages.registerHoverProvider(e,{provideHover(e,t){const a=m(e);return r.doHover(a,o.asPosition(t.lineNumber,t.column),!0).then(e=>n.asHover(e)).then(e=>{for(const e of document.getElementsByClassName("monaco-editor-hover"))e.onclick=e=>e.preventDefault(),e.onauxclick=e=>{window.open(e.target.getAttribute("data-href"),"_blank").opener=null,e.preventDefault()};return e})}})})("yaml",t,r,i,u))}},7542:function(e,t,o){"use strict";function n(e){const t=[],o=[];for(const n of e)n.group&&n.version?t.push(`${n.group}/${n.version}`):n.version&&t.push(n.version),n.kind&&o.push(n.kind);return{versionEnum:t,kindEnum:o}}function r(e,t){e.apiVersion?e.apiVersion.enum?e.apiVersion.enum.push(...t):e.apiVersion.enum=t:e.apiVersion={enum:t}}function a(e,t){e.kind?e.kind.enum?e.kind.enum.push(...t):e.kind.enum=t:e.kind={enum:t}}function i(e){if(!e)return null;const t=function(e){for(const t in e)if(e.hasOwnProperty(t)){const o=e[t],i=o["x-kubernetes-group-version-kind"];if(i&&o.properties){const e=n(i);r(o.properties,e.versionEnum),a(o.properties,e.kindEnum)}}return e}(e),o=[],i={};for(const e in t)t.hasOwnProperty(e)&&(i[e]=t[e],o.push({$ref:"#/definitions/"+e}));return{definitions:Object.assign({},i),oneOf:o}}o.d(t,"a",(function(){return i}))},7543:function(e,t,o){}}]);
//# sourceMappingURL=71-chunk-0c63b61afd00d2d55715.min.js.map