(window.webpackJsonp=window.webpackJsonp||[]).push([[257],{5484:function(e,t,n){"use strict";n.r(t),n.d(t,"RemoveVolumeModal",(function(){return s})),n.d(t,"removeVolumeModal",(function(){return u}));var a=n(16),o=n(0),l=n(7),c=n(40),m=n(8),r=n(15);const s=e=>{const[t,n]=o.useState(!1),[s,u]=o.useState(""),{t:p}=Object(l.useTranslation)(),{kind:i,resource:v,volume:b}=e,d=a.a(Object(m.bb)(b.volumeDetail),"id",""),h=b.name,E=i.label,f=v.metadata.name;return o.createElement("form",{onSubmit:t=>{t.preventDefault(),u(""),n(!0);const{kind:o,resource:l,volume:c}=e;Object(m.pb)(o,l,((e,t)=>{const n=a.a(e,"spec.template.spec.containers",[]),o=[];let l=!0;if(n.forEach((e,n)=>{a.a(e,"volumeMounts",[]).forEach((a,c)=>{a.name===t.name&&(a.mountPath===t.mountPath&&e.name===t.container?o.push({op:"remove",path:`/spec/template/spec/containers/${n}/volumeMounts/${c}`}):l=!1)})}),l){const n=a.a(e,"spec.template.spec.volumes",[]).findIndex(e=>e.name===t.name);n>-1&&o.push({op:"remove",path:"/spec/template/spec/volumes/"+n})}return o})(l,c)).then(()=>{n(!1),e.close()}).catch(({message:e})=>{u(e),n(!1)})},className:"modal-content"},o.createElement(c.h,null,o.createElement(r.tc,{className:"co-icon-space-r"})," ",p("public~Remove volume?")),o.createElement(c.e,{className:"modal-body"},o.createElement("div",null,o.createElement(l.Trans,{t:p,ns:"public"},"Are you sure you want to remove volume"," ",o.createElement("strong",{className:"co-break-word"},{volumeName:h})," from"," ",o.createElement("strong",null,{label:E}),": ",o.createElement("strong",null,{resourceName:f}),"?")),d&&o.createElement("div",null,o.createElement("label",{className:"control-label"},p("public~Note: This will not remove the underlying {{type}}.",{type:d})))),o.createElement(c.g,{errorMessage:s,inProgress:t,submitDanger:!0,submitText:p("public~Remove volume"),cancel:e.cancel}))},u=Object(c.m)(s)}}]);
//# sourceMappingURL=remove-volume-modal-chunk-82ce0d3d35cc119aa902.min.js.map